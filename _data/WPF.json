{"Data":{"GitHub":{"Issues":[{"Id":"3721614981","IsPullRequest":true,"CreatedAt":"2025-12-12T02:02:58","Actor":"dotnet-maestro[bot]","Number":"11318","RawContent":null,"Title":"[release/9.0] Update dependencies from dotnet/arcade","State":"open","Body":"This pull request updates the following dependencies\n\n[marker]: <> (Begin:2bde0aa3-7165-43c9-100b-08dcbc30275f)\n## From https://github.com/dotnet/arcade\n- **Subscription**: [2bde0aa3-7165-43c9-100b-08dcbc30275f](https://maestro.dot.net/subscriptions?search=2bde0aa3-7165-43c9-100b-08dcbc30275f)\n- **Build**: [20251211.4](https://dev.azure.com/dnceng/internal/_build/results?buildId=2859268) ([294364](https://maestro.dot.net/channel/5175/github:dotnet:arcade/build/294364))\n- **Date Produced**: December 11, 2025 9:47:41 PM UTC\n- **Commit**: [e9983e548f5b9638784f3b2696eb6cb3e7366548](https://github.com/dotnet/arcade/commit/e9983e548f5b9638784f3b2696eb6cb3e7366548)\n- **Branch**: [release/9.0](https://github.com/dotnet/arcade/tree/release/9.0)\n\n[DependencyUpdate]: <> (Begin)\n\n- **Dependency Updates**:\n  - From [9.0.0-beta.25609.4 to 9.0.0-beta.25611.4][1]\n     - Microsoft.DotNet.Arcade.Sdk\n     - Microsoft.DotNet.CodeAnalysis\n     - Microsoft.DotNet.GenAPI\n     - Microsoft.DotNet.Helix.Sdk\n\n[1]: https://github.com/dotnet/arcade/compare/5dba308d00...e9983e548f\n\n[DependencyUpdate]: <> (End)\n\n\n[marker]: <> (End:2bde0aa3-7165-43c9-100b-08dcbc30275f)\n\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11318)","Url":"https://github.com/dotnet/wpf/pull/11318","RelatedDescription":"Open PR \"[release/9.0] Update dependencies from dotnet/arcade\" (#11318)"},{"Id":"3721169187","IsPullRequest":false,"CreatedAt":"2025-12-11T22:24:32","Actor":"bachratyg","Number":"11317","RawContent":null,"Title":"Regression in double properties and NaN","State":"open","Body":"### Description\n\nThrow helpers introduced in https://github.com/dotnet/wpf/pull/8408 caused a behavioral regression thus some double properties no longer accept NaN as a value.\n\nThe original condition in net framework and up to net8 was `value < 0`, the new condition is `double.IsNegative(value)`. The latter now causes an `ArgumentOutOfRangeException`. See https://github.com/dotnet/runtime/issues/92834#issuecomment-1741525749 on why these are not the same.\n\n### Reproduction Steps\n\n```\n// Get an existing visual\nTextBox tb = ...\n// Prepare some other text using the same parameters\nFormattedText ft = new(...);\nft.LineHeight = tb.LineHeight;\n```\n\n### Expected behavior\n\nProperty value is accepted\n\n### Actual behavior\n\nArgumentOutOfRangeException is thrown\n\n### Regression?\n\nYes. Works in .NET Framework and up to .NET 8\n\n### Known Workarounds\n\nIn the example above it's simple to fix as NaN is eventually treated as 0 (converted to int.MinValue [here](https://github.com/dotnet/wpf/blob/b63ac07fbc7a58fde79f14a842b7816ebfb7e96d/src/Microsoft.DotNet.Wpf/src/PresentationCore/MS/internal/TextFormatting/TextFormatterImp.cs#L700) then ignored [here](https://github.com/dotnet/wpf/blob/b63ac07fbc7a58fde79f14a842b7816ebfb7e96d/src/Microsoft.DotNet.Wpf/src/PresentationCore/MS/internal/TextFormatting/TextMetrics.cs#L185)) though this does not seem intentional.\n\nOther properties may be more difficult to work around\n\n### Impact\n\n_No response_\n\n### Configuration\n\n_No response_\n\n### Other information\n\n_No response_","Url":"https://github.com/dotnet/wpf/issues/11317","RelatedDescription":"Open issue \"Regression in double properties and NaN\" (#11317)"},{"Id":"3719486139","IsPullRequest":true,"CreatedAt":"2025-12-11T14:24:27","Actor":"dipeshmsft","Number":"11316","RawContent":null,"Title":"Updating the pipelins to use VS2022 preview image","State":"closed","Body":"Fixes # <!-- Issue Number -->\r\n\r\nMain PR <!-- Link to PR if any that fixed this in the main branch. -->\r\n\r\n## Description\r\n\r\n<!-- Give a brief summary of the issue and how the pull request is fixing it. -->\r\n\r\n## Customer Impact\r\n\r\n<!-- What is the impact to customers of not taking this fix? -->\r\n\r\n## Regression\r\n\r\n<!-- Is this fixing a problem that was introduced in the most recent release, ie., fixing a regression? -->\r\n\r\n## Testing\r\n\r\n<!-- What kind of testing has been done with the fix. -->\r\n\r\n## Risk\r\n\r\n<!-- Please assess the risk of taking this fix. Provide details backing up your assessment. -->\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11316)","Url":"https://github.com/dotnet/wpf/pull/11316","RelatedDescription":"Closed or merged PR \"Updating the pipelins to use VS2022 preview image\" (#11316)"},{"Id":"3711641628","IsPullRequest":true,"CreatedAt":"2025-12-11T13:24:53","Actor":"dotnet-maestro[bot]","Number":"11310","RawContent":null,"Title":"[main] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\n\n[marker]: <> (Begin:f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\n- **Subscription**: [f8781171-8d89-4d6b-f62b-08d8e93a0c51](https://maestro.dot.net/subscriptions?search=f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n- **Build**: [20251209.7](https://dev.azure.com/dnceng/internal/_build/results?buildId=2857896) ([294113](https://maestro.dot.net/channel/8297/azdo:dnceng:internal:dotnet-wpf-int/build/294113))\n- **Date Produced**: December 10, 2025 4:41:08 AM UTC\n- **Commit**: [7b194d1da9c86db654df89ab762a07ac714a95ba](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?_a=history&version=GC7b194d1da9c86db654df89ab762a07ac714a95ba)\n- **Branch**: [refs/heads/main](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?version=GBrefs/heads/main)\n\n[DependencyUpdate]: <> (Begin)\n\n- **Dependency Updates**:\n  - From [10.0.0-rc.1.25603.4 to 10.0.0-rc.1.25609.7][2]\n     - Microsoft.DotNet.Wpf.DncEng\n\n[2]: https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int/branches?baseVersion=GCfe8feea90bc685260d2e3e80d285271f7c44794c&targetVersion=GC7b194d1da9c86db654df89ab762a07ac714a95ba&_a=files\n\n[DependencyUpdate]: <> (End)\n\n\n[marker]: <> (End:f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n\n\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11310)\n\n\n","Url":"https://github.com/dotnet/wpf/pull/11310","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#11310)"},{"Id":"3713264914","IsPullRequest":true,"CreatedAt":"2025-12-11T05:38:55","Actor":"dotnet-maestro[bot]","Number":"11314","RawContent":null,"Title":"[release/9.0] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\n\n[marker]: <> (Begin:2bde0aa3-7165-43c9-100b-08dcbc30275f)\n## From https://github.com/dotnet/arcade\n- **Subscription**: [2bde0aa3-7165-43c9-100b-08dcbc30275f](https://maestro.dot.net/subscriptions?search=2bde0aa3-7165-43c9-100b-08dcbc30275f)\n- **Build**: [20251209.4](https://dev.azure.com/dnceng/internal/_build/results?buildId=2857337) ([293996](https://maestro.dot.net/channel/5175/github:dotnet:arcade/build/293996))\n- **Date Produced**: December 9, 2025 4:46:37 PM UTC\n- **Commit**: [5dba308d00fabb7f13bb730bff7112b7ab5068c3](https://github.com/dotnet/arcade/commit/5dba308d00fabb7f13bb730bff7112b7ab5068c3)\n- **Branch**: [release/9.0](https://github.com/dotnet/arcade/tree/release/9.0)\n\n[DependencyUpdate]: <> (Begin)\n\n- **Dependency Updates**:\n  - From [9.0.0-beta.25608.5 to 9.0.0-beta.25609.4][1]\n     - Microsoft.DotNet.Arcade.Sdk\n     - Microsoft.DotNet.CodeAnalysis\n     - Microsoft.DotNet.GenAPI\n     - Microsoft.DotNet.Helix.Sdk\n\n[1]: https://github.com/dotnet/arcade/compare/92e45d2518...5dba308d00\n\n[DependencyUpdate]: <> (End)\n\n\n[marker]: <> (End:2bde0aa3-7165-43c9-100b-08dcbc30275f)\n\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11314)","Url":"https://github.com/dotnet/wpf/pull/11314","RelatedDescription":"Closed or merged PR \"[release/9.0] Update dependencies from dotnet/arcade\" (#11314)"},{"Id":"3711656056","IsPullRequest":true,"CreatedAt":"2025-12-11T05:38:10","Actor":"dotnet-maestro[bot]","Number":"11311","RawContent":null,"Title":"[release/9.0] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\n\n[marker]: <> (Begin:9b93053b-bf71-48b9-1001-08dcbc30275f)\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\n- **Subscription**: [9b93053b-bf71-48b9-1001-08dcbc30275f](https://maestro.dot.net/subscriptions?search=9b93053b-bf71-48b9-1001-08dcbc30275f)\n- **Build**: [20251209.2](https://dev.azure.com/dnceng/internal/_build/results?buildId=2857313) ([293983](https://maestro.dot.net/channel/3883/azdo:dnceng:internal:dotnet-wpf-int/build/293983))\n- **Date Produced**: December 9, 2025 4:02:15 PM UTC\n- **Commit**: [a09720a3ed15584736869432cfd10d7e62fc89a4](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?_a=history&version=GCa09720a3ed15584736869432cfd10d7e62fc89a4)\n- **Branch**: [refs/heads/release/9.0](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?version=GBrefs/heads/release/9.0)\n\n[DependencyUpdate]: <> (Begin)\n\n- **Dependency Updates**:\n  - From [9.0.0-rtm.25603.3 to 9.0.0-rtm.25609.2][1]\n     - Microsoft.DotNet.Wpf.DncEng\n\n[1]: https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int/branches?baseVersion=GC1640c51d7e3dddc1ed55872acab583e4fd0230ae&targetVersion=GCa09720a3ed15584736869432cfd10d7e62fc89a4&_a=files\n\n[DependencyUpdate]: <> (End)\n\n\n[marker]: <> (End:9b93053b-bf71-48b9-1001-08dcbc30275f)\n\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11311)","Url":"https://github.com/dotnet/wpf/pull/11311","RelatedDescription":"Closed or merged PR \"[release/9.0] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#11311)"},{"Id":"3707608827","IsPullRequest":true,"CreatedAt":"2025-12-10T18:28:55","Actor":"mmitche","Number":"11306","RawContent":null,"Title":"[release/8.0] Switch back to release tag","State":"closed","Body":"Old tags are about to be deleted\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11306)","Url":"https://github.com/dotnet/wpf/pull/11306","RelatedDescription":"Closed or merged PR \"[release/8.0] Switch back to release tag\" (#11306)"},{"Id":"3714874171","IsPullRequest":false,"CreatedAt":"2025-12-10T11:53:12","Actor":"AndreyMarten","Number":"11315","RawContent":null,"Title":"NullReferenceException on WM_THEMECHANGED if a standard control with OverridesDefaultStyle set to True","State":"open","Body":"### Description\n\nWe, at DevExpress, received a significant number of customer reports related to a NullReferenceException thrown on the WM_THEMECHANGED system message. The issue occurs when this system message is received in an application with a standard control whose OverridesDefaultStyle property is set to True. Some customers do not set this property explicitly but use other popular third-party controls that require this property to be set to True. We managed to reproduce it with our controls, but the issue looks general and theoretically can occur without DevExpress classes.\n\nOur research shows that the issue occurs due to a missing null check in the OnBindingValueInThemeStyleChanged method of the StyleHelper class:\n\nhttps://github.com/dotnet/wpf/blob/37b9597bebaf48196a05f6d6212ec1e9bc24352f/src/Microsoft.DotNet.Wpf/src/PresentationFramework/System/Windows/StyleHelper.cs#L5212\n\n<img width=\"901\" height=\"465\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/aabb79eb-de36-4e77-a62b-e2cc9e90bdd1\" />\n\nTo simulate the WM_THEMECHANGED system message, you can call the InvalidateCache method of the SystemParameters class:\n\n```cs\nvar invalidateCacheMethod = typeof(SystemParameters).GetMethod(\"InvalidateCache\",\n    BindingFlags.NonPublic | BindingFlags.Static, Type.EmptyTypes)!;\ninvalidateCacheMethod.Invoke(null, null);\n```\n\nIMPORTANT: The issue occurs ONLY in .NET. The same error does not occur in .NET Framework.\n\n### Reproduction Steps\n\n1. Run the attached project ([dxSample.zip](https://github.com/user-attachments/files/24076548/dxSample.zip)).\n2. Click the Test button.\n\nThe attached screencast illustrates these steps and the problematic behavior: \n\nhttps://github.com/user-attachments/assets/2decd8fe-e6db-4f21-9b21-24884b1ef131\n\n\n\n### Expected behavior\n\nNo NullReferenceException is thrown.\n\n### Actual behavior\n\nNullReferenceException is thrown.\n\n### Regression?\n\nYes. The issue occurs only in .NET. In .NET Framework, the same steps do not cause a NullReferenceException.\n\n\n\n### Known Workarounds\n\n_No response_\n\n### Impact\n\nPotentially, this can affect a significant number of DevExpress customers.\n\n### Configuration\n\n_No response_\n\n### Other information\n\n```callstack\nSystem.NullReferenceException: 'Object reference not set to an instance of an object.'\n\nPresentationFramework.dll!System.Windows.StyleHelper.OnBindingValueInThemeStyleChanged(object sender, MS.Internal.Data.BindingValueChangedEventArgs e) Line 2378\tC#\nPresentationFramework.dll!System.Windows.Data.BindingExpression.TransferValue(object newValue, bool isASubPropertyChange) Line 1069\tC#\nPresentationFramework.dll!MS.Internal.Data.PropertyPathWorker.UpdateSourceValueState(int k, System.ComponentModel.ICollectionView collectionView, object newValue, bool isASubPropertyChange) Line 583\tC#\nPresentationFramework.dll!MS.Internal.Data.ClrBindingWorker.OnSourcePropertyChanged(object o, string propName) Line 278\tC#\nWindowsBase.dll!System.Windows.WeakEventManager.ListenerList<System.ComponentModel.PropertyChangedEventArgs>.DeliverEvent(object sender, System.EventArgs e, System.Type managerType)\tUnknown\nWindowsBase.dll!System.Windows.WeakEventManager.DeliverEventToList(object sender, System.EventArgs args, System.Windows.WeakEventManager.ListenerList list)\tUnknown\nPresentationFramework.dll!MS.Internal.Data.StaticPropertyChangedEventManager.OnStaticPropertyChanged(MS.Internal.Data.StaticPropertyChangedEventManager.TypeRecord typeRecord, System.ComponentModel.PropertyChangedEventArgs args) Line 444\tC#\nPresentationFramework.dll!System.Windows.SystemParameters.OnPropertiesChanged(string[] propertyNames) Line 4853\tC#\nPresentationFramework.dll!System.Windows.SystemParameters.InvalidateProperty(int slot, string name) Line 4864\tC#\nPresentationFramework.dll!System.Windows.SystemParameters.InvalidateCache() Line 4886\tC#\n[Native to Managed Transition]\t\n[Managed to Native Transition]\t\nSystem.Private.CoreLib.dll!System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(object obj, System.Reflection.BindingFlags invokeAttr) Line 57\tC#\nThemeCrash.dll!ThemeCrash.MainWindow.Button_Click(object sender, System.Windows.RoutedEventArgs e) Line 17\tC#\nPresentationCore.dll!System.Windows.EventRoute.InvokeHandlersImpl(object source, System.Windows.RoutedEventArgs args, bool reRaised)\tUnknown\nPresentationCore.dll!System.Windows.UIElement.RaiseEventImpl(System.Windows.DependencyObject sender, System.Windows.RoutedEventArgs args)\tUnknown\nPresentationFramework.dll!System.Windows.Controls.Primitives.ButtonBase.OnClick() Line 223\tC#\nPresentationFramework.dll!System.Windows.Controls.Button.OnClick() Line 184\tC#\nPresentationFramework.dll!System.Windows.Controls.Primitives.ButtonBase.OnMouseLeftButtonUp(System.Windows.Input.MouseButtonEventArgs e) Line 413\tC#\nPresentationCore.dll!System.Windows.RoutedEventArgs.InvokeHandler(System.Delegate handler, object target)\tUnknown\nPresentationCore.dll!System.Windows.EventRoute.InvokeHandlersImpl(object source, System.Windows.RoutedEventArgs args, bool reRaised)\tUnknown\nPresentationCore.dll!System.Windows.UIElement.ReRaiseEventAs(System.Windows.DependencyObject sender, System.Windows.RoutedEventArgs args, System.Windows.RoutedEvent newEvent)\tUnknown\nPresentationCore.dll!System.Windows.RoutedEventArgs.InvokeHandler(System.Delegate handler, object target)\tUnknown\nPresentationCore.dll!System.Windows.EventRoute.InvokeHandlersImpl(object source, System.Windows.RoutedEventArgs args, bool reRaised)\tUnknown\nPresentationCore.dll!System.Windows.UIElement.RaiseEventImpl(System.Windows.DependencyObject sender, System.Windows.RoutedEventArgs args)\tUnknown\nPresentationCore.dll!System.Windows.UIElement.RaiseTrustedEvent(System.Windows.RoutedEventArgs args)\tUnknown\nPresentationCore.dll!System.Windows.Input.InputManager.ProcessStagingArea()\tUnknown\nPresentationCore.dll!System.Windows.Input.InputProviderSite.ReportInput(System.Windows.Input.InputReport inputReport)\tUnknown\nPresentationCore.dll!System.Windows.Interop.HwndMouseInputProvider.ReportInput(nint hwnd, System.Windows.Input.InputMode mode, int timestamp, System.Windows.Input.RawMouseActions actions, int x, int y, int wheel)\tUnknown\nPresentationCore.dll!System.Windows.Interop.HwndMouseInputProvider.FilterMessage(nint hwnd, MS.Internal.Interop.WindowMessage msg, nint wParam, nint lParam, ref bool handled)\tUnknown\nWindowsBase.dll!System.Windows.Threading.ExceptionWrapper.InternalRealCall(System.Delegate callback, object args, int numArgs)\tUnknown\nWindowsBase.dll!System.Windows.Threading.ExceptionWrapper.TryCatchWhen(object source, System.Delegate callback, object args, int numArgs, System.Delegate catchHandler)\tUnknown\nWindowsBase.dll!System.Windows.Threading.Dispatcher.LegacyInvokeImpl(System.Windows.Threading.DispatcherPriority priority, System.TimeSpan timeout, System.Delegate method, object args, int numArgs)\tUnknown\nWindowsBase.dll!MS.Win32.HwndSubclass.SubclassWndProc(nint hwnd, int msg, nint wParam, nint lParam)\tUnknown\n[Native to Managed Transition]\t\n[Managed to Native Transition]\t\nWindowsBase.dll!System.Windows.Threading.Dispatcher.PushFrameImpl(System.Windows.Threading.DispatcherFrame frame)\tUnknown\nPresentationFramework.dll!System.Windows.Application.RunDispatcher(object ignore) Line 1539\tC#\nPresentationFramework.dll!System.Windows.Application.RunInternal(System.Windows.Window window) Line 1214\tC#\nThemeCrash.dll!ThemeCrash.App.Main()\tUnknown\n\n```","Url":"https://github.com/dotnet/wpf/issues/11315","RelatedDescription":"Open issue \"NullReferenceException on WM_THEMECHANGED if a standard control with OverridesDefaultStyle set to True\" (#11315)"},{"Id":"3710947400","IsPullRequest":false,"CreatedAt":"2025-12-09T21:40:45","Actor":"mogawinch","Number":"11308","RawContent":null,"Title":"Windows 11 - WPF Window Icon is default in Taskbar if there is a long startup process before Window creation","State":"closed","Body":"### Description\n\nAfter updating my computer to Windows 11, the icon for my project’s MainWindow stopped appearing in the taskbar. (It only affects the taskbar, the title bar icon still displays correctly.)\n\nThis occurs when the MainWindow is created and assigned as code, and there is a heavy loading step between the start of the application and the creation of the MainWindow. In our case, we are performing dependency injection to automatically resolve the MainWindow, which can take a few seconds as it performs multiple steps before the MainWindow is created and assigned.\n\nI have reproduced the issue in a very simple WPF app: _https://github.com/mogawinch/Net11-WPF-IconBugReproduce_.\n\nIn this app, if you keep the `Thread.Sleep` call (Line 16) in `App.xaml.cs`, the bug occurs. If you comment it out, the icon appears normally.\n\nIt seems to be related to the fact that the taskbar object in Windows 11 is initialized earlier than in Windows 10 and when the MainWindow is assigned the Taskbar object already exist with a Default Icon assigned.\n\n### Reproduction Steps\n\n1. Clone _https://github.com/mogawinch/Net11-WPF-IconBugReproduce_\n2. Open the cloned project **in Windows 11**\n3. Launch the **TestWindow** project\n4. The icon in the Taskbar is missing\n5. Comment Line 16 (`Thread.Sleep`) of file `App.xaml.cs`\n6. Rebuild and launch the **TestWindow** project again\n7. The icon in the Taskbar is shown\n\n### Expected behavior\n\nI would expect WPF to correctly resolve the window icon when assigning a window with a provided icon, even if a loading step is required before the MainWindow is created, especially since this behavior worked correctly in Windows 10.\n\n### Actual behavior\n\nThe application icon is not displayed correctly in the taskbar, even though it is properly set in the XAML.\n\n### Regression?\n\nThe taskbar icon loaded correctly in Windows 10. This issue started occurring only after I updated to Windows 11. No other changes were made to the project during that time frame.\n\n### Known Workarounds\n\nWorkaround 1: Set Icon after content loading\n----------------------------------------------------------------------------------------------------------------------------\nThe first fix is to attach this lambda to the `Loaded` event of the MainWindow.\n```\nLoaded += (sender, e) =>\n{\n     Icon = new BitmapImage(new Uri(\"pack://application:,,,/TestWindow;component/VideoGeneric.ico\"));\n};\n```\nThe problem with this fix is that the icon will actually flicker. Visually, the user will see the default icon first, and only after the loading step will it be replaced, which is not an ideal experience.\n\nWorkaround 2: Set Icon during loading using Win32\n----------------------------------------------------------------------------------------------------------------------------\nThe second fix is more complex, but it sets the icon directly in the correct location using Win32 during the window’s load. I created an extension file to handle this. If we try to set the icon using the same approach as the previous workaround, it will not work.\n```\npublic static class WindowExtensions\n{\n    private const int GCLP_HICON = -14; \n    private const int GCLP_HICONSM = -34;\n\n    [DllImport(\"user32.dll\", EntryPoint = \"SetClassLongPtrW\", SetLastError = true)]\n    private static extern IntPtr SetClassLongPtr(IntPtr hWnd, int nIndex, IntPtr dwNewLong);\n\n    public static void ForceSetTaskbarIcon(this MetroWindow window)\n    {\n        if (window.Icon != null && window.Icon is BitmapSource bitmapSource)\n        {\n            var hwnd = new WindowInteropHelper(window).Handle;\n            if (hwnd == IntPtr.Zero) \n                return;\n\n            Bitmap bitmap;\n            using (MemoryStream stream = new MemoryStream())\n            {\n                BitmapEncoder encoder = new PngBitmapEncoder();\n                encoder.Frames.Add(BitmapFrame.Create(bitmapSource));\n                encoder.Save(stream);\n                stream.Seek(0, SeekOrigin.Begin);\n                bitmap = new Bitmap(stream);\n            }\n\n            IntPtr hBitmap = bitmap.GetHicon();\n\n            SetClassLongPtr(hwnd, GCLP_HICON, hBitmap);\n            SetClassLongPtr(hwnd, GCLP_HICONSM, hBitmap);\n        }\n    }\n}\n```\nAfter that you call the extension method in the `OnSourceInitialized` of the `MainWindow.xaml.cs`\n```\nprotected override void OnSourceInitialized(EventArgs e)\n{\n     this.ForceSetTaskbarIcon();\n     base.OnSourceInitialized(e);\n}\n```\nThis will allow the icon to be set before it appears in the Taskbar, but it is very ugly.\n\n\n### Impact\n\nWe need to use Win32 code just to set an icon that is already defined in our XAML. It’s not a blocking issue, but it’s unfortunate to require this workaround for something as simple as setting a window icon.\n\n### Configuration\n\n- _Which version of .NET is the code running on?_ .net8-windows\n- _What OS and version, and what distro if applicable?_ Windows 11 Entreprise, Version 24H2, Build 26100.7171\n- _What is the architecture (x64, x86, ARM, ARM64)?_ x64\n\n### Other information\n\nOn our side, we are considering changing how we handle dependency injection to improve the loading time, but I still believe that this simple case (as shown in the repro project) should be properly supported.","Url":"https://github.com/dotnet/wpf/issues/11308","RelatedDescription":"Closed issue \"Windows 11 - WPF Window Icon is default in Taskbar if there is a long startup process before Window creation\" (#11308)"},{"Id":"3711884904","IsPullRequest":true,"CreatedAt":"2025-12-09T18:16:23","Actor":"dipeshmsft","Number":"11312","RawContent":null,"Title":"Updating the WindowsTargetPlatformVersion to 10.0.26100.0","State":"closed","Body":"\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11312)","Url":"https://github.com/dotnet/wpf/pull/11312","RelatedDescription":"Closed or merged PR \"Updating the WindowsTargetPlatformVersion to 10.0.26100.0\" (#11312)"},{"Id":"3711934351","IsPullRequest":false,"CreatedAt":"2025-12-09T17:26:37","Actor":"pedromcrocha","Number":"11313","RawContent":null,"Title":"error when use SendKeys.SendWait","State":"open","Body":"### Description\n\nafter upgrade System.Drawing.Common from 9.0.11 to 10.0.0, SendKeys.SendWait throw exception 'The type initializer for 'System.Windows.Forms.SendKeys' threw an exception.'\n\n### Reproduction Steps\n\nsimple use SendKeys referencing System.Drawing.Common from 10.0.0 \n\n### Expected behavior\n\nnot throw exception\n\n### Actual behavior\n\nthrow exception\n\n### Regression?\n\nyes\n\n### Known Workarounds\n\ndont upgrade to System.Drawing.Common 10.0.0\n\n### Impact\n\n_No response_\n\n### Configuration\n\n_No response_\n\n### Other information\n\n_No response_","Url":"https://github.com/dotnet/wpf/issues/11313","RelatedDescription":"Open issue \"error when use SendKeys.SendWait\" (#11313)"},{"Id":"3707604951","IsPullRequest":true,"CreatedAt":"2025-12-09T15:23:05","Actor":"mmitche","Number":"11305","RawContent":null,"Title":"[release/9.0] Switch back to release tag","State":"closed","Body":"The old tag is going to be deleted soon.\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11305)","Url":"https://github.com/dotnet/wpf/pull/11305","RelatedDescription":"Closed or merged PR \"[release/9.0] Switch back to release tag\" (#11305)"},{"Id":"3710954712","IsPullRequest":true,"CreatedAt":"2025-12-09T13:32:58","Actor":"dipeshmsft","Number":"11309","RawContent":null,"Title":"Enable building WPF using VS 2026","State":"open","Body":"### Fixes <!-- Issue Number -->\r\nPipeline failures of https://github.com/dotnet/wpf/pull/11288\r\n\r\n## Description\r\nThis PR consists of three small sections :\r\n1. Updated the MSVC Toolset from v143 to v145 in Wpf.Cpp.props and VSRuntime.vcxproj\r\n2. Update the WindowsTargetPlatformVersion in Wpf.Cpp.props to use the supported version of Windows SDK. Updated wpf.vsconfig for the same.\r\n3. Updated the pipeline images being used from windows.vs2022.amd64 to windows.vs2026preview.scout.amd64 for repo-specific files.\r\n\r\n## Customer Impact\r\nCI Builds will work as expected\r\n\r\n## Regression\r\nNo\r\n\r\n## Testing\r\n--\r\n\r\n## Risk\r\nMinimal\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11309)","Url":"https://github.com/dotnet/wpf/pull/11309","RelatedDescription":"Open PR \"Enable building WPF using VS 2026\" (#11309)"},{"Id":"3708779391","IsPullRequest":true,"CreatedAt":"2025-12-09T05:22:31","Actor":"dotnet-maestro[bot]","Number":"11307","RawContent":null,"Title":"[release/9.0] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\n\n[marker]: <> (Begin:2bde0aa3-7165-43c9-100b-08dcbc30275f)\n## From https://github.com/dotnet/arcade\n- **Subscription**: [2bde0aa3-7165-43c9-100b-08dcbc30275f](https://maestro.dot.net/subscriptions?search=2bde0aa3-7165-43c9-100b-08dcbc30275f)\n- **Build**: [20251208.5](https://dev.azure.com/dnceng/internal/_build/results?buildId=2856613) ([293803](https://maestro.dot.net/channel/5175/github:dotnet:arcade/build/293803))\n- **Date Produced**: December 8, 2025 9:34:36 PM UTC\n- **Commit**: [92e45d251889042fd956e18b28d489020298d864](https://github.com/dotnet/arcade/commit/92e45d251889042fd956e18b28d489020298d864)\n- **Branch**: [release/9.0](https://github.com/dotnet/arcade/tree/release/9.0)\n\n[DependencyUpdate]: <> (Begin)\n\n- **Dependency Updates**:\n  - From [9.0.0-beta.25577.5 to 9.0.0-beta.25608.5][1]\n     - Microsoft.DotNet.Arcade.Sdk\n     - Microsoft.DotNet.CodeAnalysis\n     - Microsoft.DotNet.GenAPI\n     - Microsoft.DotNet.Helix.Sdk\n\n[1]: https://github.com/dotnet/arcade/compare/0890ca0851...92e45d2518\n\n[DependencyUpdate]: <> (End)\n\n\n[marker]: <> (End:2bde0aa3-7165-43c9-100b-08dcbc30275f)\n\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11307)","Url":"https://github.com/dotnet/wpf/pull/11307","RelatedDescription":"Closed or merged PR \"[release/9.0] Update dependencies from dotnet/arcade\" (#11307)"},{"Id":"3668680458","IsPullRequest":true,"CreatedAt":"2025-12-09T04:25:20","Actor":"mmitche","Number":"11290","RawContent":null,"Title":"Enable assetless builds and clean up YAMLs","State":"closed","Body":"- azure-pipelines1.yml no longer used.\r\n- PR/CI and non-PR scenarios were split into two yamls, so no need to have two eng/pipeline* yamls. Instead, put logic into root yamls.\r\n- Make official build assetless. Keep option for Loc.\r\n- Clean up PR yaml. Ensure that helix testing is actually running on internal PRs.\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11290)","Url":"https://github.com/dotnet/wpf/pull/11290","RelatedDescription":"Closed or merged PR \"Enable assetless builds and clean up YAMLs\" (#11290)"},{"Id":"3705902065","IsPullRequest":false,"CreatedAt":"2025-12-08T11:18:29","Actor":"daigs","Number":"11304","RawContent":null,"Title":".NET 10 WPF randomly crashes on Windows 7 (x86 or x64) systems","State":"open","Body":"### Description\n\n.NET 10 WPF randomly crashes on Windows 7 (x86 or x64) systems, but not all Windows 7 systems experience the crash... The virtual machine Windows 7 I installed myself runs normally, but my two colleagues' Windows 7 systems have random crashes. Previously, WPF programs released with .NET 9 ran perfectly fine on Windows 7.\n\n### Reproduction Steps\n\n![Image](https://github.com/user-attachments/assets/47e503b8-7432-4465-aa70-cbb565ea1363)\n\n<img width=\"1194\" height=\"776\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/07fbf267-137b-472b-bf2e-a1d8ad9d154b\" />\n\n<img width=\"1345\" height=\"460\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/0ab7e0e4-10cf-43d9-8f20-3e28d1663722\" />\n\n<img width=\"963\" height=\"191\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/f057a05e-293e-41c7-901c-6b59c9262d47\" />\n\n### Expected behavior\n\nCan run normally like .NET 9\n\n### Actual behavior\n\nrandomly crashes on Windows 7 (x86 or x64) systems\n\n### Regression?\n\n_No response_\n\n### Known Workarounds\n\n_No response_\n\n### Impact\n\n_No response_\n\n### Configuration\n\n_No response_\n\n### Other information\n\n_No response_","Url":"https://github.com/dotnet/wpf/issues/11304","RelatedDescription":"Open issue \".NET 10 WPF randomly crashes on Windows 7 (x86 or x64) systems\" (#11304)"},{"Id":"3704801321","IsPullRequest":false,"CreatedAt":"2025-12-08T06:06:41","Actor":"YuuukiA","Number":"11303","RawContent":null,"Title":"Handles keep increasing when repeatedly showing/closing a Window on a separate Dispatcher thread","State":"open","Body":"### Description\n\nIn a WPF application, when starting a dedicated STA thread running Dispatcher.Run() and repeatedly creating, showing, and closing a Window on that thread, the process handle count keeps increasing.\nThe handle type is File, and the FileName points to the WPF runtime DLLs, for example:\n```\nType: File\nFileName: C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App\\8.0.22\n```\n\nClosing the Window does not release these handles. They are only released when the Dispatcher is shut down.\n\n### Reproduction Steps\n\n1. Create a .NET 8 WPF application.\n2. Start a dedicated UI thread and run a Dispatcher as shown below:\n\n```cs\nprivate Dispatcher? _dispatcher;\nprivate Thread? _thread;\n\nprivate Dispatcher EnsureDispatcher()\n{\n    if (_dispatcher == null)\n    {\n        using var evt = new AutoResetEvent(false);\n        _thread = new Thread(_ =>\n        {\n            _dispatcher = Dispatcher.CurrentDispatcher;\n            evt.Set();\n            Dispatcher.Run();\n        });\n        _thread.IsBackground = true;\n        _thread.SetApartmentState(ApartmentState.STA);\n        _thread.Start();\n\n        evt.WaitOne();\n    }\n\n    return _dispatcher!;\n}\n```\n\n3. On this Dispatcher, repeatedly create a Window, call Show(), then Close().\n4. Monitor the process using Task Manager or Process Explorer. The number of File handles increases continuously.\n\n### Expected behavior\n\nAfter calling Window.Close(), unnecessary handles should be released. Handle count should not grow indefinitely.\n\n### Actual behavior\n\nHandles are not released after closing the Window. They accumulate with each show/close cycle.\nCalling Dispatcher.InvokeShutdown() releases them.\n\n```cs\npublic void Dispose()\n{\n    _dispatcher?.BeginInvokeShutdown(DispatcherPriority.Normal);\n\n    if (_thread != null && _thread.IsAlive)\n    {\n        _thread.Join();\n    }\n    _dispatcher = null;\n    _thread = null;\n    _runtime = null;\n}\n```\n\n### Regression?\n\n_No response_\n\n### Known Workarounds\n\n_No response_\n\n### Impact\n\n_No response_\n\n### Configuration\n\n- .NET: 8.0.22\n- OS: Windows 11 22H2\n- WPF: Microsoft.WindowsDesktop.App 8.0.22\n\n### Other information\n\n- The same behavior was observed on .NET 10 preview as well.","Url":"https://github.com/dotnet/wpf/issues/11303","RelatedDescription":"Open issue \"Handles keep increasing when repeatedly showing/closing a Window on a separate Dispatcher thread\" (#11303)"},{"Id":"3693085303","IsPullRequest":true,"CreatedAt":"2025-12-08T05:15:52","Actor":"dotnet-maestro[bot]","Number":"11300","RawContent":null,"Title":"[main] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\n\n[marker]: <> (Begin:f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\n- **Subscription**: [f8781171-8d89-4d6b-f62b-08d8e93a0c51](https://maestro.dot.net/subscriptions?search=f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n- **Build**: [20251203.4](https://dev.azure.com/dnceng/internal/_build/results?buildId=2853406) ([293287](https://maestro.dot.net/channel/8297/azdo:dnceng:internal:dotnet-wpf-int/build/293287))\n- **Date Produced**: December 4, 2025 6:03:53 AM UTC\n- **Commit**: [fe8feea90bc685260d2e3e80d285271f7c44794c](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?_a=history&version=GCfe8feea90bc685260d2e3e80d285271f7c44794c)\n- **Branch**: [refs/heads/main](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?version=GBrefs/heads/main)\n\n[DependencyUpdate]: <> (Begin)\n\n- **Dependency Updates**:\n  - From [10.0.0-rc.1.25601.2 to 10.0.0-rc.1.25603.4][1]\n     - Microsoft.DotNet.Wpf.DncEng\n\n[1]: https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int/branches?baseVersion=GCe8a65755173a68352e454989eb3ce2aff5617f71&targetVersion=GCfe8feea90bc685260d2e3e80d285271f7c44794c&_a=files\n\n[DependencyUpdate]: <> (End)\n\n\n[marker]: <> (End:f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11300)","Url":"https://github.com/dotnet/wpf/pull/11300","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#11300)"},{"Id":"3693057270","IsPullRequest":true,"CreatedAt":"2025-12-08T05:15:25","Actor":"dotnet-maestro[bot]","Number":"11299","RawContent":null,"Title":"[release/9.0] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\n\n[marker]: <> (Begin:9b93053b-bf71-48b9-1001-08dcbc30275f)\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\n- **Subscription**: [9b93053b-bf71-48b9-1001-08dcbc30275f](https://maestro.dot.net/subscriptions?search=9b93053b-bf71-48b9-1001-08dcbc30275f)\n- **Build**: [20251203.3](https://dev.azure.com/dnceng/internal/_build/results?buildId=2853404) ([293282](https://maestro.dot.net/channel/3883/azdo:dnceng:internal:dotnet-wpf-int/build/293282))\n- **Date Produced**: December 4, 2025 5:43:07 AM UTC\n- **Commit**: [1640c51d7e3dddc1ed55872acab583e4fd0230ae](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?_a=history&version=GC1640c51d7e3dddc1ed55872acab583e4fd0230ae)\n- **Branch**: [refs/heads/release/9.0](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?version=GBrefs/heads/release/9.0)\n\n[DependencyUpdate]: <> (Begin)\n\n- **Dependency Updates**:\n  - From [9.0.0-rtm.25562.7 to 9.0.0-rtm.25603.3][1]\n     - Microsoft.DotNet.Wpf.DncEng\n\n[1]: https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int/branches?baseVersion=GCbe75c1a5d6efbe1cfb373aa757c06550ca388883&targetVersion=GC1640c51d7e3dddc1ed55872acab583e4fd0230ae&_a=files\n\n[DependencyUpdate]: <> (End)\n\n\n[marker]: <> (End:9b93053b-bf71-48b9-1001-08dcbc30275f)\n\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11299)","Url":"https://github.com/dotnet/wpf/pull/11299","RelatedDescription":"Closed or merged PR \"[release/9.0] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#11299)"},{"Id":"3703535435","IsPullRequest":true,"CreatedAt":"2025-12-07T14:11:48","Actor":"LickBag","Number":"11302","RawContent":null,"Title":"Fix incorrect registry path of StylusLogic (#11239)","State":"open","Body":"Fixes #11239\r\n\r\n## Description\r\n\r\nDelete the redundant part in the registry path.\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11302)","Url":"https://github.com/dotnet/wpf/pull/11302","RelatedDescription":"Open PR \"Fix incorrect registry path of StylusLogic (#11239)\" (#11302)"},{"Id":"3692912812","IsPullRequest":false,"CreatedAt":"2025-12-04T19:49:54","Actor":"dotnet-maestro-bot","Number":"11298","RawContent":null,"Title":"[dnceng-bot] Branch `wpf/release/9.0` can't be merged to Azdo internal branch","State":"closed","Body":"Branch [release/9.0](https://github.com/dotnet/wpf/commits/release/9.0/) in `dotnet/wpf` repo can't be mirrored from GitHub to Azure [internal/release/9.0](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf?version=GBinternal%2Frelease%2F9.0&_a=history) via internal merge. \n\nThere are conflicting commits in the target branch.\nThe branch is configured to be mirrored via automated merge. \nThe situation is rare but normal. The target branch is expected to receive manual commits in the Azure DevOps clone, which could cause conflict.\n\nConflicts need to be **resolved to unblock the code flow**.\n\n- you can resolve the issue by resolving the conflict in the **target branch only**. \n    - Please make sure that the changes sensitive from security perspective are not published ahead of time to GitHub!\n- reverting the extra commits in the Azdo target branch.\n- checking the logs of the mirroring process in the [mirroring pipeline](https://dev.azure.com/dnceng/internal/_build?definitionId=1387).\n- you can disable the mirroring of the branch in the [configuration file](https://dev.azure.com/dnceng/internal/_git/dotnet-mirroring?path=/dnceng-subscriptions.jsonc).\n- you can ask @dotnet/dnceng for help or read the [documentation](https://dev.azure.com/dnceng/internal/_git/dotnet-mirroring?path=/README.md).\n\nPlease close this issue once the conflict is resolved.","Url":"https://github.com/dotnet/wpf/issues/11298","RelatedDescription":"Closed issue \"[dnceng-bot] Branch `wpf/release/9.0` can't be merged to Azdo internal branch\" (#11298)"},{"Id":"3696193333","IsPullRequest":false,"CreatedAt":"2025-12-04T19:33:41","Actor":"HEIC-to-JPEG-Dev","Number":"11301","RawContent":null,"Title":"WPF Gallery App update to .Net 10","State":"open","Body":"It would be great to see he new tech in there","Url":"https://github.com/dotnet/wpf/issues/11301","RelatedDescription":"Open issue \"WPF Gallery App update to .Net 10\" (#11301)"},{"Id":"3684213352","IsPullRequest":true,"CreatedAt":"2025-12-04T04:55:51","Actor":"dotnet-maestro[bot]","Number":"11295","RawContent":null,"Title":"[main] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\n\n[marker]: <> (Begin:f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\n- **Subscription**: [f8781171-8d89-4d6b-f62b-08d8e93a0c51](https://maestro.dot.net/subscriptions?search=f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n- **Build**: [20251201.2](https://dev.azure.com/dnceng/internal/_build/results?buildId=2851692) ([292922](https://maestro.dot.net/channel/8297/azdo:dnceng:internal:dotnet-wpf-int/build/292922))\n- **Date Produced**: December 2, 2025 6:02:48 AM UTC\n- **Commit**: [e8a65755173a68352e454989eb3ce2aff5617f71](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?_a=history&version=GCe8a65755173a68352e454989eb3ce2aff5617f71)\n- **Branch**: [refs/heads/main](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?version=GBrefs/heads/main)\n\n[DependencyUpdate]: <> (Begin)\n\n- **Dependency Updates**:\n  - From [10.0.0-rc.1.25580.1 to 10.0.0-rc.1.25601.2][1]\n     - Microsoft.DotNet.Wpf.DncEng\n\n[1]: https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int/branches?baseVersion=GCa4ef533c2680ec0e9682d1226a8144f0be32d907&targetVersion=GCe8a65755173a68352e454989eb3ce2aff5617f71&_a=files\n\n[DependencyUpdate]: <> (End)\n\n\n[marker]: <> (End:f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11295)","Url":"https://github.com/dotnet/wpf/pull/11295","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#11295)"},{"Id":"3692535381","IsPullRequest":true,"CreatedAt":"2025-12-04T04:55:06","Actor":"dotnet-maestro[bot]","Number":"11297","RawContent":null,"Title":"[release/9.0] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\n\n[marker]: <> (Begin:2bde0aa3-7165-43c9-100b-08dcbc30275f)\n## From https://github.com/dotnet/arcade\n- **Subscription**: [2bde0aa3-7165-43c9-100b-08dcbc30275f](https://maestro.dot.net/subscriptions?search=2bde0aa3-7165-43c9-100b-08dcbc30275f)\n- **Build**: [20251127.5](https://dev.azure.com/dnceng/internal/_build/results?buildId=2849049) ([292541](https://maestro.dot.net/channel/5175/github:dotnet:arcade/build/292541))\n- **Date Produced**: November 27, 2025 8:31:46 PM UTC\n- **Commit**: [0890ca08513391dafe556fb326c73c6c5c6cb329](https://github.com/dotnet/arcade/commit/0890ca08513391dafe556fb326c73c6c5c6cb329)\n- **Branch**: [release/9.0](https://github.com/dotnet/arcade/tree/release/9.0)\n\n[DependencyUpdate]: <> (Begin)\n\n- **Dependency Updates**:\n  - From [9.0.0-beta.25562.4 to 9.0.0-beta.25577.5][1]\n     - Microsoft.DotNet.Arcade.Sdk\n     - Microsoft.DotNet.CodeAnalysis\n     - Microsoft.DotNet.GenAPI\n     - Microsoft.DotNet.Helix.Sdk\n\n[1]: https://github.com/dotnet/arcade/compare/6e2d8e204c...0890ca0851\n\n[DependencyUpdate]: <> (End)\n\n\n[marker]: <> (End:2bde0aa3-7165-43c9-100b-08dcbc30275f)\n\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11297)","Url":"https://github.com/dotnet/wpf/pull/11297","RelatedDescription":"Closed or merged PR \"[release/9.0] Update dependencies from dotnet/arcade\" (#11297)"},{"Id":"3688878870","IsPullRequest":true,"CreatedAt":"2025-12-04T04:15:16","Actor":"github-actions[bot]","Number":"11296","RawContent":null,"Title":"[release/10.0] Fix .Net 10 SDK build issue when using internal members","State":"closed","Body":"Backport of #11289 to release/10.0\r\n/cc @dipeshmsft @ThomasGoulet73\r\n## Description\r\n**Fixes issue : #11235** \r\n\r\nThe issue is that applications \\ libraries that use internal members in XAML ( styles, setters, etc. ) were seeing MC3080 compilation issue stating that : \r\n```\r\nerror MC3080: The attached property '...' cannot be set because it does not have an accessible Set method accessor. \r\n```\r\n\r\nThe issue was because dotnet/wpf#9739 introduced the new method `ReflectionUtils.GetAssemblyPartialName` and updated several places to use it. The problem is that `ReflectionUtils.GetAssemblyPartialName` returns a `ReadOnlySpan<char>` when built using .Net 10 while in the .Net Framework build it returns a `string`. The problem is that comparison were not changed to replace `==` with `Equals` or something else and `==` on a `ReadOnlySpan<>` only compares the reference not the content (See [docs](https://learn.microsoft.com/en-us/dotnet/api/system.readonlyspan-1.op_equality?view=net-10.0#remarks)). The means that even if 2 `ReadOnlySpan<char>` had the same content the `==` comparison could return false if the 2 spans don't point to the same memory address.\r\n\r\nThis issue is fixed by replacing `==` with [MemoryExtensions.Equals](https://learn.microsoft.com/en-us/dotnet/api/system.memoryextensions.equals?view=net-10.0#system-memoryextensions-equals(system-readonlyspan((system-char))-system-readonlyspan((system-char))-system-stringcomparison)) on .Net 10 and [String.Equals](https://learn.microsoft.com/en-us/dotnet/api/system.string.equals?view=net-10.0#system-string-equals(system-string-system-stringcomparison)) on .Net Framework. For .Net Framework, the behavior remains the same but on .Net 10 the comparison now compares the content instead of the memory address.\r\n\r\n<!-- Give a brief summary of the issue and how the pull request is fixing it. -->\r\n\r\n## Customer Impact\r\nDevelopers using internal members \\ properties in a XAML file will now be able to compile their applications, restoring the behavior.\r\n\r\n<!-- What is the impact to customers of not taking this fix? -->\r\n\r\n## Regression\r\nYes. Regression was introduced in ,10.0.0-alpha1\r\n<!-- Is this fixing a problem that was introduced in the most recent release, ie., fixing a regression? -->\r\n\r\n## Testing\r\n1. Local Ad-Hoc Testing \r\n2. Verified builds of Third Party Libraries\r\n3. Automated Tests (DRTs + Microsuites)\r\n<!-- What kind of testing has been done with the fix. -->\r\n\r\n## Risk\r\nLow. Fixes the broken behavior\r\n\r\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11296)","Url":"https://github.com/dotnet/wpf/pull/11296","RelatedDescription":"Closed or merged PR \"[release/10.0] Fix .Net 10 SDK build issue when using internal members\" (#11296)"},{"Id":"3665717688","IsPullRequest":true,"CreatedAt":"2025-12-03T07:26:14","Actor":"ThomasGoulet73","Number":"11289","RawContent":null,"Title":"Fix .Net 10 SDK build issue when using internal members","State":"closed","Body":"Fixes dotnet/wpf#11235\r\n\r\n## Description\r\nThe issue was because dotnet/wpf#9739 introduced the new method `ReflectionUtils.GetAssemblyPartialName` and updated several places to use it. The problem is that `ReflectionUtils.GetAssemblyPartialName` returns a `ReadOnlySpan<char>` when built using .Net 10 while in the .Net Framework build it returns a `string`. The problem is that comparison were not changed to replace `==` with `Equals` or something else and `==` on a `ReadOnlySpan<>` only compares the reference not the content (See [docs](https://learn.microsoft.com/en-us/dotnet/api/system.readonlyspan-1.op_equality?view=net-10.0#remarks)). The means that even if 2 `ReadOnlySpan<char>` had the same content the `==` comparison could return false if the 2 spans don't point to the same memory address.\r\n\r\nI fixed the issue by replacing `==` with [MemoryExtensions.Equals](https://learn.microsoft.com/en-us/dotnet/api/system.memoryextensions.equals?view=net-10.0#system-memoryextensions-equals(system-readonlyspan((system-char))-system-readonlyspan((system-char))-system-stringcomparison)) on .Net 10 and [String.Equals](https://learn.microsoft.com/en-us/dotnet/api/system.string.equals?view=net-10.0#system-string-equals(system-string-system-stringcomparison)) on .Net Framework. For .Net Framework, the behavior remains the same but on .Net 10 the comparison now compares the content instead of the memory address.\r\n\r\nThis PR should probably be backported to .Net 10.\r\n\r\n## Customer Impact\r\nCurrently, projects that use internal members from a XAML file will fail to build.\r\n\r\n## Regression\r\nYes, it was introduced in the .Net 10 SDK by this PR: dotnet/wpf#9739\r\n\r\n## Testing\r\nTested locally using a custom build of `PresentationBuildTasks`.\r\n\r\n## Risk\r\nLow.\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11289)","Url":"https://github.com/dotnet/wpf/pull/11289","RelatedDescription":"Closed or merged PR \"Fix .Net 10 SDK build issue when using internal members\" (#11289)"},{"Id":"3680948354","IsPullRequest":false,"CreatedAt":"2025-12-01T13:10:49","Actor":"Sekar-SF4378","Number":"11294","RawContent":null,"Title":"UI layout update delay when increasing item count (switching from lower to higher counts)","State":"open","Body":"### Description\n\nWhen increasing the number of items displayed in a WPF ListBox from a lower count to a higher count, there is a noticeable delay before the UI updates and the layout stabilizes. The control becomes momentarily unresponsive during the transition, and the final layout takes additional time to render. This is especially visible when using grid-like layouts (e.g., WrapPanel or UniformGrid) and higher row/column density.\n\nhttps://github.com/user-attachments/assets/e0e0f229-8271-4d23-8e56-2d0f4184340b\n\n### Reproduction Steps\n\n1.Run the attached sample application.\n2.Click the \"Load Items\" button to load the initial set of items (count = 50).\nNote: The control loads these items in less than a second (time shown in the dialog).\n3.Using the ComboBox, select 50 × 50 to load 2,500 items.\n4.Observe that the ListBox control takes significantly more time to update the items and render the layout.\n\nThe total time taken is approximately 10 seconds, and sometimes it can take up to 20 seconds.\n\n[ListBox_PerformanceIssue.zip](https://github.com/user-attachments/files/23854043/ListBox_PerformanceIssue.zip)\n\n### Expected behavior\n\nWe expect the control to take only a few seconds to update the layout, including rendering, even when switching to a higher item count.\n\n### Actual behavior\n\nThe control takes around 10 seconds, and sometimes more than 20 seconds, to update the layout and render the items when switching to a higher item count.\n\n### Regression?\n\n_No response_\n\n### Known Workarounds\n\n_No response_\n\n### Impact\n\n_No response_\n\n### Configuration\n\nOS: Windows 11 \n.NET / .NET Framework:  .NET Framework 4.8\nUI Framework: WPF\n\n### Other information\n\n_No response_","Url":"https://github.com/dotnet/wpf/issues/11294","RelatedDescription":"Open issue \"UI layout update delay when increasing item count (switching from lower to higher counts)\" (#11294)"},{"Id":"3670794146","IsPullRequest":false,"CreatedAt":"2025-11-27T10:30:24","Actor":"SubashiniMahendran","Number":"11293","RawContent":null,"Title":"Color.GetHue value return different value based on framework in WPF platform","State":"open","Body":"### Description\n\nI created an application that includes a ColorHelper class which computes a color value for a SolidColorBrush based on its opacity. However, calling Color.GetHue returns slightly different values depending on the target framework (for example, .NET Framework 4.6.2 vs .NET Core), so the resulting color differs between builds. Please see the attached screenshot and sample project for reference.\n\n[wpf-462-project.zip](https://github.com/user-attachments/files/23789880/wpf-462-project.zip)\n[wpf-netcore-project.zip](https://github.com/user-attachments/files/23789881/wpf-netcore-project.zip)\n\n<img width=\"1756\" height=\"844\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/00b860f7-cbee-4c72-9ef6-9c7024448f29\" />\n\n<img width=\"1806\" height=\"723\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/004226c9-6ca5-41c9-81ce-cc761dd64398\" />\n\n### Reproduction Steps\n\nRun the attached net462 and netcore samples.\nNote the color value different in both sample due to Color.GetHue value.\n\n### Expected behavior\n\nShould return same color value for both 462 and netcore framework in Color.GetHue method.\n\n### Actual behavior\n\nReturn different color value for 462 and netcore framework in Color.GetHue method.\n\n### Regression?\n\n_No response_\n\n### Known Workarounds\n\n_No response_\n\n### Impact\n\n_No response_\n\n### Configuration\n\n_No response_\n\n### Other information\n\n_No response_","Url":"https://github.com/dotnet/wpf/issues/11293","RelatedDescription":"Open issue \"Color.GetHue value return different value based on framework in WPF platform\" (#11293)"},{"Id":"3670563316","IsPullRequest":false,"CreatedAt":"2025-11-27T09:22:10","Actor":"orrest","Number":"11292","RawContent":null,"Title":"The ProgressBar's style leaks to its inherited control.","State":"open","Body":"### Description\n\nThe implementation here:\n\n[demo source code](https://github.com/orrest/Tests/blob/master/Tests.Wpf/MainWindow.xaml)\n\n```\npublic class ProgressMask : ProgressBar\n{\n// ...\n```\n\n```\n<ResourceDictionary xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n                    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n                    xmlns:controls=\"clr-namespace:Tests.Wpf.Controls\">\n\n    <Style TargetType=\"{x:Type controls:ProgressMask}\">\n        <Setter Property=\"IsIndeterminate\" Value=\"True\" />\n        <Setter Property=\"ProgressBarWidth\" Value=\"280\" />\n        <Setter Property=\"ProgressBarHeight\" Value=\"10\" />\n        <Setter Property=\"Background\">\n            <Setter.Value>\n                <LinearGradientBrush StartPoint=\"1,0\" EndPoint=\"0,1\">\n                    <GradientStop Offset=\"0.0\" Color=\"#B09c9591\" />\n                    <GradientStop Offset=\"1.0\" Color=\"#20a89d94\" />\n                </LinearGradientBrush>\n            </Setter.Value>\n        </Setter>\n        <Setter Property=\"Template\">\n            <Setter.Value>\n                <ControlTemplate TargetType=\"{x:Type controls:ProgressMask}\">\n                    <Border Background=\"{TemplateBinding Background}\">\n                        <Grid>\n                            <StackPanel HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\">\n                                <TextBlock Text=\"{TemplateBinding Caption}\" />\n                                <ProgressBar Width=\"{TemplateBinding ProgressBarWidth}\"\n                                             Height=\"{TemplateBinding ProgressBarHeight}\"\n                                             IsIndeterminate=\"{TemplateBinding IsIndeterminate}\" />\n                            </StackPanel>\n                            <Button Margin=\"5\"\n                                    HorizontalAlignment=\"Right\"\n                                    VerticalAlignment=\"Bottom\"\n                                    Background=\"Transparent\"\n                                    Command=\"{TemplateBinding CancelCommand}\"\n                                    Content=\"{TemplateBinding CancellationText}\" />\n                        </Grid>\n                    </Border>\n                </ControlTemplate>\n            </Setter.Value>\n        </Setter>\n    </Style>\n\n</ResourceDictionary>\n```\n\n\n\n### Reproduction Steps\n\n[demo source code](https://github.com/orrest/Tests/blob/master/Tests.Wpf/MainWindow.xaml)\n\n\n### Expected behavior\n\nThe ProgressMask.xaml doesn't inherit from ProgrssBar.xaml, \nso the TextBlock foreground in the ProgressMask.xaml should be normal black, not the progressbar green foreground.\n\n### Actual behavior\n\nThe TextBlock foreground in the ProgressMask.xaml is progress's green foreground.\n\n### Regression?\n\n_No response_\n\n### Known Workarounds\n\n_No response_\n\n### Impact\n\n_No response_\n\n### Configuration\n\n_No response_\n\n### Other information\n\n_No response_","Url":"https://github.com/dotnet/wpf/issues/11292","RelatedDescription":"Open issue \"The ProgressBar's style leaks to its inherited control.\" (#11292)"},{"Id":"3668988678","IsPullRequest":false,"CreatedAt":"2025-11-26T20:42:55","Actor":"cdock1029","Number":"11291","RawContent":null,"Title":"Resizing WPF Window causes Blazor WebView2CompositionControl content to flicker and disappear","State":"open","Body":"### Description\n\nI have raised this issue with the MAUI team since it is listed as the owning repository of the `Microsoft.AspNetCore.Components.WebView.Wpf` dependency, but [they think it is more of a WPF issue](https://github.com/dotnet/maui/issues/32812#issuecomment-3569523717)\n\nWith `Microsoft.AspNetCore.Components.WebView.Wpf` version `10.0.10` and `10.0.11`, resizing the window produces tons of flickering of the Webview content alternating between rendered and a blank content area, or even completely rendering blank until resizing is stopped.\n\nThis can result in, when the resizing is stopped, the entire content of the Webview being blank if user just happens to stop resizing at the right time. Even if the content is there when resizing is stopped, the overall experience looks terrible.\n\nVersion `9.0.120` does not have this problem.\n\nhttps://github.com/user-attachments/assets/9af5cd2b-af1d-4eeb-bc44-fcdf0434b305\n\n\nhttps://github.com/user-attachments/assets/9d58cbb6-a9c2-42b1-b28e-48262d92b82c\n\n\nUsing plain non-Blazor Webview, in the form of WebView2CompositionControl, does not exhibit this behavior.\n\n```xml\n<Project Sdk=\"Microsoft.NET.Sdk\">\n\n\t<PropertyGroup>\n\t\t<OutputType>WinExe</OutputType>\n\t\t<TargetFramework>net10.0-windows10.0.19041.0</TargetFramework>\n\t\t<Nullable>enable</Nullable>\n\t\t<ImplicitUsings>enable</ImplicitUsings>\n\t\t<UseWPF>true</UseWPF>\n\t\t<RootNamespace>WebViewBug</RootNamespace>\n\t</PropertyGroup>\n\n\t<ItemGroup>\n\t\t<PackageReference Include=\"Microsoft.Web.WebView2\" Version=\"1.0.3595.46\" />\n\t        <!-- <PackageReference Include=\"Microsoft.Web.WebView2\" Version=\"1.0.3179.45\" /> -->\n\t</ItemGroup>\n\n</Project>\n```\n```xaml\n<Window x:Class=\"WebViewBug.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n        xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n        xmlns:wv2=\"clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf\"\n        xmlns:local=\"clr-namespace:WebViewBug\"\n        mc:Ignorable=\"d\"\n        Title=\"MainWindow\" Height=\"450\" Width=\"800\">\n    <DockPanel>\n        <!--<wv2:WebView2 Name=\"webView\"\n                      Source=\"https://www.microsoft.com\" />-->\n\n        <wv2:WebView2CompositionControl Source=\"https://www.microsoft.com\" />\n    </DockPanel>\n</Window>\n```\n\nhttps://github.com/user-attachments/assets/47bebc49-7971-4516-9f7a-f3523d7cbc96\n\n\n\n\n### Reproduction Steps\n\nReproducible with out of the box Blazor Hybrid WPF app.\n\nhttps://learn.microsoft.com/en-us/aspnet/core/blazor/hybrid/tutorials/wpf\n\n```xaml\n<Window x:Class=\"WindowFlicker.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n        xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n        xmlns:local=\"clr-namespace:WindowFlicker\"\n        xmlns:blazor=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation/blazor\"\n        mc:Ignorable=\"d\"\n        Title=\"MainWindow\" Height=\"450\" Width=\"800\">\n    <DockPanel>\n        <blazor:BlazorWebView HostPage=\"wwwroot\\index.html\"\n                              Services=\"{DynamicResource services}\">\n            <blazor:BlazorWebView.RootComponents>\n                <blazor:RootComponent Selector=\"#app\"\n                                      ComponentType=\"{x:Type local:Counter}\" />\n            </blazor:BlazorWebView.RootComponents>\n        </blazor:BlazorWebView>\n    </DockPanel>\n</Window>\n```\n\n### Expected behavior\n\nNo flickering as it was before the switch to `WebView2CompositionControl` in .NET 10 \n\n### Actual behavior\n\nFlickering, rendering blank intermittently \n\n### Regression?\n\nYes. Worked with package `Microsoft.AspNetCore.Components.WebView.Wpf` version 9.0.120\n\n### Known Workarounds\n\nDowngrade to 9.0.120\n\n### Impact\n\nUnusable with newest versions.\n\n### Configuration\n\n- .NET 10\n- Windows 11\n- x64\n\n\n### Other information\n\n_No response_","Url":"https://github.com/dotnet/wpf/issues/11291","RelatedDescription":"Open issue \"Resizing WPF Window causes Blazor WebView2CompositionControl content to flicker and disappear\" (#11291)"}],"ResultType":"GitHubIssue"}},"RunOn":"2025-12-12T03:30:31.5099467Z","RunDurationInMilliseconds":546}