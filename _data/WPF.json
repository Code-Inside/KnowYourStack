{"Data":{"GitHub":{"Issues":[{"Id":"650257880","IsPullRequest":true,"CreatedAt":"2020-07-02T23:46:02","Actor":"dotnet-maestro[bot]","Number":"3216","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"open","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 256c8be3-de58-46f5-d219-08d6ba11f126\r\n- **Build**: 20200702.2\r\n- **Date Produced**: 7/2/2020 11:37 PM\r\n- **Commit**: 82578bf4a377676e310de9a7179f6b187dc3975e\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms**: from 5.0.0-preview.8.20352.1 to 5.0.0-preview.8.20352.2\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3216","RelatedDescription":"Open PR \"[master] Update dependencies from dotnet/winforms\" (#3216)"},{"Id":"650236405","IsPullRequest":false,"CreatedAt":"2020-07-02T22:30:26","Actor":"vatsan-madhavan","Number":"3215","RawContent":null,"Title":"Enable h/w acceleration in RDP","State":"open","Body":"https://github.com/dotnet/wpf/blob/e7cad628c82f8761cac2070c80601ae8e75139a6/src/Microsoft.DotNet.Wpf/src/WpfGfx/core/common/display.cpp#L2128-L2134\r\n\r\nRemove that check for `m_fNonLocalDevicePresent` and DirectX h/w acceleration in RDP will start working. \r\n\r\nIn general, the overall role of `m_fNonLocalDevicePresent` may have to be re-evaluated and updated. <<Doubt this will be a big change.>>\r\n\r\nThis limitation (is s/w rendering in RDP) is no longer needed in WDDM driver model, though it made sense historically when XPDM drivers were in the mix in the ecosystem for .NET Framework. \r\n\r\n**Stretch goal:** Prove this works well and is safe in .NET 5 and then port the change to .NET 4.8. All the remote working software devs who use Visual Studio over RDP would love the improvement. \r\n\r\n/cc @fabiant3 , @SamBent - I’d be happy to contribute if you are open to take this change. Not sure whether the timing is right wrt .NET 5 schedule etc. ","Url":"https://github.com/dotnet/wpf/issues/3215","RelatedDescription":"Open issue \"Enable h/w acceleration in RDP\" (#3215)"},{"Id":"650230622","IsPullRequest":false,"CreatedAt":"2020-07-02T22:14:01","Actor":"vatsan-madhavan","Number":"3214","RawContent":null,"Title":"PresentationNative DllImport workaround to SetLastErrror(0) to deal with ambiguous returns (eg NULL is both valid & err) can be removed","State":"open","Body":"https://github.com/dotnet/wpf/blob/ac9d1b7a6b0ee7c44fd2875a1174b820b3940619/src/Microsoft.DotNet.Wpf/src/Shared/MS/Win32/NativeMethodsSetLastError.cs#L45-L46\r\n\r\nSeveral P/Invokes exist into PresentationNative that do this: \r\n\r\n```C\r\nSetLastError(0);\r\nreturn CallWin32Fn(...);\r\n```\r\n\r\nFor eg, `GetWindowLong`, `GetWindowTextLength` etc. use this pattern. This is needed because the function can return NULL, `0` etc. both as a valid value and as an error, and the caller must rely `GetLastErrror` to disambiguate and know for sure whether the call succeeded or failed when such a return value is observed. \r\n\r\nIn . NET Core, [Marshal.GetLastWin32Error Method](https://docs.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.marshal.getlastwin32error) says: \r\n\r\n> There is a difference in the behavior of the GetLastWin32Error method on .NET Core and .NET Framework when DllImportAttribute.SetLastError is true. On .NET Framework, the GetLastWin32Error method can retain error information from one P/Invoke call to the next. On .NET Core, error information is cleared before P/Invoke call, and the GetLastWin32Error represents only error information from the last method call.\r\n\r\nGiven this, it’s likely that these P/Invokes can be simplified and the dependency on PresentationNative can be removed. \r\n\r\n/cc @SamBent ","Url":"https://github.com/dotnet/wpf/issues/3214","RelatedDescription":"Open issue \"PresentationNative DllImport workaround to SetLastErrror(0) to deal with ambiguous returns (eg NULL is both valid & err) can be removed\" (#3214)"},{"Id":"650155427","IsPullRequest":false,"CreatedAt":"2020-07-02T19:24:18","Actor":"CreateAndInject","Number":"3213","RawContent":null,"Title":"PI is the abbreviation for ???","State":"open","Body":"I found there's a PIMapping, so I want to PI is the abbreviation for ???","Url":"https://github.com/dotnet/wpf/issues/3213","RelatedDescription":"Open issue \"PI is the abbreviation for ???\" (#3213)"},{"Id":"648971814","IsPullRequest":true,"CreatedAt":"2020-07-02T13:58:49","Actor":"dotnet-maestro[bot]","Number":"3209","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Subscription**: 46a15fe4-6c2c-480d-9cdd-08d71053b252\r\n- **Build**: 20200702.2\r\n- **Date Produced**: 7/2/2020 1:25 PM\r\n- **Commit**: de3c9e8baf10ae7aeb060ecd41e8724966f5151b\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng**: from 5.0.0-preview.8.20330.2 to 5.0.0-preview.8.20352.2\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3209","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#3209)"},{"Id":"649932299","IsPullRequest":true,"CreatedAt":"2020-07-02T13:44:45","Actor":"dotnet-maestro[bot]","Number":"3212","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 256c8be3-de58-46f5-d219-08d6ba11f126\r\n- **Build**: 20200702.1\r\n- **Date Produced**: 7/2/2020 1:19 PM\r\n- **Commit**: 2588f06ce07240357729c0eaf2cda8712cdd9694\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms**: from 5.0.0-preview.8.20330.3 to 5.0.0-preview.8.20352.1\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3212","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#3212)"},{"Id":"649876584","IsPullRequest":true,"CreatedAt":"2020-07-02T12:12:49","Actor":"dotnet-maestro[bot]","Number":"3211","RawContent":null,"Title":"[master] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:3a1d3bb6-c64d-406d-e8f4-08d648cf64cb)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 3a1d3bb6-c64d-406d-e8f4-08d648cf64cb\r\n- **Build**: 20200630.3\r\n- **Date Produced**: 6/30/2020 7:16 PM\r\n- **Commit**: 243cc92161ad44c2a07464425892daee19121c99\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.CodeAnalysis**: from 5.0.0-beta.20316.1 to 5.0.0-beta.20330.3\r\n  - **Microsoft.DotNet.GenAPI**: from 5.0.0-beta.20316.1 to 5.0.0-beta.20330.3\r\n  - **Microsoft.DotNet.Helix.Sdk**: from 5.0.0-beta.20316.1 to 5.0.0-beta.20330.3\r\n  - **Microsoft.DotNet.Arcade.Sdk**: from 5.0.0-beta.20316.1 to 5.0.0-beta.20330.3\r\n  - **Microsoft.DotNet.ApiCompat**: from 5.0.0-beta.20316.1 to 5.0.0-beta.20330.3\r\n\r\n[marker]: <> (End:3a1d3bb6-c64d-406d-e8f4-08d648cf64cb)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3211","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/arcade\" (#3211)"},{"Id":"649362407","IsPullRequest":false,"CreatedAt":"2020-07-01T22:23:44","Actor":"DanJBower","Number":"3210","RawContent":null,"Title":"Converters running on phantom elements","State":"open","Body":"* .NET Core Version:  3.1.301\r\n* Windows version: Windows 10 Version 2004 OS Build 19041.329\r\n* Does the bug reproduce also in WPF for .NET Framework 4.8?: Yes\r\n\r\n <!-- Read https://github.com/dotnet/wpf/blob/master/Documentation/issue-guide.md -->\r\n \r\n **Problem description:**\r\n\r\nMultibinding converter running on UIElements that have been deleted. I have an `ItemsControl` bound to an `ObservableCollection` and when it is cleared, converters are still executing the convert method.\r\n \r\n **Actual behavior:** <!-- callstack for crashes / exceptions -->\r\n \r\nI get an exception from one of the converters due to it running on a \"phantom\" element. The exception is one I am throwing but this only is thrown as a guard in the actual project. It should not be thrown after the observable collection is cleared because there should be nothing there for it to be checking.\r\n\r\n **Expected behavior:**\r\n\r\nConverters do not run on objects that no longer exist.\r\n \r\n **Minimal repro:**\r\n\r\n[https://github.com/DanJBower/ConverterBug](https://github.com/DanJBower/ConverterBug)\r\n\r\nTo get the error, click `Clear` then `Resize`.\r\n","Url":"https://github.com/dotnet/wpf/issues/3210","RelatedDescription":"Open issue \"Converters running on phantom elements\" (#3210)"},{"Id":"648617359","IsPullRequest":true,"CreatedAt":"2020-07-01T02:33:08","Actor":"dotnet-maestro[bot]","Number":"3208","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 256c8be3-de58-46f5-d219-08d6ba11f126\r\n- **Build**: 20200630.3\r\n- **Date Produced**: 7/1/2020 2:00 AM\r\n- **Commit**: 4c1c9d66bb6e4b430ec686d2c457537da3a7737c\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms**: from 5.0.0-preview.8.20330.2 to 5.0.0-preview.8.20330.3\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3208","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#3208)"},{"Id":"648494283","IsPullRequest":true,"CreatedAt":"2020-06-30T21:07:56","Actor":"wli3","Number":"3207","RawContent":null,"Title":"Add the property for MicrosoftWindowsDesktopSdkImported","State":"open","Body":"So SDK side of the change will not be blocked by WPF side of change\r\nMore info in https://github.com/dotnet/sdk/issues/12108","Url":"https://github.com/dotnet/wpf/pull/3207","RelatedDescription":"Open PR \"Add the property for MicrosoftWindowsDesktopSdkImported\" (#3207)"},{"Id":"648132483","IsPullRequest":true,"CreatedAt":"2020-06-30T12:54:23","Actor":"dotnet-maestro[bot]","Number":"3205","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Subscription**: 46a15fe4-6c2c-480d-9cdd-08d71053b252\r\n- **Build**: 20200630.2\r\n- **Date Produced**: 6/30/2020 12:22 PM\r\n- **Commit**: 95256cf7cedb04fd109670518753a45a8cd1c731\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng**: from 5.0.0-preview.8.20329.2 to 5.0.0-preview.8.20330.2\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3205","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#3205)"},{"Id":"648144705","IsPullRequest":false,"CreatedAt":"2020-06-30T12:47:38","Actor":"josvernon","Number":"3206","RawContent":null,"Title":"XamlReader.Load Failures","State":"open","Body":"I'm seeing issues with XamlReader.Load. They come via WPF but it may be that the root problem is actually in System.IO.Compression. \r\n\r\nThis is code that works in .NET 4.X but fails in .NET 5 Preview 5 & 6.\r\n\r\nMy code is much like this:\r\n\r\n```\r\nParserContext parserContext = new ParserContext();\r\nparserContext.XmlnsDictionary.Add(\"\", \"http://schemas.microsoft.com/winfx/2006/xaml/presentation\");\r\nparserContext.XmlnsDictionary.Add(\"x\", \"http://schemas.microsoft.com/winfx/2006/xaml\");\r\nparserContext.BaseUri = new Uri(\"pack://\" + _documentExporter.PackageUri.AbsoluteUri.Replace('/', ',') + \"/\");\r\nCanvas canvas = (Canvas)XamlReader.Load(xmlStream, parserContext); // *** Exception Here ***\r\n```\r\n\r\nThe exception that is thrown is XamlParseException but the inner exception is from System.IO.Compression,\r\n\r\n```\r\nSystem.Windows.Markup.XamlParseException: ''Failed to create a 'Color' from the text 'ContextColor /Resources/dc1d82f7-39c9-4539-a5fe-f0cffc7db8b6.icc 1,.81910431,.75130844,.63895631,.92820632'.' Line number '1' and line position '384'.'\r\n\r\nInnerException\r\n\"Entries cannot be opened multiple times in Update mode.\"\r\nSource\t\"System.IO.Compression\"\tstring\r\n   at System.IO.Compression.ZipArchiveEntry.OpenInUpdateMode()\r\n   at System.IO.Compression.ZipArchiveEntry.Open()\r\n   at System.IO.Packaging.ZipStreamManager.Open(ZipArchiveEntry zipArchiveEntry, FileMode streamFileMode, FileAccess streamFileAccess)\r\n   at System.IO.Packaging.ZipPackagePart.GetStreamCore(FileMode streamFileMode, FileAccess streamFileAccess)\r\n   at System.IO.Packaging.PackagePart.GetStream(FileMode mode, FileAccess access)\r\n   at MS.Internal.IO.Packaging.PackagePartExtensions.GetSeekableStream(PackagePart packPart, FileMode mode, FileAccess access)\r\n   at System.IO.Packaging.PackWebResponse.CachedResponse.GetResponseStream()\r\n   at System.IO.Packaging.PackWebResponse.GetResponseStream()\r\n   at System.Windows.Media.ColorContext.Initialize(Uri profileUri, Boolean isStandardProfileUriNotFromUser)\r\n   at System.Windows.Media.Color.FromProfile(Uri profileUri)\r\n   at System.Windows.Media.Color.FromAValues(Single a, Single[] values, Uri profileUri)\r\n   at MS.Internal.Parsers.ParseContextColor(String trimmedColor, IFormatProvider formatProvider, ITypeDescriptorContext context)\r\n   at MS.Internal.Parsers.ParseColor(String color, IFormatProvider formatProvider, ITypeDescriptorContext context)\r\n   at System.Windows.Media.ColorConverter.ConvertFrom(ITypeDescriptorContext td, CultureInfo ci, Object value)\r\n   at MS.Internal.Xaml.Runtime.ClrObjectRuntime.CreateObjectWithTypeConverter(ServiceProviderContext serviceContext, XamlValueConverter`1 ts, Object value)\r\n   at MS.Internal.Xaml.Runtime.ClrObjectRuntime.CreateFromValue(ServiceProviderContext serviceContext, XamlValueConverter`1 ts, Object value, XamlMember property)\r\n   at System.Xaml.XamlObjectWriter.Logic_CreateFromValue(ObjectWriterContext ctx, XamlValueConverter`1 typeConverter, Object value, XamlMember property, String targetName, IAddLineInfo lineInfo)\r\n```\r\n\r\nDoes this look like a known issue or does it need more detail?\r\n\r\nJos","Url":"https://github.com/dotnet/wpf/issues/3206","RelatedDescription":"Open issue \"XamlReader.Load Failures\" (#3206)"},{"Id":"648127195","IsPullRequest":true,"CreatedAt":"2020-06-30T12:45:57","Actor":"dotnet-maestro[bot]","Number":"3204","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 256c8be3-de58-46f5-d219-08d6ba11f126\r\n- **Build**: 20200630.2\r\n- **Date Produced**: 6/30/2020 12:12 PM\r\n- **Commit**: eff8a5d553991a75f362b5108a69cf8e66eb3447\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms**: from 5.0.0-preview.8.20330.1 to 5.0.0-preview.8.20330.2\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3204","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#3204)"},{"Id":"648091817","IsPullRequest":true,"CreatedAt":"2020-06-30T11:50:45","Actor":"dotnet-maestro[bot]","Number":"3203","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 256c8be3-de58-46f5-d219-08d6ba11f126\r\n- **Build**: 20200630.1\r\n- **Date Produced**: 6/30/2020 11:11 AM\r\n- **Commit**: fdb4350682224a6a8989b9559165d24dbf0d4f28\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms**: from 5.0.0-preview.8.20329.3 to 5.0.0-preview.8.20330.1\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3203","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#3203)"},{"Id":"647775009","IsPullRequest":true,"CreatedAt":"2020-06-30T01:32:26","Actor":"dotnet-maestro[bot]","Number":"3202","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 256c8be3-de58-46f5-d219-08d6ba11f126\r\n- **Build**: 20200629.3\r\n- **Date Produced**: 6/30/2020 1:08 AM\r\n- **Commit**: 5797d8e7b05b300feb8ee53990048bbce8492610\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms**: from 5.0.0-preview.8.20329.1 to 5.0.0-preview.8.20329.3\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3202","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#3202)"},{"Id":"647695198","IsPullRequest":false,"CreatedAt":"2020-06-29T21:51:10","Actor":"ClosetBugSlayer","Number":"3201","RawContent":null,"Title":"Official mouse events for WM_MOUSEHWHEEL horizontal wheel scrolling are not defined yet","State":"open","Body":"WPF handles WM_MOUSEWHEEL but this is only vertical wheel movement. It also needs to handle WM_MOUSEHWHEEL to handle horizontal wheel movement.\r\n\r\nThis isn't an obscure request; many of the mice that support horizontal wheel scrolling aren't using a physical wheel per se but a touch sensor on the middle mouse button to track finger scrolling in 4 directions. Another variation is the vertical physical wheel that tilts to the left or right for horizontal scrolling. Visual Studio is a WPF application that supports horizontal mouse scrolling in the editor but obviously not through the framework. We can get this generalized very cheaply.\r\n\r\nSystem.Windows.Input.Mouse has these members for vertical wheel scrolling:\r\npublic readonly static RoutedEvent PreviewMouseWheelEvent;\r\npublic readonly static RoutedEvent MouseWheelEvent;\r\n\r\nIt will need to add:\r\npublic readonly static RoutedEvent PreviewMouseHorizontalWheelEvent;\r\npublic readonly static RoutedEvent MouseHorizontalWheelEvent;\r\n\r\nOther public-facing classes that would need to change downwind for this to be generally available:\r\nUIElement\r\nUIElement3D\r\nContentElement\r\nScrollViewer\r\n\r\nEtc. It's basically uncontroversial boilerplate which is mostly copy-paste of the code for vertical scrolling, with minimal risk of side effects. The vertical and horizontal scrolling could theoretically be combined into a single event to allow diagonal scrolling, but Win32 reports vertical and horizontal scrolling separately from one another. Built-in controls could add high-level support for horizontal wheel scrolling on an ad-hoc basis, but opening this up will allow third-party developers to add support quickly at their own pace.\r\n","Url":"https://github.com/dotnet/wpf/issues/3201","RelatedDescription":"Open issue \"Official mouse events for WM_MOUSEHWHEEL horizontal wheel scrolling are not defined yet\" (#3201)"},{"Id":"647522783","IsPullRequest":false,"CreatedAt":"2020-06-29T16:48:39","Actor":"BrannonKing","Number":"3200","RawContent":null,"Title":"RenderingInvalidated flag is not cleared at the right time","State":"open","Body":"* This affects all versions of WPF and all platforms.\r\n \r\n **Problem description:**\r\nThe RenderingInvalidated flag should be cleared before rendering rather than after. It should be cleared right before the call to `RenderOpen()`. The problem is manifest when you have multiple properties that contain the \"AffectsRender\" flag and trigger propertyChanged events on those properties from non-UI threads. If you have a busy system AND modify multiple of those properties AND rely on the cross-thread propagation of the PropertyChanged event, the rendering will (often but not always) end in an out-of-date state.\r\n \r\n **Minimal repro:**\r\nIt is impossible to create a small reproduction of this issue. The problem does not show itself until the system gets busy enough that some threads cannot be immediately scheduled.","Url":"https://github.com/dotnet/wpf/issues/3200","RelatedDescription":"Open issue \"RenderingInvalidated flag is not cleared at the right time\" (#3200)"},{"Id":"647363410","IsPullRequest":true,"CreatedAt":"2020-06-29T13:25:17","Actor":"dotnet-maestro[bot]","Number":"3198","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n- **Microsoft.Win32.Registry**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6 (parent: Microsoft.Private.Winforms)\r\n- **System.CodeDom**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6 (parent: Microsoft.Private.Winforms)\r\n- **System.Configuration.ConfigurationManager**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6 (parent: Microsoft.Private.Winforms)\r\n- **System.Diagnostics.EventLog**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6 (parent: Microsoft.Private.Winforms)\r\n- **System.DirectoryServices**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6 (parent: Microsoft.Private.Winforms)\r\n- **System.Drawing.Common**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6 (parent: Microsoft.Private.Winforms)\r\n- **System.Reflection.MetadataLoadContext**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6 (parent: Microsoft.Private.Winforms)\r\n- **System.Security.AccessControl**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6 (parent: Microsoft.Private.Winforms)\r\n- **System.Security.Cryptography.Xml**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6 (parent: Microsoft.Private.Winforms)\r\n- **System.Security.Permissions**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6 (parent: Microsoft.Private.Winforms)\r\n- **System.Security.Principal.Windows**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6 (parent: Microsoft.Private.Winforms)\r\n- **System.Windows.Extensions**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.Platforms**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6 (parent: Microsoft.Private.Winforms)\r\n- **System.IO.Packaging**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.ILDAsm**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.ILAsm**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6 (parent: Microsoft.Private.Winforms)\r\n- **System.Resources.Extensions**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App.Internal**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6 (parent: Microsoft.Private.Winforms)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 256c8be3-de58-46f5-d219-08d6ba11f126\r\n- **Build**: 20200629.1\r\n- **Date Produced**: 6/29/2020 12:56 PM\r\n- **Commit**: a94d97cc72cbf87e8d25df74f4c9d7706020e90e\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms**: from 5.0.0-preview.8.20328.4 to 5.0.0-preview.8.20329.1\r\n  - **Microsoft.Win32.Registry**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6\r\n  - **System.CodeDom**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6\r\n  - **System.Configuration.ConfigurationManager**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6\r\n  - **System.Diagnostics.EventLog**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6\r\n  - **System.DirectoryServices**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6\r\n  - **System.Drawing.Common**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6\r\n  - **System.Reflection.MetadataLoadContext**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6\r\n  - **System.Security.AccessControl**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6\r\n  - **System.Security.Cryptography.Xml**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6\r\n  - **System.Security.Permissions**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6\r\n  - **System.Security.Principal.Windows**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6\r\n  - **System.Windows.Extensions**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6\r\n  - **Microsoft.NETCore.Platforms**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6\r\n  - **System.IO.Packaging**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6\r\n  - **Microsoft.NETCore.ILDAsm**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6\r\n  - **Microsoft.NETCore.ILAsm**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6\r\n  - **System.Resources.Extensions**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6\r\n  - **Microsoft.NETCore.App.Internal**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.6\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3198","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#3198)"},{"Id":"647366985","IsPullRequest":true,"CreatedAt":"2020-06-29T13:25:12","Actor":"dotnet-maestro[bot]","Number":"3199","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Subscription**: 46a15fe4-6c2c-480d-9cdd-08d71053b252\r\n- **Build**: 20200629.2\r\n- **Date Produced**: 6/29/2020 1:01 PM\r\n- **Commit**: b82a112d440c556e0556dd5352bb85fd31796c9f\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng**: from 5.0.0-preview.8.20328.2 to 5.0.0-preview.8.20329.2\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3199","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#3199)"},{"Id":"647166774","IsPullRequest":true,"CreatedAt":"2020-06-29T07:16:32","Actor":"dotnet-maestro[bot]","Number":"3197","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 256c8be3-de58-46f5-d219-08d6ba11f126\r\n- **Build**: 20200628.4\r\n- **Date Produced**: 6/29/2020 6:48 AM\r\n- **Commit**: eec805f48eca844907ab0a38463832cc02519a1c\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms**: from 5.0.0-preview.8.20328.2 to 5.0.0-preview.8.20328.4\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3197","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#3197)"},{"Id":"647139613","IsPullRequest":true,"CreatedAt":"2020-06-29T06:24:38","Actor":"dotnet-maestro[bot]","Number":"3196","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 256c8be3-de58-46f5-d219-08d6ba11f126\r\n- **Build**: 20200628.2\r\n- **Date Produced**: 6/29/2020 5:55 AM\r\n- **Commit**: cc0c82707b7cb37632549dbb8105be0f870f5cd8\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms**: from 5.0.0-preview.8.20328.1 to 5.0.0-preview.8.20328.2\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3196","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#3196)"},{"Id":"647022494","IsPullRequest":true,"CreatedAt":"2020-06-28T23:29:14","Actor":"dotnet-maestro[bot]","Number":"3195","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n- **Microsoft.Win32.Registry**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1 (parent: Microsoft.Private.Winforms)\r\n- **System.CodeDom**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1 (parent: Microsoft.Private.Winforms)\r\n- **System.Configuration.ConfigurationManager**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1 (parent: Microsoft.Private.Winforms)\r\n- **System.Diagnostics.EventLog**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1 (parent: Microsoft.Private.Winforms)\r\n- **System.DirectoryServices**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1 (parent: Microsoft.Private.Winforms)\r\n- **System.Drawing.Common**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1 (parent: Microsoft.Private.Winforms)\r\n- **System.Reflection.MetadataLoadContext**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1 (parent: Microsoft.Private.Winforms)\r\n- **System.Security.AccessControl**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1 (parent: Microsoft.Private.Winforms)\r\n- **System.Security.Cryptography.Xml**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1 (parent: Microsoft.Private.Winforms)\r\n- **System.Security.Permissions**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1 (parent: Microsoft.Private.Winforms)\r\n- **System.Security.Principal.Windows**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1 (parent: Microsoft.Private.Winforms)\r\n- **System.Windows.Extensions**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.Platforms**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1 (parent: Microsoft.Private.Winforms)\r\n- **System.IO.Packaging**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.ILDAsm**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.ILAsm**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1 (parent: Microsoft.Private.Winforms)\r\n- **System.Resources.Extensions**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App.Internal**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1 (parent: Microsoft.Private.Winforms)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 256c8be3-de58-46f5-d219-08d6ba11f126\r\n- **Build**: 20200628.1\r\n- **Date Produced**: 6/28/2020 10:45 PM\r\n- **Commit**: 697e81d2c471b9c20dacf03a2aaf48c52633aa37\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms**: from 5.0.0-preview.8.20326.1 to 5.0.0-preview.8.20328.1\r\n  - **Microsoft.Win32.Registry**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1\r\n  - **System.CodeDom**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1\r\n  - **System.Configuration.ConfigurationManager**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1\r\n  - **System.Diagnostics.EventLog**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1\r\n  - **System.DirectoryServices**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1\r\n  - **System.Drawing.Common**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1\r\n  - **System.Reflection.MetadataLoadContext**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1\r\n  - **System.Security.AccessControl**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1\r\n  - **System.Security.Cryptography.Xml**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1\r\n  - **System.Security.Permissions**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1\r\n  - **System.Security.Principal.Windows**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1\r\n  - **System.Windows.Extensions**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1\r\n  - **Microsoft.NETCore.Platforms**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1\r\n  - **System.IO.Packaging**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1\r\n  - **Microsoft.NETCore.ILDAsm**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1\r\n  - **Microsoft.NETCore.ILAsm**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1\r\n  - **System.Resources.Extensions**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1\r\n  - **Microsoft.NETCore.App.Internal**: from 5.0.0-preview.8.20325.1 to 5.0.0-preview.8.20328.1\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3195","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#3195)"},{"Id":"646986808","IsPullRequest":false,"CreatedAt":"2020-06-28T19:09:24","Actor":"ClosetBugSlayer","Number":"3194","RawContent":null,"Title":"PrintDialog can only be invoked from Application.Current.Dispatcher.CurrentThread","State":"open","Body":"PrintDialog is not compatible with multithreaded WPF apps that create windows on threads other than the one specified by Application.Current.Dispatcher.CurrentThread.\r\n\r\nPrintDialog.ShowDialog() copies the properties to an internal Win32PrintDialog class then calls Win32PrintDialog.ShowDialog():\r\nhttps://github.com/dotnet/wpf/blob/master/src/Microsoft.DotNet.Wpf/src/PresentationFramework/System/Windows/Controls/PrintDialog.cs\r\n\r\nIn the beginning of Win32PrintDialog.ShowDialog() you have this:\r\nhttps://github.com/dotnet/wpf/blob/master/src/Microsoft.DotNet.Wpf/src/PresentationFramework/MS/Internal/Printing/Win32PrintDialog.cs\r\n\r\n```csharp\r\n//\r\n// Get the process main window handle\r\n//\r\nIntPtr owner = IntPtr.Zero;\r\n\r\nif ((System.Windows.Application.Current != null) &&\r\n    (System.Windows.Application.Current.MainWindow != null))\r\n{\r\n    System.Windows.Interop.WindowInteropHelper helper =\r\n        new System.Windows.Interop.WindowInteropHelper(System.Windows.Application.Current.MainWindow);\r\n    owner = helper.CriticalHandle;\r\n}\r\n```\r\n\r\nThe problem is that if you are not running on the same thread as Application.Current.Dispatcher.CurrentThread, then you are not allowed to even access the MainWindow property because it does a hard thread check with VerifyAccess() which throws an InvalidOperationException. Furthermore, there doesn't even seem to be clear guarantees that MainWindow itself was created on the thread.\r\nhttps://github.com/dotnet/wpf/blob/master/src/Microsoft.DotNet.Wpf/src/PresentationFramework/System/Windows/Application.cs\r\n\r\n```csharp\r\npublic Window MainWindow\r\n{\r\n    get\r\n    {\r\n        base.VerifyAccess();\r\n        return this._mainWindow;\r\n    }\r\n    set { }\r\n}\r\n```\r\n\r\nIf the PrintDialog needs to force an owner window, it should use the active window for the thread not the global window saved in Application.MainWindow. Unfortunately WPF seems to offer no way to do this. Individual Dispatchers don't seem to keep track of windows. **Win32PrintDialog could use Win32's GetActiveWindow() directly because it doesn't use the Window object only the HWND value.**\r\n\r\nTo prevent PrintDialog from being unusable in the interim, the if-statement could at least be stripped out completely or patched to the following:\r\n\r\n```csharp\r\nif ((System.Windows.Application.Current != null) &&\r\n    System.Windows.Application.Current.CheckAccess() &&\r\n    (System.Windows.Application.Current.MainWindow != null)\r\n    System.Windows.Application.Current.MainWindow.CheckAccess())\r\n{\r\n    System.Windows.Interop.WindowInteropHelper helper =\r\n        new System.Windows.Interop.WindowInteropHelper(System.Windows.Application.Current.MainWindow);\r\n    owner = helper.CriticalHandle;\r\n}\r\n```\r\n\r\nor more cleanly:\r\n\r\n```csharp\r\nvar appInstance = System.Windows.Application.Current;\r\nif ((appInstance?.CheckAccess() == true) &&\r\n    (appInstance.MainWindow?.CheckAccess() == true)\r\n{\r\n    System.Windows.Interop.WindowInteropHelper helper =\r\n        new System.Windows.Interop.WindowInteropHelper(appInstance.MainWindow);\r\n    owner = helper.CriticalHandle;\r\n}\r\n```\r\n","Url":"https://github.com/dotnet/wpf/issues/3194","RelatedDescription":"Open issue \"PrintDialog can only be invoked from Application.Current.Dispatcher.CurrentThread\" (#3194)"},{"Id":"646980642","IsPullRequest":false,"CreatedAt":"2020-06-28T18:31:57","Actor":"ClosetBugSlayer","Number":"3193","RawContent":null,"Title":"Causes of WindowChrome flickering identified","State":"open","Body":"People have had problems with WindowChrome flickering.  In my situation I tracked the bug down to the loop in my code which was changing the window title 3 times a second to \"scroll\" it like WinAmp.\r\n\r\nIn WindowChromeWorker._HandleSetTextOrIcon() the WPF framework code plays a trick where it clears WS_VISIBLE before forwarding WM_SETTEXT to DefWindowProc, and then sets it back after returning. The comment says this is done to trick DefWindowProc into not redrawing the caption.\r\n\r\nIn WindowChromeWorker._UpdateSystemMenu() which is called on every WM_SIZE, the code does the same exact trick with WS_VISIBLE.\r\n\r\nThis means that every time your window is resized, or the caption is changed, or the window icon is changed, WindowChrome will clear WS_VISIBLE and then reset it.\r\n\r\nhttps://github.com/dotnet/wpf/blob/master/src/Microsoft.DotNet.Wpf/src/PresentationFramework/System/Windows/Shell/WindowChromeWorker.cs\r\n\r\nThe problem is that this is the official way to hide and show a window and will not merely behave as a private-data-only change. If the DWM catches the window style change it will hide the window during the DefWindowProc call. Usually it happens fast but it can become a nuisance. This is horrible because if you try to click the window at the wrong time when it is briefly hidden, you will click into emptiness and activate the window underneath it instead. The Windows+Tab virtual desktop switcher is less subtle; every time the WndProc clears WS_VISIBLE for text or icon, the switcher will repeatedly remove the window from the list and add it back, shifting all the other windows around and causing a lot of redraws.\r\n\r\nI don't know what the fix should be, but the current situation is unacceptable. Perhaps something could be done like in the _HandleNCActivate() call underneath, which passes an undocumented parameter to DefWindowProc to suppress unwanted behavior. In the meantime I need to phase out all usage of WindowChrome in my code until this is fixed and I advise others to do likewise.","Url":"https://github.com/dotnet/wpf/issues/3193","RelatedDescription":"Open issue \"Causes of WindowChrome flickering identified\" (#3193)"},{"Id":"646916546","IsPullRequest":true,"CreatedAt":"2020-06-28T13:24:09","Actor":"dotnet-maestro[bot]","Number":"3192","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Subscription**: 46a15fe4-6c2c-480d-9cdd-08d71053b252\r\n- **Build**: 20200628.2\r\n- **Date Produced**: 6/28/2020 1:01 PM\r\n- **Commit**: 6f2d7c8e790bf777965c40cd0f5dc26b5d06717c\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng**: from 5.0.0-preview.8.20327.2 to 5.0.0-preview.8.20328.2\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3192","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#3192)"},{"Id":"646679544","IsPullRequest":true,"CreatedAt":"2020-06-27T13:31:21","Actor":"dotnet-maestro[bot]","Number":"3191","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Subscription**: 46a15fe4-6c2c-480d-9cdd-08d71053b252\r\n- **Build**: 20200627.2\r\n- **Date Produced**: 6/27/2020 12:59 PM\r\n- **Commit**: c0b6360c5cc0ec8cc9bd9b8273af31c2e4b1cd83\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng**: from 5.0.0-preview.8.20326.2 to 5.0.0-preview.8.20327.2\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3191","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#3191)"},{"Id":"646547745","IsPullRequest":false,"CreatedAt":"2020-06-26T22:46:13","Actor":"ben-reilly","Number":"3190","RawContent":null,"Title":"Dashes in a line are drawn at a minimum 0.05px before scaling","State":"open","Body":"* .NET Core Version: 3.1\r\n* Windows version: Windows 10, Version 1909\r\n* Does the bug reproduce also in WPF for .NET Framework 4.8?: *Partially* (some variations on the bug introduced in Core; see below)\r\n* Is this bug related specifically to tooling in Visual Studio (e.g. XAML Designer, Code editing, etc...)? No\r\n \r\n **Problem description:**\r\n\r\nThere are a handful bugs related to dashes. The first one is why I wrote this report, but the other two came up as I tried to create a minimal repro.\r\n\r\n1. When a dashed line is drawn in a `DrawingContext` such that *before scaling* the length of the dash is *shorter* than **0.05px**, then the dash is rendered at 0.05px *before scaling*.\r\n2. The final dash in a line may either not be drawn (.NET Framework 4.8) or blink in and out while scrolling horizontally (.NET Core 3.1).\r\n3. The last dash in a line may be longer than the other ones.\r\n \r\n **Actual behavior:**\r\n\r\n1. When very small dashes are scaled up, they are larger than they should be. e.g. A 0.01px dash before scaling, scaled 100x, should be 1px long. However, it is first rendered at the minimum 0.05px, then scaled 100x to 5px.\r\n2. See above.\r\n3. See above.\r\n \r\n **Expected behavior:**\r\n\r\n1. Dashes should not have a size cap before scaling.\r\n2. Lines aren't missing any dashes, and they are drawn regardless of scrolling behaviour.\r\n3. All dashes in a line are the same length.\r\n \r\n **Minimal repro:**\r\n\r\nCore 3.1 and Framework 4.8 demo projects here: https://github.com/ben-reilly/wpf-dash-render-test\r\n","Url":"https://github.com/dotnet/wpf/issues/3190","RelatedDescription":"Open issue \"Dashes in a line are drawn at a minimum 0.05px before scaling\" (#3190)"},{"Id":"646411322","IsPullRequest":true,"CreatedAt":"2020-06-26T18:04:09","Actor":"dotnet-maestro[bot]","Number":"3189","RawContent":null,"Title":"[release/5.0-preview7] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n- **Microsoft.Win32.Registry**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1 (parent: Microsoft.Private.Winforms)\r\n- **System.CodeDom**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1 (parent: Microsoft.Private.Winforms)\r\n- **System.Configuration.ConfigurationManager**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1 (parent: Microsoft.Private.Winforms)\r\n- **System.Diagnostics.EventLog**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1 (parent: Microsoft.Private.Winforms)\r\n- **System.DirectoryServices**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1 (parent: Microsoft.Private.Winforms)\r\n- **System.Drawing.Common**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1 (parent: Microsoft.Private.Winforms)\r\n- **System.Reflection.MetadataLoadContext**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1 (parent: Microsoft.Private.Winforms)\r\n- **System.Security.AccessControl**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1 (parent: Microsoft.Private.Winforms)\r\n- **System.Security.Cryptography.Xml**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1 (parent: Microsoft.Private.Winforms)\r\n- **System.Security.Permissions**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1 (parent: Microsoft.Private.Winforms)\r\n- **System.Security.Principal.Windows**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1 (parent: Microsoft.Private.Winforms)\r\n- **System.Windows.Extensions**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.Platforms**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1 (parent: Microsoft.Private.Winforms)\r\n- **System.IO.Packaging**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.ILDAsm**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.ILAsm**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1 (parent: Microsoft.Private.Winforms)\r\n- **System.Resources.Extensions**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App.Internal**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1 (parent: Microsoft.Private.Winforms)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n[marker]: <> (Begin:14488d01-4e4b-4cf9-4e12-08d812f95845)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 14488d01-4e4b-4cf9-4e12-08d812f95845\r\n- **Build**: 20200626.2\r\n- **Date Produced**: 6/26/2020 5:24 PM\r\n- **Commit**: 75d0c6f01cef21a6fcaa2c6d98f09434e31a0190\r\n- **Branch**: refs/heads/release/5.0-preview7\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms**: from 5.0.0-preview.7.20323.5 to 5.0.0-preview.7.20326.2\r\n  - **Microsoft.Win32.Registry**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1\r\n  - **System.CodeDom**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1\r\n  - **System.Configuration.ConfigurationManager**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1\r\n  - **System.Diagnostics.EventLog**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1\r\n  - **System.DirectoryServices**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1\r\n  - **System.Drawing.Common**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1\r\n  - **System.Reflection.MetadataLoadContext**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1\r\n  - **System.Security.AccessControl**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1\r\n  - **System.Security.Cryptography.Xml**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1\r\n  - **System.Security.Permissions**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1\r\n  - **System.Security.Principal.Windows**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1\r\n  - **System.Windows.Extensions**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1\r\n  - **Microsoft.NETCore.Platforms**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1\r\n  - **System.IO.Packaging**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1\r\n  - **Microsoft.NETCore.ILDAsm**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1\r\n  - **Microsoft.NETCore.ILAsm**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1\r\n  - **System.Resources.Extensions**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1\r\n  - **Microsoft.NETCore.App.Internal**: from 5.0.0-preview.7.20323.4 to 5.0.0-preview.7.20326.1\r\n\r\n[marker]: <> (End:14488d01-4e4b-4cf9-4e12-08d812f95845)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3189","RelatedDescription":"Closed or merged PR \"[release/5.0-preview7] Update dependencies from dotnet/winforms\" (#3189)"},{"Id":"646353539","IsPullRequest":true,"CreatedAt":"2020-06-26T15:49:23","Actor":"mmitche","Number":"3188","RawContent":null,"Title":"Recategorize dependencies","State":"open","Body":"- Recategorize the runtime and wpf-int dependencies as product.\r\n- Remove the CPD attributes on the corefx and coreclr dependencies to work with CPD-strict","Url":"https://github.com/dotnet/wpf/pull/3188","RelatedDescription":"Open PR \"Recategorize dependencies\" (#3188)"},{"Id":"646265072","IsPullRequest":false,"CreatedAt":"2020-06-22T15:25:12","Actor":"antymon4o","Number":"3187","RawContent":null,"Title":"System.Xaml.XamlServices is not available on dotnet/runtime ","State":"open","Body":"Xaml Services is not available on .NET Core Runtime. It is only available on Desktop Runtime as part of the WPF. \r\nDesktop Runtime is only supported on Windows OS, so the use of Xaml Services is available only on Windows.\r\nGiven that the base functionality of the Xaml services is not platform specific, it should be included in the base runtime and be available for all the supported OS of dotnet.\r\nThe concepts and capabilities of Xaml Services - reading/writing, type converters and markup extensions, etc - are so powerful that they can be used in an broader use cases than WPF. \r\nOne example for such use case is a library for developing  Web applications. Using ASP.NET Core Runtime and Xaml for View definition, one can create multi platform web application that can run on  both Windows and Linux.","Url":"https://github.com/dotnet/wpf/issues/3187","RelatedDescription":"Open issue \"System.Xaml.XamlServices is not available on dotnet/runtime \" (#3187)"}],"ResultType":"GitHubIssue"}},"RunOn":"2020-07-03T05:30:50.8167113Z","RunDurationInMilliseconds":607}