{"Data":{"GitHub":{"Issues":[{"Id":"2472311302","IsPullRequest":true,"CreatedAt":"2024-08-19T02:15:21","Actor":"dotnet-maestro[bot]","Number":"9601","RawContent":null,"Title":"[release/9.0-rc1] Update dependencies from dotnet/winforms","State":"open","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Coherency Updates**:\r\n  - **System.Reflection.MetadataLoadContext**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Windows.Extensions**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.Platforms**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Resources.Extensions**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Runtime.Serialization.Formatters**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Ref**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.9.0**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.Win32.Registry.AccessControl**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.Win32.SystemEvents**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.CodeDom**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.ComponentModel.Composition**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Configuration.ConfigurationManager**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Data.Odbc**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Data.OleDb**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.EventLog**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.PerformanceCounter**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices.AccountManagement**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices.Protocols**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Formats.Nrbf**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Packaging**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Ports**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Management**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Reflection.Context**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Runtime.Caching**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Pkcs**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.ProtectedData**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Xml**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Permissions**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.ServiceModel.Syndication**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.ServiceProcess.ServiceController**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Speech**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Text.Encoding.CodePages**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Threading.AccessControl**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.ComponentModel.Composition.Registration**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3 (parent: Microsoft.Private.Winforms)\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n[marker]: <> (Begin:4d82dce3-27ac-4509-788e-08dcbc301dc2)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 4d82dce3-27ac-4509-788e-08dcbc301dc2\r\n- **Build**: 20240818.1\r\n- **Date Produced**: August 19, 2024 2:01:22 AM UTC\r\n- **Commit**: af0f72c62a4a6b4fd2ce7f96f2b769099e562915\r\n- **Branch**: refs/heads/release/9.0-rc1\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 9.0.0-rc.1.24407.3 to 9.0.0-rc.1.24418.1][1]\r\n  - **Microsoft.Private.Winforms**: [from 9.0.0-rc.1.24407.3 to 9.0.0-rc.1.24418.1][1]\r\n  - **System.Drawing.Common**: [from 9.0.0-rc.1.24407.3 to 9.0.0-rc.1.24418.1][1]\r\n  - **System.Reflection.MetadataLoadContext**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.Windows.Extensions**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **Microsoft.NETCore.Platforms**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.Resources.Extensions**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.Runtime.Serialization.Formatters**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **Microsoft.NETCore.App.Ref**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.9.0**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **Microsoft.Win32.Registry.AccessControl**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **Microsoft.Win32.SystemEvents**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.CodeDom**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.ComponentModel.Composition**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.Configuration.ConfigurationManager**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.Data.Odbc**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.Data.OleDb**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.Diagnostics.EventLog**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.Diagnostics.PerformanceCounter**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.DirectoryServices.AccountManagement**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.DirectoryServices.Protocols**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.DirectoryServices**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.Formats.Nrbf**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.IO.Packaging**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.IO.Ports**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.Management**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.Reflection.Context**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.Runtime.Caching**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.Security.Cryptography.Pkcs**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.Security.Cryptography.ProtectedData**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.Security.Cryptography.Xml**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.Security.Permissions**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.ServiceModel.Syndication**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.ServiceProcess.ServiceController**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.Speech**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.Text.Encoding.CodePages**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.Threading.AccessControl**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n  - **System.ComponentModel.Composition.Registration**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24418.3][2]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/7006c1c2c5...af0f72c62a\r\n[2]: https://github.com/dotnet/runtime/compare/4985021ebf...01607d3819\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:4d82dce3-27ac-4509-788e-08dcbc301dc2)\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9601)","Url":"https://github.com/dotnet/wpf/pull/9601","RelatedDescription":"Open PR \"[release/9.0-rc1] Update dependencies from dotnet/winforms\" (#9601)"},{"Id":"2472128467","IsPullRequest":true,"CreatedAt":"2024-08-18T20:18:30","Actor":"h3xds1nz","Number":"9600","RawContent":null,"Title":"Use MemoryExtensions.Split over string.Split to decrease allocations/improve perf","State":"open","Body":"## Description\r\n\r\nPicks off most places where `string.Split` is used just for parts count or where additional operations are performed on the split strings so it makes sense to work with `ReadOnlySpan<char>`/`SpanSplitEnumerator<char>` instead.\r\n\r\n### Using `string.Split` vs `SpanSplitEnumerator<char>` for counting\r\n\r\n| Method   | updatedFilter        | Mean [ns] | Error [ns] | StdDev [ns] | Gen0   | Code Size [B] | Allocated [B] |\r\n|--------- |--------------------- |----------:|-----------:|------------:|-------:|--------------:|--------------:|\r\n| Original | Image(...))\\|\\*.\\* [68] |  49.09 ns |   0.676 ns |    0.600 ns | 0.0172 |         672 B |         288 B |\r\n| PR__EDIT | Image(...))\\|\\*.\\* [68] |  17.23 ns |   0.075 ns |    0.066 ns |      - |         412 B |             - |\r\n\r\n<details><summary>Benchmark code</summary>\r\n\r\n```csharp\r\n[Benchmark]\r\n[Arguments(\"Image Files(*.BMP;*.JPG;*.GIF)|*.BMP;*.JPG;*.GIF|All files (*.*)|*.*\")]\r\npublic  int Original(string updatedFilter)\r\n{\r\n    string[] formats = updatedFilter.Split('|');\r\n\r\n    return formats.Length; \r\n}\r\n\r\n[Benchmark]\r\n[Arguments(\"Image Files(*.BMP;*.JPG;*.GIF)|*.BMP;*.JPG;*.GIF|All files (*.*)|*.*\")]\r\npublic int PR__EDIT(string updatedFilter)\r\n{\r\n    int formatsCount = 0;\r\n    foreach (Range range in updatedFilter.AsSpan().Split('|'))\r\n        formatsCount++;\r\n\r\n    return formatsCount;\r\n}\r\n```\r\n\r\n</details>\r\n\r\n## Customer Impact\r\n\r\nImproved performance, decreased allocations.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nLocal build/CI.\r\n\r\n## Risk\r\n\r\nLow.\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9600)","Url":"https://github.com/dotnet/wpf/pull/9600","RelatedDescription":"Open PR \"Use MemoryExtensions.Split over string.Split to decrease allocations/improve perf\" (#9600)"},{"Id":"2472111864","IsPullRequest":true,"CreatedAt":"2024-08-18T19:28:18","Actor":"h3xds1nz","Number":"9599","RawContent":null,"Title":"Optimize working with filters and extensions in FileDialog, decrease allocations","State":"open","Body":"## Description\r\n\r\nDecreases allocations and improves performance when working with `FileDialog` and the derived classes.\r\n- `COMDLG_FILTERSPEC` is now a `readonly struct`, it is defined as `const` in the COM interop.\r\n- Replaced string overloads for `StartsWith`, `IndexOf` etc. with char overload instead of single-character strings.\r\n- `string.CompareOrdinal` replaced with `string.Equals(a, b, StringComparison.Ordinal)`\r\n- Instead of using `string.Split` to get `Length` we count them using `SpanSplitEnumerator<char>`\r\n- `GetFilterItems` will no longer allocate a `List<COMDLG_FILTERSPEC>` with `ToArray()` conversion.\r\n- `GetFilterExtensions` will no longer allocate a `List<string>` with `ToArray()` conversion.\r\n- Removed obsolete CAS remarks on `FileDialog` and derived classes.\r\n\r\n### Using `string.Split` vs `SpanSplitEnumerator<char>` for counting\r\n\r\n| Method   | updatedFilter        | Mean [ns] | Error [ns] | StdDev [ns] | Gen0   | Code Size [B] | Allocated [B] |\r\n|--------- |--------------------- |----------:|-----------:|------------:|-------:|--------------:|--------------:|\r\n| Original | Image(...))\\|\\*.\\* [68] |  49.09 ns |   0.676 ns |    0.600 ns | 0.0172 |         672 B |         288 B |\r\n| PR__EDIT | Image(...))\\|\\*.\\* [68] |  17.23 ns |   0.075 ns |    0.066 ns |      - |         412 B |             - |\r\n\r\n<details><summary>Benchmark code</summary>\r\n\r\n```csharp\r\n[Benchmark]\r\n[Arguments(\"Image Files(*.BMP;*.JPG;*.GIF)|*.BMP;*.JPG;*.GIF|All files (*.*)|*.*\")]\r\npublic  int Original(string updatedFilter)\r\n{\r\n    string[] formats = updatedFilter.Split('|');\r\n\r\n    return formats.Length; \r\n}\r\n\r\n[Benchmark]\r\n[Arguments(\"Image Files(*.BMP;*.JPG;*.GIF)|*.BMP;*.JPG;*.GIF|All files (*.*)|*.*\")]\r\npublic int PR__EDIT(string updatedFilter)\r\n{\r\n    int formatsCount = 0;\r\n    foreach (Range range in updatedFilter.AsSpan().Split('|'))\r\n        formatsCount++;\r\n\r\n    return formatsCount;\r\n}\r\n```\r\n\r\n</details>\r\n\r\n### GetFilterItems benchmark\r\n\r\n| Method   | filter               | Mean [ns] | Error [ns] | StdDev [ns] | Gen0   | Code Size [B] | Allocated [B] |\r\n|--------- |--------------------- |----------:|-----------:|------------:|-------:|--------------:|--------------:|\r\n| Original | Image(...))\\|\\*.\\* [68] |  80.42 ns |   1.255 ns |    1.113 ns | 0.0277 |       2,413 B |         464 B |\r\n| PR__EDIT | Image(...))\\|\\*.\\* [68] |  58.19 ns |   0.809 ns |    0.757 ns | 0.0206 |         870 B |         344 B |\r\n| Original | Imag(...)\\|\\*.\\* [206] |  213.0 ns |    4.28 ns |     5.71 ns | 0.0720 |       2,402 B |        1208 B |\r\n| PR__EDIT | Imag(...)\\|\\*.\\* [206] |  158.0 ns |    3.19 ns |     4.97 ns | 0.0558 |         870 B |         936 B |\r\n\r\n<details><summary>Benchmark code</summary>\r\n\r\n```csharp\r\n[Benchmark]\r\n[Arguments(\"Image Files(*.BMP;*.JPG;*.GIF)|*.BMP;*.JPG;*.GIF|All files (*.*)|*.*\")]\r\npublic COMDLG_FILTERSPEC[] Original(string filter)\r\n{\r\n    var extensions = new List<COMDLG_FILTERSPEC>();\r\n\r\n    if (!string.IsNullOrEmpty(filter))\r\n    {\r\n        string[] tokens = filter.Split('|');\r\n        if (0 == tokens.Length % 2)\r\n        {\r\n            for (int i = 1; i < tokens.Length; i += 2)\r\n            {\r\n                 extensions.Add(new COMDLG_FILTERSPEC_OLD() { pszSpec = tokens[i - 1], pszName = tokens[i] });\r\n            }\r\n        }\r\n    }\r\n    return extensions.ToArray();\r\n}\r\n\r\n  [Benchmark]\r\n  [Arguments(\"Image Files(*.BMP;*.JPG;*.GIF)|*.BMP;*.JPG;*.GIF|All files (*.*)|*.*\")]\r\n  public COMDLG_FILTERSPEC[] PR__EDIT(string filter)\r\n  {\r\n      COMDLG_FILTERSPEC[] extensions = null;\r\n\r\n      if (!string.IsNullOrEmpty(filter))\r\n      {\r\n          string[] tokens = filter.Split('|');\r\n          if (tokens.Length % 2 == 0)\r\n          {\r\n              extensions = new COMDLG_FILTERSPEC[tokens.Length / 2];\r\n              for (int i = 0; i < extensions.Length; i++)\r\n              {\r\n                  extensions[i] = new(tokens[i * 2], tokens[i * 2 + 1]);\r\n              }\r\n          }\r\n      }\r\n\r\n      return extensions ?? Array.Empty<COMDLG_FILTERSPEC>();\r\n  }\r\n```\r\n\r\n</details>\r\n\r\n## Customer Impact\r\n\r\nImproved performance, decreased allocations.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nLocal build, testing with file dialogs.\r\n\r\n## Risk\r\n\r\nLow.\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9599)","Url":"https://github.com/dotnet/wpf/pull/9599","RelatedDescription":"Open PR \"Optimize working with filters and extensions in FileDialog, decrease allocations\" (#9599)"},{"Id":"2471935041","IsPullRequest":true,"CreatedAt":"2024-08-18T12:03:48","Actor":"h3xds1nz","Number":"9598","RawContent":null,"Title":"Improve performance/decrease allocations in hWnd proxy for WindowsMenu","State":"open","Body":"## Description\r\n\r\n- Replaces string concatenations with string interpolation throughout the whole proxy class.\r\n- Also modifies `StripMnemonic` helper function from the `Misc` class used by other proxies with accelerators.\r\n- Retrievals of `LocalizedName` and `AcceleratorKey` were highly optimized.\r\n\r\n### AccelatorKeyCtrl benchmark\r\n| Method   | findPattern | Mean [ns] | Error [ns] | StdDev [ns] | Gen0   | Code Size | Allocated [B] |\r\n|--------- |------------ |----------:|-----------:|------------:|-------:|--------------:|--------------:|\r\n| Original | Win+A       | 205.74 ns |   2.361 ns |    2.093 ns | 0.0277 |       4,753 B |         464 B |\r\n| PR__EDIT | Win+A       |  97.97 ns |   0.519 ns |    0.485 ns | 0.0024 |       1,105 B |          40 B |\r\n\r\n<details><summary>Benchmark code</summary>\r\n\r\n```csharp\r\n[Benchmark]\r\n[Arguments(\"Win+A\")]\r\npublic string Original(string findPattern)\r\n{\r\n    int pos;\r\n    string keyCtrl = \"Ctrl\";\r\n    string keyControl = \"Control\";\r\n    string keyAlt = \"Alt\";\r\n    string keyShift = \"Shift\";\r\n    string keyWin = \"Win\";\r\n\r\n    string menuText = findPattern.ToLower(CultureInfo.InvariantCulture);\r\n    string accelerator;\r\n\r\n    if ((accelerator = AccelatorKeyCtrl(keyCtrl.ToLower(CultureInfo.InvariantCulture), keyCtrl + \" + \", menuText, findPattern, out pos)) != null ||\r\n        (accelerator = AccelatorKeyCtrl(keyControl.ToLower(CultureInfo.InvariantCulture), keyCtrl + \" + \", menuText, findPattern, out pos)) != null ||\r\n        (accelerator = AccelatorKeyCtrl(keyAlt.ToLower(CultureInfo.InvariantCulture), keyAlt + \" + \", menuText, findPattern, out pos)) != null ||\r\n        (accelerator = AccelatorKeyCtrl(keyShift.ToLower(CultureInfo.InvariantCulture), keyShift + \" + \", menuText, findPattern, out pos)) != null ||\r\n        (accelerator = AccelatorKeyCtrl(keyWin.ToLower(CultureInfo.InvariantCulture), keyWin + \" + \", menuText, findPattern, out pos)) != null)\r\n    {\r\n        return accelerator;\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n[Benchmark]\r\n[Arguments(\"Win+A\")]\r\npublic string PR__EDIT(string findPattern)\r\n{\r\n    string accelerator;\r\n    if ((accelerator = AccelatorKeyCtrlNew(\"Ctrl\", findPattern, out _)) != null ||\r\n      (accelerator = AccelatorKeyCtrlNew(\"Control\", findPattern, out _)) != null ||\r\n      (accelerator = AccelatorKeyCtrlNew(\"Alt\", findPattern, out _)) != null ||\r\n      (accelerator = AccelatorKeyCtrlNew(\"Shift\", findPattern, out _)) != null ||\r\n      (accelerator = AccelatorKeyCtrlNew(\"Win\", findPattern, out _)) != null)\r\n    {\r\n        return accelerator;\r\n    }\r\n\r\n    return null;\r\n}\r\n```\r\n\r\n</details>\r\n\r\n### AccelatorFxx benchmark\r\n| Method   | findPattern       | Mean [ns] | Error [ns] | StdDev [ns] | Gen0   | Code Size | Allocated [B] |\r\n|--------- |------------------ |----------:|-----------:|------------:|-------:|--------------:|--------------:|\r\n| Original | xxxxxxAAAxxxxxF11 |  53.52 ns |   1.108 ns |    1.758 ns | 0.0105 |       2,389 B |         176 B |\r\n| PR__EDIT | xxxxxxAAAxxxxxF11 |  31.61 ns |   0.598 ns |    0.560 ns | 0.0052 |       1,338 B |          88 B |\r\n\r\n<details><summary>Benchmark code</summary>\r\n\r\n```csharp\r\n[Benchmark]\r\n[Arguments(\"xxxxxxAAAxxxxxF11\")]\r\npublic string Original(string findPattern)\r\n{\r\n    // Try to look for a Fxx\r\n    int pos;\r\n    string menuText = findPattern.ToLower(CultureInfo.InvariantCulture);\r\n    string accelerator = AccelatorFxx(menuText);\r\n    if (!string.IsNullOrEmpty(accelerator))\r\n    {\r\n        pos = menuText.LastIndexOf(accelerator, StringComparison.OrdinalIgnoreCase);\r\n        if (pos >= 0)\r\n        {\r\n            return findPattern.Substring(0, pos);\r\n        }\r\n        else\r\n        {\r\n            // Wrong logic, we should be able to find the Fxx combination we just built\r\n            System.Diagnostics.Debug.Assert(false, \"Cannot find back the accelerator in the menu!\");\r\n            return findPattern;\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n[Benchmark]\r\n[Arguments(\"xxxxxxAAAxxxxxF11\")]\r\npublic string PR__EDIT(string findPattern)\r\n{\r\n    // Try to look for a Fxx\r\n    int pos;\r\n    string accelerator = AccelatorFxxNew(findPattern, out pos);\r\n    if (!string.IsNullOrEmpty(accelerator))\r\n    {\r\n        return findPattern.Substring(0, pos);\r\n    }\r\n\r\n    return null;\r\n}\r\n```\r\n\r\n</details>\r\n\r\n### StripMnemonic benchmark\r\n| Method   | findPattern | Mean [ns] | Error [ns] | StdDev [ns] | Gen0   | Allocated [B] |\r\n|--------- |------------ |----------:|-----------:|------------:|-------:|--------------:|\r\n| Original | wow F11     | 26.071 ns |  0.5511 ns |   0.8248 ns | 0.0067 |                 112 B |\r\n| PR__EDIT | wow F11     |  2.992 ns |  0.0743 ns |   0.0695 ns |      - |                  - |\r\n| Original |  \\x20wow F11    | 25.000 ns |  0.4421 ns |   0.4135 ns | 0.0067 |              112 B |\r\n| PR__EDIT |  \\x20wow F11    |  9.294 ns |  0.2081 ns |   0.1737 ns | 0.0024 |                 40 B |\r\n| Original | &wow F11    |  25.59 ns |   0.494 ns |    0.643 ns | 0.0067 |                112 B |\r\n| PR__EDIT | &wow F11    |  16.69 ns |   0.259 ns |    0.242 ns | 0.0024 |                40 B |\r\n| Original | \\x20\\x20\\x20\\x20\\x20&wow F11 |  27.03 ns |   0.533 ns |    0.473 ns | 0.0076 |                 128 B |\r\n| PR__EDIT | \\x20\\x20\\x20\\x20\\x20&wow F11 |  17.36 ns |   0.328 ns |    0.291 ns | 0.0024 |               40 B |\r\n\r\n### Find from list of pre-defined accelerators\r\n| Method   | findPattern           | Mean [ns] | Error [ns] | StdDev [ns] | Gen0   | Code Size | Allocated [B] |\r\n|--------- |---------------------- |----------:|-----------:|------------:|-------:|--------------:|--------------:|\r\n| Original |  wowo(...) \\tTAB [45] |  828.5 ns |    9.83 ns |     9.19 ns | 0.0067 |         721 B |         112 B |\r\n| PR__EDIT |  wowo(...) \\tTAB [45] |  537.9 ns |    4.06 ns |     3.80 ns |      - |         485 B |             - |\r\n\r\n<details><summary>Benchmark code</summary>\r\n\r\n```csharp\r\nprivate static readonly string[] s_keywordsAccelerators = [\"Home\", \"End\", \"Delete\", \"Page Up\", \"Page Down\", \"Escape\", \"Insert\", \"Print Screen\", \"Tab\"];\r\n\r\n[Benchmark]\r\n[Arguments(\" wowowwowowowowowowowowwowowowowowowowow \\tTAB\")]\r\npublic string Original(string findPattern)\r\n{\r\n    int pos;\r\n    string menuText = findPattern.ToLower(CultureInfo.InvariantCulture);\r\n    for (int i = 0; i < s_keywordsAccelerators.Length; i++)\r\n    {\r\n        pos = menuText.LastIndexOf(s_keywordsAccelerators[i], StringComparison.OrdinalIgnoreCase);\r\n        if (pos > 0 && pos + s_keywordsAccelerators[i].Length == menuText.Length && (menuText[pos - 1] == '\\a' || menuText[pos - 1] == '\\t'))\r\n        {\r\n            return s_keywordsAccelerators[i];\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n[Benchmark]\r\n[Arguments(\" wowowwowowowowowowowowwowowowowowowowow \\tTAB\")]\r\npublic string PR__EDIT(string findPattern)\r\n{\r\n    int pos;\r\n    for (int i = 0; i < s_keywordsAccelerators.Length; i++)\r\n    {\r\n        pos = findPattern.LastIndexOf(s_keywordsAccelerators[i], StringComparison.InvariantCultureIgnoreCase);\r\n        if (pos > 0 && pos + s_keywordsAccelerators[i].Length == findPattern.Length && (findPattern[pos - 1] == '\\a' || findPattern[pos - 1] == '\\t'))\r\n        {\r\n            return s_keywordsAccelerators[i];\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n```\r\n\r\n</details>\r\n\r\n## Customer Impact\r\n\r\nIncreased performance/decreased allocation when using the proxy.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nLocal build, CI, extensive local assert testing.\r\n\r\n## Risk\r\n\r\nShould be low, however reviewers should check I haven't changed the output meaning of each operation (culture handling).\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9598)","Url":"https://github.com/dotnet/wpf/pull/9598","RelatedDescription":"Open PR \"Improve performance/decrease allocations in hWnd proxy for WindowsMenu\" (#9598)"},{"Id":"2471920833","IsPullRequest":true,"CreatedAt":"2024-08-18T11:24:35","Actor":"h3xds1nz","Number":"9597","RawContent":null,"Title":"Remove unnecessary array allocations in SelectionProcessor/SubTreeProcessor","State":"open","Body":"## Description\r\n\r\nRemoves unnecessary static array allocations of `XmlQualifiedName` and their subsequent clones on getters, replacing it with simple `ReadOnlySpan<XmlQualifiedName>` returning a reference to a static field.\r\n\r\nAlso replaces `GetSelectedNodes` to return a `ReadOnlySpan<DependencyObject>` which can then be used in `BuildPathForElements` for faster enumeration and strongly-typed access.\r\n\r\n## Customer Impact\r\n\r\nImproved performance, decreased allocations.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nLocal build, CI.\r\n\r\n## Risk\r\n\r\nLow.\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9597)","Url":"https://github.com/dotnet/wpf/pull/9597","RelatedDescription":"Open PR \"Remove unnecessary array allocations in SelectionProcessor/SubTreeProcessor\" (#9597)"},{"Id":"2471828127","IsPullRequest":true,"CreatedAt":"2024-08-18T11:16:51","Actor":"dotnet-maestro[bot]","Number":"9596","RawContent":null,"Title":"[release/9.0] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:9b93053b-bf71-48b9-1001-08dcbc30275f)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Subscription**: 9b93053b-bf71-48b9-1001-08dcbc30275f\r\n- **Build**: 20240817.2\r\n- **Date Produced**: August 18, 2024 6:46:02 AM UTC\r\n- **Commit**: 37ee075d73e455019719c334046e1b3c27cbdfb1\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng**: [from 10.0.0-alpha.1.24416.1 to 10.0.0-alpha.1.24417.2][1]\r\n\r\n[1]: https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int/branches?baseVersion=GC5e82d3f5a26088a2b68e462893e7fb3e3de7dfa0&targetVersion=GC37ee075d73e455019719c334046e1b3c27cbdfb1&_a=files\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:9b93053b-bf71-48b9-1001-08dcbc30275f)\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9596)","Url":"https://github.com/dotnet/wpf/pull/9596","RelatedDescription":"Closed or merged PR \"[release/9.0] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#9596)"},{"Id":"2471500608","IsPullRequest":true,"CreatedAt":"2024-08-18T06:22:11","Actor":"dotnet-maestro[bot]","Number":"9595","RawContent":null,"Title":"[main] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 840bf684-917a-4879-f62c-08d8e93a0c51\r\n- **Build**: 20240816.2\r\n- **Date Produced**: August 16, 2024 10:55:26 PM UTC\r\n- **Commit**: 8fe02bab989df1265eee225df2c28af6dbdccc83\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Arcade.Sdk**: [from 9.0.0-beta.24414.3 to 9.0.0-beta.24416.2][1]\r\n  - **Microsoft.DotNet.CodeAnalysis**: [from 9.0.0-beta.24414.3 to 9.0.0-beta.24416.2][1]\r\n  - **Microsoft.DotNet.GenAPI**: [from 9.0.0-beta.24414.3 to 9.0.0-beta.24416.2][1]\r\n  - **Microsoft.DotNet.Helix.Sdk**: [from 9.0.0-beta.24414.3 to 9.0.0-beta.24416.2][1]\r\n\r\n[1]: https://github.com/dotnet/arcade/compare/4d15f8d1f2...8fe02bab98\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9595)","Url":"https://github.com/dotnet/wpf/pull/9595","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/arcade\" (#9595)"},{"Id":"2471402325","IsPullRequest":true,"CreatedAt":"2024-08-18T06:20:19","Actor":"dotnet-maestro[bot]","Number":"9593","RawContent":null,"Title":"[release/9.0] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:9b93053b-bf71-48b9-1001-08dcbc30275f)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Subscription**: 9b93053b-bf71-48b9-1001-08dcbc30275f\r\n- **Build**: 20240816.1\r\n- **Date Produced**: August 17, 2024 7:10:40 AM UTC\r\n- **Commit**: 5e82d3f5a26088a2b68e462893e7fb3e3de7dfa0\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng**: [from 9.0.0-rc.1.24407.6 to 10.0.0-alpha.1.24416.1][1]\r\n\r\n[1]: https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int/branches?baseVersion=GC0f7df5b8bcc4fad64fde43267ddf3d26a56cf69f&targetVersion=GC5e82d3f5a26088a2b68e462893e7fb3e3de7dfa0&_a=files\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:9b93053b-bf71-48b9-1001-08dcbc30275f)\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9593)","Url":"https://github.com/dotnet/wpf/pull/9593","RelatedDescription":"Closed or merged PR \"[release/9.0] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#9593)"},{"Id":"2471496789","IsPullRequest":true,"CreatedAt":"2024-08-18T06:19:44","Actor":"dotnet-maestro[bot]","Number":"9594","RawContent":null,"Title":"[release/9.0] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:381f8ff1-4857-4887-5005-08dcbc3022d8)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 381f8ff1-4857-4887-5005-08dcbc3022d8\r\n- **Build**: 20240816.3\r\n- **Date Produced**: August 17, 2024 2:15:27 AM UTC\r\n- **Commit**: 5a2d6d2c1bb96c0e7fa6197d316b4f793b930886\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 10.0.0-alpha.1.24415.2 to 10.0.0-alpha.1.24416.3][1]\r\n  - **Microsoft.Private.Winforms**: [from 10.0.0-alpha.1.24415.2 to 10.0.0-alpha.1.24416.3][1]\r\n  - **System.Drawing.Common**: [from 10.0.0-alpha.1.24415.2 to 10.0.0-alpha.1.24416.3][1]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/db069508ed...5a2d6d2c1b\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:381f8ff1-4857-4887-5005-08dcbc3022d8)\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9594)","Url":"https://github.com/dotnet/wpf/pull/9594","RelatedDescription":"Closed or merged PR \"[release/9.0] Update dependencies from dotnet/winforms\" (#9594)"},{"Id":"2470192060","IsPullRequest":true,"CreatedAt":"2024-08-16T18:16:48","Actor":"github-actions[bot]","Number":"9587","RawContent":null,"Title":"[release/9.0-preview7] Revert setter.value changes","State":"closed","Body":"Backport of #9584 to release/9.0-preview7\n/cc @anjali-wpf\n## Customer Impact\n## Testing\n## Risk\n**IMPORTANT**: If this backport is for a servicing release, please verify that:\n- The PR target branch is `release/X.0-staging`, not `release/X.0`.\n- If the change touches code that ships in a NuGet package, you have added the necessary [package authoring](https://github.com/dotnet/runtime/blob/main/docs/project/library-servicing.md) and gotten it explicitly reviewed.\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9587)","Url":"https://github.com/dotnet/wpf/pull/9587","RelatedDescription":"Closed or merged PR \"[release/9.0-preview7] Revert setter.value changes\" (#9587)"},{"Id":"2470192014","IsPullRequest":true,"CreatedAt":"2024-08-16T18:10:35","Actor":"github-actions[bot]","Number":"9586","RawContent":null,"Title":"[release/9.0-rc1] Revert setter.value changes","State":"closed","Body":"Backport of #9584 to release/9.0-rc1\n/cc @anjali-wpf\n## Customer Impact\n## Testing\n## Risk\n**IMPORTANT**: If this backport is for a servicing release, please verify that:\n- The PR target branch is `release/X.0-staging`, not `release/X.0`.\n- If the change touches code that ships in a NuGet package, you have added the necessary [package authoring](https://github.com/dotnet/runtime/blob/main/docs/project/library-servicing.md) and gotten it explicitly reviewed.\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9586)","Url":"https://github.com/dotnet/wpf/pull/9586","RelatedDescription":"Closed or merged PR \"[release/9.0-rc1] Revert setter.value changes\" (#9586)"},{"Id":"2470190749","IsPullRequest":true,"CreatedAt":"2024-08-16T18:10:30","Actor":"github-actions[bot]","Number":"9585","RawContent":null,"Title":"[release/9.0] Revert setter.value changes","State":"closed","Body":"Backport of #9584 to release/9.0\n/cc @anjali-wpf\n## Customer Impact\n## Testing\n## Risk\n**IMPORTANT**: If this backport is for a servicing release, please verify that:\n- The PR target branch is `release/X.0-staging`, not `release/X.0`.\n- If the change touches code that ships in a NuGet package, you have added the necessary [package authoring](https://github.com/dotnet/runtime/blob/main/docs/project/library-servicing.md) and gotten it explicitly reviewed.\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9585)","Url":"https://github.com/dotnet/wpf/pull/9585","RelatedDescription":"Closed or merged PR \"[release/9.0] Revert setter.value changes\" (#9585)"},{"Id":"2469446236","IsPullRequest":true,"CreatedAt":"2024-08-16T18:10:25","Actor":"anjali-wpf","Number":"9584","RawContent":null,"Title":"Revert setter.value changes","State":"closed","Body":"Issue : #84 \r\n\r\nReverted PRs : #745  and #9229\r\n\r\n### Description\r\nReverting a changeset that we've shipped in .NET 9 preview 7 to define Value property of Setter as XAML content property.\r\n\r\nThe above change increments internal indexing when creating the binary. When a customer installs a new version of the SDK, but the app still targets the old frameworks (.NET 8 and below), the binary created with the new SDK (with the new index information) is not understood by older runtime, which is why the below exception gets thrown.\r\nSystem.Windows.Markup.XamlParseException with inner IndexOutOfRangeException: _Index was outside the bounds of the array_.\r\n\r\n### Customer Impact \r\nAll VS users using the new version of SDK and targeting old framework are unable to run their WPF applications. (BLOCKER)\r\n\r\n### Regression\r\nYes\r\n\r\n### Testing\r\nLocal VS testing\r\n\r\n### Risk\r\nLow. Reverted functionality.\r\n\r\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9584)","Url":"https://github.com/dotnet/wpf/pull/9584","RelatedDescription":"Closed or merged PR \"Revert setter.value changes\" (#9584)"},{"Id":"2470695811","IsPullRequest":true,"CreatedAt":"2024-08-16T17:45:10","Actor":"github-actions[bot]","Number":"9592","RawContent":null,"Title":"[release/9.0-preview7] Disable Test on PR ","State":"closed","Body":"Backport of #9588 to release/9.0-preview7\n/cc @singhashish-wpf @rchauhan18\n## Customer Impact\n## Testing\n## Risk\n**IMPORTANT**: If this backport is for a servicing release, please verify that:\n- The PR target branch is `release/X.0-staging`, not `release/X.0`.\n- If the change touches code that ships in a NuGet package, you have added the necessary [package authoring](https://github.com/dotnet/runtime/blob/main/docs/project/library-servicing.md) and gotten it explicitly reviewed.\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9592)","Url":"https://github.com/dotnet/wpf/pull/9592","RelatedDescription":"Closed or merged PR \"[release/9.0-preview7] Disable Test on PR \" (#9592)"},{"Id":"2470695130","IsPullRequest":true,"CreatedAt":"2024-08-16T17:45:01","Actor":"github-actions[bot]","Number":"9591","RawContent":null,"Title":"[release/9.0-rc1] Disable Test on PR ","State":"closed","Body":"Backport of #9588 to release/9.0-rc1\n/cc @singhashish-wpf @rchauhan18\n## Customer Impact\n## Testing\n## Risk\n**IMPORTANT**: If this backport is for a servicing release, please verify that:\n- The PR target branch is `release/X.0-staging`, not `release/X.0`.\n- If the change touches code that ships in a NuGet package, you have added the necessary [package authoring](https://github.com/dotnet/runtime/blob/main/docs/project/library-servicing.md) and gotten it explicitly reviewed.\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9591)","Url":"https://github.com/dotnet/wpf/pull/9591","RelatedDescription":"Closed or merged PR \"[release/9.0-rc1] Disable Test on PR \" (#9591)"},{"Id":"2470632848","IsPullRequest":true,"CreatedAt":"2024-08-16T17:29:08","Actor":"github-actions[bot]","Number":"9590","RawContent":null,"Title":"[main] Disable Test on PR for Release/9.0","State":"closed","Body":"Backport of #9588 to main\n/cc @singhashish-wpf @rchauhan18\n## Customer Impact\n## Testing\n## Risk\n**IMPORTANT**: If this backport is for a servicing release, please verify that:\n- The PR target branch is `release/X.0-staging`, not `release/X.0`.\n- If the change touches code that ships in a NuGet package, you have added the necessary [package authoring](https://github.com/dotnet/runtime/blob/main/docs/project/library-servicing.md) and gotten it explicitly reviewed.\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9590)","Url":"https://github.com/dotnet/wpf/pull/9590","RelatedDescription":"Closed or merged PR \"[main] Disable Test on PR for Release/9.0\" (#9590)"},{"Id":"2469119212","IsPullRequest":false,"CreatedAt":"2024-08-16T16:57:10","Actor":"jeffhandley","Number":"9580","RawContent":null,"Title":"I am getting an exception when using the preview 7 SDK in a WPF project using the new fluent.xaml. The pasted lines (line number 17-19 in the code) throws an exception:","State":"closed","Body":"_Originally posted by @tivik7 in https://github.com/dotnet/core/discussions/9448#discussioncomment-10344729_\r\n\r\nI am getting an exception when using the preview 7 SDK in a WPF project using the new fluent.xaml. The pasted lines (line number 17-19 in the code) throws an exception:\r\n\r\n            <ResourceDictionary.MergedDictionaries>\r\n                <ResourceDictionary Source=\"pack://application:,,,/PresentationFramework.Fluent;component/Resources/Fluent.xaml\" />\r\n            </ResourceDictionary.MergedDictionaries>\r\n\r\nSet property 'System.Windows.ResourceDictionary.Source' threw an exception.' Line number '82' and line position '18'.\r\n\r\nwith the inner exception:\r\n\r\nIOException: Cannot locate resource 'resources/fluent.xaml'.\r\n\r\nWorkloads, Visual Studio Preview, NuGets and dotnet preview 7 all installed without errors.","Url":"https://github.com/dotnet/wpf/issues/9580","RelatedDescription":"Closed issue \"I am getting an exception when using the preview 7 SDK in a WPF project using the new fluent.xaml. The pasted lines (line number 17-19 in the code) throws an exception:\" (#9580)"},{"Id":"2469285433","IsPullRequest":true,"CreatedAt":"2024-08-16T13:29:49","Actor":"dotnet-maestro[bot]","Number":"9581","RawContent":null,"Title":"[release/9.0] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Coherency Updates**:\r\n  - **System.Reflection.MetadataLoadContext**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.Windows.Extensions**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.Platforms**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.Resources.Extensions**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.Runtime.Serialization.Formatters**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Ref**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.9.0**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.Win32.Registry.AccessControl**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.Win32.SystemEvents**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.CodeDom**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.ComponentModel.Composition**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.Configuration.ConfigurationManager**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.Data.Odbc**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.Data.OleDb**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.EventLog**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.PerformanceCounter**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices.AccountManagement**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices.Protocols**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.Formats.Nrbf**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Packaging**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Ports**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.Management**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.Reflection.Context**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.Runtime.Caching**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Pkcs**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.ProtectedData**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Xml**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Permissions**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.ServiceModel.Syndication**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.ServiceProcess.ServiceController**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.Speech**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.Text.Encoding.CodePages**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.Threading.AccessControl**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n  - **System.ComponentModel.Composition.Registration**: from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5 (parent: Microsoft.Private.Winforms)\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n[marker]: <> (Begin:381f8ff1-4857-4887-5005-08dcbc3022d8)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 381f8ff1-4857-4887-5005-08dcbc3022d8\r\n- **Build**: 20240815.2\r\n- **Date Produced**: August 15, 2024 1:23:43 PM UTC\r\n- **Commit**: db069508ed1b2dcc7ebe28a21bcbd3d925c0daa0\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 9.0.0-rc.1.24407.3 to 10.0.0-alpha.1.24415.2][1]\r\n  - **Microsoft.Private.Winforms**: [from 9.0.0-rc.1.24407.3 to 10.0.0-alpha.1.24415.2][1]\r\n  - **System.Drawing.Common**: [from 9.0.0-rc.1.24407.3 to 10.0.0-alpha.1.24415.2][1]\r\n  - **System.Reflection.MetadataLoadContext**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.Windows.Extensions**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **Microsoft.NETCore.Platforms**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.Resources.Extensions**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.Runtime.Serialization.Formatters**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **Microsoft.NETCore.App.Ref**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.9.0**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **Microsoft.Win32.Registry.AccessControl**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **Microsoft.Win32.SystemEvents**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.CodeDom**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.ComponentModel.Composition**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.Configuration.ConfigurationManager**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.Data.Odbc**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.Data.OleDb**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.Diagnostics.EventLog**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.Diagnostics.PerformanceCounter**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.DirectoryServices.AccountManagement**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.DirectoryServices.Protocols**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.DirectoryServices**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.Formats.Nrbf**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.IO.Packaging**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.IO.Ports**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.Management**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.Reflection.Context**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.Runtime.Caching**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.Security.Cryptography.Pkcs**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.Security.Cryptography.ProtectedData**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.Security.Cryptography.Xml**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.Security.Permissions**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.ServiceModel.Syndication**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.ServiceProcess.ServiceController**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.Speech**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.Text.Encoding.CodePages**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.Threading.AccessControl**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n  - **System.ComponentModel.Composition.Registration**: [from 9.0.0-rc.1.24406.14 to 9.0.0-rc.1.24414.5][2]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/7006c1c2c5...db069508ed\r\n[2]: https://github.com/dotnet/runtime/compare/4985021ebf...0fbd81404d\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:381f8ff1-4857-4887-5005-08dcbc3022d8)\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9581)","Url":"https://github.com/dotnet/wpf/pull/9581","RelatedDescription":"Closed or merged PR \"[release/9.0] Update dependencies from dotnet/winforms\" (#9581)"},{"Id":"2470201207","IsPullRequest":true,"CreatedAt":"2024-08-16T12:50:38","Actor":"rchauhan18","Number":"9588","RawContent":null,"Title":"Disable Test on PR for Release/9.0","State":"closed","Body":"Disable Test on PR for Release/9.0\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9588)","Url":"https://github.com/dotnet/wpf/pull/9588","RelatedDescription":"Closed or merged PR \"Disable Test on PR for Release/9.0\" (#9588)"},{"Id":"2469431239","IsPullRequest":true,"CreatedAt":"2024-08-16T04:21:02","Actor":"anjali-wpf","Number":"9583","RawContent":null,"Title":"Revert \"Additional changes to define Value property of Setter as XAML content property\"","State":"closed","Body":"Reverts dotnet/wpf#9229 \n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9583)","Url":"https://github.com/dotnet/wpf/pull/9583","RelatedDescription":"Closed or merged PR \"Revert \"Additional changes to define Value property of Setter as XAML content property\"\" (#9583)"},{"Id":"2469327262","IsPullRequest":false,"CreatedAt":"2024-08-16T02:49:26","Actor":"ssccinng","Number":"9582","RawContent":null,"Title":"When using .NET9 pre7 build and run, will throw System.Windows.Markup.XamlParseException","State":"open","Body":"### Description\n\n\r\n![image](https://github.com/user-attachments/assets/27353ae3-aaff-4a90-ad87-4e04dc505f72)\r\n\r\nWhen using the above code, an error will be thrown\r\n\r\nSystem.Windows.Markup.XamlParseException\r\n  HResult=0x80131501\r\n  Message=“在“System.Windows.StaticResourceExtension”上提供值时引发了异常。”，行号为“12”，行位置为“10”。\r\n  Source=PresentationFramework\r\n  StackTrace:\r\n   在 System.Windows.Markup.XamlReader.RewrapException(Exception e, IXamlLineInfo lineInfo, Uri baseUri)\r\n   在 System.Windows.Markup.WpfXamlLoader.Load(XamlReader xamlReader, IXamlObjectWriterFactory writerFactory, Boolean skipJournaledProperties, Object rootObject, XamlObjectWriterSettings settings, Uri baseUri)\r\n   在 System.Windows.Markup.WpfXamlLoader.LoadBaml(XamlReader xamlReader, Boolean skipJournaledProperties, Object rootObject, XamlAccessLevel accessLevel, Uri baseUri)\r\n   在 System.Windows.Markup.XamlReader.LoadBaml(Stream stream, ParserContext parserContext, Object parent, Boolean closeStream)\r\n   在 System.Windows.Application.LoadComponent(Object component, Uri resourceLocator)\r\n   在 WpfBugTest.MainWindow.InitializeComponent() 在 D:\\wcsrepo\\WpfBugTest\\MainWindow.xaml 中: 第 1 行\r\n\r\n  此异常最初是在此调用堆栈中引发的: \r\n    [外部代码]\r\n\r\n内部异常 1:\r\nIndexOutOfRangeException: Index was outside the bounds of the array.\r\n\n\n### Reproduction Steps\n\nhttps://github.com/ssccinng/WpfBugTest\r\n\r\nRun it using the latest preview version\r\n\r\nPlease note that this error does not occur when selecting net9 for the targetframework, but only when selecting net8\r\n <TargetFramework>net8.0-windows</TargetFramework>\r\n\n\n### Expected behavior\n\nnot throw error\n\n### Actual behavior\n\nthrow error\n\n### Regression?\n\n_No response_\n\n### Known Workarounds\n\n_No response_\n\n### Impact\n\n_No response_\n\n### Configuration\n\n_No response_\n\n### Other information\n\n_No response_","Url":"https://github.com/dotnet/wpf/issues/9582","RelatedDescription":"Open issue \"When using .NET9 pre7 build and run, will throw System.Windows.Markup.XamlParseException\" (#9582)"},{"Id":"2468568657","IsPullRequest":false,"CreatedAt":"2024-08-15T17:27:48","Actor":"ericstj","Number":"9578","RawContent":null,"Title":"What WindowsDesktop runtime does WPF actually test CIRunDrts against?","State":"open","Body":"I was looking at CI failures and have some questions.  https://dev.azure.com/dnceng-public/public/_build/results?buildId=776507&view=results\r\n\r\nWPF installs dotnet to `Program Files`: \r\nhttps://github.com/dotnet/wpf/blob/ce8e3041f94469a4fd2aa5948905c2b70852fe55/eng/pipeline-pr.yml#L202-L227\r\n\r\nIt then replaces WPF binaries in `.dotnet` folder:\r\nhttps://github.com/dotnet/wpf/blob/ce8e3041f94469a4fd2aa5948905c2b70852fe55/eng/pipeline-pr.yml#L229-L234\r\n\r\nIt then runs some tests without specifying a different `dotnet` root, so I think this will run against the `Program Files` location\r\nhttps://github.com/dotnet/wpf/blob/ce8e3041f94469a4fd2aa5948905c2b70852fe55/eng/pipeline-pr.yml#L258-L264\r\n\r\nI can't see the content of  `CIRunDrts` to see if it happens to find the repo local `.dotnet` folder, so I can't be certain, but to me it really looks like this would not be running against the WPF bits it just built and instead be running against the daily build installed machine-wide.","Url":"https://github.com/dotnet/wpf/issues/9578","RelatedDescription":"Open issue \"What WindowsDesktop runtime does WPF actually test CIRunDrts against?\" (#9578)"},{"Id":"2470522034","IsPullRequest":false,"CreatedAt":"2024-08-15T12:56:31","Actor":"daviddunson","Number":"9589","RawContent":null,"Title":"[LoggerMessageAttribute] generates CS0757 and CS0102 when combined with XAML and certain NuGet package references.","State":"open","Body":"### Description\r\n\r\nBuild will fail when targeting specific NuGet packages in addition to compiling with a .XAML file. If the .XAML file is removed, or the NuGet package is removed, the build will succeed. It is when .XAML, [LoggerMessage] and specific packages are referenced.\r\n\r\nThis was discovered while embedding an ASP.NET Core host inside a WPF application. These packages were referenced in a class library that was referenced by the WPF project:\r\n\r\n```\r\n    <PackageReference Include=\"IdentityServer4\" Version=\"4.1.2\" />\r\n    <PackageReference Include=\"Microsoft.AspNetCore.Authentication.JwtBearer\" Version=\"8.0.8\" />\r\n    <PackageReference Include=\"Microsoft.AspNetCore.Mvc.NewtonsoftJson\" Version=\"8.0.8\" />\r\n    <PackageReference Include=\"Swashbuckle.AspNetCore\" Version=\"6.7.0\" />\r\n    <PackageReference Include=\"System.Linq.Async\" Version=\"6.0.1\" />\r\n    <PackageReference Include=\"System.Text.Encodings.Web\" Version=\"8.0.0\" />\r\n ```\r\n\r\nI was able to reproduce the error by creating a new WPF project and adding a direct reference to one of these packages.\r\n\r\n### Reproduction Steps\r\n\r\nCreate a new C# WPF Application targeting .NET 8.\r\n\r\nAdd the following package references:\r\n\r\n```\r\n  <ItemGroup>\r\n    <PackageReference Include=\"Microsoft.AspNetCore.Authentication.JwtBearer\" Version=\"8.0.8\" />\r\n    <PackageReference Include=\"Microsoft.Extensions.Logging.Abstractions\" Version=\"8.0.1\" />\r\n  </ItemGroup>\r\n```\r\n\r\nAdd a class containing a [LoggerMessage] reference:\r\n\r\n```\r\n    public static partial class LoggerExtensions\r\n    {\r\n        [LoggerMessage(LogLevel.Error, \"Your message: {Message}\")]\r\n        public static partial void SomethingFailed(this ILogger logger, string message);\r\n    }\r\n```\r\n\r\nTry to build the project.\r\n\r\n### Expected behavior\r\n\r\nBuild succeeded.\r\n\r\n### Actual behavior\r\n\r\nBuild failed.\r\n\r\n```\r\n1>...obj\\Debug\\net8.0-windows\\Microsoft.Extensions.Logging.Generators\\Microsoft.Extensions.Logging.Generators.LoggerMessageGenerator\\LoggerMessage.g.cs(13,36,13,51): error CS0757: A partial method may not have multiple implementing declarations\r\n1>...obj\\Debug\\net8.0-windows\\Microsoft.Extensions.Logging.Generators\\Microsoft.Extensions.Logging.Generators.LoggerMessageGenerator\\LoggerMessage.g.cs(9,151,9,176): error CS0102: The type 'LoggerExtensions' already contains a definition for '__SomethingFailedCallback'\r\n```\r\n\r\n### Regression?\r\n\r\nProject will build after rolling back to Visual Studio 17.9.\r\n\r\n### Known Workarounds\r\n\r\nMove the members with [LoggerMessageAttribute] to a class library that does not contain a .XAML file and a reference to one of the packages that trigger the failure.\r\n\r\n### Configuration\r\n\r\nWindows Version 11 23H2 (x64)\r\nVisual Studio 17.11 (or 17.10)\r\n.NET SDK 8.0.400\r\n\r\n\r\n### Other information\r\n\r\n_No response_","Url":"https://github.com/dotnet/wpf/issues/9589","RelatedDescription":"Open issue \"[LoggerMessageAttribute] generates CS0757 and CS0102 when combined with XAML and certain NuGet package references.\" (#9589)"},{"Id":"2466512420","IsPullRequest":true,"CreatedAt":"2024-08-15T07:05:27","Actor":"dotnet-maestro[bot]","Number":"9575","RawContent":null,"Title":"[main] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:f8781171-8d89-4d6b-f62b-08d8e93a0c51)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Subscription**: f8781171-8d89-4d6b-f62b-08d8e93a0c51\r\n- **Build**: 20240814.4\r\n- **Date Produced**: August 14, 2024 5:45:26 PM UTC\r\n- **Commit**: b266814e0b0b2ea8d6f391d7b35a5c0f323afb3b\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng**: [from 9.0.0-rc.1.24407.6 to 10.0.0-alpha.1.24414.4][1]\r\n\r\n[1]: https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int/branches?baseVersion=GC0f7df5b8bcc4fad64fde43267ddf3d26a56cf69f&targetVersion=GCb266814e0b0b2ea8d6f391d7b35a5c0f323afb3b&_a=files\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:f8781171-8d89-4d6b-f62b-08d8e93a0c51)\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9575)","Url":"https://github.com/dotnet/wpf/pull/9575","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#9575)"},{"Id":"2467488121","IsPullRequest":false,"CreatedAt":"2024-08-15T06:19:16","Actor":"ILepekhov","Number":"9577","RawContent":null,"Title":"Grouping issues caused by a custom GroupDescription implementation","State":"open","Body":"### Description\n\nHello everyone!\r\n\r\nI am currently working on a project that involves the sorting and grouping functionality of the DataGrid component. The requirements for this functionality are quite complex and not straightforward. LiveSorting, LiveGrouping and LiveFiltering are used.\r\n\r\nTo meet these requirements, I have implemented LiveSorting, LiveGrouping, and LiveFiltering. These features allow for real-time sorting, grouping, and filtering of data in the DataGrid component.\r\n\r\nAs part of this implementation, I also had to create a custom GroupDescription implementation. This allows me to apply different grouping and group-sorting rules based on the selected sorting property of the element collection.\r\n\r\nHowever, I have encountered some issues with the application crashing frequently. This occurs specifically when a single group of elements is added and then removed in succession.\n\n### Reproduction Steps\n\nI created a simple demo project https://github.com/ILepekhov/WpfDemos to show off the issue.\r\n\r\nTo reproduce the issue, run the app and click the \"Add\" and \"Remove\" buttons in turn a few times until the error message is written to the console.\r\n\r\nhttps://github.com/user-attachments/assets/25f5891c-1dab-48a6-9fdf-94b1a53804ea\n\n### Expected behavior\n\nThe issue hadn't appeared until I replaced the default PropertyGroupDescription with my custom implementation. I don't see any issues with my implementation. So I expect it to work without problems with LiveGrouping and LiveSorting. I turned off the LiveSorting feature for now, and the issue is gone, but it's not acceptable behavior for me.\n\n### Actual behavior\n\nNo errors occurred when running the code.\n\n### Regression?\n\n_No response_\n\n### Known Workarounds\n\n_No response_\n\n### Impact\n\n_No response_\n\n### Configuration\n\n_No response_\n\n### Other information\n\n_No response_","Url":"https://github.com/dotnet/wpf/issues/9577","RelatedDescription":"Open issue \"Grouping issues caused by a custom GroupDescription implementation\" (#9577)"},{"Id":"2466309662","IsPullRequest":true,"CreatedAt":"2024-08-14T17:05:09","Actor":"dipeshmsft","Number":"9574","RawContent":null,"Title":"[Branding] Update branding to 9.0.0-rc2","State":"closed","Body":"\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9574)","Url":"https://github.com/dotnet/wpf/pull/9574","RelatedDescription":"Closed or merged PR \"[Branding] Update branding to 9.0.0-rc2\" (#9574)"},{"Id":"2465721722","IsPullRequest":true,"CreatedAt":"2024-08-14T17:04:51","Actor":"dipeshmsft","Number":"9571","RawContent":null,"Title":"[Branding] Update main to 10.0.0-alpha1","State":"closed","Body":"\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9571)","Url":"https://github.com/dotnet/wpf/pull/9571","RelatedDescription":"Closed or merged PR \"[Branding] Update main to 10.0.0-alpha1\" (#9571)"},{"Id":"2465889025","IsPullRequest":true,"CreatedAt":"2024-08-14T14:33:57","Actor":"himgoyalmicro","Number":"9573","RawContent":null,"Title":"Made alignment center for Calendar","State":"closed","Body":"## Description\r\n\r\nMade alignment center for Calendar\r\n\r\n## Regression\r\n\r\nNA\r\n\r\n## Testing\r\n\r\nLocal build passed, tested sample app.\r\n\r\n## Risk\r\n\r\nNA\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9573)","Url":"https://github.com/dotnet/wpf/pull/9573","RelatedDescription":"Closed or merged PR \"Made alignment center for Calendar\" (#9573)"},{"Id":"2465800958","IsPullRequest":true,"CreatedAt":"2024-08-14T13:43:52","Actor":"dipeshmsft","Number":"9572","RawContent":null,"Title":"Made alignment center for Calendar","State":"closed","Body":"\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9572)","Url":"https://github.com/dotnet/wpf/pull/9572","RelatedDescription":"Closed or merged PR \"Made alignment center for Calendar\" (#9572)"},{"Id":"2465616279","IsPullRequest":false,"CreatedAt":"2024-08-14T11:46:15","Actor":"sudharsan-narayanan","Number":"9570","RawContent":null,"Title":"Window resource style does not apply to control","State":"open","Body":"### Description\r\n\r\nIf we have an own watermark class to define the Watermark for the MS control. The Window resource style does not apply to the watermark control. Please find the sample below.,\r\n\r\n### Reproduction Steps\r\n\r\n1. Run the sample.\r\n2. Note: Watermark text is not applied the style.\r\n\r\n[TextBxForeColor.zip](https://github.com/user-attachments/files/16612607/TextBxForeColor.zip)\r\n\r\n### Expected behavior\r\n\r\nStyle value need to be update in inter control of the MS control.\r\n\r\n### Actual behavior\r\n\r\nGiven Window style is not applied to watermark control\r\n\r\n### Regression?\r\n\r\n_No response_\r\n\r\n### Known Workarounds\r\n\r\n_No response_\r\n\r\n### Impact\r\n\r\n_No response_\r\n\r\n### Configuration\r\n\r\n_No response_\r\n\r\n### Other information\r\n\r\n_No response_","Url":"https://github.com/dotnet/wpf/issues/9570","RelatedDescription":"Open issue \"Window resource style does not apply to control\" (#9570)"}],"ResultType":"GitHubIssue"}},"RunOn":"2024-08-19T03:30:25.4590167Z","RunDurationInMilliseconds":438}