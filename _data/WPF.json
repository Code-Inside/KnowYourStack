{"Data":{"GitHub":{"Issues":[{"Id":"2587239188","IsPullRequest":false,"CreatedAt":"2024-10-14T23:06:15","Actor":"vsfeedback","Number":"9955","RawContent":null,"Title":"Net Core 6: Microsoft Fakes and WPF Issue","State":"open","Body":"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/t/Net-Core-6:-Microsoft-Fakes-and-WPF-Issu/10128442)._\n\n---\nHello,\n\nI'm in the progress of migrating our WPF from .Net 4.7.2 to .Net Core 6\nI run into issues with our test projects that reference WPF and use Microsoft Fakes\nPlease see my demo repo here:\nhttps://github.com/RoyRosenberg/msFakesWPF\n\nBasically, the problem can be described like the following:\n- Class Library project with true\n- The project contains ControlDemo class that inherits from UserControl class\n- MSTest project with reference to the class library project\n- I added fakes assembly to the class lib. project\n\nWhen trying to compile, I got the 20 errors related to Fakes generation, one of them is:\n\n`Error CS7069 Reference to type 'DependencyObject' claims it is defined in 'WindowsBase', but it could not be found`\n\n![image.png](https://aka.ms/dc/image?name=B6ceb79108abd4529bf4df59be7f4246e637968667681213058_20220823-185246-image.png&tid=6ceb79108abd4529bf4df59be7f4246e637968667681213058)\n\nPlease help me find out the problem\nThanks in advance,\nRoy\n\n\n---\n### Original Comments\n\n#### Feedback Bot on 8/23/2022, 11:05 PM: \n\n<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>\n\n#### Dolly Wang [MSFT] on 8/23/2022, 11:53 PM: \n\n<p>Thanks for your feedback! Unfortunately, we cannot reproduce the issue using your repo in the latest stable version of Visual Studio installed from <a target='_blank' href=\"https://visualstudio.microsoft.com/downloads\">https://visualstudio.microsoft.com/downloads</a>.<br>\nCould you update your Visual Studio to the latest version, and also delete the existing bin and obj folder in your repo, and then try again?</p>\n\n#### Roy Rosenberg on 8/24/2022, 00:29 AM: \n\n<p>Hello,<br>\nThanks for the quick response</p>\n<p>I just upgraded VS to 17.3.2<br>\nI performed delete to all bin/obj and FakesAssemblies folders and performed a clean build, but the errors continue to appear…weird.<br>\nI also cloned again the repo to a new folder but got the same errors</p>\n<p><a target='_blank' href=\"https://aka.ms/dc/file?name=B5860864e38b845ccbaaa5ecb58f2ac0e637969228485191029_buildErrors.txt&amp;tid=5860864e38b845ccbaaa5ecb58f2ac0e637969228485191029\">buildErrors.txt</a></p>\n<p>My installed VS Info:</p>\n<pre><code>Microsoft Visual Studio Enterprise 2022\nVersion 17.3.2\nVisualStudio.17.Release/17.3.2+32819.101\nMicrosoft .NET Framework\nVersion 4.8.04161\n\nInstalled Version: Enterprise\n\nASP.NET and Web Tools   17.3.376.3011\nASP.NET and Web Tools\n\nAzure App Service Tools v3.0.0   17.3.376.3011\nAzure App Service Tools v3.0.0\n\nAzure Functions and Web Jobs Tools   17.3.376.3011\nAzure Functions and Web Jobs Tools\n\nC<span class=\"hljs-comment\"># Tools   4.3.0-3.22412.4+c97184bafab9a34d61e85f1c1ef34f25283ce9ba</span>\nC<span class=\"hljs-comment\"># components used in the IDE. Depending on your project type and settings, a different version of the compiler may be used.</span>\n\nCommon Azure Tools   1.10\nProvides common services for <span class=\"hljs-keyword\">use</span> <span class=\"hljs-keyword\">by</span> Azure Mobile Services <span class=\"hljs-keyword\">and</span> Microsoft Azure Tools.\n\nMicrosoft Azure Tools <span class=\"hljs-keyword\">for</span> Visual Studio   <span class=\"hljs-number\">2.9</span>\nSupport <span class=\"hljs-keyword\">for</span> Azure Cloud Services projects\n\nMicrosoft JVM Debugger   <span class=\"hljs-number\">1.0</span>\nProvides support <span class=\"hljs-keyword\">for</span> connecting the Visual Studio debugger <span class=\"hljs-keyword\">to</span> JDWP compatible <span class=\"hljs-keyword\">Java</span> <span class=\"hljs-keyword\">Virtual</span> Machines\n\nNuGet <span class=\"hljs-keyword\">Package</span> Manager   <span class=\"hljs-number\">6.3</span><span class=\"hljs-number\">.0</span>\nNuGet <span class=\"hljs-keyword\">Package</span> Manager <span class=\"hljs-keyword\">in</span> Visual Studio. <span class=\"hljs-keyword\">For</span> more information about NuGet, visit https://docs.nuget.org/\n\nRazor (ASP.NET Core)   <span class=\"hljs-number\">17.0</span><span class=\"hljs-number\">.0</span><span class=\"hljs-number\">.2232702</span>+e1d654e792aa2fe6646a6935bcca80ff0aff4387\nProvides languages services <span class=\"hljs-keyword\">for</span> ASP.NET Core Razor.\n\n<span class=\"hljs-keyword\">SQL</span> <span class=\"hljs-keyword\">Server</span> <span class=\"hljs-keyword\">Data</span> Tools   <span class=\"hljs-number\">17.0</span><span class=\"hljs-number\">.62207</span><span class=\"hljs-number\">.04100</span>\nMicrosoft <span class=\"hljs-keyword\">SQL</span> <span class=\"hljs-keyword\">Server</span> <span class=\"hljs-keyword\">Data</span> Tools\n\nTypeScript Tools   <span class=\"hljs-number\">17.0</span><span class=\"hljs-number\">.10701</span><span class=\"hljs-number\">.2001</span>\nTypeScript Tools <span class=\"hljs-keyword\">for</span> Microsoft Visual Studio\n\nVisual Basic Tools   <span class=\"hljs-number\">4.3</span><span class=\"hljs-number\">.0</span><span class=\"hljs-number\">-3.22412</span><span class=\"hljs-number\">.4</span>+c97184bafab9a34d61e85f1c1ef34f25283ce9ba\nVisual Basic components used <span class=\"hljs-keyword\">in</span> the IDE. Depending <span class=\"hljs-keyword\">on</span> your <span class=\"hljs-keyword\">project</span> <span class=\"hljs-keyword\">type</span> <span class=\"hljs-keyword\">and</span> <span class=\"hljs-keyword\">settings</span>, a different <span class=\"hljs-keyword\">version</span> <span class=\"hljs-keyword\">of</span> the compiler may be used.\n\nVisual F<span class=\"hljs-comment\"># Tools   17.1.0-beta.22363.4+1b94f89d4d1f41f20f9be73c76f4b229d4e49078</span>\nMicrosoft Visual F<span class=\"hljs-comment\"># Tools</span>\n\nVisual Studio IntelliCode   <span class=\"hljs-number\">2.2</span>\nAI-assisted development <span class=\"hljs-keyword\">for</span> Visual Studio.\n</code></pre>\n\n#### Roy Rosenberg on 8/24/2022, 01:05 AM: \n\n<p>Dolly Wang,</p>\n<p>FYI - I attached the warning logs I think they also help us understand the root cause</p>\n<p><a target='_blank' href=\"https://aka.ms/dc/file?name=B1c24f43849e64b3f9304078706fc73cc637969250710630963_warnings.txt&amp;tid=1c24f43849e64b3f9304078706fc73cc637969250710630963\">warnings.txt</a></p>\n<p>Got conflicts on WindowsBase:</p>\n<pre><code>Found conflicts between different versions of <span class=\"hljs-string\">\"WindowsBase\"</span> that could <span class=\"hljs-keyword\">not</span> be resolved\n</code></pre>\n\n#### Dolly Wang [MSFT] on 8/23/2022, 11:55 PM: \n\n<p><a target='_blank' href=\"https://aka.ms/dc/file?name=B3e61ea1f39a046b49ab73e6cf7981e58637969209143667265_Build.PNG&amp;tid=3e61ea1f39a046b49ab73e6cf7981e58637969209143667265\">Build.PNG</a><br>\n<a target='_blank' href=\"https://aka.ms/dc/file?name=Be5bf79ce2f11462484aa1e2f6c212cab637969209256023456_NoError.PNG&amp;tid=e5bf79ce2f11462484aa1e2f6c212cab637969209256023456\">NoError.PNG</a></p>\n\n#### Dolly Wang [MSFT] on 8/24/2022, 01:37 AM: \n\n(private comment, text removed)\n#### Roy Rosenberg on 8/24/2022, 09:27 AM: \n\n<p>Dolly Wang,</p>\n<p>Thanks again for your help</p>\n<p>Unfortunately, I cannot overcome it.<br>\nI also tried from another machine with VS 2022 installed and got the same problem - I don’t know how it works on your side…<br>\nI have VS 2019 and VS 2022 installed, both are up-to-date<br>\nHere are the installed SDKs/Runtimes:</p>\n<pre><code>5<span class=\"hljs-selector-class\">.0</span><span class=\"hljs-selector-class\">.411</span> <span class=\"hljs-selector-attr\">[C:\\Program Files\\dotnet\\sdk]</span>\n6<span class=\"hljs-selector-class\">.0</span><span class=\"hljs-selector-class\">.400</span> <span class=\"hljs-selector-attr\">[C:\\Program Files\\dotnet\\sdk]</span>\n\n<span class=\"hljs-selector-tag\">Microsoft</span><span class=\"hljs-selector-class\">.AspNetCore</span><span class=\"hljs-selector-class\">.App</span> 3<span class=\"hljs-selector-class\">.1</span><span class=\"hljs-selector-class\">.28</span> <span class=\"hljs-selector-attr\">[C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]</span>\n<span class=\"hljs-selector-tag\">Microsoft</span><span class=\"hljs-selector-class\">.AspNetCore</span><span class=\"hljs-selector-class\">.App</span> 5<span class=\"hljs-selector-class\">.0</span><span class=\"hljs-selector-class\">.17</span> <span class=\"hljs-selector-attr\">[C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]</span>\n<span class=\"hljs-selector-tag\">Microsoft</span><span class=\"hljs-selector-class\">.AspNetCore</span><span class=\"hljs-selector-class\">.App</span> 6<span class=\"hljs-selector-class\">.0</span><span class=\"hljs-selector-class\">.8</span> <span class=\"hljs-selector-attr\">[C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]</span>\n<span class=\"hljs-selector-tag\">Microsoft</span><span class=\"hljs-selector-class\">.NETCore</span><span class=\"hljs-selector-class\">.App</span> 3<span class=\"hljs-selector-class\">.1</span><span class=\"hljs-selector-class\">.28</span> <span class=\"hljs-selector-attr\">[C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]</span>\n<span class=\"hljs-selector-tag\">Microsoft</span><span class=\"hljs-selector-class\">.NETCore</span><span class=\"hljs-selector-class\">.App</span> 5<span class=\"hljs-selector-class\">.0</span><span class=\"hljs-selector-class\">.17</span> <span class=\"hljs-selector-attr\">[C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]</span>\n<span class=\"hljs-selector-tag\">Microsoft</span><span class=\"hljs-selector-class\">.NETCore</span><span class=\"hljs-selector-class\">.App</span> 6<span class=\"hljs-selector-class\">.0</span><span class=\"hljs-selector-class\">.8</span> <span class=\"hljs-selector-attr\">[C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]</span>\n<span class=\"hljs-selector-tag\">Microsoft</span><span class=\"hljs-selector-class\">.WindowsDesktop</span><span class=\"hljs-selector-class\">.App</span> 3<span class=\"hljs-selector-class\">.1</span><span class=\"hljs-selector-class\">.28</span> <span class=\"hljs-selector-attr\">[C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]</span>\n<span class=\"hljs-selector-tag\">Microsoft</span><span class=\"hljs-selector-class\">.WindowsDesktop</span><span class=\"hljs-selector-class\">.App</span> 5<span class=\"hljs-selector-class\">.0</span><span class=\"hljs-selector-class\">.17</span> <span class=\"hljs-selector-attr\">[C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]</span>\n<span class=\"hljs-selector-tag\">Microsoft</span><span class=\"hljs-selector-class\">.WindowsDesktop</span><span class=\"hljs-selector-class\">.App</span> 6<span class=\"hljs-selector-class\">.0</span><span class=\"hljs-selector-class\">.8</span> <span class=\"hljs-selector-attr\">[C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]</span>\n</code></pre>\n<p>I made sure all Nuget package versions are the latest<br>\nWhat else can I do?<br>\nThanks,</p>\n\n#### Feedback Bot on 8/24/2022, 06:06 PM: \n\n<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>\n\n#### Roy Rosenberg on 8/28/2022, 09:23 PM: \n\n<p>Dolly Wang hi,</p>\n<p>Hope you are doing well</p>\n<p>I tried again on a 3rd computer, but got the same errors/warnings<br>\nIs there any news on your end?</p>\n<p>Thanks,<br>\nRoy</p>\n\n#### Roy Rosenberg on 9/1/2022, 11:41 PM: \n\n<p>Dolly Wang hi,<br>\nI just wanted to inform you that the issue still exists. I cannot continue with the migration to .net core 6.0<br>\nPlease let me know if you have any progress regarding this<br>\nThansk for your help<br>\nRoy</p>\n\n#### Roy Rosenberg on 9/20/2022, 10:12 AM: \n\n<p>Hi,<br>\nStill got no answer, and the problem persists<br>\nCan someone please reply with an update?<br>\nThis ticket is more than 1 month and I managed to reproduce it on 5 different PCs<br>\nThanks,<br>\nRoy</p>\n\n#### Roy Rosenberg on 11/5/2022, 11:58 PM: \n\n<p>Hello,<br>\nIt’s been 3 months and the problem is not resolved<br>\nWe can not continue with the migration to .Net Core because of this<br>\nVisual Studio 2022 is up to date<br>\nThe project NuGet references are all up to date<br>\nstill have an issue</p>\n<pre><code><span class=\"hljs-selector-attr\">[C:\\Users\\roy.rosenberg\\Downloads\\msFakesWPF-master\\FakesWPFIssue.Test\\obj\\Debug\\net6.0-windows\\Fakes\\fwpfi\\f.csproj]</span>\t<span class=\"hljs-selector-tag\">FakesWPFIssue</span><span class=\"hljs-selector-class\">.Test</span>\t<span class=\"hljs-selector-tag\">C</span>:\\<span class=\"hljs-selector-tag\">Program</span> <span class=\"hljs-selector-tag\">Files</span>\\<span class=\"hljs-selector-tag\">Microsoft</span> <span class=\"hljs-selector-tag\">Visual</span> <span class=\"hljs-selector-tag\">Studio</span>\\2022\\<span class=\"hljs-selector-tag\">Enterprise</span>\\<span class=\"hljs-selector-tag\">MSBuild</span>\\<span class=\"hljs-selector-tag\">Current</span>\\<span class=\"hljs-selector-tag\">Bin</span>\\<span class=\"hljs-selector-tag\">amd64</span>\\<span class=\"hljs-selector-tag\">Microsoft</span><span class=\"hljs-selector-class\">.Common</span><span class=\"hljs-selector-class\">.CurrentVersion</span><span class=\"hljs-selector-class\">.targets</span>\t2302\t\n</code></pre>\n<p>Please help me overcome this<br>\nThanks in advanced,<br>\nRoy</p>\n\n#### Feedback Bot on 11/30/2022, 10:55 PM: \n\n<p>I detected that this issue hasn’t received a lot of activity, votes, or comments in the past 90 days. Based on this, the issues severity and affected area, it’s my experience that this issue is unlikely to get fixed. To improve the situation, consider following best practices for quality problem reports, and giving us more details on how this issue is impacting you.</p>\n\n#### Feedback Bot on 2/7/2023, 04:13 AM: \n\n<p>Thank you for sharing your feedback! Our teams prioritize action on product issues with broad customer impact. See details at: <a target='_blank' href=\"https://docs.microsoft.com/en-us/visualstudio/ide/report-a-problem?view=vs-2019#faq\">https://docs.microsoft.com/en-us/visualstudio/ide/report-a-problem?view=vs-2019#faq</a>. In case you need answers to common questions or need assisted support, be sure to use <a target='_blank' href=\"https://visualstudio.microsoft.com/vs/support/\">https://visualstudio.microsoft.com/vs/support/</a>. We’ll keep you posted on any updates to this feedback.</p>\n\n\n---\n### Original Solutions\n\n#### Pankaj Chaurasia [MSFT] solved on 7/5/2024, 01:24 AM, undefined votes: \n\n<p>We moved this issue to a relevant GitHub project. Please comment and track it at this URL: <a target='_blank' href=\"https://github.com/dotnet/wpf/issues/9359\">https://github.com/dotnet/wpf/issues/9359</a></p>\n","Url":"https://github.com/dotnet/wpf/issues/9955","RelatedDescription":"Open issue \"Net Core 6: Microsoft Fakes and WPF Issue\" (#9955)"},{"Id":"2586283663","IsPullRequest":true,"CreatedAt":"2024-10-14T18:41:17","Actor":"github-actions[bot]","Number":"9953","RawContent":null,"Title":"[release/9.0] Fixed ListView content alignment regression","State":"closed","Body":"Backport of #9952 to release/9.0\r\n/cc @dipeshmsft\r\n\r\nFixes #9939 \r\nMain PR #9952 \r\n\r\n## Description\r\nIn RC2, we modified some TemplateBinding's in Fluent styles, to allow developers to modify properties for default Fluent styles. While modifying ListView styles, the changes were made to make it similar to Aero2 style, but that caused a regression when using the ListView inside another container. Reverting that change to mitigate the issue.\r\n\r\n## Customer Impact\r\nDevelopers will get the correct ListView styles\r\n\r\n## Regression\r\nTechnically no, but it is a regression in .NET 9 RC2\r\n\r\n## Testing\r\nTested with sample repro application\r\n\r\n## Risk\r\nMinimal. The new styles are not in use. Reverts a change made in RC2\r\n\r\n**IMPORTANT**: If this backport is for a servicing release, please verify that:\r\n- The PR target branch is `release/X.0-staging`, not `release/X.0`.\r\n- If the change touches code that ships in a NuGet package, you have added the necessary [package authoring](https://github.com/dotnet/runtime/blob/main/docs/project/library-servicing.md) and gotten it explicitly reviewed.\r\n\r\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9953)","Url":"https://github.com/dotnet/wpf/pull/9953","RelatedDescription":"Closed or merged PR \"[release/9.0] Fixed ListView content alignment regression\" (#9953)"},{"Id":"2586764727","IsPullRequest":true,"CreatedAt":"2024-10-14T18:34:42","Actor":"h3xds1nz","Number":"9954","RawContent":null,"Title":"Remove array/object allocs during Alt+Numpad composition, improve performance","State":"open","Body":"## Description\r\n\r\nRemoves unnecessary `byte[]` , `char[]` and `StringBuilder` alocations during post-input processing when the char is inputted via Alt+Numpad combination. This is not somewhat impactful allocation but it will allow for more optimizations in the future.\r\n\r\nTime spent is cut by 2/5 which is more impactful in this case.\r\n\r\n### GetCurrentOEMCPEncoding method chain call\r\n\r\n| Method   |Mean [ns] | Error [ns] | StdDev [ns] | Gen0   | Code Size [B] | Allocated [B] |\r\n|--------- |-----------:|-----------:|------------:|-------:|--------------:|--------------:|\r\n| Original | 48.77 ns |   0.674 ns |    0.630 ns | 0.0086 |         814 B |         144 B |\r\n| PR_EDIT  |  31.83 ns |   0.292 ns |    0.273 ns | 0.0019 |         418 B |          32 B |\r\n\r\n## Customer Impact\r\n\r\nImproved performance, decreased allocations.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nLocal build, text input.\r\n\r\n## Risk\r\n\r\nLow.\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9954)","Url":"https://github.com/dotnet/wpf/pull/9954","RelatedDescription":"Open PR \"Remove array/object allocs during Alt+Numpad composition, improve performance\" (#9954)"},{"Id":"2586280100","IsPullRequest":true,"CreatedAt":"2024-10-14T14:48:40","Actor":"dipeshmsft","Number":"9952","RawContent":null,"Title":"Fixed ListView content alignment regression","State":"open","Body":"Fixes # <!-- Issue Number --> #9939 \r\n\r\n## Description\r\nIn RC2, we modified some TemplateBinding's in Fluent styles, to allow developers to modify properties for default Fluent styles. While modifying ListView styles, the changes were made to make it similar to Aero2 style, but that caused a regression when using the ListView inside another container. Reverting that change to mitigate the issue.\r\n\r\n## Customer Impact\r\nDevelopers will get the correct ListView styles\r\n<!-- What is the impact to customers of not taking this fix? -->\r\n\r\n## Regression\r\nTechnically no, but it is a regression in .NET 9 RC2\r\n<!-- Is this fixing a problem that was introduced in the most recent release, ie., fixing a regression? -->\r\n\r\n## Testing\r\nTested with sample repro application\r\n<!-- What kind of testing has been done with the fix. -->\r\n\r\n## Risk\r\nMinimal. The new styles are not in use. Reverts a change made in RC2\r\n<!-- Please assess the risk of taking this fix. Provide details backing up your assessment. -->\r\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9952)","Url":"https://github.com/dotnet/wpf/pull/9952","RelatedDescription":"Open PR \"Fixed ListView content alignment regression\" (#9952)"},{"Id":"2586040438","IsPullRequest":true,"CreatedAt":"2024-10-14T14:46:42","Actor":"dipeshmsft","Number":"9950","RawContent":null,"Title":"Fixed ListView content alignment regression","State":"closed","Body":"Fixes # <!-- Issue Number --> #9939 \r\n\r\n## Description\r\nIn RC2, we modified some TemplateBinding's in Fluent styles, to allow developers to modify properties for default Fluent styles. While modifying ListView styles, the changes were made to make it similar to Aero2 style, but that caused a regression when using the ListView inside another container. Reverting that change to mitigate the issue.\r\n\r\n## Customer Impact\r\nDevelopers will get the correct ListView styles\r\n<!-- What is the impact to customers of not taking this fix? -->\r\n\r\n## Regression\r\nTechnically no, but it is a regression in .NET 9 RC2\r\n<!-- Is this fixing a problem that was introduced in the most recent release, ie., fixing a regression? -->\r\n\r\n## Testing\r\nTested with sample repro application\r\n<!-- What kind of testing has been done with the fix. -->\r\n\r\n## Risk\r\nMinimal. The new styles are not in use. Reverts a change made in RC2\r\n<!-- Please assess the risk of taking this fix. Provide details backing up your assessment. -->\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9950)","Url":"https://github.com/dotnet/wpf/pull/9950","RelatedDescription":"Closed or merged PR \"Fixed ListView content alignment regression\" (#9950)"},{"Id":"2586047333","IsPullRequest":true,"CreatedAt":"2024-10-14T14:46:25","Actor":"github-actions[bot]","Number":"9951","RawContent":null,"Title":"[release/9.0] Fixed ListView content alignment regression","State":"closed","Body":"Backport of #9950 to release/9.0\n/cc @dipeshmsft\n## Customer Impact\n## Testing\n## Risk\n**IMPORTANT**: If this backport is for a servicing release, please verify that:\n- The PR target branch is `release/X.0-staging`, not `release/X.0`.\n- If the change touches code that ships in a NuGet package, you have added the necessary [package authoring](https://github.com/dotnet/runtime/blob/main/docs/project/library-servicing.md) and gotten it explicitly reviewed.\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9951)","Url":"https://github.com/dotnet/wpf/pull/9951","RelatedDescription":"Closed or merged PR \"[release/9.0] Fixed ListView content alignment regression\" (#9951)"},{"Id":"2581214429","IsPullRequest":true,"CreatedAt":"2024-10-14T06:24:29","Actor":"dotnet-maestro[bot]","Number":"9941","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20241012.4\r\n- **Date Produced**: October 13, 2024 6:16:01 AM UTC\r\n- **Commit**: f73363f4cb56a3649c8039bd47c39de4f4db810f\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 10.0.0-alpha.1.24511.10 to 10.0.0-alpha.1.24512.4][5]\r\n  - **Microsoft.Private.Winforms**: [from 10.0.0-alpha.1.24511.10 to 10.0.0-alpha.1.24512.4][5]\r\n  - **System.Drawing.Common**: [from 10.0.0-alpha.1.24511.10 to 10.0.0-alpha.1.24512.4][5]\r\n  - **System.Reflection.MetadataLoadContext**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.Windows.Extensions**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **Microsoft.NETCore.Platforms**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.Resources.Extensions**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.Runtime.Serialization.Formatters**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **Microsoft.NETCore.App.Ref**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.10.0**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **Microsoft.Win32.Registry.AccessControl**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **Microsoft.Win32.SystemEvents**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.CodeDom**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.ComponentModel.Composition**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.Configuration.ConfigurationManager**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.Data.Odbc**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.Data.OleDb**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.Diagnostics.EventLog**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.Diagnostics.PerformanceCounter**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.DirectoryServices.AccountManagement**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.DirectoryServices.Protocols**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.DirectoryServices**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.Formats.Nrbf**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.IO.Packaging**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.IO.Ports**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.Management**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.Reflection.Context**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.Runtime.Caching**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.Security.Cryptography.Pkcs**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.Security.Cryptography.ProtectedData**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.Security.Cryptography.Xml**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.Security.Permissions**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.ServiceModel.Syndication**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.ServiceProcess.ServiceController**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.Speech**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.Text.Encoding.CodePages**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.Threading.AccessControl**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n  - **System.ComponentModel.Composition.Registration**: [from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14][6]\r\n\r\n[5]: https://github.com/dotnet/winforms/compare/04695775da...f73363f4cb\r\n[6]: https://github.com/dotnet/runtime/compare/985c177712...a038f65e16\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n\r\n\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9941)\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Coherency Updates**:\r\n  - **System.Reflection.MetadataLoadContext**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.Windows.Extensions**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.Platforms**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.Resources.Extensions**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.Runtime.Serialization.Formatters**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Ref**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.10.0**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.Win32.Registry.AccessControl**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.Win32.SystemEvents**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.CodeDom**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.ComponentModel.Composition**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.Configuration.ConfigurationManager**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.Data.Odbc**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.Data.OleDb**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.EventLog**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.PerformanceCounter**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices.AccountManagement**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices.Protocols**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.Formats.Nrbf**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Packaging**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Ports**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.Management**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.Reflection.Context**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.Runtime.Caching**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Pkcs**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.ProtectedData**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Xml**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Permissions**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.ServiceModel.Syndication**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.ServiceProcess.ServiceController**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.Speech**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.Text.Encoding.CodePages**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.Threading.AccessControl**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n  - **System.ComponentModel.Composition.Registration**: from 10.0.0-alpha.1.24510.11 to 10.0.0-alpha.1.24511.14 (parent: Microsoft.Private.Winforms)\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/9941","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#9941)"},{"Id":"2581248502","IsPullRequest":true,"CreatedAt":"2024-10-14T06:23:25","Actor":"dotnet-maestro[bot]","Number":"9942","RawContent":null,"Title":"[main] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 840bf684-917a-4879-f62c-08d8e93a0c51\r\n- **Build**: 20241011.1\r\n- **Date Produced**: October 11, 2024 5:39:49 PM UTC\r\n- **Commit**: 712dea25b14a59fe642f2d28e8a3f3c931c03759\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Arcade.Sdk**: [from 10.0.0-beta.24510.3 to 10.0.0-beta.24511.1][2]\r\n  - **Microsoft.DotNet.CodeAnalysis**: [from 10.0.0-beta.24510.3 to 10.0.0-beta.24511.1][2]\r\n  - **Microsoft.DotNet.GenAPI**: [from 10.0.0-beta.24510.3 to 10.0.0-beta.24511.1][2]\r\n  - **Microsoft.DotNet.Helix.Sdk**: [from 10.0.0-beta.24510.3 to 10.0.0-beta.24511.1][2]\r\n\r\n[2]: https://github.com/dotnet/arcade/compare/f044058aae...712dea25b1\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9942)\r\n\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/9942","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/arcade\" (#9942)"},{"Id":"2582408833","IsPullRequest":true,"CreatedAt":"2024-10-14T06:19:44","Actor":"dotnet-maestro[bot]","Number":"9945","RawContent":null,"Title":"[release/9.0] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Coherency Updates**:\r\n  - **System.Reflection.MetadataLoadContext**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.Windows.Extensions**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.Platforms**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.Resources.Extensions**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.Runtime.Serialization.Formatters**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Ref**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.9.0**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.Win32.Registry.AccessControl**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.Win32.SystemEvents**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.CodeDom**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.ComponentModel.Composition**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.Configuration.ConfigurationManager**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.Data.Odbc**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.Data.OleDb**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.EventLog**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.PerformanceCounter**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices.AccountManagement**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices.Protocols**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.Formats.Nrbf**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Packaging**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Ports**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.Management**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.Reflection.Context**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.Runtime.Caching**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Pkcs**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.ProtectedData**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Xml**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Permissions**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.ServiceModel.Syndication**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.ServiceProcess.ServiceController**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.Speech**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.Text.Encoding.CodePages**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.Threading.AccessControl**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n  - **System.ComponentModel.Composition.Registration**: from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16 (parent: Microsoft.Private.Winforms)\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n\r\n[marker]: <> (Begin:381f8ff1-4857-4887-5005-08dcbc3022d8)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 381f8ff1-4857-4887-5005-08dcbc3022d8\r\n- **Build**: 20241012.2\r\n- **Date Produced**: October 12, 2024 2:06:38 PM UTC\r\n- **Commit**: 9b822fd70005bf5632d12fe76811b97b3dd044e4\r\n- **Branch**: refs/heads/release/9.0\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 9.0.0-rtm.24511.8 to 9.0.0-rtm.24512.2][3]\r\n  - **Microsoft.Private.Winforms**: [from 9.0.0-rtm.24511.8 to 9.0.0-rtm.24512.2][3]\r\n  - **System.Drawing.Common**: [from 9.0.0-rtm.24511.8 to 9.0.0-rtm.24512.2][3]\r\n  - **System.Reflection.MetadataLoadContext**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.Windows.Extensions**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **Microsoft.NETCore.Platforms**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.Resources.Extensions**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.Runtime.Serialization.Formatters**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **Microsoft.NETCore.App.Ref**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.9.0**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **Microsoft.Win32.Registry.AccessControl**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **Microsoft.Win32.SystemEvents**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.CodeDom**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.ComponentModel.Composition**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.Configuration.ConfigurationManager**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.Data.Odbc**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.Data.OleDb**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.Diagnostics.EventLog**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.Diagnostics.PerformanceCounter**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.DirectoryServices.AccountManagement**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.DirectoryServices.Protocols**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.DirectoryServices**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.Formats.Nrbf**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.IO.Packaging**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.IO.Ports**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.Management**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.Reflection.Context**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.Runtime.Caching**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.Security.Cryptography.Pkcs**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.Security.Cryptography.ProtectedData**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.Security.Cryptography.Xml**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.Security.Permissions**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.ServiceModel.Syndication**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.ServiceProcess.ServiceController**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.Speech**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.Text.Encoding.CodePages**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.Threading.AccessControl**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n  - **System.ComponentModel.Composition.Registration**: [from 9.0.0-rtm.24510.3 to 9.0.0-rtm.24511.16][4]\r\n\r\n[3]: https://github.com/dotnet/winforms/compare/f39b0dc099...9b822fd700\r\n[4]: https://github.com/dotnet/runtime/compare/226c0347b9...b030c4dfdf\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:381f8ff1-4857-4887-5005-08dcbc3022d8)\r\n\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9945)\r\n\r\n\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/9945","RelatedDescription":"Closed or merged PR \"[release/9.0] Update dependencies from dotnet/winforms\" (#9945)"},{"Id":"2583901149","IsPullRequest":true,"CreatedAt":"2024-10-13T11:33:19","Actor":"h3xds1nz","Number":"9949","RawContent":null,"Title":"Remove double lookups on SizeLimitedCache<K, V>, improve performance","State":"open","Body":"Fixes #4828 \r\n\r\n## Description\r\n\r\nWhile checking out `SizeLimitedCache<K, V>` yesterday, I've noticed the double lookups on the dictionary and today I've found there's already a corresponding issue for it, hence we should fix it for optimal performance as this is used with glyphs/fonts.\r\n\r\n- Use throw helpers over creating new instance of `ArgumentNullException` directly.\r\n- `Remove` had even three lookups, so now it just has one.\r\n- Fields that could be `readonly` have been adjusted.\r\n- Sealed the class, proper naming conventions.\r\n- `Node` uses auto properties now.\r\n\r\n### 10 capacity, 15 unique additions first, 20 lookups\r\n\r\n| Method   | Mean [ns] | Error [ns] | StdDev [ns] | Gen0   | Code Size [B] | Allocated [B] |\r\n|--------- |----------:|-----------:|------------:|-------:|--------------:|--------------:|\r\n| Original |  988.4 ns |    9.39 ns |     7.84 ns | 0.1183 |       2,045 B |        1992 B |\r\n| PR_EDIT  |  809.3 ns |    9.18 ns |     8.14 ns | 0.1183 |       1,820 B |        1992 B |\r\n\r\n## Customer Impact\r\n\r\nImproved perfomance.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nLocal build, tests with the class.\r\n\r\n## Risk\r\n\r\nLow, just basically compiler warnings.\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9949)","Url":"https://github.com/dotnet/wpf/pull/9949","RelatedDescription":"Open PR \"Remove double lookups on SizeLimitedCache<K, V>, improve performance\" (#9949)"},{"Id":"2583471687","IsPullRequest":true,"CreatedAt":"2024-10-12T22:52:06","Actor":"h3xds1nz","Number":"9948","RawContent":null,"Title":"Fix FontSource/FontFileStream embedded resource memory leak","State":"open","Body":"Fixes #7289\r\n\r\n## Description\r\n\r\nFixes memory leak when using fonts from embedded resources that are materialized onto `FontSource` -> `FontFamily`, etc.\r\n\r\nThe issue is basically in `FontSource.GetUnmanagedStream()`:\r\n- We're passing around pure `UnmanagedMemoryStream` instance, but life without destructor is kind of hard.\r\n    - This can be removed once `FontFileStream` from `DirectWriteForwarder` would be migrated to C#.\r\n\r\nMore context: The fix could be done by disposing the `UnmanagedMemoryStream` instantly and wrapping it in a new instance so it's cleared from the `List<Stream>` of `PackagePart` but I think it's nice to tie the lifetime together.\r\n\r\n## Customer Impact\r\n\r\nCustomers will finally get their fix after 10 years.\r\n\r\nhttps://stackoverflow.com/questions/31452443/wpf-textblock-memory-leak-when-using-font\r\nhttps://stackoverflow.com/questions/49550759/wpf-load-font-from-resources\r\nhttps://stackoverflow.com/questions/45297837/what-causes-unmanagedmemorystream-in-wpf-memory-leak\r\nhttps://stackoverflow.com/questions/39157846/wpf-glyphs-control-font-uriits-slow-and-remains-in-memory\r\n\r\n## Regression\r\n\r\nHas been around since at least .NET 4.5.\r\n\r\n## Testing\r\n\r\nUsing the repro in #7289; sample apps use.\r\n\r\n## Risk\r\n\r\nLow though we're passing around stuff onto C++/CLI, that's always awful.\r\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9948)","Url":"https://github.com/dotnet/wpf/pull/9948","RelatedDescription":"Open PR \"Fix FontSource/FontFileStream embedded resource memory leak\" (#9948)"},{"Id":"2582984528","IsPullRequest":true,"CreatedAt":"2024-10-12T13:01:36","Actor":"h3xds1nz","Number":"9947","RawContent":null,"Title":"Fix MouseWheelEventArgs.Delta from static to an instance readonly field","State":"open","Body":"## Description\r\n\r\nSimilarly as in #7910, the `MouseWheelEventArgs.Delta` is a static field, meaning a creation of a new event changes the `Delta` value for all previously created events. This is clearly a bug, the field shall not be `static` but an instanced `readonly` as the event should describe the state at the exact point of time it was generated.\r\n\r\n## Customer Impact\r\n\r\nCreation of a new `MouseWheelEventArgs` will not influence the value of `Delta` for previous instances.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nLocal build.\r\n\r\n## Risk\r\n\r\nLow.\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9947)","Url":"https://github.com/dotnet/wpf/pull/9947","RelatedDescription":"Open PR \"Fix MouseWheelEventArgs.Delta from static to an instance readonly field\" (#9947)"},{"Id":"2582839355","IsPullRequest":true,"CreatedAt":"2024-10-12T11:08:07","Actor":"h3xds1nz","Number":"9946","RawContent":null,"Title":"Replace ArrayList in InputProcessorProfiles with fixed-size array, reduce allocations","State":"open","Body":"## Description\r\n\r\nLoosely follows #9221, replacing the other part of the `InputLanguageSource.InputLanguageList` with more modern code.\r\n- Instead of marshalling the array members, we just wrap the array in a `ReadOnlySpan<short>`.\r\n- Instead of using `ArrayList`, we preallocate the array as we know the final count.\r\n- The class can be sealed, no reason not to as it has no children.\r\n- I've formatted the file and cleared unused usings for clarity.\r\n\r\n### Single invocation of the property (without `_ipp` init); 5 profiles\r\n\r\n| Method   | Mean [ns] | Error [ns] | StdDev [ns] | Gen0   | Code Size [B] | Allocated [B] |\r\n|--------- |----------:|-----------:|------------:|-------:|--------------:|--------------:|\r\n| Original |   556.4 ns |    5.70 ns |     5.33 ns | 0.0696 |       1,245 B |        1176 B |\r\n| PR_EDIT  |  443.8 ns |    4.42 ns |     3.69 ns | 0.0563 |         394 B |         944 B |\r\n\r\n## Customer Impact\r\n\r\nImproved performance, decreased allocations.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nLocal build, testing new output matches the old one.\r\n\r\n## Risk\r\n\r\nLow.\r\n\r\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9946)","Url":"https://github.com/dotnet/wpf/pull/9946","RelatedDescription":"Open PR \"Replace ArrayList in InputProcessorProfiles with fixed-size array, reduce allocations\" (#9946)"},{"Id":"2582032165","IsPullRequest":false,"CreatedAt":"2024-10-11T19:16:54","Actor":"cwensley","Number":"9944","RawContent":null,"Title":"Layout rounding can cause DataGrid to hang","State":"open","Body":"### Description\n\nWhen `UseLayoutRounding=true`, the `DataGrid` can hang in an endless loop trying to get a cell into view after resetting the data then setting `DataGrid.CurrentCell`.\n\nIt appears to happen particularly when the column expands beyond the width of the DataGrid, and only on certain screen scales.\n\n### Reproduction Steps\n\n1. Set screen scale to 125% in System > Display Settings\n2. Open and run this project: [TestWpfColumnFreeze.zip](https://github.com/user-attachments/files/17346648/TestWpfColumnFreeze.zip)\n3. Double click on one of the cells that says \"Double click on me\"\n\n### Expected behavior\n\nShould not hang at any screen scale or layout rounding setting\n\n### Actual behavior\n\nThe application hangs and does not respond to input.\n\nThe offending method appears to be in `DataGridCellsPanel.BringIndexIntoView`, where it gets stuck in [this loop](https://github.com/dotnet/wpf/blob/934a82731d7c35d639f221fa818a26ab4518425e/src/Microsoft.DotNet.Wpf/src/PresentationFramework/System/Windows/Controls/DataGridCellsPanel.cs#L2189-L2196):\n\n```c#\nwhile (!IsChildInView(index, out newHorizontalOffset) && !DoubleUtil.AreClose(value, newHorizontalOffset))\n{\n\tretryRequested = true;\n\tscrollInfo.SetHorizontalOffset(newHorizontalOffset);\n\tUpdateLayout();\n\tvalue = newHorizontalOffset;\n}\n```\n\nStack Trace:\n```\n \tSystem.Private.CoreLib.dll!System.Threading.Monitor.Enter(object obj, ref bool lockTaken)\tUnknown\n \tPresentationCore.dll!System.Windows.Media.Visual.GetDpi()\tUnknown\n \tPresentationCore.dll!System.Windows.UIElement.Arrange(System.Windows.Rect finalRect)\tUnknown\n \tPresentationFramework.dll!System.Windows.Controls.Primitives.DataGridColumnHeadersPresenter.ArrangeOverride(System.Windows.Size finalSize) Line 168\tC#\n \tPresentationFramework.dll!System.Windows.FrameworkElement.ArrangeCore(System.Windows.Rect finalRect) Line 3718\tC#\n \tPresentationCore.dll!System.Windows.UIElement.Arrange(System.Windows.Rect finalRect)\tUnknown\n \tPresentationCore.dll!System.Windows.ContextLayoutManager.UpdateLayout()\tUnknown\n>\tPresentationFramework.dll!System.Windows.Controls.DataGridCellsPanel.BringIndexIntoView(int index) Line 1580\tC#\n \t[Native to Managed Transition]\t\n \t[Managed to Native Transition]\t\n \tSystem.Private.CoreLib.dll!System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(object obj, System.Span<object> copyOfArgs, System.Reflection.BindingFlags invokeAttr)\tUnknown\n \tSystem.Private.CoreLib.dll!System.Reflection.MethodBaseInvoker.InvokeWithOneArg(object obj, System.Reflection.BindingFlags invokeAttr, System.Reflection.Binder binder, object[] parameters, System.Globalization.CultureInfo culture)\tUnknown\n \tSystem.Private.CoreLib.dll!System.Delegate.DynamicInvokeImpl(object[] args)\tUnknown\n \tWindowsBase.dll!System.Windows.Threading.ExceptionWrapper.InternalRealCall(System.Delegate callback, object args, int numArgs) Line 83\tC#\n \tWindowsBase.dll!System.Windows.Threading.ExceptionWrapper.TryCatchWhen(object source, System.Delegate callback, object args, int numArgs, System.Delegate catchHandler) Line 24\tC#\n \tWindowsBase.dll!System.Windows.Threading.DispatcherOperation.InvokeImpl() Line 424\tC#\n \tWindowsBase.dll!MS.Internal.CulturePreservingExecutionContext.CallbackWrapper(object obj) Line 99\tC#\n \tSystem.Private.CoreLib.dll!System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext executionContext, System.Threading.ContextCallback callback, object state)\tUnknown\n \tWindowsBase.dll!MS.Internal.CulturePreservingExecutionContext.Run(MS.Internal.CulturePreservingExecutionContext executionContext, System.Threading.ContextCallback callback, object state) Line 85\tC#\n \tWindowsBase.dll!System.Windows.Threading.DispatcherOperation.Invoke() Line 350\tC#\n \tWindowsBase.dll!System.Windows.Threading.Dispatcher.ProcessQueue() Line 1250\tC#\n \tWindowsBase.dll!System.Windows.Threading.Dispatcher.WndProcHook(nint hwnd, int msg, nint wParam, nint lParam, ref bool handled) Line 1367\tC#\n \tWindowsBase.dll!MS.Win32.HwndWrapper.WndProc(nint hwnd, int msg, nint wParam, nint lParam, ref bool handled) Line 192\tC#\n \tWindowsBase.dll!MS.Win32.HwndSubclass.DispatcherCallbackOperation(object o) Line 223\tC#\n \tWindowsBase.dll!System.Windows.Threading.ExceptionWrapper.InternalRealCall(System.Delegate callback, object args, int numArgs) Line 73\tC#\n \tWindowsBase.dll!System.Windows.Threading.ExceptionWrapper.TryCatchWhen(object source, System.Delegate callback, object args, int numArgs, System.Delegate catchHandler) Line 24\tC#\n \tWindowsBase.dll!System.Windows.Threading.Dispatcher.LegacyInvokeImpl(System.Windows.Threading.DispatcherPriority priority, System.TimeSpan timeout, System.Delegate method, object args, int numArgs) Line 990\tC#\n \tWindowsBase.dll!MS.Win32.HwndSubclass.SubclassWndProc(nint hwnd, int msg, nint wParam, nint lParam) Line 180\tC#\n \t[Native to Managed Transition]\t\n \t[Managed to Native Transition]\t\n \tWindowsBase.dll!System.Windows.Threading.Dispatcher.PushFrameImpl(System.Windows.Threading.DispatcherFrame frame) Line 1281\tC#\n \tPresentationFramework.dll!System.Windows.Application.RunDispatcher(object ignore)\tC#\n \tPresentationFramework.dll!System.Windows.Application.RunInternal(System.Windows.Window window)\tC#\n \tTestWpfColumnFreeze.dll!TestWpfColumnFreeze.App.Main()\tUnknown\n```\n\n### Regression?\n\nAlso happens with latest .NET Framework, not sure about earlier versions.\n\n### Known Workarounds\n\nTurning off layout rounding for the DataGridRow appears to avoid the issue.\n\n### Impact\n\n_No response_\n\n### Configuration\n\nRunning on Windows 11 23H2, .NET runtime 8.0.8 or 7.0.0\n\nReproducible on both x64 and ARM64 architectures.\n\n### Other information\n\n_No response_","Url":"https://github.com/dotnet/wpf/issues/9944","RelatedDescription":"Open issue \"Layout rounding can cause DataGrid to hang\" (#9944)"},{"Id":"2581877780","IsPullRequest":true,"CreatedAt":"2024-10-11T17:37:09","Actor":"h3xds1nz","Number":"9943","RawContent":null,"Title":"Remove OleCmdHelper/ISecureCommand dead code (CAS/XBAP leftovers)","State":"open","Body":"## Description\r\n\r\nContinues #9855 and #9865, removing even more XBAP related dead code (and some CAS related code).\r\n\r\n- `OleCmdHelper` is uncalled, `CommandWithArgument` was only used in `OleCmdHelper`.\r\n- `ISecureCommand` was also referenced via `OleCmdHelper` though it has been gutted out during CAS removal.\r\n- `SecureUICommand` was created using `CommandLibraryHelper` on NetFX, removed during CAS removal too.\r\n\r\n## Customer Impact\r\n\r\nSmaller assembly size, improved code base quality for developers.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nLocal build.\r\n\r\n## Risk\r\n\r\nI believe there is none, those classes are uncalled and interface unused since CAS removal.\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9943)","Url":"https://github.com/dotnet/wpf/pull/9943","RelatedDescription":"Open PR \"Remove OleCmdHelper/ISecureCommand dead code (CAS/XBAP leftovers)\" (#9943)"},{"Id":"2581075122","IsPullRequest":true,"CreatedAt":"2024-10-11T10:54:00","Actor":"h3xds1nz","Number":"9940","RawContent":null,"Title":"Optimize parsing and serialization of generic type names in Xaml, decrease allocs","State":"open","Body":"## Description\r\n\r\nOptimizes retrievals of subscripts/type names from generic types and also its serialization back to string.\r\n\r\nThis is meant to be very straightforward (as the main modification is done to `GenericTypeNameScanner.StripSubscript` and other modifications are just to comfort the change), so a lot of strings were kept, that's not an oversight. I believe those changes should be done in small batches.\r\n\r\n## Customer Impact\r\n\r\nImproved performance, decreased allocations.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nLocal build, unit tests.\r\n\r\n## Risk\r\n\r\nLow.\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9940)","Url":"https://github.com/dotnet/wpf/pull/9940","RelatedDescription":"Open PR \"Optimize parsing and serialization of generic type names in Xaml, decrease allocs\" (#9940)"},{"Id":"2580950162","IsPullRequest":false,"CreatedAt":"2024-10-11T09:51:58","Actor":"bent-rasmussen","Number":"9939","RawContent":null,"Title":"Fluent Theme: `ListView` inside `TabControl` has erratic resize behavior when scrolling vertically","State":"open","Body":"### Description\n\nWhen nesting a `ListView` inside a `TabControl`, it can exhibit strange resize behavior when scrolling vertically. Since RC2 the `ListView` seemingly wants to use as little horizontal space as possible but this leads to usability issues as can be seen below.\n\n### Reproduction Steps\n\nCreate a .NET 9 WPF application and use the following markup in `MainWindow.xaml`:\n\n```xaml\n<Window\n    x:Class=\"Fluent_ListViewScrollBarJumps.MainWindow\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n    xmlns:local=\"clr-namespace:Fluent_ListViewScrollBarJumps\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    Title=\"MainWindow\"\n    Width=\"800\"\n    Height=\"450\"\n    ThemeMode=\"Light\"\n    mc:Ignorable=\"d\">\n    <Grid Margin=\"10\">\n\n        <TabControl>\n            <TabItem Header=\"Test\">\n                <ListView ItemsSource=\"{Binding Path=Items, Mode=OneWay}\" />\n            </TabItem>\n        </TabControl>\n\n    </Grid>\n</Window>\n ````\n\nIn `MainWindow.xaml.cs` code-behind, use this code:\n\n```csharp\nusing System.Collections.ObjectModel;\nusing System.Windows;\n\nnamespace Fluent_ListViewScrollBarJumps;\n\n/// <summary>\n/// Interaction logic for MainWindow.xaml\n/// </summary>\npublic partial class MainWindow : Window\n{\n    public MainWindow()\n    {\n        InitializeComponent();\n\n        void Add(int max)\n        {\n            var n = Random.Shared.Next(1, max);\n            Items.Add(LoremIpsum[..n]);\n        }\n\n        for (var i = 0; i < 1_000; i++)\n        {\n            if (i <= 100)\n            {\n                Add(10);\n            }\n            else if (i <= 500)\n            {\n                Add(50);\n            }\n            else\n            {\n                Add(120);\n            }\n        }\n\n        DataContext = this;\n    }\n\n    private const string LoremIpsum = \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\";\n\n    public ObservableCollection<string> Items { get; } = [];\n}\n```\n\n\n### Expected behavior\n\nThe vertical scrollbar stays at the same horizontal position (here the `ThemeMode` attribute was removed).\n\n![Image](https://github.com/user-attachments/assets/4eebb88a-2198-406f-9e2f-1b12428a7888)\n\n\n### Actual behavior\n\nThe vertical scrollbar jumps to the right when scrolling down.\n\n![Image](https://github.com/user-attachments/assets/2ad95ca6-e7cd-47e8-a3d6-35c453c85798)\n\n\n### Regression?\n\nThis defect was introduced in the switch between .NET 9 RC1 and RC2.\n\n### Known Workarounds\n\n_No response_\n\n### Impact\n\nMakes `ListView` inside a `TabControl` unusable.\n\n### Configuration\n\n| Property | Value |\n| ----------|-------|\n| SDK | .NET 9 RC2 |\n| OS Name | Microsoft Windows 11 Pro |\n| Version | 10.0.22631 Build 22631 |\n| System SKU | Surface_Pro_8_1983 |\n\n### Other information\n\n_No response_","Url":"https://github.com/dotnet/wpf/issues/9939","RelatedDescription":"Open issue \"Fluent Theme: `ListView` inside `TabControl` has erratic resize behavior when scrolling vertically\" (#9939)"},{"Id":"2580780394","IsPullRequest":false,"CreatedAt":"2024-10-11T08:30:43","Actor":"bent-rasmussen","Number":"9938","RawContent":null,"Title":"Fluent Theme: Controls inside `ToolBar` have poor styling and usability","State":"open","Body":"### Description\n\nWhen creating a desktop application with the new Fluent theme of .NET 9, controls inside the ToolBar appear poorly styled and have low usability. For example, one cannot see if a CheckBox is checked or a ToggleButton is toggled. Also the styling does not appear not up-to-date with the Fluent theme.\n\n### Reproduction Steps\n\n- Create a .NET 9 desktop app with the new Fluent theme\n- Add a `ToolBar` like so:\n\n```xaml\n<ToolBarTray Margin=\"0,10,0,0\">\n    <ToolBar DockPanel.Dock=\"Top\">\n        <Button>Button</Button>\n\n        <ToggleButton Margin=\"5,0,0,0\" IsChecked=\"True\">Checked Toggle Button</ToggleButton>\n\n        <CheckBox Margin=\"5,0,0,0\" IsChecked=\"True\">Checked CheckBox</CheckBox>\n\n        <ComboBox Margin=\"5,0,0,0\">\n            <ComboBoxItem IsSelected=\"True\">ComboBox</ComboBoxItem>\n            <ComboBoxItem>Bar</ComboBoxItem>\n            <ComboBoxItem>Baz</ComboBoxItem>\n        </ComboBox>\n\n        <ComboBox Margin=\"5,0,0,0\" IsDropDownOpen=\"True\">\n            <ComboBoxItem IsSelected=\"True\">Open ComboBox</ComboBoxItem>\n            <ComboBoxItem>Bar</ComboBoxItem>\n            <ComboBoxItem>Baz</ComboBoxItem>\n        </ComboBox>\n    </ToolBar>\n</ToolBarTray>\n```\n\n\n### Expected behavior\n\nControls in the `ToolBar` are well-styled and have fair usability.\n\n### Actual behavior\n\nControls in the `ToolBar` are poorly styled and have low usability:\n\n![Image](https://github.com/user-attachments/assets/b4607509-e4f4-41f4-b24e-95e3e9caed4a)\n\n\n### Regression?\n\n_No response_\n\n### Known Workarounds\n\n_No response_\n\n### Impact\n\nWriting desktop apps with the new Fluent theme of .NET 9 requires either restyling controls or simply not using standard controls. The palette of realistically usable controls is smaller than expected.\n\n### Configuration\n\n| Property | Value |\n| ----------|-------|\n| SDK | .NET 9 RC2 |\n| OS Name | Microsoft Windows 11 Pro |\n| Version | 10.0.22631 Build 22631 |\n| System SKU | Surface_Pro_8_1983 |\n\n\n### Other information\n\n_No response_","Url":"https://github.com/dotnet/wpf/issues/9938","RelatedDescription":"Open issue \"Fluent Theme: Controls inside `ToolBar` have poor styling and usability\" (#9938)"},{"Id":"2580605024","IsPullRequest":true,"CreatedAt":"2024-10-11T07:38:23","Actor":"github-actions[bot]","Number":"9937","RawContent":null,"Title":"[release/9.0] Updated Intellisense package version to 9.0.0-preview-20241010.1","State":"closed","Body":"Backport of #9936 to release/9.0\n/cc @dipeshmsft\n## Customer Impact\n## Testing\n## Risk\n**IMPORTANT**: If this backport is for a servicing release, please verify that:\n- The PR target branch is `release/X.0-staging`, not `release/X.0`.\n- If the change touches code that ships in a NuGet package, you have added the necessary [package authoring](https://github.com/dotnet/runtime/blob/main/docs/project/library-servicing.md) and gotten it explicitly reviewed.\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9937)","Url":"https://github.com/dotnet/wpf/pull/9937","RelatedDescription":"Closed or merged PR \"[release/9.0] Updated Intellisense package version to 9.0.0-preview-20241010.1\" (#9937)"},{"Id":"2580603541","IsPullRequest":true,"CreatedAt":"2024-10-11T07:37:57","Actor":"dipeshmsft","Number":"9936","RawContent":null,"Title":"Updated Intellisense package version to 9.0.0-preview-20241010.1","State":"closed","Body":"## Description\r\nUpdates Intellisense package version to 9.0.0-preview-20241010.1\r\n\r\n## Customer Impact\r\nDevelopers will get the most recent document / intellisense files when using WPF in .NET 9\r\n\r\n## Regression\r\nNo\r\n\r\n## Testing\r\nLocal build\r\n\r\n## Risk\r\nNo\r\n","Url":"https://github.com/dotnet/wpf/pull/9936","RelatedDescription":"Closed or merged PR \"Updated Intellisense package version to 9.0.0-preview-20241010.1\" (#9936)"},{"Id":"2578075579","IsPullRequest":true,"CreatedAt":"2024-10-11T05:34:19","Actor":"github-actions[bot]","Number":"9925","RawContent":null,"Title":"[release/9.0] Avoid calling soon-to-be-removed string.Trim(ReadOnlySpan<char>) methods","State":"closed","Body":"Backport of #9907 to release/9.0\r\n/cc @dipeshmsft @bartonjs\r\n\r\n## Description\r\n\r\n.NET 9 previews added new string.Trim/TrimStart/TrimEnd methods accepting (params) `ReadOnlySpan<char>`.  Those methods are being removed from .NET 9 GA (and .NET 10/main), so they should no longer be called by WPF.\r\n\r\n## Customer Impact\r\n\r\nWPF won't build.\r\n\r\n## Regression\r\n\r\nNo\r\n\r\n## Testing\r\n\r\nIt compiles.\r\n\r\n## Risk\r\n\r\nExtremely low, mechanical change.\r\n\r\n**IMPORTANT**: If this backport is for a servicing release, please verify that:\r\n- The PR target branch is `release/X.0-staging`, not `release/X.0`.\r\n- If the change touches code that ships in a NuGet package, you have added the necessary [package authoring](https://github.com/dotnet/runtime/blob/main/docs/project/library-servicing.md) and gotten it explicitly reviewed.\r\n\r\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9925)","Url":"https://github.com/dotnet/wpf/pull/9925","RelatedDescription":"Closed or merged PR \"[release/9.0] Avoid calling soon-to-be-removed string.Trim(ReadOnlySpan<char>) methods\" (#9925)"},{"Id":"2578756258","IsPullRequest":true,"CreatedAt":"2024-10-11T05:26:03","Actor":"dotnet-maestro[bot]","Number":"9927","RawContent":null,"Title":"[release/9.0] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:2bde0aa3-7165-43c9-100b-08dcbc30275f)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 2bde0aa3-7165-43c9-100b-08dcbc30275f\r\n- **Build**: 20241009.3\r\n- **Date Produced**: October 9, 2024 10:05:57 PM UTC\r\n- **Commit**: 05c72bb3c9b38138276a8029017f2ef905dcc7fa\r\n- **Branch**: refs/heads/release/9.0\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Arcade.Sdk**: [from 9.0.0-beta.24508.3 to 9.0.0-beta.24509.3][2]\r\n  - **Microsoft.DotNet.CodeAnalysis**: [from 9.0.0-beta.24508.3 to 9.0.0-beta.24509.3][2]\r\n  - **Microsoft.DotNet.GenAPI**: [from 9.0.0-beta.24508.3 to 9.0.0-beta.24509.3][2]\r\n  - **Microsoft.DotNet.Helix.Sdk**: [from 9.0.0-beta.24508.3 to 9.0.0-beta.24509.3][2]\r\n\r\n[2]: https://github.com/dotnet/arcade/compare/f8071c4233...05c72bb3c9\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n- **Updates to .NET SDKs:**\r\n  - Updates sdk.version to 9.0.100-rc.2.24474.11\r\n  - Updates tools.dotnet to 9.0.100-rc.2.24474.11\r\n\r\n[marker]: <> (End:2bde0aa3-7165-43c9-100b-08dcbc30275f)\r\n\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9927)\r\n\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/9927","RelatedDescription":"Closed or merged PR \"[release/9.0] Update dependencies from dotnet/arcade\" (#9927)"},{"Id":"2579478826","IsPullRequest":true,"CreatedAt":"2024-10-11T05:14:46","Actor":"dotnet-maestro[bot]","Number":"9932","RawContent":null,"Title":"[release/8.0] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:3e242e43-3358-4aa6-cbf7-08db9e4fbff5)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 3e242e43-3358-4aa6-cbf7-08db9e4fbff5\r\n- **Build**: 20241008.1\r\n- **Date Produced**: October 8, 2024 6:38:56 PM UTC\r\n- **Commit**: e5b13e054339e41d422212a0ecaf24fec20cb5a1\r\n- **Branch**: refs/heads/release/8.0\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.ApiCompat**: [from 8.0.0-beta.24426.2 to 8.0.0-beta.24508.1][1]\r\n  - **Microsoft.DotNet.Arcade.Sdk**: [from 8.0.0-beta.24426.2 to 8.0.0-beta.24508.1][1]\r\n  - **Microsoft.DotNet.CodeAnalysis**: [from 8.0.0-beta.24426.2 to 8.0.0-beta.24508.1][1]\r\n  - **Microsoft.DotNet.GenAPI**: [from 8.0.0-beta.24426.2 to 8.0.0-beta.24508.1][1]\r\n  - **Microsoft.DotNet.Helix.Sdk**: [from 8.0.0-beta.24426.2 to 8.0.0-beta.24508.1][1]\r\n\r\n[1]: https://github.com/dotnet/arcade/compare/80264e6028...e5b13e0543\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n- **Updates to .NET SDKs:**\r\n  - Updates sdk.version to 8.0.110\r\n  - Updates tools.dotnet to 8.0.110\r\n\r\n[marker]: <> (End:3e242e43-3358-4aa6-cbf7-08db9e4fbff5)\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9932)","Url":"https://github.com/dotnet/wpf/pull/9932","RelatedDescription":"Closed or merged PR \"[release/8.0] Update dependencies from dotnet/arcade\" (#9932)"},{"Id":"2580236780","IsPullRequest":true,"CreatedAt":"2024-10-11T05:13:01","Actor":"dotnet-maestro[bot]","Number":"9935","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Coherency Updates**:\r\n  - **System.Reflection.MetadataLoadContext**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.Windows.Extensions**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.Platforms**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.Resources.Extensions**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.Runtime.Serialization.Formatters**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Ref**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.10.0**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.Win32.Registry.AccessControl**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.Win32.SystemEvents**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.CodeDom**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.ComponentModel.Composition**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.Configuration.ConfigurationManager**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.Data.Odbc**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.Data.OleDb**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.EventLog**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.PerformanceCounter**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices.AccountManagement**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices.Protocols**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.Formats.Nrbf**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Packaging**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Ports**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.Management**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.Reflection.Context**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.Runtime.Caching**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Pkcs**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.ProtectedData**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Xml**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Permissions**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.ServiceModel.Syndication**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.ServiceProcess.ServiceController**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.Speech**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.Text.Encoding.CodePages**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.Threading.AccessControl**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n  - **System.ComponentModel.Composition.Registration**: from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15 (parent: Microsoft.Private.Winforms)\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20241010.7\r\n- **Date Produced**: October 10, 2024 11:33:50 PM UTC\r\n- **Commit**: cf5e72103a11b330055832fb29f16d66666c3154\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 10.0.0-alpha.1.24509.1 to 10.0.0-alpha.1.24510.7][1]\r\n  - **Microsoft.Private.Winforms**: [from 10.0.0-alpha.1.24509.1 to 10.0.0-alpha.1.24510.7][1]\r\n  - **System.Drawing.Common**: [from 10.0.0-alpha.1.24509.1 to 10.0.0-alpha.1.24510.7][1]\r\n  - **System.Reflection.MetadataLoadContext**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.Windows.Extensions**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **Microsoft.NETCore.Platforms**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.Resources.Extensions**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.Runtime.Serialization.Formatters**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **Microsoft.NETCore.App.Ref**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.10.0**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **Microsoft.Win32.Registry.AccessControl**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **Microsoft.Win32.SystemEvents**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.CodeDom**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.ComponentModel.Composition**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.Configuration.ConfigurationManager**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.Data.Odbc**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.Data.OleDb**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.Diagnostics.EventLog**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.Diagnostics.PerformanceCounter**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.DirectoryServices.AccountManagement**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.DirectoryServices.Protocols**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.DirectoryServices**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.Formats.Nrbf**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.IO.Packaging**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.IO.Ports**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.Management**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.Reflection.Context**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.Runtime.Caching**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.Security.Cryptography.Pkcs**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.Security.Cryptography.ProtectedData**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.Security.Cryptography.Xml**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.Security.Permissions**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.ServiceModel.Syndication**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.ServiceProcess.ServiceController**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.Speech**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.Text.Encoding.CodePages**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.Threading.AccessControl**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n  - **System.ComponentModel.Composition.Registration**: [from 10.0.0-alpha.1.24508.15 to 10.0.0-alpha.1.24509.15][2]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/109410d4d2...cf5e72103a\r\n[2]: https://github.com/dotnet/runtime/compare/abde3f9498...e32148a8bd\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9935)","Url":"https://github.com/dotnet/wpf/pull/9935","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#9935)"},{"Id":"2579433718","IsPullRequest":true,"CreatedAt":"2024-10-11T05:11:33","Actor":"dotnet-maestro[bot]","Number":"9930","RawContent":null,"Title":"[main] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 840bf684-917a-4879-f62c-08d8e93a0c51\r\n- **Build**: 20241010.1\r\n- **Date Produced**: October 10, 2024 3:02:03 PM UTC\r\n- **Commit**: 380002a14775d7f68f098c7e6b7d1c3638bd4c5d\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Arcade.Sdk**: [from 10.0.0-beta.24504.4 to 10.0.0-beta.24510.1][1]\r\n  - **Microsoft.DotNet.CodeAnalysis**: [from 10.0.0-beta.24504.4 to 10.0.0-beta.24510.1][1]\r\n  - **Microsoft.DotNet.GenAPI**: [from 10.0.0-beta.24504.4 to 10.0.0-beta.24510.1][1]\r\n  - **Microsoft.DotNet.Helix.Sdk**: [from 10.0.0-beta.24504.4 to 10.0.0-beta.24510.1][1]\r\n\r\n[1]: https://github.com/dotnet/arcade/compare/f209a925b1...380002a147\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n- **Updates to .NET SDKs:**\r\n  - Updates sdk.version to 9.0.100-rc.2.24474.11\r\n  - Updates tools.dotnet to 9.0.100-rc.2.24474.11\r\n\r\n[marker]: <> (End:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9930)","Url":"https://github.com/dotnet/wpf/pull/9930","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/arcade\" (#9930)"},{"Id":"2579501940","IsPullRequest":true,"CreatedAt":"2024-10-11T05:10:50","Actor":"dotnet-maestro[bot]","Number":"9933","RawContent":null,"Title":"[release/6.0] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:64ecc23e-064a-456b-da03-08d961c27f17)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 64ecc23e-064a-456b-da03-08d961c27f17\r\n- **Build**: 20241008.2\r\n- **Date Produced**: October 8, 2024 6:57:12 PM UTC\r\n- **Commit**: bb06ac242cf3faf5cef64127bdd11c3a4f060c06\r\n- **Branch**: refs/heads/release/6.0\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.ApiCompat**: [from 6.0.0-beta.24459.5 to 6.0.0-beta.24508.2][1]\r\n  - **Microsoft.DotNet.Arcade.Sdk**: [from 6.0.0-beta.24459.5 to 6.0.0-beta.24508.2][1]\r\n  - **Microsoft.DotNet.CodeAnalysis**: [from 6.0.0-beta.24459.5 to 6.0.0-beta.24508.2][1]\r\n  - **Microsoft.DotNet.GenAPI**: [from 6.0.0-beta.24459.5 to 6.0.0-beta.24508.2][1]\r\n  - **Microsoft.DotNet.Helix.Sdk**: [from 6.0.0-beta.24459.5 to 6.0.0-beta.24508.2][1]\r\n\r\n[1]: https://github.com/dotnet/arcade/compare/6850085473...bb06ac242c\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n- **Updates to .NET SDKs:**\r\n  - Updates sdk.version to 6.0.135\r\n  - Updates tools.dotnet to 6.0.135\r\n\r\n[marker]: <> (End:64ecc23e-064a-456b-da03-08d961c27f17)\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9933)","Url":"https://github.com/dotnet/wpf/pull/9933","RelatedDescription":"Closed or merged PR \"[release/6.0] Update dependencies from dotnet/arcade\" (#9933)"},{"Id":"2579458828","IsPullRequest":true,"CreatedAt":"2024-10-11T05:10:33","Actor":"dotnet-maestro[bot]","Number":"9931","RawContent":null,"Title":"[release/9.0-rc2] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:07c0696a-fa83-495b-b515-806733996640)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 07c0696a-fa83-495b-b515-806733996640\r\n- **Build**: 20241009.3\r\n- **Date Produced**: October 9, 2024 10:05:57 PM UTC\r\n- **Commit**: 05c72bb3c9b38138276a8029017f2ef905dcc7fa\r\n- **Branch**: refs/heads/release/9.0\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Arcade.Sdk**: [from 9.0.0-beta.24466.2 to 9.0.0-beta.24509.3][1]\r\n  - **Microsoft.DotNet.CodeAnalysis**: [from 9.0.0-beta.24466.2 to 9.0.0-beta.24509.3][1]\r\n  - **Microsoft.DotNet.GenAPI**: [from 9.0.0-beta.24466.2 to 9.0.0-beta.24509.3][1]\r\n  - **Microsoft.DotNet.Helix.Sdk**: [from 9.0.0-beta.24466.2 to 9.0.0-beta.24509.3][1]\r\n\r\n[1]: https://github.com/dotnet/arcade/compare/04b9022eba...05c72bb3c9\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n- **Updates to .NET SDKs:**\r\n  - Updates sdk.version to 9.0.100-rc.2.24474.11\r\n  - Updates tools.dotnet to 9.0.100-rc.2.24474.11\r\n\r\n[marker]: <> (End:07c0696a-fa83-495b-b515-806733996640)\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9931)","Url":"https://github.com/dotnet/wpf/pull/9931","RelatedDescription":"Closed or merged PR \"[release/9.0-rc2] Update dependencies from dotnet/arcade\" (#9931)"},{"Id":"2580106165","IsPullRequest":true,"CreatedAt":"2024-10-11T00:12:08","Actor":"h3xds1nz","Number":"9934","RawContent":null,"Title":"Fix IndexOutOfRangeException/Infinite loop in UpdateComponent (Track control)","State":"open","Body":"Fixes #9904 \r\n\r\n## Description\r\n\r\nFixes `IndexOutOfRangeException` and infinite loop issues when updating any of `Track`'s children after they've been already set from template or manually.\r\n\r\nThis issue is present when you attempt to update via any of the public properties (`DecreaseRepeatButton`, `IncreaseRepeatButton`, `Thumb`) after all the public members of Track has already been previously set (and therefore `_visualChildren` is initialized and has stored all three properties).\r\n\r\nIn standard Aero2 theme, using a `ScrollBar` (as `Track` has no template on its own), the order of the children is:\r\n- _visualChildren[0] = RepeatButton1\r\n- _visualChildren[1] = RepeatButton2\r\n- _visualChildren[2] = Thumb\r\n\r\nSetting item at position 2 (which would be `Thumb` property now) will result in an infinite loop.\r\nSetting items at positions 0 and 1 will result in `IndexOutOfRangeException` during assigment.\r\n\r\nThe simplest reproduction code with pure `Track` goes like this:\r\n```csharp\r\nTrack crashMe = new Track();\r\ncrashMe.DecreaseRepeatButton = new RepeatButton();\r\ncrashMe.IncreaseRepeatButton = new RepeatButton();\r\ncrashMe.Thumb = new Thumb();\r\n\r\n// Uncomment this for IndexOutOfRangeException\r\n// crashMe.IncreaseRepeatButton = new RepeatButton();\r\n\r\n// Uncomment this for infinite loop\r\n// crashMe.Thumb = new Thumb()\r\n```\r\n\r\nThe original code was written with updates in mind but I think it got a bit lost in shifting array members. I have fixed it to behave exactly as described in [Track.GetVisualChild](https://learn.microsoft.com/en-us/dotnet/api/system.windows.controls.primitives.track.getvisualchild?view=windowsdesktop-8.0) and [Track.VisualChildrenCount](https://learn.microsoft.com/en-us/dotnet/api/system.windows.controls.primitives.track.visualchildrencount?view=windowsdesktop-8.0) describes (+ the original comments), that means whenever you update an item, the array is shifted to the left if needed, so the order is always from oldest to newest (left to right).\r\nThis is aligned with `VisualChildrenCount` behavior where `NULL` allows you to remove children basically as well.\r\n\r\n## Customer Impact\r\n\r\nCustomers will be finally able to change the `Track` components as they please and won't experience undocumented behavior and exceptions that were not originally inteded.\r\n\r\n## Regression\r\n\r\nThis seems to be present way back. PresentationFramework v3 from NetFX has a bit different code but also buggy.\r\n\r\n## Testing\r\n\r\nTesting the forementioned exceptions and the order of the items, visual refresh, everything seems in order.\r\n\r\n## Risk\r\n\r\nLow, a loop has been fixed to work properly without changing anything else (e.g. collection types, etc.)\r\n\r\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9934)","Url":"https://github.com/dotnet/wpf/pull/9934","RelatedDescription":"Open PR \"Fix IndexOutOfRangeException/Infinite loop in UpdateComponent (Track control)\" (#9934)"},{"Id":"2579211004","IsPullRequest":true,"CreatedAt":"2024-10-10T16:25:10","Actor":"MichaelSimons","Number":"9928","RawContent":null,"Title":"Update DotNetBuild.props header to correct reviewer","State":"closed","Body":"Related to https://github.com/dotnet/source-build/issues/4645\r\n\r\nThis file started off as being source-build specific but with the Unified Build project it has become more general therefore the header needed updating.\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9928)","Url":"https://github.com/dotnet/wpf/pull/9928","RelatedDescription":"Closed or merged PR \"Update DotNetBuild.props header to correct reviewer\" (#9928)"},{"Id":"2578522663","IsPullRequest":true,"CreatedAt":"2024-10-10T11:14:51","Actor":"h3xds1nz","Number":"9926","RawContent":null,"Title":"Optimize assembly/namespace pair creation and updating in XamlSchema","State":"open","Body":"## Description\r\n\r\nAdjusts inefficient `List<AssemblyNamespacePair>` copies in `AddAssemblyNamespacePair` that result in up to double gen0 allocations needed for the job, offering perf benefit and decreased allocations.\r\n\r\n- I have changed it to be a `readonly struct`, there's like zero benefit but I think it serves better purpose.\r\n- The `WeakReference` is now generic to prevent unnecessary casting.\r\n- Since `_assemblyNamespaces` is under a write-lock and copies are created each time to allow reading concurrently by multiple readers, we can just swap to an array for overall efficiency since only 1 item is added each time.\r\n\r\n### Initial creation\r\n| Method   | Mean [ns] | Error [ns] | StdDev [ns] | Gen0   | Code Size [B] | Allocated [B] |\r\n|--------- |----------:|-----------:|------------:|-------:|--------------:|--------------:|\r\n| Original | 108.37 ns |   2.179 ns |    2.594 ns | 0.0086 |         317 B |         144 B |\r\n| PR_EDIT |  89.78 ns |   1.833 ns |    2.687 ns | 0.0038 |         223 B |          64 B |\r\n\r\n### Initial creation plus 9x AddAssemblyNamespacePair\r\n\r\n| Method   | Mean [ns]  | Error [ns] | StdDev [ns] | Gen0   | Code Size [B] | Allocated [B] |\r\n|--------- |-----------:|-----------:|------------:|-------:|--------------:|--------------:|\r\n| Original |  1,419.8 ns |   28.21 ns |    37.66 ns | 0.1678 |       2,668 B |        2824 B |\r\n| PR_EDIT |  1,100.8 ns |   18.28 ns |    16.20 ns | 0.0935 |       2,329 B |        1584 B |\r\n\r\n## Customer Impact\r\n\r\nImproved performance, decreased allocations.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nLocal build, basic method testing.\r\n\r\n## Risk\r\n\r\nLow, there's only a swap from class to readonly struct being stored in a private array (that was originally a list).\r\n\r\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9926)","Url":"https://github.com/dotnet/wpf/pull/9926","RelatedDescription":"Open PR \"Optimize assembly/namespace pair creation and updating in XamlSchema\" (#9926)"}],"ResultType":"GitHubIssue"}},"RunOn":"2024-10-15T03:30:31.4685738Z","RunDurationInMilliseconds":553}