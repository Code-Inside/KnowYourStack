{"Data":{"GitHub":{"Issues":[{"Id":"1306812511","IsPullRequest":true,"CreatedAt":"2022-07-16T14:18:08","Actor":"dotnet-maestro[bot]","Number":"6808","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Coherency Updates**:\r\n  - **System.CodeDom**: from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Configuration.ConfigurationManager**: from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.EventLog**: from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices**: from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Drawing.Common**: from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Reflection.MetadataLoadContext**: from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Xml**: from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Permissions**: from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Windows.Extensions**: from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.Platforms**: from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Packaging**: from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Resources.Extensions**: from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Ref**: from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6 (parent: Microsoft.Private.Winforms)\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.7.0**: from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6 (parent: Microsoft.Private.Winforms)\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20220716.1\r\n- **Date Produced**: July 16, 2022 1:26:15 PM UTC\r\n- **Commit**: b410d98eeac9680cb81241031341f15c2b74ea3f\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-rc.1.22365.2 to 7.0.0-rc.1.22366.1][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-rc.1.22365.2 to 7.0.0-rc.1.22366.1][1]\r\n  - **System.CodeDom**: [from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6][2]\r\n  - **System.Configuration.ConfigurationManager**: [from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6][2]\r\n  - **System.Diagnostics.EventLog**: [from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6][2]\r\n  - **System.DirectoryServices**: [from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6][2]\r\n  - **System.Drawing.Common**: [from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6][2]\r\n  - **System.Reflection.MetadataLoadContext**: [from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6][2]\r\n  - **System.Security.Cryptography.Xml**: [from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6][2]\r\n  - **System.Security.Permissions**: [from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6][2]\r\n  - **System.Windows.Extensions**: [from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6][2]\r\n  - **Microsoft.NETCore.Platforms**: [from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6][2]\r\n  - **System.IO.Packaging**: [from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6][2]\r\n  - **System.Resources.Extensions**: [from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6][2]\r\n  - **Microsoft.NETCore.App.Ref**: [from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6][2]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6][2]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.7.0**: [from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.6][2]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/91f3f23...b410d98\r\n[2]: https://github.com/dotnet/runtime/compare/d6af976...55bf5d8\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6808)","Url":"https://github.com/dotnet/wpf/pull/6808","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#6808)"},{"Id":"1306795171","IsPullRequest":true,"CreatedAt":"2022-07-16T12:47:53","Actor":"dotnet-maestro[bot]","Number":"6807","RawContent":null,"Title":"[main] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 840bf684-917a-4879-f62c-08d8e93a0c51\r\n- **Build**: 20220715.4\r\n- **Date Produced**: July 15, 2022 6:03:43 PM UTC\r\n- **Commit**: f7951a64db920ea599bd6819065b661d88d26b23\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.ApiCompat**: [from 7.0.0-beta.22364.1 to 7.0.0-beta.22365.4][1]\r\n  - **Microsoft.DotNet.Arcade.Sdk**: [from 7.0.0-beta.22364.1 to 7.0.0-beta.22365.4][1]\r\n  - **Microsoft.DotNet.CodeAnalysis**: [from 7.0.0-beta.22364.1 to 7.0.0-beta.22365.4][1]\r\n  - **Microsoft.DotNet.GenAPI**: [from 7.0.0-beta.22364.1 to 7.0.0-beta.22365.4][1]\r\n  - **Microsoft.DotNet.Helix.Sdk**: [from 7.0.0-beta.22364.1 to 7.0.0-beta.22365.4][1]\r\n\r\n[1]: https://github.com/dotnet/arcade/compare/22e05f3...f7951a6\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6807)","Url":"https://github.com/dotnet/wpf/pull/6807","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/arcade\" (#6807)"},{"Id":"1306686905","IsPullRequest":false,"CreatedAt":"2022-07-16T02:58:52","Actor":"yll690","Number":"6806","RawContent":null,"Title":"Use binding in transform cause memory leak","State":"open","Body":"* .NET Core Version: 6.0, 4.5\r\n* Windows version: 19044.1826\r\n* Does the bug reproduce also in WPF for .NET Framework 4.8?: Yes in 4.5.\r\n* Is this bug related specifically to tooling in Visual Studio (e.g. XAML Designer, Code editing, etc...)? Maybe no\r\n\r\n **Problem description:**\r\n I have a DataTemplate which contains a RotateTransform whose Angle is bound to the model. When I add models to a ItemsControl and then remove them, the memory usage won't fall to initial value and the object count will increase.\r\n\r\n **Actual behavior:** <!-- callstack for crashes / exceptions -->\r\nAs the sample code below, when the button is clicked, 10,000 models will be added to the window and then be removed. But the memory usage and object count remains. Most of the objects are `WeakReference`, `ConditionalWeakTable<Object, Object>`, `ConditionalWeakTable+Container<Object, Object>`, `WeakEventManager+ListenerList<EventArgs>`.\r\n\r\n|Timeline|memory|object count|\r\n|----|----|----|\r\n|initial|61M|34196|\r\n|clicked|133M|155440|\r\n\r\n **Expected behavior:**\r\n If I delete the transform or delete the binding, the memory usage and object count will decrease.\r\n\r\n|Timeline|memory|object count|\r\n|----|----|----|\r\n|initial|62M|34227|\r\n|clicked|107M|34461|\r\n\r\n **Minimal repro:**\r\n**MainWindow.xaml**\r\n```\r\n<Window x:Class=\"WPFTransformBindingMemoryLeak.MainWindow\"\r\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\r\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\r\n        xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\r\n        xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\r\n        xmlns:local=\"clr-namespace:WPFTransformBindingMemoryLeak\"\r\n        mc:Ignorable=\"d\"\r\n        Title=\"MainWindow\" Height=\"450\" Width=\"800\">\r\n    <Window.Resources>\r\n        <DataTemplate DataType=\"{x:Type local:Shape}\">\r\n            <Border Background=\"SandyBrown\">\r\n                <Border.RenderTransform>\r\n                    <RotateTransform Angle=\"{Binding Angle}\"/>\r\n                </Border.RenderTransform>\r\n                <TextBlock Text=\"The Shape\"/>\r\n            </Border>\r\n        </DataTemplate>\r\n    </Window.Resources>\r\n    <Grid>\r\n        <Button Content=\"start\" Name=\"startB\" Click=\"startB_Click\" Width=\"100\" Height=\"100\"/>\r\n        <ItemsControl x:Name=\"container\"/>\r\n    </Grid>\r\n</Window>\r\n```\r\n\r\n**MainWindow.xaml.cs**\r\n```\r\nusing System;\r\nusing System.Collections.Generic;\r\nusing System.ComponentModel;\r\nusing System.Windows;\r\n\r\nnamespace WPFTransformBindingMemoryLeak\r\n{\r\n    public partial class MainWindow : Window\r\n    {\r\n        public MainWindow()\r\n        {\r\n            InitializeComponent();\r\n        }\r\n\r\n        private void startB_Click(object sender, RoutedEventArgs e)\r\n        {\r\n            for (int i = 0; i < 100; i++)\r\n            {\r\n                List<Shape> packages = new List<Shape>();\r\n                for (int j = 0; j < 100; j++)\r\n                    packages.Add(new Shape());\r\n                Dispatcher.BeginInvoke(System.Windows.Threading.DispatcherPriority.Background, new Action(() =>\r\n                {\r\n                    for (int j = 0; j < 100; j++)\r\n                        container.Items.Add(packages[j]);\r\n                }));\r\n                Dispatcher.BeginInvoke(System.Windows.Threading.DispatcherPriority.Background, new Action(() =>\r\n                {\r\n                    for (int j = 0; j < 100; j++)\r\n                        container.Items.Remove(packages[j]);\r\n                }));\r\n            }\r\n            Dispatcher.BeginInvoke(System.Windows.Threading.DispatcherPriority.ApplicationIdle, new Action(() =>\r\n            {\r\n                GC.Collect();\r\n            }));\r\n        }\r\n    }\r\n\r\n    public class Shape : INotifyPropertyChanged\r\n    {\r\n        public event PropertyChangedEventHandler? PropertyChanged;\r\n        private double angle;\r\n        public double Angle\r\n        {\r\n            get { return angle; }\r\n            set\r\n            {\r\n                angle = value;\r\n                PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(nameof(Angle)));\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n","Url":"https://github.com/dotnet/wpf/issues/6806","RelatedDescription":"Open issue \"Use binding in transform cause memory leak\" (#6806)"},{"Id":"1306069170","IsPullRequest":true,"CreatedAt":"2022-07-15T14:21:07","Actor":"dotnet-maestro[bot]","Number":"6805","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Coherency Updates**:\r\n  - **System.CodeDom**: from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Configuration.ConfigurationManager**: from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.EventLog**: from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices**: from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Drawing.Common**: from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Reflection.MetadataLoadContext**: from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Xml**: from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Permissions**: from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Windows.Extensions**: from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.Platforms**: from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Packaging**: from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Resources.Extensions**: from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Ref**: from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7 (parent: Microsoft.Private.Winforms)\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.7.0**: from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7 (parent: Microsoft.Private.Winforms)\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20220715.2\r\n- **Date Produced**: July 15, 2022 1:28:37 PM UTC\r\n- **Commit**: 91f3f2395f156265bdd8f2d8e78361f786015cf8\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.2][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-rc.1.22364.7 to 7.0.0-rc.1.22365.2][1]\r\n  - **System.CodeDom**: [from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7][2]\r\n  - **System.Configuration.ConfigurationManager**: [from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7][2]\r\n  - **System.Diagnostics.EventLog**: [from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7][2]\r\n  - **System.DirectoryServices**: [from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7][2]\r\n  - **System.Drawing.Common**: [from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7][2]\r\n  - **System.Reflection.MetadataLoadContext**: [from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7][2]\r\n  - **System.Security.Cryptography.Xml**: [from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7][2]\r\n  - **System.Security.Permissions**: [from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7][2]\r\n  - **System.Windows.Extensions**: [from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7][2]\r\n  - **Microsoft.NETCore.Platforms**: [from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7][2]\r\n  - **System.IO.Packaging**: [from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7][2]\r\n  - **System.Resources.Extensions**: [from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7][2]\r\n  - **Microsoft.NETCore.App.Ref**: [from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7][2]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7][2]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.7.0**: [from 7.0.0-rc.1.22363.12 to 7.0.0-rc.1.22364.7][2]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/8198e25...91f3f23\r\n[2]: https://github.com/dotnet/runtime/compare/aecdcca...d6af976\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6805)","Url":"https://github.com/dotnet/wpf/pull/6805","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#6805)"},{"Id":"1305986187","IsPullRequest":true,"CreatedAt":"2022-07-15T13:00:53","Actor":"dotnet-maestro[bot]","Number":"6804","RawContent":null,"Title":"[main] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 840bf684-917a-4879-f62c-08d8e93a0c51\r\n- **Build**: 20220714.1\r\n- **Date Produced**: July 14, 2022 3:37:33 PM UTC\r\n- **Commit**: 22e05f347f297e09e9ee58c22e139d2f5f5ec297\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.ApiCompat**: [from 7.0.0-beta.22363.1 to 7.0.0-beta.22364.1][1]\r\n  - **Microsoft.DotNet.Arcade.Sdk**: [from 7.0.0-beta.22363.1 to 7.0.0-beta.22364.1][1]\r\n  - **Microsoft.DotNet.CodeAnalysis**: [from 7.0.0-beta.22363.1 to 7.0.0-beta.22364.1][1]\r\n  - **Microsoft.DotNet.GenAPI**: [from 7.0.0-beta.22363.1 to 7.0.0-beta.22364.1][1]\r\n  - **Microsoft.DotNet.Helix.Sdk**: [from 7.0.0-beta.22363.1 to 7.0.0-beta.22364.1][1]\r\n\r\n[1]: https://github.com/dotnet/arcade/compare/3895dfc...22e05f3\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6804)","Url":"https://github.com/dotnet/wpf/pull/6804","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/arcade\" (#6804)"},{"Id":"1305410543","IsPullRequest":true,"CreatedAt":"2022-07-15T12:05:33","Actor":"dotnet-maestro[bot]","Number":"6803","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20220714.7\r\n- **Date Produced**: July 14, 2022 11:11:39 PM UTC\r\n- **Commit**: 8198e25ea035c0ad053ed4cd0277a36ac6206371\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-rc.1.22364.5 to 7.0.0-rc.1.22364.7][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-rc.1.22364.5 to 7.0.0-rc.1.22364.7][1]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/c25e3e5...8198e25\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6803)","Url":"https://github.com/dotnet/wpf/pull/6803","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#6803)"},{"Id":"1305220184","IsPullRequest":true,"CreatedAt":"2022-07-14T20:38:26","Actor":"dotnet-maestro[bot]","Number":"6802","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Coherency Updates**:\r\n  - **System.CodeDom**: from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12 (parent: Microsoft.Private.Winforms)\r\n  - **System.Configuration.ConfigurationManager**: from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.EventLog**: from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices**: from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12 (parent: Microsoft.Private.Winforms)\r\n  - **System.Drawing.Common**: from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12 (parent: Microsoft.Private.Winforms)\r\n  - **System.Reflection.MetadataLoadContext**: from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Xml**: from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Permissions**: from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12 (parent: Microsoft.Private.Winforms)\r\n  - **System.Windows.Extensions**: from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.Platforms**: from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Packaging**: from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12 (parent: Microsoft.Private.Winforms)\r\n  - **System.Resources.Extensions**: from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Ref**: from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12 (parent: Microsoft.Private.Winforms)\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.7.0**: from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12 (parent: Microsoft.Private.Winforms)\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20220714.5\r\n- **Date Produced**: July 14, 2022 7:21:00 PM UTC\r\n- **Commit**: c25e3e5e554d7e8c436cebd8db41d4d2764d4051\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-rc.1.22364.3 to 7.0.0-rc.1.22364.5][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-rc.1.22364.3 to 7.0.0-rc.1.22364.5][1]\r\n  - **System.CodeDom**: [from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12][2]\r\n  - **System.Configuration.ConfigurationManager**: [from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12][2]\r\n  - **System.Diagnostics.EventLog**: [from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12][2]\r\n  - **System.DirectoryServices**: [from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12][2]\r\n  - **System.Drawing.Common**: [from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12][2]\r\n  - **System.Reflection.MetadataLoadContext**: [from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12][2]\r\n  - **System.Security.Cryptography.Xml**: [from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12][2]\r\n  - **System.Security.Permissions**: [from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12][2]\r\n  - **System.Windows.Extensions**: [from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12][2]\r\n  - **Microsoft.NETCore.Platforms**: [from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12][2]\r\n  - **System.IO.Packaging**: [from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12][2]\r\n  - **System.Resources.Extensions**: [from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12][2]\r\n  - **Microsoft.NETCore.App.Ref**: [from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12][2]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12][2]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.7.0**: [from 7.0.0-preview.7.22362.12 to 7.0.0-rc.1.22363.12][2]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/5c70730...c25e3e5\r\n[2]: https://github.com/dotnet/runtime/compare/b7fca07...aecdcca\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6802)","Url":"https://github.com/dotnet/wpf/pull/6802","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#6802)"},{"Id":"1305197255","IsPullRequest":false,"CreatedAt":"2022-07-14T19:24:09","Actor":"miloush","Number":"6801","RawContent":null,"Title":"Characters with different font after fallback shaped together","State":"open","Body":"* .NET Core Version: 7.0.100-preview.4.22252.9\r\n* Windows version: 25151.1000.amd64fre.rs_prerelease.220625-1835\r\n* Does the bug reproduce also in WPF for .NET Framework 4.8?: Yes\r\n \r\n **Problem description:**\r\n\r\nPunctuation, whitespace and alike are treated as base characters, forming clusters with vowel marks (instead of a dotted circle being inserted) when the marks are not in the font. The Indic engine is responsible for inserting the dotted circle, but it does not get to shape the run.\r\n\r\nSomeone should split the run for shaping if the characters are to be shaped using different fonts as a result of font fallback. My initial guess is line services are to blame.\r\n \r\nVisual Studio is one of the affected products, the rendered glyphs depend on how the colorization and tokenization splits the runs:\r\n\r\n![image](https://user-images.githubusercontent.com/10546952/179063982-9f609a1b-ed74-4af3-8ec9-e15f2fe4684d.png)\r\n\r\nbut\r\n\r\n![image](https://user-images.githubusercontent.com/10546952/179065194-ecd82104-08cf-4a46-a341-af49574f2302.png)\r\n\r\nHere is an example where the character is sometimes clustered with the preceding one (as a question mark in a box) and sometimes rendered as expected with a circle:\r\n\r\n<img src=\"https://user-images.githubusercontent.com/10546952/179065344-69b4ae09-e135-4c10-9d91-65aa9e64a7a5.png\">\r\n\r\n \r\n **Minimal repro:**\r\n[FallbackShaping.zip](https://github.com/dotnet/wpf/files/9114704/FallbackShaping.zip)\r\n\r\n![image](https://user-images.githubusercontent.com/10546952/179066341-f3b3ece3-7369-4f54-901b-81e9af82d6c8.png)\r\n\r\n","Url":"https://github.com/dotnet/wpf/issues/6801","RelatedDescription":"Open issue \"Characters with different font after fallback shaped together\" (#6801)"},{"Id":"1304987678","IsPullRequest":true,"CreatedAt":"2022-07-14T16:51:27","Actor":"dipeshmsft","Number":"6799","RawContent":null,"Title":"Fix build when using source generators coming from NuGet package","State":"closed","Body":"Fixes dotnet/wpf#6792\r\n\r\n## Description\r\nFixes build of project using source generators coming from NuGet packages. Added a new target for de-duplicating the list of analyzers.\r\n\r\n[Added a target to de-duplicate the list of analyzers ](https://github.com/dotnet/wpf/issues/6792#issuecomment-1183633402)\r\n\r\n### Customer Impact\r\nFixes build.\r\n\r\n### Regression\r\nThis is a regression introduced in .Net 6.0.7 by https://github.com/dotnet/wpf/pull/6534 which was backported by https://github.com/dotnet/wpf/pull/6680. \r\n\r\n### Testing\r\nTested locally by building a project which uses Regex source generator, WinForms source generator and [CommunityToolkit.Mvvm 7.1.2](https://www.nuget.org/packages/CommunityToolkit.Mvvm/7.1.2) source generator (This is an example of a source generator that currently fails on .Net 6.0.7 SDK).\r\n\r\n### Risk\r\nLow.\r\n\r\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6799)","Url":"https://github.com/dotnet/wpf/pull/6799","RelatedDescription":"Closed or merged PR \"Fix build when using source generators coming from NuGet package\" (#6799)"},{"Id":"1303713506","IsPullRequest":false,"CreatedAt":"2022-07-14T16:51:27","Actor":"jamiehankins","Number":"6792","RawContent":null,"Title":"Visual Studio 17.2.6 Breaks CommunityToolkit.Mvvm","State":"closed","Body":"**Version Used**:  17.2.6\r\n\r\n**Steps to Reproduce**:\r\n\r\n1. Create a WPF exe project targeting `net6.0-windows`\r\n2. Reference CommunityToolkit.Mvvm like so:\r\n`<PackageReference Include=\"CommunityToolkit.Mvvm\" Version=\"7.1.2\" />`\r\n4. Create a simple class inheriting from `ObservableObject`, like so:\r\n```\r\nusing CommunityToolkit.Mvvm.ComponentModel;\r\n\r\nnamespace ObservablePropertyTest\r\n{\r\n    public partial class TestVM : ObservableObject\r\n    {\r\n        [ObservableProperty]\r\n        private string _testString = string.Empty;\r\n    }\r\n}\r\n```\r\n\r\n**Expected Behavior**:\r\nIn 17.2.5, it built and ran fine.\r\n\r\n**Actual Behavior**:\r\n```\r\nRebuild started...\r\n1>------ Rebuild All started: Project: ObservablePropertyTest, Configuration: Debug Any CPU ------\r\nRestored C:\\git\\ObservablePropertyTest\\ObservablePropertyTest.csproj (in 2 ms).\r\n1>C:\\git\\ObservablePropertyTest\\CommunityToolkit.Mvvm.SourceGenerators\\CommunityToolkit.Mvvm.SourceGenerators.ObservablePropertyGenerator\\__KnownINotifyPropertyChangedOrChangingArgs.cs(12,27,12,70): error CS0101: The namespace 'CommunityToolkit.Mvvm.ComponentModel.__Internals' already contains a definition for '__KnownINotifyPropertyChangedOrChangingArgs'\r\n1>C:\\git\\ObservablePropertyTest\\CommunityToolkit.Mvvm.SourceGenerators\\CommunityToolkit.Mvvm.SourceGenerators.ObservablePropertyGenerator\\__KnownINotifyPropertyChangedOrChangingArgs.cs(7,6,7,51): error CS0579: Duplicate 'global::System.CodeDom.Compiler.GeneratedCode' attribute\r\n1>C:\\git\\ObservablePropertyTest\\CommunityToolkit.Mvvm.SourceGenerators\\CommunityToolkit.Mvvm.SourceGenerators.ObservablePropertyGenerator\\__KnownINotifyPropertyChangedOrChangingArgs.cs(8,6,8,52): error CS0579: Duplicate 'global::System.Diagnostics.DebuggerNonUserCode' attribute\r\n1>C:\\git\\ObservablePropertyTest\\CommunityToolkit.Mvvm.SourceGenerators\\CommunityToolkit.Mvvm.SourceGenerators.ObservablePropertyGenerator\\__KnownINotifyPropertyChangedOrChangingArgs.cs(9,6,9,69): error CS0579: Duplicate 'global::System.Diagnostics.CodeAnalysis.ExcludeFromCodeCoverage' attribute\r\n1>C:\\git\\ObservablePropertyTest\\CommunityToolkit.Mvvm.SourceGenerators\\CommunityToolkit.Mvvm.SourceGenerators.ObservablePropertyGenerator\\__KnownINotifyPropertyChangedOrChangingArgs.cs(10,6,10,51): error CS0579: Duplicate 'global::System.ComponentModel.EditorBrowsable' attribute\r\n1>C:\\git\\ObservablePropertyTest\\CommunityToolkit.Mvvm.SourceGenerators\\CommunityToolkit.Mvvm.SourceGenerators.ObservablePropertyGenerator\\__KnownINotifyPropertyChangedOrChangingArgs.cs(11,6,11,29): error CS0579: Duplicate 'global::System.Obsolete' attribute\r\n1>C:\\git\\ObservablePropertyTest\\CommunityToolkit.Mvvm.SourceGenerators\\CommunityToolkit.Mvvm.SourceGenerators.ObservablePropertyGenerator\\ObservablePropertyTest.TestVM.cs(12,23,12,33): error CS0102: The type 'TestVM' already contains a definition for 'TestString'\r\n1>Done building project \"ObservablePropertyTest_yynlzhol_wpftmp.csproj\" -- FAILED.\r\n========== Rebuild All: 0 succeeded, 1 failed, 0 skipped ==========\r\n```\r\n\r\nIt appears that somehow the CommunityToolkit.Mvvm source generators are being run twice.\r\n\r\nIf you create a WPF class library, things work fine. They're only broken in a WPF app.\r\n\r\nHere is my test project:\r\n[ObservablePropertyTest.zip](https://github.com/dotnet/roslyn/files/9097397/ObservablePropertyTest.zip)\r\n","Url":"https://github.com/dotnet/wpf/issues/6792","RelatedDescription":"Closed issue \"Visual Studio 17.2.6 Breaks CommunityToolkit.Mvvm\" (#6792)"},{"Id":"1305001761","IsPullRequest":true,"CreatedAt":"2022-07-14T16:14:49","Actor":"dipeshmsft","Number":"6800","RawContent":null,"Title":"Fix build when using source generators coming from NuGet package","State":"open","Body":"Fixes dotnet/wpf#6792\r\n\r\n## Description\r\nFixes build of project using source generators coming from NuGet packages. Added a new target for de-duplicating the list of analyzers.\r\n\r\n[Added a target to de-duplicate the list of analyzers ](https://github.com/dotnet/wpf/issues/6792#issuecomment-1183633402)\r\n\r\n### Customer Impact\r\nFixes build.\r\n\r\n### Regression\r\nThis is a regression introduced in .Net 6.0.7 by https://github.com/dotnet/wpf/pull/6534 which was backported by https://github.com/dotnet/wpf/pull/6680. \r\n\r\n### Testing\r\nTested locally by building a project which uses Regex source generator, WinForms source generator and [CommunityToolkit.Mvvm 7.1.2](https://www.nuget.org/packages/CommunityToolkit.Mvvm/7.1.2) source generator (This is an example of a source generator that currently fails on .Net 6.0.7 SDK).\r\n\r\n### Risk\r\nLow.\r\n\r\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6800)","Url":"https://github.com/dotnet/wpf/pull/6800","RelatedDescription":"Open PR \"Fix build when using source generators coming from NuGet package\" (#6800)"},{"Id":"1304946733","IsPullRequest":true,"CreatedAt":"2022-07-14T15:43:15","Actor":"dipeshmsft","Number":"6798","RawContent":null,"Title":"Fix build when using source generators coming from NuGet packages.","State":"closed","Body":"Fixes dotnet/wpf#6792\r\n\r\nMain PR <!-- Link to PR if any that fixed this in the main branch. --> #6793 \r\n\r\nDescription\r\nFixes build of project using source generators coming from NuGet packages. I fixed this by only including analyzers that are coming from a FrameworkReference in the temporary target assembly project. Those analyzers are the ones that are not automatically added in the temporary target assembly project because ResolveTargetingPackAssets is never called (We could investigate calling this target in the future but, to me, it seemed riskier than the changes in this PR).\r\n\r\nCustomer Impact\r\nFixes build.\r\n\r\nRegression\r\nThis is a regression introduced in .Net 6.0.7 by https://github.com/dotnet/wpf/pull/6534 which was backported by https://github.com/dotnet/wpf/pull/6680. Those were changes from me, sorry about the regression.\r\n\r\nTesting\r\nTested locally by building a project which uses Regex source generator, WinForms source generator and [CommunityToolkit.Mvvm 7.1.2](https://www.nuget.org/packages/CommunityToolkit.Mvvm/7.1.2) source generator (This is an example of a source generator that currently fails on .Net 6.0.7 SDK).\r\n\r\nRisk\r\nLow.\r\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6798)","Url":"https://github.com/dotnet/wpf/pull/6798","RelatedDescription":"Closed or merged PR \"Fix build when using source generators coming from NuGet packages.\" (#6798)"},{"Id":"1304176715","IsPullRequest":true,"CreatedAt":"2022-07-14T15:25:44","Actor":"ThomasGoulet73","Number":"6793","RawContent":null,"Title":"Fix build when using source generators coming from NuGet packages.","State":"closed","Body":"Fixes dotnet/wpf#6792\r\n\r\n## Description\r\nFixes build of project using source generators coming from NuGet packages. I fixed this by only including analyzers that are coming from a FrameworkReference in the temporary target assembly project. Those analyzers are the ones that are not automatically added in the temporary target assembly project because `ResolveTargetingPackAssets` is never called (We could investigate calling this target in the future but, to me, it seemed riskier than the changes in this PR).\r\n\r\n## Customer Impact\r\nFixes build.\r\n\r\n## Regression\r\nThis is a regression introduced in .Net 6.0.7 by #6534 which was backported by #6680. Those were changes from me, sorry about the regression.\r\n\r\n## Testing\r\nTested locally by building a project which uses Regex source generator, WinForms source generator and [CommunityToolkit.Mvvm 7.1.2](https://www.nuget.org/packages/CommunityToolkit.Mvvm/7.1.2) source generator (This is an example of a source generator that currently fails on .Net 6.0.7 SDK).\r\n\r\n## Risk\r\nLow.","Url":"https://github.com/dotnet/wpf/pull/6793","RelatedDescription":"Closed or merged PR \"Fix build when using source generators coming from NuGet packages.\" (#6793)"},{"Id":"1304845692","IsPullRequest":true,"CreatedAt":"2022-07-14T14:36:03","Actor":"dotnet-maestro[bot]","Number":"6797","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20220714.3\r\n- **Date Produced**: July 14, 2022 1:41:18 PM UTC\r\n- **Commit**: 5c70730ff8edbb3f8ac71501dd3b1dab8520e302\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-rc.1.22364.1 to 7.0.0-rc.1.22364.3][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-rc.1.22364.1 to 7.0.0-rc.1.22364.3][1]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/5f4891a...5c70730\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6797)","Url":"https://github.com/dotnet/wpf/pull/6797","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#6797)"},{"Id":"1304724736","IsPullRequest":true,"CreatedAt":"2022-07-14T13:00:37","Actor":"dotnet-maestro[bot]","Number":"6796","RawContent":null,"Title":"[main] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 840bf684-917a-4879-f62c-08d8e93a0c51\r\n- **Build**: 20220713.1\r\n- **Date Produced**: July 13, 2022 3:23:03 PM UTC\r\n- **Commit**: 3895dfc219f7cea2c028164db691389d0b1a73a8\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.ApiCompat**: [from 7.0.0-beta.22362.1 to 7.0.0-beta.22363.1][1]\r\n  - **Microsoft.DotNet.Arcade.Sdk**: [from 7.0.0-beta.22362.1 to 7.0.0-beta.22363.1][1]\r\n  - **Microsoft.DotNet.CodeAnalysis**: [from 7.0.0-beta.22362.1 to 7.0.0-beta.22363.1][1]\r\n  - **Microsoft.DotNet.GenAPI**: [from 7.0.0-beta.22362.1 to 7.0.0-beta.22363.1][1]\r\n  - **Microsoft.DotNet.Helix.Sdk**: [from 7.0.0-beta.22362.1 to 7.0.0-beta.22363.1][1]\r\n\r\n[1]: https://github.com/dotnet/arcade/compare/bd18f30...3895dfc\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6796)","Url":"https://github.com/dotnet/wpf/pull/6796","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/arcade\" (#6796)"},{"Id":"1304548044","IsPullRequest":true,"CreatedAt":"2022-07-14T10:17:22","Actor":"dotnet-maestro[bot]","Number":"6795","RawContent":null,"Title":"[release/7.0-preview7] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Coherency Updates**:\r\n  - **System.CodeDom**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9 (parent: Microsoft.Private.Winforms)\r\n  - **System.Configuration.ConfigurationManager**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.EventLog**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9 (parent: Microsoft.Private.Winforms)\r\n  - **System.Drawing.Common**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9 (parent: Microsoft.Private.Winforms)\r\n  - **System.Reflection.MetadataLoadContext**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Xml**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Permissions**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9 (parent: Microsoft.Private.Winforms)\r\n  - **System.Windows.Extensions**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.Platforms**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Packaging**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9 (parent: Microsoft.Private.Winforms)\r\n  - **System.Resources.Extensions**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Ref**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9 (parent: Microsoft.Private.Winforms)\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.7.0**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9 (parent: Microsoft.Private.Winforms)\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n[marker]: <> (Begin:288179f0-f220-4541-5055-08da5f9ad98d)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 288179f0-f220-4541-5055-08da5f9ad98d\r\n- **Build**: 20220714.2\r\n- **Date Produced**: July 14, 2022 9:32:12 AM UTC\r\n- **Commit**: 83c5b94ebf60fee35418be2f4d00fbe95af17ee5\r\n- **Branch**: refs/heads/release/7.0-preview7\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-preview.7.22362.8 to 7.0.0-preview.7.22364.2][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-preview.7.22362.8 to 7.0.0-preview.7.22364.2][1]\r\n  - **System.CodeDom**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9][2]\r\n  - **System.Configuration.ConfigurationManager**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9][2]\r\n  - **System.Diagnostics.EventLog**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9][2]\r\n  - **System.DirectoryServices**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9][2]\r\n  - **System.Drawing.Common**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9][2]\r\n  - **System.Reflection.MetadataLoadContext**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9][2]\r\n  - **System.Security.Cryptography.Xml**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9][2]\r\n  - **System.Security.Permissions**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9][2]\r\n  - **System.Windows.Extensions**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9][2]\r\n  - **Microsoft.NETCore.Platforms**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9][2]\r\n  - **System.IO.Packaging**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9][2]\r\n  - **System.Resources.Extensions**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9][2]\r\n  - **Microsoft.NETCore.App.Ref**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9][2]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9][2]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.7.0**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22363.9][2]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/28c6b99...83c5b94\r\n[2]: https://github.com/dotnet/runtime/compare/889404f...060de1c\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:288179f0-f220-4541-5055-08da5f9ad98d)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6795)","Url":"https://github.com/dotnet/wpf/pull/6795","RelatedDescription":"Closed or merged PR \"[release/7.0-preview7] Update dependencies from dotnet/winforms\" (#6795)"},{"Id":"1304500143","IsPullRequest":true,"CreatedAt":"2022-07-14T09:42:04","Actor":"dotnet-maestro[bot]","Number":"6794","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Coherency Updates**:\r\n  - **System.CodeDom**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12 (parent: Microsoft.Private.Winforms)\r\n  - **System.Configuration.ConfigurationManager**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.EventLog**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12 (parent: Microsoft.Private.Winforms)\r\n  - **System.Drawing.Common**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12 (parent: Microsoft.Private.Winforms)\r\n  - **System.Reflection.MetadataLoadContext**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Xml**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Permissions**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12 (parent: Microsoft.Private.Winforms)\r\n  - **System.Windows.Extensions**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.Platforms**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Packaging**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12 (parent: Microsoft.Private.Winforms)\r\n  - **System.Resources.Extensions**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Ref**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12 (parent: Microsoft.Private.Winforms)\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.7.0**: from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12 (parent: Microsoft.Private.Winforms)\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20220714.1\r\n- **Date Produced**: July 14, 2022 8:51:34 AM UTC\r\n- **Commit**: 5f4891aefe8784c97a84e7805e82f3232ecc5b8b\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-rc.1.22363.4 to 7.0.0-rc.1.22364.1][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-rc.1.22363.4 to 7.0.0-rc.1.22364.1][1]\r\n  - **System.CodeDom**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12][2]\r\n  - **System.Configuration.ConfigurationManager**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12][2]\r\n  - **System.Diagnostics.EventLog**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12][2]\r\n  - **System.DirectoryServices**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12][2]\r\n  - **System.Drawing.Common**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12][2]\r\n  - **System.Reflection.MetadataLoadContext**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12][2]\r\n  - **System.Security.Cryptography.Xml**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12][2]\r\n  - **System.Security.Permissions**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12][2]\r\n  - **System.Windows.Extensions**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12][2]\r\n  - **Microsoft.NETCore.Platforms**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12][2]\r\n  - **System.IO.Packaging**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12][2]\r\n  - **System.Resources.Extensions**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12][2]\r\n  - **Microsoft.NETCore.App.Ref**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12][2]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12][2]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.7.0**: [from 7.0.0-preview.6.22356.9 to 7.0.0-preview.7.22362.12][2]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/e16b5a3...5f4891a\r\n[2]: https://github.com/dotnet/runtime/compare/889404f...b7fca07\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6794)","Url":"https://github.com/dotnet/wpf/pull/6794","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#6794)"},{"Id":"1302869698","IsPullRequest":true,"CreatedAt":"2022-07-13T20:37:14","Actor":"dotnet-maestro[bot]","Number":"6788","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20220713.4\r\n- **Date Produced**: July 13, 2022 7:36:29 PM UTC\r\n- **Commit**: e16b5a39e5edbefe849cb421e724075f5137ffa4\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-preview.7.22362.5 to 7.0.0-rc.1.22363.4][2]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-preview.7.22362.5 to 7.0.0-rc.1.22363.4][2]\r\n\r\n[2]: https://github.com/dotnet/winforms/compare/4a89efc...e16b5a3\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6788)\r\n","Url":"https://github.com/dotnet/wpf/pull/6788","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#6788)"},{"Id":"1303376571","IsPullRequest":true,"CreatedAt":"2022-07-13T13:02:33","Actor":"dotnet-maestro[bot]","Number":"6791","RawContent":null,"Title":"[main] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 840bf684-917a-4879-f62c-08d8e93a0c51\r\n- **Build**: 20220712.1\r\n- **Date Produced**: July 12, 2022 2:49:36 PM UTC\r\n- **Commit**: bd18f30f71daf7eaaf1d70363c303bd7dfac65a2\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.ApiCompat**: [from 7.0.0-beta.22358.3 to 7.0.0-beta.22362.1][1]\r\n  - **Microsoft.DotNet.Arcade.Sdk**: [from 7.0.0-beta.22358.3 to 7.0.0-beta.22362.1][1]\r\n  - **Microsoft.DotNet.CodeAnalysis**: [from 7.0.0-beta.22358.3 to 7.0.0-beta.22362.1][1]\r\n  - **Microsoft.DotNet.GenAPI**: [from 7.0.0-beta.22358.3 to 7.0.0-beta.22362.1][1]\r\n  - **Microsoft.DotNet.Helix.Sdk**: [from 7.0.0-beta.22358.3 to 7.0.0-beta.22362.1][1]\r\n\r\n[1]: https://github.com/dotnet/arcade/compare/54a00a8...bd18f30\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6791)","Url":"https://github.com/dotnet/wpf/pull/6791","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/arcade\" (#6791)"},{"Id":"1303342835","IsPullRequest":true,"CreatedAt":"2022-07-13T12:08:02","Actor":"lindexi","Number":"6790","RawContent":null,"Title":"Adding the lock to keep the WeakEventTable ThreadSafe","State":"open","Body":"Fixes https://github.com/dotnet/wpf/issues/6452\r\n\r\n## Description\r\n\r\nThe `_dataTable` is the field in WeakEventTable which will be read and written in a thread-unsafe code. See https://github.com/dotnet/wpf/issues/6452\r\n\r\nSee https://docs.microsoft.com/en-us/dotnet/api/system.collections.hashtable\r\n\r\nReference: https://github.com/dotnet/wpf/pull/6443\r\n\r\n## Customer Impact\r\n\r\nFix the WeakEventTable thread safe issues.\r\n\r\n## Regression\r\n\r\nNone.\r\n\r\n## Testing\r\n\r\nJust CI.\r\n\r\n## Risk\r\n\r\nThe lock may cause the performance issues.\r\n\r\n\r\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6790)","Url":"https://github.com/dotnet/wpf/pull/6790","RelatedDescription":"Open PR \"Adding the lock to keep the WeakEventTable ThreadSafe\" (#6790)"},{"Id":"1302950870","IsPullRequest":true,"CreatedAt":"2022-07-13T06:30:49","Actor":"dotnet-maestro[bot]","Number":"6789","RawContent":null,"Title":"[release/7.0-preview7] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:288179f0-f220-4541-5055-08da5f9ad98d)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 288179f0-f220-4541-5055-08da5f9ad98d\r\n- **Build**: 20220712.8\r\n- **Date Produced**: July 13, 2022 5:45:04 AM UTC\r\n- **Commit**: 28c6b99c5f30595fea52a51c428327a16e06ea05\r\n- **Branch**: refs/heads/release/7.0-preview7\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-preview.7.22357.2 to 7.0.0-preview.7.22362.8][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-preview.7.22357.2 to 7.0.0-preview.7.22362.8][1]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/67bbe05...28c6b99\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:288179f0-f220-4541-5055-08da5f9ad98d)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6789)","Url":"https://github.com/dotnet/wpf/pull/6789","RelatedDescription":"Closed or merged PR \"[release/7.0-preview7] Update dependencies from dotnet/winforms\" (#6789)"},{"Id":"1302822664","IsPullRequest":true,"CreatedAt":"2022-07-13T02:53:39","Actor":"dotnet-maestro[bot]","Number":"6787","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20220712.5\r\n- **Date Produced**: July 13, 2022 2:02:45 AM UTC\r\n- **Commit**: 4a89efc79e2c5a43d208a61d23df4d961b9fefca\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-preview.7.22362.1 to 7.0.0-preview.7.22362.5][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-preview.7.22362.1 to 7.0.0-preview.7.22362.5][1]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/99708eb...4a89efc\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6787)","Url":"https://github.com/dotnet/wpf/pull/6787","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#6787)"},{"Id":"1302679405","IsPullRequest":true,"CreatedAt":"2022-07-12T23:01:17","Actor":"dotnet-maestro[bot]","Number":"6786","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20220712.1\r\n- **Date Produced**: July 12, 2022 9:59:57 PM UTC\r\n- **Commit**: 99708eb4dd54806cac8e085a2a22eb524c693616\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-preview.7.22357.2 to 7.0.0-preview.7.22362.1][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-preview.7.22357.2 to 7.0.0-preview.7.22362.1][1]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/67bbe05...99708eb\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6786)","Url":"https://github.com/dotnet/wpf/pull/6786","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#6786)"},{"Id":"1302440705","IsPullRequest":true,"CreatedAt":"2022-07-12T22:20:55","Actor":"wtgodbe","Number":"6783","RawContent":null,"Title":"Merging internal commits for release/6.0","State":"closed","Body":"null\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6783)","Url":"https://github.com/dotnet/wpf/pull/6783","RelatedDescription":"Closed or merged PR \"Merging internal commits for release/6.0\" (#6783)"},{"Id":"1302443054","IsPullRequest":true,"CreatedAt":"2022-07-12T22:17:39","Actor":"wtgodbe","Number":"6784","RawContent":null,"Title":"Merging internal commits for release/3.1","State":"closed","Body":"null\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6784)","Url":"https://github.com/dotnet/wpf/pull/6784","RelatedDescription":"Closed or merged PR \"Merging internal commits for release/3.1\" (#6784)"},{"Id":"1302533098","IsPullRequest":true,"CreatedAt":"2022-07-12T19:30:54","Actor":"VladimirKhil","Number":"6785","RawContent":null,"Title":"Fix NullReferenceException in Invariant.get_IsDialogOverrideEnabled","State":"open","Body":"Fixes #6772\r\n\r\n## Description\r\n\r\nFix NullReferenceException in Invariant.get_IsDialogOverrideEnabled when .NET Framework Registry key (HKLM\\Software\\Microsoft\\.NETFramework) is not present on the machine\r\n\r\n## Customer Impact\r\n\r\n-\r\n\r\n## Regression\r\n\r\n-\r\n\r\n## Testing\r\n\r\n-\r\n\r\n## Risk\r\n\r\n-\r\n\r\n\r\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6785)","Url":"https://github.com/dotnet/wpf/pull/6785","RelatedDescription":"Open PR \"Fix NullReferenceException in Invariant.get_IsDialogOverrideEnabled\" (#6785)"},{"Id":"1302223264","IsPullRequest":false,"CreatedAt":"2022-07-12T15:27:13","Actor":"marbel82","Number":"6782","RawContent":null,"Title":"Memory Leak when Effect assigned to UIElement not been frozen","State":"open","Body":"* .NET Core Version: 6.0.203\r\n* Windows version: 21H2\r\n* Does the bug reproduce also in WPF for .NET Framework 4.8?: I don't know\r\n\r\n \r\n **Problem description:**\r\nI define DropShadowEffect in global Application.Resources> in App.xaml, and I use it for a Border.Effect property.\r\nThe Border is in some Window. All windows I created and closed stay in memory.\r\n\r\nI found that the Window object is is held by the Border, and the Border is held by an EventHandler, and the EventHandler is held by DropShadowEffect. EventHandler has reference to EffectChanged method.\r\n\r\nI think I have found the problem.\r\nWhen an `UIElement.Effect` property is assigned, the setter (`Visual.VisualEffectInternal.set`) adds strong event handler for `EffectChanged` method\r\n\r\nhttps://referencesource.microsoft.com/#PresentationCore/Core/CSharp/System/Windows/Media/Visual.cs,2976\r\nFrom ILSpy\r\n```c#\r\n// System.Windows.Media.Visual\r\nusing System.Windows.Media.Effects;\r\n\r\ninternal Effect VisualEffectInternal\r\n{\r\n    get\r\n    {\r\n        if (NodeHasLegacyBitmapEffect)\r\n        {\r\n            return null;\r\n        }\r\n        return EffectField.GetValue(this);\r\n    }\r\n    set\r\n    {\r\n        Effect value2 = EffectField.GetValue(this);\r\n        if (value2 == value)\r\n        {\r\n            return;\r\n        }\r\n        if (value != null && !value.IsFrozen)\r\n        {\r\n            value.Changed += EffectChangedHandler;  // <-----\r\n        }\r\n        if (value2 != null)\r\n        {\r\n            if (!value2.IsFrozen)\r\n            {\r\n                value2.Changed -= EffectChangedHandler;  // <-----\r\n            }\r\n            DisconnectAttachedResource(VisualProxyFlags.IsEffectDirty, value2);\r\n        }\r\n        SetFlags(value != null, VisualFlags.NodeHasEffect);\r\n        EffectField.SetValue(this, value);\r\n        SetFlagsOnAllChannels(value: true, VisualProxyFlags.IsEffectDirty);\r\n        EffectChanged(null, null);\r\n    }\r\n}\r\n```\r\n\r\nEvent handler is removed only if an Effect property is changed. _(Am I wrong?)_\r\n\r\nAnalyzing this code, you can see that the event handler has not been added when the Effect object is frozen (IsFrozen=true).\r\n\r\nI found a page, on which was written how to switch IsFrozen in XAML.\r\n\r\nhttps://docs.microsoft.com/en-us/dotnet/desktop/wpf/advanced/freezable-objects-overview?redirectedfrom=MSDN&view=netframeworkdesktop-4.8#freezing-from-markup\r\n```\r\n    xmlns:PresentationOptions=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation/options\" \r\n    PresentationOptions:Freeze=\"True\" \r\n```\r\nBut, it's not working. \r\n\r\n\r\nOne solution to the memory leak I have found is to define each DropShadowEffect localy in a Border.\r\n\r\n \r\n **Actual behavior:**\r\nEffect setter (System.Windows.Media.Visual.VisualEffectInternal.set) use strong reference for event handler.\r\n \r\n **Expected behavior:**\r\nEffect setter (System.Windows.Media.Visual.VisualEffectInternal.set) should use weak reference for event handler (e.g. WeakEventManager)\r\n \r\n **Minimal repro:**\r\nhttps://github.com/marbel82/UIElementEffectMemoryLeakRepro\r\n\r\nClick [Create LeakWindow], close the Window, click GC.Collect, Pause Visual Studio, Memory Usage/Take  Snapshot and find LeakWindow\r\n\r\n![image](https://user-images.githubusercontent.com/31281571/178527091-0f8b1fe6-7ce5-4b5f-b569-b356f19ae6d9.png)\r\n","Url":"https://github.com/dotnet/wpf/issues/6782","RelatedDescription":"Open issue \"Memory Leak when Effect assigned to UIElement not been frozen\" (#6782)"},{"Id":"1302146380","IsPullRequest":true,"CreatedAt":"2022-07-12T14:49:51","Actor":"singhashish-wpf","Number":"6781","RawContent":null,"Title":"Fix Zlib and ds lowercase issues","State":"closed","Body":"Fix Zlib and ds lowercase issues\r\nhttps://github.com/dotnet/wpf/pull/6753/checks?check_run_id=7263833319\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6781)","Url":"https://github.com/dotnet/wpf/pull/6781","RelatedDescription":"Closed or merged PR \"Fix Zlib and ds lowercase issues\" (#6781)"},{"Id":"1301796529","IsPullRequest":false,"CreatedAt":"2022-07-12T09:30:27","Actor":"Blessymanna","Number":"6780","RawContent":null,"Title":" The radio buttons are not accessible using up arrow and down arrow keys as well and also not getting automatically selected on navigating through radio buttons.","State":"open","Body":"**GitHubTags**:#A11ySev2#A11yMAS;#A11yTCS;#DesktopApp;#Win11;#.NET Core[WPF]-Win32-June2022;#.NET Core;#Benchmark;#Keyboard;#WCAG2.1.1;\r\n\r\n### Environment Details:\r\nApplication Name: Unified Service Desk\r\nWindows Version: Win11\r\nApplication Version: 4.2\r\n\r\n### Repro Steps:\r\n\r\n1. Open RadioButton Test file.\r\n2. Open RadioButton Test.sln file.\r\n3. Tab to \"Start\" button and hit enter.\r\n4. Tab to the radio buttons\r\n5. Observe whether the radio buttons are accessible using up and down arrow keys as well and also getting automatically selected on navigating through radio buttons or not.\r\n### Actual:\r\nThe radio buttons are not accessible using up and down arrow and also not getting selected automatically on navigating through left and right arrow keys, it is selected on pressing space bar.\r\n\r\n### Expected:\r\nThe radio buttons should be automatically selected on navigating and also those radio buttons should be accessible using up and down arrow keys.\r\n\r\n### User Impact:\r\nKeyboard users may get confusion on navigating through radio buttons and screen reader users cannot get the information of the navigation clearly.\r\n\r\n[RaditoButtonTest.zip](https://github.com/dotnet/wpf/files/9090475/RaditoButtonTest.zip)\r\n[Keyboard_Issue.zip](https://github.com/dotnet/wpf/files/9091516/Keyboard_Issue.zip)\r\n\r\n\r\n","Url":"https://github.com/dotnet/wpf/issues/6780","RelatedDescription":"Open issue \" The radio buttons are not accessible using up arrow and down arrow keys as well and also not getting automatically selected on navigating through radio buttons.\" (#6780)"},{"Id":"1301594242","IsPullRequest":true,"CreatedAt":"2022-07-12T06:21:57","Actor":"lindexi","Number":"6779","RawContent":null,"Title":"Fix System.OverflowException in WindowChromeWorker._HandleNCHitTest","State":"open","Body":"Fixes https://github.com/dotnet/wpf/issues/6777\r\n\r\n\r\n\r\n## Description\r\n\r\nThe lParam may be the int 64 value which will throw OverflowException when cast to int 32. We only use the int32 part inside the int64, so it's safe for us to use ToInt64 first and then cast to int32.\r\n\r\nAnd I think this fix is safe. Because the `HandleWmNcHitTestMsg` which handle the `NCHitTest` will call the `NativeMethods.SignedLOWORD` method. The `SignedLOWORD` will cast to long then cast to int32.\r\n\r\nhttps://github.com/dotnet/wpf/blob/7add0fc6ea7096154c748f0e06a5213c843c0a74/src/Microsoft.DotNet.Wpf/src/Shared/MS/Win32/NativeMethodsCLR.cs#L6208-L6210\r\n\r\n## Customer Impact\r\n\r\nSee https://github.com/dotnet/wpf/issues/6777\r\n\r\n## Regression\r\n\r\nNone.\r\n\r\n## Testing\r\n\r\nJust the CI.\r\n\r\n## Risk\r\n\r\nLow. It is safe for us to use IntPtr.ToInt64 and cast the long to int.\r\n\r\n\r\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/wpf/pull/6779)","Url":"https://github.com/dotnet/wpf/pull/6779","RelatedDescription":"Open PR \"Fix System.OverflowException in WindowChromeWorker._HandleNCHitTest\" (#6779)"}],"ResultType":"GitHubIssue"}},"RunOn":"2022-07-17T03:30:30.072166Z","RunDurationInMilliseconds":529}