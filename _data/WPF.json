{"Data":{"GitHub":{"Issues":[{"Id":"3825862508","IsPullRequest":false,"CreatedAt":"2026-01-17T21:24:22","Actor":"OkkioXavier","Number":"11366","RawContent":null,"Title":"Hashtable Load Factor Too High Exception","State":"open","Body":"### Description\n\nWe are getting a XamlParseException thrown very intermittently when under high loads.\n\nThe application displays multiple windows. Each window is running on a separate dispatcher thread. \n\nOccasionally multiple windows  (but not all) on separate dispatcher threads will fail at the same time after throwing a UnhandledDispatcherException \"Hashtable insert failed. Load factor too high. The most common cause is multiple threads writing to the Hashtable simultaneously.\".\n\nWe have very high GUI update rates; potentially 20,000 to 50,000 updates per second spread across 3 or 4 windows.\n\nThis issue has been reported by other users previously: https://github.com/dotnet/wpf/issues/4168\n\n### Reproduction Steps\n\nI'm still working on a reliable reproduction. This error only appears occasionally across hundreds of users.\n\nPlease let me know if you have any ideas on how to go about getting a reproduction.\n\n### Expected behavior\n\nPerforming GUI updates in separate windows on separate dispatchers should be thread safe and not cause failures.\n\n### Actual behavior\nAn exception is thrown when under high loads\n\n```\nDispatcher Unhandled Exception:\nXamlParseException { LineNumber: 0, LinePosition: 0, KeyContext: null, UidContext: null, NameContext: null, BaseUri: null, TargetSite: Void RewrapException(System.Exception, System.Xaml.IXamlLineInfo, System.Uri), Message: \"Hashtable insert failed. Load factor too high. The most common cause is multiple threads writing to the Hashtable simultaneously.\", Data: [DictionaryEntry { Key: Object {  }, Value: null }], InnerException: InvalidOperationException { TargetSite: Void Insert(System.Object, System.Object, Boolean), Message: \"Hashtable insert failed. Load factor too high. The most common cause is multiple threads writing to the Hashtable simultaneously.\", Data: [], InnerException: null, HelpLink: null, Source: \"System.Private.CoreLib\", HResult: -2146233079, StackTrace: \"   at System.Collections.Hashtable.Insert(Object key, Object nvalue, Boolean add)\n   at MS.Internal.Data.ValueChangedEventManager.AddListener(Object source, PropertyDescriptor pd, IWeakEventListener listener, EventHandler`1 handler)\n   at MS.Internal.Data.ValueChangedEventManager.AddHandler(Object source, EventHandler`1 handler, PropertyDescriptor pd)\n   at MS.Internal.Data.PropertyPathWorker.ReplaceItem(Int32 k, Object newO, Object parent)\n   at MS.Internal.Data.PropertyPathWorker.UpdateSourceValueState(Int32 k, ICollectionView collectionView, Object newValue, Boolean isASubPropertyChange)\n   at MS.Internal.Data.ClrBindingWorker.AttachDataItem()\n   at System.Windows.Data.BindingExpression.Activate(Object item)\n   at System.Windows.Data.BindingExpression.AttachToContext(AttachAttempt attempt)\n   at System.Windows.Data.BindingExpression.AttachOverride(DependencyObject target, DependencyProperty dp)\n   at System.Windows.Data.BindingExpressionBase.Attach(DependencyObject target, DependencyProperty dp)\n   at System.Windows.StyleHelper.GetInstanceValue(UncommonField`1 dataField, DependencyObject container, FrameworkElement feChild, FrameworkContentElement fceChild, Int32 childIndex, DependencyProperty dp, Int32 i, EffectiveValueEntry& entry)\n   at System.Windows.StyleHelper.GetChildValueHelper(UncommonField`1 dataField, ItemStructList`1& valueLookupList, DependencyProperty dp, DependencyObject container, FrameworkObject child, Int32 childIndex, Boolean styleLookup, EffectiveValueEntry& entry, ValueLookupType& sourceType, FrameworkElementFactory templateRoot)\n   at System.Windows.StyleHelper.GetChildValue(UncommonField`1 dataField, DependencyObject container, Int32 childIndex, FrameworkObject child, DependencyProperty dp, FrugalStructList`1& childRecordFromChildIndex, EffectiveValueEntry& entry, ValueLookupType& sourceType, FrameworkElementFactory templateRoot)\n   at System.Windows.StyleHelper.GetValueFromTemplatedParent(DependencyObject container, Int32 childIndex, FrameworkObject child, DependencyProperty dp, FrugalStructList`1& childRecordFromChildIndex, FrameworkElementFactory templateRoot, EffectiveValueEntry& entry)\n   at System.Windows.StyleHelper.ApplyTemplatedParentValue(DependencyObject container, FrameworkObject child, Int32 childIndex, FrugalStructList`1& childRecordFromChildIndex, DependencyProperty dp, FrameworkElementFactory templateRoot)\n   at System.Windows.StyleHelper.InvalidatePropertiesOnTemplateNode(DependencyObject container, FrameworkObject child, Int32 childIndex, FrugalStructList`1& childRecordFromChildIndex, Boolean isDetach, FrameworkElementFactory templateRoot)\n   at System.Windows.FrameworkTemplate.InvalidatePropertiesOnTemplate(DependencyObject container, Object currentObject)\n   at System.Windows.FrameworkTemplate.<>c__DisplayClass45_0.<LoadOptimizedTemplateContent>b__2(Object sender, XamlObjectEventArgs args)\n   at System.Xaml.XamlObjectWriter.Logic_CreateAndAssignToParentStart(ObjectWriterContext ctx)\n   at System.Xaml.XamlObjectWriter.WriteStartMember(XamlMember property)\n   at System.Windows.FrameworkTemplate.LoadTemplateXaml(XamlReader templateReader, XamlObjectWriter currentWriter)\" }, HelpLink: null, Source: \"PresentationFramework\", HResult: -2146233087, StackTrace: \"   at System.Windows.Markup.XamlReader.RewrapException(Exception e, IXamlLineInfo lineInfo, Uri baseUri)\n   at System.Windows.Markup.XamlReader.RewrapException(Exception e, Uri baseUri)\n   at System.Windows.FrameworkTemplate.LoadTemplateXaml(XamlReader templateReader, XamlObjectWriter currentWriter)\n   at System.Windows.FrameworkTemplate.LoadOptimizedTemplateContent(DependencyObject container, IComponentConnector componentConnector, IStyleConnector styleConnector, List`1 affectedChildren, UncommonField`1 templatedNonFeChildrenField)\n   at System.Windows.FrameworkTemplate.LoadContent(DependencyObject container, List`1 affectedChildren)\n   at System.Windows.StyleHelper.ApplyTemplateContent(UncommonField`1 dataField, DependencyObject container, FrameworkElementFactory templateRoot, Int32 lastChildIndex, HybridDictionary childIndexFromChildID, FrameworkTemplate frameworkTemplate)\n   at System.Windows.FrameworkTemplate.ApplyTemplateContent(UncommonField`1 templateDataField, FrameworkElement container)\n   at System.Windows.FrameworkElement.ApplyTemplate()\n   at System.Windows.FrameworkElement.MeasureCore(Size availableSize)\n   at System.Windows.UIElement.Measure(Size availableSize)\n   at System.Windows.ContextLayoutManager.UpdateLayout()\n   at System.Windows.ContextLayoutManager.UpdateLayoutCallback(Object arg)\n   at System.Windows.Media.MediaContext.FireInvokeOnRenderCallbacks()\n   at System.Windows.Media.MediaContext.RenderMessageHandlerCore(Object resizedCompositionTarget)\n   at System.Windows.Media.MediaContext.RenderMessageHandler(Object resizedCompositionTarget)\n   at System.Windows.Threading.ExceptionWrapper.InternalRealCall(Delegate callback, Object args, Int32 numArgs)\n   at System.Windows.Threading.ExceptionWrapper.TryCatchWhen(Object source, Delegate callback, Object args, Int32 numArgs, Delegate catchHandler)\" }\n```\n\n### Regression?\n\n_No response_\n\n### Known Workarounds\n\n_No response_\n\n### Impact\n\n_No response_\n\n### Configuration\n\nNET Version: NET 6\nOperation System: Windows 10 / 11\nArchitecture: x64\nSpecific: Unknown\n\n### Other information\n\n_No response_","Url":"https://github.com/dotnet/wpf/issues/11366","RelatedDescription":"Open issue \"Hashtable Load Factor Too High Exception\" (#11366)"},{"Id":"3825723949","IsPullRequest":true,"CreatedAt":"2026-01-17T19:55:28","Actor":"hexawyz","Number":"11365","RawContent":null,"Title":"Rework/simplify the Matrix Multiplication algorithm.","State":"open","Body":"## Description\r\n\r\nSimilar to my other PR #11364 , this seeks to improve performance of Matrix operations.\r\nWhile attempting to vectorize Matrix code to improve performance, I tried various approaches at changing the shape of the code, when it occured to me that the structure of the code itself could be made more straightforward.\r\nWhile this change in itself did little to help with performance in the vectorization case (it changed nothing), it does have a much greater impact when applied to the current non-vectorized code.\r\n\r\nThe approach I took here was:\r\n\r\n- Remove local variables (avoid hinting the runtime at using the stack)\r\n- Remove reliance on multiple conditional jumps, in favor of a single switch\r\n- Pack the switch cases densely (the previous algorithm was leaving large gaps between cases)\r\n- Rely on case fallback to reduce code duplication\r\n- Do not change the computation logic itself (i.e. for M11, M12, M21, ‚Ä¶)\r\n\r\nAs a consequence, the final assembly code ends up significantly smaller.\r\nHowever, benchmarking showed that the JIT now very much liked inlining the matrix multiplication code, even in the absence of any specific hint. This may or may not be a good thing. This does mean, though, that the performance is increased in this instance.\r\n\r\n## Customer Impact\r\n\r\n## Regression\r\n\r\n## Testing\r\n\r\nIf I force the method to not be inlined, it seems that there could be a very slight performance regression:\r\n\r\n````\r\n| Method             | Mean     | Error    | StdDev   | Code Size |\r\n|------------------- |---------:|---------:|---------:|----------:|\r\n| MultiplyMatrix_Ref | 13.19 ns | 0.073 ns | 0.065 ns |   1,191 B |\r\n| MultiplyMatrix_A   | 13.44 ns | 0.029 ns | 0.024 ns |     961 B |\r\n````\r\n\r\nHowever, without any hint, the performance gains can be huge:\r\n\r\n````\r\n| Method                       | Mean      | Error     | StdDev    | Code Size |\r\n|----------------------------- |----------:|----------:|----------:|----------:|\r\n| Rotate_Ref                   | 20.237 ns | 0.0669 ns | 0.0626 ns |   1,463 B |\r\n| Rotate_A                     |  1.023 ns | 0.0138 ns | 0.0129 ns |     149 B |\r\n| TranslateRotateTranslate_Ref | 11.288 ns | 0.0307 ns | 0.0287 ns |   1,757 B |\r\n| TranslateRotateTranslate_A   |  1.796 ns | 0.0227 ns | 0.0212 ns |     195 B |\r\n| MultiplyMatrix_Ref           | 13.068 ns | 0.0335 ns | 0.0313 ns |   1,191 B |\r\n| MultiplyMatrix_A             |  4.940 ns | 0.0187 ns | 0.0146 ns |     719 B |\r\n````\r\n\r\nBenchmark code: https://github.com/hexawyz/WpfVectorBenchmark/blob/6513f1eb2cf4a6beb797df5ccc4f515a376c57d8/WpfVectorBenchmark/Benchmarks.cs\r\n\r\n## Risk\r\n\r\nIt will change the performance characteristics of matrix multiplication. Identity special cases will be marginally slower due to losing their special treatment, but the reduction in the number of conditional jumps should be helpful overall.\r\nPerformance gains from the method becoming inlinable can be impressive, but this could lead to code size increasing significantly in some scenarios. It will largely depend on common usage patterns of each program.\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11365)","Url":"https://github.com/dotnet/wpf/pull/11365","RelatedDescription":"Open PR \"Rework/simplify the Matrix Multiplication algorithm.\" (#11365)"},{"Id":"3825644709","IsPullRequest":true,"CreatedAt":"2026-01-17T18:51:18","Actor":"hexawyz","Number":"11364","RawContent":null,"Title":"Stop preventing inlining of `Matrix.Identity` by making `Matrix.s_identity` readonly.","State":"open","Body":"## Description\r\n\r\nWhile trying to vectorize the WPF `Vector`/`Point`/`Matrix` code with limited success, I stumbled on some low-hanging fruits that could bring noticeable performance improvements to code using `Matrix`.\r\n(See here for my tentatives: https://github.com/hexawyz/WpfVectorBenchmark/tree/master/WpfVectorBenchmark/A)\r\n\r\nThis first change is very simple but does allow the JIT to inline `Matrix.Identity`, which was previously not the case. This might have been intentional at the time, I wouldn't know, but on the few simple benchmarks i was running, this improved performance by 10% to 23%.\r\nAlso, if this ever intentional, this would have been done at a time where support for SIMD in the runtime was inexistant, so making the code more \"correct\" here should delegate the decision making to the JIT.\r\n\r\n## Customer Impact\r\n\r\n## Regression\r\n\r\nThis won't break any code, but it will change the performance characteristics of the code. While I would expect the change to be mostly positive, there could be scenarios where it induces a performance regression.\r\n\r\n## Testing\r\n\r\nBenchmark\r\n\r\n````\r\n| Method                           | Mean      | Error     | StdDev    | Code Size |\r\n|--------------------------------- |----------:|----------:|----------:|----------:|\r\n| Rotate_Ref                       | 21.586 ns | 0.1903 ns | 0.1780 ns |   1,115 B |\r\n| Rotate_A                         | 15.334 ns | 0.0559 ns | 0.0496 ns |   1,124 B |\r\n| TranslateRotateTranslate_Ref     | 11.076 ns | 0.0367 ns | 0.0325 ns |   1,409 B |\r\n| TranslateRotateTranslate_A       |  9.640 ns | 0.0257 ns | 0.0201 ns |   1,162 B |\r\n````\r\n\r\n````csharp\r\nprivate static Vector_Ref Direction_Ref\r\n{\r\n\t[MethodImpl(MethodImplOptions.NoInlining)]\r\n\tget => new(7, 5);\r\n}\r\n\r\nprivate static Vector_A Direction_A\r\n{\r\n\t[MethodImpl(MethodImplOptions.NoInlining)]\r\n\tget => new(7, 5);\r\n}\r\n\r\n[Benchmark]\r\npublic Vector_Ref Rotate_Ref()\r\n{\r\n\tvar v = Direction_Ref;\r\n\tvar m = Matrix_Ref.Identity;\r\n\tm.Rotate(55);\r\n\treturn m.Transform(v);\r\n}\r\n\r\n[Benchmark]\r\npublic Vector_A Rotate_A()\r\n{\r\n\tvar v = Direction_A;\r\n\tvar m = Matrix_A.Identity;\r\n\tm.Rotate(55);\r\n\treturn m.Transform(v);\r\n}\r\n\r\n[Benchmark]\r\npublic Vector_Ref TranslateRotateTranslate_Ref()\r\n{\r\n\tvar v = Direction_Ref;\r\n\tvar m = Matrix_Ref.Identity;\r\n\tm.Translate(15, 12);\r\n\tm.Rotate(55);\r\n\tm.Translate(-1, 4);\r\n\treturn m.Transform(v);\r\n}\r\n\r\n[Benchmark]\r\npublic Vector_A TranslateRotateTranslate_A()\r\n{\r\n\tvar v = Direction_A;\r\n\tvar m = Matrix_A.Identity;\r\n\tm.Translate(15, 12);\r\n\tm.Rotate(55);\r\n\tm.Translate(-1, 4);\r\n\treturn m.Transform(v);\r\n}\r\n````\r\n\r\n## Risk\r\n\r\nSee the regression part\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11364)","Url":"https://github.com/dotnet/wpf/pull/11364","RelatedDescription":"Open PR \"Stop preventing inlining of `Matrix.Identity` by making `Matrix.s_identity` readonly.\" (#11364)"},{"Id":"3821304736","IsPullRequest":false,"CreatedAt":"2026-01-16T10:03:35","Actor":"eschgi","Number":"11363","RawContent":null,"Title":"WPF Fluent Theme TextBox component in .NET 10 has different default height","State":"open","Body":"### Description\n\nHi,\n\nwe upgraded our WPF application (which is a WiX setup bootstrapper) from .NET 9 to .NET 10. We are using the fluent ui theme (ThemeMode=\"Dark\").\n\nWe have seen that after the upgrade the TextBox heights have changed and the text is also not completely vertically centered anymore.\n\nWas this change planned or is this for you also a bug?\n\nThanks in the meantime.\n\n### Reproduction Steps\n\nWith this XAML code, you should be able to reproduce the bug:\n\n### XAML code\n\n```xaml\n<Grid>\n    <Grid.RowDefinitions>\n        <RowDefinition Height=\"Auto\" />\n        <RowDefinition Height=\"Auto\" />\n    </Grid.RowDefinitions>\n    <TextBlock \n        Grid.Row=\"0\" \n        TextWrapping=\"Wrap\" \n        Text=\"Test:\" />\n    <TextBox \n        Grid.Row=\"1\"\n        Width=\"200\"\n        HorizontalAlignment=\"Left\"\n        Text=\"123\" />\n</Grid>\n```\n\n### Expected behavior\n\nI expect that the TextBox text is centered vertically. I also expect, when I change the height of the TextBox component to a smaller height than the default height, that the height I have set is applied correctly.\n\nCompiled with .NET 9:\n\n<img width=\"586\" height=\"443\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/b7cab457-e237-43b5-9d20-7686ee0a309b\" />\n\n### Actual behavior\n\nCompiled with .NET 10:\n\n<img width=\"586\" height=\"443\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/f9e249aa-69b4-407e-8b49-341b3a4c3fc3\" />\n\n### Regression?\n\nIn .NET 9 it works for us, in .NET 10 not anymore.\n\n### Known Workarounds\n\nUse .NET 9 instead.\n\n### Impact\n\nMinimal.\n\n### Configuration\n\n_No response_\n\n### Other information\n\n_No response_","Url":"https://github.com/dotnet/wpf/issues/11363","RelatedDescription":"Open issue \"WPF Fluent Theme TextBox component in .NET 10 has different default height\" (#11363)"},{"Id":"3817805313","IsPullRequest":false,"CreatedAt":"2026-01-15T14:29:25","Actor":"alraseensaad","Number":"11362","RawContent":null,"Title":"ComboBox ToggleButton layout breaks when used inside a DataGrid","State":"open","Body":"### Description\n\nWhen a ComboBox is placed inside a DataGrid cell, the layout of its ToggleButton becomes misaligned and does not render correctly.\n\n<img width=\"1011\" height=\"567\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/cee00b33-15b4-44d4-acda-d5c686a17c71\" />\n\n<img width=\"1013\" height=\"568\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/8b13e8fa-d32d-4d03-ac64-9fc6975e0863\" />\n\n### Reproduction Steps\n\nthere is a repo to reproduce \n\n[WpfApp1.zip](https://github.com/user-attachments/files/24644358/WpfApp1.zip)\n\nthen do like that\nhttps://github.com/user-attachments/assets/8b5da088-b63c-41ef-98ef-a66199c78c77\n\n\n### Expected behavior\n\nToggleButton of the combobex should be in the right \n\n### Actual behavior\n\nToggleButton of the combobex shown in the center of the combobox as show in the pictures and videos\n\n### Regression?\n\n_No response_\n\n### Known Workarounds\n\n_No response_\n\n### Impact\n\n_No response_\n\n### Configuration\n\n.Net 10\nWindows 11\nAny\n\n### Other information\n\n_No response_","Url":"https://github.com/dotnet/wpf/issues/11362","RelatedDescription":"Open issue \"ComboBox ToggleButton layout breaks when used inside a DataGrid\" (#11362)"},{"Id":"3816121561","IsPullRequest":true,"CreatedAt":"2026-01-15T05:55:45","Actor":"dotnet-maestro[bot]","Number":"11361","RawContent":null,"Title":"[release/9.0] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"open","Body":"This pull request updates the following dependencies\n\n[marker]: <> (Begin:9b93053b-bf71-48b9-1001-08dcbc30275f)\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\n- **Subscription**: [9b93053b-bf71-48b9-1001-08dcbc30275f](https://maestro.dot.net/subscriptions?search=9b93053b-bf71-48b9-1001-08dcbc30275f)\n- **Build**: [20260114.3](https://dev.azure.com/dnceng/internal/_build/results?buildId=2879730) ([297400](https://maestro.dot.net/channel/3883/azdo:dnceng:internal:dotnet-wpf-int/build/297400))\n- **Date Produced**: January 15, 2026 5:35:23 AM UTC\n- **Commit**: [dadf589839242af1ccb562dbc0dd9a98206bb72f](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?_a=history&version=GCdadf589839242af1ccb562dbc0dd9a98206bb72f)\n- **Branch**: [refs/heads/release/9.0](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?version=GBrefs/heads/release/9.0)\n\n[DependencyUpdate]: <> (Begin)\n\n- **Dependency Updates**:\n  - From [9.0.0-rtm.26062.4 to 9.0.0-rtm.26064.3][1]\n     - Microsoft.DotNet.Wpf.DncEng\n\n[1]: https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int/branches?baseVersion=GCfa90dd7db7b98acad5adc1b3e7c6af2bf9c281ba&targetVersion=GCdadf589839242af1ccb562dbc0dd9a98206bb72f&_a=files\n\n[DependencyUpdate]: <> (End)\n\n\n[marker]: <> (End:9b93053b-bf71-48b9-1001-08dcbc30275f)\n\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11361)","Url":"https://github.com/dotnet/wpf/pull/11361","RelatedDescription":"Open PR \"[release/9.0] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#11361)"},{"Id":"3816108851","IsPullRequest":true,"CreatedAt":"2026-01-15T05:50:08","Actor":"dotnet-maestro[bot]","Number":"11360","RawContent":null,"Title":"[main] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"open","Body":"This pull request updates the following dependencies\n\n[marker]: <> (Begin:f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\n- **Subscription**: [f8781171-8d89-4d6b-f62b-08d8e93a0c51](https://maestro.dot.net/subscriptions?search=f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n- **Build**: [20260114.2](https://dev.azure.com/dnceng/internal/_build/results?buildId=2879729) ([297401](https://maestro.dot.net/channel/8297/azdo:dnceng:internal:dotnet-wpf-int/build/297401))\n- **Date Produced**: January 15, 2026 5:36:12 AM UTC\n- **Commit**: [9abb072f193117e0a0d72a4a1c8454b36ea772d2](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?_a=history&version=GC9abb072f193117e0a0d72a4a1c8454b36ea772d2)\n- **Branch**: [refs/heads/main](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?version=GBrefs/heads/main)\n\n[DependencyUpdate]: <> (Begin)\n\n- **Dependency Updates**:\n  - From [10.0.0-rc.1.26062.3 to 10.0.0-rc.1.26064.2][1]\n     - Microsoft.DotNet.Wpf.DncEng\n\n[1]: https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int/branches?baseVersion=GCb6f8cd2316cad3031d295f8c7841e47fbeb73409&targetVersion=GC9abb072f193117e0a0d72a4a1c8454b36ea772d2&_a=files\n\n[DependencyUpdate]: <> (End)\n\n\n[marker]: <> (End:f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11360)","Url":"https://github.com/dotnet/wpf/pull/11360","RelatedDescription":"Open PR \"[main] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#11360)"},{"Id":"3807286404","IsPullRequest":true,"CreatedAt":"2026-01-15T05:14:45","Actor":"dotnet-maestro[bot]","Number":"11354","RawContent":null,"Title":"[release/9.0] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\n\n[marker]: <> (Begin:9b93053b-bf71-48b9-1001-08dcbc30275f)\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\n- **Subscription**: [9b93053b-bf71-48b9-1001-08dcbc30275f](https://maestro.dot.net/subscriptions?search=9b93053b-bf71-48b9-1001-08dcbc30275f)\n- **Build**: [20260112.4](https://dev.azure.com/dnceng/internal/_build/results?buildId=2877744) ([297007](https://maestro.dot.net/channel/3883/azdo:dnceng:internal:dotnet-wpf-int/build/297007))\n- **Date Produced**: January 13, 2026 5:48:26 AM UTC\n- **Commit**: [fa90dd7db7b98acad5adc1b3e7c6af2bf9c281ba](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?_a=history&version=GCfa90dd7db7b98acad5adc1b3e7c6af2bf9c281ba)\n- **Branch**: [refs/heads/release/9.0](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?version=GBrefs/heads/release/9.0)\n\n[DependencyUpdate]: <> (Begin)\n\n- **Dependency Updates**:\n  - From [9.0.0-rtm.25629.1 to 9.0.0-rtm.26062.4][1]\n     - Microsoft.DotNet.Wpf.DncEng\n\n[1]: https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int/branches?baseVersion=GCcbd44ea248782625d353211a66c38928861925bf&targetVersion=GCfa90dd7db7b98acad5adc1b3e7c6af2bf9c281ba&_a=files\n\n[DependencyUpdate]: <> (End)\n\n\n[marker]: <> (End:9b93053b-bf71-48b9-1001-08dcbc30275f)\n\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11354)","Url":"https://github.com/dotnet/wpf/pull/11354","RelatedDescription":"Closed or merged PR \"[release/9.0] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#11354)"},{"Id":"3807286788","IsPullRequest":true,"CreatedAt":"2026-01-15T05:14:16","Actor":"dotnet-maestro[bot]","Number":"11355","RawContent":null,"Title":"[main] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\n\n[marker]: <> (Begin:f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\n- **Subscription**: [f8781171-8d89-4d6b-f62b-08d8e93a0c51](https://maestro.dot.net/subscriptions?search=f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n- **Build**: [20260112.3](https://dev.azure.com/dnceng/internal/_build/results?buildId=2877740) ([297009](https://maestro.dot.net/channel/8297/azdo:dnceng:internal:dotnet-wpf-int/build/297009))\n- **Date Produced**: January 13, 2026 5:56:48 AM UTC\n- **Commit**: [b6f8cd2316cad3031d295f8c7841e47fbeb73409](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?_a=history&version=GCb6f8cd2316cad3031d295f8c7841e47fbeb73409)\n- **Branch**: [refs/heads/main](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?version=GBrefs/heads/main)\n\n[DependencyUpdate]: <> (Begin)\n\n- **Dependency Updates**:\n  - From [10.0.0-rc.1.26061.1 to 10.0.0-rc.1.26062.3][1]\n     - Microsoft.DotNet.Wpf.DncEng\n\n[1]: https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int/branches?baseVersion=GC61d0b2c67ad2aa060805bb1a8d46cdc288efdedd&targetVersion=GCb6f8cd2316cad3031d295f8c7841e47fbeb73409&_a=files\n\n[DependencyUpdate]: <> (End)\n\n\n[marker]: <> (End:f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11355)","Url":"https://github.com/dotnet/wpf/pull/11355","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#11355)"},{"Id":"3811218565","IsPullRequest":true,"CreatedAt":"2026-01-15T05:13:46","Actor":"dotnet-maestro[bot]","Number":"11359","RawContent":null,"Title":"[release/9.0] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\n\n[marker]: <> (Begin:2bde0aa3-7165-43c9-100b-08dcbc30275f)\n## From https://github.com/dotnet/arcade\n- **Subscription**: [2bde0aa3-7165-43c9-100b-08dcbc30275f](https://maestro.dot.net/subscriptions?search=2bde0aa3-7165-43c9-100b-08dcbc30275f)\n- **Build**: [20260113.2](https://dev.azure.com/dnceng/internal/_build/results?buildId=2877988) ([297092](https://maestro.dot.net/channel/5175/github:dotnet:arcade/build/297092))\n- **Date Produced**: January 13, 2026 12:53:13 PM UTC\n- **Commit**: [c85f9aceddaf85296e3efbc463daaa34fef5a375](https://github.com/dotnet/arcade/commit/c85f9aceddaf85296e3efbc463daaa34fef5a375)\n- **Branch**: [release/9.0](https://github.com/dotnet/arcade/tree/release/9.0)\n\n[DependencyUpdate]: <> (Begin)\n\n- **Dependency Updates**:\n  - From [9.0.0-beta.26062.2 to 9.0.0-beta.26063.2][1]\n     - Microsoft.DotNet.Arcade.Sdk\n     - Microsoft.DotNet.CodeAnalysis\n     - Microsoft.DotNet.GenAPI\n     - Microsoft.DotNet.Helix.Sdk\n\n[1]: https://github.com/dotnet/arcade/compare/7d6bcdd1e8...c85f9acedd\n\n[DependencyUpdate]: <> (End)\n\n\n[marker]: <> (End:2bde0aa3-7165-43c9-100b-08dcbc30275f)\n\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11359)","Url":"https://github.com/dotnet/wpf/pull/11359","RelatedDescription":"Closed or merged PR \"[release/9.0] Update dependencies from dotnet/arcade\" (#11359)"},{"Id":"3810359122","IsPullRequest":true,"CreatedAt":"2026-01-14T05:34:32","Actor":"vseanreesermsft","Number":"11358","RawContent":null,"Title":"Merging internal commits for release/8.0","State":"closed","Body":"\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11358)","Url":"https://github.com/dotnet/wpf/pull/11358","RelatedDescription":"Closed or merged PR \"Merging internal commits for release/8.0\" (#11358)"},{"Id":"3810306041","IsPullRequest":true,"CreatedAt":"2026-01-14T05:33:54","Actor":"vseanreesermsft","Number":"11357","RawContent":null,"Title":"Merging internal commits for release/9.0","State":"closed","Body":"\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11357)","Url":"https://github.com/dotnet/wpf/pull/11357","RelatedDescription":"Closed or merged PR \"Merging internal commits for release/9.0\" (#11357)"},{"Id":"3810082055","IsPullRequest":false,"CreatedAt":"2026-01-13T18:44:11","Actor":"MstyslavS","Number":"11356","RawContent":null,"Title":"WPF Fluent Theme app crashes with CheckBox on multiple UI threads","State":"open","Body":"### Description\n\nHello, I‚Äôm facing an issue where a WPF application targeting .NET 9 crashes when using the Fluent UI theme.\nIn the application, I open separate windows on different UI threads, and each window contains a single CheckBox.\nWhen the second window is opened, the application throws the following exception:\n\n**System.Windows.Markup.XamlParseException:\n‚ÄúThe calling thread cannot access this object because a different thread owns it.‚Äù**\n\nThe issue reproduces only when the CheckBox is checked by default. It appears that the Path control of check mark references shared resources that are not thread-safe. Interestingly, if I apply a custom style to the CheckBox, the issue disappears. However, this is only a workaround and not a proper solution.\n\nI‚Äôm attaching a sample project archive that reproduces the issue.\n\n### Reproduction Steps\n1. Extract the archive, build and run app\n[FluentUIWpfAppWithCheckbox.zip](https://github.com/user-attachments/files/24598065/FluentUIWpfAppWithCheckbox.zip)\n2. Click button \"New window\" twice\n### Expected behavior\n\nSecond window with CheckBox opens successfully\n\n### Actual behavior\n\nWhen opening the second window, the application gets the an exception\n**System.Windows.Markup.XamlParseException:\n‚ÄúThe calling thread cannot access this object because a different thread owns it.‚Äù**\n\nTo prevent crashing I print exception to debug log\n\n### Regression?\n\n_No response_\n\n### Known Workarounds\n\nOverride the default Fluent style for the CheckBox controls in the Window\n`<Style TargetType=\"CheckBox\" />`\n\n### Impact\n\n_No response_\n\n### Configuration\n\n_No response_\n\n### Other information\n\n_No response_","Url":"https://github.com/dotnet/wpf/issues/11356","RelatedDescription":"Open issue \"WPF Fluent Theme app crashes with CheckBox on multiple UI threads\" (#11356)"},{"Id":"3806735189","IsPullRequest":true,"CreatedAt":"2026-01-13T05:28:16","Actor":"dotnet-maestro[bot]","Number":"11353","RawContent":null,"Title":"[release/9.0] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\n\n[marker]: <> (Begin:2bde0aa3-7165-43c9-100b-08dcbc30275f)\n## From https://github.com/dotnet/arcade\n- **Subscription**: [2bde0aa3-7165-43c9-100b-08dcbc30275f](https://maestro.dot.net/subscriptions?search=2bde0aa3-7165-43c9-100b-08dcbc30275f)\n- **Build**: [20260112.2](https://dev.azure.com/dnceng/internal/_build/results?buildId=2877038) ([296888](https://maestro.dot.net/channel/5175/github:dotnet:arcade/build/296888))\n- **Date Produced**: January 12, 2026 12:24:35 PM UTC\n- **Commit**: [7d6bcdd1e851735273e4eed39e40366d48f335c9](https://github.com/dotnet/arcade/commit/7d6bcdd1e851735273e4eed39e40366d48f335c9)\n- **Branch**: [release/9.0](https://github.com/dotnet/arcade/tree/release/9.0)\n\n[DependencyUpdate]: <> (Begin)\n\n- **Dependency Updates**:\n  - From [9.0.0-beta.25626.6 to 9.0.0-beta.26062.2][1]\n     - Microsoft.DotNet.Arcade.Sdk\n     - Microsoft.DotNet.CodeAnalysis\n     - Microsoft.DotNet.GenAPI\n     - Microsoft.DotNet.Helix.Sdk\n\n[1]: https://github.com/dotnet/arcade/compare/ab5773ac30...7d6bcdd1e8\n\n[DependencyUpdate]: <> (End)\n\n\n[marker]: <> (End:2bde0aa3-7165-43c9-100b-08dcbc30275f)\n\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11353)","Url":"https://github.com/dotnet/wpf/pull/11353","RelatedDescription":"Closed or merged PR \"[release/9.0] Update dependencies from dotnet/arcade\" (#11353)"},{"Id":"3802895306","IsPullRequest":true,"CreatedAt":"2026-01-13T05:27:45","Actor":"dotnet-maestro[bot]","Number":"11351","RawContent":null,"Title":"[main] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\n\n[marker]: <> (Begin:f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\n- **Subscription**: [f8781171-8d89-4d6b-f62b-08d8e93a0c51](https://maestro.dot.net/subscriptions?search=f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n- **Build**: [20260111.1](https://dev.azure.com/dnceng/internal/_build/results?buildId=2876863) ([296830](https://maestro.dot.net/channel/8297/azdo:dnceng:internal:dotnet-wpf-int/build/296830))\n- **Date Produced**: January 12, 2026 5:54:45 AM UTC\n- **Commit**: [61d0b2c67ad2aa060805bb1a8d46cdc288efdedd](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?_a=history&version=GC61d0b2c67ad2aa060805bb1a8d46cdc288efdedd)\n- **Branch**: [refs/heads/main](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?version=GBrefs/heads/main)\n\n[DependencyUpdate]: <> (Begin)\n\n- **Dependency Updates**:\n  - From [10.0.0-rc.1.26057.1 to 10.0.0-rc.1.26061.1][1]\n     - Microsoft.DotNet.Wpf.DncEng\n\n[1]: https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int/branches?baseVersion=GCcd54fdd52d62853bca7fcc28b08b030c2cea3d0e&targetVersion=GC61d0b2c67ad2aa060805bb1a8d46cdc288efdedd&_a=files\n\n[DependencyUpdate]: <> (End)\n\n\n[marker]: <> (End:f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11351)","Url":"https://github.com/dotnet/wpf/pull/11351","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#11351)"},{"Id":"3805821210","IsPullRequest":false,"CreatedAt":"2026-01-12T20:06:20","Actor":"Nintynuts","Number":"11352","RawContent":null,"Title":"Binding to explictly qualified property on notifying object causes runtime exception when using `Binding(string path)` ctor.","State":"open","Body":"### Description\n\nWhen creating a binding via markup, you have the option of using the default parameterless constructor and setting the path using `Path=` or using the one that takes the path as the first constructor argument. The latter is usually preferable because it's less verbose and ensures the path is always first, but it takes a `string` rather than a `PropertyPath`. When using the latter and binding to a qualified property path on an `INotifyPropertyChanged` implementing type, a runtime exception is thrown. There is no issue if the source item does not implement `INotifyPropertyChanged`.\n\nQualified segments are where you use  `.({TypeName}.{PropertyName})`, to access properties that aren't directly known by reflection. \n\n### Reproduction Steps\n\n\n```csharp\nusing System.ComponentModel;\nusing System.Windows;\n\nnamespace TestWpfApp;\n\npublic partial class MainWindow : Window\n{\n    public MainWindow()\n    {\n        InitializeComponent();\n    }\n}\n\npublic class ViewModelContainer\n{\n    public IViewModel ViewModel { get; set; } = new CustomViewModel();\n}\n\npublic class CustomViewModel : IModel, ICustomModel, INotifyPropertyChanged\n{\n    public string CustomProperty { get; set; } = \"Custom Property Text!\";\n\n    public event PropertyChangedEventHandler? PropertyChanged;\n}\n\npublic interface IViewModel\n{\n}\n\npublic interface ICustomViewModel\n{\n    string CustomProperty { get; set; }\n}\n```\n```xaml\n<Window x:Class=\"TestWpfApp.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:local=\"clr-namespace:TestWpfApp\"\n        Title=\"MainWindow\">\n    <Window.DataContext>\n        <local:ViewModelContainer />\n    </Window.DataContext>\n    <TextBlock Text=\"{Binding ViewModel.(local:ICustomViewModel.CustomProperty)}\" />\n</Window>\n```\n\n### Expected behavior\n\nUsing either constructor on a `Binding` should produce the same result, and ideally no cryptic exception.\n\n### Actual behavior\n\n> System.ArgumentNullException: 'Value cannot be null. Arg_ParamName_Name'\n\nAnd probably an application crash.\n\n### Regression?\n\nNo idea, I doubt it.\n\n### Known Workarounds\n\n`Path=` must be added, but working this out is not at all obvious. For example:\n```xaml\n<!-- Exception at runtime and in designer -->\n<TextBox Text=\"{Binding ViewModel.(m:ICustomViewModel.CustomProperty)}\"/>\n\n<!-- Works at runtime and in designer -->\n<TextBox Text=\"{Binding Path=ViewModel.(m:ICustomViewModel.CustomProperty)}\"/>\n```\n\n### Impact\n\nIt's not the most common type of binding, but seems like it could be present in many projects.\n\n### Configuration\n\n.NET 8, Windows, x64. \nDoesn't seem likely to be specific to this configuration.\n\n### Other information\n\nI'm not sure, but I think the issue lies here:\nhttps://github.com/dotnet/wpf/blob/4fb8416e780445d0877aa6eede32aaf628e1bcab/src/Microsoft.DotNet.Wpf/src/PresentationFramework/MS/Internal/Data/PropertyPathWorker.cs#L873-L876\nwhere `propertyName` is `null`.","Url":"https://github.com/dotnet/wpf/issues/11352","RelatedDescription":"Open issue \"Binding to explictly qualified property on notifying object causes runtime exception when using `Binding(string path)` ctor.\" (#11352)"},{"Id":"3791357390","IsPullRequest":true,"CreatedAt":"2026-01-12T05:25:41","Actor":"dotnet-maestro[bot]","Number":"11350","RawContent":null,"Title":"[main] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\n\n[marker]: <> (Begin:f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\n- **Subscription**: [f8781171-8d89-4d6b-f62b-08d8e93a0c51](https://maestro.dot.net/subscriptions?search=f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n- **Build**: [20260107.1](https://dev.azure.com/dnceng/internal/_build/results?buildId=2874369) ([296373](https://maestro.dot.net/channel/8297/azdo:dnceng:internal:dotnet-wpf-int/build/296373))\n- **Date Produced**: January 8, 2026 5:31:42 AM UTC\n- **Commit**: [cd54fdd52d62853bca7fcc28b08b030c2cea3d0e](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?_a=history&version=GCcd54fdd52d62853bca7fcc28b08b030c2cea3d0e)\n- **Branch**: [refs/heads/main](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?version=GBrefs/heads/main)\n\n[DependencyUpdate]: <> (Begin)\n\n- **Dependency Updates**:\n  - From [10.0.0-rc.1.26055.3 to 10.0.0-rc.1.26057.1][1]\n     - Microsoft.DotNet.Wpf.DncEng\n\n[1]: https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int/branches?baseVersion=GCc06517eeca336ede5fd16dbe275c593b5dea73f1&targetVersion=GCcd54fdd52d62853bca7fcc28b08b030c2cea3d0e&_a=files\n\n[DependencyUpdate]: <> (End)\n\n\n[marker]: <> (End:f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11350)","Url":"https://github.com/dotnet/wpf/pull/11350","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#11350)"},{"Id":"3783903878","IsPullRequest":true,"CreatedAt":"2026-01-08T05:22:38","Actor":"dotnet-maestro[bot]","Number":"11349","RawContent":null,"Title":"[main] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\n\n[marker]: <> (Begin:f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\n- **Subscription**: [f8781171-8d89-4d6b-f62b-08d8e93a0c51](https://maestro.dot.net/subscriptions?search=f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n- **Build**: [20260105.3](https://dev.azure.com/dnceng/internal/_build/results?buildId=2872800) ([296106](https://maestro.dot.net/channel/8297/azdo:dnceng:internal:dotnet-wpf-int/build/296106))\n- **Date Produced**: January 6, 2026 7:07:13 AM UTC\n- **Commit**: [c06517eeca336ede5fd16dbe275c593b5dea73f1](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?_a=history&version=GCc06517eeca336ede5fd16dbe275c593b5dea73f1)\n- **Branch**: [refs/heads/main](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?version=GBrefs/heads/main)\n\n[DependencyUpdate]: <> (Begin)\n\n- **Dependency Updates**:\n  - From [10.0.0-rc.1.25629.2 to 10.0.0-rc.1.26055.3][2]\n     - Microsoft.DotNet.Wpf.DncEng\n\n[2]: https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int/branches?baseVersion=GCc73160905089d4863c0cc1252bcbc1382899b6cb&targetVersion=GCc06517eeca336ede5fd16dbe275c593b5dea73f1&_a=files\n\n[DependencyUpdate]: <> (End)\n\n\n[marker]: <> (End:f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n\n\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11349)\n\n\n","Url":"https://github.com/dotnet/wpf/pull/11349","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#11349)"},{"Id":"3782497119","IsPullRequest":true,"CreatedAt":"2026-01-06T05:27:48","Actor":"vseanreesermsft","Number":"11348","RawContent":null,"Title":"Update branding to 9.0.13","State":"closed","Body":"\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11348)","Url":"https://github.com/dotnet/wpf/pull/11348","RelatedDescription":"Closed or merged PR \"Update branding to 9.0.13\" (#11348)"},{"Id":"3780314731","IsPullRequest":true,"CreatedAt":"2026-01-06T05:27:34","Actor":"dotnet-maestro[bot]","Number":"11346","RawContent":null,"Title":"[release/10.0] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\n\n[marker]: <> (Begin:8db32faf-d175-4779-8456-80252947b261)\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\n- **Subscription**: [8db32faf-d175-4779-8456-80252947b261](https://maestro.dot.net/subscriptions?search=8db32faf-d175-4779-8456-80252947b261)\n- **Build**: [20260104.1](https://dev.azure.com/dnceng/internal/_build/results?buildId=2871958) ([295948](https://maestro.dot.net/channel/5172/azdo:dnceng:internal:dotnet-wpf-int/build/295948))\n- **Date Produced**: January 5, 2026 6:06:15 AM UTC\n- **Commit**: [376cbaae47f5f1d01946780146a71769855ba58c](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?_a=history&version=GC376cbaae47f5f1d01946780146a71769855ba58c)\n- **Branch**: [refs/heads/release/10.0](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?version=GBrefs/heads/release/10.0)\n\n[DependencyUpdate]: <> (Begin)\n\n- **Dependency Updates**:\n  - From [10.0.3-servicing.25615.8 to 10.0.3-servicing.26054.1][1]\n     - Microsoft.DotNet.Wpf.DncEng\n\n[1]: https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int/branches?baseVersion=GC2c5de04a8ef800e14a88ffc153c0d06f94a8c2dd&targetVersion=GC376cbaae47f5f1d01946780146a71769855ba58c&_a=files\n\n[DependencyUpdate]: <> (End)\n\n\n[marker]: <> (End:8db32faf-d175-4779-8456-80252947b261)\n\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11346)","Url":"https://github.com/dotnet/wpf/pull/11346","RelatedDescription":"Closed or merged PR \"[release/10.0] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#11346)"},{"Id":"3782496819","IsPullRequest":true,"CreatedAt":"2026-01-06T05:27:25","Actor":"vseanreesermsft","Number":"11347","RawContent":null,"Title":"Update branding to 8.0.24","State":"closed","Body":"\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11347)","Url":"https://github.com/dotnet/wpf/pull/11347","RelatedDescription":"Closed or merged PR \"Update branding to 8.0.24\" (#11347)"},{"Id":"3769789632","IsPullRequest":true,"CreatedAt":"2026-01-01T12:10:38","Actor":"harshit7962","Number":"11342","RawContent":null,"Title":"[release/10.0] Fix Fluent in Windows 10","State":"closed","Body":"Fixes #11277 \r\n\r\n## Description\r\nThe default window background is transparent, and backdrop material is applied to the window based on the developer‚Äôs preference. However, Windows 10 does not support backdrop materials, which results in incorrect window rendering and leads to a arid Fluent experience.\r\nThis change overrides the default window background value based on the selected backdrop preference and the OS the application is running on. Additionally, it listens for HC theme changes, since backdrop materials should not be applied when HC themes are enabled.\r\n\r\n<!-- Give a brief summary of the issue and how the pull request is fixing it. -->\r\n\r\n## Customer Impact\r\nUsers will be able to seamlessly use Fluent‚Äëthemed applications on Windows 10, while developers retain the ability to use backdrop materials on Windows 11 without compromise.\r\n<!-- What is the impact to customers of not taking this fix? -->\r\n\r\n## Regression\r\nYes\r\n<!-- Is this fixing a problem that was introduced in the most recent release, ie., fixing a regression? -->\r\n\r\n## Testing\r\nLocal Build Pass\r\nTested the changes in original PR manually on Windows 10.\r\n\r\n<!-- What kind of testing has been done with the fix. -->\r\n\r\n## Risk\r\nLow, fixes of similar kind are already in release/9.0 branch.\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11342)","Url":"https://github.com/dotnet/wpf/pull/11342","RelatedDescription":"Closed or merged PR \"[release/10.0] Fix Fluent in Windows 10\" (#11342)"},{"Id":"3771996269","IsPullRequest":false,"CreatedAt":"2025-12-31T08:00:18","Actor":"vinnarayana-msft","Number":"11345","RawContent":null,"Title":"WPF Developers review is mandatory to merge any pr in wpf repo","State":"closed","Body":"@dotnet/wpf-developers review is mandatory for merging any changes into wpf repo.","Url":"https://github.com/dotnet/wpf/issues/11345","RelatedDescription":"Closed issue \"WPF Developers review is mandatory to merge any pr in wpf repo\" (#11345)"},{"Id":"3771985695","IsPullRequest":true,"CreatedAt":"2025-12-31T08:00:17","Actor":"vinnarayana-msft","Number":"11344","RawContent":null,"Title":"WPF Developers review is mandatory for all changes in wpf repo","State":"closed","Body":"Fixes #11345 \r\n\r\n## Description\r\n\r\nüîí Mandatory Reviewer Requirement (WPF Developers)\r\nAll pull requests must be reviewed and approved by members of the @dotnet/wpf-developers team` before merging.\r\nMerging will remain blocked until the required approvals from this team are received.\r\n\r\n## Customer Impact\r\n\r\nEnsuring that all changes are reviewed by the WPF Developers team helps maintain code stability, architectural correctness, and overall product quality.\r\nThis reduces the likelihood of regressions or incorrect behavior reaching customers.\r\n\r\n## Regression\r\nNo \r\n\r\nThis change does not introduce a code-level regression.\r\nIt strengthens the review and merge process, reducing the risk of regressions in future code changes by ensuring consistent expert oversight.\r\n\r\n## Risk\r\n\r\nLOW\r\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11344)","Url":"https://github.com/dotnet/wpf/pull/11344","RelatedDescription":"Closed or merged PR \"WPF Developers review is mandatory for all changes in wpf repo\" (#11344)"},{"Id":"3769092608","IsPullRequest":true,"CreatedAt":"2025-12-30T12:41:43","Actor":"dotnet-maestro[bot]","Number":"11339","RawContent":null,"Title":"[release/9.0] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\n\n[marker]: <> (Begin:9b93053b-bf71-48b9-1001-08dcbc30275f)\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\n- **Subscription**: [9b93053b-bf71-48b9-1001-08dcbc30275f](https://maestro.dot.net/subscriptions?search=9b93053b-bf71-48b9-1001-08dcbc30275f)\n- **Build**: [20251229.1](https://dev.azure.com/dnceng/internal/_build/results?buildId=2869256) ([295742](https://maestro.dot.net/channel/3883/azdo:dnceng:internal:dotnet-wpf-int/build/295742))\n- **Date Produced**: December 30, 2025 5:09:08 AM UTC\n- **Commit**: [cbd44ea248782625d353211a66c38928861925bf](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?_a=history&version=GCcbd44ea248782625d353211a66c38928861925bf)\n- **Branch**: [refs/heads/release/9.0](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?version=GBrefs/heads/release/9.0)\n\n[DependencyUpdate]: <> (Begin)\n\n- **Dependency Updates**:\n  - From [9.0.0-rtm.25615.7 to 9.0.0-rtm.25629.1][1]\n     - Microsoft.DotNet.Wpf.DncEng\n\n[1]: https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int/branches?baseVersion=GC6a641e897a921475e654719b17216988d6f8b5ba&targetVersion=GCcbd44ea248782625d353211a66c38928861925bf&_a=files\n\n[DependencyUpdate]: <> (End)\n\n\n[marker]: <> (End:9b93053b-bf71-48b9-1001-08dcbc30275f)\n\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11339)","Url":"https://github.com/dotnet/wpf/pull/11339","RelatedDescription":"Closed or merged PR \"[release/9.0] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#11339)"},{"Id":"3769119852","IsPullRequest":true,"CreatedAt":"2025-12-30T12:41:18","Actor":"dotnet-maestro[bot]","Number":"11340","RawContent":null,"Title":"[main] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\n\n[marker]: <> (Begin:f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\n- **Subscription**: [f8781171-8d89-4d6b-f62b-08d8e93a0c51](https://maestro.dot.net/subscriptions?search=f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n- **Build**: [20251229.2](https://dev.azure.com/dnceng/internal/_build/results?buildId=2869257) ([295743](https://maestro.dot.net/channel/8297/azdo:dnceng:internal:dotnet-wpf-int/build/295743))\n- **Date Produced**: December 30, 2025 5:22:33 AM UTC\n- **Commit**: [c73160905089d4863c0cc1252bcbc1382899b6cb](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?_a=history&version=GCc73160905089d4863c0cc1252bcbc1382899b6cb)\n- **Branch**: [refs/heads/main](https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int?version=GBrefs/heads/main)\n\n[DependencyUpdate]: <> (Begin)\n\n- **Dependency Updates**:\n  - From [10.0.0-rc.1.25622.1 to 10.0.0-rc.1.25629.2][1]\n     - Microsoft.DotNet.Wpf.DncEng\n\n[1]: https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int/branches?baseVersion=GCe801e059b112bc8ef9aab56418fd5a5eeaa77daf&targetVersion=GCc73160905089d4863c0cc1252bcbc1382899b6cb&_a=files\n\n[DependencyUpdate]: <> (End)\n\n\n[marker]: <> (End:f8781171-8d89-4d6b-f62b-08d8e93a0c51)\n\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11340)","Url":"https://github.com/dotnet/wpf/pull/11340","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#11340)"},{"Id":"3769815363","IsPullRequest":true,"CreatedAt":"2025-12-30T12:38:16","Actor":"harshit7962","Number":"11343","RawContent":null,"Title":"Exclue latest vswhere version from git","State":"closed","Body":"Exclude the 3.1.7 vswhere.exe build changes from git tracking.\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11343)","Url":"https://github.com/dotnet/wpf/pull/11343","RelatedDescription":"Closed or merged PR \"Exclue latest vswhere version from git\" (#11343)"},{"Id":"3769127821","IsPullRequest":true,"CreatedAt":"2025-12-30T12:01:49","Actor":"harshit7962","Number":"11341","RawContent":null,"Title":"Fix Fluent in Windows 10","State":"closed","Body":"Fixes #11277 \r\n\r\n## Description\r\nThe default window background is transparent, and backdrop material is applied to the window based on the developer‚Äôs preference. However, Windows 10 does not support backdrop materials, which results in incorrect window rendering and leads to a arid Fluent experience.\r\nThis change overrides the default window background value based on the selected backdrop preference and the OS the application is running on. Additionally, it listens for HC theme changes, since backdrop materials should not be applied when HC themes are enabled.\r\n\r\n<!-- Give a brief summary of the issue and how the pull request is fixing it. -->\r\n\r\n## Customer Impact\r\nUsers will be able to seamlessly use Fluent‚Äëthemed applications on Windows 10, while developers retain the ability to use backdrop materials on Windows 11 without compromise.\r\n<!-- What is the impact to customers of not taking this fix? -->\r\n\r\n## Regression\r\nYes\r\n<!-- Is this fixing a problem that was introduced in the most recent release, ie., fixing a regression? -->\r\n\r\n## Testing\r\nLocal Build Pass\r\nTested the Application in windows 10\r\n\r\n## Images\r\nThese are from a Windows 10 VM\r\n**Light Mode:**\r\n<img width=\"1056\" height=\"672\" alt=\"image\" src=\"https://github.com/user-attachments/assets/463dbaa7-acff-4f66-9682-50b28556a7cf\" />\r\n\r\n**Dark Mode:**\r\n<img width=\"917\" height=\"597\" alt=\"image\" src=\"https://github.com/user-attachments/assets/06b37095-9607-4038-9dca-844befebbaf9\" />\r\n\r\n\r\n\r\n<!-- What kind of testing has been done with the fix. -->\r\n\r\n## Risk\r\nLow, fixes of similar kind are already in release/9.0 branch.\r\n<!-- Please assess the risk of taking this fix. Provide details backing up your assessment. -->\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11341)","Url":"https://github.com/dotnet/wpf/pull/11341","RelatedDescription":"Closed or merged PR \"Fix Fluent in Windows 10\" (#11341)"},{"Id":"3764215475","IsPullRequest":true,"CreatedAt":"2025-12-30T04:50:22","Actor":"dotnet-maestro[bot]","Number":"11338","RawContent":null,"Title":"[release/9.0] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\n\n[marker]: <> (Begin:2bde0aa3-7165-43c9-100b-08dcbc30275f)\n## From https://github.com/dotnet/arcade\n- **Subscription**: [2bde0aa3-7165-43c9-100b-08dcbc30275f](https://maestro.dot.net/subscriptions?search=2bde0aa3-7165-43c9-100b-08dcbc30275f)\n- **Build**: [20251226.6](https://dev.azure.com/dnceng/internal/_build/results?buildId=2867608) ([295621](https://maestro.dot.net/channel/5175/github:dotnet:arcade/build/295621))\n- **Date Produced**: December 26, 2025 6:06:19 PM UTC\n- **Commit**: [ab5773ac30dce73227fa1dff6bf1a21eea67cbd0](https://github.com/dotnet/arcade/commit/ab5773ac30dce73227fa1dff6bf1a21eea67cbd0)\n- **Branch**: [release/9.0](https://github.com/dotnet/arcade/tree/release/9.0)\n\n[DependencyUpdate]: <> (Begin)\n\n- **Dependency Updates**:\n  - From [9.0.0-beta.25611.4 to 9.0.0-beta.25626.6][1]\n     - Microsoft.DotNet.Arcade.Sdk\n     - Microsoft.DotNet.CodeAnalysis\n     - Microsoft.DotNet.GenAPI\n     - Microsoft.DotNet.Helix.Sdk\n\n[1]: https://github.com/dotnet/arcade/compare/e9983e548f...ab5773ac30\n\n[DependencyUpdate]: <> (End)\n\n\n[marker]: <> (End:2bde0aa3-7165-43c9-100b-08dcbc30275f)\n\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/11338)","Url":"https://github.com/dotnet/wpf/pull/11338","RelatedDescription":"Closed or merged PR \"[release/9.0] Update dependencies from dotnet/arcade\" (#11338)"},{"Id":"3757075740","IsPullRequest":false,"CreatedAt":"2025-12-23T11:33:13","Actor":"AloisKraus","Number":"11337","RawContent":null,"Title":"WPF leaks ElementProxy instances when UI Automation is used","State":"open","Body":"### Description\n\nThis happens with .NET 4.8 up to .NET 10. \nSample with binaries is attached which can be compiled to either platform.\nThis issue makes memory leak and performance trending nearly impossible if UI Automation is used.\n[WPFAutomationLeak.zip](https://github.com/user-attachments/files/24312886/WPFAutomationLeak.zip)\n\nThe root cause are leaks in RefCounted CCWs (ElementProxy) where the RefCount never drops to zero:\n```\n   000001de47c48118 (ref counted handle **2**)\n      -> 01be2fbc11f0     MS.Internal.Automation.ElementProxy \n      -> 01be2fbbe6c8     System.Windows.Automation.Peers.DataGridCellItemAutomationPeer \n      -> 01be692d6e60     System.Windows.EffectiveValueEntry[] \n   ...\n      -> 01be690c7a38     System.Collections.Generic.List<System.Windows.DependencyObject> \n      -> 01be690c7a58     System.Windows.DependencyObject[] \n      -> 01be690c8310     System.Windows.Controls.Grid \n```\n\nHow should one write a leak free regression tester which uses UI Automation? \n\n### Reproduction Steps\n\nStart \n   WPFUI.exe\nThen start\n  WPFAutomationClient.exe\nand watch memory growth in WPFUI.exe which is the problem. The client process leaks as well. \n\n<img width=\"1098\" height=\"818\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/7365a70f-9977-4939-a443-2bf20ed5c902\" />\n\n\n### Expected behavior\n\nNo leaks in WPFUI process. \n\n### Actual behavior\n\nWPFUI leaks all UI elements because UI Automation creates ElementProxy instances which are COM Callable wrappers (CCWs) which keep the UI elements alive forever. \nThe client code is just calling \n\n```\n   foreach (var proc in processes)\n   {\n       var handle = proc.MainWindowHandle;\n       for (int i = 0; i < 1000; i++)\n       {\n           var el = AutomationElement.FromHandle(handle);\n           var childs = el.FindAll(System.Windows.Automation.TreeScope.Descendants, Condition.TrueCondition);\n           Console.WriteLine($\"{i}: Childs: {childs.Count}\");\n           foreach (AutomationElement child in childs)\n           {\n               var tmp = child.Current.AutomationId;\n           }\n       }\n   }\n```\nI do not see what I can do at client side to get rid of the leak. \n\n\n### Regression?\n\nNo it is there since .NET 4.8\n\n### Known Workarounds\n\nIn WPF UI one can forcefully disconnect all Automationproviders with \n\n```\n  [DllImport(\"UIAutomationCore.dll\", CharSet = CharSet.Unicode, ExactSpelling = true)]\n  private static extern int UiaDisconnectAllProviders();\n```\n\nThis is shown in repro sample with \n```\nWPFUI.exe -disconnect    \nWPFAutomationClient.exe -disconect \n```\n\nThis works to some extent but needs coordination with a shared mutex between automation client and WPF application. Otherwise UI automation will randomly fail with some exception. \nWith that the leak at least in the WPF UI does not happen:\n\n<img width=\"504\" height=\"749\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/757af1c1-f4bb-429d-a344-9aa399a73dc3\" />\n\n\n\n### Impact\n\nCurrently it is not possible to test WPF/WinForms application with UI Automation in a leak free way. This prevents early detection of memory leaks.\n\nWe have tried to work around by forecefully deleting our own UI Automation objects via [UiaDisconnectProvider ](https://learn.microsoft.com/en-us/windows/win32/api/uiautomationcoreapi/nf-uiautomationcoreapi-uiadisconnectprovider). That works only for our own UI Automation provider objects but since we leak thousands of Automation providers from WPF which do not do this we suffer since then a massive performance degradation when removing one instance from a huge list of leaked objects.\nThis is getting prohibitively expensive from a runtime point of view and hampers performance regression testing. \n\nHow can one call UI Automation without causing major leaks in target application? \n\n### Other information\n\nThis seems similar to the WinForms issue which was backported .NET 4.8 in 2022\n\n- https://github.com/dotnet/winforms/issues/3182\n\nYou can run the UI without updates `WPFUI -noupdate` to see how the RefCount of the CCWs increases with every iteration.\nAfter e.g. 30 iterations of you find in the dump\n\n```\n el.FindAll(System.Windows.Automation.TreeScope.Descendants, Condition.TrueCondition);\n\n 000001de47c48118 (ref counted handle **30**)\n      -> 01be2fbc11f0     MS.Internal.Automation.ElementProxy \n```\n\nTo me there seems some COM Refcount decrease at client side missing. \n\nCould the Windows Sample be helpful?\n\n - https://github.com/microsoft/Windows-classic-samples/blob/main/Samples/UIAutomationCleanShutdown/cpp/UiaCleanShutdownControl/UiaCleanShutdownControl.cpp\n","Url":"https://github.com/dotnet/wpf/issues/11337","RelatedDescription":"Open issue \"WPF leaks ElementProxy instances when UI Automation is used\" (#11337)"}],"ResultType":"GitHubIssue"}},"RunOn":"2026-01-19T03:30:31.911049Z","RunDurationInMilliseconds":500}