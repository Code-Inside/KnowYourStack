{"Data":{"GitHub":{"Issues":[{"Id":"636635388","IsPullRequest":false,"CreatedAt":"2020-06-11T00:35:30","Actor":"TrevorFellman-MSFT","Number":"3122","RawContent":null,"Title":"WPF should clean up temp dictionary files it creates when the app sets Custom Dictionaries on text controls","State":"open","Body":"* .NET Core Version: (5.0.100-preview.2.20176.6/.NET 4.5.2+)\r\n* Windows version: (Win 10 2004/Win8+`)\r\n* Does the bug reproduce also in WPF for .NET Framework 4.8?: Yes\r\n\r\n \r\n **Problem description:**\r\n This is an adoption problem moving from Win7 to Win10\r\nThis does not repro on Win7 with the old spellcheck libraries.\r\n\r\nwhen you add the same dictionary to every edit box in your app, a separate custom dictionary is registered for each one in %LocalAppData%\\Temp\\WPF, and causes perf issues, when we really just want all the edit boxes to use the same custom dictionary.\r\n\r\nWe can work around this issues by removing the code/xaml using WPF's custom dictionary support and instead using the Windows convention of putting in a *.dic file in %AppData%\\Microsoft\\Spelling with the app installer.\r\n\r\nrepro is as simple as...\r\n\r\nprivate void MainWindow_Loaded(object sender, RoutedEventArgs e)\r\n{\r\nStackPanel stackPanel = new StackPanel();\r\n\r\n        for (int i = 0; i < 100; i++)\r\n        {\r\n            var textBox = new TextBox();\r\n            textBox.Text = \"Hello World.\";\r\n            SpellCheck.SetIsEnabled(textBox, true);\r\n            var dictionaries = SpellCheck.GetCustomDictionaries(textBox);\r\n            dictionaries.Add(new Uri(@\"pack://application:,,,/WpfDictPerf;component/CustomDictionary.lex\"));\r\n           \r\n            stackPanel.Children.Add(textBox);\r\n        }\r\n\r\n        this.Content = stackPanel;\r\n    }\r\n\r\n\r\n **Actual behavior:** \r\n1. App takes many seconds longer to open\r\n2. a duplicate *.dic file is created for each textbox (even though the same spellchecker object is used, so one dictionary file applies to all TextBoxes)\r\n3. *.dic files may be leaked and not deleted, ever causing the system to run out of disk space over time\r\n \r\n **Expected behavior:**\r\n1. App opens as fast as if no custom dictionaries are used\r\n2. Only one new dictionary file is created\r\n3. Orphaned Files are cleaned up next time the app is run\r\n\r\n\r\n **Minimal repro:**\r\n[WpfDictPerf.zip](https://github.com/dotnet/wpf/files/4761906/WpfDictPerf.zip)\r\n\r\n1.  Run attached WPFDictPerf\r\n2.  Open %LocalAppData%\\Temp\\WPF\r\n3.  Stop debugging\r\n4.  Run WPFDictPerf again\r\n","Url":"https://github.com/dotnet/wpf/issues/3122","RelatedDescription":"Open issue \"WPF should clean up temp dictionary files it creates when the app sets Custom Dictionaries on text controls\" (#3122)"},{"Id":"636616759","IsPullRequest":false,"CreatedAt":"2020-06-10T23:48:29","Actor":"TrevorFellman-MSFT","Number":"3121","RawContent":null,"Title":"Adding Custom Dictionaries to WPF controls can cause perf issues by registering the same dictionary multiple times.","State":"open","Body":"This is an adoption problem moving from Win7 to Win10\r\nThis does not repro on Win7 with the old spellcheck libraries.\r\n\r\nwhen you add the same dictionary to every edit box in your app, a separate custom dictionary is registered for each one in  %LocalAppData%\\Temp\\WPF, and causes perf issues, when we really just want all the edit boxes to use the same custom dictionary.\r\n\r\nWe can work around this issues by removing the code/xaml using WPF's custom dictionary support and instead using the Windows convention of putting in a *.dic file in  %AppData%\\Microsoft\\Spelling with the app installer.\r\n\r\n\r\nrepro is as simple as...\r\n\r\nprivate void MainWindow_Loaded(object sender, RoutedEventArgs e)\r\n        {\r\n            StackPanel stackPanel = new StackPanel();\r\n\r\n            for (int i = 0; i < 100; i++)\r\n            {\r\n                var textBox = new TextBox();\r\n                textBox.Text = \"Hello World.\";\r\n                SpellCheck.SetIsEnabled(textBox, true);\r\n                var dictionaries = SpellCheck.GetCustomDictionaries(textBox);\r\n                dictionaries.Add(new Uri(@\"pack://application:,,,/WpfDictPerf;component/CustomDictionary.lex\"));\r\n               \r\n                stackPanel.Children.Add(textBox);\r\n            }\r\n\r\n            this.Content = stackPanel;\r\n        }\r\n\r\nAnd this may take 30+ seconds to open.\r\n\r\nPart of the problem is how WPF converts the *.lex file into a *.dic file for Windows.\r\n\r\nSteps to reproduce:\r\n=============\r\n[WpfDictPerf.zip](https://github.com/dotnet/wpf/files/4761762/WpfDictPerf.zip)\r\n\r\n1.  Run attached WPFDictPerf\r\n2.  Open %LocalAppData%\\Temp\\WPF\r\n\r\nExpected Results\r\n===========\r\n1. App opens as fast as if no custom dictionaries are used\r\n2. Only one new dictionary file is created\r\n\r\n\r\nActual Results\r\n=========\r\n1. App takes many seconds longer to open\r\n2. a duplicate *.dic file is created for each textbox (even though the same spellchecker object is used, so one dictionary file applies to all TextBoxes)\r\n","Url":"https://github.com/dotnet/wpf/issues/3121","RelatedDescription":"Open issue \"Adding Custom Dictionaries to WPF controls can cause perf issues by registering the same dictionary multiple times.\" (#3121)"},{"Id":"636609147","IsPullRequest":true,"CreatedAt":"2020-06-10T23:25:51","Actor":"ryalanms","Number":"3120","RawContent":null,"Title":".NET Core WPF Build error on custom BaseIntermediateOutputPath #1718","State":"open","Body":"Reviving the simplest of the proposed fixes for the BaseIntermediateOutputPath issue for comments.   (.NET standard's Path.GetRelativePath is one of the alternatives.)\r\n\r\nBuilding WPF applications using .NET Framework and .NET Core with various custom BaseIntermediateOutputPaths on different drives works as expected.  \r\n\r\nNote that PresentationBuildTasks.dll is built and consumed by both .NET Framework and .NET Core.   ","Url":"https://github.com/dotnet/wpf/pull/3120","RelatedDescription":"Open PR \".NET Core WPF Build error on custom BaseIntermediateOutputPath #1718\" (#3120)"},{"Id":"634999893","IsPullRequest":true,"CreatedAt":"2020-06-10T18:06:58","Actor":"ryalanms","Number":"3101","RawContent":null,"Title":"Replace hardcoded backslashes with Path.DirectorySeparatorChar and fix WinFX casing (daviddenis-stx, Nirmal4G, PaulEremeeff)","State":"closed","Body":"This includes @daviddenis-stx's Path.DirectorySeparatorChar fixes and the first two commits from @Nirmal4G and @PaulEremeeff to fix WinFX casing. (Thank you!)\r\n\r\nThe issue is described in more detail in PRs #2877 and #2975.","Url":"https://github.com/dotnet/wpf/pull/3101","RelatedDescription":"Closed or merged PR \"Replace hardcoded backslashes with Path.DirectorySeparatorChar and fix WinFX casing (daviddenis-stx, Nirmal4G, PaulEremeeff)\" (#3101)"},{"Id":"636236924","IsPullRequest":true,"CreatedAt":"2020-06-10T13:30:00","Actor":"dotnet-maestro[bot]","Number":"3119","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Subscription**: 46a15fe4-6c2c-480d-9cdd-08d71053b252\r\n- **Build**: 20200610.2\r\n- **Date Produced**: 6/10/2020 1:04 PM\r\n- **Commit**: 63d7af8eb1af1cb88ab655ae02fde4e264b67d96\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng**: from 5.0.0-preview.7.20309.2 to 5.0.0-preview.7.20310.2\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3119","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#3119)"},{"Id":"635998496","IsPullRequest":true,"CreatedAt":"2020-06-10T07:32:39","Actor":"dotnet-maestro[bot]","Number":"3118","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 256c8be3-de58-46f5-d219-08d6ba11f126\r\n- **Build**: 20200609.5\r\n- **Date Produced**: 6/10/2020 7:13 AM\r\n- **Commit**: 46f1d69fb11c8169ccb1859ef839569c02a6b4f4\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms**: from 5.0.0-preview.7.20309.3 to 5.0.0-preview.7.20309.5\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3118","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#3118)"},{"Id":"635641524","IsPullRequest":true,"CreatedAt":"2020-06-10T00:00:18","Actor":"wli3","Number":"3111","RawContent":null,"Title":"Shuffle property location","State":"closed","Body":"Remake of https://github.com/dotnet/wpf/pull/2869 due to CI issues","Url":"https://github.com/dotnet/wpf/pull/3111","RelatedDescription":"Closed or merged PR \"Shuffle property location\" (#3111)"},{"Id":"635770808","IsPullRequest":true,"CreatedAt":"2020-06-09T21:27:56","Actor":"GrabYourPitchforks","Number":"3117","RawContent":null,"Title":"Remove custom copy of PtrToStringChars","State":"open","Body":"This PR removes WPF's custom implementation of `PtrToStringChars` in favor of the built-in version. The custom version was originally introduced to work around CAS performance issues. However, since Core did not bring any of the CAS infrastructure forward, there's no need for the custom copy.\r\n\r\nRelated: https://github.com/dotnet/runtime/issues/31406","Url":"https://github.com/dotnet/wpf/pull/3117","RelatedDescription":"Open PR \"Remove custom copy of PtrToStringChars\" (#3117)"},{"Id":"635674621","IsPullRequest":false,"CreatedAt":"2020-06-09T18:45:38","Actor":"SamBent","Number":"3116","RawContent":null,"Title":"WPF app crash in EnsureChildren() with Null Reference Exception","State":"open","Body":"Content in a list control (DataGrid, ListBox, etc.) is cleaned when leaving the visual tree.  In some circumstances, the cleaning can raise automation events, which causes COM to start a nested message pump.  If this happens to see a WM_SIZE message, the resulting layout pass and subsequent rebuild of the automation tree can happen while the visual tree is in a torn state (visual children lists in the process of being cleared can contain nulls).  Some automation peers aren't prepared for this, and NRE.\r\n\r\n[Port of servicing fix for .NET 4.7-4.8]","Url":"https://github.com/dotnet/wpf/issues/3116","RelatedDescription":"Open issue \"WPF app crash in EnsureChildren() with Null Reference Exception\" (#3116)"},{"Id":"635665385","IsPullRequest":false,"CreatedAt":"2020-06-09T18:29:10","Actor":"SamBent","Number":"3115","RawContent":null,"Title":"DocumentViewer cannot select all multi-line sentence of Japanese which is contained in one TextBox.","State":"open","Body":"When loading certain XPS documents, bugs in the construction of FixedPage's \"semantic object model\" lead to incorrect ordering of text runs, causing editing operations like selection and copy to omit part of the text or include it in the wrong order.\r\n\r\n[Port of servicing fix for .NET 4.7-4.8]","Url":"https://github.com/dotnet/wpf/issues/3115","RelatedDescription":"Open issue \"DocumentViewer cannot select all multi-line sentence of Japanese which is contained in one TextBox.\" (#3115)"},{"Id":"635661861","IsPullRequest":false,"CreatedAt":"2020-06-09T18:23:09","Actor":"SamBent","Number":"3114","RawContent":null,"Title":"WPF is creating and formatting stack traces when removing HwndSource from visual tree","State":"open","Body":"Removing an HwndSource from the visual tree exercises logic that was recently augmented to help track down an unexplained crash.  The new logic creates a stack trace, but does even in the normal case, causing a non-trivial perf hit for no reason.\r\n\r\n[Port of servicing fix for .NET 4.8.]","Url":"https://github.com/dotnet/wpf/issues/3114","RelatedDescription":"Open issue \"WPF is creating and formatting stack traces when removing HwndSource from visual tree\" (#3114)"},{"Id":"635655674","IsPullRequest":false,"CreatedAt":"2020-06-09T18:13:08","Actor":"SamBent","Number":"3113","RawContent":null,"Title":"Copying data from WPF DataGrid crashes application with error \"(CLIPBRD_E_CANT_OPEN)\"","State":"open","Body":"DataGrid copy command crashes if some other process has locked the clipboard.\r\n\r\nThe standard behavior (in TextBox and other apps like Word, Notepad, etc.) is to fail silently - no copy, but no crash.\r\n\r\n[Port of servicing fix for .NET 4.5.2-4.8]","Url":"https://github.com/dotnet/wpf/issues/3113","RelatedDescription":"Open issue \"Copying data from WPF DataGrid crashes application with error \"(CLIPBRD_E_CANT_OPEN)\"\" (#3113)"},{"Id":"635652139","IsPullRequest":false,"CreatedAt":"2020-06-09T18:06:46","Actor":"SamBent","Number":"3112","RawContent":null,"Title":"Tooltip crash [Watson] clr20r3: NULL_POINTER_READ_c0000005_PresentationFramework.dll!System.Windows.Controls.PopupControlService.OnPostProcessInput","State":"open","Body":"NRE when closing tooltips in some situations, due to re-entrancy.\r\n\r\n[Port of servicing fix for .NET 4.8]","Url":"https://github.com/dotnet/wpf/issues/3112","RelatedDescription":"Open issue \"Tooltip crash [Watson] clr20r3: NULL_POINTER_READ_c0000005_PresentationFramework.dll!System.Windows.Controls.PopupControlService.OnPostProcessInput\" (#3112)"},{"Id":"635412037","IsPullRequest":true,"CreatedAt":"2020-06-09T13:13:54","Actor":"dotnet-maestro[bot]","Number":"3110","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n- **Microsoft.Win32.Registry**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8 (parent: Microsoft.Private.Winforms)\r\n- **System.CodeDom**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8 (parent: Microsoft.Private.Winforms)\r\n- **System.Configuration.ConfigurationManager**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8 (parent: Microsoft.Private.Winforms)\r\n- **System.Diagnostics.EventLog**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8 (parent: Microsoft.Private.Winforms)\r\n- **System.DirectoryServices**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8 (parent: Microsoft.Private.Winforms)\r\n- **System.Drawing.Common**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8 (parent: Microsoft.Private.Winforms)\r\n- **System.Reflection.MetadataLoadContext**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8 (parent: Microsoft.Private.Winforms)\r\n- **System.Security.AccessControl**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8 (parent: Microsoft.Private.Winforms)\r\n- **System.Security.Cryptography.Xml**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8 (parent: Microsoft.Private.Winforms)\r\n- **System.Security.Permissions**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8 (parent: Microsoft.Private.Winforms)\r\n- **System.Security.Principal.Windows**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8 (parent: Microsoft.Private.Winforms)\r\n- **System.Windows.Extensions**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.Platforms**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8 (parent: Microsoft.Private.Winforms)\r\n- **System.IO.Packaging**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.ILDAsm**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.ILAsm**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8 (parent: Microsoft.Private.Winforms)\r\n- **System.Resources.Extensions**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App.Internal**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8 (parent: Microsoft.Private.Winforms)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 256c8be3-de58-46f5-d219-08d6ba11f126\r\n- **Build**: 20200609.3\r\n- **Date Produced**: 6/9/2020 12:54 PM\r\n- **Commit**: 8d38a28fbcc2854c06f9deb8bc78b35b83ed43e1\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms**: from 5.0.0-preview.7.20309.2 to 5.0.0-preview.7.20309.3\r\n  - **Microsoft.Win32.Registry**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8\r\n  - **System.CodeDom**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8\r\n  - **System.Configuration.ConfigurationManager**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8\r\n  - **System.Diagnostics.EventLog**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8\r\n  - **System.DirectoryServices**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8\r\n  - **System.Drawing.Common**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8\r\n  - **System.Reflection.MetadataLoadContext**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8\r\n  - **System.Security.AccessControl**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8\r\n  - **System.Security.Cryptography.Xml**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8\r\n  - **System.Security.Permissions**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8\r\n  - **System.Security.Principal.Windows**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8\r\n  - **System.Windows.Extensions**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8\r\n  - **Microsoft.NETCore.Platforms**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8\r\n  - **System.IO.Packaging**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8\r\n  - **Microsoft.NETCore.ILDAsm**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8\r\n  - **Microsoft.NETCore.ILAsm**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8\r\n  - **System.Resources.Extensions**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8\r\n  - **Microsoft.NETCore.App.Internal**: from 5.0.0-preview.7.20307.4 to 5.0.0-preview.7.20308.8\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3110","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#3110)"},{"Id":"635401788","IsPullRequest":true,"CreatedAt":"2020-06-09T13:05:15","Actor":"dotnet-maestro[bot]","Number":"3109","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Subscription**: 46a15fe4-6c2c-480d-9cdd-08d71053b252\r\n- **Build**: 20200609.2\r\n- **Date Produced**: 6/9/2020 12:39 PM\r\n- **Commit**: 5741b811e51fec642c788c01f705defd8300e81c\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng**: from 5.0.0-preview.7.20308.2 to 5.0.0-preview.7.20309.2\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3109","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#3109)"},{"Id":"635350537","IsPullRequest":true,"CreatedAt":"2020-06-09T11:57:36","Actor":"dotnet-maestro[bot]","Number":"3108","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 256c8be3-de58-46f5-d219-08d6ba11f126\r\n- **Build**: 20200609.2\r\n- **Date Produced**: 6/9/2020 11:24 AM\r\n- **Commit**: de01b4ec947267212e446bfc698beafb7230a5c9\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms**: from 5.0.0-preview.7.20308.12 to 5.0.0-preview.7.20309.2\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3108","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#3108)"},{"Id":"635150955","IsPullRequest":true,"CreatedAt":"2020-06-09T06:58:25","Actor":"dotnet-maestro[bot]","Number":"3107","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 256c8be3-de58-46f5-d219-08d6ba11f126\r\n- **Build**: 20200608.12\r\n- **Date Produced**: 6/9/2020 6:14 AM\r\n- **Commit**: 4716b3e339f07085921d9e2fd1c0a4af2d6e3aec\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms**: from 5.0.0-preview.7.20308.10 to 5.0.0-preview.7.20308.12\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3107","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#3107)"},{"Id":"635139848","IsPullRequest":true,"CreatedAt":"2020-06-09T06:32:22","Actor":"dotnet-maestro[bot]","Number":"3106","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 256c8be3-de58-46f5-d219-08d6ba11f126\r\n- **Build**: 20200608.9\r\n- **Date Produced**: 6/9/2020 5:57 AM\r\n- **Commit**: 75f13d7841a43abf67db4a6b78820e8b26ea96b2\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms**: from 5.0.0-preview.7.20308.8 to 5.0.0-preview.7.20308.9\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3106","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#3106)"},{"Id":"635129504","IsPullRequest":false,"CreatedAt":"2020-06-09T05:45:57","Actor":"Perpete","Number":"3105","RawContent":null,"Title":"Positioning a window in WPF (Top and Left Properties) with dpiAwareness in PerMonitorV2 mode","State":"open","Body":"Hello,\r\n\r\nFor a WPF project in VB, I retrieve the mouse coordinates using a Hook mouse (MSLLHOOKSTRUCT) to display a window on the desktop according to the selection rectangle defined by the user.\r\nI noticed that the mouse coordinates do not take into account the screen scales. \r\nIs this normal?\r\nSo, I had to retrieve this scale using the GetDpiForMonitor API and created a manifest file with DPI recognition per screen.\r\n<dpiAwareness xmlns = “https://schemas.microsoft.com/SMI/2016/WindowsSettings”> PerMonitorV2 </dpiAwareness>.\r\nIn a test project, I noticed problems with the bad positioning of my window in relation to the placement request.\r\nHere are my tests with the Left property of a window:\r\nScreen resolution 1: 1680x1050\r\nScreen resolution 2: 1600x900\r\n\r\nScreen 1 = 100% - Screen 2 = 150%.**\r\nWindow on screen 1, asks to switch to screen 2\r\nAsk left = 1680 after moving : left = 1120 on screen 2\r\nThe left was divided by 1.5 after the move.\r\n\r\nWindow on screen 2, asks to switch to screen 1\r\nAsk left = 100 after moving : left = 150 on screen 1\r\nThe left was multiplied by 1.5 after the move.\r\n\r\nScreen 1 = 150% - Screen 2 = 100%.\r\nWindow on screen 1, asks to switch to screen 2\r\nAsk left = 1680 after moving : left = 2520 on screen 2\r\nThe left was multiplied by 1.5 after the move.\r\n\r\nWindow on screen 2, asks to switch to screen 1\r\nAsk left = 100 after moving : left = 66.66 on screen 1\r\nThe left was divided by 1.5 after the move.\r\n\r\nIs this management of the values of the positioning properties correct?\r\nThese requested positions do not correspond to the physical position where I want to place my window.\r\nWithout DPI recognition per screen, the positioning of the window respects the requested coordinates. The Top and Left properties do not change despite the different scales.\r\n\r\nYou can perform the test using the program contained in the zip file.\r\n\r\n![Left_Window](https://user-images.githubusercontent.com/66659162/84110365-06a1cb80-aa25-11ea-80bd-e7cbac59e4e5.png)\r\n\r\n[WpfApp2.zip](https://github.com/dotnet/wpf/files/4751287/WpfApp2.zip)\r\n\r\n","Url":"https://github.com/dotnet/wpf/issues/3105","RelatedDescription":"Open issue \"Positioning a window in WPF (Top and Left Properties) with dpiAwareness in PerMonitorV2 mode\" (#3105)"},{"Id":"635088776","IsPullRequest":true,"CreatedAt":"2020-06-09T04:09:46","Actor":"dotnet-maestro[bot]","Number":"3104","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 256c8be3-de58-46f5-d219-08d6ba11f126\r\n- **Build**: 20200608.8\r\n- **Date Produced**: 6/9/2020 3:38 AM\r\n- **Commit**: ae76acf1d8b900a73701a05011f447535574d8f5\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms**: from 5.0.0-preview.7.20308.6 to 5.0.0-preview.7.20308.8\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3104","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#3104)"},{"Id":"635067626","IsPullRequest":true,"CreatedAt":"2020-06-09T03:00:31","Actor":"dotnet-maestro[bot]","Number":"3103","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n- **Microsoft.Win32.Registry**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4 (parent: Microsoft.Private.Winforms)\r\n- **System.CodeDom**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4 (parent: Microsoft.Private.Winforms)\r\n- **System.Configuration.ConfigurationManager**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4 (parent: Microsoft.Private.Winforms)\r\n- **System.Diagnostics.EventLog**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4 (parent: Microsoft.Private.Winforms)\r\n- **System.DirectoryServices**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4 (parent: Microsoft.Private.Winforms)\r\n- **System.Drawing.Common**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4 (parent: Microsoft.Private.Winforms)\r\n- **System.Reflection.MetadataLoadContext**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4 (parent: Microsoft.Private.Winforms)\r\n- **System.Security.AccessControl**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4 (parent: Microsoft.Private.Winforms)\r\n- **System.Security.Cryptography.Xml**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4 (parent: Microsoft.Private.Winforms)\r\n- **System.Security.Permissions**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4 (parent: Microsoft.Private.Winforms)\r\n- **System.Security.Principal.Windows**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4 (parent: Microsoft.Private.Winforms)\r\n- **System.Windows.Extensions**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.Platforms**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4 (parent: Microsoft.Private.Winforms)\r\n- **System.IO.Packaging**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.ILDAsm**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.ILAsm**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4 (parent: Microsoft.Private.Winforms)\r\n- **System.Resources.Extensions**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App.Internal**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4 (parent: Microsoft.Private.Winforms)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 256c8be3-de58-46f5-d219-08d6ba11f126\r\n- **Build**: 20200608.6\r\n- **Date Produced**: 6/9/2020 2:29 AM\r\n- **Commit**: 65156e69cae116d6cb2a92ebc5a96dbc0c2ae4ce\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms**: from 5.0.0-preview.7.20308.5 to 5.0.0-preview.7.20308.6\r\n  - **Microsoft.Win32.Registry**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4\r\n  - **System.CodeDom**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4\r\n  - **System.Configuration.ConfigurationManager**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4\r\n  - **System.Diagnostics.EventLog**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4\r\n  - **System.DirectoryServices**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4\r\n  - **System.Drawing.Common**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4\r\n  - **System.Reflection.MetadataLoadContext**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4\r\n  - **System.Security.AccessControl**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4\r\n  - **System.Security.Cryptography.Xml**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4\r\n  - **System.Security.Permissions**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4\r\n  - **System.Security.Principal.Windows**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4\r\n  - **System.Windows.Extensions**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4\r\n  - **Microsoft.NETCore.Platforms**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4\r\n  - **System.IO.Packaging**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4\r\n  - **Microsoft.NETCore.ILDAsm**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4\r\n  - **Microsoft.NETCore.ILAsm**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4\r\n  - **System.Resources.Extensions**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4\r\n  - **Microsoft.NETCore.App.Internal**: from 5.0.0-preview.7.20306.3 to 5.0.0-preview.7.20307.4\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3103","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#3103)"},{"Id":"635032788","IsPullRequest":true,"CreatedAt":"2020-06-09T01:22:56","Actor":"dotnet-maestro[bot]","Number":"3102","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 256c8be3-de58-46f5-d219-08d6ba11f126\r\n- **Build**: 20200608.5\r\n- **Date Produced**: 6/9/2020 12:58 AM\r\n- **Commit**: d4cfc2d9d6cb20984761fc0cf5eb8efd70c2d810\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms**: from 5.0.0-preview.7.20307.1 to 5.0.0-preview.7.20308.5\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3102","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#3102)"},{"Id":"634823615","IsPullRequest":false,"CreatedAt":"2020-06-08T18:05:19","Actor":"SamBent","Number":"3100","RawContent":null,"Title":"WPF App crashes due to COMException (UCEERR_RENDERTHREADFAILURE) from System.Windows.Media.Composition.DUCE.Channel.SyncFlush","State":"open","Body":" Problem description:  HostVisual interacts with its rendering channel on the wrong thread.  This can lead to render thread failures, perhaps minutes or hours after the bad interaction.\r\n\r\n[Port of servicing fix for .NET 4.7-4.8]","Url":"https://github.com/dotnet/wpf/issues/3100","RelatedDescription":"Open issue \"WPF App crashes due to COMException (UCEERR_RENDERTHREADFAILURE) from System.Windows.Media.Composition.DUCE.Channel.SyncFlush\" (#3100)"},{"Id":"634787033","IsPullRequest":false,"CreatedAt":"2020-06-08T17:02:52","Actor":"SamBent","Number":"3099","RawContent":null,"Title":"WPF TextBlock FailFast in System.Windows.Controls.TextBlock.IsAtCaretUnitBoundary when TextWrapping=\"Wrap\" and inconsistent text display (missing text)","State":"open","Body":"Problem description:  In TextBlock with word-wrapping, certain strings lead to disappearing text, and FailFast exceptions during editing operations.\r\n \r\n[Port of servicing bug for .NET 4.7-4.8]","Url":"https://github.com/dotnet/wpf/issues/3099","RelatedDescription":"Open issue \"WPF TextBlock FailFast in System.Windows.Controls.TextBlock.IsAtCaretUnitBoundary when TextWrapping=\"Wrap\" and inconsistent text display (missing text)\" (#3099)"},{"Id":"634600065","IsPullRequest":true,"CreatedAt":"2020-06-08T13:37:23","Actor":"dotnet-maestro[bot]","Number":"3098","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Subscription**: 46a15fe4-6c2c-480d-9cdd-08d71053b252\r\n- **Build**: 20200608.2\r\n- **Date Produced**: 6/8/2020 1:00 PM\r\n- **Commit**: aa44e416a93dcf7762bb8d140db4c15b684df8cc\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng**: from 5.0.0-preview.7.20307.2 to 5.0.0-preview.7.20308.2\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3098","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#3098)"},{"Id":"634300750","IsPullRequest":false,"CreatedAt":"2020-06-08T07:37:53","Actor":"sonnemaf","Number":"3097","RawContent":null,"Title":"Add Microsoft.Expression.Drawing","State":"open","Body":"Can the source code of Microsoft.Expression.Drawing be added to this (or another OSS) repository. It contains Shapes classes like: Arc, Arrows, Callouts, Hexagon, Pentagon, Ring, Star and triangle. \r\n\r\nI would love to have them in .NET Core and WinUI too.\r\n\r\n![image](https://user-images.githubusercontent.com/9335559/84004285-9b47f300-a96b-11ea-9759-caf8b1238dac.png)\r\n","Url":"https://github.com/dotnet/wpf/issues/3097","RelatedDescription":"Open issue \"Add Microsoft.Expression.Drawing\" (#3097)"},{"Id":"633399088","IsPullRequest":true,"CreatedAt":"2020-06-07T13:26:39","Actor":"dotnet-maestro[bot]","Number":"3096","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Subscription**: 46a15fe4-6c2c-480d-9cdd-08d71053b252\r\n- **Build**: 20200607.2\r\n- **Date Produced**: 6/7/2020 1:00 PM\r\n- **Commit**: e3980c71cd3e5616757256bd93d6c28a4f06350f\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng**: from 5.0.0-preview.7.20306.2 to 5.0.0-preview.7.20307.2\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3096","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#3096)"},{"Id":"632452869","IsPullRequest":true,"CreatedAt":"2020-06-06T13:25:11","Actor":"dotnet-maestro[bot]","Number":"3095","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Subscription**: 46a15fe4-6c2c-480d-9cdd-08d71053b252\r\n- **Build**: 20200606.2\r\n- **Date Produced**: 6/6/2020 1:03 PM\r\n- **Commit**: db09cc1f87ae14378cbf9fc0e39d7e6db6ad993c\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng**: from 5.0.0-preview.7.20305.2 to 5.0.0-preview.7.20306.2\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3095","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#3095)"},{"Id":"632066916","IsPullRequest":true,"CreatedAt":"2020-06-06T00:48:56","Actor":"jkoritzinsky","Number":"3094","RawContent":null,"Title":"[release/5.0-preview6] Remove dependency on built-in WinRT support","State":"closed","Body":"Cherry-pick of https://github.com/dotnet/wpf/pull/3092 to the 5.0 Preview 6 branch to unblock Preview 6.\r\n\r\ncc: @rladuca @fabiant3 @ryalanms @AaronRobinsonMSFT @jeffschwMSFT ","Url":"https://github.com/dotnet/wpf/pull/3094","RelatedDescription":"Closed or merged PR \"[release/5.0-preview6] Remove dependency on built-in WinRT support\" (#3094)"},{"Id":"631574069","IsPullRequest":true,"CreatedAt":"2020-06-05T13:39:25","Actor":"dotnet-maestro[bot]","Number":"3093","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Subscription**: 46a15fe4-6c2c-480d-9cdd-08d71053b252\r\n- **Build**: 20200605.2\r\n- **Date Produced**: 6/5/2020 12:58 PM\r\n- **Commit**: f5ec694dbbee26d69d3e14da6d104a8b24b41db7\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng**: from 5.0.0-preview.7.20304.2 to 5.0.0-preview.7.20305.2\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/3093","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#3093)"}],"ResultType":"GitHubIssue"}},"RunOn":"2020-06-11T05:30:48.5677282Z","RunDurationInMilliseconds":530}