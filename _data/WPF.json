{"Data":{"GitHub":{"Issues":[{"Id":"1064045718","IsPullRequest":true,"CreatedAt":"2021-11-26T02:49:55","Actor":"dotnet-maestro[bot]","Number":"5742","RawContent":null,"Title":"[release/6.0] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:961b62ef-e7eb-4138-0adf-08d961c5a36b)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 961b62ef-e7eb-4138-0adf-08d961c5a36b\r\n- **Build**: 20211111.11\r\n- **Date Produced**: November 12, 2021 2:57:23 AM UTC\r\n- **Commit**: ccdf3563612dde7b63949d257d6ad852da7294df\r\n- **Branch**: refs/heads/release/6.0\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 6.0.0-rtm.21523.1 to 6.0.1-servicing.21561.11][1]\r\n  - **Microsoft.Private.Winforms**: [from 6.0.0-rtm.21523.1 to 6.0.1-servicing.21561.11][1]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/d43e35d...ccdf356\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:961b62ef-e7eb-4138-0adf-08d961c5a36b)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/5742","RelatedDescription":"Closed or merged PR \"[release/6.0] Update dependencies from dotnet/winforms\" (#5742)"},{"Id":"1063662381","IsPullRequest":true,"CreatedAt":"2021-11-25T15:08:40","Actor":"dotnet-maestro[bot]","Number":"5741","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20211125.1\r\n- **Date Produced**: November 25, 2021 2:23:35 PM UTC\r\n- **Commit**: a8d582b49176df1ec3640b14625bbefaf594143d\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-alpha.1.21574.3 to 7.0.0-alpha.1.21575.1][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-alpha.1.21574.3 to 7.0.0-alpha.1.21575.1][1]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/4e4f13a...a8d582b\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/5741","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#5741)"},{"Id":"1063420728","IsPullRequest":false,"CreatedAt":"2021-11-25T10:41:43","Actor":"martinrhan","Number":"5739","RawContent":null,"Title":"Memory leak when using custom INotifyCollectionChanged class as ItemsSource","State":"open","Body":"* .NET Core Version: .NET 6\r\n* Windows version: Windows11 21H2\r\n* Does the bug reproduce also in WPF for .NET Framework 4.8?: Don't know\r\n* Is this bug related specifically to tooling in Visual Studio (e.g. XAML Designer, Code editing, etc...)? No\r\n\r\n **Problem description:**\r\n I am using WPF as UI frame work for my game. The game engine doesn't mutate it self. It only get changed when the UI application call the method that let it update to next frame. The following code is the key part of my code:  \r\n\r\n<details>\r\n  <summary>Class GameWorldViewModel</summary>\r\n\r\n```\r\n    public class GameWorldViewModel : ViewModel {\r\n\r\n        public GameWorldViewModel(GameWorld gameWorld) {\r\n            this.gameWorld = gameWorld;\r\n            GameBodyCollectionViewModel = new GameBodyCollectionViewModel(gameWorld);\r\n            Proceed();\r\n        }\r\n\r\n        public GameBodyCollectionViewModel GameBodyCollectionViewModel { get;}\r\n\r\n        private readonly GameWorld gameWorld;\r\n\r\n        private readonly Stopwatch stopwatch = new Stopwatch();\r\n        private bool isProceed = false;\r\n\r\n        public void Pause() {\r\n            if (!isProceed) throw new InvalidOperationException(\"The GameWorld is already paused.\");\r\n            isProceed = false;\r\n            stopwatch.Reset();\r\n        }\r\n\r\n        public void Proceed() {\r\n            if (isProceed) throw new InvalidOperationException(\"The GameWorld is already proceeding.\");\r\n            isProceed = true;\r\n            Action action = () => DispatherLoopCallback(Task.CompletedTask);\r\n            stopwatch.Start();\r\n            Application.Current.Dispatcher.BeginInvoke(action, DispatcherPriority.Background);\r\n        }\r\n\r\n        private void DispatherLoopCallback(Task task) {\r\n            if (!isProceed) return;\r\n            if (task.IsCompleted) {//Check if the backgroud update has completed\r\n                CopyData();//Copy the data but not update UI\r\n                double deltaTime = stopwatch.Elapsed.TotalSeconds;\r\n                stopwatch.Restart();\r\n                task = gameWorld.BeginUpdate(deltaTime);//Let backgroud game engine calculate next frame of the game.\r\n                NotifyChange();//Update UI, runing concurrently with backgroud game engine thread. When this line is removed, the memory leak no longer occur.\r\n            }\r\n            Task task_forLambda = task;\r\n            Action action = () => DispatherLoopCallback(task_forLambda);\r\n            Application.Current.Dispatcher.BeginInvoke(action, DispatcherPriority.Background);//Send next call of this method to the dispatcher, leave space for other WPF process.\r\n        }\r\n\r\n        private void CopyData() {\r\n            GameBodyCollectionViewModel.CopyData();\r\n        }\r\n\r\n        private void NotifyChange() {\r\n            GameBodyCollectionViewModel.NotifyChange();\r\n        }\r\n    }\r\n```\r\n </details>\r\nHowever, when the game is running, even there are nothing, the memory usage was keep increasing. The increase stop when the game pause. So I am sure there is a memory leak. After investigation, I found the problem comes from NotifyChange(). But I cannot figure out how are them causing the problem as they seems okay. They all implemented INotifyPropertyChanged.\r\n<br/><br/>\r\n<details>\r\n<summary>Class GameBodyCollectionViewModel</summary>\r\n\r\n```\r\n    public class GameBodyCollectionViewModel : CollectionViewModel<GameBodyViewModel> {\r\n        public GameBodyCollectionViewModel(GameWorld gameWorld) {\r\n            this.gameWorld = gameWorld;\r\n        }\r\n\r\n        private readonly GameWorld gameWorld;\r\n\r\n        public override IEnumerator<GameBodyViewModel> GetEnumerator() => copiedData.GetEnumerator();\r\n        private readonly List<GameBodyViewModel> copiedData = new List<GameBodyViewModel>();\r\n\r\n        internal void CopyData() {\r\n            copiedData.Clear();\r\n            copiedData.AddRange(from gb in gameWorld.GameBodies select new GameBodyViewModel(gb));\r\n        }\r\n        internal void NotifyChange() {\r\n            NotifyCollectionChanged(new NotifyCollectionChangedEventArgs(NotifyCollectionChangedAction.Reset)); //After this line is removed, the memory leak doesn't happen any more.\r\n        }\r\n```\r\n</details>\r\n\r\n<details>\r\n<summary>Class GameBodyViewModel</summary>\r\n\r\n```\r\n    public class GameBodyViewModel : ViewModel {\r\n        public GameBodyViewModel(GameBody gameBody) {\r\n            AABBLowerX = gameBody.AABB.LowerBound.X;\r\n            AABBLowerY = gameBody.AABB.LowerBound.Y;\r\n            AABBWidth = gameBody.AABB.Width;\r\n            AABBHeight = gameBody.AABB.Height;\r\n        }\r\n        public double AABBLowerX { get; }\r\n        public double AABBLowerY { get; }\r\n        public double AABBWidth { get; }\r\n        public double AABBHeight { get; }\r\n    }\r\n```\r\n</details>\r\n<details>\r\n<summary>Generic Abstract Class ViewModel</summary>\r\n\r\n```\r\n    public abstract class ViewModel : INotifyPropertyChanged {\r\n        public event PropertyChangedEventHandler PropertyChanged;\r\n        protected void NotifyPropertyChanged([CallerMemberName] String propertyName = null) {\r\n            PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));\r\n        }\r\n    }\r\n```\r\n</details>\r\n<details>\r\n<summary>Generic Abstract Class CollectionViewModel</summary>\r\n\r\n```\r\n    public abstract class CollectionViewModel<T> : ViewModel, INotifyCollectionChanged, IEnumerable<T> {\r\n        public abstract IEnumerator<T> GetEnumerator();\r\n        IEnumerator IEnumerable.GetEnumerator() => GetEnumerator();\r\n\r\n        public event NotifyCollectionChangedEventHandler CollectionChanged;\r\n\r\n        protected void NotifyCollectionChanged(NotifyCollectionChangedEventArgs e) {\r\n            CollectionChanged?.Invoke(this, e);\r\n        }\r\n    }\r\n```\r\n</details>\r\nAnother intersting thing I found was, the leakage is also relavant to the xaml code. See following:  \r\n<br/><br/>\r\n<details>\r\n<summary>GameBodyCollectionView.xaml</summary>\r\n\r\n```\r\n<v:View x:TypeArguments=\"local:GameBodyCollectionViewModel\" x:Name=\"view\"\r\n    x:Class=\"Enigma.GameWPF.Visual.Game.GameBodyCollectionView\"\r\n             xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\r\n             xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\r\n             xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" \r\n             xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\" \r\n             xmlns:v =\"clr-namespace:Enigma.GameWPF.Visual\"\r\n             xmlns:local=\"clr-namespace:Enigma.GameWPF.Visual.Game\"\r\n             mc:Ignorable=\"d\" \r\n             d:DesignHeight=\"450\" d:DesignWidth=\"800\">\r\n    <ItemsControl ItemsSource=\"{Binding ViewModel,ElementName=view}\">\r\n        <ItemsControl.ItemsPanel>\r\n            <ItemsPanelTemplate>\r\n                <Canvas></Canvas>\r\n            </ItemsPanelTemplate>\r\n        </ItemsControl.ItemsPanel>\r\n        <ItemsControl.ItemContainerStyle>\r\n            <Style>\r\n                <Setter Property=\"Canvas.Left\" Value=\"{Binding AABBLowerX}\"/>\r\n                <Setter Property=\"Canvas.Bottom\" Value=\"{Binding AABBLowerY}\"/>\r\n            </Style>\r\n        </ItemsControl.ItemContainerStyle>\r\n        <ItemsControl.ItemTemplate>\r\n            <DataTemplate>\r\n                <local:GameBodyView ViewModel=\"{Binding}\" Width=\"{Binding AABBWidth}\" Height=\"{Binding AABBHeight}\"></local:GameBodyView>\r\n            </DataTemplate>\r\n        </ItemsControl.ItemTemplate>\r\n    </ItemsControl>\r\n</v:View>\r\n```\r\n</details>\r\n\r\nWhen the ItemsControl is removed, the memory leakage is removed as well.\r\nIn order to provide reproducable information to audiance, I made a demo wpf application that does similar behaviour and the leakage is successfully reproduced. Please download it for more information.\r\n\r\n\r\n[WpfApp1.zip](https://github.com/dotnet/wpf/files/7602147/WpfApp1.zip)\r\n\r\n","Url":"https://github.com/dotnet/wpf/issues/5739","RelatedDescription":"Open issue \"Memory leak when using custom INotifyCollectionChanged class as ItemsSource\" (#5739)"},{"Id":"1063158269","IsPullRequest":true,"CreatedAt":"2021-11-25T04:54:38","Actor":"singhashish-wpf","Number":"5738","RawContent":null,"Title":"Change S.S.C primitives, only having S.S.C.","State":"open","Body":"Fixes Issue <!-- Issue Number -->\r\nhttps://github.com/dotnet/runtime/pull/61025\r\n\r\nMain PR <!-- Link to PR if any that fixed this in the main branch. -->\r\nhttps://github.com/dotnet/runtime/pull/61025\r\n## Description\r\nAll of System.Security.Cryptography.Primitives have been moved\r\n<!-- Give a brief summary of the issue and how the pull request is fixing it. -->\r\nRemove references to S.S.C.Primitives as it has been moved to S.S.C\r\n## Customer Impact\r\n<!-- What is the impact to customers of not taking this fix? -->\r\nBuild issues\r\n## Regression\r\nNone\r\n<!-- Is this fixing a problem that was introduced in the most recent release, ie., fixing a regression? -->\r\n\r\n## Testing\r\nCI\r\n<!-- What kind of testing has been done with the fix. -->\r\n\r\n## Risk\r\n\r\n<!-- Please assess the risk of taking this fix. Provide details backing up your assessment. -->\r\n","Url":"https://github.com/dotnet/wpf/pull/5738","RelatedDescription":"Open PR \"Change S.S.C primitives, only having S.S.C.\" (#5738)"},{"Id":"1062981923","IsPullRequest":false,"CreatedAt":"2021-11-24T22:58:28","Actor":"vsfeedback","Number":"5737","RawContent":null,"Title":"WPF Changing ContentStringFormat does not change the shown text","State":"open","Body":"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/t/WPF-Changing-ContentStringFormat-does-no/1377350)._\n\n---\n[severity:It's more difficult to complete my work]\r\nChanging the ContentControl.ContentStringFormat does not seem to have any effect. Doesn't seem to matter if it is changed from code behind, using a binding or a trigger. \n\nSee the attached .net 5.0 project for an example. It doesn't work in older versions of .NET either like .NET 4.5.2. \n[WpfApp6.zip] (https://aka.ms/dc/file?name=B6aebb6d3ea394c9a9f592fef8b98213e637519934029252446_WpfApp6.zip&tid=6aebb6d3ea394c9a9f592fef8b98213e637519934029252446)\n\n---\n### Original Comments\n\n#### Feedback Bot on 3/22/2021, 00:43 AM: \n\n<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>\n\n#### Feedback Bot on 7/5/2021, 11:35 PM: \n\nI detected that this issue hasn’t received a lot of activity, votes, or comments in the past 90 days. Based on this, the issues severity and affected area, it’s my experience that this issue is unlikely to get fixed. To improve the situation, consider following best practices for quality problem reports, and giving us more details on how this issue is impacting you.\n\n#### Johan Appelgren on 7/6/2021, 01:14 AM: \n\n(private comment, text removed)\n\n---\n### Original Solutions\n(no solutions)","Url":"https://github.com/dotnet/wpf/issues/5737","RelatedDescription":"Open issue \"WPF Changing ContentStringFormat does not change the shown text\" (#5737)"},{"Id":"1062879517","IsPullRequest":true,"CreatedAt":"2021-11-24T21:15:27","Actor":"dotnet-maestro[bot]","Number":"5736","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20211124.3\r\n- **Date Produced**: November 24, 2021 8:34:18 PM UTC\r\n- **Commit**: 4e4f13a1100bfcde2760ac0dbfcad6b040363efd\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-alpha.1.21574.2 to 7.0.0-alpha.1.21574.3][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-alpha.1.21574.2 to 7.0.0-alpha.1.21574.3][1]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/486ec97...4e4f13a\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/5736","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#5736)"},{"Id":"1062775471","IsPullRequest":true,"CreatedAt":"2021-11-24T19:10:29","Actor":"dotnet-maestro[bot]","Number":"5735","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20211124.2\r\n- **Date Produced**: November 24, 2021 6:32:02 PM UTC\r\n- **Commit**: 486ec97c68c557661be4078fe95b21c9b4589f76\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-alpha.1.21574.1 to 7.0.0-alpha.1.21574.2][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-alpha.1.21574.1 to 7.0.0-alpha.1.21574.2][1]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/612462c...486ec97\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/5735","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#5735)"},{"Id":"1062491046","IsPullRequest":true,"CreatedAt":"2021-11-24T14:55:11","Actor":"dotnet-maestro[bot]","Number":"5734","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Coherency Updates**:\r\n  - **System.CodeDom**: from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1 (parent: Microsoft.Private.Winforms)\r\n  - **System.Configuration.ConfigurationManager**: from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.EventLog**: from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices**: from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1 (parent: Microsoft.Private.Winforms)\r\n  - **System.Drawing.Common**: from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1 (parent: Microsoft.Private.Winforms)\r\n  - **System.Reflection.MetadataLoadContext**: from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Xml**: from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Permissions**: from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1 (parent: Microsoft.Private.Winforms)\r\n  - **System.Windows.Extensions**: from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.Platforms**: from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Packaging**: from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1 (parent: Microsoft.Private.Winforms)\r\n  - **System.Resources.Extensions**: from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Ref**: from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1 (parent: Microsoft.Private.Winforms)\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.7.0**: from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1 (parent: Microsoft.Private.Winforms)\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20211124.1\r\n- **Date Produced**: November 24, 2021 2:16:24 PM UTC\r\n- **Commit**: 612462c8faa123714cd87e6f62d8eba2f8e6e555\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-alpha.1.21573.1 to 7.0.0-alpha.1.21574.1][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-alpha.1.21573.1 to 7.0.0-alpha.1.21574.1][1]\r\n  - **System.CodeDom**: [from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1][2]\r\n  - **System.Configuration.ConfigurationManager**: [from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1][2]\r\n  - **System.Diagnostics.EventLog**: [from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1][2]\r\n  - **System.DirectoryServices**: [from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1][2]\r\n  - **System.Drawing.Common**: [from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1][2]\r\n  - **System.Reflection.MetadataLoadContext**: [from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1][2]\r\n  - **System.Security.Cryptography.Xml**: [from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1][2]\r\n  - **System.Security.Permissions**: [from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1][2]\r\n  - **System.Windows.Extensions**: [from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1][2]\r\n  - **Microsoft.NETCore.Platforms**: [from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1][2]\r\n  - **System.IO.Packaging**: [from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1][2]\r\n  - **System.Resources.Extensions**: [from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1][2]\r\n  - **Microsoft.NETCore.App.Ref**: [from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1][2]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1][2]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.7.0**: [from 7.0.0-alpha.1.21572.8 to 7.0.0-alpha.1.21574.1][2]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/60e72e0...612462c\r\n[2]: https://github.com/dotnet/runtime/compare/141dae4...bf1797a\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/5734","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#5734)"},{"Id":"1062421077","IsPullRequest":true,"CreatedAt":"2021-11-24T13:19:12","Actor":"dotnet-maestro[bot]","Number":"5733","RawContent":null,"Title":"[main] Update dependencies from dotnet/arcade","State":"open","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 840bf684-917a-4879-f62c-08d8e93a0c51\r\n- **Build**: 20211124.3\r\n- **Date Produced**: November 24, 2021 5:55:39 PM UTC\r\n- **Commit**: 11fb2931671a47924e29b92e5fe06043fb3c6bbb\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Arcade.Sdk**: [from 7.0.0-beta.21569.2 to 7.0.0-beta.21574.3][1]\r\n  - **Microsoft.DotNet.ApiCompat**: [from 7.0.0-beta.21569.2 to 7.0.0-beta.21574.3][1]\r\n  - **Microsoft.DotNet.CodeAnalysis**: [from 7.0.0-beta.21569.2 to 7.0.0-beta.21574.3][1]\r\n  - **Microsoft.DotNet.GenAPI**: [from 7.0.0-beta.21569.2 to 7.0.0-beta.21574.3][1]\r\n  - **Microsoft.DotNet.Helix.Sdk**: [from 7.0.0-beta.21569.2 to 7.0.0-beta.21574.3][1]\r\n\r\n[1]: https://github.com/dotnet/arcade/compare/9746377...11fb293\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n\r\n\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/5733","RelatedDescription":"Open PR \"[main] Update dependencies from dotnet/arcade\" (#5733)"},{"Id":"1062008667","IsPullRequest":true,"CreatedAt":"2021-11-24T05:38:16","Actor":"dotnet-maestro[bot]","Number":"5731","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Coherency Updates**:\r\n  - **System.CodeDom**: from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8 (parent: Microsoft.Private.Winforms)\r\n  - **System.Configuration.ConfigurationManager**: from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.EventLog**: from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices**: from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8 (parent: Microsoft.Private.Winforms)\r\n  - **System.Drawing.Common**: from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8 (parent: Microsoft.Private.Winforms)\r\n  - **System.Reflection.MetadataLoadContext**: from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Xml**: from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Permissions**: from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8 (parent: Microsoft.Private.Winforms)\r\n  - **System.Windows.Extensions**: from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.Platforms**: from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Packaging**: from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8 (parent: Microsoft.Private.Winforms)\r\n  - **System.Resources.Extensions**: from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Ref**: from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8 (parent: Microsoft.Private.Winforms)\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.7.0**: from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8 (parent: Microsoft.Private.Winforms)\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20211123.1\r\n- **Date Produced**: November 24, 2021 4:59:41 AM UTC\r\n- **Commit**: 60e72e0f6d3c6249675d592044cccfeb38d51ec8\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-alpha.1.21572.5 to 7.0.0-alpha.1.21573.1][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-alpha.1.21572.5 to 7.0.0-alpha.1.21573.1][1]\r\n  - **System.CodeDom**: [from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8][2]\r\n  - **System.Configuration.ConfigurationManager**: [from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8][2]\r\n  - **System.Diagnostics.EventLog**: [from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8][2]\r\n  - **System.DirectoryServices**: [from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8][2]\r\n  - **System.Drawing.Common**: [from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8][2]\r\n  - **System.Reflection.MetadataLoadContext**: [from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8][2]\r\n  - **System.Security.Cryptography.Xml**: [from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8][2]\r\n  - **System.Security.Permissions**: [from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8][2]\r\n  - **System.Windows.Extensions**: [from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8][2]\r\n  - **Microsoft.NETCore.Platforms**: [from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8][2]\r\n  - **System.IO.Packaging**: [from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8][2]\r\n  - **System.Resources.Extensions**: [from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8][2]\r\n  - **Microsoft.NETCore.App.Ref**: [from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8][2]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8][2]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.7.0**: [from 7.0.0-alpha.1.21569.8 to 7.0.0-alpha.1.21572.8][2]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/5f758ac...60e72e0\r\n[2]: https://github.com/dotnet/runtime/compare/7099f4b...141dae4\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/5731","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#5731)"},{"Id":"1061998442","IsPullRequest":false,"CreatedAt":"2021-11-24T04:45:15","Actor":"rjsams","Number":"5730","RawContent":null,"Title":"Exception opening right click menu if tooltip is shown","State":"open","Body":"Version:   6.0.100\r\n Commit:    9e8b04bbff\r\nOS Build 22000.318\r\n\r\n* Does the bug reproduce also in WPF for .NET Framework 4.8?: Yes/No\r\nNo, this did not reproduce with previous .NET versions\r\n\r\n* Is this bug related specifically to tooling in Visual Studio (e.g. XAML Designer, Code editing, etc...)? If yes, please file the issue via the instructions [here](https://docs.microsoft.com/visualstudio/ide/how-to-report-a-problem-with-visual-studio?view=vs-2019).\r\nDoes not appear to be tooling related.\r\n\r\n **Problem description:**\r\nOur application has started throwing exception after the update to .NET 6 with VS 2022.\r\nThe issue occurs when the application is attempting to open a right click menu while a tooltip is active.  The repro case is not reliable and may be timing sensitive.  \r\n\r\nSystem.ArgumentNullException\r\n  HResult=0x80004003\r\n  Message=Value cannot be null. (Parameter 'element')\r\n  Source=PresentationFramework\r\n  StackTrace:\r\n   at System.Windows.Controls.ToolTipService.GetBetweenShowDelay(DependencyObject element)\r\n   at System.Windows.Controls.PopupControlService.CloseToolTip(ToolTip tooltip)\r\n   at System.Windows.Controls.PopupControlService.OnPostProcessInput(Object sender, ProcessInputEventArgs e)\r\n   at System.Windows.Input.InputManager.RaiseProcessInputEventHandlers(Tuple`2 postProcessInput, ProcessInputEventArgs processInputEventArgs)\r\n   at System.Windows.Input.InputManager.ProcessStagingArea()\r\n   at System.Windows.Input.InputProviderSite.ReportInput(InputReport inputReport)\r\n   at System.Windows.Interop.HwndMouseInputProvider.ReportInput(IntPtr hwnd, InputMode mode, Int32 timestamp, RawMouseActions actions, Int32 x, Int32 y, Int32 wheel)\r\n   at System.Windows.Interop.HwndMouseInputProvider.FilterMessage(IntPtr hwnd, WindowMessage msg, IntPtr wParam, IntPtr lParam, Boolean& handled)\r\n   at System.Windows.Interop.HwndSource.InputFilterMessage(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam, Boolean& handled)\r\n   at MS.Win32.HwndWrapper.WndProc(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam, Boolean& handled)\r\n   at MS.Win32.HwndSubclass.DispatcherCallbackOperation(Object o)\r\n   at System.Windows.Threading.ExceptionWrapper.InternalRealCall(Delegate callback, Object args, Int32 numArgs)\r\n   at System.Windows.Threading.ExceptionWrapper.TryCatchWhen(Object source, Delegate callback, Object args, Int32 numArgs, Delegate catchHandler)\r\n   at System.Windows.Threading.Dispatcher.LegacyInvokeImpl(DispatcherPriority priority, TimeSpan timeout, Delegate method, Object args, Int32 numArgs)\r\n   at MS.Win32.HwndSubclass.SubclassWndProc(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam)\r\n   at MS.Win32.UnsafeNativeMethods.DispatchMessage(MSG& msg)\r\n   at System.Windows.Threading.Dispatcher.PushFrameImpl(DispatcherFrame frame)\r\n   at System.Windows.Threading.Dispatcher.PushFrame(DispatcherFrame frame)\r\n   at System.Windows.Threading.Dispatcher.Run()\r\n   at System.Windows.Application.RunDispatcher(Object ignore)\r\n   at System.Windows.Application.RunInternal(Window window)\r\n   at System.Windows.Application.Run()\r\n   at ArpsEditor.App.Main()\r\n\r\n\r\n **Expected behavior:**\r\nNo exception, same as behavior in .NET 5.\r\n \r\n **Minimal repro:**\r\n","Url":"https://github.com/dotnet/wpf/issues/5730","RelatedDescription":"Open issue \"Exception opening right click menu if tooltip is shown\" (#5730)"},{"Id":"1061624807","IsPullRequest":true,"CreatedAt":"2021-11-23T19:13:05","Actor":"deeprobin","Number":"5729","RawContent":null,"Title":"Draft: Performance improvement for UIElement.Arrange and UIElement.Measure","State":"open","Body":"---\r\n\r\n⚠️ **CAUTION:** This is a draft pull request - **DO NOT MERGE**\r\n\r\n---\r\n\r\nIt will not fix the issue #4768 completely but may improve the performance already\r\n\r\n## Description\r\n\r\nI tried to replace some heap allocations with stack \"allocations\" using `Span<T>` and `ReadOnlySpan<T>`\r\n\r\nA bottleneck is unfortunately in the **non-open-source** PresentationNative part (`LoCreateLine`), on which I can unfortunately not influence\r\n![grafik](https://user-images.githubusercontent.com/10373452/143088451-998a82a3-f09c-4858-afa4-6532acc631a6.png)\r\n\r\n\r\n## Testing\r\n\r\n(todo)\r\n\r\n## Benchmarks\r\n\r\n(todo)\r\n\r\n## Risk\r\n\r\n⚠️ Critical API has changed - All edge cases must be tested\r\n","Url":"https://github.com/dotnet/wpf/pull/5729","RelatedDescription":"Open PR \"Draft: Performance improvement for UIElement.Arrange and UIElement.Measure\" (#5729)"},{"Id":"1061069517","IsPullRequest":false,"CreatedAt":"2021-11-23T10:25:15","Actor":"k-u-s","Number":"5728","RawContent":null,"Title":"TabControl sometimes renders old content alongside newly selected when HwndHost is inside previous tab","State":"open","Body":"* .NET Core Version: 6.0.100, Commit:    9e8b04bbff \r\n\r\n<details><summary>dotnet --info</summary>\r\n\r\n```bash\r\n.NET SDK (reflecting any global.json):\r\n Version:   6.0.100\r\n Commit:    9e8b04bbff\r\n\r\nRuntime Environment:\r\n OS Name:     Windows\r\n OS Version:  10.0.22000\r\n OS Platform: Windows\r\n RID:         win10-x64\r\n Base Path:   C:\\Program Files\\dotnet\\sdk\\6.0.100\\\r\n\r\nHost (useful for support):\r\n  Version: 6.0.0\r\n  Commit:  4822e3c3aa\r\n\r\n.NET SDKs installed:\r\n  3.1.400 [C:\\Program Files\\dotnet\\sdk]\r\n  5.0.103 [C:\\Program Files\\dotnet\\sdk]\r\n  6.0.100 [C:\\Program Files\\dotnet\\sdk]\r\n\r\n.NET runtimes installed:\r\n  Microsoft.AspNetCore.App 6.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.NETCore.App 6.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.WindowsDesktop.App 6.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n\r\nTo install additional .NET runtimes or SDKs:\r\n  https://aka.ms/dotnet-download\r\n```\r\n</details>\r\n\r\n* Windows version: Version 21H2 (OS Build 22000.318)\r\n* Does the bug reproduce also in WPF for .NET Framework 4.8?: not checked\r\n* Is this bug related specifically to tooling in Visual Studio (e.g. XAML Designer, Code editing, etc...)? No related to tolling in vs.\r\n\r\n\r\n **Problem description:**\r\nSometimes when switching between tabs in `TabControl` old tab content is rendered on top of new tab.\r\n\r\nApp has multiple tabs. One of which has `HostHwnd` that starts another wpf app process with `DataGrid` (Grid content has high refresh rate). Sometimes when switching between tabs, recently updated content from HostHwnd is rendered along site newly selected tab.\r\n\r\n<details><summary>Videos</summary>\r\n\r\nhttps://user-images.githubusercontent.com/7735824/143005707-0c8546b8-2de5-4936-a951-ef78aaf83d40.mp4\r\n\r\nhttps://user-images.githubusercontent.com/7735824/143005719-5c78cbb0-b06d-4ffb-ba0f-a0cfefd0dad4.mp4\r\n \r\n</details>\r\n\r\nTabs do not have to be changing so quickly like on videos above for that glitch to appear. Its was just for video purpose done like that. It does not happens often but users reported its usually when switching to new/empty tab when there are a lot of updates processed by DataGrid \r\n\r\n **Actual behavior:** \r\nSometimes old tab content is displayed in place where content from new tab should be\r\n \r\n\r\n **Expected behavior:**\r\nAlways correct content is shown\r\n \r\n **Minimal repro:**\r\n\r\n[WpfApp.zip](https://github.com/dotnet/wpf/files/7587167/WpfApp.zip)\r\n","Url":"https://github.com/dotnet/wpf/issues/5728","RelatedDescription":"Open issue \"TabControl sometimes renders old content alongside newly selected when HwndHost is inside previous tab\" (#5728)"},{"Id":"1060916783","IsPullRequest":true,"CreatedAt":"2021-11-23T07:58:56","Actor":"dotnet-maestro[bot]","Number":"5727","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20211122.5\r\n- **Date Produced**: November 23, 2021 7:26:12 AM UTC\r\n- **Commit**: 5f758ac153dcc9a4decc9b25d03a51c9500ea281\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-alpha.1.21572.3 to 7.0.0-alpha.1.21572.5][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-alpha.1.21572.3 to 7.0.0-alpha.1.21572.5][1]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/9fa6e1f...5f758ac\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/5727","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#5727)"},{"Id":"1059760125","IsPullRequest":false,"CreatedAt":"2021-11-23T07:07:33","Actor":"Perpete","Number":"5723","RawContent":null,"Title":"The text contained in the label appears in duplicate when editing it","State":"closed","Body":"Hello,\r\n\r\nOn the window in design mode, the text contained in a label appears in duplicate and shifted when editing it.\r\nI am using visual studio 17.0.1 with net 6.\r\nThis problem was already present in the last updates of version 16 of visual studio.\r\n\r\n![LabelWPF](https://user-images.githubusercontent.com/66659162/142816213-11767dbc-a2e9-4479-abd8-e9a27c5b7cfa.gif)\r\n\r\n","Url":"https://github.com/dotnet/wpf/issues/5723","RelatedDescription":"Closed issue \"The text contained in the label appears in duplicate when editing it\" (#5723)"},{"Id":"1060750506","IsPullRequest":false,"CreatedAt":"2021-11-23T07:05:58","Actor":"vsfeedback","Number":"5725","RawContent":null,"Title":"WPF drawing with constant fps","State":"closed","Body":"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/t/WPF-drawing-with-constant-fps/1588866)._\n\n---\n[severity:Other]\nHi,\n\nwe have a mixed .net 4.8 forms and WPF application, that mainly shows live video.\nCurrently we use forms with native DirectX11 to render the video.\nNow we would like to do rendering with „native“ WPF for a nicer integration into the rest of the application.\nWe use the D3DImage todo so.\nWith the forms implementation we can achieve up to 50 video streams with each 30fps (source resolution is 704x576).\nAfter doing lots of optimizations, the WPF implementation also works fine, but with a raising number of video streams, the WPF framerate starts decreasing very early although CPU and GPU (never above 10%) are fare away from being overloaded.\n\nStreams,CPU load,\tWPF fps\n1\t10%\t\t60\n9\t26%\t\t56\n10\t27%\t\t33 <\n19\t42%\t\t28\n21\t44%\t\t25 <\n25\t49%\t\t20\n31\t56%\t\t20\n35\t60%\t\t17\n43\t69%\t\t16\n50\t77%\t\t12\n\nThere is a noticeable behaviour, the fps keep stable for a longer time and then suddenly drops in steps (60, 30, 25, 20, 15, 12, 9).\n\nThe WPF implementation works as follows:\nWe just use one D3DImage and all video stream are rendered into own regions of one attached DirectX11 texture (using several deferred context). So only one update (Lock, AddDirtyRect, Unlock) of the D3Dimage has to be done from GUI thread. The different video streams are then „drawn“ with an ImageBrush into different parts of the UI. The actual DirectX rendering, decoding and so on is done in their own threads.\n\nThe D3DImage update needs about 1 to 3ms per call. We tried doing the update within the CompositionTarget.Render event or dispatching it into GUI thread with a fixed interval (33ms), but it doesn‘t change the behaviour very much. \n\nWe used the „WPF Performance Tools“ to verify framerate and hardware rendering.\n\nQuestion:\nWhat can we do to get a more stable and higher framerate for the WPF rendering (for sure as long the system isn‘t obviously overloaded).\nAre there any settings (registry, properties, app config, …) to influence this framerate algorithm of WPF?\nWhat influences this algorithm?\nIs the CPU or GPU load measure?\nIs the GUI or WPF rendering thread(s) measured?\n\nThank for your help in advance,\nOliver\n\n---\n### Original Comments\n\n#### Feedback Bot on 11/18/2021, 06:10 PM: \n\n<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>\n\n\n---\n### Original Solutions\n(no solutions)","Url":"https://github.com/dotnet/wpf/issues/5725","RelatedDescription":"Closed issue \"WPF drawing with constant fps\" (#5725)"},{"Id":"1060734647","IsPullRequest":true,"CreatedAt":"2021-11-23T01:21:29","Actor":"dotnet-maestro[bot]","Number":"5724","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20211122.3\r\n- **Date Produced**: November 23, 2021 12:43:10 AM UTC\r\n- **Commit**: 9fa6e1f49dcb08ab5d7b985a76ee2f9d99e91f07\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-alpha.1.21570.2 to 7.0.0-alpha.1.21572.3][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-alpha.1.21570.2 to 7.0.0-alpha.1.21572.3][1]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/a699705...9fa6e1f\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/5724","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#5724)"},{"Id":"1059284517","IsPullRequest":true,"CreatedAt":"2021-11-21T03:51:40","Actor":"brunom","Number":"5722","RawContent":null,"Title":"Harden events against race conditions","State":"open","Body":"","Url":"https://github.com/dotnet/wpf/pull/5722","RelatedDescription":"Open PR \"Harden events against race conditions\" (#5722)"},{"Id":"1059162716","IsPullRequest":true,"CreatedAt":"2021-11-20T15:30:34","Actor":"dotnet-maestro[bot]","Number":"5721","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20211120.2\r\n- **Date Produced**: November 20, 2021 2:20:01 PM UTC\r\n- **Commit**: a699705b9b86e1de1883711c8bd2d30cdbc16dca\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-alpha.1.21570.1 to 7.0.0-alpha.1.21570.2][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-alpha.1.21570.1 to 7.0.0-alpha.1.21570.2][1]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/d71025d...a699705\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/5721","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#5721)"},{"Id":"1059156409","IsPullRequest":true,"CreatedAt":"2021-11-20T14:59:58","Actor":"dotnet-maestro[bot]","Number":"5720","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Coherency Updates**:\r\n  - **System.CodeDom**: from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8 (parent: Microsoft.Private.Winforms)\r\n  - **System.Configuration.ConfigurationManager**: from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.EventLog**: from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices**: from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8 (parent: Microsoft.Private.Winforms)\r\n  - **System.Drawing.Common**: from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8 (parent: Microsoft.Private.Winforms)\r\n  - **System.Reflection.MetadataLoadContext**: from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Xml**: from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Permissions**: from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8 (parent: Microsoft.Private.Winforms)\r\n  - **System.Windows.Extensions**: from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.Platforms**: from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Packaging**: from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8 (parent: Microsoft.Private.Winforms)\r\n  - **System.Resources.Extensions**: from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Ref**: from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8 (parent: Microsoft.Private.Winforms)\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.7.0**: from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8 (parent: Microsoft.Private.Winforms)\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20211120.1\r\n- **Date Produced**: November 20, 2021 2:18:19 PM UTC\r\n- **Commit**: d71025db84d2db57301d8a98d4910b100381972f\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-alpha.1.21569.2 to 7.0.0-alpha.1.21570.1][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-alpha.1.21569.2 to 7.0.0-alpha.1.21570.1][1]\r\n  - **System.CodeDom**: [from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8][2]\r\n  - **System.Configuration.ConfigurationManager**: [from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8][2]\r\n  - **System.Diagnostics.EventLog**: [from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8][2]\r\n  - **System.DirectoryServices**: [from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8][2]\r\n  - **System.Drawing.Common**: [from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8][2]\r\n  - **System.Reflection.MetadataLoadContext**: [from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8][2]\r\n  - **System.Security.Cryptography.Xml**: [from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8][2]\r\n  - **System.Security.Permissions**: [from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8][2]\r\n  - **System.Windows.Extensions**: [from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8][2]\r\n  - **Microsoft.NETCore.Platforms**: [from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8][2]\r\n  - **System.IO.Packaging**: [from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8][2]\r\n  - **System.Resources.Extensions**: [from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8][2]\r\n  - **Microsoft.NETCore.App.Ref**: [from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8][2]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8][2]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.7.0**: [from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21569.8][2]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/9743b4f...d71025d\r\n[2]: https://github.com/dotnet/runtime/compare/2b23bfa...7099f4b\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/5720","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#5720)"},{"Id":"1059143447","IsPullRequest":true,"CreatedAt":"2021-11-20T13:48:30","Actor":"dotnet-maestro[bot]","Number":"5719","RawContent":null,"Title":"[main] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 840bf684-917a-4879-f62c-08d8e93a0c51\r\n- **Build**: 20211119.2\r\n- **Date Produced**: November 19, 2021 7:31:44 PM UTC\r\n- **Commit**: 97463777ee9a8445d4a4c5911ede0f0cd71fa8aa\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Arcade.Sdk**: [from 7.0.0-beta.21568.2 to 7.0.0-beta.21569.2][1]\r\n  - **Microsoft.DotNet.ApiCompat**: [from 7.0.0-beta.21568.2 to 7.0.0-beta.21569.2][1]\r\n  - **Microsoft.DotNet.CodeAnalysis**: [from 7.0.0-beta.21568.2 to 7.0.0-beta.21569.2][1]\r\n  - **Microsoft.DotNet.GenAPI**: [from 7.0.0-beta.21568.2 to 7.0.0-beta.21569.2][1]\r\n  - **Microsoft.DotNet.Helix.Sdk**: [from 7.0.0-beta.21568.2 to 7.0.0-beta.21569.2][1]\r\n\r\n[1]: https://github.com/dotnet/arcade/compare/7097001...9746377\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/5719","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/arcade\" (#5719)"},{"Id":"1058915365","IsPullRequest":true,"CreatedAt":"2021-11-19T21:29:23","Actor":"dotnet-maestro[bot]","Number":"5718","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Coherency Updates**:\r\n  - **System.CodeDom**: from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Configuration.ConfigurationManager**: from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.EventLog**: from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices**: from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Drawing.Common**: from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Reflection.MetadataLoadContext**: from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Xml**: from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Permissions**: from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Windows.Extensions**: from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.Platforms**: from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Packaging**: from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3 (parent: Microsoft.Private.Winforms)\r\n  - **System.Resources.Extensions**: from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Ref**: from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3 (parent: Microsoft.Private.Winforms)\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.7.0**: from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3 (parent: Microsoft.Private.Winforms)\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20211119.2\r\n- **Date Produced**: November 19, 2021 8:53:12 PM UTC\r\n- **Commit**: 9743b4fbaacf1b1b4ebd934504ea5a0b9bc9bcd1\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-alpha.1.21568.5 to 7.0.0-alpha.1.21569.2][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-alpha.1.21568.5 to 7.0.0-alpha.1.21569.2][1]\r\n  - **System.CodeDom**: [from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3][2]\r\n  - **System.Configuration.ConfigurationManager**: [from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3][2]\r\n  - **System.Diagnostics.EventLog**: [from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3][2]\r\n  - **System.DirectoryServices**: [from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3][2]\r\n  - **System.Drawing.Common**: [from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3][2]\r\n  - **System.Reflection.MetadataLoadContext**: [from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3][2]\r\n  - **System.Security.Cryptography.Xml**: [from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3][2]\r\n  - **System.Security.Permissions**: [from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3][2]\r\n  - **System.Windows.Extensions**: [from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3][2]\r\n  - **Microsoft.NETCore.Platforms**: [from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3][2]\r\n  - **System.IO.Packaging**: [from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3][2]\r\n  - **System.Resources.Extensions**: [from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3][2]\r\n  - **Microsoft.NETCore.App.Ref**: [from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3][2]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3][2]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.7.0**: [from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.3][2]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/14efc6e...9743b4f\r\n[2]: https://github.com/dotnet/runtime/compare/d9afc1e...2b23bfa\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/5718","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#5718)"},{"Id":"1058520955","IsPullRequest":true,"CreatedAt":"2021-11-19T13:48:58","Actor":"dotnet-maestro[bot]","Number":"5717","RawContent":null,"Title":"[main] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 840bf684-917a-4879-f62c-08d8e93a0c51\r\n- **Build**: 20211118.2\r\n- **Date Produced**: November 18, 2021 5:06:27 PM UTC\r\n- **Commit**: 7097001cd87357ebc6fb82f3c7a801efeed70e3f\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Arcade.Sdk**: [from 7.0.0-beta.21566.10 to 7.0.0-beta.21568.2][1]\r\n  - **Microsoft.DotNet.ApiCompat**: [from 7.0.0-beta.21566.10 to 7.0.0-beta.21568.2][1]\r\n  - **Microsoft.DotNet.CodeAnalysis**: [from 7.0.0-beta.21566.10 to 7.0.0-beta.21568.2][1]\r\n  - **Microsoft.DotNet.GenAPI**: [from 7.0.0-beta.21566.10 to 7.0.0-beta.21568.2][1]\r\n  - **Microsoft.DotNet.Helix.Sdk**: [from 7.0.0-beta.21566.10 to 7.0.0-beta.21568.2][1]\r\n\r\n[1]: https://github.com/dotnet/arcade/compare/53cc1bc...7097001\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/5717","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/arcade\" (#5717)"},{"Id":"1058442089","IsPullRequest":false,"CreatedAt":"2021-11-19T11:46:09","Actor":"AntonNah","Number":"5716","RawContent":null,"Title":"Comboboxitem tooltip bug","State":"open","Body":"* .NET Core Version: NET 6, NET 5\r\n* Windows version: windiws 10 1803\r\n\r\nNET 6\r\n![1](https://user-images.githubusercontent.com/33244866/142616581-e170afcf-d2f6-4349-9416-a4c6519e3d64.gif)\r\n \r\nNET 5\r\n![3](https://user-images.githubusercontent.com/33244866/142617362-70ce3eb4-f1f0-44e6-b047-7e5c3da1f4f8.gif)\r\n\r\n   ```\r\n<Grid>\r\n        <ComboBox Width=\"100\" Height=\"20\">\r\n            <ComboBoxItem ToolTip=\"1\">13.42</ComboBoxItem>\r\n            <ComboBoxItem ToolTip=\"2\">15.82</ComboBoxItem>\r\n        </ComboBox>\r\n    </Grid>\r\n```\r\n","Url":"https://github.com/dotnet/wpf/issues/5716","RelatedDescription":"Open issue \"Comboboxitem tooltip bug\" (#5716)"},{"Id":"1057992718","IsPullRequest":true,"CreatedAt":"2021-11-19T00:51:05","Actor":"dotnet-maestro[bot]","Number":"5715","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20211118.5\r\n- **Date Produced**: November 18, 2021 11:45:17 PM UTC\r\n- **Commit**: 14efc6e467af10aa3562393df8fa9dce537886cb\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-alpha.1.21568.4 to 7.0.0-alpha.1.21568.5][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-alpha.1.21568.4 to 7.0.0-alpha.1.21568.5][1]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/9709c50...14efc6e\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/5715","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#5715)"},{"Id":"1057977972","IsPullRequest":true,"CreatedAt":"2021-11-19T00:15:29","Actor":"dotnet-maestro[bot]","Number":"5714","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20211118.4\r\n- **Date Produced**: November 18, 2021 11:36:43 PM UTC\r\n- **Commit**: 9709c5046e14191598916775d250433471b3f731\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21568.4][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-alpha.1.21568.3 to 7.0.0-alpha.1.21568.4][1]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/cd8c0bd...9709c50\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/5714","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#5714)"},{"Id":"1057945135","IsPullRequest":true,"CreatedAt":"2021-11-18T23:46:03","Actor":"dotnet-maestro[bot]","Number":"5713","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20211118.3\r\n- **Date Produced**: November 18, 2021 11:01:38 PM UTC\r\n- **Commit**: cd8c0bda202c741e30dc4d633b8b742c8fdc5aa9\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-alpha.1.21568.2 to 7.0.0-alpha.1.21568.3][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-alpha.1.21568.2 to 7.0.0-alpha.1.21568.3][1]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/2d342b3...cd8c0bd\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/5713","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#5713)"},{"Id":"1057826286","IsPullRequest":true,"CreatedAt":"2021-11-18T22:11:39","Actor":"dotnet-maestro[bot]","Number":"5712","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20211118.2\r\n- **Date Produced**: November 18, 2021 9:30:09 PM UTC\r\n- **Commit**: 2d342b3c4f92b262586aceeaf213e36e36304943\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.2][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-alpha.1.21568.1 to 7.0.0-alpha.1.21568.2][1]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/29e805d...2d342b3\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/5712","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#5712)"},{"Id":"1057472618","IsPullRequest":false,"CreatedAt":"2021-11-18T15:14:08","Actor":"Apskalle","Number":"5710","RawContent":null,"Title":"WPF breaking change in binding net5 ","State":"open","Body":"Binding a TextBox to a decimal source and entering a negative value throws an error in the default converters ConvertBack method if culture is \"sv-SE\".  \r\nThis always worked fine in the Framework and if culture is instead \"en-US\" it still works as expected in net5.\r\n\r\n```\r\nSystem.Windows.Data Error: 7 : ConvertBack cannot convert value '-100,00' (type 'String'). BindingExpression:Path=Value; DataItem='MyModel' (HashCode=24981566); target element is 'TextBox' (Name=''); target property is 'Text' (type 'String') FormatException:'System.FormatException: Input string was not in a correct format.\r\n   at System.Number.ThrowOverflowOrFormatException(ParsingStatus status, TypeCode type)\r\n   at System.Number.ParseDecimal(ReadOnlySpan`1 value, NumberStyles styles, NumberFormatInfo info)\r\n   at System.Convert.ToDecimal(String value, IFormatProvider provider)\r\n   at System.String.System.IConvertible.ToDecimal(IFormatProvider provider)\r\n   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)\r\n   at MS.Internal.Data.SystemConvertConverter.ConvertBack(Object o, Type type, Object parameter, CultureInfo culture)\r\n   at System.Windows.Data.BindingExpression.ConvertBackHelper(IValueConverter converter, Object value, Type sourceType, Object parameter, CultureInfo culture)'\r\n```\r\n\r\nTo reproduce\r\n\r\nIn overridden OnStartUp\r\n\r\n  ```\r\n  protected override void OnStartup(StartupEventArgs e)\r\n        {\r\n            var vCulture = new CultureInfo(\"sv-SE\");\r\n            Thread.CurrentThread.CurrentCulture = vCulture;\r\n            Thread.CurrentThread.CurrentUICulture = vCulture;\r\n            CultureInfo.DefaultThreadCurrentCulture = vCulture;\r\n            CultureInfo.DefaultThreadCurrentUICulture = vCulture;\r\n\r\n            FrameworkElement.LanguageProperty.OverrideMetadata(\r\n            typeof(FrameworkElement),\r\n            new FrameworkPropertyMetadata(XmlLanguage.GetLanguage(CultureInfo.CurrentCulture.IetfLanguageTag)));\r\n            base.OnStartup(e);\r\n        }\r\n```\r\nIn MainWindow.xaml.cs\r\n\r\n ```\r\npublic partial class MainWindow : Window\r\n    {\r\n        public MainWindow()\r\n        {\r\n            InitializeComponent();\r\n            this.DataContext = new MyModel();\r\n\r\n        }\r\n    }\r\n\r\n    public class MyModel\r\n    {\r\n        public MyModel()\r\n        {\r\n        }\r\n\r\n        public decimal Value { get; set; } = 100;\r\n\r\n    }\r\n```\r\nIn MainWindow.xaml\r\n\r\n```\r\n<Window x:Class=\"TestCoreBinding.MainWindow\"\r\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\r\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\r\n        xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\r\n        xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\r\n        xmlns:local=\"clr-namespace:TestCoreBinding\"\r\n        mc:Ignorable=\"d\"\r\n        Title=\"MainWindow\" Height=\"450\" Width=\"800\">\r\n    <StackPanel Orientation=\"Vertical\">\r\n        <TextBox Text=\"{Binding Path=Value, StringFormat=N2, UpdateSourceTrigger=PropertyChanged}\"/>\r\n        <TextBlock Text=\"{Binding Path=Value, StringFormat='Value={0:N2}'}\"/>\r\n    </StackPanel>\r\n</Window>\r\n```\r\n\r\nCheers,\r\n\r\n/Martin\r\n ","Url":"https://github.com/dotnet/wpf/issues/5710","RelatedDescription":"Open issue \"WPF breaking change in binding net5 \" (#5710)"},{"Id":"1057413745","IsPullRequest":true,"CreatedAt":"2021-11-18T14:51:22","Actor":"dotnet-maestro[bot]","Number":"5709","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Coherency Updates**:\r\n  - **System.CodeDom**: from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1 (parent: Microsoft.Private.Winforms)\r\n  - **System.Configuration.ConfigurationManager**: from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.EventLog**: from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices**: from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1 (parent: Microsoft.Private.Winforms)\r\n  - **System.Drawing.Common**: from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1 (parent: Microsoft.Private.Winforms)\r\n  - **System.Reflection.MetadataLoadContext**: from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Xml**: from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Permissions**: from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1 (parent: Microsoft.Private.Winforms)\r\n  - **System.Windows.Extensions**: from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.Platforms**: from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Packaging**: from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1 (parent: Microsoft.Private.Winforms)\r\n  - **System.Resources.Extensions**: from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Ref**: from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1 (parent: Microsoft.Private.Winforms)\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.7.0**: from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1 (parent: Microsoft.Private.Winforms)\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20211118.1\r\n- **Date Produced**: November 18, 2021 2:10:56 PM UTC\r\n- **Commit**: 29e805d6d3e60144a31dad96d848cdcfe454e4eb\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 7.0.0-alpha.1.21567.6 to 7.0.0-alpha.1.21568.1][1]\r\n  - **Microsoft.Private.Winforms**: [from 7.0.0-alpha.1.21567.6 to 7.0.0-alpha.1.21568.1][1]\r\n  - **System.CodeDom**: [from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1][2]\r\n  - **System.Configuration.ConfigurationManager**: [from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1][2]\r\n  - **System.Diagnostics.EventLog**: [from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1][2]\r\n  - **System.DirectoryServices**: [from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1][2]\r\n  - **System.Drawing.Common**: [from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1][2]\r\n  - **System.Reflection.MetadataLoadContext**: [from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1][2]\r\n  - **System.Security.Cryptography.Xml**: [from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1][2]\r\n  - **System.Security.Permissions**: [from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1][2]\r\n  - **System.Windows.Extensions**: [from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1][2]\r\n  - **Microsoft.NETCore.Platforms**: [from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1][2]\r\n  - **System.IO.Packaging**: [from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1][2]\r\n  - **System.Resources.Extensions**: [from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1][2]\r\n  - **Microsoft.NETCore.App.Ref**: [from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1][2]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1][2]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.7.0**: [from 7.0.0-alpha.1.21567.1 to 7.0.0-alpha.1.21568.1][2]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/ad670ed...29e805d\r\n[2]: https://github.com/dotnet/runtime/compare/10e107d...d9afc1e\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/5709","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#5709)"}],"ResultType":"GitHubIssue"}},"RunOn":"2021-11-26T05:30:36.2400257Z","RunDurationInMilliseconds":507}