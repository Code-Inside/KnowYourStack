{"Data":{"GitHub":{"Issues":[{"Id":"2560529770","IsPullRequest":true,"CreatedAt":"2024-10-02T02:01:29","Actor":"dotnet-maestro[bot]","Number":"9876","RawContent":null,"Title":"[release/9.0] Update dependencies from dotnet/winforms","State":"open","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Coherency Updates**:\r\n  - **System.Reflection.MetadataLoadContext**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Windows.Extensions**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.Platforms**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Resources.Extensions**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Runtime.Serialization.Formatters**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Ref**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.9.0**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.Win32.Registry.AccessControl**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.Win32.SystemEvents**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.CodeDom**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.ComponentModel.Composition**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Configuration.ConfigurationManager**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Data.Odbc**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Data.OleDb**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.EventLog**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.PerformanceCounter**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices.AccountManagement**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices.Protocols**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Formats.Nrbf**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Packaging**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Ports**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Management**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Reflection.Context**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Runtime.Caching**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Pkcs**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.ProtectedData**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Xml**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Permissions**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.ServiceModel.Syndication**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.ServiceProcess.ServiceController**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Speech**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Text.Encoding.CodePages**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.Threading.AccessControl**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n  - **System.ComponentModel.Composition.Registration**: from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7 (parent: Microsoft.Private.Winforms)\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n[marker]: <> (Begin:381f8ff1-4857-4887-5005-08dcbc3022d8)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 381f8ff1-4857-4887-5005-08dcbc3022d8\r\n- **Build**: 20241001.3\r\n- **Date Produced**: October 1, 2024 5:55:24 PM UTC\r\n- **Commit**: 5ef6d46e559a95f7b1a23895b111d8ca536f3fcf\r\n- **Branch**: refs/heads/release/9.0\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 9.0.0-rtm.24477.2 to 9.0.0-rtm.24501.3][1]\r\n  - **Microsoft.Private.Winforms**: [from 9.0.0-rtm.24477.2 to 9.0.0-rtm.24501.3][1]\r\n  - **System.Drawing.Common**: [from 9.0.0-rtm.24477.2 to 9.0.0-rtm.24501.3][1]\r\n  - **System.Reflection.MetadataLoadContext**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.Windows.Extensions**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **Microsoft.NETCore.Platforms**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.Resources.Extensions**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.Runtime.Serialization.Formatters**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **Microsoft.NETCore.App.Ref**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.9.0**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **Microsoft.Win32.Registry.AccessControl**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **Microsoft.Win32.SystemEvents**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.CodeDom**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.ComponentModel.Composition**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.Configuration.ConfigurationManager**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.Data.Odbc**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.Data.OleDb**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.Diagnostics.EventLog**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.Diagnostics.PerformanceCounter**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.DirectoryServices.AccountManagement**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.DirectoryServices.Protocols**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.DirectoryServices**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.Formats.Nrbf**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.IO.Packaging**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.IO.Ports**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.Management**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.Reflection.Context**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.Runtime.Caching**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.Security.Cryptography.Pkcs**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.Security.Cryptography.ProtectedData**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.Security.Cryptography.Xml**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.Security.Permissions**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.ServiceModel.Syndication**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.ServiceProcess.ServiceController**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.Speech**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.Text.Encoding.CodePages**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.Threading.AccessControl**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n  - **System.ComponentModel.Composition.Registration**: [from 9.0.0-rtm.24476.4 to 9.0.0-rtm.24480.7][2]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/b40020d58f...5ef6d46e55\r\n[2]: https://github.com/dotnet/runtime/compare/0d44aea369...3d3a8ed3d5\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:381f8ff1-4857-4887-5005-08dcbc3022d8)\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9876)","Url":"https://github.com/dotnet/wpf/pull/9876","RelatedDescription":"Open PR \"[release/9.0] Update dependencies from dotnet/winforms\" (#9876)"},{"Id":"2560397882","IsPullRequest":false,"CreatedAt":"2024-10-01T23:50:48","Actor":"BenCamps","Number":"9874","RawContent":null,"Title":"When DataGrid cell is in edit mode when window closed, edits are not commted","State":"open","Body":"### Description\n\nThe in WPF general default behavior for an editable control that supports text input is to push binding update to source when the control loses focus. \r\nWhen the user closes the active window and focused elements automatically loose focus and this causes any edits on the focused control to be pushed before the window closes. \r\nHowever with the DataGrid control, if the window is closed and there is a text cell in edit mode it doesn't cause the binding to push the cell contents.\r\n\r\nThis issue seems to be due to the cell control retaining keyboard focus after it has lost logical focus. Which would make since if the cell was composed of multiple separate controls which could lose and gain focus while the cell was still being edited. \r\nSee [DataGridCell.OnAnyLostFocus](https://github.com/dotnet/wpf/blob/0d959af10519bdb23c19cd435611f10bdebe78bf/src/Microsoft.DotNet.Wpf/src/PresentationFramework/System/Windows/Controls/DataGridCell.cs#L553)\r\nHowever when logical focus leaves the visual hierarchy of the current cell, then the current cell selection should be cleared. \r\n\r\n\n\n### Reproduction Steps\n\n1.  Create a window with a DataGrid element\r\n2.  Bind the DataGrid to a collection of items\r\n\r\nWhile running program \r\n 1. Begin editing DataGrid \r\n 2. Change cell value\r\n 3. Close window\r\n\r\nAttached simple application for reproducing issue: [WpfDataGridAppClosingIssue.zip](https://github.com/user-attachments/files/17216658/WpfDataGridAppClosingIssue.zip)\r\ncell\n\n### Expected behavior\n\nWhen app closes current edits are committed\n\n### Actual behavior\n\ncell edits are not committed when window closes\n\n### Regression?\n\n_No response_\n\n### Known Workarounds\n\n_No response_\n\n### Impact\n\n_No response_\n\n### Configuration\n\n_No response_\n\n### Other information\n\n_No response_","Url":"https://github.com/dotnet/wpf/issues/9874","RelatedDescription":"Open issue \"When DataGrid cell is in edit mode when window closed, edits are not commted\" (#9874)"},{"Id":"2560348284","IsPullRequest":true,"CreatedAt":"2024-10-01T22:54:18","Actor":"vseanreesermsft","Number":"9873","RawContent":null,"Title":"Update branding to 8.0.11","State":"open","Body":"\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9873)","Url":"https://github.com/dotnet/wpf/pull/9873","RelatedDescription":"Open PR \"Update branding to 8.0.11\" (#9873)"},{"Id":"2560348120","IsPullRequest":true,"CreatedAt":"2024-10-01T22:54:10","Actor":"vseanreesermsft","Number":"9872","RawContent":null,"Title":"Update branding to 6.0.36","State":"open","Body":"\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9872)","Url":"https://github.com/dotnet/wpf/pull/9872","RelatedDescription":"Open PR \"Update branding to 6.0.36\" (#9872)"},{"Id":"2560309393","IsPullRequest":true,"CreatedAt":"2024-10-01T22:16:08","Actor":"h3xds1nz","Number":"9871","RawContent":null,"Title":"Replace ArrayList in BitmapMetadataBlockWriter, fix RemoveWriterByIndex bug","State":"open","Body":"## Description\r\n\r\nReplaces backing `ArrayList` in `BitmapMetadataBlockWriter` and `BitmapMetadataBlockWriterEnumerator`.\r\n\r\nAlso fixes a bug in `RemoveWriterByIndex` function, which would previously not remove the writer.\r\n\r\nSample benchmark showing difference between `ArrayList` and `List<T>` with reference type can be found f.e. in #9432.\r\n\r\n## Customer Impact\r\n\r\nImproved performance, decreased allocations, a bug fix.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nLocal build, work with `BitmapMetadata`.\r\n\r\n## Risk\r\n\r\nLow but note that things might actually work properly and a bit faster now.\r\n\r\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9871)","Url":"https://github.com/dotnet/wpf/pull/9871","RelatedDescription":"Open PR \"Replace ArrayList in BitmapMetadataBlockWriter, fix RemoveWriterByIndex bug\" (#9871)"},{"Id":"2560250702","IsPullRequest":true,"CreatedAt":"2024-10-01T21:32:05","Actor":"h3xds1nz","Number":"9870","RawContent":null,"Title":"Replace ArrayList with List<GlyphRun> in PtsHost for performance/code quality","State":"open","Body":"## Description\r\n\r\nReplaces `ArrayList` with `List<GlyphRun>` to function as a temporary array. Improves code quality by swapping to generic collection. Also makes `AddGlyphRunRecursive` function static as it does not use any instance members.\r\n\r\nSample benchmark showing difference between `ArrayList` and `List<T>` with reference type can be found f.e. in #9432.\r\n\r\n## Customer Impact\r\n\r\nImproved performance, getting rid of `ArrayList`.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nLocal build.\r\n\r\n## Risk\r\n\r\nNone, changes are minimal.\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9870)","Url":"https://github.com/dotnet/wpf/pull/9870","RelatedDescription":"Open PR \"Replace ArrayList with List<GlyphRun> in PtsHost for performance/code quality\" (#9870)"},{"Id":"2560051404","IsPullRequest":false,"CreatedAt":"2024-10-01T19:38:54","Actor":"IlyaNavodkin","Number":"9869","RawContent":null,"Title":"Why bindings property dont update view model bindings?","State":"open","Body":"\r\n\r\nHello everyone\r\n\r\nI'm trying to create a custom multi-choice combo box with a water message.\r\nI ran into the problem that when binding to the SelectedElementParameterValues property, the FilterItemViewModel view is not updated, although the selection is in control (you can make sure by putting a breakpoint in the window code).\r\nWhy is there no binding of the property? Why doesn't it update the viewmodel property? I want to be able to get selected items from the view model.\r\n![image](https://github.com/user-attachments/assets/97219c72-b8a0-4d0d-9192-f61bde6e0170)\r\n![image](https://github.com/user-attachments/assets/f1d607e6-960e-4d75-a703-d35d874c516f)\r\n![image](https://github.com/user-attachments/assets/8d9bb08c-c90a-4d2f-beab-f976720697c1)\r\n\r\nRepository with code => https://github.com/IlyaNavodkin/CustomControll\r\n\r\nThank you in advance!\r\n","Url":"https://github.com/dotnet/wpf/issues/9869","RelatedDescription":"Open issue \"Why bindings property dont update view model bindings?\" (#9869)"},{"Id":"2559464710","IsPullRequest":false,"CreatedAt":"2024-10-01T16:43:27","Actor":"rampaa","Number":"9867","RawContent":null,"Title":"[Feature Request] Allow TextBox's line height to be configured","State":"closed","Body":"Similar to how we can set a [TextBlock's line height](https://learn.microsoft.com/en-us/dotnet/api/system.windows.controls.textblock.lineheight), if we could configure a TextBox's line height as well, that would be really useful, especially when TextBlock (e.g., https://github.com/dotnet/wpf/issues/9235) and RichTextBox (mainly due to memory and performance related reasons) is not an option.","Url":"https://github.com/dotnet/wpf/issues/9867","RelatedDescription":"Closed issue \"[Feature Request] Allow TextBox's line height to be configured\" (#9867)"},{"Id":"2559502960","IsPullRequest":false,"CreatedAt":"2024-10-01T15:00:59","Actor":"rampaa","Number":"9868","RawContent":null,"Title":"[Feature Request] Allow character spacing to be configurable for TextBlock and TextBox controls","State":"open","Body":"AFAIK, there's currently no way to change the space between characters in a TextBlock/TextBox control. Similar to how we can change the character spacing for a [TextBlock in WinUI](https://learn.microsoft.com/en-us/uwp/api/windows.ui.xaml.controls.textblock.characterspacing?view=winrt-26100), if we could do the same for WPF's TextBlock and TextBox controls, that would be pretty useful.","Url":"https://github.com/dotnet/wpf/issues/9868","RelatedDescription":"Open issue \"[Feature Request] Allow character spacing to be configurable for TextBlock and TextBox controls\" (#9868)"},{"Id":"2559085965","IsPullRequest":true,"CreatedAt":"2024-10-01T12:31:09","Actor":"h3xds1nz","Number":"9866","RawContent":null,"Title":"Remove AppContextDefaultValues/AccessibilitySwitches values from NetFX (dead code)","State":"open","Body":"## Description\r\n\r\nThis is a follow-up to #9711, cleaning up the dead code from assemblies that are compiled for .NET Core only.\r\nThe PBT one has been kept for obvious reasons.\r\n\r\nThe effective process is removing the switch statement, values for `NetFX` and copying over contents of `InitializeNetFxSwitchDefaultsForNetCoreRuntime` directly into the partial method.\r\n\r\nI have also removed the warning supressions where it was not necessary.\r\n\r\n## Customer Impact\r\n\r\nSmaller size of assemblies, 0.0001 ns faster start up time, cleaner codebase for developers.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nLocal build, app startup.\r\n\r\n## Risk\r\n\r\nLow, this is just a cleanup after previous PR.\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9866)","Url":"https://github.com/dotnet/wpf/pull/9866","RelatedDescription":"Open PR \"Remove AppContextDefaultValues/AccessibilitySwitches values from NetFX (dead code)\" (#9866)"},{"Id":"2558534773","IsPullRequest":true,"CreatedAt":"2024-10-01T08:28:00","Actor":"h3xds1nz","Number":"9865","RawContent":null,"Title":"Remove XBAP-related dead code from Application/BrowserInteropHelper, finish cleanup","State":"open","Body":"## Description\r\n\r\nThis continues the work started in #9855, removing rest of the internal properties in `BrowserInteropHelper` and thanks to this we can remove dead code in other places of the codebase (`Application`, `AppSecurityManager`, etc.) I've separated the two as those deletions might be a bit harder to grasp, while the first one is easier to understand imho.\r\n\r\n- `SiteOfOriginContainer.BrowserSource` is never set, thus it is always `NULL`.\r\n     - This means the public property `Uri` in `BrowserInteropHelper` in always `NULL`.\r\n     - `GetReferer` method in `BindUriHelper` depends on this value, if `BrowserSource` is NULL, it returns `NULL`.\r\n     - So the value in `httpRequest.Referer` of `WpfWebRequestHelper` would end up being `NULL` anyways, no-op / dead code.\r\n- `Application.MimeType` is never set, thus it is always `MimeType.Unknown`.\r\n     - This means `IsViewer` of `BrowserInteropHelper` is always `false`.\r\n     - That also means that `IsInitialViewerNavigation` is always `false` and its underlying value does not matter at all for any operations. So we can remove any setters; and then we can remove it from both conditions; which makes it unused.\r\n- `Application.ServiceProvider` is never set (classes doing it don't exist anymore), so it is always `NULL`.\r\n- Classes calling the `GetService` also don't exist anymore, so the whole method does not matter.\r\n- Any methods removed in `AppSecurityManager` just call themselves, besides that we were still calling `ClearSecurityManager` from Application but it is never initialized anymore so there's nothing to clear.\r\n- As a result, `SecurityMgrSite` is never initialized anymore, so we can remove it as well.\r\n\r\n## Customer Impact\r\n\r\nDecreased size of assemblies, tiny bit of perf, cleaner codebase for developers.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nLocal build, app run.\r\n\r\n## Risk\r\n\r\nLow, the code is a dead code or it doesn't do anything.\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9865)","Url":"https://github.com/dotnet/wpf/pull/9865","RelatedDescription":"Open PR \"Remove XBAP-related dead code from Application/BrowserInteropHelper, finish cleanup\" (#9865)"},{"Id":"2558003041","IsPullRequest":true,"CreatedAt":"2024-10-01T02:00:36","Actor":"dotnet-maestro[bot]","Number":"9864","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"open","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Coherency Updates**:\r\n  - **System.Reflection.MetadataLoadContext**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Windows.Extensions**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.Platforms**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Resources.Extensions**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Runtime.Serialization.Formatters**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Ref**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.10.0**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.Win32.Registry.AccessControl**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.Win32.SystemEvents**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.CodeDom**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.ComponentModel.Composition**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Configuration.ConfigurationManager**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Data.Odbc**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Data.OleDb**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.EventLog**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.PerformanceCounter**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices.AccountManagement**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices.Protocols**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Formats.Nrbf**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Packaging**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Ports**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Management**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Reflection.Context**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Runtime.Caching**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Pkcs**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.ProtectedData**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Xml**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Permissions**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.ServiceModel.Syndication**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.ServiceProcess.ServiceController**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Speech**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Text.Encoding.CodePages**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.Threading.AccessControl**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n  - **System.ComponentModel.Composition.Registration**: from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6 (parent: Microsoft.Private.Winforms)\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20241001.5\r\n- **Date Produced**: October 1, 2024 9:19:55 PM UTC\r\n- **Commit**: c9a58e92a1d0140bb4f91691db8055bcd91524f8\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 10.0.0-alpha.1.24480.1 to 10.0.0-alpha.1.24501.5][3]\r\n  - **Microsoft.Private.Winforms**: [from 10.0.0-alpha.1.24480.1 to 10.0.0-alpha.1.24501.5][3]\r\n  - **System.Drawing.Common**: [from 10.0.0-alpha.1.24480.1 to 10.0.0-alpha.1.24501.5][3]\r\n  - **System.Reflection.MetadataLoadContext**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.Windows.Extensions**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **Microsoft.NETCore.Platforms**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.Resources.Extensions**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.Runtime.Serialization.Formatters**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **Microsoft.NETCore.App.Ref**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.10.0**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **Microsoft.Win32.Registry.AccessControl**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **Microsoft.Win32.SystemEvents**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.CodeDom**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.ComponentModel.Composition**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.Configuration.ConfigurationManager**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.Data.Odbc**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.Data.OleDb**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.Diagnostics.EventLog**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.Diagnostics.PerformanceCounter**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.DirectoryServices.AccountManagement**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.DirectoryServices.Protocols**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.DirectoryServices**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.Formats.Nrbf**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.IO.Packaging**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.IO.Ports**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.Management**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.Reflection.Context**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.Runtime.Caching**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.Security.Cryptography.Pkcs**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.Security.Cryptography.ProtectedData**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.Security.Cryptography.Xml**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.Security.Permissions**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.ServiceModel.Syndication**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.ServiceProcess.ServiceController**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.Speech**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.Text.Encoding.CodePages**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.Threading.AccessControl**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n  - **System.ComponentModel.Composition.Registration**: [from 10.0.0-alpha.1.24479.4 to 10.0.0-alpha.1.24480.6][4]\r\n\r\n[3]: https://github.com/dotnet/winforms/compare/4cd3b176bb...c9a58e92a1\r\n[4]: https://github.com/dotnet/runtime/compare/98db53f064...13e55a4d61\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9864)\r\n\r\n\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/9864","RelatedDescription":"Open PR \"[main] Update dependencies from dotnet/winforms\" (#9864)"},{"Id":"2557694367","IsPullRequest":true,"CreatedAt":"2024-09-30T21:45:29","Actor":"h3xds1nz","Number":"9863","RawContent":null,"Title":"Remove AssemblyFilter dead code as APTCA is not supported","State":"open","Body":"## Description\r\n\r\nRemoves `AssemblyFilter` class that is just a compiled dead code. APTCA is not supported on .NET Core the same way CAS and XBAP is not supported. This is on `NetFX` initiated via `PresentationAppDomainManager` that has a hook on new `AppDomain` creation. The type has been rendered obsolete the same time app domains ceased to exist even if it was initiated.\r\n\r\n## Customer Impact\r\n\r\nDecreased size of assemblies, better code quality of codebase for developers.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nLocal build.\r\n\r\n## Risk\r\n\r\nI believe there is none, this code is unused on .NET Core.\r\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9863)","Url":"https://github.com/dotnet/wpf/pull/9863","RelatedDescription":"Open PR \"Remove AssemblyFilter dead code as APTCA is not supported\" (#9863)"},{"Id":"2557666388","IsPullRequest":true,"CreatedAt":"2024-09-30T21:25:45","Actor":"h3xds1nz","Number":"9862","RawContent":null,"Title":"Remove GenericEnumerator dead code from PresentationCore","State":"open","Body":"## Description\r\n\r\nRemoves `GenericEnumerator` class that is just a compiled dead code. It doesn't seem to be used already in NetFX v3.5.\r\n\r\n## Customer Impact\r\n\r\nDecreased size of assemblies, better code quality of codebase for developers.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nLocal build.\r\n\r\n## Risk\r\n\r\nI believe there is none, this code is unused since `NetFX`.\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9862)","Url":"https://github.com/dotnet/wpf/pull/9862","RelatedDescription":"Open PR \"Remove GenericEnumerator dead code from PresentationCore\" (#9862)"},{"Id":"2557654725","IsPullRequest":true,"CreatedAt":"2024-09-30T21:17:28","Actor":"h3xds1nz","Number":"9861","RawContent":null,"Title":"Optimize PixelFormat creation and PixelFormatConverter conversion speed","State":"open","Body":"## Description\r\n\r\n`PixelFormat` is a mutable struct, so we cannot really make it `readonly` if we don't want to incur performance degradation during creation of one; however several non-mutating method and members shall be made `readonly` to prevent defensive copies in those cases, and to improve code quality. **This is not a breaking change**.\r\n\r\n- Improved performance of `Guid` and `string` internal constructors up to two times.\r\n- Removed all allocations during creation and use of those constructors (+ some private methods).\r\n- I've converted all those big switch statements into switch expressions, increasing readibility and shaving off over 300 lines.\r\n- Since the original ctor was unsafe and I like unsafe, I kept it yet improved the performance.\r\n- I've removed the `PartialList` wrapper since it doesn't really make sense because the array ownership goes to the caller.\r\n    - Same as #9860, the difference being that the `IList<PixelFormatChannelMask>` wrapper now will allow setting/mutating the array via indexer, while `PartialList<PixelFormatChannelMask>` would throw an exception previously, so you would have to explicitly go and create new array if needed.\r\n    - I do not think it matters, the array is owned by the caller as we make a private copy upon retrieval.\r\n    - `PixelFormatChannelMask[]` cannot be NULL when returned from the getter, so the behavior is also unchanged.\r\n\r\n### \"Cmyk32\" (string ctor)\r\n\r\n| Method    | Mean [ns] | Error [ns] | StdDev [ns] | Gen0   | Code Size [B] | Allocated [B] |\r\n|---------- |----------:|-----------:|------------:|-------:|--------------:|--------------:|\r\n| Original  |  16.926 ns |  0.2629 ns |   0.2459 ns | 0.0024 |       1,701 B |          40 B |\r\n| PR__EDIT3 |  8.937 ns |  0.1564 ns |   0.1463 ns |      - |       1,819 B |             - |\r\n\r\n### Prgba128Float (string ctor)\r\n\r\n| Method    | Mean [ns] | Error [ns] | StdDev [ns] | Gen0   | Code Size [B] | Allocated [B] |\r\n|---------- |----------:|-----------:|------------:|-------:|--------------:|--------------:|\r\n| Original  | 22.524 ns |  0.2015 ns |   0.1786 ns | 0.0029 |       1,695 B |          48 B |\r\n| PR__EDIT3 |   9.165 ns |  0.0451 ns |   0.0377 ns |      - |       1,798 B |             - |\r\n\r\n### WICPixelFormat128bppPRGBAFloat (Guid ctor)\r\n\r\n| Method    | Mean [ns] | Error [ns] | StdDev [ns] | Code Size [B] | Allocated [B] |\r\n|---------- |----------:|-----------:|------------:|--------------:|--------------:|\r\n| Original  | 12.871 ns |  0.1142 ns |   0.1069 ns |         240 B |             - |\r\n| PR__EDIT3 |  8.647 ns |  0.0772 ns |   0.0685 ns |         245 B |             - |\r\n\r\n### WICPixelFormat64bppRGBHalf (Guid ctor)\r\n\r\n| Method    | Mean [ns] | Error [ns] | StdDev [ns] | Gen0   | Code Size [B] | Allocated [B] |\r\n|---------- |----------:|-----------:|------------:|-------:|--------------:|--------------:|\r\n| Original  |  18.91 ns |   0.228 ns |    0.213 ns | 0.0024 |         241 B |          40 B |\r\n| PR__EDIT3 |  10.95 ns |   0.069 ns |    0.061 ns |      - |         246 B |             - |\r\n\r\n## Customer Impact\r\n\r\nImproved performance, decreased allocations, cleaner codebase.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nLocal build, playing with the struct.\r\n\r\n## Risk\r\n\r\nLow, don't think anyone would dare to depend on the behavior of an internal type - `PartialList` that wraps the array, which is to throw an exception when trying to set any members of the underlying array. Such use case feels rather weird.\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9861)","Url":"https://github.com/dotnet/wpf/pull/9861","RelatedDescription":"Open PR \"Optimize PixelFormat creation and PixelFormatConverter conversion speed\" (#9861)"},{"Id":"2557572454","IsPullRequest":true,"CreatedAt":"2024-09-30T20:24:36","Actor":"h3xds1nz","Number":"9860","RawContent":null,"Title":"Redefine PixelFormatChannelMask as readonly struct, optimize methods","State":"open","Body":"## Description\r\n\r\nSince `PixelFormatChannelMask` is immutable by design, we should adjust it to `readonly struct`. It will improve code quality. **This is not a breaking change**. I have also went ahead and optimized the methods and added documentation.\r\n\r\n- Official documentation was the same as in code, hence I've added some fixes (e.g. 'then' -> 'than') too.\r\n- `Equals` is now twice as fast for 8 bit colors; and a bit more than twice as fast for 32 bit colors.\r\n- `Mask` property is now 3 times faster and requires half the memory allocations.\r\n- Do note that the underlying type of `Mask` changes from `PartialList<byte>` to `byte[]`.\r\n     - The difference being that the `IList<byte>` wrapper now will allow setting via indexer, while `PartialList<byte>` would throw an exception previously, so you would have to explicitly go and create new array if needed.\r\n     - I do not think it matters, the array is owned by the caller as we make a private copy upon retrieval.\r\n- WPF base libraries reference `System.Linq` by the way.\r\n\r\n### Mask property retrieval (4 retrievals)\r\n| Method    | Mean [ns] | Error [ns] | StdDev [ns] | Gen0   | Code Size [B] | Allocated [B] |\r\n|---------- |----------:|-----------:|------------:|-------:|--------------:|--------------:|\r\n| Original  | 129.70 ns |   1.494 ns |    1.398 ns | 0.0153 |       1,035 B |         256 B |\r\n| PR__EDIT3 |  45.35 ns |   0.590 ns |    0.523 ns | 0.0076 |         476 B |         128 B |\r\n\r\n### Equals (32bit color) (2 comparisons)\r\n| Method    | Mean [ns] | Error [ns] | StdDev [ns] | Code Size [B] | Allocated [B] |\r\n|---------- |----------:|-----------:|------------:|--------------:|--------------:|\r\n| Original  | 10.683 ns |  0.1041 ns |   0.0974 ns |         416 B |             - |\r\n| PR__EDIT3 |  4.650 ns |  0.0182 ns |   0.0152 ns |         765 B |             - |\r\n\r\n### Equals (8 bit) (2 comparisons)\r\n| Method    |  Mean [ns] | Error [ns] | StdDev [ns] | Code Size [B] | Allocated [B] |\r\n|---------- |----------:|-----------:|------------:|--------------:|--------------:|\r\n| Original  |  9.485 ns |  0.0806 ns |   0.0754 ns |         416 B |             - |\r\n| PR__EDIT3 |  4.222 ns |  0.0231 ns |   0.0205 ns |         756 B |             - |\r\n\r\n## Customer Impact\r\n\r\nIncreased performance, decreased allocations, cleaner code for developers.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nLocal build, playing with the struct.\r\n\r\n## Risk\r\n\r\nI do not asses any, since the struct is immutable and this is not a breaking change. It is a change to a public type but such changes have been done previously in runtime, see for example [#97421](https://github.com/dotnet/runtime/pull/97421).\r\n\r\nAs for the underlying type swap for `Mask` property, I do not think it negatively impacts anything, behavioral change has been outlined in the description above (imho a positive one).\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9860)","Url":"https://github.com/dotnet/wpf/pull/9860","RelatedDescription":"Open PR \"Redefine PixelFormatChannelMask as readonly struct, optimize methods\" (#9860)"},{"Id":"2556033759","IsPullRequest":true,"CreatedAt":"2024-09-30T11:46:00","Actor":"siagupta0202","Number":"9859","RawContent":null,"Title":"Resolving Policheck bugs","State":"closed","Body":"## Description\r\n\r\nResolving policheck bugs by replacing country with country/region\r\n\r\n## Regression\r\n\r\nNA\r\n## Testing\r\n\r\nLocal build pass\r\n## Risk\r\n\r\nNA\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9859)","Url":"https://github.com/dotnet/wpf/pull/9859","RelatedDescription":"Closed or merged PR \"Resolving Policheck bugs\" (#9859)"},{"Id":"2553950748","IsPullRequest":true,"CreatedAt":"2024-09-30T04:22:03","Actor":"dotnet-maestro[bot]","Number":"9856","RawContent":null,"Title":"[main] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Coherency Updates**:\r\n  - **System.Reflection.MetadataLoadContext**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.Windows.Extensions**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.Platforms**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.Resources.Extensions**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.Runtime.Serialization.Formatters**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Ref**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.10.0**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.Win32.Registry.AccessControl**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.Win32.SystemEvents**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.CodeDom**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.ComponentModel.Composition**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.Configuration.ConfigurationManager**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.Data.Odbc**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.Data.OleDb**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.EventLog**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.PerformanceCounter**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices.AccountManagement**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices.Protocols**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.Formats.Nrbf**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Packaging**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Ports**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.Management**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.Reflection.Context**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.Runtime.Caching**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Pkcs**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.ProtectedData**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Xml**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Permissions**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.ServiceModel.Syndication**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.ServiceProcess.ServiceController**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.Speech**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.Text.Encoding.CodePages**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.Threading.AccessControl**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n  - **System.ComponentModel.Composition.Registration**: from 10.0.0-alpha.1.24475.8 to 10.0.0-alpha.1.24476.10 (parent: Microsoft.Private.Winforms)\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n[marker]: <> (Begin:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: dd483b3f-65b0-44ab-f62d-08d8e93a0c51\r\n- **Build**: 20240928.1\r\n- **Date Produced**: September 29, 2024 2:50:03 AM UTC\r\n- **Commit**: ff838ac7ac134944d5519c3eedf7e689b2d9f2e5\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 10.0.0-alpha.1.24477.1 to 10.0.0-alpha.1.24478.1][3]\r\n  - **Microsoft.Private.Winforms**: [from 10.0.0-alpha.1.24477.1 to 10.0.0-alpha.1.24478.1][3]\r\n  - **System.Drawing.Common**: [from 10.0.0-alpha.1.24477.1 to 10.0.0-alpha.1.24478.1][3]\r\n\r\n[3]: https://github.com/dotnet/winforms/compare/c16538b0d4...ff838ac7ac\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:dd483b3f-65b0-44ab-f62d-08d8e93a0c51)\r\n\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9856)\r\n\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/9856","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/winforms\" (#9856)"},{"Id":"2552782082","IsPullRequest":true,"CreatedAt":"2024-09-30T04:21:50","Actor":"dotnet-maestro[bot]","Number":"9852","RawContent":null,"Title":"[main] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 840bf684-917a-4879-f62c-08d8e93a0c51\r\n- **Build**: 20240926.2\r\n- **Date Produced**: September 26, 2024 4:56:06 PM UTC\r\n- **Commit**: 7e8b8f4f321c8671aa01b53567d31aaa4950706f\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Arcade.Sdk**: [from 10.0.0-beta.24475.5 to 10.0.0-beta.24476.2][1]\r\n  - **Microsoft.DotNet.CodeAnalysis**: [from 10.0.0-beta.24475.5 to 10.0.0-beta.24476.2][1]\r\n  - **Microsoft.DotNet.GenAPI**: [from 10.0.0-beta.24475.5 to 10.0.0-beta.24476.2][1]\r\n  - **Microsoft.DotNet.Helix.Sdk**: [from 10.0.0-beta.24475.5 to 10.0.0-beta.24476.2][1]\r\n\r\n[1]: https://github.com/dotnet/arcade/compare/de17e59d54...7e8b8f4f32\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9852)","Url":"https://github.com/dotnet/wpf/pull/9852","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/arcade\" (#9852)"},{"Id":"2553951120","IsPullRequest":true,"CreatedAt":"2024-09-30T04:21:08","Actor":"dotnet-maestro[bot]","Number":"9857","RawContent":null,"Title":"[release/9.0] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Coherency Updates**:\r\n  - **System.Reflection.MetadataLoadContext**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.Windows.Extensions**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.Platforms**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.Resources.Extensions**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.Runtime.Serialization.Formatters**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Ref**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.9.0**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.Win32.Registry.AccessControl**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **Microsoft.Win32.SystemEvents**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.CodeDom**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.ComponentModel.Composition**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.Configuration.ConfigurationManager**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.Data.Odbc**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.Data.OleDb**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.EventLog**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.Diagnostics.PerformanceCounter**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices.AccountManagement**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices.Protocols**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.DirectoryServices**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.Formats.Nrbf**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Packaging**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.IO.Ports**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.Management**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.Reflection.Context**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.Runtime.Caching**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Pkcs**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.ProtectedData**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Cryptography.Xml**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.Security.Permissions**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.ServiceModel.Syndication**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.ServiceProcess.ServiceController**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.Speech**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.Text.Encoding.CodePages**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.Threading.AccessControl**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n  - **System.ComponentModel.Composition.Registration**: from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4 (parent: Microsoft.Private.Winforms)\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n[marker]: <> (Begin:381f8ff1-4857-4887-5005-08dcbc3022d8)\r\n## From https://github.com/dotnet/winforms\r\n- **Subscription**: 381f8ff1-4857-4887-5005-08dcbc3022d8\r\n- **Build**: 20240927.2\r\n- **Date Produced**: September 27, 2024 2:08:03 PM UTC\r\n- **Commit**: b40020d58f624c6d280b25645160e0d44e9c9861\r\n- **Branch**: refs/heads/release/9.0\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Dotnet.WinForms.ProjectTemplates**: [from 9.0.0-rtm.24474.4 to 9.0.0-rtm.24477.2][1]\r\n  - **Microsoft.Private.Winforms**: [from 9.0.0-rtm.24474.4 to 9.0.0-rtm.24477.2][1]\r\n  - **System.Drawing.Common**: [from 9.0.0-rtm.24474.4 to 9.0.0-rtm.24477.2][1]\r\n  - **System.Reflection.MetadataLoadContext**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.Windows.Extensions**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **Microsoft.NETCore.Platforms**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.Resources.Extensions**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.Runtime.Serialization.Formatters**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **Microsoft.NETCore.App.Ref**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.9.0**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **Microsoft.Win32.Registry.AccessControl**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **Microsoft.Win32.SystemEvents**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.CodeDom**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.ComponentModel.Composition**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.Configuration.ConfigurationManager**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.Data.Odbc**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.Data.OleDb**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.Diagnostics.EventLog**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.Diagnostics.PerformanceCounter**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.DirectoryServices.AccountManagement**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.DirectoryServices.Protocols**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.DirectoryServices**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.Formats.Nrbf**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.IO.Packaging**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.IO.Ports**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.Management**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.Reflection.Context**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.Runtime.Caching**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.Security.Cryptography.Pkcs**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.Security.Cryptography.ProtectedData**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.Security.Cryptography.Xml**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.Security.Permissions**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.ServiceModel.Syndication**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.ServiceProcess.ServiceController**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.Speech**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.Text.Encoding.CodePages**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.Threading.AccessControl**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n  - **System.ComponentModel.Composition.Registration**: [from 9.0.0-rtm.24473.2 to 9.0.0-rtm.24476.4][2]\r\n\r\n[1]: https://github.com/dotnet/winforms/compare/0749a97fb5...b40020d58f\r\n[2]: https://github.com/dotnet/runtime/compare/3d9da91a97...0d44aea369\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:381f8ff1-4857-4887-5005-08dcbc3022d8)\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9857)","Url":"https://github.com/dotnet/wpf/pull/9857","RelatedDescription":"Closed or merged PR \"[release/9.0] Update dependencies from dotnet/winforms\" (#9857)"},{"Id":"2553580953","IsPullRequest":true,"CreatedAt":"2024-09-30T04:20:39","Actor":"ericstj","Number":"9854","RawContent":null,"Title":"Enable NuGet Audit","State":"closed","Body":"We want to enable NuGet audit on all the repos that make up the .NET product. https://github.com/dotnet/arcade/issues/15019\r\n\r\nThe only problems I encountered were due to transitive dependencies brought in by Moq.  I fixed those by upgrading to the same version used in other dotnet repos.\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9854)","Url":"https://github.com/dotnet/wpf/pull/9854","RelatedDescription":"Closed or merged PR \"Enable NuGet Audit\" (#9854)"},{"Id":"2554475869","IsPullRequest":true,"CreatedAt":"2024-09-28T20:01:56","Actor":"h3xds1nz","Number":"9858","RawContent":null,"Title":"Remove TimelineEnumerator/TimelineTreeEnumerator dead code","State":"open","Body":"## Description\r\n\r\nRemoves `TimelineEnumerator` and `TimelineTreeEnumerator` members that are just dead code.\r\nThey don't seem to be used already in NetFX v3.5. `TimelineEnumerator` wasn't even included in the `csproj`.\r\n\r\n## Customer Impact\r\n\r\nDecreased size of assemblies, better code quality of codebase for developers.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nLocal build.\r\n\r\n## Risk\r\n\r\nI believe there is none, this code is unused since `NetFX`.\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9858)","Url":"https://github.com/dotnet/wpf/pull/9858","RelatedDescription":"Open PR \"Remove TimelineEnumerator/TimelineTreeEnumerator dead code\" (#9858)"},{"Id":"2553732838","IsPullRequest":true,"CreatedAt":"2024-09-27T21:03:41","Actor":"h3xds1nz","Number":"9855","RawContent":null,"Title":"Remove XBAP-related dead code from BrowserInteropHelper/SafeSecurityHelper","State":"open","Body":"## Description\r\n\r\nRemoves some XBAP-related dead code that hasn't been removed in #1009, mainly from `BrowserInteropHelper` and my favourite `SafeSecurityHelper`. Also removes the registry paths that are no longer looked up by WPF on .NET Core.\r\n\r\nI've also hollowed out `DynamicScriptObject` because the only way to create an instance was via `HostScript` property of `BrowserInteropHelper`, which returns `null` on all versions of .NET Core, so you could never initiate one.\r\n\r\n## Customer Impact\r\n\r\nDecreased size of assemblies, better code quality of codebase for developers.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nLocal build.\r\n\r\n## Risk\r\n\r\nI believe there is none, XBAP is not supported on .NET Core, this is just leftover code that is uncalled.\r\n\r\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9855)","Url":"https://github.com/dotnet/wpf/pull/9855","RelatedDescription":"Open PR \"Remove XBAP-related dead code from BrowserInteropHelper/SafeSecurityHelper\" (#9855)"},{"Id":"2553107618","IsPullRequest":true,"CreatedAt":"2024-09-27T14:39:36","Actor":"h3xds1nz","Number":"9853","RawContent":null,"Title":"Replace ArrayList/ICollection used for changelog in CollectionView with generic List","State":"open","Body":"## Description\r\n\r\nReplaces `ArrayList` used for tracking changes with `List<NotifyCollectionChangedEventArgs>`. Instead of using `SyncRoot` (object) of the `ArrayList` we will just use the new `Lock` for clarity and slightly improved performance.\r\n\r\nAlso modifies `ProcessChangeLog` / `DeferProcessing` from `ICollection` to `List<NotifyCollectionChangedEventArgs>` for improved performance.\r\n\r\n- The `ProcessChangeLog` null-check was there because of the `as` casting pattern, if the `args` inserted into the `_changeLog` would ever be null, it would blow before it was even added in `PostChange` (the only proc adding into `_changeLog`).\r\n- `DeferProcessing` doesn't need the null-check branch because the only time `_changeLog` is written into is always covered using `_changeLogLock`, so it cannot be NULL, and the ref transfer to `_tempChangeLog` is covered in lock too (`ProcessInvoke`).\r\n- `startCount` variable was removed because it was unused.\r\n\r\n## Customer Impact\r\n\r\nImproved performance when updating the `CollectionView`, clearer code for developers.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nLocal build, testing with CollectionView sample apps, updating from background thread.\r\n\r\n## Risk\r\n\r\nLow.\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9853)","Url":"https://github.com/dotnet/wpf/pull/9853","RelatedDescription":"Open PR \"Replace ArrayList/ICollection used for changelog in CollectionView with generic List\" (#9853)"},{"Id":"2552676386","IsPullRequest":true,"CreatedAt":"2024-09-27T11:20:28","Actor":"h3xds1nz","Number":"9851","RawContent":null,"Title":"Optimize some methods in RightsManagementEncryptionTransform, reduce allocs","State":"open","Body":"## Description\r\n\r\nOptimizes some low-hanging fruit in this mostly unused part of WPF to remove some unnecessary allocations.\r\n\r\n- `CompareOrdinal` replaced with the most obvious `StartsWith`.\r\n- The Base32 wannabe can be now encoded into a stackallocated buffer if its big enough.\r\n- Parsing authentication type now does it directly off the sliced input string.\r\n- Removed the `LicenseStreamNamePrefixLength`, 4 bytes saved sounds good.\r\n\r\nSince I like numbers, here's a benchmark of `MakeUseLicenseStreamName`.\r\n\r\n| Method    |Mean [ns] | Error [ns] | StdDev [ns] | Gen0   | Code Size [B] | Allocated [B] |\r\n|---------- |-----------:|-----------:|------------:|-------:|--------------:|--------------:|\r\n| Original  |   565.6 ns |    1.71 ns |     1.43 ns | 0.0172 |         260 B |         288 B |\r\n| PR__EDIT2 |  541.0 ns |    2.65 ns |     2.07 ns | 0.0048 |         386 B |          88 B |\r\n\r\n## Customer Impact\r\n\r\nDecreased allocations, improved performance in this edge-case such as anyone still using this.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nLocal build, didn't test the full functionality itself but at least `MakeUseLicenseStreamName` + `Base32EncodeWithoutPadding` outputs have been tested to provide same set of values before and after. However the swaps are pretty much 1:1.\r\n\r\n## Risk\r\n\r\nLow.\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9851)","Url":"https://github.com/dotnet/wpf/pull/9851","RelatedDescription":"Open PR \"Optimize some methods in RightsManagementEncryptionTransform, reduce allocs\" (#9851)"},{"Id":"2552592128","IsPullRequest":true,"CreatedAt":"2024-09-27T10:35:08","Actor":"adamsitnik","Number":"9850","RawContent":null,"Title":"[release/9.0][NRBF] adjust to upcoming breaking changes","State":"open","Body":"We are soon going to merge changes to System.Formats.Nrbf that are going to break the build (by making some of the tests fail). Since I'll be most probably on vacations at that time, I am sending this PR so anybody who works on unblocking the Maestro update can just cherry-pick my commit and unblock themselves.\r\n\r\nOnce you do that, please close this PR.\r\n\r\ncc @rchauhan18\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9850)","Url":"https://github.com/dotnet/wpf/pull/9850","RelatedDescription":"Open PR \"[release/9.0][NRBF] adjust to upcoming breaking changes\" (#9850)"},{"Id":"2552519953","IsPullRequest":true,"CreatedAt":"2024-09-27T09:59:14","Actor":"miloush","Number":"9849","RawContent":null,"Title":"Live filtering race condition fix","State":"open","Body":"Fixes #9454\r\n\r\n## Description\r\n\r\nWhen items are added to a filtering collection, changing a live filtering property too fast might result in the collection view becoming out of sync of the data.\r\n\r\nThis is because the subscription to changes in the list happens after items are added to a private copy of the list, providing a window between the copy and the subscription in which changes can occur unnoticed. This PR fixes it by moving the subscription before creating the copy.\r\n\r\n## Customer Impact\r\n\r\nBy not taking this fix, customers cannot rely on data being correctly filtered during live shaping.\r\n\r\n## Regression\r\n\r\nNo.\r\n\r\n## Testing\r\n\r\nTested with provided repro project at https://github.com/VanderlandeWouterPost/CollectionViewSourceFilterAndSortIssue. Verified the issue occurs before the PR but not after.\r\n\r\n## Risk\r\n\r\nCan't think of any significant risk. When the subscription event occurs, it marks the collection as dirty and queues a dispatcher task to update the view. Both before and after PR, this task executes after the collection is copied.\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9849)","Url":"https://github.com/dotnet/wpf/pull/9849","RelatedDescription":"Open PR \"Live filtering race condition fix\" (#9849)"},{"Id":"2550415828","IsPullRequest":true,"CreatedAt":"2024-09-27T05:08:50","Actor":"dotnet-maestro[bot]","Number":"9846","RawContent":null,"Title":"[main] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 840bf684-917a-4879-f62c-08d8e93a0c51\r\n- **Build**: 20240925.5\r\n- **Date Produced**: September 25, 2024 10:41:39 PM UTC\r\n- **Commit**: de17e59d54ed3a4f62fa8c556257570687506aa1\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Arcade.Sdk**: [from 10.0.0-beta.24473.2 to 10.0.0-beta.24475.5][1]\r\n  - **Microsoft.DotNet.CodeAnalysis**: [from 10.0.0-beta.24473.2 to 10.0.0-beta.24475.5][1]\r\n  - **Microsoft.DotNet.GenAPI**: [from 10.0.0-beta.24473.2 to 10.0.0-beta.24475.5][1]\r\n  - **Microsoft.DotNet.Helix.Sdk**: [from 10.0.0-beta.24473.2 to 10.0.0-beta.24475.5][1]\r\n\r\n[1]: https://github.com/dotnet/arcade/compare/3dadfa71b6...de17e59d54\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:840bf684-917a-4879-f62c-08d8e93a0c51)\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9846)","Url":"https://github.com/dotnet/wpf/pull/9846","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/arcade\" (#9846)"},{"Id":"2552005943","IsPullRequest":false,"CreatedAt":"2024-09-27T05:06:06","Actor":"vsfeedback","Number":"9848","RawContent":null,"Title":"User32.dll RegisterClipboardFormat returns a negative ID","State":"open","Body":"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/t/User32dll-RegisterClipboardFormat-retur/10748457)._\n\n---\n[severity:It's more difficult to complete my work]\nI am running into some edge cases in my application where registering a clipboard format returns a negative format ID, so the DataFormat that is created has a negative ID.\n\n When this happens, if I call `Clipboard.ContainsData()` with my formats, it returns false, even though the formats are in the _formatList and they are on the clipboard.\n\nWhat causes the format ID to be negative?\n\n![image.png](https://aka.ms/dc/image?name=B8eb7618197cd44088238ee2b4e704656638622847585843313_20240918-153237-image.png&tid=8eb7618197cd44088238ee2b4e704656638622847585843313)\n\n\n---\n### Original Comments\n\n#### Feedback Bot on 9/19/2024, 06:55 AM: \n\n<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>\n","Url":"https://github.com/dotnet/wpf/issues/9848","RelatedDescription":"Open issue \"User32.dll RegisterClipboardFormat returns a negative ID\" (#9848)"},{"Id":"2551680730","IsPullRequest":true,"CreatedAt":"2024-09-26T23:17:13","Actor":"relay955","Number":"9847","RawContent":null,"Title":"fix process terminated error when fastly type text with focusing on datagrid using IME","State":"open","Body":"Fixes #9829\r\nWPF in .net core 6.0 or 8.0, process terminated error occured and exit program unexpectly when type korean(IME) character fast in DataGrid.\r\n\r\nSee also : #9805\r\n\r\nMain PR\r\n\r\n## Description\r\n<!-- Give a brief summary of the issue and how the pull request is fixing it. -->\r\n\r\nwhen a DataGrid is first attached while handling an IME, the TextStore.OnFocus() method is executed before any event listeners are set up, giving dispatcher events a chance to be handled. At this time, if the user entered two or more IME characters very quickly, the event is processed at this point, and the consistency check fails in this event and an error occurs.\r\n\r\nThis commit simply moves the call to the OnFocus() method to after setting up the event listener, giving the dispatcher a chance to handle the event.\r\n\r\n## Customer Impact\r\n<!-- What is the impact to customers of not taking this fix? -->\r\n As a result, when the OnFocus() method is executed, the user's input is processed first, and then selection changed is executed, and the problem of the program being terminated due to quickly entering IME characters is resolved.\r\n\r\n## Regression\r\n<!-- Is this fixing a problem that was introduced in the most recent release, ie., fixing a regression? -->\r\n\r\n## Testing\r\n<!-- What kind of testing has been done with the fix. -->\r\ntested with Windows 11 Pro, Korean IME, sample programs not terminated, work well.\r\n\r\n\r\n## Risk\r\n<!-- Please assess the risk of taking this fix. Provide details backing up your assessment. -->\r\nso, it is very simple changes, Since the path where the Attach() method is executed is limited, I think there will be no major problems.\r\n\r\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/wpf/pull/9847)","Url":"https://github.com/dotnet/wpf/pull/9847","RelatedDescription":"Open PR \"fix process terminated error when fastly type text with focusing on datagrid using IME\" (#9847)"}],"ResultType":"GitHubIssue"}},"RunOn":"2024-10-02T03:30:30.3578457Z","RunDurationInMilliseconds":565}