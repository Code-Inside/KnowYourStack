{"Data":{"Vue-Issues":{"Issues":[{"Id":"479955963","IsPullRequest":false,"CreatedAt":"2019-08-13T04:40:40","Actor":"jovenwang1212","Number":"10385","RawContent":null,"Title":"why not always create a now object of data for component?","State":"open","Body":"### What problem does this feature solve?\r\nNow we register a Component, the data value must be a function, can not be an object. if we use an object, then we get console error. it is not allowed.\r\n\r\nBut if i want to put Vue component data an object, as the root Vue instance, how ? There is a solution, Vue.js always return a new object of component data? \r\n\r\n\r\n### What does the proposed API look like?\r\n  Vue.component('Counter', {\r\n    data: {\r\n      num: 0\r\n    }\r\n  })\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10385","RelatedDescription":"Open issue \"why not always create a now object of data for component?\" (#10385)"},{"Id":"479940725","IsPullRequest":false,"CreatedAt":"2019-08-13T03:23:05","Actor":"jxZhangLi","Number":"10384","RawContent":null,"Title":"How to use v-if directives inside custom directivesï¼Ÿ","State":"open","Body":"### What problem does this feature solve?\r\nI want to implement such a directive, but I don't know how to do it ï¼\r\nThere is no introduction in the document. Help meï¼\r\n\r\n```html\r\n<template>\r\n <div class=\"orders\">\r\n    <div class=\"content\"></div>\r\n    \r\n    <select-product-dialog v-if=\"showA\" /> \r\n    \r\n    <select-project-dialog v-if=\"showB\"/> \r\n    \r\n    <settlement-dialog v-if=\"showC\"/>\r\n  </div>\r\n</template>\r\n````\r\n\r\n ```javascript\r\n new Vue({\r\n    data: {\r\n        showA: false,\r\n        showB: false,\r\n        showC: false\r\n    },\r\n    created () {\r\n        setTimeout(() => {\r\n            this.showA = true;\r\n            this.showB = true;\r\n            this.showC = true;\r\n        }, 0);\r\n    }\r\n});\r\n ```\r\n\r\n### What does the proposed API look like?\r\n```html\r\n<template>\r\n  <div class=\"delay\">\r\n    <h1 v-if=\"true\" v-delay>delay title</h1>\r\n    <delay-component v-delay=\"100\" />\r\n  </div>\r\n</template>\r\n```\r\n\r\n```js\r\nVue.directive('delay', {\r\n    bind: function (el, binding, vnode) {\r\n      // ??? how use v-if\r\n    },\r\n    inserted: function (el, binding, vnode) {\r\n      \r\n    },\r\n    update: function (el, binding, vnode) {\r\n      \r\n    },\r\n    unbind: function (el, binding, vnode) {\r\n     \r\n    },\r\n  })\r\n\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10384","RelatedDescription":"Open issue \"How to use v-if directives inside custom directivesï¼Ÿ\" (#10384)"},{"Id":"479476526","IsPullRequest":true,"CreatedAt":"2019-08-13T02:15:32","Actor":"SergioCrisostomo","Number":"10379","RawContent":null,"Title":"fix(traverse): Prevent traversing Vue instances","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n\r\nThis fixes a bug first discovered in Vuex where storing Vue instances in the Store generates a `RangeError: Maximum call stack size exceeded`.\r\n\r\nRelated: https://github.com/vuejs/vuex/issues/1587\r\n\r\n> If there is another approach for this I'm happy to go that road and suggest an alternative fix or documentation improvement..\r\n","Url":"https://github.com/vuejs/vue/pull/10379","RelatedDescription":"Closed or merged PR \"fix(traverse): Prevent traversing Vue instances\" (#10379)"},{"Id":"479919052","IsPullRequest":false,"CreatedAt":"2019-08-13T01:33:31","Actor":"xiaowei9495","Number":"10383","RawContent":null,"Title":"Unable to watch for Set data type changes","State":"open","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://github.com/xiaowei9495/vue-watch-set-demo](https://github.com/xiaowei9495/vue-watch-set-demo)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nyarn -> yarn serve -> Home Page -> add button\r\n\r\n### What is expected?\r\nwatch Set\r\n\r\n### What is actually happening?\r\nNo watch\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10383","RelatedDescription":"Open issue \"Unable to watch for Set data type changes\" (#10383)"},{"Id":"479788457","IsPullRequest":true,"CreatedAt":"2019-08-12T18:35:07","Actor":"olramde","Number":"10382","RawContent":null,"Title":"Fix: Added period to maintain consistency.","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [x] Other, please describe: I added a period to keep the comments consistent.\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/10382","RelatedDescription":"Closed or merged PR \"Fix: Added period to maintain consistency.\" (#10382)"},{"Id":"479645860","IsPullRequest":false,"CreatedAt":"2019-08-12T17:56:46","Actor":"roed","Number":"10381","RawContent":null,"Title":"\"open\" seems to be a reserved prop name?","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/qagby1e4/](https://jsfiddle.net/qagby1e4/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nSomehow if I use the attribute \"open\" on a html tag, vue fills the attribute with the value \"open\". See the attached jfiddle, and inspect the span containing the attribute. If I put the tag outside the vue app, everything is fine. Also, it doesn't matter what the content of the attribute is.\r\n\r\n### What is expected?\r\nVue doesn't mutate the attribute \"open\" on html tags inside the vue app.\r\n\r\n### What is actually happening?\r\nVue mutates the \"open\" attribute with the value \"open\".\r\n\r\n---\r\nIt doesn't seem to be a reserved keyword, although this file https://github.com/vuejs/vue/blob/dev/src/platforms/web/util/attrs.js does specify it as a boolean attribute. In our case, a mathjax html structure, the open attribute can contain string values.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10381","RelatedDescription":"Closed issue \"\"open\" seems to be a reserved prop name?\" (#10381)"},{"Id":"479508315","IsPullRequest":true,"CreatedAt":"2019-08-12T08:05:32","Actor":"DanielRuf","Number":"10380","RawContent":null,"Title":"fix: set only flex-wrap","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\nThis PR replaces the shorthand `flex-flow` with the right long version `flex-wrap`.\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/10380","RelatedDescription":"Closed or merged PR \"fix: set only flex-wrap\" (#10380)"},{"Id":"479415512","IsPullRequest":false,"CreatedAt":"2019-08-11T22:22:54","Actor":"gofish543","Number":"10378","RawContent":null,"Title":"Component with Named Slots and Templates","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/chrisvfritz/50wL7mdz/](https://jsfiddle.net/chrisvfritz/50wL7mdz/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nI don't know how to make a codepen to reproduce this.\r\n```\r\nstates = { 1, 2, 3, 4, 5};\r\n\r\n<!-- Parent -->\r\n <StepThrough :states=\"states\">\r\n     <template :slot=\"`${index}-body\" v-for=\"index in states\"><span>Wish I worked</span></template>\r\n</StepThrough>\r\n\r\n<!-- StepThrough -->\r\n<div class=\"panel\" v-for=\"index in states\">\r\n     <slot :name=\"`${index}-body`\"></slot>\r\n</div>\r\n```\r\n\r\n### What is expected?\r\nWish I worked should be displayed\r\n\r\n### What is actually happening?\r\nIt isn't\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10378","RelatedDescription":"Closed issue \"Component with Named Slots and Templates\" (#10378)"},{"Id":"479303263","IsPullRequest":true,"CreatedAt":"2019-08-10T20:23:45","Actor":"zrh122","Number":"10377","RawContent":null,"Title":"fix(compiler): fix nested v-slot not updating when used with v-if/v-else","State":"open","Body":"fix nested v-slot not updating when v-if/v-else used in the root element of the slot content, and it will close #10330 .\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/10377","RelatedDescription":"Open PR \"fix(compiler): fix nested v-slot not updating when used with v-if/v-else\" (#10377)"},{"Id":"479123095","IsPullRequest":false,"CreatedAt":"2019-08-09T18:57:54","Actor":"jaiko86","Number":"10376","RawContent":null,"Title":"`v-for` not rendering the items correctly","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://github.com/jaiko86/subtasks/pull/1](https://github.com/jaiko86/subtasks/pull/1)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Clone the project, and fetch the branch `workspace`.\r\n2. Start the project.\r\n3. When the app launches, click the left-most tab on the top that reads \"workspace name\". \r\n4. An empty task should be visible now. \r\n5. Click the empty task so the input is focused, then press enter.\r\n\r\n### What is expected?\r\nAnother empty task should appear at the bottom\r\n\r\n### What is actually happening?\r\nNo change happens in the view. \r\n\r\n---\r\nBasically, the view is supposed to render an empty task for each item in the computed property `taskIds` in the `<App>`. When the steps to reproduce has been followed, the Vue devtool shows that `taskIds: [\"1\", \"2\"]` is in the computed property in the `<App>` component. The empty task that is currently exists on the screen corresponds to ID \"1\".\r\n\r\nGo to the console and type `printTree()`. It will print the following:\r\n```\r\n0\r\n  1\r\n\r\n  2\r\n```\r\nIt means the root (\"0\") has 2 children, \"1\" and \"2\".\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10376","RelatedDescription":"Closed issue \"`v-for` not rendering the items correctly\" (#10376)"},{"Id":"478939702","IsPullRequest":false,"CreatedAt":"2019-08-09T11:30:22","Actor":"Sand3r205","Number":"10375","RawContent":null,"Title":"Warn when v-for with a Range is not a valid integer","State":"open","Body":"### What problem does this feature solve?\r\nWhen using the v-for directive with a Range and the number passed is not a valid integer (valid integer = an integer between 0 and 2^32-1), Vue.JS still tries to create an Array and then throws the error `[Vue warn]: Error in render: \"RangeError: Invalid array length\"`.\r\n\r\nThis happened to me while passing a computed property to the directive: `v-for=\"n in lists\"` where `lists` is the computed property.\r\n\r\nWhen the developer has multiple v-for directives, it is unclear where the error occurs, making the debugging process though.\r\n\r\nIf the mistake is caught by Vue before creating the Array, rendering the component shouldn't have to stop. Instead we can throw a warning and render an empty v-for directive. This would would make debugging easier, since other v-for directives in the same component would still render.\r\n\r\n### What does the proposed API look like?\r\nAdd a check in /src/core/instance/render-helpers/render-list.js at line 22, checking if a valid number is:\r\n* higher or equal to 0\r\n* lower or equal to 2^32 - 1\r\n* modules to 1 is equal to 0\r\n\r\n```javascript\r\nelse if (typeof val === 'number') {\r\n  if (val >= 0 && val <= 4294967295 && val % 1 === 0) {\r\n    ret = new Array(val)\r\n    for (i = 0; i < val; i++) {\r\n      ret[i] = render(i + 1, i)\r\n    }\r\n  } else {\r\n    warn (\r\n      `Number passed to v-for directive not valid (expected valid integer), got ${val}`,\r\n      this\r\n    )\r\n    ret = []\r\n  }\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10375","RelatedDescription":"Open issue \"Warn when v-for with a Range is not a valid integer\" (#10375)"},{"Id":"478626005","IsPullRequest":false,"CreatedAt":"2019-08-09T10:53:36","Actor":"wizardnet972","Number":"10370","RawContent":null,"Title":"Why I get Unexpected token export Error on nodejs with vue cli and ssr?","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://github.com/wizardnet972/vuecli-with-ssr](https://github.com/wizardnet972/vuecli-with-ssr)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n```\r\n$ Clone my github repo: git clone https://github.com/wizardnet972/vuecli-with-ssr.git\r\n\r\n$ npm i\r\n\r\n$ npm run build:prod && node server.js\r\n\r\n$ open http://localhost:8080/\r\n```\r\n\r\nHere My Github repo code and this is how I create my repo:\r\n\r\nFirst I create a new app using vue/cli: $ vue create vuecli-with-ssr with typescript\r\n\r\nI edit and add the files: vue.config.js tsconfig.json server.js babel.config.js entry-client.ts entry-server.ts main.ts index.template.html\r\n\r\nRun the project in production mode (not the dev server) : npm run build:prod && node server.js\r\n\r\n---\r\n\r\nI just created a vue project using the vue/cli v3.10.0\r\n\r\nI add ssr to the project like [vue-cli-ssr-example example](https://github.com/eddyerburgh/vue-cli-ssr-example).\r\n\r\nBut after I build and run the server side (nodejs) and I try to browse to http://localhost:8080:\r\n\r\nBut The following error occurs :\r\n```\r\nerror during render : /\r\nC:\\sandbox3\\vuecli-with-ssr\\node_modules\\register-service-worker\\index.js:18\r\nexport function register (swUrl, hooks) {\r\n^^^^^^\r\n\r\nSyntaxError: Unexpected token export\r\n    at new Script (vm.js:79:7)\r\n    at createScript (vm.js:251:10)\r\n    at Object.runInThisContext (vm.js:303:10)\r\n    at Module._compile (internal/modules/cjs/loader.js:656:28)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:699:10)\r\n    at Module.load (internal/modules/cjs/loader.js:598:32)\r\n    at tryModuleLoad (internal/modules/cjs/loader.js:537:12)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:529:3)\r\n    at Module.require (internal/modules/cjs/loader.js:636:17)\r\n    at require (internal/modules/cjs/helpers.js:20:18)\r\nerror during render : /favicon.ico\r\nC:\\sandbox3\\vuecli-with-ssr\\node_modules\\register-service-worker\\index.js:18\r\nexport function register (swUrl, hooks) {\r\n^^^^^^\r\n\r\nSyntaxError: Unexpected token export\r\n    at new Script (vm.js:79:7)\r\n    at createScript (vm.js:251:10)\r\n    at Object.runInThisContext (vm.js:303:10)\r\n    at Module._compile (internal/modules/cjs/loader.js:656:28)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:699:10)\r\n    at Module.load (internal/modules/cjs/loader.js:598:32)\r\n    at tryModuleLoad (internal/modules/cjs/loader.js:537:12)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:529:3)\r\n    at Module.require (internal/modules/cjs/loader.js:636:17)\r\n    at require (internal/modules/cjs/helpers.js:20:18)\r\n```\r\nAny ideas how to fix it?\r\n\r\n[Here My Github repo code](https://github.com/wizardnet972/vuecli-with-ssr) and this is how I create my repo:\r\n\r\nFirst I create a new app using vue/cli: $ vue create vuecli-with-ssr \r\n\r\n![image](https://user-images.githubusercontent.com/4997825/62728311-21319f80-ba24-11e9-9672-2525e1709cf9.png)\r\n\r\nI edit and add the files: vue.config.js tsconfig.json server.js babel.config.js entry-client.ts entry-server.ts main.ts index.template.html\r\n\r\nRun the project in production mode (not the dev server) : npm run build:prod && npm run build:ssr && node server.js\r\n\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10370","RelatedDescription":"Closed issue \"Why I get Unexpected token export Error on nodejs with vue cli and ssr?\" (#10370)"},{"Id":"478907813","IsPullRequest":false,"CreatedAt":"2019-08-09T10:51:07","Actor":"y-nk","Number":"10374","RawContent":null,"Title":"Checkbox/computer setter loss of sync","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/wj1o6fbu/](https://jsfiddle.net/wj1o6fbu/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Click on the checkbox once to turn it on\r\n2. Click on the checkbox a second time to turn it off :\r\n  - if you press 'OK', everything behaves perfectly\r\n  - if you press 'CANCEL', even though the value and computed are true, the checkbox is unchecked\r\n\r\n### What is expected?\r\ncheckbox should not be unchecked\r\n\r\n### What is actually happening?\r\ncheckbox is unchecked\r\n\r\n---\r\nI know using a function is probably a good quick fix, but this is part of a bigger algorithm, streamlined structure generated by huge json documents with dozens of fields. I'd wish to understand why it fails.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10374","RelatedDescription":"Closed issue \"Checkbox/computer setter loss of sync\" (#10374)"},{"Id":"478884223","IsPullRequest":false,"CreatedAt":"2019-08-09T10:26:14","Actor":"falstack","Number":"10373","RawContent":null,"Title":"add v-attrs","State":"closed","Body":"### What problem does this feature solve?\r\n``` html\r\n<input type=\"props.type\" placeholder=\"props.placeholder\" max-length=\"props.maxLength\" />\r\n```\r\n\r\nIt's not cool\r\n\r\n### What does the proposed API look like?\r\n``` html\r\n<input :attrs=\"props\">\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10373","RelatedDescription":"Closed issue \"add v-attrs\" (#10373)"},{"Id":"478806907","IsPullRequest":true,"CreatedAt":"2019-08-09T05:43:51","Actor":"sdrees","Number":"10372","RawContent":null,"Title":"Sync Fork from Upstream Repo","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [ ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/10372","RelatedDescription":"Closed or merged PR \"Sync Fork from Upstream Repo\" (#10372)"},{"Id":"478766527","IsPullRequest":false,"CreatedAt":"2019-08-09T02:32:10","Actor":"thihathit","Number":"10371","RawContent":null,"Title":"watch vuex in component with v-if rendering not working","State":"closed","Body":"I've been playing around with vuex and bumped into this, not sure if i'm doing it right for watching vuex data from component.\r\nIt seems v-if doesn't work whereas v-show works fine.\r\n\r\n### Version\r\n\r\n2.6.10\r\n\r\n\r\n\r\n### Steps to reproduce\r\n\r\nvuex store module\r\n\r\n```js\r\n// Store module named \"Seasons\"\r\nexport default {\r\n  namespaced: true,\r\n  state: {\r\n    prize: 0,\r\n  },\r\n  mutations: {\r\n    SET_PRIZE: (state, value) => {\r\n      state.prize = value;\r\n    },\r\n  },\r\n  actions: {\r\n    set_prize: (context, value) => {\r\n      context.commit('SET_PRIZE', value);\r\n    },\r\n  },\r\n}\r\n```\r\nComponent\r\n```js\r\n// Component\r\nexport default {\r\n  name: 'SeasonInfo',\r\n  data: function() {\r\n    return {\r\n      prize: 0,\r\n      loading: true,\r\n    }\r\n  },\r\n  watch: {\r\n    '$store.state.Seasons.prize': function(newVal, oldVal) {\r\n      this.prize = newVal\r\n    },\r\n  },\r\n  mounted: function() {\r\n\tthis.$store.dispatch('Seasons/set_prize', 1000)\r\n    this.loading = false\r\n  }\r\n}\r\n```\r\nComponent Template\r\n```vue\r\n// prize value doesn't update reactively after store dispatch\r\n<div v-if=\"!loading\">{{ prize }}</div>\r\n\r\n// works reactively\r\n<div v-show=\"!loading\">{{ prize }}</div>\r\n```\r\n\r\n\r\n### What is expected?\r\n\r\nRender vuex value reactively in component that is watched via component.\r\n\r\n\r\n\r\n### What is actually happening?\r\n\r\nDoesn't render updated value when using v-if but works with v-show\r\n\r\n\r\n\r\n### Additional\r\n\r\nI've with tried this.$store.watch() but still no luck. ğŸ˜”\r\nAny idea is very much appreciated. Thanks","Url":"https://github.com/vuejs/vue/issues/10371","RelatedDescription":"Closed issue \"watch vuex in component with v-if rendering not working\" (#10371)"},{"Id":"478469953","IsPullRequest":false,"CreatedAt":"2019-08-08T13:25:08","Actor":"janswist","Number":"10369","RawContent":null,"Title":"keep-alive doesn't cache component","State":"closed","Body":"Copied from here: https://stackoverflow.com/questions/57411420/keep-alive-doesnt-cache-component\r\n\r\nI have issue with having `keep-alive` actually keeping components alive.\r\n\r\nComponent that is being rendered in router-view have async fetching after component is mounted. My issue is that after the first time component shows up when I render other component in that very same router and then go back then first component rerender as normal instead of keeping fetched data as it was.\r\n\r\nI checked hooks and besides `activated` and `deactivated` also `created` hook fires which I suppose shouldn't be the case beyond first render. Also when I switch components `destroyed` hook fires which also shouldn't happen.\r\n\r\n```\r\n      .container-fluid\r\n        .row.wrapper\r\n          aside.col-12.col-sm-2.p-0\r\n            nav.navbar.navbar-light.navbar-expand-sm.align-items-start.flex-sm-column.flex-row.text-uppercase#navbar1\r\n              a.navbar-toggler(href='', data-toggle='collapse', data-target='.sidebar')\r\n                span.navbar-toggler-icon\r\n              .collapse.navbar-collapse.sidebar\r\n                ul.flex-column.navbar-nav.w-100.justify-content-between\r\n                  li.nav-item\r\n                    router-link.nav-link.pl-0(to='candidates' data-toggle=\"collapse\" data-target=\".navbar-collapse.show\")\r\n                      font-awesome-icon.fa-fw.mr-2(:icon=\"iconTachometer\")\r\n                      | Dashboard  \r\n\r\n          main.col.bg-faded.py-3\r\n            .card\r\n              .card-body\r\n                keep-alive\r\n                  router-view(:key=\"$route.fullPath\")\r\n```\r\n---------\r\nChild components are typical components that fetch data.","Url":"https://github.com/vuejs/vue/issues/10369","RelatedDescription":"Closed issue \"keep-alive doesn't cache component\" (#10369)"},{"Id":"478433329","IsPullRequest":false,"CreatedAt":"2019-08-08T12:17:09","Actor":"M-Zuber","Number":"10368","RawContent":null,"Title":"Initialize the value if it is not found when building the proxy","State":"closed","Body":"### What problem does this feature solve?\r\nIn some situations, the proxy builder can run before the `sourceKey` field exists.\r\nI would like to suggest adding in a fail-safe in the get/set that are built to initialize `sourceKey` as an object with a single key, namely the `key` that was passed into the proxy function.\r\n\r\n### What does the proposed API look like?\r\nThere are no changes made to the API, it is an internal addition only.\r\n\r\nThe change involved would be to change [this function](https://github.com/vuejs/vue/blob/33e669b22f69a1f9c9147528360fe0bba85534f0/src/core/instance/state.js#L38) to include an inner `if` \r\n```diff\r\nfunction proxy (target, sourceKey, key) {\r\n  sharedPropertyDefinition.get = function proxyGetter () {\r\n+    if(!this[sourceKey]) {\r\n+      this[sourceKey] = {\r\n+        [key] = {}\r\n+      };\r\n+    }\r\n    return this[sourceKey][key]\r\n  };\r\n  sharedPropertyDefinition.set = function proxySetter (val) {\r\n+    if(!this[sourceKey]) {\r\n+      this[sourceKey] = {\r\n+        [key] = {}\r\n+      };\r\n+    }\r\n    this[sourceKey][key] = val;\r\n  };\r\n  Object.defineProperty(target, key, sharedPropertyDefinition);\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10368","RelatedDescription":"Closed issue \"Initialize the value if it is not found when building the proxy\" (#10368)"},{"Id":"478227569","IsPullRequest":false,"CreatedAt":"2019-08-08T07:23:22","Actor":"MutelyMilo","Number":"10367","RawContent":null,"Title":" Error in v-on handler: \"RangeError: Maximum call stack size exceeded\"","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://gitee.com/PhoenixMilo/study-vue.git](https://gitee.com/PhoenixMilo/study-vue.git)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\né€šè¿‡é€’å½’ç»„ä»¶æ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹ä¹‹åå†æ¸²æŸ“echartså°±ä¼šæŠ¥é”™ã€‚ç›¸åå¦‚æœä½ æ²¡æœ‰æ“ä½œè¿‡è¿™ä¸ªéœ€è¦è¢«æ¸²æŸ“çš„æ•°æ®æ˜¯æ²¡æœ‰ä»€ä¹ˆé—®é¢˜çš„ï¼Œä¸ªäººè§‰å¾—è¢«vueåŠ å·¥è¿‡çš„æ•°æ®å†å»æ¸²æŸ“å°±ä¼šå‡ºé—®é¢˜ã€‚\r\n\r\n\r\n### What is expected?\r\nå¯ä»¥æ­£å¸¸æ“ä½œå’Œæ¸²æŸ“\r\n\r\n### What is actually happening?\r\nç°åœ¨ä¾æ—§æŠ¥é”™ï¼ŒæŠ¥é”™å†…å®¹å°±æ˜¯ title\r\n\r\n---\r\nå¦‚æœä½ ä¸å¢åŠ æ–°çš„itemï¼Œä¸€åˆ‡éƒ½æ²¡é—®é¢˜ï¼Œæ–°åŠ ä¹‹åå°±ä¼šæœ‰é—®é¢˜ã€‚æˆ‘å¯¹æ¯”è¿‡ E chartsç»™çš„å®˜æ–¹æ•°æ® æˆ‘æ‰“å°å‡ºæ¥çš„é€’å½’vueæ•°ç»„å’ŒjsåŸç”Ÿæ•°ç»„ä¸å¤ªä¸€æ ·ã€‚æ‰€ä»¥ï¼Œé—®é¢˜æ˜¯ä¸æ˜¯ vue ç”Ÿå±‚çš„æ•°ç»„ ä¸èƒ½æä¾›ç»™echartsæ¸²æŸ“å‘¢ï¼Ÿ\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10367","RelatedDescription":"Closed issue \" Error in v-on handler: \"RangeError: Maximum call stack size exceeded\"\" (#10367)"},{"Id":"478179397","IsPullRequest":false,"CreatedAt":"2019-08-07T23:17:14","Actor":"ericdrobinson","Number":"10366","RawContent":null,"Title":"Click Event Triggers on Complex Buttons are ignored in some environments","State":"open","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/1d8nbv7h/2/](https://jsfiddle.net/1d8nbv7h/2/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Configure one of the Adobe CEP [Sample Panels](https://github.com/Adobe-CEP/Samples). The [PProPanel](https://github.com/Adobe-CEP/Samples/tree/master/PProPanel) is a good starting point as it has very clear documentation on how to [set up the environment](https://github.com/Adobe-CEP/Samples/tree/master/PProPanel#2-enable-loading-of-unsigned-panels) for testing.\r\n1. Replace the HTML/JavaScript/CSS contents of the panel project with the contents of the [linked JSFiddle](https://jsfiddle.net/1d8nbv7h/2/).\r\n1. Open the panel.\r\n1. Attach a debugger (with the default PProPanel setup this would mean browsing to `localhost:7777` in Chrome).\r\n1. Set the \"_Mouse > `click`_\" **Event Listener Breakpoint** in the \"Sources\" tab of the Chrome Debugger.\r\n1. Click the Vue icon in the center of the silver `div`.\r\n\r\n### What is expected?\r\nMethod bound to the `@click` handler is triggered when the image embedded in the parent div is clicked. \r\n\r\n### What is actually happening?\r\nThe method bound to the `@click` handler is _only_ triggered when clicking outside of the parent div.\r\n\r\n---\r\nThis is a non-trivial bug to reproduce as the only place I've experienced it is in [Adobe CEP](https://github.com/Adobe-CEP/CEP-Resources/blob/master/CEP_9.x/Documentation/CEP%209.0%20HTML%20Extension%20Cookbook.md) extensions (which run NW.js under the hood). That said, it does reproduce 100% of the time there.\r\n\r\nThe debugger (CEP context) seems to show several funny things at around [this line](https://github.com/vuejs/vue/blob/d40b7ddb8177944d1dd50f4f780e6fd92c9455c2/src/platforms/web/runtime/modules/events.js#L69) in the Vue events.js file. Specifically:\r\n\r\n1. The `e.timeStamp` value **does not change** between callbacks for _different buttons/elements_.\r\n1. The `attachedTimestamp` is **_significantly_ larger** than the `e.timeStamp` value.\r\n1. The `attachedTimestamp` value _does_ change when the component is updated (the `e.timeStamp` remains identical).\r\n\r\nI should note that this affects at least [CEP 8.0 and CEP 9.0](https://github.com/Adobe-CEP/CEP-Resources/blob/master/CEP_9.x/Documentation/CEP%209.0%20HTML%20Extension%20Cookbook.md#chromium-embedded-framework-cef) (tested in Premiere Pro).\r\n\r\n**Vue Versions Note:** This broke somewhere between versions 2.5.17 and 2.6.x. If we run a version of 2.5 (2.5.17 and some earlier versions verified), then this issue does not occur. In testing 2.6.x, we've found that this same issue occurs from 2.6.5 to 2.6.10 (latest). Versions of 2.6 prior to 2.6.5 are actually _worse_ in that the buttons basically don't work at all.\r\n\r\n**Important Note:** I should _further_ note that apparently right-clicking to open the basic CEF [not CEP] context menu will cause the `e.timeStamp` values to begin reporting as expected. Once this occurs, the buttons will _also_ work as expected. That said, we shouldn't have to instruct users to right-click prior to interfacing with the extension.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10366","RelatedDescription":"Open issue \"Click Event Triggers on Complex Buttons are ignored in some environments\" (#10366)"},{"Id":"478096927","IsPullRequest":false,"CreatedAt":"2019-08-07T19:19:12","Actor":"janKroll","Number":"10365","RawContent":null,"Title":"Computed output doesnÂ´t change but DOM gets re-rendered","State":"open","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/z1orgphL/1/](https://jsfiddle.net/z1orgphL/1/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Start VueDevtools Performance Benchmark -> Component render\r\n2. Wait for the interval\r\n\r\n### What is expected?\r\nIf the output of the computed doesnÂ´t change the DOM shouldnÂ´t be re-rendered.\r\n\r\n### What is actually happening?\r\nDOM gets re-rendered\r\n\r\n---\r\nThe DOM will not be updated if a primitive data type in applied in `changeData`.\r\n\r\nThis bug appeared in our Main Wrapper because we manipulate some styles based on the current route.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10365","RelatedDescription":"Open issue \"Computed output doesnÂ´t change but DOM gets re-rendered\" (#10365)"},{"Id":"478042851","IsPullRequest":false,"CreatedAt":"2019-08-07T17:19:45","Actor":"TheInvoker","Number":"10364","RawContent":null,"Title":"[Feature Rquest] Create Async lifecycle events","State":"closed","Body":"### What problem does this feature solve?\r\nAbility for app to trigger events when conditions are met async style.\r\n\r\n### What does the proposed API look like?\r\nIn addition to mounted:\r\n\r\n```\r\nmounted : function() {\r\n    // synchronous\r\n    var table = this.$refs.myTable;  // will be undefined if it was loaded like        components : {  'my-tabe' : () => import(\".../my-table.js\") }\r\n}\r\n```\r\n\r\nwe should also have mounted.async:\r\n\r\n```\r\n\"mounted.async\" : async function() {\r\n    // asynchronous\r\n    var table = this.$refs.myTable;  // will be the actual table reference if it was loaded like         components : {  'my-tabe' : () => import(\".../my-table.js\") }\r\n}\r\n```\r\n\r\nEssentially, whatever lifecycle hooks are applicable, should have an async version of it too, which only runs when all it's precondition resolves its promises. So the async mounted should only run when all it's child components have downloaded it's component and mounted it too.\r\n\r\nThe other benefit here is that the time between the regular mounted running and the async mounted running, you can also display a loading bar. \r\n\r\nOr an alternative is to make $refs async style\r\n\r\n```\r\nmounted : async function() {\r\n    // asynchronous\r\n    var table = await this.$refs.myTable;   // will be the actual table reference if it was loaded like         components : {  'my-tabe' : () => import(\".../my-table.js\") }\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10364","RelatedDescription":"Closed issue \"[Feature Rquest] Create Async lifecycle events\" (#10364)"},{"Id":"477835143","IsPullRequest":false,"CreatedAt":"2019-08-07T10:13:50","Actor":"githubwubicheng","Number":"10363","RawContent":null,"Title":"transitionç»„ä»¶æ— æ³•æ­£ç¡®å˜æ›´æ ·å¼","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[http://git.1squan.com/taomaofan/taomaofan-frontend.git](http://git.1squan.com/taomaofan/taomaofan-frontend.git)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nåŒä¸€ä¸ªé¡µé¢å®šä¹‰ä¸¤ä¸ªtransition\r\n<transition :name=\"transitionName\" >\r\n\t\t\t  <keep-alive>\r\n\t\t\t  \t\t<router-view v-if=\"$route.meta.keepAlive\" ></router-view>\r\n\t\t\t  </keep-alive>\r\n    </transition>\r\n\t\t\t<transition :name=\"transitionName\" >\r\n\t\t\t  <router-view v-if=\"!$route.meta.keepAlive\"></router-view>\r\n\t\t\t</transition>\r\nåˆå§‹å€¼æ˜¯slide-rightï¼Œé¡µé¢è¿›å…¥çš„æ ·å¼slide-right-enter-activeï¼Œå’Œç¦»å¼€ä¸ºslide-right-leave-activeï¼Œå½“å˜æ›´transitionNameçš„å€¼ä¸ºslide-left,é¡µé¢è¿›å…¥çš„æ ·å¼æ˜¯slide-left-enter-activeï¼Œç¦»å¼€çš„æ ·å¼ä¸ºslide-right-leave-activeï¼Œæ²¡æœ‰æ­£ç¡®å˜æ›´ä¸ºslide-left-leave-active\r\n\r\n### What is expected?\r\nå¸Œæœ›èƒ½æ ¹æ®:nameå±æ€§å˜æ›´é¡µé¢ç¦»å¼€è¿›å…¥æ ·å¼\r\n\r\n### What is actually happening?\r\nåˆå§‹å€¼æ˜¯slide-rightï¼Œé¡µé¢è¿›å…¥çš„æ ·å¼slide-right-enter-activeï¼Œå’Œç¦»å¼€ä¸ºslide-right-leave-activeï¼Œå½“å˜æ›´transitionNameçš„å€¼ä¸ºslide-left,é¡µé¢è¿›å…¥çš„æ ·å¼æ˜¯slide-left-enter-activeï¼Œç¦»å¼€çš„æ ·å¼ä¸ºslide-right-leave-activeï¼Œæ²¡æœ‰æ­£ç¡®å˜æ›´ä¸ºslide-left-leave-active\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10363","RelatedDescription":"Closed issue \"transitionç»„ä»¶æ— æ³•æ­£ç¡®å˜æ›´æ ·å¼\" (#10363)"},{"Id":"477829426","IsPullRequest":false,"CreatedAt":"2019-08-07T10:03:19","Actor":"MutelyMilo","Number":"10362","RawContent":null,"Title":"Error in v-on handler: \"TypeError: Converting circular structure to JSON\"","State":"closed","Body":"### Version\r\n2.5.9\r\n\r\n### Reproduction link\r\n[https://github.com/lzmkony/x-one.git](https://github.com/lzmkony/x-one.git)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1ã€é€’å½’ç»„ä»¶æœ€åçš„listå¯¼å‡ºçš„æ—¶å€™æ˜¯[__ob__observer]\r\n2ã€è¯¥æ•°ç»„ä¸èƒ½è¢« echarts G6æ ‘å½¢å›¾æ¸²æŸ“ äº²æµ‹\r\n3ã€æˆ‘è®¤ä¸ºå¯èƒ½æ•°ç»„ä¸æ˜¯ä¸€ä¸ª jsæ•°ç»„ æ‰€ä»¥å¯¼è‡´æ— æ³•æ¸²æŸ“\r\n4ã€å½“æˆ‘ä½¿ç”¨JSON.stringify([$PARAM$])å¤„ç†çš„æ—¶å€™ ä¸€å±‚æ•°ç»„è¿˜å¯ä»¥ï¼Œå¦‚æœæ•°ç»„å†…æœ‰å¤šå…ƒç´ å°±ä¼šæŠ¥é”™ï¼ˆtitleçš„é”™è¯¯ï¼‰ \r\n\r\n### What is expected?\r\næˆ‘å¦‚ä½•æ‰èƒ½è·å¾— å¯è§†åŒ–å·¥å…·å¯ä»¥æ¸²æŸ“çš„jsæ•°æ®å‘¢ï¼Ÿ\r\n\r\n### What is actually happening?\r\nå¦‚é¢˜çš„æŠ¥é”™ã€‚å¯è§†åŒ–å·¥å…·æ— æ³•æ­£å¸¸æ¸²æŸ“vue data\r\n\r\n---\r\næ— \r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10362","RelatedDescription":"Closed issue \"Error in v-on handler: \"TypeError: Converting circular structure to JSON\"\" (#10362)"},{"Id":"477822866","IsPullRequest":true,"CreatedAt":"2019-08-07T09:48:52","Actor":"posva","Number":"10361","RawContent":null,"Title":"fix(compiler): allow inline async functions in event handlers","State":"open","Body":"This allows using `async` inline functions in v-on event handlers https://github.com/vuejs/vue/issues/10338\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [X] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [X] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/10361","RelatedDescription":"Open PR \"fix(compiler): allow inline async functions in event handlers\" (#10361)"},{"Id":"477804759","IsPullRequest":false,"CreatedAt":"2019-08-07T09:27:57","Actor":"petr001","Number":"10360","RawContent":null,"Title":"First class web components support","State":"closed","Body":"### What problem does this feature solve?\r\nIn Vue, we can bind any property with complex data type with v-bind directive:\r\n```\r\n<vue-component :prop-with-object=\"{ some: 'object' }\" />\r\n```\r\n\r\nBut for web components, we have to use `.prop` otherwise it's converted to string (=it's bound as attribute which supports only string)\r\n```\r\n<web-component :prop-with-object.prop=\"{ some: 'object' }\" />\r\n```\r\n\r\nIt would be nice if there is no difference between web components and vue components.\r\n\r\n### What does the proposed API look like?\r\n```\r\n<web-component :prop-with-object=\"{ some: 'object' }\" />\r\n```\r\n\r\nshould set web component propWithObject property by default (no need for .prop)\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10360","RelatedDescription":"Closed issue \"First class web components support\" (#10360)"},{"Id":"477745974","IsPullRequest":false,"CreatedAt":"2019-08-07T07:24:02","Actor":"wxkcoder","Number":"10359","RawContent":null,"Title":"è‡ªå®šä¹‰ç»„ä»¶çš„bugï¼Œslotçš„å†…å®¹æ— æ³•è§¦å‘ å¤–å±‚touchstartäº‹ä»¶ clickäº‹ä»¶å¯ä»¥","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://github.com/wxkcoder/bugs_demo](https://github.com/wxkcoder/bugs_demo)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nå£°æ˜ï¼ï¼ï¼šè¿™æ˜¯vueçš„bugï¼Œä¸æ˜¯ä»£ç å®ç°é—®é¢˜  è¯·@posva ä¸è¦ç›´æ¥å…³é—­\r\n\r\né—®é¢˜æè¿°ï¼š\r\né¡µé¢Aå¼•ç”¨çš„ä¸€ä¸ªè‡ªå®šä¹‰ç»„ä»¶c ï¼Œc å…è®¸é€šè¿‡slotæ ‡ç­¾æ’å…¥èŠ‚ç‚¹å†…å®¹ slotæ ‡ç­¾å¤–å±‚ç›’å­ç»‘å®šäº†touchstartäº‹ä»¶å’Œclickäº‹ä»¶\r\n\r\nå‡ºç°çš„é—®é¢˜ï¼š\r\nåœ¨ios10.3.3ç‰ˆæœ¬ä¸‹  é€šè¿‡ 'this.$router.push({name:A})' çš„æ–¹å¼è·³è½¬åˆ°é¡µé¢Aåï¼Œç‚¹å‡»ç»„ä»¶cé€šè¿‡slotæ ‡ç­¾æ’å…¥çš„å†…å®¹ æ— æ³•è§¦å‘touchstartäº‹ä»¶ ä½†æ˜¯ å¯ä»¥è§¦å‘clickäº‹ä»¶ã€‚\r\nç›´æ¥è®¿é—®é¡µé¢A ä¸¤ä¸ªäº‹ä»¶éƒ½å¯ä»¥è§¦å‘\r\n\r\nåœ¨ios12ç‰ˆæœ¬ä¸Šæ²¡æœ‰å‘ç°è¿™ä¸ªbugã€‚\r\n\r\nå°†vueç‰ˆæœ¬æ”¹ä¸º2.5.22å æ‰€æœ‰iosç‰ˆæœ¬éƒ½æ²¡å‘ç°è¿™ä¸ªbug\r\n\r\n\r\nå¦‚æœä½ è§‰å¾—æˆ‘æ²¡æœ‰æè¿°æ¸…æ¥šçš„è¯ è¯·è¿è¡Œä¸‹é¢çš„demoåœ¨ ios10ç‰ˆæœ¬ä¸Š è°¢è°¢ï¼è¯·ä¸è¦ç›´æ¥closeï¼ï¼\r\ndemoï¼šhttps://github.com/wxkcoder/bugs_demo\r\n\r\n\r\n\r\n### What is expected?\r\npushè·³è½¬å slotçš„å†…å®¹ä¸è§¦å‘å¤–å±‚ç›’å­çš„touchstartäº‹ä»¶\r\n\r\n### What is actually happening?\r\npushè·³è½¬å slotçš„å†…å®¹è§¦å‘å¤–å±‚ç›’å­çš„touchstartäº‹ä»¶\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10359","RelatedDescription":"Closed issue \"è‡ªå®šä¹‰ç»„ä»¶çš„bugï¼Œslotçš„å†…å®¹æ— æ³•è§¦å‘ å¤–å±‚touchstartäº‹ä»¶ clickäº‹ä»¶å¯ä»¥\" (#10359)"},{"Id":"477659568","IsPullRequest":true,"CreatedAt":"2019-08-07T07:09:01","Actor":"git-nkliyc","Number":"10358","RawContent":null,"Title":"a spelling mistake","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [x] Other, please describe: spelling mistake\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [ ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/10358","RelatedDescription":"Closed or merged PR \"a spelling mistake\" (#10358)"},{"Id":"477299293","IsPullRequest":false,"CreatedAt":"2019-08-06T10:33:32","Actor":"ddyh0826","Number":"10357","RawContent":null,"Title":"å…³äºï¼šv-htmlæ¸²æŸ“router-linkçš„é—®é¢˜","State":"closed","Body":"### What problem does this feature solve?\r\nå¯ä»¥æ¸²æŸ“`<a>`ï¼Œä½†æ˜¯æ— æ³•è§£æ`<router-link>`\r\n\r\n### What does the proposed API look like?\r\nå¦‚æœæ­£å¸¸è§£æä¼šå‘ç”Ÿä»€ä¹ˆå‘¢\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10357","RelatedDescription":"Closed issue \"å…³äºï¼šv-htmlæ¸²æŸ“router-linkçš„é—®é¢˜\" (#10357)"},{"Id":"477137913","IsPullRequest":false,"CreatedAt":"2019-08-06T06:34:38","Actor":"wxkcoder","Number":"10356","RawContent":null,"Title":"Custom Components slot content no trigger parentâ€˜s touchstart event","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://github.com/wxkcoder/bugs_demo](https://github.com/wxkcoder/bugs_demo)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nvue versionï¼š2.6.10\r\nios versionï¼š10.3.3 or 11.4\r\nuse wxchat webview\r\n\r\npage A use 'this.$router.push({name:B})' Jump to Page B\r\nPage B import component C\r\nComponent C bind a touchstart event\r\nthe problem is Component C use slot label Input contentï¼Œclick that content is dose not trigger C's touchstart event\r\n\r\nDirect access to page B can trigger Câ€˜s touchstart event\r\nchange ios version to 12.3.1 can trigger Câ€˜s touchstart event\r\nchange vue version to 2.5.22 can trigger Câ€˜s touchstart event\r\n\r\npleace try to run this demo https://github.com/wxkcoder/bugs_demo on ios 10.3.3\r\n\r\n### What is expected?\r\nno trigger\r\n\r\n### What is actually happening?\r\ntrigger\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10356","RelatedDescription":"Closed issue \"Custom Components slot content no trigger parentâ€˜s touchstart event\" (#10356)"}],"ResultType":"GitHubIssue"},"Router-Issues":{"Issues":[{"Id":"479664688","IsPullRequest":false,"CreatedAt":"2019-08-12T17:57:39","Actor":"Maorey","Number":"2883","RawContent":null,"Title":"Wrong definition of interface RouteConfig in router.d.ts","State":"closed","Body":"### Version\r\n3.1.2\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vue-router/blob/5141def3a21da479c2858c0d70db3cb438c3b7d0/types/router.d.ts#L3](https://github.com/vuejs/vue-router/blob/5141def3a21da479c2858c0d70db3cb438c3b7d0/types/router.d.ts#L3)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n``` TypeScript\r\nimport { Component, CreateElement, RenderContext } from 'vue'\r\nimport Router from 'vue-router'\r\n\r\nconst functional: Component = {\r\n  functional: true,\r\n  render(createElement: CreateElement, context: RenderContext) {\r\n    return createElement('div', context.data, context.children)\r\n  },\r\n}\r\n\r\nnew Router({\r\n  mode: 'hash',\r\n  routes: [\r\n    {\r\n      path: `/functional`,\r\n      name: 'functional',\r\n      component: functional,\r\n    }\r\n  ]\r\n})\r\n```\r\n\r\n### What is expected?\r\nCorrect\r\n\r\n### What is actually happening?\r\ntype Error\r\n\r\n---\r\nShould be:\r\n``` TypeScript\r\n/* 1 */ import Vue, { Component, PluginFunction } from 'vue'\r\n/* 2 */\r\n/* 3 DELETE */ type Component = ComponentOptions<Vue> | typeof Vue | AsyncComponent\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2883","RelatedDescription":"Closed issue \"Wrong definition of interface RouteConfig in router.d.ts\" (#2883)"},{"Id":"478814360","IsPullRequest":false,"CreatedAt":"2019-08-09T11:42:07","Actor":"funyaliga","Number":"2882","RawContent":null,"Title":"I can't get params normally when I use alias","State":"closed","Body":"### Version\r\n3.1.0\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/codesandbox-nuxt-fvf98](https://codesandbox.io/s/codesandbox-nuxt-fvf98)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nMy project uses nuxt.\r\nThe project directory is:\r\n\r\n-pages\r\nÂ Â  - post\r\nÂ Â Â Â  - _id\r\n\r\nIn routes:\r\n```js\r\n{\r\nÂ Â Â Â  name: 'post-id',\r\nÂ Â Â Â  path: '/post/:id?',\r\nÂ Â Â Â  component: 'project/pages/post/_id/index.vue',\r\nÂ Â Â Â  chunkName: 'pages/post/_id/index',\r\nÂ Â Â Â  alias: '/post/:id?.html'\r\n}\r\n```\r\nI added alias, (because my project must be accessed with the html suffix).\r\n\r\nWhen I visit http://localhost/post/181.html,\r\n```js\r\nconsole.log( this.$route.params.id );  // 181\r\n```\r\n\r\n\r\nFor me, everything is normal.\r\n\r\nbut after I updated the Npm package for the project today,\r\n```js\r\nconsole.log( this.$route.params.id ); // 181.html\r\n```\r\nThere is more '.html' after the id.\r\nI found that the problem occurred after the vue-router version was upgraded to v3.1.0.\r\n\r\n### What is expected?\r\nI want to filter the alias of .html when I use this.$route.params.id\r\n\r\n### What is actually happening?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2882","RelatedDescription":"Closed issue \"I can't get params normally when I use alias\" (#2882)"},{"Id":"478651342","IsPullRequest":false,"CreatedAt":"2019-08-08T19:36:24","Actor":"rchl","Number":"2881","RawContent":null,"Title":"No stacktrace on NavigationDuplicated error","State":"open","Body":"### Version\r\n3.1.1\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/Lom7hxn5/](https://jsfiddle.net/Lom7hxn5/)\r\n\r\n### Steps to reproduce\r\n1. Call `$router.replace` or `$router.push` twice with same path\r\n\r\n### What is expected?\r\nError object provides stacktrace (stack property)\r\n\r\n### What is actually happening?\r\nNo stack trace in the error object\r\n\r\n---\r\nWhen `NavigationDuplicated` error is thrown, there is no stack trace in the error itself so when error is reported through error reporting service like `Sentry`, there is absolutely no context to go with the error and so it's hard to figure out where that error originated.\r\n\r\nTranspiled code for the `NavigationDuplicated` class looks like this:\r\nhttps://github.com/vuejs/vue-router/blob/5141def3a21da479c2858c0d70db3cb438c3b7d0/dist/vue-router.common.js#L1935-L1946\r\n\r\nwhich is problematic because instantiating such function won't create a stacktrace. It would work fine with non-transpiled code (although I'm not suggesting to not transpile it): https://github.com/vuejs/vue-router/blob/44c63a963f05ede229d8658a45b2388e244ce00b/src/history/errors.js#L1\r\n\r\nOne possible solution would be to manually set stack trace with:\r\n```js\r\nthis.stack = (new Error()).stack;\r\n```\r\nbut I'm not sure how that would be done if transpilation is done by webpack/babel...\r\n\r\nThere is also one extra bug in that code. The line that instantiates error passes a route object to the error:\r\nhttps://github.com/vuejs/vue-router/blob/fc42d9cf8e1d381b885c9af37003198dce6f1161/src/history/base.js#L125\r\nbut error doesn't do anything with it:\r\nhttps://github.com/vuejs/vue-router/blob/44c63a963f05ede229d8658a45b2388e244ce00b/src/history/errors.js#L2\r\n\r\nSaving route properties on the error object would also help in deciphering source of the error.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2881","RelatedDescription":"Open issue \"No stacktrace on NavigationDuplicated error\" (#2881)"},{"Id":"478648324","IsPullRequest":false,"CreatedAt":"2019-08-08T19:28:47","Actor":"rchl","Number":"2880","RawContent":null,"Title":"No stacktrace on NavigationDuplicated error","State":"closed","Body":"When `NavigationDuplicated` error is thrown, there is no stack trace in the error itself so when error is reported through error reporting service like `Sentry`, there is absolutely no context to go with the error and so it's hard to figure out where that error originated.\r\n\r\nTranspiled code for the `NavigationDuplicated` class looks like this:\r\nhttps://github.com/vuejs/vue-router/blob/5141def3a21da479c2858c0d70db3cb438c3b7d0/dist/vue-router.common.js#L1935-L1946\r\n\r\nwhich is problematic because instantiating such function won't create a stacktrace. It would work fine with non-transpiled code (although I'm not suggesting to not transpile it): https://github.com/vuejs/vue-router/blob/44c63a963f05ede229d8658a45b2388e244ce00b/src/history/errors.js#L1\r\n\r\nOne possible solution would be to manually set stack trace with:\r\n```js\r\nthis.stack = (new Error()).stack;\r\n```\r\nbut I'm not sure how that would be done if transpilation is done by webpack/babel...\r\n\r\nThere is also one extra bug in that code. The line that instantiates error passes a route object to the error:\r\nhttps://github.com/vuejs/vue-router/blob/fc42d9cf8e1d381b885c9af37003198dce6f1161/src/history/base.js#L125\r\nbut error doesn't do anything with it:\r\nhttps://github.com/vuejs/vue-router/blob/44c63a963f05ede229d8658a45b2388e244ce00b/src/history/errors.js#L2\r\n\r\nSaving route properties on the error object would also help in deciphering source of the error.","Url":"https://github.com/vuejs/vue-router/issues/2880","RelatedDescription":"Closed issue \"No stacktrace on NavigationDuplicated error\" (#2880)"},{"Id":"478211314","IsPullRequest":false,"CreatedAt":"2019-08-08T13:42:31","Actor":"yangshuan","Number":"2876","RawContent":null,"Title":"the url pattern is not conform to the URI generic syntax in the newest version 3.1.0","State":"closed","Body":"### Version\r\n3.1.0\r\n\r\n### Reproduction link\r\n[https://github.com/yangshuan/vue-router-test-3.1.1](https://github.com/yangshuan/vue-router-test-3.1.1)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nSteps are very simple:\r\n1. Use the vue-cli to generate a new empty project;\r\n2. Start the project;\r\n3. Open a browser (e.g. Chrome), and open the application index page;\r\n4. Everything seems normal, but if you use url with parameters, e.g. http://localhost:8080/?a=1, the page will goto http://localhost:8080/#/?a=1, the uri is not right, it should be 'http://localhost:8080/?a=1#/'\r\n\r\n### What is expected?\r\nThe URI should always be conform to the URI generic syntax 'scheme:[//authority]path[?query][#fragment]', otherwise most of the lib or code which get the parameters from the URI will fail.\r\n\r\n### What is actually happening?\r\nthis url is not conform to the URI generic syntax which is 'scheme:[//authority]path[?query][#fragment]';\r\nThe problem the 3.1.0 version brings out is that, when we want to get the parameters from the URL by the default URI generic syntax, we fail all the time, since the uri is not right.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2876","RelatedDescription":"Closed issue \"the url pattern is not conform to the URI generic syntax in the newest version 3.1.0\" (#2876)"},{"Id":"478399449","IsPullRequest":true,"CreatedAt":"2019-08-08T11:05:37","Actor":"Alex-Sokolov","Number":"2879","RawContent":null,"Title":"docs: [RU] Translation update","State":"closed","Body":"Updates for 3.1.0 + fix typo in en","Url":"https://github.com/vuejs/vue-router/pull/2879","RelatedDescription":"Closed or merged PR \"docs: [RU] Translation update\" (#2879)"},{"Id":"478383309","IsPullRequest":false,"CreatedAt":"2019-08-08T10:29:53","Actor":"samydoesit","Number":"2878","RawContent":null,"Title":"Getting NavigationDuplicated errors since 3.1.0 - but for now everything works","State":"closed","Body":"### Version\r\n3.1.1\r\n\r\n### Reproduction link\r\n[https://github.com/samydoesit/vueTestError](https://github.com/samydoesit/vueTestError)\r\n\r\n\r\n\r\n### Steps to reproduce\r\n* cd vueTestError/actualSite\r\n* npm run serve\r\n* Console shows uncatched Error (NavigationDuplicated)\r\n\r\n### What is expected?\r\nNo errors\r\n\r\n### What is actually happening?\r\nEverything works fine just this error is showing up\r\n\r\n---\r\nI've been searching for my mistake for a while now but i dont know what im doing wrong.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2878","RelatedDescription":"Closed issue \"Getting NavigationDuplicated errors since 3.1.0 - but for now everything works\" (#2878)"},{"Id":"478169508","IsPullRequest":false,"CreatedAt":"2019-08-08T07:37:11","Actor":"TheInvoker","Number":"2874","RawContent":null,"Title":"Pushing query keeps existing ones","State":"closed","Body":"### Version\r\n3.1.1\r\n\r\n### Reproduction link\r\n[http://www.google.ca](http://www.google.ca)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nI use this code to push a new link\r\n\r\n                this.$router.push({path:item.path, query: { \r\n                    language : this.$route.query.language, \r\n                    dark : this.$route.query.dark, \r\n                    rtl : this.$route.query.rtl\r\n                }}).catch(err => {});\r\n\r\nbut the problem is, if the link had other params in the URL, they persist. How can I use this code, but specify it to discard other params?\r\n\r\n### What is expected?\r\nother params get discarded.\r\n\r\n### What is actually happening?\r\nOther params persist.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2874","RelatedDescription":"Closed issue \"Pushing query keeps existing ones\" (#2874)"},{"Id":"478231634","IsPullRequest":true,"CreatedAt":"2019-08-08T07:32:43","Actor":"yangshuan","Number":"2877","RawContent":null,"Title":"parameters should be placed before hash(fix #2876)","State":"closed","Body":"fix #2876\r\n\r\nThe URI should always be conform to the URI generic syntax \r\nscheme:[//authority]path[?query][#fragment]\r\nOtherwise most of the lib or code which get the parameters from the URI will fail.","Url":"https://github.com/vuejs/vue-router/pull/2877","RelatedDescription":"Closed or merged PR \"parameters should be placed before hash(fix #2876)\" (#2877)"},{"Id":"478172333","IsPullRequest":true,"CreatedAt":"2019-08-07T22:49:05","Actor":"ronald-d-rogers","Number":"2875","RawContent":null,"Title":"fix(ssr): Memory leak in poll method, take 2 (fix #2606)","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\nFix #2606.\r\n\r\nUnlike https://github.com/vuejs/vue-router/pull/2867, this fix does **not** depend on the following being merged first: https://github.com/vuejs/vue/pull/9479\r\n\r\nRemoved `poll` method, which was causing a memory leak when a Vue app is created per request, which is typical in SSR.\r\n\r\nThe leak happens when:\r\n\r\n1. The `router-view` is conditioned to appear upon a variable that never becomes true.\r\n```html\r\n<div id=\"app\">\r\n  <div v-if=\"condition\">\r\n    <router-view />\r\n  </div>\r\n</div>\r\n```\r\n\r\n2. A `beforeRouteEnter` guard's `next` is passed a `cb`:\r\n```es6\r\nexport default {\r\n  beforeRouteEnter(to, from, next) {\r\n    // Poll happens only if you pass in a function to next(...)\r\n    next(vm => {} /* cb */)\r\n  }\r\n}\r\n```\r\n\r\nInstead of polling we try to call the `cb` in `History#confirmTransition`, otherwise add the `cb` to `RouteRecord#enteredCbs`, and call it instead upon route registration (see `components/view.js`).\r\n\r\nI don't know whether or not it is ok to add `enteredCbs` to `RouteRecord`. I don't know whether or not we are ok with mutating the route record inside of `History#confirmTransition`. I also don't really know if this will cause problems elsewhere outside of running `npm test`.\r\n\r\nThe apps my team builds here in Bloomberg are thoroughly E2E tested. If you don't see any problems with this approach I can try to get our tests run against this fix version, if that helps any.","Url":"https://github.com/vuejs/vue-router/pull/2875","RelatedDescription":"Open PR \"fix(ssr): Memory leak in poll method, take 2 (fix #2606)\" (#2875)"},{"Id":"478144521","IsPullRequest":false,"CreatedAt":"2019-08-07T21:23:08","Actor":"hazzo","Number":"2873","RawContent":null,"Title":"New Promise API seems to break `next(false)` implementation in guard","State":"closed","Body":"### Version\r\n3.1.1\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/ox6qpz9t/1/](https://jsfiddle.net/ox6qpz9t/1/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n- Open console\r\n- Click in `foo` button that will navigate programmatically to `foo` route (with replace method) that has a `beforeEnter` guard. \r\n- In the console de error `Uncaught (in promise) false` will appear when navigation is being aborted in guard with `next(false)`\r\n\r\n### What is expected?\r\nAbort navigation without error\r\n\r\n### What is actually happening?\r\nAborted navigation with unhandled promise error in console.\r\n\r\n---\r\nIn version 3.0.7, with the old API (not the new one that returns a promise) was working fine.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2873","RelatedDescription":"Closed issue \"New Promise API seems to break `next(false)` implementation in guard\" (#2873)"},{"Id":"477891226","IsPullRequest":false,"CreatedAt":"2019-08-07T12:26:34","Actor":"tcastelly","Number":"2872","RawContent":null,"Title":"Throw Error \"NavigationDuplicated\"","State":"closed","Body":"### Version\r\n3.1.1\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-template-i2d63](https://codesandbox.io/s/vue-template-i2d63)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nUse `$router.push` to change the \"page\". If you are using the same page, vue-router throw an Error.\r\n\r\n### What is expected?\r\nJust nothing, or a warning.\r\n\r\n### What is actually happening?\r\nAn Error has been thrown.\r\n\r\n---\r\n- To my point of view it's not an error. On a previous version of 'vue-router' no error was threw: https://codesandbox.io/s/vue-template-qvrfr\r\n- `<router-link> ` does not have the same behavior. There is no error even if you're pushing the current page.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2872","RelatedDescription":"Closed issue \"Throw Error \"NavigationDuplicated\"\" (#2872)"},{"Id":"477454656","IsPullRequest":false,"CreatedAt":"2019-08-06T15:39:19","Actor":"WhoisUnknown","Number":"2871","RawContent":null,"Title":"Using beforeRouteEnter in global mixins not working","State":"open","Body":"### Version\r\n3.1.1\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-template-7z1uq](https://codesandbox.io/s/vue-template-7z1uq)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Create minimal App with vue router.\r\n2. Register global mixin with hook beforeRouterEnter\r\n3. Try to open page\r\n\r\n### What is expected?\r\nA working beforeRouterEnter hook in all components in app\r\n\r\n### What is actually happening?\r\nGet error in console \" TypeError: guard is not a function\r\n    at routeEnterGuard (vue-router.common.js:2242)...\"\r\n\r\n---\r\nThis worked in vue 2.5.21\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2871","RelatedDescription":"Open issue \"Using beforeRouteEnter in global mixins not working\" (#2871)"},{"Id":"476778501","IsPullRequest":true,"CreatedAt":"2019-08-06T09:02:38","Actor":"posva","Number":"2870","RawContent":null,"Title":"docs(link): add v-slot for router-link","State":"closed","Body":"preview: https://5d4802bf25f76c00073841ea--vue-router.netlify.com/api/#v-slot-api-3-1-0","Url":"https://github.com/vuejs/vue-router/pull/2870","RelatedDescription":"Closed or merged PR \"docs(link): add v-slot for router-link\" (#2870)"},{"Id":"476653396","IsPullRequest":false,"CreatedAt":"2019-08-05T04:42:46","Actor":"Imtinmin","Number":"2869","RawContent":null,"Title":"use with element el-menu index oncomplete error","State":"closed","Body":"my code is  \r\n ```\r\n<el-menu  :default-active=\"$route.path\" class=\"el-menu-demo\" \r\n  background-color=\"Transparent\" \r\n  mode=\"horizontal\"\r\n  :router=true \r\n  @select=\"handleSelect\">\r\n  <el-menu-item index=\"/\" ></el-menu-item>\r\n```\r\n\r\nwhen I click the menu the firefox console is show:\r\n```\r\nTypeError: \"onComplete is not a function\"\r\n    push vue-router.esm.js:2297\r\n    transitionTo vue-router.esm.js:1895\r\n    confirmTransition vue-router.esm.js:2003\r\n    step vue-router.esm.js:1733\r\n    step vue-router.esm.js:1740\r\n    runQueue vue-router.esm.js:1744\r\n    confirmTransition vue-router.esm.js:1998\r\n    step vue-router.esm.js:1733\r\n    step vue-router.esm.js:1737\r\n    iterator vue-router.esm.js:1983\r\n    resolveAsyncComponents vue-router.esm.js:1811\r\n    iterator vue-router.esm.js:1962\r\n    step vue-router.esm.js:1736\r\n    step vue-router.esm.js:1740\r\n    step vue-router.esm.js:1740\r\n    runQueue vue-router.esm.js:1744\r\n    confirmTransition vue-router.esm.js:1991\r\n    transitionTo vue-router.esm.js:1893\r\n    push vue-router.esm.js:2294\r\n    push vue-router.esm.js:2584\r\n    handleSelect App.vue:79\r\n    VueJS 4\r\n    handleItemClick element-ui.common.js:3318\r\n    VueJS 2\r\n    dispatch emitter.js:29\r\n    handleClick element-ui.common.js:4030\r\n    VueJS 3\r\n```\r\nBut the route is available,what should I do\r\n","Url":"https://github.com/vuejs/vue-router/issues/2869","RelatedDescription":"Closed issue \"use with element el-menu index oncomplete error\" (#2869)"},{"Id":"476487858","IsPullRequest":false,"CreatedAt":"2019-08-03T21:17:16","Actor":"denjaland","Number":"2868","RawContent":null,"Title":"Router in history mode loses hash when updating query","State":"closed","Body":"### Version\r\n3.0.6\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/wjy9Lvgf/](https://jsfiddle.net/wjy9Lvgf/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nVueJS Router is set up with mode = history.\r\nConsider a route at /security\r\n\r\nThis page has multiple panes.  To decide which pane should be visble, we use the hash to determine this.\r\n\r\nExample:\r\n /security#tfa opens the pane where the user can enable/disable two factor authentication\r\n /security#audit opens the pane that has a datatable with the most recent security audits\r\n\r\nThe query params are mostly used to drive what data is shown.\r\nFor instance, the datatable at /security#audit has a table that can be filtered or sorted.  \r\nWhenever for instance a table column header is clicked, we set the sort query parameter as follows:\r\n\r\nthis.$router.push({query: Object.assign({}, this.$route.query, {'sort': sortkey})});\r\n\r\nI was under the impression that this method would be intelligent enough ONLY to update the query parameters, and leave the other parts of the route intact (path, params, hash...)\r\n\r\nYet, when we navigate by pushing to the router, ONLY pushing the query, the hash is lost...\r\n\r\nSo on /security#audit, clicking on the table column 'created', we do \r\nthis.$router.push({query: Object.assign({}, this.$route.query, {'sort': 'created'}));\r\n\r\nThe expected result would be /security?sort=created#audit\r\n-->this would keep the 'audit pane' active, and sort the contents in that table by created date.\r\n\r\nHowever, the result is /security?sort=created\r\n\r\nThe has should not be lost in that action.\r\n\r\n### What is expected?\r\nI would not expect the hash to be lost in this case, so the new route would be /security?sort=created#audit\r\n\r\n### What is actually happening?\r\nThe hash is lost; the new route is /security?sort=created\r\n\r\n---\r\nWe obviously try and put all these parameters in the route so a user can copy/paste the url and send it to a collleague to link to the correct information.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2868","RelatedDescription":"Closed issue \"Router in history mode loses hash when updating query\" (#2868)"},{"Id":"475980644","IsPullRequest":true,"CreatedAt":"2019-08-02T03:37:23","Actor":"ronald-d-rogers","Number":"2867","RawContent":null,"Title":"fix(ssr): Memory leak in poll method (fix #2606).","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\nFix #2606.\r\n\r\nThis fix depends on the following being merged first to work: https://github.com/vuejs/vue/pull/9479\r\n\r\nFixes memory leak in `poll` method when a Vue app is created per request, which is typical in SSR.\r\n\r\nIn particular, the leak happens when:\r\n\r\n1. The `router-view` is conditioned to appear upon a variable that never becomes true.\r\n```html\r\n<div id=\"app\">\r\n  <div v-if=\"condition\">\r\n    <router-view />\r\n  </div>\r\n</div>\r\n```\r\n\r\n2. A `beforeRouteEnter` guard is defined in the view in the following way:\r\n```es6\r\nexport default {\r\n  beforeRouteEnter(to, from, next) {\r\n    // Poll happens only if you pass in a function to next(...)\r\n    next(vm => {})\r\n  }\r\n}\r\n```\r\n","Url":"https://github.com/vuejs/vue-router/pull/2867","RelatedDescription":"Open PR \"fix(ssr): Memory leak in poll method (fix #2606).\" (#2867)"},{"Id":"475720079","IsPullRequest":false,"CreatedAt":"2019-08-01T15:30:07","Actor":"monkeySmoke","Number":"2866","RawContent":null,"Title":"æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼Œé€šè¿‡vue-routeræ–°å¼€ä¸€ä¸ªçª—å£ï¼Œæ–°çª—å£çš„è·¯ç”±ä¼šè¢«é‡å®šå‘åˆ° / ç›®å½•","State":"closed","Body":"### Version\r\n3.0.7\r\n\r\n### Reproduction link\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n \r\n\r\n### What is expected?\r\nè·³è½¬åˆ°æ­£ç¡®çš„è·¯ç”±\r\n\r\n### What is actually happening?\r\n \r\n\r\n---\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2866","RelatedDescription":"Closed issue \"æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼Œé€šè¿‡vue-routeræ–°å¼€ä¸€ä¸ªçª—å£ï¼Œæ–°çª—å£çš„è·¯ç”±ä¼šè¢«é‡å®šå‘åˆ° / ç›®å½•\" (#2866)"},{"Id":"474781293","IsPullRequest":true,"CreatedAt":"2019-08-01T08:55:51","Actor":"Mighty683","Number":"2862","RawContent":null,"Title":"feat: return a promise with push and replace","State":"closed","Body":"Closing(#1769)\r\n\r\nChanging behaviour of `push` `replace` to return promise when no callback is provided.\r\n","Url":"https://github.com/vuejs/vue-router/pull/2862","RelatedDescription":"Closed or merged PR \"feat: return a promise with push and replace\" (#2862)"},{"Id":"475538797","IsPullRequest":false,"CreatedAt":"2019-08-01T08:12:04","Actor":"tychenjiajun","Number":"2865","RawContent":null,"Title":"Make automatically added trailing slash in base optional","State":"open","Body":"### What problem does this feature solve?\r\nWe use the following base config\r\n```js\r\nbase: /page/index.html\r\n```\r\n\r\nwhat we want in href generated by <router-link>\r\n\r\n```html\r\n<a href=\"/page/index.html#/foo\"/></a>\r\n```\r\n\r\nwhat we have now\r\n```html\r\n<a href=\"/page/index.html/#/foo\"/></a>\r\n```\r\n\r\n### What does the proposed API look like?\r\n```js\r\nbase: {\r\n    url: '/page/index.html'\r\n    trailingSlash: false\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2865","RelatedDescription":"Open issue \"Make automatically added trailing slash in base optional\" (#2865)"},{"Id":"475455016","IsPullRequest":false,"CreatedAt":"2019-08-01T03:42:16","Actor":"TornadoLess","Number":"2864","RawContent":null,"Title":"vue router transition leave animation performance issue in mobile","State":"closed","Body":"we use transition wrapper the router-view,  when router.go(-1) is called, the current page view will leave the screen transformx(100%), but\n the animation is invisible because of the previous page view node is put after the current one,  so the leave animation is happening under the  current one.\n\nwe use zindex\n to make the leave page animation beyond the previous page but met performance issue in mobile\n\n\nbeg author provide an new transition mode:  put\n the new router view after or before the current router view, then we donâ€™t need to use zindex to control  the view visible\n which has issue in mobile side\n\n\n :octocat: [From gitme iOS](http://flutterchina.club/app/gm.html)","Url":"https://github.com/vuejs/vue-router/issues/2864","RelatedDescription":"Closed issue \"vue router transition leave animation performance issue in mobile\" (#2864)"},{"Id":"475415506","IsPullRequest":false,"CreatedAt":"2019-08-01T00:34:56","Actor":"philBrown","Number":"2863","RawContent":null,"Title":"Improve history mode server configuration documentation to include non-root publicPath","State":"open","Body":"### What problem does this feature solve?\r\nThe documentation for [HTML5 History Mode - Example Server Configurations](https://router.vuejs.org/guide/essentials/history-mode.html#example-server-configurations) assumes all apps are running at the document root (ie `/`). Apps using a non-root [`publicPath`](https://cli.vuejs.org/config/#publicpath) are going to struggle with these config examples.\r\n\r\n### What does the proposed API look like?\r\nUpdate the examples to include `<publicPath>` placeholders, eg\r\n\r\nnginx\r\n```\r\nlocation <publicPath> {\r\n  try_files $uri $uri/ <publicPath>/index.html;\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2863","RelatedDescription":"Open issue \"Improve history mode server configuration documentation to include non-root publicPath\" (#2863)"},{"Id":"472320040","IsPullRequest":false,"CreatedAt":"2019-07-24T14:36:39","Actor":"gebilaofan","Number":"2861","RawContent":null,"Title":"è·¯ç”±åˆ‡æ¢æ·»åŠ scrollBehaviorä¼šå‡ºç°æ¨ªå‘æ»šåŠ¨æ¡","State":"closed","Body":"### What problem does this feature solve?\r\nåœ¨æ·»åŠ scrollBehavioråï¼Œè·¯ç”±åˆ‡æ¢çš„æ—¶å€™åº•éƒ¨ä¼šå‡ºç°ä¸€ä¸ªæ¨ªå‘æ»šåŠ¨æ¡(æˆ‘åŠ äº†è·¯ç”±åŠ¨ç”»)ä¸€é—ªè€Œè¿‡ã€‚\r\n\r\n### What does the proposed API look like?\r\nä¸è¦æ¨ªå‘çš„æ»šåŠ¨æ¡\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2861","RelatedDescription":"Closed issue \"è·¯ç”±åˆ‡æ¢æ·»åŠ scrollBehaviorä¼šå‡ºç°æ¨ªå‘æ»šåŠ¨æ¡\" (#2861)"},{"Id":"471469668","IsPullRequest":false,"CreatedAt":"2019-07-23T07:03:26","Actor":"Max-Law","Number":"2860","RawContent":null,"Title":"å­è·¯ç”±åµŒå¥—ï¼Œåœ¨ä¸€äº›å®‰å“æœºå‹çš„å¾®ä¿¡webä¸­åˆ‡æ¢åˆ—è¡¨ä¼šå‡ºç°$router.push()è·³è½¬å¤±æ•ˆ","State":"closed","Body":"### Version\r\n3.0.7\r\n\r\n### Reproduction link\r\n[https://eoatestdev.sscc.com/sscc-ow-mobile-web/webstatic/weixin/index.html#/inquirePage/inquireList](https://eoatestdev.sscc.com/sscc-ow-mobile-web/webstatic/weixin/index.html#/inquirePage/inquireList)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nåœ¨å®‰å“å¾®ä¿¡ï¼ˆandroid^8.0é‡ç°é¢‘ç¹ï¼‰ä¸­æ‰“å¼€è¿™ä¸ªé“¾æ¥ï¼Œå…³æ³¨æµ‹è¯•ç¯å¢ƒçš„å…¬ä¼—å·å¹¶æ‰¾æˆ‘è¦æµ‹è¯•è´¦å·å°±å¯è¿›å…¥åˆ—è¡¨ã€‚å½“ä½ ä¸€ç›´åˆ‡æ¢åº•éƒ¨çš„ä¸‰ä¸ªtabåï¼Œå†æ¬¡ç‚¹å‡»åˆ—è¡¨çš„è¯¦æƒ…è·³è½¬å°†æ— ä»»ä½•ååº”ã€‚\r\n\r\né¦–é¡µçš„ä»£ç æ¦‚è¦ï¼š\r\n```\r\n    <keep-alive>\r\n      <router-view class=\"mid\" :search=\"searchData\"></router-view>\r\n    </keep-alive>\r\n    <footer>\r\n      <router-link\r\n        v-for=\"item in tab\"\r\n        :key=\"item.name\"\r\n        :to=\"`/inquirePage/${item.name}`\"\r\n      >{{item.text}}</router-link>\r\n    </footer>\r\n```\r\n\r\nå­è·¯ç”±ä¸­çš„ä»£ç æ¦‚è¦ï¼š\r\n```\r\n<div name=\"æˆ‘çš„è´¦å•\">\r\n    <Refersh :callback=\"getList\" :option=\"option\" :check=\"check\" ref=\"myBuillRefersh\">\r\n      <ul>\r\n        <li v-for=\"item in items\" :key=\"item.uuid\">\r\n          <router-link :to=\"goTo(item.uuid,item.billStatus)\">\r\n            <div class=\"title\">{{item.billName}}</div>\r\n          </router-link>\r\n        </li>\r\n      </ul>\r\n    </Refersh>\r\n  </div>\r\n```\r\n\r\n### What is expected?\r\nåˆ‡æ¢tabä¾æ—§èƒ½æ­£å¸¸è·³è½¬è¯¦æƒ…é¡µ\r\n\r\n### What is actually happening?\r\né¢‘ç¹åˆ‡æ¢tabåä¸èƒ½æ­£å¸¸è·³è½¬è¯¦æƒ…é¡µ\r\n\r\n---\r\nä¸ªäººdebugè¿‡ç¨‹ï¼š\r\né¦–å…ˆæˆ‘æ€€ç–‘æ˜¯å› ä¸ºæˆ‘ç”¨better-scrollå¯¼è‡´æ²¡æœ‰è§¦å‘ç‚¹å‡»äº‹ä»¶ï¼Œç„¶è€Œæˆ‘åœ¨æœ€å¤–å±‚ç”¨äº‹ä»¶å§”æ‰˜å‘ç°æ˜¯è§¦å‘äº†ç‚¹å‡»äº‹ä»¶åªæ˜¯$router.push()æ²¡ååº”ã€‚\r\nåæ¥æˆ‘ä» @click æ”¹åˆ° v-on:click.stop å†æ”¹åˆ°<router-link>æ¥è§¦å‘è¿˜æ˜¯ä¸è¡Œã€‚\r\nå†åæ¥æˆ‘æŸ¥issueï¼Œä»–ä»¬è¯´vue2.6.9çš„ç‰ˆæœ¬ä¹Ÿæœ‰clickçš„å†’æ³¡é—®é¢˜ï¼Œæˆ‘æµ‹è¯•äº†2.9.10ä¸2.5.xçš„ç‰ˆæœ¬ä¾æ—§å‡ºç°ã€‚\r\nåŒæ—¶ï¼Œæˆ‘è¿›å…¥è¯¦æƒ…å†ç”¨å®‰å“ç‰©ç†è¿”å›é”®å›åˆ°åˆ—è¡¨ï¼Œæœ‰æ—¶ä¹Ÿä¼šå‡ºç°ç‚¹å‡»ä¸å¤ªè·³è½¬çš„æƒ…å†µã€‚\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2860","RelatedDescription":"Closed issue \"å­è·¯ç”±åµŒå¥—ï¼Œåœ¨ä¸€äº›å®‰å“æœºå‹çš„å¾®ä¿¡webä¸­åˆ‡æ¢åˆ—è¡¨ä¼šå‡ºç°$router.push()è·³è½¬å¤±æ•ˆ\" (#2860)"},{"Id":"470882500","IsPullRequest":false,"CreatedAt":"2019-07-22T04:08:52","Actor":"liaoxuewei","Number":"2859","RawContent":null,"Title":"keep-aliveé—®é¢˜ï¼Ÿ","State":"closed","Body":"```\r\n<keep-alive>\r\n  <router-view v-if=\"$route.meta.keepAlive\"></router-view>\r\n</keep-alive>\r\n<router-view v-if=\"!$route.meta.keepAlive\"></router-view>\r\n\r\n```\r\næœ¬äººé‡‡ç”¨è¿™ç§åšæ³•æ¥å®ç°ç¼“å­˜åŠŸèƒ½ï¼Œä½†æ˜¯æœ‰æ—¶å¯ä»¥ï¼Œæœ‰æ—¶ä¸è¡Œï¼Œç»è¿‡å¤šæ¬¡æµ‹è¯•ï¼Œå‘ç°ä¼¼ä¹æ˜¯Routeçš„å±‚çº§é—®é¢˜ï¼Œæˆ‘çš„è·¯ç”±å®šä¹‰æ˜¯ï¼š\r\n\r\n```\r\n{\r\n  id: 1,\r\n  ...\r\n  path: \"xxx\",\r\n  children:\r\n  [\r\n    {\r\n      id: 2,\r\n      ...\r\n      path: \"xxx\",\r\n      children:\r\n      [\r\n        {\r\n          id: 3,\r\n          ...\r\n          path: \"xxx\",\r\n          meta: {\r\n            keepAlive: true // éœ€è¦è¢«ç¼“å­˜\r\n          },\r\n          children:\r\n          [\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\nid=3çš„è¿™ä¸ªæ— æ³•ç¼“å­˜ï¼Œid=2å¯ä»¥ç¼“å­˜ï¼ˆå³æ ‘çš„ç¬¬äºŒçº§å¯ä»¥ç¼“å­˜ï¼Œç¬¬ä¸‰çº§åŠä»¥åä¸èƒ½ç¼“å­˜ï¼‰ã€‚\r\nè¿™ä¸ªæ˜¯ä¸æ˜¯BUGå•Šï¼ŸæŒ‰ç†ä¸åº”è¯¥å±€é™è¿™ä¸ªå§ï¼Ÿ","Url":"https://github.com/vuejs/vue-router/issues/2859","RelatedDescription":"Closed issue \"keep-aliveé—®é¢˜ï¼Ÿ\" (#2859)"},{"Id":"470676774","IsPullRequest":true,"CreatedAt":"2019-07-20T16:29:28","Actor":"kevinkhill","Number":"2858","RawContent":null,"Title":"Update README.md","State":"closed","Body":"caught a typo","Url":"https://github.com/vuejs/vue-router/pull/2858","RelatedDescription":"Closed or merged PR \"Update README.md\" (#2858)"},{"Id":"469738414","IsPullRequest":false,"CreatedAt":"2019-07-18T12:25:43","Actor":"wizardnet972","Number":"2857","RawContent":null,"Title":"Can't pass data to component from beforeRouteEnter only after component is initialized","State":"closed","Body":"### Version\r\n3.0.7\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-typescript-example-cb9o0](https://codesandbox.io/s/vue-typescript-example-cb9o0)\r\n\r\n### Steps to reproduce\r\nOpen the reproduction.\r\nopen the console.\r\nThen click on the link: go to page.\r\n\r\ncheck the console log.\r\n\r\n### What is expected?\r\nconsole log object\r\n\r\n### What is actually happening?\r\nconsole log undefined.\r\n\r\n---\r\nI think because next function happens after the component is initialized and in setTimeout((), 16) I can't be able to pass to its props before the component is executed.\r\n\r\nI think right now is weird behavior for the router. its miss the expected guard/resolve behavior.\r\n\r\nSo this is why I got undefined at the getter function.\r\n\r\nAny idea how to solve this issue?\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2857","RelatedDescription":"Closed issue \"Can't pass data to component from beforeRouteEnter only after component is initialized\" (#2857)"},{"Id":"469624614","IsPullRequest":false,"CreatedAt":"2019-07-18T08:00:27","Actor":"q379257013","Number":"2856","RawContent":null,"Title":"ä¸ºä»€ä¹ˆè¦ç”¨ resetRouterï¼Œ è¯·é—®ä»–è§£å†³ä»€ä¹ˆé—®é¢˜äº†ï¼Œ ä¸€ç›´æ²¡æœ‰æ˜ç™½äº†ï¼Ÿ ","State":"closed","Body":"","Url":"https://github.com/vuejs/vue-router/issues/2856","RelatedDescription":"Closed issue \"ä¸ºä»€ä¹ˆè¦ç”¨ resetRouterï¼Œ è¯·é—®ä»–è§£å†³ä»€ä¹ˆé—®é¢˜äº†ï¼Œ ä¸€ç›´æ²¡æœ‰æ˜ç™½äº†ï¼Ÿ \" (#2856)"},{"Id":"469374275","IsPullRequest":true,"CreatedAt":"2019-07-18T06:47:43","Actor":"darrylhein","Number":"2855","RawContent":null,"Title":"Adding periods in docs","State":"closed","Body":"very minor\r\n","Url":"https://github.com/vuejs/vue-router/pull/2855","RelatedDescription":"Closed or merged PR \"Adding periods in docs\" (#2855)"},{"Id":"469283566","IsPullRequest":false,"CreatedAt":"2019-07-17T15:21:55","Actor":"atrueresistance","Number":"2854","RawContent":null,"Title":"Why does vue.js report 404 route in production, but not development?","State":"closed","Body":"### Version\r\n3.0.3\r\n\r\n### Reproduction link\r\n[https://stackoverflow.com/questions/57013982/why-does-vue-js-report-404-route-in-production-but-not-development](https://stackoverflow.com/questions/57013982/why-does-vue-js-report-404-route-in-production-but-not-development)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nRunning npm run serve I can visit auth/login, but after npm run build the server returns a 404 on auth/login.\r\n\r\nI get a 404 when going to https://example.com/auth/login but navigating to https://example.com/address-records works just fine. It seems as if only something that is more than a single / deep returns a 404.\r\n\r\nHere is the router code\r\n\r\n```\r\nlet router = new Router({\r\n  mode: \"history\",\r\n  base: process.env.BASE_URL,\r\n  routes: [\r\n    {\r\n      path: \"/\",\r\n      name: \"home\",\r\n      component: Home\r\n    },\r\n    {\r\n      path: \"/auth/login\",\r\n      name: \"Login\",\r\n      component: Login\r\n    },\r\n    {\r\n      path: \"/address-records\",\r\n      name: \"Address\",\r\n      component: Address\r\n    }\r\n  ]\r\n});\r\n```\r\n\r\nIs there something special I need to be doing with Nginx? I have it setup with similar searched questions.\r\n\r\n```\r\n location / {\r\n        try_files $uri $uri/ /index.html;\r\n }\r\n location @rewrites {\r\n         rewrite ^(. )$ /index.html last;\r\n      }\r\n\r\n location ~* \\.(?:ico|css|js|gif|jpe?g|png)$ {\r\n         # Some basic cache-control for static files to be sent to the browser\r\n         expires max;\r\n         add_header Pragma public;\r\n         add_header Cache-Control \"public, must-revalidate, proxy-revalidate\";\r\n  }\r\n```\r\n\r\n### What is expected?\r\n200 status code from auth/login in production\r\n\r\n### What is actually happening?\r\n404 status code from auth/login in production\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2854","RelatedDescription":"Closed issue \"Why does vue.js report 404 route in production, but not development?\" (#2854)"}],"ResultType":"GitHubIssue"},"Vuex-Issues":{"Issues":[{"Id":"479674384","IsPullRequest":true,"CreatedAt":"2019-08-13T02:15:32","Actor":"SergioCrisostomo","Number":"1601","RawContent":null,"Title":"fix(docs): Clearify state object type","State":"closed","Body":"Clearify in the docs that Vuex state object should be a plain object that follows the same rules as `data` in a Vue instance. This addition will clarify what is \"good practise\" to use in Vuex.\r\n\r\ncloses #1587 \r\ncloses https://github.com/vuejs/vue/pull/10379","Url":"https://github.com/vuejs/vuex/pull/1601","RelatedDescription":"Closed or merged PR \"fix(docs): Clearify state object type\" (#1601)"},{"Id":"472187418","IsPullRequest":false,"CreatedAt":"2019-08-13T02:15:32","Actor":"SergioCrisostomo","Number":"1587","RawContent":null,"Title":"Storing component instances creates a circular reference loop in strict mode","State":"closed","Body":"### Version\r\n3.1.1\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/Sergio_fiddle/zkrsa4g1/3/](https://jsfiddle.net/Sergio_fiddle/zkrsa4g1/3/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nStore a pointer to a component instance in Vuex with `strict: true`.\r\n\r\n### What is expected?\r\nNo errors. \r\n\r\n### What is actually happening?\r\n> RangeError: Maximum call stack size exceeded\r\n\r\nVuex is adding watchers to all nested properties to warn if there are non-immutable changes inside a object (because of the strict mode help warnings) and does not stop when its entering itself. \r\n\r\nIn other words: when entering a component we can re-enter the store as a component property, and in the store we have a component that has a store etc etc ... we are in a loop\r\n\r\n---\r\nI think either:\r\n - Vuex should officially discourage from saving pointers of instances of Vue components in it\r\n\r\n**or** \r\n\r\n - add a check to stop going deeper if the nested object it the Vuex instance itself\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1587","RelatedDescription":"Closed issue \"Storing component instances creates a circular reference loop in strict mode\" (#1587)"},{"Id":"478201435","IsPullRequest":true,"CreatedAt":"2019-08-08T01:00:07","Actor":"stephentian","Number":"1600","RawContent":null,"Title":"Fix: \" id='app' \"","State":"open","Body":"","Url":"https://github.com/vuejs/vuex/pull/1600","RelatedDescription":"Open PR \"Fix: \" id='app' \"\" (#1600)"},{"Id":"478068219","IsPullRequest":true,"CreatedAt":"2019-08-07T18:08:25","Actor":"SagePacheco","Number":"1599","RawContent":null,"Title":"Update modules.md","State":"open","Body":"Minor language correction.","Url":"https://github.com/vuejs/vuex/pull/1599","RelatedDescription":"Open PR \"Update modules.md\" (#1599)"},{"Id":"477476046","IsPullRequest":false,"CreatedAt":"2019-08-06T16:24:54","Actor":"aosnow","Number":"1598","RawContent":null,"Title":"ModuleCollection.getNamespace åªèƒ½å–ç¬¬ä¸€çº§ key","State":"closed","Body":"### Version\r\n3.1.1\r\n\r\n### Reproduction link\r\n[https://new-issue.vuejs.org/?repo=vuejs/vuex](https://new-issue.vuejs.org/?repo=vuejs/vuex)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n```\r\n// å¾ªç¯ä¸‹å»çš„ä¸»ä½“æ˜¯ module æ²¡é—®é¢˜\r\n  get(path) {\r\n    return path.reduce((module, key) => {\r\n      return module.getChild(key);\r\n    }, this.root);\r\n  }  \r\n\r\n// å¾ªç¯ä¸‹å»ä¸»ä½“æ˜¯ Stringï¼Œå› æ­¤ module = module.getChild(key);\r\n// module æ°¸è¿œæŒ‡å‘ this.root\r\ngetNamespace(path) {\r\n    let module = this.root;\r\n    return path.reduce((namespace, key) => {\r\n      module = module.getChild(key);\r\n      return namespace   (module.namespaced ? key   '/' : '');\r\n    }, '');\r\n  }\r\n```\r\n`store._modules.getNamespace(['user','member'])` å°†åªèƒ½å¾—åˆ° `user/`\r\n\r\n### What is expected?\r\n`store._modules.getNamespace(['user','member'])` åº”è¯¥å¾—åˆ° `user/member/` çš„ç»“æœ\r\n\r\n### What is actually happening?\r\ngetNamespace(path) è¿”å›çš„ç»“æœæ°¸è¿œåªæœ‰ root.getChild(key) çš„åŒ¹é…ç»“æœ\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1598","RelatedDescription":"Closed issue \"ModuleCollection.getNamespace åªèƒ½å–ç¬¬ä¸€çº§ key\" (#1598)"},{"Id":"477473589","IsPullRequest":false,"CreatedAt":"2019-08-06T16:16:48","Actor":"aosnow","Number":"1597","RawContent":null,"Title":"ModuleCollection.getNamespace åªèƒ½å–ç¬¬ä¸€çº§ key","State":"closed","Body":"```\r\n// å¾ªç¯ä¸‹å»çš„ä¸»ä½“æ˜¯ module æ²¡é—®é¢˜\r\n  get(path) {\r\n    return path.reduce((module, key) => {\r\n      return module.getChild(key);\r\n    }, this.root);\r\n  }  \r\n\r\n// å¾ªç¯ä¸‹å»ä¸»ä½“æ˜¯ Stringï¼Œå› æ­¤ module = module.getChild(key);\r\n// module æ°¸è¿œæŒ‡å‘ this.root\r\ngetNamespace(path) {\r\n    let module = this.root;\r\n    return path.reduce((namespace, key) => {\r\n      module = module.getChild(key);\r\n      return namespace + (module.namespaced ? key + '/' : '');\r\n    }, '');\r\n  }\r\n```\r\n\r\ngetNamespace(path) è¿”å›çš„ç»“æœæ°¸è¿œåªæœ‰ root.getChild(key) çš„åŒ¹é…ç»“æœ\r\n ","Url":"https://github.com/vuejs/vuex/issues/1597","RelatedDescription":"Closed issue \"ModuleCollection.getNamespace åªèƒ½å–ç¬¬ä¸€çº§ key\" (#1597)"},{"Id":"477384943","IsPullRequest":false,"CreatedAt":"2019-08-06T13:34:41","Actor":"cherenkor","Number":"1596","RawContent":null,"Title":"Improve modules data map import","State":"open","Body":"### What problem does this feature solve?\r\nRepeating code, Safe import, More convenient way to import data\r\n\r\n### What does the proposed API look like?\r\nHi, I've been working with Vuex recently and got a task where I would need to get a property of the object from the state.\r\n\r\nLike this: ```state.headers.username```\r\n\r\nWhat do you think to implement this solution for importing this property from the state (it also could be done for actions, getters, mutations):\r\n\r\n```\r\n...mapState({ username: 'collection-data/headers.username' })\r\n```\r\n\r\nWhat do you think about it?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1596","RelatedDescription":"Open issue \"Improve modules data map import\" (#1596)"},{"Id":"477382886","IsPullRequest":false,"CreatedAt":"2019-08-06T13:30:54","Actor":"cherenkor","Number":"1595","RawContent":null,"Title":"Improve modules data import","State":"closed","Body":"Hi, I've been working with Vuex recently and got a task where I would need to get a property of the object from the state.\r\n\r\nLike this: `state.headers.username`\r\n\r\nWhat do you think to implement this solution for importing this property from the state (it also could be done for actions, getters, mutations):\r\n\r\n`\r\n...mapState({\r\n      rawEndingDate: 'collection-data/headers.username'\r\n    })\r\n`\r\n\r\nWhat do you think about it?","Url":"https://github.com/vuejs/vuex/issues/1595","RelatedDescription":"Closed issue \"Improve modules data import\" (#1595)"},{"Id":"477167338","IsPullRequest":true,"CreatedAt":"2019-08-06T04:47:23","Actor":"sue71","Number":"1594","RawContent":null,"Title":"fix: remove invalid typings","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1594","RelatedDescription":"Closed or merged PR \"fix: remove invalid typings\" (#1594)"},{"Id":"477163822","IsPullRequest":false,"CreatedAt":"2019-08-06T04:31:33","Actor":"farazshuja","Number":"1593","RawContent":null,"Title":"Switching to a nested route is automatically running the last commit event from parent's store","State":"open","Body":"### Version\r\n3.1.0\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-template-c2gtb](https://codesandbox.io/s/vue-template-c2gtb)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Open https://codesandbox.io/s/vue-template-c2gtb\r\n2. Click on 'Go to Page with nested router' link\r\n3. Click on 'commit event', it will show an alert box\r\n4. Now change the nested route by clicking 'change nested route to reporting'\r\n\r\n### What is expected?\r\nRoute changed to reporting without showing the 'hello' alert box.\r\n\r\n### What is actually happening?\r\nIts showing the 'hello' alert box again.\r\n\r\n---\r\nOne of the releated issues\r\nhttps://github.com/vuejs/vuex/issues/1570\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1593","RelatedDescription":"Open issue \"Switching to a nested route is automatically running the last commit event from parent's store\" (#1593)"},{"Id":"476523653","IsPullRequest":false,"CreatedAt":"2019-08-04T07:21:04","Actor":"Rolanddoda","Number":"1592","RawContent":null,"Title":"mapState doesn't work with non namespaced module","State":"open","Body":"### Version\r\n3.1.1\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vuex-issue-with-mapstate-5zb3x](https://codesandbox.io/s/vuex-issue-with-mapstate-5zb3x)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nIn the reproduction link, there is a non namespaced module with has a count in it's state and a doubleCount in it's getters.\r\n\r\n**In the HelloWorld component I am trying to use vuex helpers to access the state and the getters like:**\r\n\r\n```js\r\n...mapState(['count']),\r\n...mapGetters(['doubleCount]')\r\n```\r\n\r\n### What is expected?\r\nSince the module it's not namespaced I should be able to access the state and getters of the module with vuex helpers.\r\n\r\nBoth `mapState` and `mapGetters` should work fine.\r\n\r\n### What is actually happening?\r\nHowever, only the mapGetters helper it's working.\r\n\r\n---\r\nIn order to get the `mapState` to work I should do:\r\n\r\n```js\r\n    ...mapState({\r\n      count: state => state.myModule.count\r\n    })\r\n```\r\n\r\nHowever IMHO, the mapState should work with just a string since the module in the end it's merged with the global store.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1592","RelatedDescription":"Open issue \"mapState doesn't work with non namespaced module\" (#1592)"},{"Id":"474320880","IsPullRequest":false,"CreatedAt":"2019-07-30T01:02:13","Actor":"Rkaede","Number":"1591","RawContent":null,"Title":"Pass payload by value, not by reference","State":"open","Body":"### What problem does this feature solve?\r\nCurrently the payload passed to mutation functions is by reference, not value. This allows the mutation functions to directly update the payload data rather than the state object.\r\n\r\nAs an example see [editTodo() in the todo demo](https://github.com/vuejs/vuex/blob/91f3e69ed9e290cf91f8885c6d5ae2c97fa7ab81/examples/todomvc/store/mutations.js#L17):\r\n\r\n```javascript\r\neditTodo (state, { todo, text = todo.text, done = todo.done }) {\r\n  todo.text = text\r\n  todo.done = done\r\n}\r\n```\r\n\r\nThere are 2 downsides to this.\r\n\r\nThe first is that the function is mutating the payload and not the state. It is not clear here what is being mutated. We now need to traverse all around the app to find out.\r\n\r\nIf the payload was instead passed by value then updating the value would not actually do anything. All mutation functions would need to update the state object. This would make vuex stores more explicit and understandable as well as ensure there is a clear boundary between it and the app. \r\n\r\nThe second is that Vuex plugins cannot log the mutations to a server and replay them back later. Here is a pseudocode example:\r\n\r\n```javascript\r\n// replaying back mutation logs\r\nlet logs = await getLogsFromServer();\r\nfor (log in logs) {\r\n  // any editTodo mutations passed in below will not work\r\n  // as the mutation will update the \"log\" object instead of \r\n  // the actual todo in the state object\r\n  this.store.commit(log.type, log.payload);\r\n}\r\n```\r\n\r\nI'm working on a plugin that does this (similar to [redux-vcr](https://github.com/joshwcomeau/redux-vcr)) and it would be great if there was a systematic guarantee that it would work with all Vuex stores. \r\n\r\n### What does the proposed API look like?\r\nExample - No changes needed\r\n```javascript\r\nmutations: {\r\n  // current: n is passed by reference\r\n  increment (state, n) { \r\n    state.count  = n\r\n  }\r\n}\r\n\r\nmutations: {\r\n  // proposed: n is passed by value\r\n  increment (state, n) { \r\n    state.count  = n\r\n  }\r\n}\r\n```\r\n\r\nExample B - editTodo\r\n\r\n```javascript\r\nmutations: {\r\n  // current - can update payload\r\n  editTodo (state, { todo, text = todo.text, done = todo.done }) {\r\n    todo.text = text\r\n    todo.done = done\r\n  }\r\n}\r\n\r\nmutations: {\r\n  // proposed - with pass by value we \r\n  // must update the state object\r\n  editTodo (state, todo) {\r\n     const index = state.todos.findIndex(t => t.id === todo.id);\r\n     state.todos[index] = todo;\r\n  }\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1591","RelatedDescription":"Open issue \"Pass payload by value, not by reference\" (#1591)"},{"Id":"473829497","IsPullRequest":false,"CreatedAt":"2019-07-29T03:15:47","Actor":"juanzi957","Number":"1590","RawContent":null,"Title":"vuex3.1.1ç‰ˆæœ¬å­˜åœ¨å†…å­˜æ³„æ¼çš„é—®é¢˜","State":"open","Body":"### Version\r\n3.1.1\r\n\r\n### Reproduction link\r\n[https://forum.vuejs.org/t/vux/66236](https://forum.vuejs.org/t/vux/66236)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\næœ€è¿‘æˆ‘åœ¨ç”¨vue-cli3 vuex websocketæ„å»ºä¸€ä¸ªé¡¹ç›®ï¼Œå‘ç°vuexå­˜åœ¨å†…å­˜æ³„æ¼çš„é—®é¢˜ï¼Œä½†æ˜¯ä¸çŸ¥é“æ€ä¹ˆè§£å†³ï¼Œè¯·å¤§å®¶å¸®å¿™çœ‹ä¸‹ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š\r\n1.ç”¨vue-cli3åˆ›å»ºä¸€ä¸ªç©ºé¡¹ç›®ï¼›\r\n2.æœåŠ¡ç«¯ç”¨nodeæ­å»ºä¸€ä¸ªç®€å•çš„æ¯éš”50msç”¨websocketç»™å®¢æˆ·ç«¯å‘æ¶ˆæ¯çš„æœåŠ¡ï¼›\r\n3.å®¢æˆ·ç«¯æ¯æ¬¡æ¥æ”¶åˆ°æœåŠ¡ç«¯å‘é€è¿‡æ¥çš„æ•°æ®éƒ½é€šè¿‡vuexæ¥ç®¡ç†ï¼Œæ¯æ¬¡éƒ½commitï¼ˆæˆ–è€…dispatchæˆ‘ä¹Ÿè¯•è¿‡ï¼Œæ•ˆæœä¸€æ ·ï¼‰åˆ°vuexç®¡ç†å»ï¼Œ\r\n4.è¿è¡Œåå‡ åˆ†é’Ÿçœ‹ä¸å‡ºå†…å­˜æ³„æ¼çš„é—®é¢˜ï¼Œè¿è¡Œä¸ªæŠŠå°æ—¶å°±èƒ½çœ‹å‡ºä¸€ç‚¹ï¼ŒJSæ ˆå†…å­˜ä¸€ç›´åœ¨å¢åŠ ï¼Œè¿è¡Œä¸€æ™šä¸Šä¹‹åï¼Œæµè§ˆå™¨å®Œå…¨å´©æºƒäº†ï¼›\r\n5.è¿™æ˜¯æœåŠ¡ç«¯å‘é€ä¸€ä¸ªæ¯”è¾ƒå°çš„æ•°æ®ï¼Œå‘é€ä¸€ä¸ªå¾ˆå¤§çš„æ•°æ®æµè§ˆå™¨å´©æºƒçš„å°±æ›´å¿«ã€‚\r\nä¸‹é¢æ˜¯æˆ‘çš„æ•°æ®å’Œä»£ç ï¼š\r\næœåŠ¡ç«¯å‘é€çš„æ•°æ®ï¼š\r\nvar abc = {\r\nâ€˜aaaâ€™: 111,\r\nâ€˜aabâ€™: 1111,\r\nâ€˜aacâ€™: 11111,\r\nâ€˜aadâ€™: 111111,\r\nâ€˜aaeâ€™: 1111111,\r\nâ€˜aafâ€™: 11111111,\r\nâ€˜aagâ€™: 111111111,\r\nâ€˜aahâ€™: 1111111111,\r\nâ€˜aaiâ€™: 11111111111\r\n}\r\n\r\nå®¢æˆ·ç«¯ï¼šç”¨VUE-CLI3æ­å»ºçš„ç©ºé¡¹ç›®ï¼Œåªä¿®æ”¹è¿‡çš„Home.vueä¸­çš„ä»£ç ï¼Œä¸€ä¸‹ä»£ç æ”¾åœ¨mountedä¸­ï¼š\r\nconst webSocketUrl = â€˜ws://127.0.0.1:8000â€™\r\nconst ws = new WebSocket(webSocketUrl)\r\nconst _this = this\r\nws.onmessage = function (ev) {\r\n_this.$store.dispatch(â€˜setModulesResâ€™, JSON.parse(ev.data))\r\n}\r\nâ€¦\r\n\r\n### What is expected?\r\nä¸ç®¡æ˜¯ä»¥å¤šå°‘é¢‘ç‡æ¯ç§’å»æ›´æ–°vuexä¸­çš„æ•°æ®ï¼Œéƒ½ä¸åº”è¯¥å¯¼è‡´å†…å­˜æ³„æ¼å¼•èµ·æµè§ˆå™¨å¥”æºƒçš„æƒ…å†µã€‚\r\n\r\n### What is actually happening?\r\nä¸ç®¡ä»»ä½•æ—¶å€™ï¼Œå†…å­˜æ³„æ¼éƒ½æ˜¯ä¸€ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜ï¼Œå½“é‡åˆ°éœ€è¦ä¸æ–­çš„æ—¶æ—¶æ›´æ–°vuexä¸­æ•°æ®çš„é¡¹ç›®ï¼Œå°±ä¸èƒ½ç”¨vueæ„å»ºäº†ã€‚\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1590","RelatedDescription":"Open issue \"vuex3.1.1ç‰ˆæœ¬å­˜åœ¨å†…å­˜æ³„æ¼çš„é—®é¢˜\" (#1590)"},{"Id":"473828352","IsPullRequest":false,"CreatedAt":"2019-07-29T03:10:11","Actor":"juanzi957","Number":"1589","RawContent":null,"Title":"vuexå†…å­˜æ³„æ¼çš„é—®é¢˜","State":"closed","Body":"https://forum.vuejs.org/t/vux/66236\r\n","Url":"https://github.com/vuejs/vuex/issues/1589","RelatedDescription":"Closed issue \"vuexå†…å­˜æ³„æ¼çš„é—®é¢˜\" (#1589)"},{"Id":"472762082","IsPullRequest":true,"CreatedAt":"2019-07-25T09:31:31","Actor":"rummanhasnayeen","Number":"1588","RawContent":null,"Title":"intro.md translated into Bengali and added folder","State":"open","Body":"We are a team of four Junior Software Engineers from Bangladesh. Our native language is Bengali and so \r\n we would like to translate the documentation for Vuex into Bengali. \r\nWe have already translated the intro.md in this pull request. If accepted, we will carry on the work of translating the remaining parts of the documentation into Bengali.\r\nPlease review the changes as well as provide the rules and regulations for such contribution in this project.","Url":"https://github.com/vuejs/vuex/pull/1588","RelatedDescription":"Open PR \"intro.md translated into Bengali and added folder\" (#1588)"},{"Id":"472127016","IsPullRequest":false,"CreatedAt":"2019-07-24T10:12:34","Actor":"fvigotti","Number":"1585","RawContent":null,"Title":"add reference (in docs) to static typing libraries available","State":"closed","Body":"### What problem does this feature solve?\r\nstatic typing\r\n\r\n### What does the proposed API look like?\r\nAfter some days with vuex I'm already bored by the lack of refactoring capacity and the slowdown of programming speed when you have to call namespace/method names using strings,\r\nI've already tried with static string references in both methods names and method calls but this is ugly and for big store become also a mess..\r\n\r\nI've found some libraries which brings better typing support to vuex , the best solution obviously would be toadd everything directly in vuex but If you don't find it useful at least I think that a credit in documentation should be added so users we are approaching vuex (which have less knowledge than skilled users which also mantain the docs ) can have an idea of which library choose , and also those library could get more focused support from the community ,\r\n\r\nI vote for this library to get a sort of \"officialization\" as typing library for vuex :\r\nhttps://github.com/championswimmer/vuex-module-decorators\r\n\r\n(the officialization is necessary for the reasons described above), I choose this library because seems to provide the better typed experience even if his documentation is a bit incomplete\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1585","RelatedDescription":"Closed issue \"add reference (in docs) to static typing libraries available\" (#1585)"},{"Id":"472147077","IsPullRequest":true,"CreatedAt":"2019-07-24T08:26:57","Actor":"rummanhasnayeen","Number":"1586","RawContent":null,"Title":".gitignore update to ignore Intellij IDEA and vscode prâ€¦","State":"open","Body":"â€¦oject files\r\n\r\n.gitignore update to ignore Intellij IDEA project files and vscode project files","Url":"https://github.com/vuejs/vuex/pull/1586","RelatedDescription":"Open PR \".gitignore update to ignore Intellij IDEA and vscode prâ€¦\" (#1586)"},{"Id":"472126314","IsPullRequest":false,"CreatedAt":"2019-07-24T07:36:22","Actor":"fvigotti","Number":"1584","RawContent":null,"Title":"suggestion: add reference (in docs) to static typing libraries available ","State":"closed","Body":"After some days with vuex I'm already bored by the lack of refactoring capacity and the slowdown of programming speed when you have to call namespace/method names using strings,\r\nI've already tried with static string references in both methods names and method calls but this is ugly and for big store become also a mess..\r\n\r\nI've found some libraries which brings better typing support to vuex , the best solution obviously would be toadd everything directly in vuex  but If you don't find it useful at least I think that a credit in documentation should be added so users we are approaching vuex  (which have less knowledge than skilled users which also mantain the docs )  can have an idea of which library choose , and also those library could get more focused support from the community ,\r\n\r\nI vote for this library to get a sort of \"officialization\" as typing library for vuex :\r\nhttps://github.com/championswimmer/vuex-module-decorators\r\n\r\n(the officialization is necessary for the reasons described above),  I choose this library because seems to provide the better typed experience even if his documentation is a bit incomplete \r\n\r\n","Url":"https://github.com/vuejs/vuex/issues/1584","RelatedDescription":"Closed issue \"suggestion: add reference (in docs) to static typing libraries available \" (#1584)"},{"Id":"469975199","IsPullRequest":true,"CreatedAt":"2019-07-18T20:36:22","Actor":"valdezalbertm","Number":"1583","RawContent":null,"Title":"Update README.md","State":"closed","Body":"The URL provided is not existing anymore.","Url":"https://github.com/vuejs/vuex/pull/1583","RelatedDescription":"Closed or merged PR \"Update README.md\" (#1583)"},{"Id":"468913070","IsPullRequest":true,"CreatedAt":"2019-07-16T23:20:37","Actor":"ben-turner","Number":"1582","RawContent":null,"Title":"Update link to flux in README","State":"open","Body":"The current link to flux is broken. Looks like the paths have been updated to not include a file extension.","Url":"https://github.com/vuejs/vuex/pull/1582","RelatedDescription":"Open PR \"Update link to flux in README\" (#1582)"},{"Id":"468441343","IsPullRequest":false,"CreatedAt":"2019-07-16T04:28:09","Actor":"regchiu","Number":"1581","RawContent":null,"Title":"When actions returns promise, the property will be ignored","State":"open","Body":"### Version\r\n3.1.1\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-template-5rovy](https://codesandbox.io/s/vue-template-5rovy)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n```js\r\nactions: {\r\n    test() {\r\n      let prom = new Promise((resolve) => {\r\n        setTimeout(function(){\r\n          resolve(\"DONE\"); \r\n        }, 3000);\r\n      });\r\n      prom['id'] = 10\r\n      console.log(prom) // Object contains id\r\n      return prom;\r\n    }\r\n  }\r\n```\r\n```js\r\ncreated() {\r\n    let pf = this.$store.dispatch(\"test\");\r\n    console.log(\"PF\", pf); // No id property\r\n    pf.then(res => {\r\n      console.log(res);\r\n    });\r\n  }\r\n```\r\n\r\n### What is expected?\r\nThe properties of the object should be displayed in the console.\r\n\r\n### What is actually happening?\r\nThe properties of the object are ignored.\r\n\r\n---\r\nShare questions from the forum\r\n\r\nhttps://forum.vuejs.org/t/custom-promise-properties-in-actions/\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1581","RelatedDescription":"Open issue \"When actions returns promise, the property will be ignored\" (#1581)"},{"Id":"466821711","IsPullRequest":false,"CreatedAt":"2019-07-12T05:53:05","Actor":"Rolanddoda","Number":"1580","RawContent":null,"Title":"Duplicate getter key: 'something/something' : When register/unregister Vuex module","State":"closed","Body":"### Version\r\n3.1.1\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vuex-register-unregister-module-roli-roli-ct4kz](https://codesandbox.io/s/vuex-register-unregister-module-roli-roli-ct4kz)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. When the page loads you are in the home component (`/` route)\r\n2. Click the `Contact` button to navigate to the contact component (`/contact` route)\r\n3. Observe the error in the console.\r\n\r\nIn the Home and Contact  components (or pages) I use `store.registerModule` and `store.unregisterModule` to dynamically register/unregister the same module.\r\n\r\n### What is expected?\r\nNo error should be shown. If you go to the Home later About and later Contact page (and vise versa) everything works as expected.\r\n\r\n### What is actually happening?\r\nAn error is showing in the console that I have duplicate getter keys.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1580","RelatedDescription":"Closed issue \"Duplicate getter key: 'something/something' : When register/unregister Vuex module\" (#1580)"},{"Id":"466177457","IsPullRequest":false,"CreatedAt":"2019-07-10T08:38:57","Actor":"yoyoys","Number":"1579","RawContent":null,"Title":"[Feature Request] mapModule","State":"open","Body":"### What problem does this feature solve?\r\nThis made namespaced module can be use like simple vuex store.\r\n\r\n### What does the proposed API look like?\r\n`store/modules/myModule.ts`\r\n\r\n```ts\r\n\r\nexport const myModule = {\r\n  state: {\r\n    count: 0\r\n  },\r\n  mutations: {\r\n    add(state, payload) {\r\n      state.count = state.count   payload\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n`lib/someLib.ts`\r\n\r\n```ts\r\nimport store from '@/store'\r\n\r\n// the `myModule` is module path\r\nconst myModule = mapModule<IMyModule>(store, 'myModule')\r\n\r\nconsole.log(myModule.state.count) // 0\r\nmyModule.commit('add', 2)\r\nconsole.log(myModule.state.count) // 2\r\n\r\n// for reuse or singleton?\r\nexport myModule\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1579","RelatedDescription":"Open issue \"[Feature Request] mapModule\" (#1579)"},{"Id":"465584333","IsPullRequest":false,"CreatedAt":"2019-07-09T05:57:06","Actor":"tinyCucumber","Number":"1578","RawContent":null,"Title":"where will we pass the second param cb for wrappedActionHandler?","State":"open","Body":"### Version\r\n3.1.1\r\n\r\n### Reproduction link\r\n[https://codepen.io/cucumbers/pen/bPQQeO](https://codepen.io/cucumbers/pen/bPQQeO)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nin the function registerAction, we will wrap the true handler and push into entry.And the wrapped handler receive two params - payload and cb. But what we can see in function dispatch is that the second param cb will never be passed in.\r\n\r\n### What is expected?\r\nIf the param cb  is useless, remove it.\r\n\r\n### What is actually happening?\r\nThe param cb for wrappedActionHandler is never used;\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1578","RelatedDescription":"Open issue \"where will we pass the second param cb for wrappedActionHandler?\" (#1578)"},{"Id":"465576393","IsPullRequest":false,"CreatedAt":"2019-07-09T05:28:32","Actor":"tinyCucumber","Number":"1577","RawContent":null,"Title":"where will we pass the second param cb for wrappedActionHandler?","State":"closed","Body":"in the function registerAction, we will wrap the true handler and push into entry.And the wrapped handler receive two params - payload and cb. But what we can see in function dispatch is that the second param cb will never be passed in.Can someone answer my doubts?\r\n\r\n**wrappedActionHandler**\r\n\r\n```javascript\r\nfunction registerAction (store, type, handler, local) {\r\n  const entry = store._actions[type] || (store._actions[type] = [])\r\n  entry.push(function wrappedActionHandler (payload, cb) {\r\n    let res = handler.call(store, {\r\n      dispatch: local.dispatch,\r\n      commit: local.commit,\r\n      getters: local.getters,\r\n      state: local.state,\r\n      rootGetters: store.getters,\r\n      rootState: store.state\r\n    }, payload, cb)\r\n    if (!isPromise(res)) {\r\n      res = Promise.resolve(res)\r\n    }\r\n    if (store._devtoolHook) {\r\n      return res.catch(err => {\r\n        store._devtoolHook.emit('vuex:error', err)\r\n        throw err\r\n      })\r\n    } else {\r\n      return res\r\n    }\r\n  })\r\n}\r\n```\r\n\r\n**dispatch**\r\n```javascript\r\n    const {\r\n      type,\r\n      payload\r\n    } = unifyObjectStyle(_type, _payload)\r\n\r\n    const action = { type, payload }\r\n    const entry = this._actions[type]\r\n    if (!entry) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        console.error(`[vuex] unknown action type: ${type}`)\r\n      }\r\n      return\r\n    }\r\n\r\n    try {\r\n      this._actionSubscribers\r\n        .filter(sub => sub.before)\r\n        .forEach(sub => sub.before(action, this.state))\r\n    } catch (e) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        console.warn(`[vuex] error in before action subscribers: `)\r\n        console.error(e)\r\n      }\r\n    }\r\n\r\n    const result = entry.length > 1\r\n      ? Promise.all(entry.map(handler => handler(payload)))\r\n      : entry[0](payload)\r\n\r\n    return result.then(res => {\r\n      try {\r\n        this._actionSubscribers\r\n          .filter(sub => sub.after)\r\n          .forEach(sub => sub.after(action, this.state))\r\n      } catch (e) {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n          console.warn(`[vuex] error in after action subscribers: `)\r\n          console.error(e)\r\n        }\r\n      }\r\n      return res\r\n    })\r\n```\r\n","Url":"https://github.com/vuejs/vuex/issues/1577","RelatedDescription":"Closed issue \"where will we pass the second param cb for wrappedActionHandler?\" (#1577)"},{"Id":"465294713","IsPullRequest":true,"CreatedAt":"2019-07-08T15:53:27","Actor":"hejialianghe","Number":"1576","RawContent":null,"Title":"vuex-cart","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1576","RelatedDescription":"Closed or merged PR \"vuex-cart\" (#1576)"},{"Id":"465291851","IsPullRequest":true,"CreatedAt":"2019-07-08T14:32:06","Actor":"hejialianghe","Number":"1575","RawContent":null,"Title":"Create vuex-cart","State":"closed","Body":"1","Url":"https://github.com/vuejs/vuex/pull/1575","RelatedDescription":"Closed or merged PR \"Create vuex-cart\" (#1575)"},{"Id":"465227767","IsPullRequest":true,"CreatedAt":"2019-07-08T12:56:43","Actor":"boomler","Number":"1574","RawContent":null,"Title":"Refactor: extract a method for duplicate environment judgement","State":"closed","Body":"There are 17 times of environment judgement in `store.js`.  Extract it to  `util.js`","Url":"https://github.com/vuejs/vuex/pull/1574","RelatedDescription":"Closed or merged PR \"Refactor: extract a method for duplicate environment judgement\" (#1574)"},{"Id":"463514720","IsPullRequest":true,"CreatedAt":"2019-07-03T02:34:27","Actor":"hugoazevedosoares","Number":"1573","RawContent":null,"Title":"fix(#1571): remove undefined payload from store.dispatch","State":"open","Body":"Fixed the issue #1571\r\n\r\nRunned all tests and they were ok, except for tsc/types that didn't work on my computer, by that was before the change was made. Also, the change has no reason to break this kind of test.\r\n\r\nThe solution was proposed by @gitlab-winnie .","Url":"https://github.com/vuejs/vuex/pull/1573","RelatedDescription":"Open PR \"fix(#1571): remove undefined payload from store.dispatch\" (#1573)"},{"Id":"461385089","IsPullRequest":false,"CreatedAt":"2019-06-27T08:18:24","Actor":"StijnVandermeulen1","Number":"1572","RawContent":null,"Title":"subscribeAction: before and after calls do not wait if we have a promise or await statement inside them.","State":"open","Body":"### What problem does this feature solve?\r\nIf you subscribe to an action an return a promise or use an await statement, the code does not wait for the request to be complete. This is a problem when you implement a component as a plugin. Communication between components can be handled by the subscribeAction. But retrieving data and pushing it into the state using the afore mentioned methods will not result in any data since the service does not wait for it to be completed.\r\n\r\nThis feature would be very usefull for components as plugins that can be fully compartmentalized and plugged into different applications. Configuration retrieval can then be defined in the subscribeAction allowing different implementations over multiple applications.\r\n\r\n### What does the proposed API look like?\r\nExample for before action:\r\n\r\nCurrent code in src/store.js line 132:\r\n\r\n   try {\r\n\r\n      this._actionSubscribers\r\n        .filter(sub => sub.before)\r\n        .forEach(sub => sub.before(action, this.state))\r\n    }\r\n\r\nShould be:\r\n\r\n  try {\r\n\r\n          async function asyncForEach(array, callback) {\r\n             for (let index = 0; index < array.length; index  ) {\r\n                await callback(array[index], index, array);\r\n           }\r\n         }\r\n\r\n         await asyncForEach(this._actionSubscribers\r\n           .filter(function (sub) { return sub.before; }), async function (sub) {\r\n                return await sub.before(action, this$1.state); \r\n           });\r\n        }\r\n\r\ndispatch function should be async as wel.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1572","RelatedDescription":"Open issue \"subscribeAction: before and after calls do not wait if we have a promise or await statement inside them.\" (#1572)"}],"ResultType":"GitHubIssue"}},"RunOn":"2019-08-13T05:30:49.714839Z","RunDurationInMilliseconds":1971}