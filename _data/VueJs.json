{"Data":{"Vue-Issues":{"Issues":[{"Id":"643483515","IsPullRequest":false,"CreatedAt":"2020-06-23T02:39:51","Actor":"icqbox","Number":"11469","RawContent":null,"Title":"Vue state does not sync with kendo datasource","State":"open","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[http://dojo.telerik.com/aGENIHuW](http://dojo.telerik.com/aGENIHuW)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Click 'Test'\r\n2. Click 'Update'\r\n\r\n### What is expected?\r\nReplace first row with second row of grid.\r\n\r\n### What is actually happening?\r\nNo change on screen.\r\n\r\n---\r\nIf I firstly click 'Test' (just only a same value assignment to state) and then click 'Update', strangely it does not work so the grid has no change. I found the Vue state was updated but the datasource won't.\r\nIf I firstly click 'Update', it works!\r\n\r\nThe problem is why, after clicked 'Test', the kendo grid datasource became cached and out of sync with the Vue state? If I don’t click 'Test', they do sync always. Problem occur only on “same value assignment”. If “different value assignment”, no problem. e.g.\r\n\r\n    test: function(e) { //same value assignment ('update' function will have problem after executed 'test')\r\n        this.localDataSource = JSON.parse(JSON.stringify(this.localDataSource));\r\n    },\r\n    test2: function(e) { //different value assignment ('update' function works fine after executed 'test2')\r\n        let ds = JSON.parse(JSON.stringify(this.localDataSource));\r\n        ds[0]['ProductName'] = 'hello';\r\n        this.localDataSource = JSON.parse(JSON.stringify(ds));\r\n    }\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11469","RelatedDescription":"Open issue \"Vue state does not sync with kendo datasource\" (#11469)"},{"Id":"642552352","IsPullRequest":true,"CreatedAt":"2020-06-21T17:14:36","Actor":"Shivansh2407","Number":"11468","RawContent":null,"Title":"ReadMe Updated","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [x] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Description:**\r\nThis PR aims to remove a non working link and also transform the Gold from readme file to the table.","Url":"https://github.com/vuejs/vue/pull/11468","RelatedDescription":"Closed or merged PR \"ReadMe Updated\" (#11468)"},{"Id":"642352298","IsPullRequest":false,"CreatedAt":"2020-06-20T11:04:02","Actor":"backbone87","Number":"11467","RawContent":null,"Title":"Transition with async conditional render dont respect out-in mode","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/an5kydfr/](https://jsfiddle.net/an5kydfr/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. In the fiddle switch from A to B\r\n\r\n### What is expected?\r\nB faded in only after A is fully faded out\r\n\r\n### What is actually happening?\r\nB starts fading in while A is still fading out\r\n\r\n---\r\nSwitching from B to A in the fiddle, does not have this issue.\r\n\r\nUsing a dynamic component does not have this problem: https://jsfiddle.net/0w2nuL38/\r\nSadly, this workaround is not feasable for my actual use-case.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11467","RelatedDescription":"Closed issue \"Transition with async conditional render dont respect out-in mode\" (#11467)"},{"Id":"642349894","IsPullRequest":false,"CreatedAt":"2020-06-20T10:35:00","Actor":"AngusMacrae","Number":"11466","RawContent":null,"Title":"Compiled CSS is incorrect (SCSS in single file component, using calc() with custom property)","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://github.com/AngusMacrae/solar-system-explorer](https://github.com/AngusMacrae/solar-system-explorer)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nIn the \"client\" folder, run \"npm install\" to install dependencies, then \"npm run serve\". Navigate to http://localhost:8080/ in your browser. Inspect one of the .planet-system elements and find the .orbit div within it. Note that in the style browser, the following line is applied:\r\n\r\n    top: calc(var(--diameter-vw) / 2 - var(--orbit-diameter) / 2);\r\n\r\nThis is accurate to the scoped SCSS in the .vue Single File Component source file.\r\n\r\nNow either run \"npm run build\" and spin up a local webserver, or you can just navigate to https://solar-system-explorer.netlify.app/ which is where I have deployed the site. The site is deployed directly from the /client/dist folder in the GitHub repo, the contents of which were generated by running \"npm run build\".\r\n\r\nInspect the same .orbit element as before. But now, you'll find that the following line is different:\r\n\r\n    top: calc(var(--diameter-vw) - var(--orbit-diameter));\r\n\r\nThis line is not correct.\r\n\r\n### What is expected?\r\nI expect the two lines to be the same. The latter should be the same as the former because they are compiled from the same source .vue file.\r\n\r\n### What is actually happening?\r\nThe CSS rule that is applied in my deployed app is not correct, resulting in breaking the visual appearance of the app.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11466","RelatedDescription":"Closed issue \"Compiled CSS is incorrect (SCSS in single file component, using calc() with custom property)\" (#11466)"},{"Id":"641404410","IsPullRequest":false,"CreatedAt":"2020-06-18T17:44:30","Actor":"bashery","Number":"11465","RawContent":null,"Title":"<div v-bind:title=\"foo\" >   doas not work on firefox","State":"closed","Body":"### Version\r\n2.6.11\r\n### browser\r\nfirefox\r\n\r\n### Steps to reproduce\r\n\r\n\\<div id=\"app-2\"\\>\r\n  \\<span v-bind:title=\"message\"\\>\r\n    Hover your mouse over me for a few seconds\r\n    to see my dynamically bound title!\r\n  \\<\\/span\\>\r\n\\<\\/div\\>\r\n\r\nvar app2 = new Vue({\r\n  el: '#app-2',\r\n  data: {\r\n    message: 'You loaded this page on ' + new Date().toLocaleString()\r\n  }\r\n})\r\n\r\n<div v-bind:title=\"foo\" >   doas not work on firefox\r\n\r\n### What is expected?\r\nshow title message when I hover mouse on element\r\n\r\n### What is actually happening?\r\nnothing on firefox\r\nbut it is working on chromium\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11465","RelatedDescription":"Closed issue \"<div v-bind:title=\"foo\" >   doas not work on firefox\" (#11465)"},{"Id":"640919809","IsPullRequest":false,"CreatedAt":"2020-06-18T05:30:39","Actor":"Xie-Jay","Number":"11464","RawContent":null,"Title":"Can't get componentInstance property of vnode when using the v-slot directive on a <template>.","State":"open","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://github.com/Xie-Jay/slot-issue](https://github.com/Xie-Jay/slot-issue)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nI show issue by console.\r\n\r\n### What is expected?\r\nAll vnode can get componentInstance property.\r\n\r\n### What is actually happening?\r\nComponentInstance property is undefined when using the v-slot directive, but others not.\r\n\r\n```html\r\n<slot-test>\r\n  <component-test slot=\"default\" name=\"slot1\"></component-test>\r\n</slot-test>\r\n<slot-test>\r\n  <template slot=\"default\">\r\n    <component-test name=\"slot2\"></component-test>\r\n  </template>\r\n</slot-test>\r\n<slot-test>\r\n  <template v-slot:default>\r\n    <component-test name=\"slot3\"></component-test>\r\n  </template>\r\n</slot-test>\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/64340763/84982701-d1eeec00-b169-11ea-921b-a3d0cb96184f.png)\r\n\r\n---\r\nWhen I use v-slot to replace slot, I get this diffrence which really confuse me.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11464","RelatedDescription":"Open issue \"Can't get componentInstance property of vnode when using the v-slot directive on a <template>.\" (#11464)"},{"Id":"640917777","IsPullRequest":true,"CreatedAt":"2020-06-18T05:25:35","Actor":"wonhyoung05","Number":"11463","RawContent":null,"Title":"fix(compiler): Line breaks in textarea are not removed. (fix: #11446)","State":"open","Body":"fix: #11446 \r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [X] Bugfix \r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [X] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [X] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [X] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [X] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/11463","RelatedDescription":"Open PR \"fix(compiler): Line breaks in textarea are not removed. (fix: #11446)\" (#11463)"},{"Id":"640554401","IsPullRequest":false,"CreatedAt":"2020-06-17T16:33:09","Actor":"FeiFanLiang","Number":"11462","RawContent":null,"Title":"transition enter hook is Not working as expected","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/comcdm/6Lbp43tm/18/](https://jsfiddle.net/comcdm/6Lbp43tm/18/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nif i dont use setTimeout,no entering animation,Whether it is used v-if or v-show,i dont know what happened.\r\n\r\n### What is expected?\r\nif i set element style in enter hook, should do entering animation\r\n\r\n### What is actually happening?\r\nbut no animation in entering\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11462","RelatedDescription":"Closed issue \"transition enter hook is Not working as expected\" (#11462)"},{"Id":"640370391","IsPullRequest":false,"CreatedAt":"2020-06-17T11:42:26","Actor":"lopugit","Number":"11461","RawContent":null,"Title":"File extension is .js but typescript is used in file","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vue/blob/dev/src/core/observer/index.js](https://github.com/vuejs/vue/blob/dev/src/core/observer/index.js)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nOpen that link\r\n\r\n### What is expected?\r\neither a .js file with only javascript or a .ts file with either only javascript or typescript too\r\n\r\n### What is actually happening?\r\nGet typescript in a .js file\r\n\r\n---\r\nHow are you meant to intellicode this file in vscode?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11461","RelatedDescription":"Closed issue \"File extension is .js but typescript is used in file\" (#11461)"},{"Id":"640251291","IsPullRequest":false,"CreatedAt":"2020-06-17T09:03:07","Actor":"xialvjun","Number":"11460","RawContent":null,"Title":"ref name and data name should not use the same namespace","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-namespace-4rxh5](https://codesandbox.io/s/vue-namespace-4rxh5)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nLook the link console warning... \r\n\r\nref name and data name shouldn't use the same namespace. Yeah, we shouldn't bind all things to this!!!\r\n\r\n### What is expected?\r\nthere shouldn't be vue warning\r\n\r\n### What is actually happening?\r\nthere is vue warning\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11460","RelatedDescription":"Closed issue \"ref name and data name should not use the same namespace\" (#11460)"},{"Id":"640172328","IsPullRequest":false,"CreatedAt":"2020-06-17T07:02:27","Actor":"Panamer","Number":"11459","RawContent":null,"Title":"src/core/vdom/patch.js :509","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vue/blob/dev/src/core/vdom/patch.js](https://github.com/vuejs/vue/blob/dev/src/core/vdom/patch.js)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\ndebugger\r\n\r\n### What is expected?\r\nLines 509 through 511 are useless and should not appear\r\n\r\n### What is actually happening?\r\nLine 509 is always false. Because the types of oldVnode and VNode are object\r\n\r\n---\r\nI tried a number of scenarios, including keep-alive.oldvNode === vnode, which is always false.                                                                    \r\nSo I think the judgment here is redundant. If I'm wrong, please show me the proof\r\nI'm curious what scenario is true\r\nthanks.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11459","RelatedDescription":"Closed issue \"src/core/vdom/patch.js :509\" (#11459)"},{"Id":"639467901","IsPullRequest":false,"CreatedAt":"2020-06-16T08:33:03","Actor":"crucifyer","Number":"11458","RawContent":null,"Title":"v-model freeze","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://framework.xenosi.de/exams/ovaisjdofasdjf.html](https://framework.xenosi.de/exams/ovaisjdofasdjf.html)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nInput v-model may freeze when a system window such as confirm or alert is called and then closed with esc.\r\nIt is normalized when the system window is called again and then the close button is clicked, or it is returned after moving to another tab.\r\n\r\n### What is expected?\r\ndon't freeze\r\n\r\n### What is actually happening?\r\nfreeze\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11458","RelatedDescription":"Closed issue \"v-model freeze\" (#11458)"},{"Id":"638970927","IsPullRequest":false,"CreatedAt":"2020-06-15T17:27:02","Actor":"bnjm","Number":"11457","RawContent":null,"Title":"Input value gets out-of-sync (using v-model or :value binding) when input is a dynamic component","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/flamboyant-kowalevski-2sxo0?file=/src/App.vue](https://codesandbox.io/s/flamboyant-kowalevski-2sxo0?file=/src/App.vue)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nEdit the values in the 3 inputs under the \"dynamic inputs\" header.\r\n\r\n### What is expected?\r\nThe inputs should always be in sync with the value `syncTextA` \r\n\r\n### What is actually happening?\r\nAfter an input is edited, it no longer stays in sync with `syncTextA` \r\n\r\n---\r\nThe inputs under the \"normal inputs\" header behave as expected, it seems this is only an issue with dynamic inputs defined like  `<component is=\"input\" />`.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11457","RelatedDescription":"Closed issue \"Input value gets out-of-sync (using v-model or :value binding) when input is a dynamic component\" (#11457)"},{"Id":"638688841","IsPullRequest":true,"CreatedAt":"2020-06-15T09:24:52","Actor":"WesleyQ5233","Number":"11456","RawContent":null,"Title":"fix(shared/util): add 'bigint' into the test of isPrimitive","State":"open","Body":"\r\n**What kind of change does this PR introduce?** (check at least one)\r\n- [x] Other, please describe:fix(shared/util):   \r\n          add 'bigint' into the test of isPrimitive\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n- [ ] No\r\n","Url":"https://github.com/vuejs/vue/pull/11456","RelatedDescription":"Open PR \"fix(shared/util): add 'bigint' into the test of isPrimitive\" (#11456)"},{"Id":"638285188","IsPullRequest":false,"CreatedAt":"2020-06-14T08:53:13","Actor":"ayuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuu","Number":"11455","RawContent":null,"Title":"Inconsistent initialization rendering","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://jsbin.com/teceyip/edit?html,output](https://jsbin.com/teceyip/edit?html,output)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n**Type the following code separately.**\r\n\r\n\r\n* A \r\n```javascript\r\n<!DOCTYPE html>\r\n<html>\r\n    <head>\r\n        <meta charset=\"utf-8\">\r\n        <title></title>\r\n        <script src=\"https://cdn.jsdelivr.net/npm/vue/dist/vue.js\"></script>\r\n    </head>\r\n    <body>\r\n        <div id=\"app\">\r\n            {{ a }} {{ and }} {{ b }}\r\n        </div>\r\n\r\n        <script>\r\n            let data = {\r\n                    a: \"a\",\r\n                    b: \"b.\"\r\n            };\r\n            let vm = new Vue({\r\n                el: \"#app\",\r\n                data: data,\r\n            });\r\n\r\n            vm.and = \"and\";\r\n            console.log(Object.keys(vm));  // 'and' attribute in vm\r\n        </script>\r\n    </body>\r\n</html>\r\n```\r\n\r\n* B\r\n```javascript\r\n<!DOCTYPE html>\r\n<html>\r\n    <head>\r\n        <meta charset=\"utf-8\">\r\n        <title></title>\r\n        <script src=\"https://cdn.jsdelivr.net/npm/vue/dist/vue.js\"></script>\r\n    </head>\r\n    <body>\r\n        <div id=\"app\">\r\n            {{ a }} {{ and }} {{ b }}\r\n        </div>\r\n\r\n        <script>\r\n            let data = {\r\n                    a: \"a\",\r\n                    b: \"b.\"\r\n            };\r\n            let vm = new Vue({\r\n                el: \"#app\",\r\n                data: data,\r\n            });\r\n\r\n            data.b = \"b1\";\r\n            console.log(Object.keys(vm));  // 'and' attribute not in vm\r\n\r\n            vm.and = \"and\";\r\n            console.log(Object.keys(vm));  // 'and' attribute in vm\r\n        </script>\r\n    </body>\r\n</html>\r\n```\r\n\r\n### What is expected?\r\nA is consistent with B.\r\n\r\n### What is actually happening?\r\nA is inconsistent with B. \r\nB renders the 'and' attribute, but B should not render it.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11455","RelatedDescription":"Closed issue \"Inconsistent initialization rendering\" (#11455)"},{"Id":"637670036","IsPullRequest":false,"CreatedAt":"2020-06-12T09:40:10","Actor":"jacekkarczmarczyk","Number":"11454","RawContent":null,"Title":"PropType doesn't take undefined for optional props into account","State":"open","Body":"### Version\r\n2.6.11\r\n\r\n### Steps to reproduce\r\nCreate component with optional prop being an object and try to access its property\r\n\r\n```ts\r\nimport Vue, { PropType } from 'vue';\r\n\r\nVue.extend({\r\n  props: {\r\n    container: Object as PropType<{ n: number }>,\r\n    // or container: Number\r\n  },\r\n\r\n  mounted () {\r\n    // should fail because this.container could be undefined\r\n    console.log(this.container.n);\r\n  },\r\n});\r\n```\r\n\r\n\r\n### What is expected?\r\nTS error: Object is possibly undefined\r\n\r\n### What is actually happening?\r\nNo error\r\n\r\n### Note\r\n\r\nIt works as expected with Composition API plugin\r\n\r\n![image](https://user-images.githubusercontent.com/15625235/84488979-496fd780-aca1-11ea-9cd1-3f96ebdbdc28.png)\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11454","RelatedDescription":"Open issue \"PropType doesn't take undefined for optional props into account\" (#11454)"},{"Id":"637257655","IsPullRequest":false,"CreatedAt":"2020-06-11T20:05:30","Actor":"Nastalgua","Number":"11452","RawContent":null,"Title":"Watching deep changes in Vuex causes: [Vue warn]: Error in nextTick: \"RangeError: Maximum call stack size exceeded\"","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/chrisvfritz/50wL7mdz/](https://jsfiddle.net/chrisvfritz/50wL7mdz/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Create a deep watch of a store state (In my case, a array of objects) and set options `deep: true` (Error does not show when `deep: false`, however it is need for my application)\r\n2. Make some sort of change to that state.\r\n3. Error appears:\r\n```\r\n[Vue warn]: Error in nextTick: \"RangeError: Maximum call stack size exceeded\"\r\n```\r\n```\r\nRangeError: Maximum call stack size exceeded\r\n    at Function.keys (<anonymous>)\r\n    at _traverse (vue.runtime.esm.js?2b0e:2121)\r\n    at _traverse (vue.runtime.esm.js?2b0e:2123)\r\n    at _traverse (vue.runtime.esm.js?2b0e:2123)\r\n    at _traverse (vue.runtime.esm.js?2b0e:2123)\r\n    at _traverse (vue.runtime.esm.js?2b0e:2123)\r\n    at _traverse (vue.runtime.esm.js?2b0e:2123)\r\n    at _traverse (vue.runtime.esm.js?2b0e:2123)\r\n    at _traverse (vue.runtime.esm.js?2b0e:2123)\r\n    at _traverse (vue.runtime.esm.js?2b0e:2123)\r\n```\r\n\r\n### What is expected?\r\nError should not be appearing.\r\n\r\n### What is actually happening?\r\nError is showing as well as the freezing of my entire Vue app.\r\n\r\n---\r\nThis error was able to be fixed adding an addition conditional to a conditional in the _traverse method of vue.runtime.esm.js.\r\n```\r\nif ((!isA && !isObject(val)) || Object.isFrozen(val) || val instanceof VNode || val._isVue)\r\n```\r\n(val._isVue was added)\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11452","RelatedDescription":"Closed issue \"Watching deep changes in Vuex causes: [Vue warn]: Error in nextTick: \"RangeError: Maximum call stack size exceeded\"\" (#11452)"},{"Id":"636871766","IsPullRequest":false,"CreatedAt":"2020-06-11T10:07:36","Actor":"asfaltboy","Number":"11451","RawContent":null,"Title":"Documentation points at a cdn link that contain different versions","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://vuejs.org/v2/guide/](https://vuejs.org/v2/guide/)\r\n\r\n### Steps to reproduce\r\nGo to \"getting started\" docs , and copy one of the urls, they should match the stable version (2.6.11), however these are:\r\n\r\n* https://cdn.jsdelivr.net/npm/vue/dist/vue.js - version  v2.6.11\r\n* https://cdn.jsdelivr.net/npm/vue - version v3.0.0-beta.14 (must ignore cache)\r\n\r\nRef: https://vuejs.org/v2/guide/\r\n\r\n### What is expected?\r\nExpected both to have version 2.6.11\r\n\r\n### What is actually happening?\r\nThe dist version (which should be the stable 2.6 version) is not downloaded, and instead we get 3.0 beta 14\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11451","RelatedDescription":"Closed issue \"Documentation points at a cdn link that contain different versions\" (#11451)"},{"Id":"636363728","IsPullRequest":true,"CreatedAt":"2020-06-10T15:53:36","Actor":"JuniorTour","Number":"11450","RawContent":null,"Title":"refactor: remove unused UserAgent variables of env.js","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [x] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n\r\n**Other information:**\r\nUserAgent variables `isPhantomJS` and `isChrome` in `vue\\src\\core\\util\\env.js` was no longer used since:\r\n- Replace `isPhantomJS` with`isChrome`: [2019-1-11: refactor: better solution for async edge case.](https://github.com/vuejs/vue/commit/3504d7f6d6c8f5bf156fa9242bf54f502c077520#diff-f2722526eac8096c360952e2ffa057f9)\r\n- Replace `isChrome` with`isUsingMicroTask`: [2019-01-24: fix: async edge case fix should apply to more browsers](https://github.com/vuejs/vue/commit/ba0ebd4771ddb5c56c1261f82c842b57ca7163a6#diff-f2722526eac8096c360952e2ffa057f9).\r\n\r\nBut now, they still exist and will be bundled into the dist version, eg: `vue\\dist\\vue.min.js`. \r\n\r\nThese userless code can be simplified, And reduce production version size slightly, So I made this PR.\r\n\r\n","Url":"https://github.com/vuejs/vue/pull/11450","RelatedDescription":"Open PR \"refactor: remove unused UserAgent variables of env.js\" (#11450)"},{"Id":"636175248","IsPullRequest":false,"CreatedAt":"2020-06-10T11:38:18","Actor":"kamilic","Number":"11449","RawContent":null,"Title":"Double escaping of ssrNode in style attribute values","State":"open","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://github.com/kamilic/vue/tree/style-attr-escaped](https://github.com/kamilic/vue/tree/style-attr-escaped)\r\n\r\n### Steps to reproduce\r\nYou can add this unit test at `./test/ssr/ssr-string.spec.js` in Vue project.\r\n\r\n```javascript\r\nit('should not double escape style attribute values', done => {\r\n    renderVmWithOptions({\r\n      template: `\r\n      <div>\r\n        <div style=\"background: url(https://foo.bar/foo.png) no-repeat center center;\\nbackground-size: cover;\"></div>\r\n      </div>\r\n      `\r\n    }, result => {\r\n      expect(result).toContain(`<div style=\"background: url(https://foo.bar/foo.png) no-repeat center center;background-size: cover;\"></div>`)\r\n      done()\r\n    })\r\n  });\r\n```\r\n\r\nor\r\n\r\nclone the library and checkout to `style-attr-escaped` branch and run.\r\n\r\n```bash\r\nnpm run test:ssr\r\n```\r\n\r\nresult:\r\n![image](https://user-images.githubusercontent.com/8327041/84263892-e708c100-ab52-11ea-933c-151b484fe275.png)\r\n\r\n### What is expected?\r\nNo double escaping of ssrNode in style attribute values\r\n\r\n### What is actually happening?\r\nstyle attribute will be escaped.\r\n\r\n---\r\nThis issues may be related to #7224;  \r\nhttps://github.com/vuejs/vue/pull/7224\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11449","RelatedDescription":"Open issue \"Double escaping of ssrNode in style attribute values\" (#11449)"},{"Id":"636008949","IsPullRequest":false,"CreatedAt":"2020-06-10T07:57:26","Actor":"yangzhaoguo","Number":"11448","RawContent":null,"Title":"安卓低版本 报错","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://tmc.himyidea.com/m_hotel/#/HotelHome](https://tmc.himyidea.com/m_hotel/#/HotelHome)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nCannot call method 'call' of undefined  白屏网站打不卡， 已经使用过\r\n\r\n### What is expected?\r\n解决方法\r\n\r\n### What is actually happening?\r\n页面白屏不兼容 安卓4.4\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11448","RelatedDescription":"Closed issue \"安卓低版本 报错\" (#11448)"},{"Id":"635931591","IsPullRequest":false,"CreatedAt":"2020-06-10T06:44:24","Actor":"PT-github","Number":"11447","RawContent":null,"Title":"keep-alive","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/ecstatic-lumiere-mmr44](https://codesandbox.io/s/ecstatic-lumiere-mmr44)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n多级路由嵌套缓存问题（keep-alive嵌套keep-alive）\r\n1.假如这边有二级路由（Parent1（下有Child1和Child2）、Parent2（下有Child3和Child4））\r\n  \r\n2.除了Child2不缓存，其他界面都需要缓存。通过路由的meta中keepAlive来判断是否缓存，并且通过keep-alive中的exclude排除了Child2的组件name\r\n\r\n页面在Child1和Child2进行切换时，Child2不会缓存\r\n但是当从Child2跳转到Child3时，Child2会被缓存，当然原因是父组件Parent1被缓存了，render渲染时会获取cache中对应的vnode节点\r\n\r\n### What is expected?\r\n希望能够对上述这种情况处理，或者可以提供对应的API能够删除父组件中不需要缓存的子组件\r\n\r\n### What is actually happening?\r\n实际父组件缓存了 子组件无法清除缓存\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11447","RelatedDescription":"Closed issue \"keep-alive\" (#11447)"},{"Id":"635924075","IsPullRequest":false,"CreatedAt":"2020-06-10T04:47:20","Actor":"KUBOTAfumiya","Number":"11446","RawContent":null,"Title":"Line breaks in textarea are excessively removed.","State":"open","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codepen.io/kubotafumiya/pen/qBOwEOV](https://codepen.io/kubotafumiya/pen/qBOwEOV)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Set the el option to an element that contains a textarea (or pre) with a newline at the beginning, and  create a Vue instance.\r\n\r\n\r\n```html\r\n<div id=\"app\">\r\n<textarea>\r\n\r\n\r\nThree line breaks are ignored.\r\n</textarea>\r\n</div>\r\n```\r\n\r\n```javascript\r\nnew Vue({\r\n  el: '#app',\r\n});\r\n```\r\n\r\n### What is expected?\r\nThe line breaks are removed.\r\n\r\n\r\n### What is actually happening?\r\nLine breaks are not deleted.\r\n\r\n---\r\nhttps://html.spec.whatwg.org/multipage/syntax.html#element-restrictions\r\n\r\nI think it's okay for a single line break to be ignored according to this specification.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11446","RelatedDescription":"Open issue \"Line breaks in textarea are excessively removed.\" (#11446)"},{"Id":"635429930","IsPullRequest":false,"CreatedAt":"2020-06-09T15:21:08","Actor":"panteparak","Number":"11445","RawContent":null,"Title":"Expose Props to Prop validation","State":"closed","Body":"### What problem does this feature solve?\r\nCurrently Prop Validation take a function that received the value of that specific prop. The problem with that, there is no way to cross validate other prop values and raised errors when they do not meet the condition. By passing in the entire component props, it would also allow the requested feature to be fulfilled. \r\n\r\nReact also supports this out of the box (https://reactjs.org/docs/typechecking-with-proptypes.html)\r\nTheir api is as follows\r\n```\r\n  customProp: function(props, propName, componentName) {\r\n    if (!/matchme/.test(props[propName])) {\r\n      return new Error(\r\n        'Invalid prop `'   propName   '` supplied to'  \r\n        ' `'   componentName   '`. Validation failed.'\r\n      );\r\n    }\r\n  },\r\n```\r\n\r\n### What does the proposed API look like?\r\nCurrently the api is as follows, \r\n```\r\nvalidator: function (value) {\r\n...\r\n}\r\n```\r\n\r\nMy proposed api\r\n```\r\nvalidator: function (value, props) {\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11445","RelatedDescription":"Closed issue \"Expose Props to Prop validation\" (#11445)"},{"Id":"634180022","IsPullRequest":false,"CreatedAt":"2020-06-08T05:45:54","Actor":"despire1119","Number":"11444","RawContent":null,"Title":"seed.js: TypeError: Cannot read property 'resolve' of undefined","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[http://agent.dejipay.com](http://agent.dejipay.com)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n使用vue-cli创建项目并运行(使用yarn安装依赖和启动项目)\r\n\r\n### What is expected?\r\n不报错，正常启动。\r\n\r\n### What is actually happening?\r\n启动正常但报错\r\n\r\nseed.js:2 TypeError: Cannot read property 'resolve' of undefined\r\n\r\nseed.js:2 Uncaught TypeError: Cannot read property 'resolve' of undefined\r\n\r\nError handling response: TypeError: Cannot read property '1' of null\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11444","RelatedDescription":"Closed issue \"seed.js: TypeError: Cannot read property 'resolve' of undefined\" (#11444)"},{"Id":"634085413","IsPullRequest":false,"CreatedAt":"2020-06-08T04:11:34","Actor":"lisiyizu","Number":"11443","RawContent":null,"Title":"紧急！！！出现了Cannot find module 'typescript'的问题，vue项目都受影响了","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n\r\n### Steps to reproduce\r\nnpm run build 报错如下:\r\n![image](https://user-images.githubusercontent.com/12014252/83991265-ce47b200-a97e-11ea-82c8-b92241fc1195.png)\r\n\r\n\r\n### What is expected?\r\nsuccess\r\n\r\n### What is actually happening?\r\nerror\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11443","RelatedDescription":"Closed issue \"紧急！！！出现了Cannot find module 'typescript'的问题，vue项目都受影响了\" (#11443)"},{"Id":"631534352","IsPullRequest":false,"CreatedAt":"2020-06-05T11:56:37","Actor":"alfredriesen","Number":"11442","RawContent":null,"Title":"Snyk reports vue-server-renderer@2.6.11 > serialize-javascript@2.1.2 security issue","State":"closed","Body":"### What problem does this feature solve?\r\nPlease update a dependency serialize-javascript@2.1.2 from vue-server-renderer@2.6.11 for security reasons.\r\n\r\n### What does the proposed API look like?\r\nNo API. Just an update.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11442","RelatedDescription":"Closed issue \"Snyk reports vue-server-renderer@2.6.11 > serialize-javascript@2.1.2 security issue\" (#11442)"},{"Id":"631451940","IsPullRequest":false,"CreatedAt":"2020-06-05T10:05:37","Actor":"CongAn","Number":"11441","RawContent":null,"Title":"®在 <slot> 上使用 v-if 没有效果不工作","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/anker/27nwbr84/2/](https://jsfiddle.net/anker/27nwbr84/2/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n在`html`中使用`slot v-if`没有任何效果，但是在`js`中使用`template`的`slot v-if`是正常。\r\n\r\n无法使用v-if的例子\r\n```\r\n<template>\r\n  <div>\r\n    <slot v-if=\"render\"></slot>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      render: false,\r\n    }\r\n  },\r\n</script>\r\n```\r\n可以使用 v-if 的例子\r\n```\r\n<script>\r\nexport default {\r\n  template: '<div><slot v-if=\"render\"/></div>',\r\n  data () {\r\n    return {\r\n      render: false,\r\n    }\r\n  },\r\n</script>\r\n```\r\n\r\n### What is expected?\r\nv-if 正常的使用\r\n\r\n### What is actually happening?\r\nv-if 无法工作\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11441","RelatedDescription":"Closed issue \"®在 <slot> 上使用 v-if 没有效果不工作\" (#11441)"},{"Id":"631440475","IsPullRequest":false,"CreatedAt":"2020-06-05T09:18:50","Actor":"clone-git","Number":"11440","RawContent":null,"Title":"src/compiler/codegen/index.js","State":"closed","Body":"### What problem does this feature solve?\r\nfunction hash(str) {\r\n  let hash = 5381\r\n  let i = str.length\r\n  while(i) {\r\n    hash = (hash * 33) ^ str.charCodeAt(--i)\r\n  }\r\n  return hash >>> 0\r\n}\r\n\r\n### What does the proposed API look like?\r\nfunction hash(str) {\r\n  let hash = 5381\r\n  let i = str.length\r\n  while(i) {\r\n    --i\r\n    hash = (hash * 33) ^ str.charCodeAt(i)\r\n  }\r\n  return hash >>> 0\r\n}\r\n不建议在方法调用中或与其他算术运算符结合使用递增和递减运算符\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11440","RelatedDescription":"Closed issue \"src/compiler/codegen/index.js\" (#11440)"},{"Id":"631312787","IsPullRequest":true,"CreatedAt":"2020-06-05T05:00:42","Actor":"vue-bot","Number":"11439","RawContent":null,"Title":"[automated] Patreon sponsors update","State":"open","Body":"This is an automated pull request.","Url":"https://github.com/vuejs/vue/pull/11439","RelatedDescription":"Open PR \"[automated] Patreon sponsors update\" (#11439)"}],"ResultType":"GitHubIssue"},"Router-Issues":{"Issues":[{"Id":"642271549","IsPullRequest":false,"CreatedAt":"2020-06-20T00:18:34","Actor":"Huacnin","Number":"3241","RawContent":null,"Title":"Uncaught (in promise) undefined","State":"closed","Body":"Estimados se me presenta un inconveniente a la hora iniciar mi aplicación. Al aparecer el Login me sale un error en consola que me impide loguearme.\r\n\r\n![Pamolsa1](https://user-images.githubusercontent.com/60229613/85186897-46588680-b261-11ea-9e6c-571dabea1919.JPG)\r\n\r\nHe revisado formas de darle solución y no encuentro.\r\nUtilizo el BeforeEach para acceder a las rutas pero  no corre el sistema.\r\nEste es mi router.js\r\nimport Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Home from '../views/Home.vue'\r\nimport Categorias from '../components/Categorias.vue'\r\nimport Subcategorias from '../components/Subcategorias.vue'\r\nimport Productos from '../components/Productos.vue'\r\nimport Clientes from '../components/Clientes.vue'\r\nimport Proveedores from '../components/Proveedores.vue'\r\nimport Ingresos from '../components/Ingresos.vue'\r\nimport Privilegios from '../components/Privilegios.vue'\r\nimport Usuarios from '../components/Usuarios.vue'\r\nimport Login from '../components/Login.vue'\r\nimport store from '../store'\r\n\r\n\r\nVue.use(VueRouter)\r\n\r\n  const routes = [\r\n  {\r\n    path: \"/\",\r\n    name: \"Home\",\r\n    component: Home,\r\n    meta :{\r\n      administrador:true,\r\n      empleado:true,\r\n      vendedor:true,\r\n      cliente:true,\r\n    }\r\n  },\r\n  {\r\n    path: '/categorias',\r\n    name: 'Categorias',\r\n    component: Categorias,\r\n    meta :{\r\n      administrador:true,\r\n      empleado:true\r\n    }\r\n  },\r\n  {\r\n    path: '/subcategorias',\r\n    name: 'Subcategorias',\r\n    component: Subcategorias,\r\n    meta :{\r\n      administrador:true,\r\n      empleado:true\r\n    }\r\n  },\r\n  {\r\n    path: '/productos',\r\n    name: 'Productos',\r\n    component: Productos,\r\n    meta :{\r\n      administrador:true,\r\n      empleado:true\r\n    }\r\n  },\r\n  {\r\n    path: '/clientes',\r\n    name: 'Clientes',\r\n    component: Clientes,\r\n    meta :{\r\n      administrador:true,\r\n      empleado:true\r\n    }\r\n  },\r\n  {\r\n    path: '/proveedores',\r\n    name: 'Proveedores',\r\n    component: Proveedores,\r\n    meta :{\r\n      administrador:true,\r\n      empleado:true\r\n    }\r\n  },\r\n  {\r\n    path: '/ingresos',\r\n    name: 'Ingresos',\r\n    component: Ingresos,\r\n    meta :{\r\n      administrador:true,\r\n      empleado:true\r\n    }\r\n  },\r\n\r\n  {\r\n    path: '/privilegios',\r\n    name: 'Privilegios',\r\n    component: Privilegios,\r\n    meta :{\r\n      administrador:true\r\n    }\r\n  },\r\n  {\r\n    path: '/usuarios',\r\n    name: 'Usuarios',\r\n    component: Usuarios,\r\n    meta :{\r\n      administrador:true\r\n    }\r\n  },\r\n  {\r\n    path: '/login',\r\n    name: 'Login',\r\n    component: Login,\r\n    meta :{\r\n      libre: true\r\n    }\r\n  }\r\n]\r\n\r\nconst router = new VueRouter({\r\n  mode: 'history',\r\n  base: process.env.BASE_URL,\r\n  routes\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  if (to.matched.some(record => record.meta.libre)){\r\n    next()\r\n  }else if(store.state.usuario && store.state.usuario.privilegio == 'Administrador'){\r\n    if (to.matched.some(record => record.meta.administrador)){\r\n    next()\r\n    }\r\n  }else if(store.state.usuario && store.state.usuario.privilegio == 'Empleado'){\r\n    if(to.matched.some(record => record.meta.empleado)){\r\n    next()\r\n    }\r\n  }else if(store.state.usuario && store.state.usuario.privilegio == 'Vendedor'){\r\n    if(to.matched.some(record => record.meta.vendedor)){\r\n    next()\r\n    }\r\n  }else if(store.state.usuario && store.state.usuario.privilegio == 'Cliente'){\r\n    if(to.matched.some(record => record.meta.cliente)){\r\n    next()\r\n    }\r\n  } else{\r\n    next({\r\n      name:'Login'\r\n    })\r\n  } \r\n    \r\n});\r\nCuando  en el next final quito hago esto://name:'Login' el sistema corre, pero no aparece el login.\r\nAgardeceré su apoyo.\r\nSaludos\r\n\r\nEric Marín\r\n\r\n","Url":"https://github.com/vuejs/vue-router/issues/3241","RelatedDescription":"Closed issue \"Uncaught (in promise) undefined\" (#3241)"},{"Id":"641806926","IsPullRequest":false,"CreatedAt":"2020-06-19T08:35:30","Actor":"isonah","Number":"3240","RawContent":null,"Title":"Excessive updates for router-link","State":"closed","Body":"Hello all,\r\nI've noticed an excessive rendering for router-link when debugging with vuetools on the performance tab. May code looks like the following : \r\n\r\n`// file routes.js \r\nexport const = [{router_1 : ...}];\r\n// main.js (mixin)\r\n//...\r\nimport {routesList} from routes.js\r\ndata:() => {\r\nreturn{\r\nroutes: routesList\r\n}}`\r\n\r\nand in other components (*.vue)\r\n`<router-link :to=\"{'name' : routes.route1.name}\"></router-link>\r\n`\r\nWhen debugging : \r\n\r\n![image](https://user-images.githubusercontent.com/7563315/85114000-80ea0100-b218-11ea-8304-f4ee54c7050e.png)\r\n\r\n Am I mssing something here ?\r\nThanks in advance.\r\nBR,\r\n","Url":"https://github.com/vuejs/vue-router/issues/3240","RelatedDescription":"Closed issue \"Excessive updates for router-link\" (#3240)"},{"Id":"638454998","IsPullRequest":true,"CreatedAt":"2020-06-18T13:56:52","Actor":"MohamedAhmed12","Number":"3232","RawContent":null,"Title":"fix(query): Fix query props should be casted into string (fix #2131)","State":"closed","Body":"Greetings,\r\nThis PR is for fixing [#2131]('https://github.com/vuejs/vue-router/issues/2131')\r\n\r\n### What I've added?\r\nquery props now is casted into String,  applying stringify on programmatic navigation (next, this.$router.push etc.)\r\n\r\nCloses #2131\r\n\r\nThanks","Url":"https://github.com/vuejs/vue-router/pull/3232","RelatedDescription":"Closed or merged PR \"fix(query): Fix query props should be casted into string (fix #2131)\" (#3232)"},{"Id":"641188018","IsPullRequest":false,"CreatedAt":"2020-06-18T12:59:32","Actor":"Abdurrahman-Alizada","Number":"3239","RawContent":null,"Title":"issue in router.beforeEach() function. it show me the error that auth.loggedIn() is not declared. ","State":"closed","Body":"This function is not working \r\n\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n\r\n  const requiresAuth = to.matched.some(x => x.meta.requiresAuth)\r\n  const currentUser = fb.auth().currentUser\r\n\r\n  if (requiresAuth && !currentUser) {\r\n      next('/')\r\n  } else if (requiresAuth && currentUser) {\r\n      next()\r\n  } else {\r\n      next()\r\n  }\r\n})\r\n\r\nwhile this is workable\r\n\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n\r\n  const requiresAuth = to.matched.some(x => x.meta.requiresAuth)\r\n  const currentUser = fb.auth().currentUser\r\n\r\n  if (requiresAuth && !currentUser) {\r\n      next('/')\r\n  } else if (requiresAuth && currentUser) {\r\n      next()\r\n  } else {\r\n      next()\r\n  }\r\n})\r\n","Url":"https://github.com/vuejs/vue-router/issues/3239","RelatedDescription":"Closed issue \"issue in router.beforeEach() function. it show me the error that auth.loggedIn() is not declared. \" (#3239)"},{"Id":"641113891","IsPullRequest":false,"CreatedAt":"2020-06-18T11:32:53","Actor":"Dsartok","Number":"3238","RawContent":null,"Title":"Push current with empty query isn't work","State":"closed","Body":"### Version\r\n3.3.2\r\n\r\n### Reproduction link\r\n[https://codepen.io/dsartok/pen/abdBxoM?editors=1111](https://codepen.io/dsartok/pen/abdBxoM?editors=1111)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nIf push from\r\n**'someLocation?someQuery'**\r\nto\r\n**'someLocation'**\r\nvia\r\n**router.push({path: 'someLocation', query: {} })**\r\nit takes old query and throw NavigationDuplicated error.\r\n\r\n### What is expected?\r\nThat it will be replaced to current page with empty query\r\n\r\n### What is actually happening?\r\nIt get previous query\r\n\r\n---\r\nP.S.\r\nfixed this with\r\nrouter.push({path: 'someLocation', query: { someStub: 'some' } })\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3238","RelatedDescription":"Closed issue \"Push current with empty query isn't work\" (#3238)"},{"Id":"641071407","IsPullRequest":false,"CreatedAt":"2020-06-18T10:30:56","Actor":"RudolfVonKrugstein","Number":"3237","RawContent":null,"Title":"vue-router duplicates router-view contents when using prerender-spa-plugin","State":"closed","Body":"### Version\r\n3.2.0\r\n\r\n### Reproduction link\r\n[https://github.com/RudolfVonKrugstein/vue-prerender-test](https://github.com/RudolfVonKrugstein/vue-prerender-test)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nI am reporting this for vue-router, but I am not sure if it is really a problem with the vue-router component or some other tool in the toolchain I am using.\r\n\r\n1. Check out the provided git repository, which has been created the following way\r\n  * A new project has been created with `vue create pre-render-test` and setup with typescript and vue-router\r\n  * Vuetify has been added using `vue add vuetify`\r\n  * [prerender-spa-plugin](https://github.com/chrisvfritz/prerender-spa-plugin) has been added and configured (see [vue.config.js](https://github.com/RudolfVonKrugstein/vue-prerender-test/blob/master/vue.config.js))\r\n2. Build for production using `yarn build`\r\n3. Run a simple http server, for example like this:\r\n    cd dist\r\n    python3 -m http.server\r\n4. go to localhost:8000/about\r\n\r\n### What is expected?\r\nThe about page, just showing\r\n\r\n```\r\nThis is an about page\r\n```\r\n\r\n### What is actually happening?\r\nThe about page is duplicated:\r\n\r\n```\r\nThis is an about page\r\nThis is an about page\r\n```\r\n\r\n---\r\nLooking at the DOM I can see, that not the whole app is duplicated but only the contents of `router-view`.\r\nIt also seems that some unrelated changes to the project (like adding a toolbar) makes the problem disappear, or re-appear.\r\nMaybe it is some sort of race condition?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3237","RelatedDescription":"Closed issue \"vue-router duplicates router-view contents when using prerender-spa-plugin\" (#3237)"},{"Id":"641055028","IsPullRequest":false,"CreatedAt":"2020-06-18T09:28:09","Actor":"Dsartok","Number":"3236","RawContent":null,"Title":"Push current with empty query isn't work","State":"closed","Body":"If push from \r\n'someLocation?someQuery'\r\nto\r\n'someLocation'\r\nvia\r\n`router.push({path: 'someLocation', query: {} })`\r\nit takes old query and throw NavigationDuplicated error.\r\n\r\nP.S.\r\nfixed this with \r\n`router.push({path: 'someLocation', query: { someStub: 'some' } })`","Url":"https://github.com/vuejs/vue-router/issues/3236","RelatedDescription":"Closed issue \"Push current with empty query isn't work\" (#3236)"},{"Id":"640955989","IsPullRequest":false,"CreatedAt":"2020-06-18T07:29:05","Actor":"xmsz","Number":"3235","RawContent":null,"Title":"How can I get pending route's info","State":"closed","Body":"### What problem does this feature solve?\r\n```\r\nVueRouter = {\r\n  ...\r\n  history: {\r\n    pending: {}\r\n  }\r\n}\r\n```\r\n\r\nI need the pending route' info，The TS types do not support to get this info(maybe It's wrong ). \r\n\r\n\r\ncase:\r\nonRouterBeforeEnter the currentRoute is not equal to pending route's info\r\n\r\n\r\n\r\n\r\n### What does the proposed API look like?\r\n```\r\nrouter.pendingRoute\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3235","RelatedDescription":"Closed issue \"How can I get pending route's info\" (#3235)"},{"Id":"639427908","IsPullRequest":false,"CreatedAt":"2020-06-16T07:12:50","Actor":"Shinigami92","Number":"3234","RawContent":null,"Title":"Interface RouteConfig is not exported anymore","State":"open","Body":"### Version\r\n3.3.3\r\n\r\n### Reproduction link\r\n\r\nPlease see `Steps to reproduce` below\r\n\r\n### Steps to reproduce\r\n```ts\r\nimport { RouteConfig } from 'vue-router';\r\nimport RouteMetaInformation from './RouteMetaInformation';\r\n\r\n/**\r\n * RouteConfig using RouteMetaInformation.\r\n */\r\nexport default interface RouteMetaConfig extends RouteConfig {\r\n  meta?: RouteMetaInformation;\r\n  children?: RouteMetaConfig[];\r\n}\r\n```\r\n\r\n### What is expected?\r\n`RouterConfig` / `RouterConfigBase` should be exported so consumer can `extends` from it\r\n\r\nhttps://github.com/vuejs/vue-router/blob/v3.3.2/types/router.d.ts#L92\r\n\r\n### What is actually happening?\r\n`_RouterConfigBase` is not exported anymore\r\n\r\nhttps://github.com/vuejs/vue-router/blob/v3.3.3/types/router.d.ts#L92\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3234","RelatedDescription":"Open issue \"Interface RouteConfig is not exported anymore\" (#3234)"},{"Id":"638678019","IsPullRequest":false,"CreatedAt":"2020-06-15T09:09:36","Actor":"mlifes","Number":"3233","RawContent":null,"Title":"使用router支持防原生的滑动返回","State":"closed","Body":"最近查了下代码，貌似是直接替换的。是否可以支持路由配置以缓存多个页面，支持滑动返回等功能。\r\n","Url":"https://github.com/vuejs/vue-router/issues/3233","RelatedDescription":"Closed issue \"使用router支持防原生的滑动返回\" (#3233)"},{"Id":"638113827","IsPullRequest":true,"CreatedAt":"2020-06-13T09:03:34","Actor":"Alex-Sokolov","Number":"3231","RawContent":null,"Title":"docs: [RU] Translation update","State":"closed","Body":"Latests updates\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3231","RelatedDescription":"Closed or merged PR \"docs: [RU] Translation update\" (#3231)"},{"Id":"638080044","IsPullRequest":false,"CreatedAt":"2020-06-13T09:02:21","Actor":"GUEThe","Number":"3230","RawContent":null,"Title":"Typescript type RouteConfig TypeError","State":"closed","Body":"### What problem does this feature solve?\r\nnone\r\n\r\n### What does the proposed API look like?\r\nWhen traverse RouteConfig[], read property 'children' of item. Get this error:\r\nProperty 'children' does not exist on type 'RouteConfig'.\r\nProperty 'children' does not exist on type 'RouteConfigSingleView'\r\nType 'RouteConfigMultipleViews'  has property 'children', but  'RouteConfigSingleView' doesn't.\r\nType 'RouteConfigMultipleViews' and type 'RouteConfigSingleView' wasn't exported.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3230","RelatedDescription":"Closed issue \"Typescript type RouteConfig TypeError\" (#3230)"},{"Id":"637847506","IsPullRequest":true,"CreatedAt":"2020-06-12T15:53:03","Actor":"tnorthcutt","Number":"3229","RawContent":null,"Title":"Add information on optional URL parameters","State":"open","Body":"Closes https://github.com/vuejs/vue-router/issues/2525\r\n\r\nRelated: https://github.com/vuejs/vue-router/issues/235\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3229","RelatedDescription":"Open PR \"Add information on optional URL parameters\" (#3229)"},{"Id":"637618093","IsPullRequest":true,"CreatedAt":"2020-06-12T09:35:43","Actor":"posva","Number":"3228","RawContent":null,"Title":"fix(matcher): navigate to same as current location","State":"closed","Body":"Closes #3216\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3228","RelatedDescription":"Closed or merged PR \"fix(matcher): navigate to same as current location\" (#3228)"},{"Id":"629177191","IsPullRequest":false,"CreatedAt":"2020-06-12T09:35:42","Actor":"cropr","Number":"3216","RawContent":null,"Title":"NavigationDuplicated Error after addRoute","State":"closed","Body":"### Version\r\n3.3.2\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/cropr/86vnLj4k/](https://jsfiddle.net/cropr/86vnLj4k/)\r\n\r\n### Steps to reproduce\r\nFollowing scenario fails with NavigationDuplicated\r\n 1. Have a router wildcard and navigating to an non existing url e.g. /aroute\r\n 2. Doing a addRoute in the handling component of the wildcard, resulting in an updated  routing table with a matching /aroute \r\n 3. Trying to navigate to new /aroute either via  $router.push or $router.replace\r\n\r\nWhile the url does not change, the Navigation changes and thus the NavigationDuplicated error is incorrect\r\n\r\n### What is expected?\r\nThe router is changed to the new component matching /aroute\r\n\r\n### What is actually happening?\r\nNavigationDuplicated error raised\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3216","RelatedDescription":"Closed issue \"NavigationDuplicated Error after addRoute\" (#3216)"},{"Id":"637351371","IsPullRequest":false,"CreatedAt":"2020-06-12T08:36:46","Actor":"posva","Number":"3225","RawContent":null,"Title":"`onReady` triggers the onError callback with a redirection","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vue-router\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n\r\n\r\nThis is a regression introduced in 3.3.0:\r\n\r\n\r\nGiven this code:\r\n\r\n```js\r\nrouter.beforeEach((to, from, next) => {\r\n  if (to.path === '/') next('/foo')\r\n  else next()\r\n})\r\n\r\nrouter.onReady(() => {\r\nconsole.log('good')\r\n}, err => {\r\n  console.log(err)\r\n})\r\n```\r\n\r\nThe initial navigation would trigger the second callback passed to onReady instead of the first one. This is because the Redirection Error is now visible instead of `undefined`","Url":"https://github.com/vuejs/vue-router/issues/3225","RelatedDescription":"Closed issue \"`onReady` triggers the onError callback with a redirection\" (#3225)"},{"Id":"637548056","IsPullRequest":false,"CreatedAt":"2020-06-12T07:37:29","Actor":"yyTopfine","Number":"3227","RawContent":null,"Title":"Why do you need the judgment statement of issue #1287","State":"closed","Body":"### Version\r\n3.3.2\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vue-router/pull/1287](https://github.com/vuejs/vue-router/pull/1287)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nI think the parsePath method has removed the ‘#’ and ‘?’ in the path.\r\n\r\n### What is expected?\r\nWant to know the intention of the judgment sentence\r\n\r\n### What is actually happening?\r\nI think the parsePath method has removed the ‘#’ and ‘?’ in the path.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3227","RelatedDescription":"Closed issue \"Why do you need the judgment statement of issue #1287\" (#3227)"},{"Id":"637541296","IsPullRequest":false,"CreatedAt":"2020-06-12T07:19:00","Actor":"yyTopfine","Number":"3226","RawContent":null,"Title":"  Why do you need the judgment statement of issue #1287","State":"closed","Body":"I think the parsePath method has removed the ‘#’ and ‘?’ in the path.","Url":"https://github.com/vuejs/vue-router/issues/3226","RelatedDescription":"Closed issue \"  Why do you need the judgment statement of issue #1287\" (#3226)"},{"Id":"636932482","IsPullRequest":false,"CreatedAt":"2020-06-11T22:11:41","Actor":"the-owl","Number":"3224","RawContent":null,"Title":"Navigation guard redirect causes errors when navigating programmatically","State":"closed","Body":"### Version\r\n3.3.2\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-router-zb7l4](https://codesandbox.io/s/vue-router-zb7l4)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nClick on Navigate button. It will trigger navigation via `router.push` which will cause an error.\r\n\r\n### What is expected?\r\nUser gets silently redirected to location that was passed to `next(...)` in navigation guard.\r\n\r\n### What is actually happening?\r\nCall to `router.push` throws an error, but the redirect still happens.\r\n\r\n---\r\nIn my app, users that have not completed initial setup process after signup should be redirected to setup page. There is a navigation guard for this: if user has not completed setup, do a redirect. When user logs in, app redirects him to home page via `router.push()`. And when user has not finished setup process, this will cause an error.\r\n\r\nThis behavior seems to be introduced in 3.3.0 by this commit https://github.com/vuejs/vue-router/commit/4c727f9\r\n\r\nI don't know whether this is a bug or intentional behavior. If it's intentional, why was it introduced? For me it seems counter-intuitive that a simple redirect causes an error.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3224","RelatedDescription":"Closed issue \"Navigation guard redirect causes errors when navigating programmatically\" (#3224)"},{"Id":"635986082","IsPullRequest":false,"CreatedAt":"2020-06-10T07:58:17","Actor":"RicoLiu","Number":"3223","RawContent":null,"Title":"$router.go(-1) Not Working In Android Webview","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://codepen.io/RicoLiu/pen/VweepGq](https://codepen.io/RicoLiu/pen/VweepGq)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n路由模式为 Hash\r\n本地开发环境一切正常\r\n打包编译后，集成到 app webview 容器中。进入二级页面后，发现 $router.go(-1) 会失效\r\n\r\n### What is expected?\r\n正常返回到一级页面\r\n\r\n### What is actually happening?\r\n无法返回 二级页面\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3223","RelatedDescription":"Closed issue \"$router.go(-1) Not Working In Android Webview\" (#3223)"},{"Id":"627335700","IsPullRequest":true,"CreatedAt":"2020-06-07T11:07:58","Actor":"kazupon","Number":"3214","RawContent":null,"Title":"fix: update ja docs","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3214","RelatedDescription":"Closed or merged PR \"fix: update ja docs\" (#3214)"},{"Id":"632404909","IsPullRequest":false,"CreatedAt":"2020-06-06T12:57:26","Actor":"bitquality","Number":"3222","RawContent":null,"Title":"hounour routes of a plugin in main or parent component app","State":"closed","Body":"### Version\r\n3.3.2\r\n\r\n### Reproduction link\r\n[https://new-issue.vuejs.org/?repo=vuejs/vue-router](https://new-issue.vuejs.org/?repo=vuejs/vue-router)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nI have developed a plugin and i am able to load it in my main app. And install method looks like below and following is its routes.\r\n\r\nmy plugin has one main component i am exporting as pplugin:\r\n\r\n```\r\n<template>\r\n\r\n<div id=\"profile\">\r\n  <p>\r\n    <router-link to=\"/profileinfo/updateEmail\">updateEmail</router-link>\r\n    <router-link to=\"/profileinfo/updatePassword\">updatePassword</router-link>\r\n   \r\n  </p>\r\n  <router-view></router-view>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ProfileInfoComponent ',\r\n}\r\n</script>\r\n```\r\n\r\nmy plugin ProfileInfo has following router:\r\n\r\n```\r\n\r\nimport ProfileInfoComponent from '.ProfileInfo.vue';\r\n\r\n//components\r\nconst UpdateEmail = { template: `<div class=\"foo\"><h1>foo</h1></div>` }\r\nconst UpdatePassword = { template: `<div class=\"bar\"><h1>bar</h1></div>` }\r\n\r\n\r\nconst router= new VueRouter({\r\n  mode:history,\r\n  routes: {\r\n   path: '/ProfileInfo', component: ProfileInfoComponent ,\r\n\r\n children:  [\r\n    { path: '/updateEmail', component: UpdateEmail },\r\n    { path: '/updatePassword', component: UpdatePassword  }\r\n  ]\r\n}\r\n})\r\n\r\n//lib.ts\r\nimport ProfileInfoComponent from '.ProfileInfo.vue';\r\n\r\nconst MyProfilePlugin= {\r\n  install(Vue, options) {\r\n        Vue.component('ProfileInfoComponent', ProfileInfoComponent)\r\n  }\r\n}\r\n\r\nexport default MyProfilePlugin;\r\n```\r\n\r\n\r\n\r\n\r\n### What is expected?\r\nWhen i register a plugin , i was expecting all its routes will act in main app without any issue.\r\n\r\nIn my main app's main.ts file:\r\n\r\n```\r\nimport ProfileInfoPlugin from 'ProfileInfoPlugin';\r\n\r\nVue.use(ProfileInfoPlugin , { testmsg:'hello world'});\r\n```\r\n\r\nThe following link has code which is exactly what my plugin code looks like.. And i am trying to achieve this behaviour in any app which uses it .\r\n\r\nhttps://jsfiddle.net/yyx990803/L7hscd8h/\r\n\r\n### What is actually happening?\r\nBut my main app is not aware of my plguin's routes and it throws below error when i click on 'updateEmail' link from my main app ProfileInfo page where it used my ProfileInfoComponent:\r\n\r\n[vue-router] Route with name 'UpdateEmail' does not exist\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3222","RelatedDescription":"Closed issue \"hounour routes of a plugin in main or parent component app\" (#3222)"},{"Id":"632396571","IsPullRequest":false,"CreatedAt":"2020-06-06T11:31:03","Actor":"jasonlfunk","Number":"3221","RawContent":null,"Title":"Error: Redirected from X to Y via a navigation guard.","State":"closed","Body":"Version: 3.3.2\r\n\r\nhttps://github.com/vuejs/vue-router/blob/1f3aea660804bd9dfba3020e2d112d9bd510e518/src/history/base.js#L178\r\n\r\nI have a Navigation Guard that does some various checks and redirects when necessary. Vue-router is not throwing this error when I do. Though everything is still working fine.\r\n\r\nIs there a reason why this error is being thrown? What is the \"correct\" way to redirect via a navigation guard?\r\n","Url":"https://github.com/vuejs/vue-router/issues/3221","RelatedDescription":"Closed issue \"Error: Redirected from X to Y via a navigation guard.\" (#3221)"},{"Id":"631843269","IsPullRequest":true,"CreatedAt":"2020-06-05T18:45:07","Actor":"posva","Number":"3220","RawContent":null,"Title":"docs: add navigation failures","State":"open","Body":"Based on https://github.com/vuejs/rfcs/pull/150\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3220","RelatedDescription":"Open PR \"docs: add navigation failures\" (#3220)"},{"Id":"629404467","IsPullRequest":true,"CreatedAt":"2020-06-04T10:31:03","Actor":"javiertury","Number":"3218","RawContent":null,"Title":"feat(types): RouterConfig for multiple components (#3217)","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\nCloses #3217\r\n\r\nThe test demonstrates that with correct typings, typescript is able to infer that route is of type `Route` on its own.\r\n```\r\n             abc: route => route.params,\r\n```","Url":"https://github.com/vuejs/vue-router/pull/3218","RelatedDescription":"Closed or merged PR \"feat(types): RouterConfig for multiple components (#3217)\" (#3218)"},{"Id":"629401510","IsPullRequest":false,"CreatedAt":"2020-06-04T10:31:02","Actor":"javiertury","Number":"3217","RawContent":null,"Title":"Accurate typings for Routeconfig: component, components, props","State":"closed","Body":"### What problem does this feature solve?\r\nThe typings have the following problems\r\n- A configuration can have both `component` and `components`\r\n- When multiple named components are used, props should be a `Dictionary` of the regular props typings. Right now it doesn't complain because `Object` is among the regular props typings, however it cannot infer the accurate typing of each of the props, it just uses `any`.\r\n\r\n### What does the proposed API look like?\r\nThere is no API\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3217","RelatedDescription":"Closed issue \"Accurate typings for Routeconfig: component, components, props\" (#3217)"},{"Id":"630498786","IsPullRequest":false,"CreatedAt":"2020-06-04T06:02:59","Actor":"HuberTRoy","Number":"3219","RawContent":null,"Title":"$route will change before component destroied.","State":"closed","Body":"### Version\r\n3.3.2\r\n\r\n### Reproduction link\r\n[https://jsbin.com/](https://jsbin.com/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nIf I had a page A that router is `test?backTo=456` and another pageB that router is `main/:id/test`。\r\n\r\nThe page A set a button with click event that will push to page B:\r\n\r\n```\r\nclickTo() {\r\n    this.$router.push({\r\n        name: 'main',\r\n        params: { id: this.$route.query.backTo }\r\n    })\r\n}\r\n```\r\n\r\nWhen I click the button frequently it will lost the `$router.query.backTo` in some cases because the current page has been in pageB but the pageA has not destroied and I can click the button continually.\r\n\r\nWe can fix it by set the `this.$route.query.backTo`  to `data () { return { backId: this.$route.query.backTo } }`，Is it better to have a warning there?\r\n\r\n### What is expected?\r\nGet a warning in this case.\r\n\r\n### What is actually happening?\r\nNot a hint at all.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3219","RelatedDescription":"Closed issue \"$route will change before component destroied.\" (#3219)"},{"Id":"627455375","IsPullRequest":true,"CreatedAt":"2020-05-29T18:23:14","Actor":"francislavoie","Number":"3215","RawContent":null,"Title":"docs: Update Caddy example","State":"open","Body":"Caddy v2 was released recently. This updates the https://router.vuejs.org/guide/essentials/history-mode.html#example-server-configurations page with an example that will work for Caddy v2, and adds the `v1` suffix for the old example.\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3215","RelatedDescription":"Open PR \"docs: Update Caddy example\" (#3215)"},{"Id":"627315659","IsPullRequest":true,"CreatedAt":"2020-05-29T14:34:09","Actor":"aradjdi","Number":"3213","RawContent":null,"Title":"Catch URI malformed error (fix #2725)","State":"open","Body":"Fix url decoding when we have a percentage character in URL\r\n","Url":"https://github.com/vuejs/vue-router/pull/3213","RelatedDescription":"Open PR \"Catch URI malformed error (fix #2725)\" (#3213)"},{"Id":"627024051","IsPullRequest":true,"CreatedAt":"2020-05-29T07:03:39","Actor":"hareku","Number":"3212","RawContent":null,"Title":"fix: error.stack is possibly null","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\nIn unsupported `Error.stack` browsers, that throws `TypeError(Unable to get property 'split' of undefined or null reference)`.\r\n","Url":"https://github.com/vuejs/vue-router/pull/3212","RelatedDescription":"Closed or merged PR \"fix: error.stack is possibly null\" (#3212)"}],"ResultType":"GitHubIssue"},"Vuex-Issues":{"Issues":[{"Id":"639780521","IsPullRequest":false,"CreatedAt":"2020-06-23T03:39:20","Actor":"namelessb","Number":"1777","RawContent":null,"Title":"开发模式下内存上涨严重","State":"closed","Body":"### Version\r\n3.4.0\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/black-dust-d5jor?file=/src/App.vue](https://codesandbox.io/s/black-dust-d5jor?file=/src/App.vue)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n### ***链接内有截图***\r\n1. 开发环境\r\n  * electron:7.3.0\r\n  * vue:2.6.11\r\n  * @vue/cli:4.3.1\r\n  * vue-cli-plugin-electron-builder:1.4.4\r\n\r\n2. 我有一个WebSocket服务, 会不停的向客户端发送数据, 接收到的数据存入store中\r\n开发模式下, 此时内存直线飙升, 短时间内可达到一两个G, 内存快照中占用量最多的是字符串，这些字符串全部是整个状态树的JSON字符串。\r\n生产模式下没有问题\r\n\r\n\r\n### What is expected?\r\n占用内存正常\r\n\r\n### What is actually happening?\r\n占用内存过高, 经常导致crash\r\n\r\n---\r\n只在开发模式下有此问题\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1777","RelatedDescription":"Closed issue \"开发模式下内存上涨严重\" (#1777)"},{"Id":"641814817","IsPullRequest":true,"CreatedAt":"2020-06-19T08:55:54","Actor":"michapietsch","Number":"1782","RawContent":null,"Title":"docs(guide/modules): Add examples for mapGetters with namespace","State":"open","Body":"Hey,\r\n\r\nI found myself looking up the exact syntax repeatedly, so I'd like to contribute these examples.\r\n\r\nBest regards,\r\nMicha\r\n","Url":"https://github.com/vuejs/vuex/pull/1782","RelatedDescription":"Open PR \"docs(guide/modules): Add examples for mapGetters with namespace\" (#1782)"},{"Id":"640496466","IsPullRequest":false,"CreatedAt":"2020-06-17T14:38:09","Actor":"tybruffy","Number":"1781","RawContent":null,"Title":"Vuex hasModule","State":"open","Body":"### Version\r\n3.4.0\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/hasmodule-inconsistent-with-string-x58fh?file=/src/App.vue](https://codesandbox.io/s/hasmodule-inconsistent-with-string-x58fh?file=/src/App.vue)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nCheck for the existence of a nested module with a string, vs an array path.\r\n\r\n### What is expected?\r\nI would expect checking with a string or an equivalent array to produce the same result.\r\n\r\n### What is actually happening?\r\nChecking `hasModule` with a string returns false, while checking it with an equivalent array returns true.\r\n\r\n---\r\nI suppose this could be intentional, but it seems like a bug.  If it's not intentional it seems like a simple fix:\r\n\r\nLine 219 in `src/store.js ` currently is:\r\n\r\n```if (typeof path === 'string') path = [path]```\r\n\r\nIt seems like simply changing that to the following will fix the problem:\r\n\r\n```if (typeof path === 'string') path = path.split(\"/\")```\r\n\r\nThoughts?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1781","RelatedDescription":"Open issue \"Vuex hasModule\" (#1781)"},{"Id":"640313073","IsPullRequest":false,"CreatedAt":"2020-06-17T10:04:12","Actor":"GMolini","Number":"1780","RawContent":null,"Title":"Cannot read property '_modulesNamespaceMap' of undefined","State":"closed","Body":" I have this same issue (but cant comment on it because its been marked as resolved): https://github.com/vuejs/vuex/issues/1330\r\n\r\nIm creating my local vue like this: \r\n\r\nIn a test_main.js file: \r\n```\r\nimport { createLocalVue } from '@vue/test-utils';\r\n\r\nimport store from '@/_store/store';\r\n\r\nconst localVue = createLocalVue();\r\nlocalVue.use(VueRouter);\r\n\r\nconst testConfig = {\r\n  localVue,\r\n  store,\r\n};\r\n```\r\n\r\n```\r\nimport testConfig from '../../test_main';\r\n\r\nconst item = {\r\n   name: 'myname'\r\n};\r\n\r\nconst wrapper = shallowMount(ModalItem, {\r\n     ...testConfig,\r\n      propsData: {\r\n        item,\r\n      },\r\n    });\r\n```\r\n\r\nBut it complains that `\"TypeError: Cannot read property '_modulesNamespaceMap' of undefined\"`\r\n\r\nIn the other iussue it said that it had been solved in the latest vue-test-utils, but I think Im using the latest one: `@vue/test-utils@1.0.3` \r\nAny idea what might be happening? (Im pretty new to vue testing and jest so it might be Im not doing it properly) \r\nThanks","Url":"https://github.com/vuejs/vuex/issues/1780","RelatedDescription":"Closed issue \"Cannot read property '_modulesNamespaceMap' of undefined\" (#1780)"},{"Id":"640302493","IsPullRequest":true,"CreatedAt":"2020-06-17T09:48:17","Actor":"localheinz","Number":"1779","RawContent":null,"Title":"Fix: Document return value when item was not found","State":"open","Body":"This PR\r\n\r\n* [x] documents the return value of `find` when an item was not found\r\n\r\n💁‍♂️ I'm new to `vuejs` and `vuex`, so I'm not sure if this makes sense - but I could not find any documentation on what would be returned when an item is not found. What do you think?","Url":"https://github.com/vuejs/vuex/pull/1779","RelatedDescription":"Open PR \"Fix: Document return value when item was not found\" (#1779)"},{"Id":"639781938","IsPullRequest":true,"CreatedAt":"2020-06-16T15:50:32","Actor":"kiaking","Number":"1778","RawContent":null,"Title":"test: migrate e2e test to puppeteer from nightwatch","State":"open","Body":"This PR migrates E2E test from Nightwatch to Puppeteer to:\r\n\r\n- Resolve nightwatch failing on CI time to time.\r\n- Align with Vue Next E2E test.\r\n\r\nPuppeteer is executed as a part of Jest. Helper functions for Puppeteer are taken from Vue Next repo, but few additional functions are added as well.\r\n\r\nIt removes `nightwatch` related dependencies.","Url":"https://github.com/vuejs/vuex/pull/1778","RelatedDescription":"Open PR \"test: migrate e2e test to puppeteer from nightwatch\" (#1778)"},{"Id":"638367333","IsPullRequest":true,"CreatedAt":"2020-06-16T13:05:06","Actor":"samnela","Number":"1775","RawContent":null,"Title":"docs: replace the use of blacklist","State":"closed","Body":"Inspired by https://chromium.googlesource.com/chromium/src/+/master/styleguide/inclusive_code.md#racially-neutral","Url":"https://github.com/vuejs/vuex/pull/1775","RelatedDescription":"Closed or merged PR \"docs: replace the use of blacklist\" (#1775)"},{"Id":"638377288","IsPullRequest":true,"CreatedAt":"2020-06-16T07:38:14","Actor":"regchiu","Number":"1776","RawContent":null,"Title":"docs: Fix missing information in the guide.","State":"closed","Body":"Missing `Vue.use(Vuex);`.","Url":"https://github.com/vuejs/vuex/pull/1776","RelatedDescription":"Closed or merged PR \"docs: Fix missing information in the guide.\" (#1776)"},{"Id":"636108144","IsPullRequest":true,"CreatedAt":"2020-06-14T16:23:15","Actor":"RyotaBannai","Number":"1774","RawContent":null,"Title":"docs(ja): fixed few translations","State":"closed","Body":"Fixed couples of Japanese translations where are a little bit vague or somewhat wrongly translated.","Url":"https://github.com/vuejs/vuex/pull/1774","RelatedDescription":"Closed or merged PR \"docs(ja): fixed few translations\" (#1774)"},{"Id":"630562744","IsPullRequest":true,"CreatedAt":"2020-06-10T09:51:09","Actor":"RyotaBannai","Number":"1768","RawContent":null,"Title":"docs(ja): fixed few translations","State":"closed","Body":"Fixed couples of Japanese translations where are a little bit vague or somewhat wrongly translated.","Url":"https://github.com/vuejs/vuex/pull/1768","RelatedDescription":"Closed or merged PR \"docs(ja): fixed few translations\" (#1768)"},{"Id":"634471311","IsPullRequest":true,"CreatedAt":"2020-06-08T12:49:59","Actor":"NathanBnm","Number":"1773","RawContent":null,"Title":"Fix \"Release Notes\" French translation","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1773","RelatedDescription":"Closed or merged PR \"Fix \"Release Notes\" French translation\" (#1773)"},{"Id":"623880132","IsPullRequest":false,"CreatedAt":"2020-06-08T09:18:06","Actor":"evgeniyPP","Number":"1762","RawContent":null,"Title":"Auto-creating getters & actions","State":"closed","Body":"### What problem does this feature solve?\r\nA popular practice is to create getters for each value in the state, and actions for each mutation. This eliminates the confusion in the components. Now you can use only mapGetters for properties, and mapActions & dispatch for methods.\r\n\r\nHowever, this makes the store very verbose. You need to create useless getters and actions that simply return a value from a state/commit a mutation.\r\n\r\nIt would be convenient if Vuex, in case it does not find a suitable getter, looked for a value in the state and returned it. Or, if it doesn’t find action with the given name, he finds a mutation with that name and commits it.\r\n\r\nIn this case, it would be possible to use only mapGetters and mapActions in the components and at the same time not to write extra code in the store.\r\n\r\nI know that this is probably not solving a problem that cannot be easily dealt with using existing APIs. But IMHO that would be a great improvement to the user experience, and I wanted to share this idea with the development team.\r\n\r\n### What does the proposed API look like?\r\n<em>store.js</em>\r\n```js\r\nexport default new Vuex.Store({\r\n    state: {\r\n        count: 0\r\n    },\r\n    mutations: {\r\n        increment (state) {\r\n            state.count;\r\n        }\r\n    }\r\n});\r\n```\r\n\r\n<em>component.vue</em>\r\n```html\r\n<template>\r\n  <div>\r\n    <p>{{ count }}</p>\r\n    <button @click=\"increment\"> </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\n\r\nexport default ({\r\n    computed: mapGetters(['count']),\r\n    methods: mapActions(['increment'])\r\n});\r\n</script>\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1762","RelatedDescription":"Closed issue \"Auto-creating getters & actions\" (#1762)"},{"Id":"631333066","IsPullRequest":true,"CreatedAt":"2020-06-08T09:11:55","Actor":"imsunhao","Number":"1771","RawContent":null,"Title":"fix: typescript enhancement type Store<any>","State":"closed","Body":"https://github.com/vuejs/vuex/issues/1769","Url":"https://github.com/vuejs/vuex/pull/1771","RelatedDescription":"Closed or merged PR \"fix: typescript enhancement type Store<any>\" (#1771)"},{"Id":"631297411","IsPullRequest":false,"CreatedAt":"2020-06-08T09:10:54","Actor":"imsunhao","Number":"1769","RawContent":null,"Title":"typescript enhancement type Store<any>","State":"closed","Body":"### What problem does this feature solve?\r\nwhen i use vue-property-decorator & vue 2 & typescript, my this.$store always is `Store<any>`，I found a solution\r\n\r\n### What does the proposed API look like?\r\neg:\r\n``` \r\nthis.$store.state.user => (property) user?: Pick<Schema.TUser, \"ID\" | \"name\" | \"class\" | \"role\">\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1769","RelatedDescription":"Closed issue \"typescript enhancement type Store<any>\" (#1769)"},{"Id":"630178085","IsPullRequest":true,"CreatedAt":"2020-06-08T08:50:20","Actor":"mprevdelta","Number":"1766","RawContent":null,"Title":"Add example for getters when using modules.","State":"closed","Body":"The notation becomes different for getters when a module is present and I believe an example would be very benefical.","Url":"https://github.com/vuejs/vuex/pull/1766","RelatedDescription":"Closed or merged PR \"Add example for getters when using modules.\" (#1766)"},{"Id":"629246779","IsPullRequest":false,"CreatedAt":"2020-06-08T08:46:27","Actor":"vks-financial-com","Number":"1765","RawContent":null,"Title":"Reactivity trigger on store.registerModule","State":"closed","Body":"### Version\r\n3.4.0\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vuex-dynamic-module-re-render-kju2b](https://codesandbox.io/s/vuex-dynamic-module-re-render-kju2b)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Initialize store\r\n2. Add/register a module \"x\"\r\n3. Register module \"y1\" within module \"x\". Module \"y1\" should contain a property \"z\" in its state\r\n4. Create a computed property \"c\" in the app, which returns an object containing property \"z\" from module \"y1\" state\r\n5. Create a watcher \"w\" for the computed property \"c\" with a logging function\r\n6. Register module \"y2\" within module \"x\"\r\n7. Observe watcher \"w\" being triggered\r\n\r\nReproduction is best described by the code in the provided test-case\r\n\r\n### What is expected?\r\nThere should be no triggered getter reactivity for the properties in the state of a vuex module after a sibling module has been registered\r\n\r\n### What is actually happening?\r\nUpon registering a vuex module, getters for properties in the state of already registered sibling vuex modules are being triggered\r\n\r\n---\r\nComputed properties in the app, which do complex computations with values coming from the vuex modules, are being unnecessarily reexecuted on vuex module registration, substantially slowing down a complex application\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1765","RelatedDescription":"Closed issue \"Reactivity trigger on store.registerModule\" (#1765)"},{"Id":"632599793","IsPullRequest":true,"CreatedAt":"2020-06-07T14:20:26","Actor":"Jinjiang","Number":"1772","RawContent":null,"Title":"docs(zh): update b40ee5d...7409ad4","State":"closed","Body":"https://github.com/vuejs/vuex/compare/b40ee5dce715a3ba20ba5589453d0a9715825f19...7409ad489f39091e2f73a9f1b92165ae0190ca64\r\n/cc @Justineo Thanks.","Url":"https://github.com/vuejs/vuex/pull/1772","RelatedDescription":"Closed or merged PR \"docs(zh): update b40ee5d...7409ad4\" (#1772)"},{"Id":"631299023","IsPullRequest":true,"CreatedAt":"2020-06-05T04:43:12","Actor":"imsunhao","Number":"1770","RawContent":null,"Title":"fix: typescript enhancement type Store<any>","State":"closed","Body":"i have a simple case. \r\n\r\nhttps://github.com/imsunhao/student-management-system/tree/feature/vuex-pr","Url":"https://github.com/vuejs/vuex/pull/1770","RelatedDescription":"Closed or merged PR \"fix: typescript enhancement type Store<any>\" (#1770)"},{"Id":"630270917","IsPullRequest":false,"CreatedAt":"2020-06-03T19:36:47","Actor":"kanteankit","Number":"1767","RawContent":null,"Title":"Calls to mutations and  actions don't get cancelled when a module is unregistered using `unregisterModule`","State":"open","Body":"### Version\r\n3.4.0\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/mutation-call-after-unregistermodule-v4n3z](https://codesandbox.io/s/mutation-call-after-unregistermodule-v4n3z)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Make sure the first page you see is the `Home` page.\r\n2. Click on `Contact` button and immediately click on `Home`\r\n3. Observe the Console.\r\n\r\n\r\n\r\n### What is expected?\r\nNo errors. When the module is unregistered, any running action or mutation calls should also be cancelled.\r\n\r\n### What is actually happening?\r\nThe action/mutation code keeps executing and user sees errors in the Console stating that the module does not exist.\r\n`[vuex] unknown local mutation type: setContact, global type: contact/setContact`\r\n\r\n---\r\nThere are 2 components: `Home.vue` and `Contact.vue`. `Contact.vue` calls an action in it's `mounted` callback. The action `changeContact` mimics the behaviour of an API call and commits a mutation after a delay of 1 second.\r\n\r\nWhat I am trying to do is that when user navigates from one page to another, the modules of the first route should be unregistered. This can be done easily using the `unregisterModule` method. The problem is that any action or mutation calls executed before the unregistering are not removed and they throw errors in the browser Console.\r\n\r\nIn the above sandbox, when user switches from Contact to Home immediately, following things happen:\r\n- `Contact.vue` loads and it's mounted callback is called.\r\n- Inside the `mounted` callback, the `changeContact` action is called\r\n- User goes back to Home. This calls `beforeDestroy` of `Contact.vue` that un-registers the `contact` module.\r\n- The `changeContact` tries to call the `setContact` mutation, but, since the module does not exist, an error message is thrown in the Console `[vuex] unknown local mutation type: setContact, global type: contact/setContact`\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1767","RelatedDescription":"Open issue \"Calls to mutations and  actions don't get cancelled when a module is unregistered using `unregisterModule`\" (#1767)"},{"Id":"623548186","IsPullRequest":true,"CreatedAt":"2020-05-29T07:04:19","Actor":"progresivoJS","Number":"1761","RawContent":null,"Title":"docs: Add a translation of an example in actions.md of guide docs","State":"closed","Body":"This PR updates KR translation for actions.md in guide docs.","Url":"https://github.com/vuejs/vuex/pull/1761","RelatedDescription":"Closed or merged PR \"docs: Add a translation of an example in actions.md of guide docs\" (#1761)"},{"Id":"625732572","IsPullRequest":false,"CreatedAt":"2020-05-27T14:13:55","Actor":"uroybd","Number":"1764","RawContent":null,"Title":"mapXXX functions with Vue 3","State":"closed","Body":"How to use mapXXX functions with Vue 3? I've tried but failed.","Url":"https://github.com/vuejs/vuex/issues/1764","RelatedDescription":"Closed issue \"mapXXX functions with Vue 3\" (#1764)"},{"Id":"625075861","IsPullRequest":false,"CreatedAt":"2020-05-26T17:57:22","Actor":"paleo","Number":"1763","RawContent":null,"Title":"Proposal for Vuex 5","State":"open","Body":"### What problem does this feature solve?\r\n\r\n1. It would be convenient if, from the outside, the difference between getters and state's properties were not visible. Getters should act as state properties in the same way that views act as read-only tables in RDBMS.\r\n2. It would be nice if part of a store, including a state and its mutations, could be provided to components as a standalone object, in the same way that we provide an object with methods in OOP programming.\r\n3. Accessing the root store from a Vuex module is a kind of recursive programming, and recursive programming is bad. Additionally, \"namespaced modules\" are a boring non-JS way to think.\r\n4. We need type inference with TypeScript.\r\n5. After trying the composition API, we love composing, and we want to compose.\r\n\r\n\r\n### What does the proposed API look like?\r\n\r\n\r\n_Notice: I haven't implemented a prototype but I have implemented [the types of a prototype](https://github.com/paleo/vuex5-proposal). I am therefore able to guarantee that all the ideas below are understandable by TypeScript and can produce fully typed stores._\r\n\r\n## Solution to 1: Vuex 3 _state_ is replaced by _innerState_, then now _state_ means something else\r\n\r\nHere is a first store using a brand new `createStore` API:\r\n\r\n```ts\r\nconst category1 = createStore(() => {\r\n  const innerState = {\r\n    id: \"1\",\r\n    name: \"Flowers\"\r\n  }\r\n\r\n  const getters = {\r\n    double: () => innerState.name + innerState.name,\r\n  }\r\n\r\n  const mutations = {\r\n    SET_NAME(name) {\r\n      innerState.name = name\r\n    },\r\n  }\r\n\r\n  return {\r\n    innerState,\r\n    getters,\r\n    mutations,\r\n  }\r\n})\r\n```\r\n\r\nThe `createStore` API takes a builder function as a parameter, which takes no parameter and returns the implementation of a store object. After this function is called by `createStore`, a store object is generated from the implementation.\r\n\r\nIn our store, the **state** property is now a read-only object composed by `innerState` and `getters`:\r\n\r\n```ts\r\nconsole.log(category1.state)\r\n// {\r\n//   id: \"1\"\r\n//   name: \"Flowers\"\r\n//   double: \"FlowersFlowers\"\r\n// }\r\n\r\ncategory1.commit.SET_NAME(\"New name\")\r\n\r\nconsole.log(category1.state)\r\n// {\r\n//   id: \"1\"\r\n//   name: \"New name\"\r\n//   double: \"New nameNew name\"\r\n// }\r\n\r\ncategory1.state.name = \"Other name\" // ERROR: readonly property 'name'\r\n```\r\n\r\n## Solution to 2: Multiple stores can be easily instantiated using a _store builder_\r\n\r\nIf multiple stores need to be created from the same model, then use `createStoreBuilder`. With `createStoreBuilder`, the inner builder function can take any parameters. Here is an example:\r\n\r\n```ts\r\nexport interface CategoryPayload {\r\n  id: string\r\n  name: string\r\n}\r\n\r\nexport const categoryBuilder = createStoreBuilder((payload: CategoryPayload) => {\r\n  const innerState = payload\r\n\r\n  const getters = {\r\n    double: () => innerState.name + innerState.name,\r\n  }\r\n\r\n  const mutations = {\r\n    SET_NAME(name: string) {\r\n      innerState.name = name\r\n    },\r\n  }\r\n\r\n  return {\r\n    innerState,\r\n    getters,\r\n    mutations,\r\n  }\r\n})\r\n```\r\n\r\nNow, here is how to create the same `category1` as above:\r\n\r\n```ts\r\nconst category1 = categoryBuilder({\r\n  id: \"1\",\r\n  name: \"Flowers\"\r\n})\r\n```\r\n\r\nThe generated builder function simply passes all its parameters to our inner builder function. \r\n\r\n## Solution to 3: _Modules_ and _Root Store_ are replaced by _References_ to _Stores_\r\n\r\nA store is no longer a tree but a node in a network. The parent-child relationship is replaced by **references**: each store can be referenced by zero or several stores.\r\n\r\nFor example, here is how to create a store builder for blog posts, with a reference to a category store:\r\n\r\n```ts\r\nexport interface PostPayload {\r\n  id: string\r\n  title: string\r\n  body?: string\r\n  categoryId?: string\r\n}\r\n\r\nconst postBuilder = createStoreBuilder((payload: PostPayload, category?: CategoryStore) => {\r\n  const innerState = payload\r\n  const references = { category }\r\n\r\n  return {\r\n    innerState,\r\n    getters: {\r\n      fullTitle: () => `${innerState.title} - ${references.category?.state.name}`\r\n    },\r\n    mutations: {\r\n      SET_CATEGORY(category: CategoryStore) {\r\n        innerState.categoryId = category.state.id\r\n        references.category = category\r\n      },\r\n      SET_BODY(body: string) {\r\n        payload.body = body\r\n      },\r\n    },\r\n    references\r\n  }\r\n})\r\n```\r\n\r\nThen, here is how to create a store named `post1` that has a reference to `category1`:\r\n\r\n```ts\r\nconst post1 = postBuilder(\r\n  {\r\n    id: \"1\",\r\n    title: \"Post #1\",\r\n    categoryId: \"1\"\r\n  },\r\n  category1\r\n)\r\n```\r\n\r\nIn the store `post1`, the reference to `category1` is directly accessible as a read-only property `category`:\r\n\r\n```ts\r\nconsole.log(post1.category?.state) // Show the content of the category1 state\r\n\r\nconst category2 = categoryBuilder(/* ... */)\r\npost1.category = category2 // ERROR: readonly property 'category'\r\n\r\npost1.commit.SET_CATEGORY(category2)\r\n\r\nconsole.log(post1.category?.state) // Show the content of the category2 state\r\n```\r\n\r\n## Solution to 3 (bis): References can be single stores, but also: lists, maps, and sets of stores\r\n\r\nTo illustrate that, let's create a single store `globalData` that references all the existing categories in a `Map`:\r\n\r\n```ts\r\nexport const globalData = createStore(() => {\r\n  const categories = new Map([\r\n    {\r\n      id: \"1\",\r\n      name: \"Flowers\"\r\n    },\r\n    {\r\n      id: \"2\",\r\n      name: \"Animals\"\r\n    },\r\n  ].map(item => ([item.id, categoryBuilder(item)])))\r\n\r\n  const mutations = {\r\n    ADD_CATEGORY(payload: CategoryPayload) {\r\n      categories.set(payload.id, categoryBuilder(payload))\r\n    },\r\n  }\r\n\r\n  return {\r\n    mutations,\r\n    references: { categories },\r\n  }\r\n})\r\n```\r\n\r\nThen, our previous `postBuilder` can be improved using `globalData` and `payload.categoryId` to get rid of its second parameter:\r\n\r\n```ts\r\nconst postBuilder = createStoreBuilder((payload: PostPayload) => {\r\n  const innerState = payload\r\n\r\n  const references = {\r\n    category: payload.categoryId !== undefined\r\n      ? globalData.categories.get(payload.categoryId)\r\n      : undefined\r\n  }\r\n\r\n  // … Same implementation as before …\r\n}\r\n```\r\n\r\nNote: A Map, Set or Array of references that is exposed by a store, is in fact a `ReadonlyMap`, a `ReadonlySet` or a `readonly array[]`. It shouldn't be possible to mutate these collections from outside the store implementation. Only store's mutations can mutate the collections in `references`.\r\n\r\n## Solution to 4: Types with TypeScript\r\n\r\nTyping is provided by inference:\r\n\r\n```ts\r\nexport type CategoryStore = ReturnType<typeof categoryBuilder>\r\nexport type PostStore = ReturnType<typeof postBuilder>\r\nexport type GlobalDataStore = typeof globalData\r\n```\r\n\r\nMutations are called and typed in the same way as [direct-vuex](https://github.com/paleo/direct-vuex):\r\n\r\n```ts\r\ncategory1.commit.SET_NAME(\"New name\")\r\n```\r\n\r\nTyping can be tested by cloning [this repo](https://github.com/paleo/vuex5-proposal).\r\n\r\n## Solution to 5: The type of the implementation object\r\n\r\nAs you may have noticed, the build function passed to `createStore` or `createStoreBuilder` must return an implementation object that follows a determined structure. Here is this structure in TypeScript syntax:\r\n\r\n```ts\r\ninterface StoreImplementation {\r\n  innerState?: object\r\n  getters?: { [name: string]: () => any }\r\n  mutations?: { [name: string]: (payload?: any) => void }\r\n  references?: { [name: string]: AnyStore | Array<AnyStore> | Map<any, AnyStore> | Set<AnyStore> | undefined }\r\n}\r\n```\r\n\r\nThe properties are all optional. The properties `getters`, `mutations`, `references` are dictionary (key-value) objects.\r\n\r\n## Other points to discuss\r\n\r\n### _Actions_ are moved out of the store\r\n\r\nI suggest removing actions from Vuex because they don't need to have access to the store's internal implementation. By convention, we can call **action** a function that takes a store as the first parameter, and an optional payload as the second parameter.\r\n\r\n```ts\r\nexport async function savePostBody({ commit, state }: PostStore, body: string) {\r\n  await httpSendSomewhere({ id: state.id, body })\r\n  commit.SET_BODY(body)\r\n}\r\n```\r\n\r\nIt is then not necessary to have a `dispatch` API. Just call the function using the correct store as a parameter when you need it.\r\n\r\n### API that are attached to the store, like `watch`\r\n\r\nI suggest that additional API that have to be attached to a store, can be grouped in a `st` property (store tools). Then, a store has the following structure:\r\n\r\n```\r\n{\r\n  ... readonly references to other stores ...\r\n  state: {\r\n    ... readonly innerState's properties ...\r\n    ... getters ...\r\n  },\r\n  commit: {\r\n    ... mutations ...\r\n  },\r\n  st: {\r\n    watch: // Here an attached API provided by Vuex\r\n  },\r\n  readonly: // see the next section\r\n}\r\n```\r\n\r\nIn the types of my proposal, I currently provide the typing of a `watch` object that contains a way to subscribe to each mutation. Maybe not useful.\r\n\r\n### A _read-only_ version of the store\r\n\r\nI suggest that each store provides a `readonly` property, which contains a version of the same store but without the ability to `commit`. Its structure could be:\r\n\r\n```\r\n{\r\n  ... readonly references to the 'readonly' property of stores ...\r\n  state: {\r\n    ... readonly innerState's properties ...\r\n    ... getters ...\r\n  }\r\n}\r\n```\r\n\r\n### But what if I need the root state somewhere?\r\n\r\nNo, you don't need the whole state of your application. When you need to access the state of a particular store, just reference that store from your store.\r\n\r\n### Memory and performance\r\n\r\nAn implementation with a builder function has a trade-off: it doesn't allow to use JS prototypes, and each function (mutation, getter) has to be created for each instance of a store. I guess there is a similar issue with the Vue composition API…\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1763","RelatedDescription":"Open issue \"Proposal for Vuex 5\" (#1763)"},{"Id":"622331507","IsPullRequest":false,"CreatedAt":"2020-05-21T10:40:44","Actor":"yeyaolong","Number":"1760","RawContent":null,"Title":"When the ref variable changes, the vuex variable is changed synchronously","State":"closed","Body":"### Version\r\n4.0.0-beta.2\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue](https://codesandbox.io/s/vue)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nI'm sorry to fill a random link in `Link to minimal reproduction` , because I can't access to these pages.\r\n\r\n\r\n\r\n### issue description\r\n everything is normal until I call `updateVuex()` 。\r\n\r\nafter calling `updateVuex()` , then I call the `add()` to change variable `count`, the computed variable `computedByVuex` is changed synchronously.\r\n\r\n```\r\n// /store/indexjs\r\nimport Vuex from 'vuex'\r\n\r\nexport default Vuex.createStore({\r\n  state: {\r\n    test: {\r\n      a: 1\r\n    }\r\n  },\r\n  mutations: {\r\n    setTestA(state, value) {\r\n      console.log('mutations setTestA is called')\r\n      state.test.a = value;\r\n    }\r\n  },\r\n  actions: {\r\n  },\r\n  modules: {\r\n  }\r\n});\r\n```\r\n```\r\n// test.vue\r\n<template>\r\n    <div class=\"test-vuex\">\r\n        <h1>test page: {{count}}</h1>\r\n        <h1>computedByVuex: {{computedByVuex}}</h1>\r\n        <button @click=\"add\">add</button>\r\n        <button @click=\"updateVuex\">updateVuex</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, watchEffect, getCurrentInstance, computed } from 'vue';\r\n\r\nexport default {\r\n    setup() {\r\n        const count = ref(0);\r\n        const add = () => {\r\n            count.value  \r\n        }\r\n        \r\n        const { ctx } = getCurrentInstance();  // 获取当前实例\r\n        const computedByVuex = computed(() => ctx.$store.state.test.a);\r\n\r\n        watchEffect(() => {\r\n            console.log('computedByVuex',  ctx.$store.state.test.a);\r\n        }, {\r\n            flush: 'pre'\r\n        })\r\n\r\n        const updateVuex = () => {\r\n            ctx.$store.commit('setTestA', count);\r\n        }\r\n\r\n        return {\r\n            count,\r\n            computedByVuex,\r\n            add,\r\n            updateVuex\r\n        }\r\n    }\r\n}\r\n</script>\r\n```\r\n\r\n### What is expected?\r\nwhen `add` function is called the vuex variable won't changed \r\n\r\n### What is actually happening?\r\nWhen the ref variable changes, the vuex variable is changed synchronously\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1760","RelatedDescription":"Closed issue \"When the ref variable changes, the vuex variable is changed synchronously\" (#1760)"},{"Id":"622319316","IsPullRequest":false,"CreatedAt":"2020-05-21T07:51:25","Actor":"yeyaolong","Number":"1759","RawContent":null,"Title":"When the ref variable changes, the vuex variable is changed synchronously","State":"closed","Body":"\r\nmy project is created by @vue/cli 4.3.1\r\n\r\n## description\r\nbefore I call `updateVuex` function, everything is normal。\r\n\r\nbut after  calling `updateVuex`function, then  I call the `add` function to change `count` variable, the vuex variable is changed synchronously.\r\n\r\n```\r\n\r\n// /store/indexjs\r\nimport Vuex from 'vuex'\r\n\r\nexport default Vuex.createStore({\r\n  state: {\r\n    test: {\r\n      a: 1\r\n    }\r\n  },\r\n  mutations: {\r\n    setTestA(state, value) {\r\n      console.log('mutations setTestA is called')\r\n      state.test.a = value;\r\n    }\r\n  },\r\n  actions: {\r\n  },\r\n  modules: {\r\n  }\r\n});\r\n```\r\n\r\n```\r\n// test.vue\r\n<template>\r\n    <div class=\"test-vuex\">\r\n        <h1>test page: {{count}}</h1>\r\n        <h1>computedByVuex: {{computedByVuex}}</h1>\r\n        <button @click=\"add\">add</button>\r\n        <button @click=\"updateVuex\">updateVuex</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, watchEffect, getCurrentInstance, computed } from 'vue';\r\n\r\nexport default {\r\n    setup() {\r\n        const count = ref(0);\r\n        const add = () => {\r\n            count.value++\r\n        }\r\n        \r\n        const { ctx } = getCurrentInstance();  // 获取当前实例\r\n        const computedByVuex = computed(() => ctx.$store.state.test.a);\r\n\r\n        watchEffect(() => {\r\n            console.log('computedByVuex',  ctx.$store.state.test.a);\r\n        }, {\r\n            flush: 'pre'\r\n        })\r\n\r\n        const updateVuex = () => {\r\n            ctx.$store.commit('setTestA', count);\r\n        }\r\n\r\n        return {\r\n            count,\r\n            computedByVuex,\r\n            add,\r\n            updateVuex\r\n        }\r\n    }\r\n}\r\n</script>\r\n```\r\n","Url":"https://github.com/vuejs/vuex/issues/1759","RelatedDescription":"Closed issue \"When the ref variable changes, the vuex variable is changed synchronously\" (#1759)"},{"Id":"621504825","IsPullRequest":false,"CreatedAt":"2020-05-21T04:35:50","Actor":"zzcong","Number":"1758","RawContent":null,"Title":"When using strict mode, you want to provide a deep copy of 'state' and 'getter' methods","State":"closed","Body":"### What problem does this feature solve?\r\nIn strict mode, when you make a deep copy of an object inside 'state', the 'dep' in the object will be copied as well, and an error will be reported: 'do not mutate vuex store state outside mutation handlers.'\r\n\r\n### What does the proposed API look like?\r\nfunction deepCopy (name) { return JSON.parse(JSON.stringify(state[name])) }\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1758","RelatedDescription":"Closed issue \"When using strict mode, you want to provide a deep copy of 'state' and 'getter' methods\" (#1758)"},{"Id":"621451926","IsPullRequest":false,"CreatedAt":"2020-05-20T12:40:03","Actor":"karel-3d","Number":"1756","RawContent":null,"Title":"Vuex getters are not type checked in typescript","State":"closed","Body":"### What problem does this feature solve?\r\nThis feature will correctly check types of store getters.\r\n\r\nCurrently, getters have type `getters: any`.\r\n\r\n\r\n\r\n### What does the proposed API look like?\r\nvuex getters are defined (maybe) correctly in https://github.com/ClickerMonkey/vuex-typescript-interface/blob/master/index.d.ts\r\n\r\n```ts\r\nexport type GetterKeys<T> = {\r\n  [P in keyof T]-?: IfEquals<{ [Q in P]: T[P] }, { -readonly [Q in P]: T[P] }, never, P>\r\n}[keyof T];\r\n\r\n\r\nexport type GetterInputFor<T> = {\r\n  [K in GetterKeys<T>]: T[K];\r\n};\r\n\r\nexport type MergedGettersFor<T> = {\r\n  [M in MergedModuleKeys<T>]: \r\n    T extends { modules: { [P in M]: infer E } } \r\n      ? GettersFor<E> \r\n      : never;\r\n};\r\n\r\nexport type GettersFor<T> = \r\n  GetterInputFor<T> & \r\n  Flatten<MergedGettersFor<T>>;\r\n```\r\n\r\n~I am not sure if this is actually correct. I can try it and make a PR if there is interest.~\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1756","RelatedDescription":"Closed issue \"Vuex getters are not type checked in typescript\" (#1756)"},{"Id":"621502991","IsPullRequest":false,"CreatedAt":"2020-05-20T06:44:13","Actor":"zzcong","Number":"1757","RawContent":null,"Title":"When using strict mode, you want to provide a deep copy of 'state' and 'getter' methods","State":"closed","Body":"In strict mode, when you make a deep copy of an object inside 'state', the 'dep' in the object will be copied as well, and an error will be reported: 'do not mutate vuex store state outside mutation handlers.'","Url":"https://github.com/vuejs/vuex/issues/1757","RelatedDescription":"Closed issue \"When using strict mode, you want to provide a deep copy of 'state' and 'getter' methods\" (#1757)"},{"Id":"621411568","IsPullRequest":false,"CreatedAt":"2020-05-20T02:28:56","Actor":"ssly","Number":"1755","RawContent":null,"Title":"Vuex.createStore throw TS2339 in production with vue-cli and vue add vue-next","State":"closed","Body":"1. vue create vue-template(typescript with no class-style)\r\n2. vue add vue-next\r\n3. npm run serve\r\n\r\nsome errors:\r\n1. TS2339: Property 'createStore' does not exist on type \r\n2. main.ts createApp(App) throw TS2345: Argument of type 'typeof import","Url":"https://github.com/vuejs/vuex/issues/1755","RelatedDescription":"Closed issue \"Vuex.createStore throw TS2339 in production with vue-cli and vue add vue-next\" (#1755)"},{"Id":"620153634","IsPullRequest":false,"CreatedAt":"2020-05-18T13:29:44","Actor":"Ewelina436","Number":"1754","RawContent":null,"Title":"lazy load doesn't for registerModule ","State":"closed","Body":"### Version\r\n3.3.0\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vuex-load-module-d2tss?file=/src/main.js](https://codesandbox.io/s/vuex-load-module-d2tss?file=/src/main.js)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. click button 'check' - open Console\r\n\r\n### What is expected?\r\n\r\naccess to the newly registered module\r\n\r\n### What is actually happening?\r\nI get the answer 'undefined'\r\n\r\n---\r\n\r\nWhen I try to import statically everything works ... However, it is very important for me to be lazy. Please help ...\r\n\r\nIn Vue.js devtools  - I see information that the module has been registered but is empty\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1754","RelatedDescription":"Closed issue \"lazy load doesn't for registerModule \" (#1754)"},{"Id":"620139044","IsPullRequest":false,"CreatedAt":"2020-05-18T11:40:28","Actor":"Ewelina436","Number":"1753","RawContent":null,"Title":"Lazy load  doesn't  work for registerModule","State":"closed","Body":"\r\nI try lazy load module vuex by registerModule, however, when it gets called \"undefined\". \r\nI found an example that had to work here, but don't work [here at the end](https://itnext.io/vue-js-app-performance-optimization-part-3-lazy-loading-vuex-modules-ed67cf555976) - \r\nMy code:\r\n```\r\ncreated(){\r\n   const state = () => import('./state');\r\n   this.$store.registerModule(\"testowa\", state);\r\n}\r\n```\r\n\r\nWhen I try to import statically everything works... However, it is very important for me to be lazy. Please help...\r\n","Url":"https://github.com/vuejs/vuex/issues/1753","RelatedDescription":"Closed issue \"Lazy load  doesn't  work for registerModule\" (#1753)"}],"ResultType":"GitHubIssue"}},"RunOn":"2020-06-23T05:30:46.8185128Z","RunDurationInMilliseconds":2330}