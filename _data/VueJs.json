{"Data":{"Vue-Issues":{"Issues":[{"Id":"690553798","IsPullRequest":false,"CreatedAt":"2020-09-02T00:19:58","Actor":"thisboyiscrazy","Number":"11634","RawContent":null,"Title":"getTime issue","State":"open","Body":"### Version\r\n2.6.12\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/chrisvfritz/50wL7mdz/](https://jsfiddle.net/chrisvfritz/50wL7mdz/)\r\n\r\n### Steps to reproduce\r\nRun in on a browser without hi-res timers.\r\n\r\nMinimal reproduction does not work because I can not test on my browser or at least I do not know how to turn off Hi Res timers in chrome.\r\n\r\n### What is expected?\r\nEvents to propogate. e.g. an outter div will fire v-on:click for child elements.\r\n\r\n### What is actually happening?\r\nIt's not\r\n\r\n---\r\nin file vue.runtime.esm.js:\r\n\r\nchange lines 4259 to 4281 to fix:\r\n\r\n// Async edge case fix requires storing an event listener's attach timestamp.\r\nvar getNow = Date.now;\r\nvar baseNow = Date.now();\r\n\r\n// Determine what event timestamp the browser is using. Annoyingly, the\r\n// timestamp can either be hi-res (relative to page load) or low-res\r\n// (relative to UNIX epoch), so in order to compare time we have to use the\r\n// same timestamp type when saving the flush timestamp.\r\n// All IE versions use low-res event timestamps, and have problematic clock\r\n// implementations (#9632)\r\nif (inBrowser && !isIE) {\r\n  var performance = window.performance;\r\n  if (\r\n    performance &&\r\n    typeof performance.now === 'function' &&\r\n    getNow() > document.createEvent('Event').timeStamp\r\n  ) {\r\n    // if the event timestamp, although evaluated AFTER the Date.now(), is\r\n    // smaller than it, it means the event is using a hi-res timestamp,\r\n    // and we need to use the hi-res version for event listener timestamps as\r\n    // well.\r\n    getNow = function () { return performance.now(); };\r\n  } else {\r\n    getNow = function () { return Date.now() - baseNow; };\r\n  }\r\n}\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11634","RelatedDescription":"Open issue \"getTime issue\" (#11634)"},{"Id":"690514737","IsPullRequest":false,"CreatedAt":"2020-09-01T23:30:00","Actor":"rmirabelle","Number":"11633","RawContent":null,"Title":"mouseenter/mouseleave cause unrelated methods to trigger repeatedly","State":"open","Body":"### Version\r\n2.6.11\r\n\r\n```javascript\r\n<template>\r\n  <div id=\"app\">\r\n    <div>\r\n      <span :id=\"method1()\" />\r\n      <input :id=\"method2()\" type=\"text\" />\r\n    </div>\r\n    <div\r\n      @mouseenter=\"message = 'huh???'\"\r\n      @mouseleave=\"message = ''\"\r\n      style=\"margin-top: 20px;\"\r\n    >\r\n      Hover me, and the 'message' prop will get updated. <br />\r\n      But method1() and method2() are also called.\r\n    </div>\r\n    <h1>{{ message }}</h1>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data: function () {\r\n    return {\r\n      message: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    method1() {\r\n      console.log(\"method1 called\");\r\n      return 'first';\r\n    },\r\n    method2() {\r\n      console.log(\"method2 called\");\r\n      return 'second';\r\n    }\r\n  }\r\n};\r\n</script>\r\n```\r\n\r\n### Reproduction link\r\n[https://codepen.io/rmirabelle/pen/bGpodLx](https://codepen.io/rmirabelle/pen/bGpodLx)\r\n\r\n### Steps to reproduce\r\nOpen console. Observe output while hovering the target element.\r\n\r\n### What is expected?\r\n`method1` and `method2` are called once when loading.  When hovering, the `message` property is updated.  Only the `h1` element, which outputs the `message` is updated.\r\n\r\n### What is actually happening?\r\nThe `message` property is updated.  But instead of re-rendering just the `h1` that outputs the `message`, the entire component appears to be re-rendered, thus re-triggering all methods bound to other elements.  This occurs seemingly regardless of how the other element attributes are bound. (e.g. .stop, .prevent, etc.)\r\n\r\n---\r\nGiven how simple this example is, I feel like I must be missing something fundamental about Vue reactivity.  Neither of the elements bound to `method1` or `method2` observes or uses `message`.  Nor is `mouseenter` attached to those elements.  So why are the methods being called repeatedly?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11633","RelatedDescription":"Open issue \"mouseenter/mouseleave cause unrelated methods to trigger repeatedly\" (#11633)"},{"Id":"690257316","IsPullRequest":false,"CreatedAt":"2020-09-01T16:02:31","Actor":"brianpmaher","Number":"11632","RawContent":null,"Title":"Expose native event handler publicly when passing vnode data to directive.","State":"closed","Body":"### What problem does this feature solve?\r\nI would like to access the native DOM event handler for a given click event so that I can remove it in a directive.  Currently the vnode parameter we pass to a directive includes a list of event listeners, but only exposes the reference to the event handler on an element via a private member `_wrapper`.  This is the event handler reference I will need in order to call `removeEventListener` from an element.\r\n\r\nThe use-case here is to build a reusable directive that allows gating certain features based on a condition.  Say for example you'd like to gate any component or element based on a user's permission.  You could add a `v-admin-only` directive that will disallow clicking and taking an action if the user is not an admin.  In order to accomplish that, we will need a reference to the event handler on the element in order to remove the event listener from the element.  I have found that the only location that handler is accessible is via (for a click event example) `vnode.data.on.click._wrapper` and `vnode.data.nativeOn.click._wrapper`.  The `_` implying a private member.  I'd like to be able to expose this publicly so as to be confident that this method of accessing the function would be officially supported.\r\n\r\nThe only other ways I've found for achieving a similar behavior would be to use Chrome's `getEventListeners` method, but that's only available for Chrome browser, or, overriding the native `addEventListener` method to track event listeners by element myself.\r\n\r\nI think this would be a valuable feature for Vue to support as there isn't another way to achieve this that I've found and would make directives very powerful.\r\n\r\n### What does the proposed API look like?\r\n`vnode.data.on.<eventType>.wrapper`\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11632","RelatedDescription":"Closed issue \"Expose native event handler publicly when passing vnode data to directive.\" (#11632)"},{"Id":"690040322","IsPullRequest":false,"CreatedAt":"2020-09-01T10:57:29","Actor":"tuxming","Number":"11631","RawContent":null,"Title":"navigator.serial  undefined","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/5hk3649o/](https://jsfiddle.net/5hk3649o/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nnavigator.serial  undefined\r\n\r\n### What is expected?\r\n希望能获取到navigator.serial的属性\r\n\r\n### What is actually happening?\r\n感觉像是webpack或者是vue屏蔽了navigator里面的属性\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11631","RelatedDescription":"Closed issue \"navigator.serial  undefined\" (#11631)"},{"Id":"689756875","IsPullRequest":false,"CreatedAt":"2020-09-01T07:33:13","Actor":"Pettarn","Number":"11630","RawContent":null,"Title":"<br/>  shouldn't be encoded","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/sharp-mayer-3iliv?file=/src/App.vue](https://codesandbox.io/s/sharp-mayer-3iliv?file=/src/App.vue)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nLook at the inline msg value.\r\n\r\n### What is expected?\r\nI wanna get a new line.\r\n\r\n\r\n### What is actually happening?\r\nIt has been encoded to html entity.\r\n\r\n---\r\nYou can match /script/i to encode instead of <>.\r\nBecause sometimes there are sudden copywriting changes, but we don't want to redeploy online.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11630","RelatedDescription":"Closed issue \"<br/>  shouldn't be encoded\" (#11630)"},{"Id":"689248699","IsPullRequest":false,"CreatedAt":"2020-08-31T14:37:47","Actor":"Keztur","Number":"11629","RawContent":null,"Title":"unwanted reference between objects is created when returned by axios or the like","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/kriech/ft1u7wm0/120/](https://jsfiddle.net/kriech/ft1u7wm0/120/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nClick on button \"Change array A\".\r\n\r\n### What is expected?\r\nThe name \"Peter\" in array A (arA) changes to \"Paul\".\r\nArray b stays unchanged.\r\n\r\n### What is actually happening?\r\nThe name \"Peter\" in BOTH arrays changes to \"Paul\".\r\n\r\n---\r\nIt looks like by using an simple \"=\" a reference to the data object returned by axios is created.\r\n\r\nBut the really stunning fact comes now (for some reasons not reproduceable in fiddle):\r\nI tried to created an independen clone. i.e. copying the array without creating a reference:\r\n\r\narA = [...arB]\r\n\r\narA = arB.slice()\r\n\r\nNone of this works!\r\nChanging object properties in array A afterwards changes the same properties in array B.\r\nThe only workaround I found was using a \"parsing/stringify\" combination:\r\n\r\nthis.arB = JSON.parse(JSON.stringify(res.data))\r\n\r\nI also tried to write the data in a variable first and then tried to clone it with spread operator or slice.\r\nThe reference between the arrays stays intact.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11629","RelatedDescription":"Closed issue \"unwanted reference between objects is created when returned by axios or the like\" (#11629)"},{"Id":"688791984","IsPullRequest":false,"CreatedAt":"2020-08-31T08:04:26","Actor":"geoidesic","Number":"11628","RawContent":null,"Title":"Adding a watch to a computed property will change life-cycle order of execution which can cause code to break.","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-watch-alters-life-cycle-bjc6y](https://codesandbox.io/s/vue-watch-alters-life-cycle-bjc6y)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nIn the minimal reproduction there are no steps to take, the error is shown immediately. You can view the two components in the `/components` folder in order to see the differences. The only difference (aside from naming) in the two components is that one adds a watch onto the computed property.\r\n\r\nThe basic concept here is:\r\n1. Have an empty data option\r\n2. Add some data nodes in the `created` option\r\n3. Have a `computed` property which derives from the values of these nodes\r\n4. Echo or make use of the computed property in the created method after the nodes are created.\r\n5. Add a watch on the computed property (causes the error).\r\n\r\n### What is expected?\r\nAdding a watch shouldn't significantly change the life-cycle of when computed properties are calculated. So adding the watch shouldn't cause the computed property to fail. \r\n\r\nI thought that was the point of the `immediate` flag on a watch, which is to say that the watch will not by default trigger before the component is created unless that flag is set.\r\n\r\n### What is actually happening?\r\nIt seems that before the watch is added, the computed property is only calculated within the `created` method. However once the watch is added, the computed property attempts to calculate its value before the value exists, regardless of whether the `immediate` flag on the watch is set or not.\r\n\r\n---\r\nIt may be that when a computed property is calculated is determined not by the lifecycle but rather by when that value is first used, in which case this is not essentially a bug but rather an edge-case. However I would submit that this is problematic for the Vue ecosystem and reputation because by adding a watch you can inadvertently fundamentally change the operating sequence of your component, which breaks things and makes it very hard to refactor or design resilient components.\r\n\r\nThere should be some way to control this so that you can create a watch on a computed property but have the same flexibility extended in the sense of being able to hydrate that computed property in a lifecycle hook before the watch kicks in. \r\n\r\nThe way I ran into this bug is as follows. I started out with a component that needs a watch function on a computed property in order to add dynamic rows to a variety of other affected components. This was working fine while the `empty row` state was static. However, at a certain point I decided that those empty states needed to be fetched remotely, which meant that the data nodes used within the computed properties wouldn't exist immediately. Instead they would be added by the `created` hook. Once I did that my code immediately broke because the watch tries to access the computed properties before they are viable.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11628","RelatedDescription":"Closed issue \"Adding a watch to a computed property will change life-cycle order of execution which can cause code to break.\" (#11628)"},{"Id":"688572098","IsPullRequest":false,"CreatedAt":"2020-08-29T20:50:32","Actor":"camohub","Number":"11627","RawContent":null,"Title":"Repository installation fails","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/chrisvfritz/50wL7mdz/](https://jsfiddle.net/chrisvfritz/50wL7mdz/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nI tried to install this github repository (vue@2.6.12) on my Win 10 , npm v6.14.8, node v11.15.0. Installation via npm install is successfull. But if I run npm run dev the console is full of errors. This are some of them:\r\n\r\n (plugin Rollup Core) Error: Could not load c:/wamp64-3-2-0/www/examples-vue-official/src/core/config \r\n (imported by c:\\wamp64-3-2-0\\www\\examples-vue-official\\src\\platforms\\web\\entry-runtime-with-compiler.js): \r\n ENOENT: no such file or directory, open 'c:\\wamp64-3-2-0\\www\\examples-vue-official\\src\\core\\config' \r\n \r\n (plugin Rollup Core) Error: Could not load c:/wamp64-3-2-0/www/examples-vue-official/src/core/util/index \r\n (imported by c:\\wamp64-3-2-0\\www\\examples-vue-official\\src\\platforms\\web\\entry-runtime-with-compiler.js): \r\n ENOENT: no such file or directory, open 'c:\\wamp64-3-2-0\\www\\examples-vue-official\\src\\core\\util\\index'\r\n \r\n (plugin Rollup Core) Error: Could not load c:/wamp64-3-2-0/www/examples-vue-official/src/core/util/perf \r\n (imported by c:\\wamp64-3-2-0\\www\\examples-vue-official\\src\\platforms\\web\\entry-runtime-with-compiler.js): \r\n ENOENT: no such file or directory, open 'c:\\wamp64-3-2-0\\www\\examples-vue-official\\src\\core\\util\\perf'\r\n\r\n### What is expected?\r\nI would like to run an examples on my PC. But it is not possible via npm run dev. \r\n\r\n### What is actually happening?\r\n (plugin Rollup Core) Error: Could not load c:/wamp64-3-2-0/www/examples-vue-official/src/core/config \r\n (imported by c:\\wamp64-3-2-0\\www\\examples-vue-official\\src\\platforms\\web\\entry-runtime-with-compiler.js): \r\n ENOENT: no such file or directory, open 'c:\\wamp64-3-2-0\\www\\examples-vue-official\\src\\core\\config' \r\n \r\n (plugin Rollup Core) Error: Could not load c:/wamp64-3-2-0/www/examples-vue-official/src/core/util/index \r\n (imported by c:\\wamp64-3-2-0\\www\\examples-vue-official\\src\\platforms\\web\\entry-runtime-with-compiler.js): \r\n ENOENT: no such file or directory, open 'c:\\wamp64-3-2-0\\www\\examples-vue-official\\src\\core\\util\\index'\r\n \r\n (plugin Rollup Core) Error: Could not load c:/wamp64-3-2-0/www/examples-vue-official/src/core/util/perf \r\n (imported by c:\\wamp64-3-2-0\\www\\examples-vue-official\\src\\platforms\\web\\entry-runtime-with-compiler.js): \r\n ENOENT: no such file or directory, open 'c:\\wamp64-3-2-0\\www\\examples-vue-official\\src\\core\\util\\perf'\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11627","RelatedDescription":"Closed issue \"Repository installation fails\" (#11627)"},{"Id":"688512424","IsPullRequest":false,"CreatedAt":"2020-08-29T20:48:52","Actor":"OldDream","Number":"11626","RawContent":null,"Title":"Dom in wrong order after hide and show Functional component ","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[ https://github.com/OldDream/vue-bug-demo]( https://github.com/OldDream/vue-bug-demo)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n0. start dev server, open the web.\r\n1. click \"Click Me First\" btn on the top left of screen.\r\n2. Then  Click 'functional Component Click To Trigger BUG !'\r\n3. Now we can see the DOM in worng order.\r\n\r\n### What is expected?\r\nDom in right place.....\r\n\r\n\r\n\r\n### What is actually happening?\r\nHard to describe the bug in word.\r\nPlease open https://github.com/OldDream/vue-bug-demo,\r\nThere are pictures showing what happend.\r\n\r\n---\r\nActiually I was useing 2.6.12 but there is no such a option, so I select 2.6.11.\r\n\r\nAfter I downgrade to 2.6.11, the bug is still there.\r\n\r\nBug shows up in the dom with id=\"aMapContainer\", if I add v-once or give it a key, the bug disappear.\r\n\r\nIf I turn the functional component 'ExitAutoNaviBtn' to a normal component, the bug also disappear.\r\n\r\nSo I think there might be a bug during diff and patch.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11626","RelatedDescription":"Closed issue \"Dom in wrong order after hide and show Functional component \" (#11626)"},{"Id":"688205109","IsPullRequest":false,"CreatedAt":"2020-08-28T20:33:49","Actor":"Mitch-i","Number":"11625","RawContent":null,"Title":"Vue SSR Mismatching childNodes vs. VNodes when use v-text on custom component with slot","State":"closed","Body":"### Version\r\n2.6.12\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vue-hackernews-2.0](https://github.com/vuejs/vue-hackernews-2.0)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nI get hacker news 2 and make it run with webpack 4.\r\nI have a custom component (component 1):\r\n\r\n`< template>< div  :class=\"classes\"  :disabled=\"disabled\"  :id=\"id\" > < slot>< /slot> < /div>< /template>`\r\n\r\nWhen use it in other component (component 2) like this:\r\n\r\n`\r\n<parent-component>\r\n    <child-component\r\n      v-text=\"'------------'\"\r\n    >\r\n    </child-component>\r\n</parent-component>\r\n`\r\n\r\nin SSR app based on hacker news 2 example I get error \r\n\r\nParent: <div>------------------</div>\r\nMismatching childNodes vs. VNodes:  NodeList \r\n0: text\r\nlength: 1\r\n\r\nNodeList []\r\n\r\n[Vue warn]: The client-side rendered virtual DOM tree is not matching server-rendered content. This is likely caused by incorrect HTML markup, for example nesting block-level elements inside <p>, or missing <tbody>. Bailing hydration and performing full client-side render.\r\n\r\nIf I remove slot from component 1 - no error.\r\nNo errors if I add some inner text when use component 1 in component 2 like:\r\n\r\n`\r\n<parent-compoenent>\r\n    <child-component\r\n      v-text=\"'------------'\"\r\n    >\r\nsome text or &nbsp;\r\n    </child-component>\r\n`\r\n \r\n\r\n### What is expected?\r\nRun without error\r\n\r\n### What is actually happening?\r\nError\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11625","RelatedDescription":"Closed issue \"Vue SSR Mismatching childNodes vs. VNodes when use v-text on custom component with slot\" (#11625)"},{"Id":"688083812","IsPullRequest":false,"CreatedAt":"2020-08-28T15:47:18","Actor":"brunomperes","Number":"11624","RawContent":null,"Title":"Changelog for 2.6.12","State":"closed","Body":"### What problem does this feature solve?\r\nVue 2.6.12 and the sibling packages have been upgraded but I can't seem to find the changelog for it on the [github releases](https://github.com/vuejs/vue/releases) nor the [tag itself](https://github.com/vuejs/vue/releases/tag/v2.6.12).\r\n\r\nIt also doesn't show as \"latest\" on the [github project page](https://github.com/vuejs/vue) (see right hand side).\r\n\r\nThe [commit list since 2.6.11](https://github.com/vuejs/vue/compare/v2.6.11...v2.6.12) includes:\r\n- fix(security): upgrade serialize-javascript (#11434)\r\n- build(deps): bump elliptic from 6.4.1 to 6.5.3 (#11554)\r\n\r\nIs that correct and complete? Any other relevant changes to sibling packages (`vue-template-compiler` or `vue`)?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11624","RelatedDescription":"Closed issue \"Changelog for 2.6.12\" (#11624)"},{"Id":"687813697","IsPullRequest":false,"CreatedAt":"2020-08-28T11:21:56","Actor":"OldDream","Number":"11622","RawContent":null,"Title":"Dom in wrong order after hide and show Functional component ","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://github.com/OldDream/vue-bug-demo](https://github.com/OldDream/vue-bug-demo)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n0. run :  npm i , npm run dev, to start a dev server.\r\n1. click \"Click Me First\" btn on the top left of screen.\r\n2. Then  Click 'functional Component Click To Trigger BUG !'\r\n3. Now we can see the DOM in worng order.\r\n\r\n### What is expected?\r\nDom in right place.....\r\n\r\n### What is actually happening?\r\nHard to describe the bug in word.\r\nPlease open https://github.com/OldDream/vue-bug-demo,\r\nThere are pictures showing what happend.\r\n\r\n---\r\nActiually I was useing 2.6.12 but there is no such a option, so I select 2.6.11.\r\n\r\nAfter I downgrade to 2.6.11, the bug is still there.\r\n\r\nBug shows up in the dom with id=\"aMapContainer\", if I add v-once or give it a key, the bug disappear. \r\n\r\nIf I turn the functional component 'ExitAutoNaviBtn'  to a normal component, the bug also disappear.\r\n\r\nSo I think there might be a bug during diff and patch.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11622","RelatedDescription":"Closed issue \"Dom in wrong order after hide and show Functional component \" (#11622)"},{"Id":"687829472","IsPullRequest":false,"CreatedAt":"2020-08-28T07:08:38","Actor":"Pettarn","Number":"11623","RawContent":null,"Title":"<br/> 也会被转义","State":"closed","Body":"### What problem does this feature solve?\r\n有的时候业务那边的文案会有换行的要求，而且是和RD没有沟通的情况下，这时候就需要紧急地支持换行。在不重新上线的情况下，br标签是一个很快捷的解决方法。\r\n\r\n### What does the proposed API look like?\r\n转义包裹 /script/i 的<>\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11623","RelatedDescription":"Closed issue \"<br/> 也会被转义\" (#11623)"},{"Id":"687395027","IsPullRequest":false,"CreatedAt":"2020-08-27T17:21:55","Actor":"mvgn","Number":"11621","RawContent":null,"Title":"Input value out of sync with data","State":"closed","Body":"### Version\r\n2.6.12\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/arzmp4cv/](https://jsfiddle.net/arzmp4cv/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nEnter a price with more than 2 decimal places. \r\n\r\n### What is expected?\r\nInput value should show no more than 2 decimal places.\r\n\r\n### What is actually happening?\r\nPrice data attribute is correctly limited to 2 decimal places but input value shows extra digits entered.\r\n\r\n---\r\nIs this a bug or a feature? If it's a feature, what is the recommended workaround? I see I can $forceUpdate() when updating the price or I can manually sync the input value with event.target.value = this.price (but I don't know if that might have adverse consequences, though).\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11621","RelatedDescription":"Closed issue \"Input value out of sync with data\" (#11621)"},{"Id":"687372954","IsPullRequest":true,"CreatedAt":"2020-08-27T16:19:06","Actor":"vue-bot","Number":"11620","RawContent":null,"Title":"[automated] Patreon sponsors update","State":"open","Body":"This is an automated pull request.","Url":"https://github.com/vuejs/vue/pull/11620","RelatedDescription":"Open PR \"[automated] Patreon sponsors update\" (#11620)"},{"Id":"687239513","IsPullRequest":false,"CreatedAt":"2020-08-27T13:38:01","Actor":"omarsy","Number":"11619","RawContent":null,"Title":"Component with comments causesInternet Explorer crash","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://ylmww.csb.app/](https://ylmww.csb.app/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nOpen this sandbox code with Internet Explorer Browser: https://ylmww.csb.app/\r\n\r\n### What is expected?\r\nComponent is rendered well\r\n\r\n### What is actually happening?\r\nWe have syntax error then nothing is rendered\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11619","RelatedDescription":"Closed issue \"Component with comments causesInternet Explorer crash\" (#11619)"},{"Id":"686682888","IsPullRequest":false,"CreatedAt":"2020-08-27T08:14:26","Actor":"wisteso","Number":"11618","RawContent":null,"Title":"lazy v-models broken when used with @input, computed properties, vue-axios and vue-router","State":"closed","Body":"### Version\r\n2.6.12\r\n\r\n### Reproduction link\r\n- https://codesandbox.io/s/vuejs-lazy-model-bug-qlolq\r\n\r\n### Steps to reproduce\r\nIssue occurrs in Vue 2.6.5, 2.6.11, and 2.6.12\r\n\r\n1. try to add (or remove) additional text with the input box (e.g. \"test\" -> \"testx\")\r\n2. observe that the first keystroke is ignored / reverted (not expected)\r\n3. subsequent characters are allowed / persisted (as expected)\r\n4. observe that despite ignoring letter entry / deletion, the input box is set to disabled, as expected, indicating all expected functions / handlers were called\r\n\r\nNote that removing any of the other code from Test.vue causes bug to not reproduce (computed property, query parsing, input button, etc).  \r\n\r\nIt seems like this issue only happens in this very specific situation of using router query params, computed properties, an axios call, forms, etc...    I wasn't able to simplify the example any further without the problem no longer being reproducible\r\n\r\n### What is expected?\r\nShould be able to immediately change the input text upon first keystroke.\r\n\r\n### What is actually happening?\r\nFirst keystroke is always ignored upon page reload.  Normal behavior resumes after first keystroke.\r\n\r\n---\r\nAll functions in Test.vue which should be called are being called.  Vue isn't ignoring the input exactly, it is just reverting the keystroke during patchVnode in a way that makes it look ignored (without debugging).\r\n\r\nI noticed that it didnt matter if the axios call was successful or not (just that the function call was made), so its been simplified to do a GET from an empty URL.  \r\n\r\nCall stack where vnode was being incorrectly reverted:\r\n```\r\npatchVnode (vue.runtime.esm.js?2b0e:6319)\r\nupdateChildren (vue.runtime.esm.js?2b0e:6193)\r\npatchVnode (vue.runtime.esm.js?2b0e:6319)\r\nupdateChildren (vue.runtime.esm.js?2b0e:6193)\r\npatchVnode (vue.runtime.esm.js?2b0e:6319)\r\nupdateChildren (vue.runtime.esm.js?2b0e:6193)\r\npatchVnode (vue.runtime.esm.js?2b0e:6319)\r\npatch (vue.runtime.esm.js?2b0e:6482)\r\nVue._update (vue.runtime.esm.js?2b0e:3948)\r\nupdateComponent (vue.runtime.esm.js?2b0e:4066)\r\nget (vue.runtime.esm.js?2b0e:4479)\r\nrun (vue.runtime.esm.js?2b0e:4554)\r\nflushSchedulerQueue (vue.runtime.esm.js?2b0e:4310)\r\n(anonymous) (vue.runtime.esm.js?2b0e:1980)\r\nflushCallbacks (vue.runtime.esm.js?2b0e:1906)\r\nPromise.then (async)\r\ntimerFunc (vue.runtime.esm.js?2b0e:1933)\r\nnextTick (vue.runtime.esm.js?2b0e:1990)\r\nqueueWatcher (vue.runtime.esm.js?2b0e:4402)\r\nupdate (vue.runtime.esm.js?2b0e:4544)\r\nnotify (vue.runtime.esm.js?2b0e:730)\r\nreactiveSetter (vue.runtime.esm.js?2b0e:1055)\r\nproxySetter (vue.runtime.esm.js?2b0e:4631)\r\nreset (Tunnel.vue?a281:104)\r\ninvokeWithErrorHandling (vue.runtime.esm.js?2b0e:1854)\r\ninvoker (vue.runtime.esm.js?2b0e:2179)\r\noriginal._wrapper (vue.runtime.esm.js?2b0e:6917)\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11618","RelatedDescription":"Closed issue \"lazy v-models broken when used with @input, computed properties, vue-axios and vue-router\" (#11618)"},{"Id":"686508529","IsPullRequest":false,"CreatedAt":"2020-08-26T18:07:52","Actor":"mjmnagy","Number":"11617","RawContent":null,"Title":"Extract CSS - Didn't get a result from child compiler","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://github.com/mjmnagy/vue-error-2020-08-26](https://github.com/mjmnagy/vue-error-2020-08-26)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nI am trying to write a `vue` component library that will work in `nuxt` and `vue`.\r\n\r\nThe issue i was originally having was `document is not defined` when using `Extract CSS`. from reading, i understand the `css-loader` webpack settings need to be adjusted to use a different module (one that isnt using `document`). \r\n\r\nI have downloaded(npm) the new webpack module(https://webpack.js.org/plugins/mini-css-extract-plugin/) and copied in the example code without any luck. \r\n\r\nThe below is an example of the error i get for every component\r\n\r\n          \r\n\r\n\r\nI have been looking on the interweb for hours now and cannot seem to find a solution.\r\n\r\nI have been looking at the `API Docs` https://ssr.vuejs.org/guide/build-config.html#server-config and cannot seem to find something that works. Additionally i tied deleting `node_modules` \r\n\r\n\r\n      //vue.config.js\r\n    const path = require('path')\r\n//package.json\r\n\"prod\": \"vue-cli-service build --report --target lib --name sc pkge/index.js\",\r\n\r\nrun via `npm run prod`\r\n\r\n//vue.config.js  \r\n  const MiniCssExtractPlugin = require('mini-css-extract-plugin')\r\n\r\n    module.exports = {\r\n      outputDir: 'dist',\r\n      lintOnSave: false,\r\n      css: {\r\n        extract: true //false\r\n      },\r\n      configureWebpack: {\r\n        devtool: 'source-map',\r\n        plugins: [\r\n          new MiniCssExtractPlugin({\r\n            filename: '[name].css',\r\n            chunkFilename: '[id].css',\r\n            ignoreOrder: false\r\n          })\r\n        ],\r\n        module: {\r\n          rules: [\r\n            {\r\n              test: /\\.css$/i,\r\n              use: [MiniCssExtractPlugin.loader, 'css-loader']\r\n            }\r\n          ]\r\n        },\r\n        resolve: {\r\n          alias: {\r\n            '@': path.resolve(__dirname)\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n```\r\n//pkge/index.js\r\n// Used to create imports for vue component library\r\nimport * as components from '@/components'\r\n\r\nconst install = (Vue, options = {}) => {\r\n  // Use Components\r\n  Object.values(components).forEach(comp => {\r\n    Vue.use(comp)\r\n  })\r\n}\r\n\r\n// auto install\r\nif (typeof window !== 'undefined' && window.Vue) {\r\n  install(window.Vue)\r\n}\r\n```\r\n\r\nexport default { install }\r\n\r\nexport * from '@/components'\r\n\r\n\r\n\r\n\r\n### What is expected?\r\nExtract CSS using webpack module so it is client and server ready\r\n\r\n### What is actually happening?\r\n```\r\nerror  in ./components/layout/row.vue?vue&type=style&index=0&id=08898866&scoped=true&lang=css&\r\n          Module build failed (from ./node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js):\r\n          ModuleBuildError: Module build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js):\r\n          Error: Didn't get a result from child compiler\r\n          at childCompiler.runAsChild (B:\\lib\\node_modules\\mini-css-extract-plugin\\dist\\loader.js:159:23)\r\nat compile (B:\\lib\\node_modules\\webpack\\lib\\Compiler.js:343:11)\r\n      at hooks.afterCompile.callAsync.err (B:\\lib\\node_modules\\webpack\\lib\\Compiler.js:681:15)\r\n      at AsyncSeriesHook.eval [as callAsync] (eval at create (B:\\lib\\node_modules\\tapable\\lib\\HookCodeFactory.js:33:10), <anonymous>:24:1)\r\n      at AsyncSeriesHook.lazyCompileHook (B:\\lib\\node_modules\\tapable\\lib\\Hook.js:154:20)\r\n      at compilation.seal.err (B:\\lib\\node_modules\\webpack\\lib\\Compiler.js:678:31)\r\n      at AsyncSeriesHook.eval [as callAsync] (eval at create (B:\\lib\\node_modules\\tapable\\lib\\HookCodeFactory.js:33:10), <anonymous>:6:1)\r\n      at AsyncSeriesHook.lazyCompileHook (B:\\lib\\node_modules\\tapable\\lib\\Hook.js:154:20)\r\n      at hooks.optimizeAssets.callAsync.err (B:\\lib\\node_modules\\webpack\\lib\\Compilation.js:1423:35)\r\n      at AsyncSeriesHook.eval [as callAsync] (eval at create (B:\\lib\\node_modules\\tapable\\lib\\HookCodeFactory.js:33:10), <anonymous>:6:1)\r\n      at AsyncSeriesHook.lazyCompileHook (B:\\lib\\node_modules\\tapable\\lib\\Hook.js:154:20)\r\n      at hooks.optimizeChunkAssets.callAsync.err (B:\\lib\\node_modules\\webpack\\lib\\Compilation.js:1414:32)\r\n      at _promise0.then._result0 (eval at create (B:\\lib\\node_modules\\tapable\\lib\\HookCodeFactory.js:33:10), <anonymous>:13:1)\r\n      at process._tickCallback (internal/process/next_tick.js:68:7)\r\n      at runLoaders (B:\\lib\\node_modules\\webpack\\lib\\NormalModule.js:316:20)\r\n      at B:\\lib\\node_modules\\loader-runner\\lib\\LoaderRunner.js:367:11\r\n      at B:\\lib\\node_modules\\loader-runner\\lib\\LoaderRunner.js:182:20\r\n      at context.callback (B:\\lib\\node_modules\\loader-runner\\lib\\LoaderRunner.js:111:13)\r\n      at childCompiler.runAsChild (B:\\lib\\node_modules\\mini-css-extract-plugin\\dist\\loader.js:159:14)\r\n      at compile (B:\\lib\\node_modules\\webpack\\lib\\Compiler.js:343:11)\r\n      at hooks.afterCompile.callAsync.err (B:\\lib\\node_modules\\webpack\\lib\\Compiler.js:681:15)\r\n      at AsyncSeriesHook.eval [as callAsync] (eval at create (B:\\lib\\node_modules\\tapable\\lib\\HookCodeFactory.js:33:10), <anonymous>:24:1)\r\n      at AsyncSeriesHook.lazyCompileHook (B:\\lib\\node_modules\\tapable\\lib\\Hook.js:154:20)\r\n      at compilation.seal.err (B:\\lib\\node_modules\\webpack\\lib\\Compiler.js:678:31)\r\n      at AsyncSeriesHook.eval [as callAsync] (eval at create (B:\\lib\\node_modules\\tapable\\lib\\HookCodeFactory.js:33:10), <anonymous>:6:1)\r\n      at AsyncSeriesHook.lazyCompileHook (B:\\lib\\node_modules\\tapable\\lib\\Hook.js:154:20)\r\n      at hooks.optimizeAssets.callAsync.err (B:\\lib\\node_modules\\webpack\\lib\\Compilation.js:1423:35)\r\n      at AsyncSeriesHook.eval [as callAsync] (eval at create (B:\\lib\\node_modules\\tapable\\lib\\HookCodeFactory.js:33:10), <anonymous>:6:1)\r\n      at AsyncSeriesHook.lazyCompileHook (B:\\lib\\node_modules\\tapable\\lib\\Hook.js:154:20)\r\n      at hooks.optimizeChunkAssets.callAsync.err (B:\\lib\\node_modules\\webpack\\lib\\Compilation.js:1414:32)\r\n\r\n```\r\n---\r\n1) How can i configure it to use the weback module correctly?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11617","RelatedDescription":"Closed issue \"Extract CSS - Didn't get a result from child compiler\" (#11617)"},{"Id":"686313141","IsPullRequest":true,"CreatedAt":"2020-08-26T13:19:30","Actor":"vue-bot","Number":"11616","RawContent":null,"Title":"[automated] Patreon sponsors update","State":"closed","Body":"This is an automated pull request.","Url":"https://github.com/vuejs/vue/pull/11616","RelatedDescription":"Closed or merged PR \"[automated] Patreon sponsors update\" (#11616)"},{"Id":"686310047","IsPullRequest":true,"CreatedAt":"2020-08-26T13:18:40","Actor":"vue-bot","Number":"11615","RawContent":null,"Title":"[automated] Patreon sponsors update","State":"closed","Body":"This is an automated pull request.","Url":"https://github.com/vuejs/vue/pull/11615","RelatedDescription":"Closed or merged PR \"[automated] Patreon sponsors update\" (#11615)"},{"Id":"686309404","IsPullRequest":true,"CreatedAt":"2020-08-26T13:18:40","Actor":"vue-bot","Number":"11614","RawContent":null,"Title":"[automated] Patreon sponsors update","State":"closed","Body":"This is an automated pull request.","Url":"https://github.com/vuejs/vue/pull/11614","RelatedDescription":"Closed or merged PR \"[automated] Patreon sponsors update\" (#11614)"},{"Id":"685874857","IsPullRequest":true,"CreatedAt":"2020-08-25T22:25:26","Actor":"john-ko","Number":"11613","RawContent":null,"Title":"fix #11612: renderScripts if initial is an empty array","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\nClose #11612 \r\n","Url":"https://github.com/vuejs/vue/pull/11613","RelatedDescription":"Open PR \"fix #11612: renderScripts if initial is an empty array\" (#11613)"},{"Id":"685874193","IsPullRequest":false,"CreatedAt":"2020-08-25T22:23:48","Actor":"john-ko","Number":"11612","RawContent":null,"Title":"TemplateRender.renderScripts breaks when there are no preloaded files (empty array)","State":"open","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://github.com/john-ko/vue/commit/f955d9e96ef35fa8609c126501ac0d7f90ee9bc4](https://github.com/john-ko/vue/commit/f955d9e96ef35fa8609c126501ac0d7f90ee9bc4)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nthe client manifest must have its `inital` array empty\r\n\r\n### What is expected?\r\nnot to crash due to empty array\r\n\r\n### What is actually happening?\r\nin `src/server/template-renderer/index.js` line 227~\r\n\r\n`const needed = [initial[0]].concat(async, initial.slice(1))`\r\ngiven initial as empty array needed becomes\r\n\r\n```\r\n[ undefined, {...}, {...}]\r\n```\r\n\r\nwhen it destructures `{ file }` which is transpiled down to \r\nref.file it fails\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11612","RelatedDescription":"Open issue \"TemplateRender.renderScripts breaks when there are no preloaded files (empty array)\" (#11612)"},{"Id":"685710210","IsPullRequest":false,"CreatedAt":"2020-08-25T19:10:45","Actor":"martixy","Number":"11611","RawContent":null,"Title":".bubble modifier for v-model","State":"closed","Body":"### What problem does this feature solve?\r\nMostly just a convenience.\r\nIt would allow the last example here: https://vuejs.org/v2/guide/components.html#Using-v-model-on-Components  \r\n...to work without losing the syntactic sugar of v-model.\r\n\r\nMakes it usable with props as well, which is one way `v-model` can trip you up sometimes (getting prop mutation warnings if `v-model`ing a prop).\r\n\r\n### What does the proposed API look like?\r\n`v-model.bubble=\"value\"`\r\n\r\nThis would result in \r\n```\r\nv-bind:value=\"value\"\r\nv-on:input=\"$emit('input', $event)\"\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11611","RelatedDescription":"Closed issue \".bubble modifier for v-model\" (#11611)"},{"Id":"685299344","IsPullRequest":true,"CreatedAt":"2020-08-25T08:52:34","Actor":"posva","Number":"11609","RawContent":null,"Title":"fix(ssr): avoid missing files in manifest","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [X] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [X] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n\r\n> Reproduction: https://github.com/LoveofRedMoon/vue-ts-ssr-demo.git\r\nwhen i run 'npm run build:win' (actually file `vue-ssr-client-manifest.json =&gt; modules =&gt; any` contains -1)\r\nthen 'ts-node serve/serve.ts',&nbsp; the serve starts.\r\nwhen visit any web (ex: localhost:8000), it will shows error 'Cannot read property 'replaceAll' of undefined'\r\n\r\n","Url":"https://github.com/vuejs/vue/pull/11609","RelatedDescription":"Open PR \"fix(ssr): avoid missing files in manifest\" (#11609)"},{"Id":"685159897","IsPullRequest":false,"CreatedAt":"2020-08-25T08:43:42","Actor":"akf","Number":"11607","RawContent":null,"Title":"Drag operation in layout with dynamically removed item fails with vue 2.6, but works with vue 2.5","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/akfarrell/jd698qkz/93/](https://jsfiddle.net/akfarrell/jd698qkz/93/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nThis is something that works with Vue 2.5, but not with Vue 2.6.11. So I've saved the jsfiddle example with a script tag for vue 2.5.22, and a commented-out tag for vue 2.6.11.  (I'm new to this, and probably there's a better way!) Please observe the desired functionality as it works with Vue 2.5: \r\nYou can drag any of the \"Item\" headings onto the dotted div below another \"Item\" heading, and the item is moved when you drop it. \r\n\r\nThen change the script tag to call in vue 2.6, and attempt the same thing. \r\n\r\n(This is a stripped-down version of something I was working on last year and had to shelve. The interface makes a lot more sense in context.)\r\n\r\n### What is expected?\r\nUser can drag headings in the example to drop targets, as in Vue 2.5\r\n\r\n### What is actually happening?\r\nDrag stops almost as soon as it starts when using Vue 2.6.\r\n\r\n---\r\nThis example uses a v-if clause to hide the item that's being moved when the user starts dragging it (v-if=\"item_id != $root.movingItemId\"). If I remove that clause, drag-and-drop works in vue 2.6. So something about removing that item is interfering with the drag operation.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11607","RelatedDescription":"Closed issue \"Drag operation in layout with dynamically removed item fails with vue 2.6, but works with vue 2.5\" (#11607)"},{"Id":"685194442","IsPullRequest":false,"CreatedAt":"2020-08-25T08:40:40","Actor":"anranstl","Number":"11608","RawContent":null,"Title":"Child component lost custom property when put component in a slot","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://github.com/anranstl/vue-slot-test](https://github.com/anranstl/vue-slot-test)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nPlease clone my repo first.\r\n\r\nSee, I have a LoginComponent and add \"newprop\" property to the first input element in LoginComponent, I can access \"newprop\" in the normal render case, but \"newprop\" lost when I put LoginComponent in slot. Not sure what happened.\r\n\r\n````ruby\r\n<div id=\"formC\">\r\n        <!--put logub-component into slot, then newprop lost -->\r\n        <form-component>\r\n            <div id=\"loginC\">\r\n                <login-component></login-component>\r\n            </div>\r\n        </form-component>\r\n        <br>\r\n        <!--I can get newprop in below typical use-->\r\n        <login-component></login-component>\r\n    </div>\r\n````\r\nPlease use npm install & npm start then open index.html to check my upper issue.\r\n\r\n### What is expected?\r\nChild component should keep all props defined in the $el.\r\n \r\n---\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11608","RelatedDescription":"Closed issue \"Child component lost custom property when put component in a slot\" (#11608)"},{"Id":"683197523","IsPullRequest":false,"CreatedAt":"2020-08-21T11:32:16","Actor":"gudepeng","Number":"11605","RawContent":null,"Title":"vue-template-compiler 2.6.12 vue packages version mismatch when build","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vue](https://github.com/vuejs/vue)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nnpm run build\r\n\r\n### What is expected?\r\nbuild success\r\n\r\n### What is actually happening?\r\n vue packages version mismatch when build\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11605","RelatedDescription":"Closed issue \"vue-template-compiler 2.6.12 vue packages version mismatch when build\" (#11605)"},{"Id":"683229891","IsPullRequest":false,"CreatedAt":"2020-08-21T03:27:49","Actor":"rizen","Number":"11606","RawContent":null,"Title":"Component replacement for th tag gets kicked outside the table.","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/aodew5t6/2/](https://jsfiddle.net/aodew5t6/2/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1) Create a custom component intended to replace a th tag.\r\n2) Use that component inside of a table.\r\n\r\n### What is expected?\r\nI'd expect to just be able to make a custom component that replaces a th tag so long as it results in a th tag.\r\n\r\n### What is actually happening?\r\nThe th tag is created, but somehow it is created above the table element.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11606","RelatedDescription":"Closed issue \"Component replacement for th tag gets kicked outside the table.\" (#11606)"},{"Id":"682602489","IsPullRequest":false,"CreatedAt":"2020-08-20T12:21:57","Actor":"Moncef12","Number":"11604","RawContent":null,"Title":"404 on google cache ","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://webcache.googleusercontent.com/search?q=cache:pPucmdMXMtEJ:https://runrepeat.com/catalog/black-adidas-running-shoes &cd=14&hl=en&ct=clnk&gl=us](https://webcache.googleusercontent.com/search?q=cache:pPucmdMXMtEJ:https://runrepeat.com/catalog/black-adidas-running-shoes &cd=14&hl=en&ct=clnk&gl=us)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1- Using server side rendered app (nuxt on top)\r\n2- Having route validation on a page.\r\n4- Visit: \r\nhttps://webcache.googleusercontent.com/search?q=cache:pPucmdMXMtEJ:https://runrepeat.com/catalog/black-adidas-running-shoes &cd=14&hl=en&ct=clnk&gl=us\r\n4- Or, simply save the page and open it using a browser. \r\n\r\n\r\n### What is expected?\r\nPage loads without 404 at the end.\r\n\r\n### What is actually happening?\r\nPage loads and then it fails with 404 not found error.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11604","RelatedDescription":"Closed issue \"404 on google cache \" (#11604)"}],"ResultType":"GitHubIssue"},"Router-Issues":{"Issues":[{"Id":"690481778","IsPullRequest":false,"CreatedAt":"2020-09-01T22:07:38","Actor":"brianpmaher","Number":"3308","RawContent":null,"Title":"vnode passed to directive missing data.on handlers for router-link","State":"open","Body":"### Version\r\n3.4.3\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/5fr2Luha/8/](https://jsfiddle.net/5fr2Luha/8/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Create a custom directive\r\n2. Use custom directive on router-link with tag button\r\n3. Note the vnode parameter passed to the directive bind hook\r\n\r\n### What is expected?\r\nsince an on.click handler is being added in vue-router to the element, I'd expect to see that when the directive is bound to the element.\r\n\r\n### What is actually happening?\r\nThere are no click events in the vnode passed to the directive bind event.\r\n\r\n---\r\nNot sure if this is an issue with vue router or vue, but figured I'd start here.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3308","RelatedDescription":"Open issue \"vnode passed to directive missing data.on handlers for router-link\" (#3308)"},{"Id":"680038715","IsPullRequest":true,"CreatedAt":"2020-08-31T13:32:22","Actor":"nightnei","Number":"3298","RawContent":null,"Title":"feat(history): Reset history.current when all apps are destroyed","State":"closed","Body":"This resolves #3294\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3298","RelatedDescription":"Closed or merged PR \"feat(history): Reset history.current when all apps are destroyed\" (#3298)"},{"Id":"678431464","IsPullRequest":false,"CreatedAt":"2020-08-31T13:32:22","Actor":"nightnei","Number":"3294","RawContent":null,"Title":"Reset history.current on destroy app","State":"closed","Body":"### Version\r\n3.3.4\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/NightNei/5bv7co0u/10/](https://jsfiddle.net/NightNei/5bv7co0u/10/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n**1)** Open \"Reproduction link\" -> OK - beforeResolve handler is run\r\n**2)** Click \"foo\" btn -> OK - beforeResolve handler is run\r\n**3)** Click \"home\" btn -> OK - beforeResolve handler is run\r\n**4)** Click \"destroy\" btn -> OK - app destroyed\r\n**5)** Click \"start\" btn -> FAIL - app started, but beforeResolve handler isn't run\r\n\r\n### What is expected?\r\n`beforeResolve` is always run on start app\r\n\r\n### What is actually happening?\r\n`beforeResolve` isn't run on restarting app\r\n\r\n---\r\nI am a maintainer of \"Isomorphic Layout Composer\" - Micro-frontends library( https://github.com/namecheap/ilc ).  \r\nAnd we have faced the problem of remounting Vue apps - when we render the same app second time, it will ignore running of `beforeHooks`.  \r\n\r\nSince on restart app `history.current.matched` contains last instance of route component so this condition: https://github.com/vuejs/vue-router/blob/dfc289202703319cf7beb38d03c9258c806c4d62/src/history/base.js#L159 returns `true` and `router.beforeHooks` are ignored.\r\nOn Destroy app we should reset `history.current` to default value(`START`).\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3294","RelatedDescription":"Closed issue \"Reset history.current on destroy app\" (#3294)"},{"Id":"688566174","IsPullRequest":false,"CreatedAt":"2020-08-29T17:28:20","Actor":"Mitch-i","Number":"3307","RawContent":null,"Title":"UnhandledPromiseRejectionWarning: Error: Redirected when going from \"/\" to \"/en\" via a navigation guard.","State":"closed","Body":"### Version\r\n3.4.3\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vue-hackernews-2.0](https://github.com/vuejs/vue-hackernews-2.0)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\ninstall last packages and webpack 4\r\n\r\n### What is expected?\r\nWhy in this code is wrote that it redirect only // next('/') or next({ path: '/' }) -> redirect \r\nif it redirect all next( something)?\r\nAnd I can't use it \r\n\r\n`\r\nrouter.beforeEach((to, from, next) => {\r\n  if (to.meta.auth && !store.getters.isLoggedIn) {\r\n    next({\r\n      path: '/login'\r\n    })\r\n  }\r\n  else {\r\n    next()\r\n  }\r\n`\r\n\r\nbecause get error always if next paramenter is present ('/home' or {name: 'home'} for example)\r\n\r\n\r\n`\r\n\r\n    } else if (\r\n          typeof to === 'string' ||\r\n          (typeof to === 'object' &&\r\n            (typeof to.path === 'string' || typeof to.name === 'string'))\r\n        ) {\r\n          // next('/') or next({ path: '/' }) -> redirect\r\n          abort(createNavigationRedirectedError(current, route));\r\n          if (typeof to === 'object' && to.replace) {\r\n            this$1.replace(to);\r\n          } else {\r\n            this$1.push(to);\r\n          }\r\n        } else {\r\n`\r\n\r\n### What is actually happening?\r\nerror\r\n\r\nUnhandledPromiseRejectionWarning: Error: Redirected when going from \"/\" to \"/en\" via a navigation guard.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3307","RelatedDescription":"Closed issue \"UnhandledPromiseRejectionWarning: Error: Redirected when going from \"/\" to \"/en\" via a navigation guard.\" (#3307)"},{"Id":"688372144","IsPullRequest":false,"CreatedAt":"2020-08-29T11:11:32","Actor":"Mikilll94","Number":"3306","RawContent":null,"Title":"Ability to set parent named view from child route","State":"closed","Body":"### What problem does this feature solve?\r\nI have the following router configuration:\r\n\r\n```vue\r\n{\r\n    path: '/home',\r\n    components: {\r\n        default: HomePage,\r\n        leftSidebar: DefaultLeftSidebar\r\n    },\r\n    children: [\r\n        {\r\n            path: 'emails',\r\n            component: UserEmailsSubscriptions\r\n        },\r\n        {\r\n            path: 'profile',\r\n            components: {\r\n                default: UserProfile,\r\n                leftSidebar: UserProfileLeftSidebar, // not possible\r\n            }\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nAs you can see, on route `/home` I use a named view for the left sidebar. I need to replace this sidebar with `UserProfileLeftSidebar` on `/home/profile` route. However, this not possible because `leftSidebar` named view is defined in the parent view.\r\n\r\nI think that this a pretty common use case that you have a navigation bar or sidebar that needs to be replaced or modified on some router paths.\r\n\r\nI would be very glad if someone could share a solution how to implement a dynamic sidebar or navigation bar using vue-router. \r\n\r\n### What does the proposed API look like?\r\nThe API could look like in the example above. However, it requires that every named view must have globally unique name.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3306","RelatedDescription":"Closed issue \"Ability to set parent named view from child route\" (#3306)"},{"Id":"686419438","IsPullRequest":false,"CreatedAt":"2020-08-26T15:53:46","Actor":"martinmckenna","Number":"3305","RawContent":null,"Title":"Prevent Component From Re-rendering when navigating from empty route to \"/\"","State":"closed","Body":"### What problem does this feature solve?\r\nThis solves a redundant re-render because your homepage component should be rendering on both `hello.com` and `hello.com/?query=hello`\r\n\r\n### What does the proposed API look like?\r\n`router.push({ name: from.name, query: { something: 'example' }})` should be smart enough to not re-render the component if the path hasn't changed\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3305","RelatedDescription":"Closed issue \"Prevent Component From Re-rendering when navigating from empty route to \"/\"\" (#3305)"},{"Id":"686136013","IsPullRequest":false,"CreatedAt":"2020-08-26T10:38:49","Actor":"Vanojx1","Number":"3304","RawContent":null,"Title":"Completely standalone routers on same Vue app","State":"closed","Body":"### What problem does this feature solve?\r\nIm implementing a Vue app that has a main column with his router and a sidebar with his own router too, the first router route depends on the current url and the sidebar router depends on an abstract history. Right now this cannot be done so i've forked the vue-router repo and implemented in my own way, you can find it here https://github.com/Vanojx1/vue-router. I hope that this feature will be implemented in the future as it may be very usefull.\r\n\r\n### What does the proposed API look like?\r\nHere an example of the implementation: \r\n\r\n```\r\nimport Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\n\r\nVue.use(VueRouter)\r\n\r\nconst Foo = { template: `<div class=\"foo\"><h1>foo</h1></div>` }\r\nconst Bar = {\r\n  template: `\r\n    <div class=\"bar\">\r\n      <h1>bar</h1>\r\n      <router-link standalone router-name=\"testRouter\" to=\"/buz\">TOBUZ</router-link>\r\n    </div>`\r\n}\r\nconst Buz = {\r\n  template: `\r\n    <div class=\"buz\">\r\n      <h1>buz</h1>\r\n      <router-link standalone router-name=\"testRouter\" to=\"/\">TOBAR</router-link>\r\n    </div>`\r\n}\r\n\r\nconst router = new VueRouter({\r\n  mode: 'history',\r\n  base: __dirname,\r\n  routes: [\r\n    { path: '/', component: Foo }\r\n  ]\r\n})\r\n\r\nconst testRouter = new VueRouter({\r\n  mode: 'abstract',\r\n  base: __dirname,\r\n  routes: [\r\n    { path: '/', component: Bar },\r\n    { path: '/buz', component: Buz }\r\n  ]\r\n})\r\n\r\nnew Vue({\r\n  router,\r\n  template: `\r\n    <div id=\"app\">\r\n      <router-view />\r\n      <router-view :standalone=\"$options.testRouter\" router-name=\"testRouter\" />\r\n    </div>\r\n  `,\r\n  testRouter\r\n}).$mount('#app')\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3304","RelatedDescription":"Closed issue \"Completely standalone routers on same Vue app\" (#3304)"},{"Id":"684025747","IsPullRequest":false,"CreatedAt":"2020-08-22T16:34:59","Actor":"DeepBlueSeaX","Number":"3303","RawContent":null,"Title":"Vue Router Promise doesn't wait for animation to be finished.","State":"closed","Body":"Pretty much title. The promise should wait until the animation is finished before resolving. It doesn't.","Url":"https://github.com/vuejs/vue-router/issues/3303","RelatedDescription":"Closed issue \"Vue Router Promise doesn't wait for animation to be finished.\" (#3303)"},{"Id":"683968237","IsPullRequest":false,"CreatedAt":"2020-08-22T09:49:28","Actor":"zxh742755443","Number":"3302","RawContent":null,"Title":"为什么要使用 `$parent` 获取父级 `_routerRoot`，而不直接使用 `$root` 直接获取根 `_routerRoot`?","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vue-router\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n我看了vue router install源码，产生一个疑问\r\n\r\n```\r\nVue.mixin({\r\n    beforeCreate () {\r\n      if (isDef(this.$options.router)) {\r\n        this._routerRoot = this\r\n        this._router = this.$options.router\r\n        this._router.init(this)\r\n        Vue.util.defineReactive(this, '_route', this._router.history.current)\r\n      } else {\r\n        this._routerRoot = (this.$parent && this.$parent._routerRoot) || this\r\n      }\r\n      registerInstance(this, this)\r\n    },\r\n    destroyed () {\r\n      registerInstance(this)\r\n    }\r\n  })\r\n```\r\n\r\n为什么要使用 `this._routerRoot = (this.$parent && this.$parent._routerRoot) || this`，而不使用 `this._routerRoot = this.$root` ?","Url":"https://github.com/vuejs/vue-router/issues/3302","RelatedDescription":"Closed issue \"为什么要使用 `$parent` 获取父级 `_routerRoot`，而不直接使用 `$root` 直接获取根 `_routerRoot`?\" (#3302)"},{"Id":"683838634","IsPullRequest":false,"CreatedAt":"2020-08-22T08:27:25","Actor":"puschie286","Number":"3301","RawContent":null,"Title":"error","State":"closed","Body":"### Version\r\n2.6.0\r\n\r\n### Reproduction link\r\n[https://github.com/puschie286/vueroutererror](https://github.com/puschie286/vueroutererror)\r\n\r\n### Steps to reproduce\r\nopen project\r\nyarn install\r\nnpm serve\r\n-> check console\r\n\r\n### What is expected?\r\nnamed views works\r\n\r\n### What is actually happening?\r\nnamed views throw error:\r\n[Vue warn]: Failed to mount component: template or render function not defined.\r\n\r\nPlease open a new issue with a reproduction hosted on GitHub or jsfiddle. Thank you\r\n\r\n_Originally posted by @posva in https://github.com/vuejs/vue-router/issues/3299#issuecomment-678514737_\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3301","RelatedDescription":"Closed issue \"error\" (#3301)"},{"Id":"683805780","IsPullRequest":false,"CreatedAt":"2020-08-21T21:18:21","Actor":"puschie286","Number":"3299","RawContent":null,"Title":"named views not working with webpack","State":"closed","Body":"### Version\r\n2.6.1\r\n\r\n### Reproduction link\r\n[https://drive.google.com/file/d/1xOYi2SfIJTo0g8lFFKlutuvUCxxJKWtz/view?usp=sharing](https://drive.google.com/file/d/1xOYi2SfIJTo0g8lFFKlutuvUCxxJKWtz/view?usp=sharing)\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nopen project\r\nyarn install\r\nnpm serve\r\n-> check console\r\n\r\n### What is expected?\r\nnamed views works\r\n\r\n### What is actually happening?\r\nnamed views throw error:\r\n[Vue warn]: Failed to mount component: template or render function not defined.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3299","RelatedDescription":"Closed issue \"named views not working with webpack\" (#3299)"},{"Id":"683824862","IsPullRequest":false,"CreatedAt":"2020-08-21T20:59:26","Actor":"tabimansour","Number":"3300","RawContent":null,"Title":"Vue route not working","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vue-router\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\nLocally on my windows laptop the whole application is working well. Once I uploaded it to my server CentOS, the Vue Router is not working. It gives me these errors:\r\n\r\n[Vue warn]: Unknown custom element: <router-link> - did you register the component correctly? For recursive components, make sure to provide the \"name\" option.\r\n\r\n(found in <Root>)\r\n\r\n[Vue warn]: Unknown custom element: <app> - did you register the component correctly? For recursive components, make sure to provide the \"name\" option.\r\n\r\n(found in <Root>)\r\n\r\nOn Detected Vue, I see only <Root>\r\nI've been searching the web for 2 days, and all results I saw have nothing to do with my problem.","Url":"https://github.com/vuejs/vue-router/issues/3300","RelatedDescription":"Closed issue \"Vue route not working\" (#3300)"},{"Id":"680028716","IsPullRequest":true,"CreatedAt":"2020-08-17T08:10:05","Actor":"nightnei","Number":"3297","RawContent":null,"Title":"fix: reset history.current on destroy app","State":"closed","Body":"This resolves #3294 \r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3297","RelatedDescription":"Closed or merged PR \"fix: reset history.current on destroy app\" (#3297)"},{"Id":"679964867","IsPullRequest":true,"CreatedAt":"2020-08-17T07:56:54","Actor":"nightnei","Number":"3296","RawContent":null,"Title":"fix: reset history.current on destroy app","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3296","RelatedDescription":"Closed or merged PR \"fix: reset history.current on destroy app\" (#3296)"},{"Id":"678811671","IsPullRequest":false,"CreatedAt":"2020-08-14T08:51:36","Actor":"douglasg14b","Number":"3295","RawContent":null,"Title":"[Feature Request] Refresh/Re-Navigate to current route to re-trigger route guards, data-fetching, and props assignments","State":"closed","Body":"### What problem does this feature solve?\r\nRouting setups that dynamically trigger data fetching during navigation guards, and assign that data to component props are very handy and clean to configure on a global level. However, if you are looking at data in a route/component, and that data needs to be replaced/reloaded, you are stuck in a difficult situation. Either you need to reload the entire page/app, navigate away and then back to the route, or setup overly complex logic to modify potentially deeply nested object properties in place (Which is largely unfeasible if you have to do this for hundreds of different routes...).\r\n\r\nThe solution? Simply reloading the current route as if it was being navigated to. This triggers all the route guards, triggers all the data fetching, triggers all the props assignments, and sets up the component(s) fresh as they need to be. \r\n\r\nBack in AngularJS days, this made completely refreshing a route and it's data beyond simple, as all the navigation triggers & guards have the logic to handle data getting & assignment. KISS in it's finest.\r\n\r\nHowever, it seems that vue router has no support for re-navigating/reloading the current route. It requires hacks or extensive workarounds, most of which directly impact user experience.\r\n\r\n### What does the proposed API look like?\r\nUnsure.\r\n\r\nThere has been a lot of misc discussions about this, for years, all of which have been shut down. Hopefully I clarified the problem space better than other requests...\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3295","RelatedDescription":"Closed issue \"[Feature Request] Refresh/Re-Navigate to current route to re-trigger route guards, data-fetching, and props assignments\" (#3295)"},{"Id":"677928552","IsPullRequest":false,"CreatedAt":"2020-08-13T11:42:34","Actor":"amjmhs","Number":"3293","RawContent":null,"Title":"Type definition does not contain enumeration for NavigationFailureType","State":"closed","Body":"### Version\r\n3.4.2\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/dmop5w9b/](https://jsfiddle.net/dmop5w9b/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nI want to check for navigation-errors of a certain type. So there is the new `VueRouter.isNavigationFailure` function which takes a type as second parameter. But because of the missing type definition for this type, I can not call this function without typescript-errors.\r\n\r\n```\r\nif (VueRouter.isNavigationFailure(err, VueRouter.NavigationFailureType.duplicated)) {\r\n ...\r\n}\r\n```\r\nTypescript error is: `Property 'duplicated' does not exist on type 'NavigationFailureTypeE'.ts(2339)`\r\n\r\nI provided a fiddle with the code, but did not get the errors there... Those errors just appear in VSCode.\r\n\r\n### What is expected?\r\nNo typescript errors\r\n\r\n### What is actually happening?\r\nTypescript errors\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3293","RelatedDescription":"Closed issue \"Type definition does not contain enumeration for NavigationFailureType\" (#3293)"},{"Id":"676485798","IsPullRequest":false,"CreatedAt":"2020-08-11T07:46:56","Actor":"stovberpv","Number":"3292","RawContent":null,"Title":"The \"mounted\" hook of the cached parent component is called a second time after the child component mounted in the nested router-view","State":"closed","Body":"### Version\r\n3.3.4\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/oribo](https://codesandbox.io/s/oribo)\r\n\r\n### Steps to reproduce\r\n1. Open console.\r\n2. Go to Parent.\r\n3. Go to ChildA.\r\n4. Go to ChildB.\r\n5. Go to ChildC.\r\n\r\n### What is expected?\r\n`keep-alive` Parent component mounted once.\r\n\r\n### What is actually happening?\r\nThe already mounted parent component mounted a second time after mounting the child component in the nested router-view.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3292","RelatedDescription":"Closed issue \"The \"mounted\" hook of the cached parent component is called a second time after the child component mounted in the nested router-view\" (#3292)"},{"Id":"675331439","IsPullRequest":true,"CreatedAt":"2020-08-10T14:02:51","Actor":"dependabot[bot]","Number":"3283","RawContent":null,"Title":"build(deps): bump prismjs from 1.17.1 to 1.21.0","State":"closed","Body":"Bumps [prismjs](https://github.com/PrismJS/prism) from 1.17.1 to 1.21.0.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/PrismJS/prism/releases\">prismjs's releases</a>.</em></p>\n<blockquote>\n<h2>v1.21.0</h2>\n<p>Release 1.21.0</p>\n<h2>v1.20.0</h2>\n<p>Release 1.20.0</p>\n<h2>v1.19.0</h2>\n<p>Release 1.19.0</p>\n<h2>v1.18.0</h2>\n<p>Release 1.18.0</p>\n</blockquote>\n</details>\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/PrismJS/prism/blob/master/CHANGELOG.md\">prismjs's changelog</a>.</em></p>\n<blockquote>\n<h2>1.21.0 (2020-08-06)</h2>\n<h3>New components</h3>\n<ul>\n<li><strong>.ignore</strong> &amp; <strong>.gitignore</strong> &amp; <strong>.hgignore</strong> &amp; <strong>.npmignore</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2481\">#2481</a>) <a href=\"https://github.com/PrismJS/prism/commit/3fcce6fe\"><code>3fcce6fe</code></a></li>\n<li><strong>Agda</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2430\">#2430</a>) <a href=\"https://github.com/PrismJS/prism/commit/3a127c7d\"><code>3a127c7d</code></a></li>\n<li><strong>AL</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2300\">#2300</a>) <a href=\"https://github.com/PrismJS/prism/commit/de21eb64\"><code>de21eb64</code></a></li>\n<li><strong>Cypher</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2459\">#2459</a>) <a href=\"https://github.com/PrismJS/prism/commit/398e2943\"><code>398e2943</code></a></li>\n<li><strong>Dhall</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2473\">#2473</a>) <a href=\"https://github.com/PrismJS/prism/commit/649e51e5\"><code>649e51e5</code></a></li>\n<li><strong>EditorConfig</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2471\">#2471</a>) <a href=\"https://github.com/PrismJS/prism/commit/ed8fff91\"><code>ed8fff91</code></a></li>\n<li><strong>HLSL</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2318\">#2318</a>) <a href=\"https://github.com/PrismJS/prism/commit/87a5c7ae\"><code>87a5c7ae</code></a></li>\n<li><strong>JS stack trace</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2418\">#2418</a>) <a href=\"https://github.com/PrismJS/prism/commit/ae0327b3\"><code>ae0327b3</code></a></li>\n<li><strong>PeopleCode</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2302\">#2302</a>) <a href=\"https://github.com/PrismJS/prism/commit/bd4d8165\"><code>bd4d8165</code></a></li>\n<li><strong>PureBasic</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2369\">#2369</a>) <a href=\"https://github.com/PrismJS/prism/commit/d0c1c70d\"><code>d0c1c70d</code></a></li>\n<li><strong>Racket</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2315\">#2315</a>) <a href=\"https://github.com/PrismJS/prism/commit/053016ef\"><code>053016ef</code></a></li>\n<li><strong>Smali</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2419\">#2419</a>) <a href=\"https://github.com/PrismJS/prism/commit/22eb5cad\"><code>22eb5cad</code></a></li>\n<li><strong>Structured Text (IEC 61131-3)</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2311\">#2311</a>) <a href=\"https://github.com/PrismJS/prism/commit/8704cdfb\"><code>8704cdfb</code></a></li>\n<li><strong>UnrealScript</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2305\">#2305</a>) <a href=\"https://github.com/PrismJS/prism/commit/1093ceb3\"><code>1093ceb3</code></a></li>\n<li><strong>WarpScript</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2307\">#2307</a>) <a href=\"https://github.com/PrismJS/prism/commit/cde5b0fa\"><code>cde5b0fa</code></a></li>\n<li><strong>XML doc (.net)</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2340\">#2340</a>) <a href=\"https://github.com/PrismJS/prism/commit/caec5e30\"><code>caec5e30</code></a></li>\n<li><strong>YANG</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2467\">#2467</a>) <a href=\"https://github.com/PrismJS/prism/commit/ed1df1e1\"><code>ed1df1e1</code></a></li>\n</ul>\n<h3>Updated components</h3>\n<ul>\n<li>Markup &amp; JSON: Added new aliases (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2390\">#2390</a>) <a href=\"https://github.com/PrismJS/prism/commit/9782cfe6\"><code>9782cfe6</code></a></li>\n<li>Fixed several cases of exponential backtracking (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2268\">#2268</a>) <a href=\"https://github.com/PrismJS/prism/commit/7a554b5f\"><code>7a554b5f</code></a></li>\n<li><strong>APL</strong>\n<ul>\n<li>Added <code>⍥</code> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2409\">#2409</a>) <a href=\"https://github.com/PrismJS/prism/commit/0255cb6a\"><code>0255cb6a</code></a></li>\n</ul>\n</li>\n<li><strong>AutoHotkey</strong>\n<ul>\n<li>Added missing <code>format</code> built-in (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2450\">#2450</a>) <a href=\"https://github.com/PrismJS/prism/commit/7c66cfc4\"><code>7c66cfc4</code></a></li>\n<li>Improved comments and other improvements (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2412\">#2412</a>) <a href=\"https://github.com/PrismJS/prism/commit/ddf3cc62\"><code>ddf3cc62</code></a></li>\n<li>Added missing definitions (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2400\">#2400</a>) <a href=\"https://github.com/PrismJS/prism/commit/4fe03676\"><code>4fe03676</code></a></li>\n</ul>\n</li>\n<li><strong>Bash</strong>\n<ul>\n<li>Added <code>composer</code> command (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2298\">#2298</a>) <a href=\"https://github.com/PrismJS/prism/commit/044dd271\"><code>044dd271</code></a></li>\n</ul>\n</li>\n<li><strong>Batch</strong>\n<ul>\n<li>Fix escaped double quote (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2485\">#2485</a>) <a href=\"https://github.com/PrismJS/prism/commit/f0f8210c\"><code>f0f8210c</code></a></li>\n</ul>\n</li>\n<li><strong>C</strong>\n<ul>\n<li>Improved macros and expressions (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2440\">#2440</a>) <a href=\"https://github.com/PrismJS/prism/commit/8a72fa6f\"><code>8a72fa6f</code></a></li>\n<li>Improved macros (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2320\">#2320</a>) <a href=\"https://github.com/PrismJS/prism/commit/fdcf7ed2\"><code>fdcf7ed2</code></a></li>\n</ul>\n</li>\n<li><strong>C#</strong>\n<ul>\n<li>Improved pattern matching (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2411\">#2411</a>) <a href=\"https://github.com/PrismJS/prism/commit/7f341fc1\"><code>7f341fc1</code></a></li>\n<li>Fixed adjacent string interpolations (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2402\">#2402</a>) <a href=\"https://github.com/PrismJS/prism/commit/2a2e79ed\"><code>2a2e79ed</code></a></li>\n</ul>\n</li>\n<li><strong>C++</strong>\n<ul>\n<li>Added support for default comparison operator (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2426\">#2426</a>) <a href=\"https://github.com/PrismJS/prism/commit/8e9d161c\"><code>8e9d161c</code></a></li>\n<li>Improved class name detection (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2348\">#2348</a>) <a href=\"https://github.com/PrismJS/prism/commit/e3fe9040\"><code>e3fe9040</code></a></li>\n<li>Fixed <code>enum class</code> class names (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2342\">#2342</a>) <a href=\"https://github.com/PrismJS/prism/commit/30b4e254\"><code>30b4e254</code></a></li>\n</ul>\n</li>\n<li><strong>Content-Security-Policy</strong>\n<ul>\n<li>Fixed directives (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2461\">#2461</a>) <a href=\"https://github.com/PrismJS/prism/commit/537a9e80\"><code>537a9e80</code></a></li>\n</ul>\n</li>\n<li><strong>CSS</strong>\n<ul>\n<li>Improved url and added keywords (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2432\">#2432</a>) <a href=\"https://github.com/PrismJS/prism/commit/964de5a1\"><code>964de5a1</code></a></li>\n</ul>\n</li>\n</ul>\n<!-- raw HTML omitted -->\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/PrismJS/prism/commit/187c8a607ee70c7914682870156faa31ed01f001\"><code>187c8a6</code></a> 1.21.0</li>\n<li><a href=\"https://github.com/PrismJS/prism/commit/bf4f323391d546d4b2e1a388f05c512a27491e9c\"><code>bf4f323</code></a> Changelog for v1.21.0 (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2507\">#2507</a>)</li>\n<li><a href=\"https://github.com/PrismJS/prism/commit/8bba4880202ef6bd7a1e379fe9aebe69dd75f7be\"><code>8bba488</code></a> Previewers: Fixed XSS (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2506\">#2506</a>)</li>\n<li><a href=\"https://github.com/PrismJS/prism/commit/158caf52343e59a66c2351ff1d83648efe871e33\"><code>158caf5</code></a> JSON: Greedy comments (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2479\">#2479</a>)</li>\n<li><a href=\"https://github.com/PrismJS/prism/commit/f0f8210c1a9745c064d49bfb985544c654986b24\"><code>f0f8210</code></a> Batch: Fix escaped double quote (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2485\">#2485</a>)</li>\n<li><a href=\"https://github.com/PrismJS/prism/commit/649e51e56250a81dc0b0c4f5b3a4ea23e1c21834\"><code>649e51e</code></a> Added support for Dhall (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2473\">#2473</a>)</li>\n<li><a href=\"https://github.com/PrismJS/prism/commit/453079bf96746e0c44f90cb7cd90fcae9a5f94cc\"><code>453079b</code></a> Line Numbers: Fixed class name on website</li>\n<li><a href=\"https://github.com/PrismJS/prism/commit/a0efa40bde420ac3923947be611ebe6b3f077dce\"><code>a0efa40</code></a> Fixed Treeview page (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2484\">#2484</a>)</li>\n<li><a href=\"https://github.com/PrismJS/prism/commit/78161d607fe7d493831ff19759aac951330134a1\"><code>78161d6</code></a> VB: Added VBA alias (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2469\">#2469</a>)</li>\n<li><a href=\"https://github.com/PrismJS/prism/commit/ed1df1e1208401a8b84330ecc39689fa37d0e9f6\"><code>ed1df1e</code></a> Added support for YANG (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2467\">#2467</a>)</li>\n<li>Additional commits viewable in <a href=\"https://github.com/PrismJS/prism/compare/v1.17.1...v1.21.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=prismjs&package-manager=npm_and_yarn&previous-version=1.17.1&new-version=1.21.0)](https://help.github.com/articles/configuring-automated-security-fixes)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language\n- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language\n- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language\n- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language\n\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/vuejs/vue-router/network/alerts).\n\n</details>","Url":"https://github.com/vuejs/vue-router/pull/3283","RelatedDescription":"Closed or merged PR \"build(deps): bump prismjs from 1.17.1 to 1.21.0\" (#3283)"},{"Id":"675831631","IsPullRequest":false,"CreatedAt":"2020-08-10T14:00:39","Actor":"Flowm","Number":"3289","RawContent":null,"Title":"Pushing params without path broken in 3.4.2","State":"closed","Body":"### Version\r\n3.4.2\r\n\r\n### Reproduction link\r\n[https://codepen.io/flowm/pen/xxVGYZq?editors=1011](https://codepen.io/flowm/pen/xxVGYZq?editors=1011)\r\n\r\n### Steps to reproduce\r\nAfter updating vue-router from 3.4.1 to 3.4.2 a `router.push()` with only query params causes navigation to an empty path.\r\n\r\nClicking the \"Push query\" in the codepen triggers such a call which results in the root component to stop being rendered.\r\n\r\n### What is expected?\r\nThe path query params should be updated.\r\n\r\n### What is actually happening?\r\nThe path query params are updated, but the router also navigates to an empty path causing router-view to be empty after the call.\r\n\r\n---\r\nIssue seems to be caused by the different code path taken for query param updates after 4fbaa9f7880276e661227442ef5923131a589210. Reverting this commit restores the old behaviour that allows `router.push()` with only query params.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3289","RelatedDescription":"Closed issue \"Pushing params without path broken in 3.4.2\" (#3289)"},{"Id":"675912695","IsPullRequest":false,"CreatedAt":"2020-08-10T13:15:45","Actor":"XiaopingHu","Number":"3291","RawContent":null,"Title":"Add index property to history state","State":"closed","Body":"### What problem does this feature solve?\r\nIn browse, we can not judge whether it back or forward by history state, because the state only have key property and the key value just is a time string.\r\nif we add index property to state, we can judge.\r\n\r\n\r\n\r\n### What does the proposed API look like?\r\n```javascript\r\nlet index = 0\r\n\r\nfunction genStateIndex() {\r\n  return index  ;\r\n}\r\n\r\nfunction getStateIndex() {\r\n  return index\r\n}\r\n\r\n//in push-state.js\r\nif (replace) {\r\n  // preserve existing history state as it could be overriden by the user\r\n  const stateCopy = extend({}, history.state)\r\n  stateCopy.key = getStateKey()\r\n  //add follow codes\r\n  stateCopy.index = getStateIndex()\r\n  \r\n  history.replaceState(stateCopy, '', url)\r\n} else {\r\n  history.pushState({\r\n    key: setStateKey(genStateKey()),\r\n    //add\r\n    index: genStateIndex()\r\n  }, '', url)\r\n}\r\n```\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3291","RelatedDescription":"Closed issue \"Add index property to history state\" (#3291)"},{"Id":"675898824","IsPullRequest":false,"CreatedAt":"2020-08-10T06:23:39","Actor":"XiaopingHu","Number":"3290","RawContent":null,"Title":"why not add index property to the history state?","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vue-router\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\nIn browse, we can not judge whether it back or forward by history state, because the state only have key property and the key value just is a time string.\r\nif we add index property to state, we can judge.","Url":"https://github.com/vuejs/vue-router/issues/3290","RelatedDescription":"Closed issue \"why not add index property to the history state?\" (#3290)"},{"Id":"675607719","IsPullRequest":true,"CreatedAt":"2020-08-09T00:04:23","Actor":"afwn90cj93201nixr2e1re","Number":"3288","RawContent":null,"Title":"[3.x] Implement onAbort especially for legacy 3.4.2 (3.x branch) without changing logic on 4.x branches","State":"open","Body":"Read first comment","Url":"https://github.com/vuejs/vue-router/pull/3288","RelatedDescription":"Open PR \"[3.x] Implement onAbort especially for legacy 3.4.2 (3.x branch) without changing logic on 4.x branches\" (#3288)"},{"Id":"675581307","IsPullRequest":true,"CreatedAt":"2020-08-08T21:23:20","Actor":"afwn90cj93201nixr2e1re","Number":"3287","RawContent":null,"Title":"Make sure global onError called on abortation. Example provided. (repo)","State":"closed","Body":"","Url":"https://github.com/vuejs/vue-router/pull/3287","RelatedDescription":"Closed or merged PR \"Make sure global onError called on abortation. Example provided. (repo)\" (#3287)"},{"Id":"675560257","IsPullRequest":false,"CreatedAt":"2020-08-08T17:53:50","Actor":"afwn90cj93201nixr2e1re","Number":"3286","RawContent":null,"Title":"There's no way to global handle for onAbort in vue router (Check onError). Implement global onAbort router lifecycle hook.","State":"closed","Body":"\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3286","RelatedDescription":"Closed issue \"There's no way to global handle for onAbort in vue router (Check onError). Implement global onAbort router lifecycle hook.\" (#3286)"},{"Id":"675509588","IsPullRequest":true,"CreatedAt":"2020-08-08T12:23:15","Actor":"Alex-Sokolov","Number":"3285","RawContent":null,"Title":"docs: [RU] Translation update","State":"closed","Body":"navigation-failures.md added & translated","Url":"https://github.com/vuejs/vue-router/pull/3285","RelatedDescription":"Closed or merged PR \"docs: [RU] Translation update\" (#3285)"},{"Id":"675425823","IsPullRequest":false,"CreatedAt":"2020-08-08T04:25:01","Actor":"Rpeanut","Number":"3284","RawContent":null,"Title":"How to distinguish between push and replace in router.before","State":"closed","Body":"in global router lifecycle，i want to add some common query, but i can't distinguish it cause by push or replace\r\n","Url":"https://github.com/vuejs/vue-router/issues/3284","RelatedDescription":"Closed issue \"How to distinguish between push and replace in router.before\" (#3284)"},{"Id":"674856665","IsPullRequest":false,"CreatedAt":"2020-08-07T09:10:37","Actor":"cymProg","Number":"3282","RawContent":null,"Title":"Object value in router query now become string","State":"closed","Body":"### Version\r\n3.4.1\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/cympopcorn/0e8psq2x/4/](https://jsfiddle.net/cympopcorn/0e8psq2x/4/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Click the 'a' link\r\n1. Click 'pushQuery'  button\r\n1. Check the 'Console'\r\n\r\n### What is expected?\r\n\"update\", {\r\n  text: 2,\r\n  value: 1\r\n}\r\n\r\n### What is actually happening?\r\n\"update\", \"[object Object]\"\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3282","RelatedDescription":"Closed issue \"Object value in router query now become string\" (#3282)"},{"Id":"674847317","IsPullRequest":false,"CreatedAt":"2020-08-07T08:16:49","Actor":"cymProg","Number":"3281","RawContent":null,"Title":"Object value in router query now become string","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vue-router\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n\r\n**Version**\r\n3.4.1\r\n\r\n**Steps to reproduce**\r\nobject = {text:'abc',value:123}\r\nCall $router.push({path: '/', query: {scan_code_map: object}})\r\n\r\n**What is expected?**\r\ncode_map=this.$route.query.scan_code_map\r\nThe 'code_map.text' should get the value 'abc'\r\n\r\n**What is actually happening?**\r\nThe object is string type.\r\n","Url":"https://github.com/vuejs/vue-router/issues/3281","RelatedDescription":"Closed issue \"Object value in router query now become string\" (#3281)"},{"Id":"674832089","IsPullRequest":false,"CreatedAt":"2020-08-07T07:52:23","Actor":"MMhui","Number":"3280","RawContent":null,"Title":"beforeRouter遇到confirm再next的问题","State":"closed","Body":"### Version\r\n3.0.6\r\n\r\n### Reproduction link\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n情景一：\r\n```\r\nbeforeRouteLeave (to, from, next) {\r\n  const answer = window.confirm('Do you really want to leave? you have unsaved changes!')\r\n  if (answer) {\r\n    next()\r\n  } else {\r\n    next(false)\r\n  }\r\n}\r\n```\r\n\r\n连续多次触发物理返回键的时候，history会改变，最终显示的页面依旧是当前页面，但是接下来如果next()的话跳的不是上一页。\r\n\r\n情景二：\r\n```\r\nbeforeRouteLeave (to, from, next) {\r\n  next(false)\r\n  const answer = window.confirm('Do you really want to leave? you have unsaved changes!')\r\n  if (answer) {\r\n    next()\r\n  } else {\r\n    next(false)\r\n  }\r\n}\r\n```\r\n这种写法可以解决上面情景一的问题，但是会导致上一个页面需要返回两次，上一页第一次触发物理返回键的时候没有任何反应，第二次才能真正的返回。\r\n\r\n\r\n### What is expected?\r\nbeforeRouterLeave中如何使用异步函数判断next，并且还不影响到history\r\n\r\n### What is actually happening?\r\nnext不能卸载异步函数中，会有不好的事情发生\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3280","RelatedDescription":"Closed issue \"beforeRouter遇到confirm再next的问题\" (#3280)"},{"Id":"674815293","IsPullRequest":false,"CreatedAt":"2020-08-07T07:14:54","Actor":"MMhui","Number":"3279","RawContent":null,"Title":"beforeRouter遇到confirm再next的问题","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vue-router\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n首页\r\n⬇\r\n⬇\r\n页面A\r\n```\r\nbeforeRouterLeave (to, from, next) {\r\n  if (数据有变化) {\r\n    confirm({}).then(() => {\r\n      next(true)\r\n   }).catch(() => {\r\n     next(false)\r\n   })\r\n  } else {\r\n    next()\r\n  }\r\n}\r\n```\r\n在这种情况下，如果页面A是next(false)的情况下，连续多次点击物理返回键，浏览器地址是在判断next之前就已经变换了地址了（已经后退了很多步），目前依然退不出去还是显示当前页面（这种情况是正确的），但是如果这次直接触发next(true)，页面就跳到后面很多页之后了；\r\n\r\n如果在confirm之前就先next(false)的话物理返回键是可以暂时屏蔽掉，但是如果触发真实返回的时候上一页的再返回需要点两次，第一次什么也不触发，第二次才真正的触发返回。\r\n\r\n有什么好办法解决这个next放在异步函数中的问题吗？","Url":"https://github.com/vuejs/vue-router/issues/3279","RelatedDescription":"Closed issue \"beforeRouter遇到confirm再next的问题\" (#3279)"}],"ResultType":"GitHubIssue"},"Vuex-Issues":{"Issues":[{"Id":"658624828","IsPullRequest":true,"CreatedAt":"2020-08-31T12:21:04","Actor":"dependabot[bot]","Number":"1798","RawContent":null,"Title":"build(deps): bump lodash from 4.17.15 to 4.17.19","State":"closed","Body":"[//]: # (dependabot-start)\n⚠️  **Dependabot is rebasing this PR** ⚠️ \n\nIf you make any changes to it yourself then they will take precedence over the rebase.\n\n---\n\n[//]: # (dependabot-end)\n\nBumps [lodash](https://github.com/lodash/lodash) from 4.17.15 to 4.17.19.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/lodash/lodash/releases\">lodash's releases</a>.</em></p>\n<blockquote>\n<h2>4.17.16</h2>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/lodash/lodash/commit/d7fbc52ee0466a6d248f047b5d5c3e6d1e099056\"><code>d7fbc52</code></a> Bump to v4.17.19</li>\n<li><a href=\"https://github.com/lodash/lodash/commit/2e1c0f22f425e9c013815b2cd7c2ebd51f49a8d6\"><code>2e1c0f2</code></a> Add npm-package</li>\n<li><a href=\"https://github.com/lodash/lodash/commit/1b6c282299f4e0271f932b466c67f0f822aa308e\"><code>1b6c282</code></a> Bump to v4.17.18</li>\n<li><a href=\"https://github.com/lodash/lodash/commit/a370ac81408de2da77a82b3c4b61a01a3b9c2fac\"><code>a370ac8</code></a> Bump to v4.17.17</li>\n<li><a href=\"https://github.com/lodash/lodash/commit/1144918f3578a84fcc4986da9b806e63a6175cbb\"><code>1144918</code></a> Rebuild lodash and docs</li>\n<li><a href=\"https://github.com/lodash/lodash/commit/3a3b0fd339c2109563f7e8167dc95265ed82ef3e\"><code>3a3b0fd</code></a> Bump to v4.17.16</li>\n<li><a href=\"https://github.com/lodash/lodash/commit/c84fe82760fb2d3e03a63379b297a1cc1a2fce12\"><code>c84fe82</code></a> fix(zipObjectDeep): prototype pollution (<a href=\"https://github-redirect.dependabot.com/lodash/lodash/issues/4759\">#4759</a>)</li>\n<li><a href=\"https://github.com/lodash/lodash/commit/e7b28ea6cb17b4ca021e7c9d66218c8c89782f32\"><code>e7b28ea</code></a> Sanitize sourceURL so it cannot affect evaled code (<a href=\"https://github-redirect.dependabot.com/lodash/lodash/issues/4518\">#4518</a>)</li>\n<li><a href=\"https://github.com/lodash/lodash/commit/0cec225778d4ac26c2bac95031ecc92a94f08bbb\"><code>0cec225</code></a> Fix lodash.isEqual for circular references (<a href=\"https://github-redirect.dependabot.com/lodash/lodash/issues/4320\">#4320</a>) (<a href=\"https://github-redirect.dependabot.com/lodash/lodash/issues/4515\">#4515</a>)</li>\n<li><a href=\"https://github.com/lodash/lodash/commit/94c3a8133cb4fcdb50db72b4fd14dd884b195cd5\"><code>94c3a81</code></a> Document matches* shorthands for over* methods (<a href=\"https://github-redirect.dependabot.com/lodash/lodash/issues/4510\">#4510</a>) (<a href=\"https://github-redirect.dependabot.com/lodash/lodash/issues/4514\">#4514</a>)</li>\n<li>Additional commits viewable in <a href=\"https://github.com/lodash/lodash/compare/4.17.15...4.17.19\">compare view</a></li>\n</ul>\n</details>\n<details>\n<summary>Maintainer changes</summary>\n<p>This version was pushed to npm by <a href=\"https://www.npmjs.com/~mathias\">mathias</a>, a new releaser for lodash since your current version.</p>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=lodash&package-manager=npm_and_yarn&previous-version=4.17.15&new-version=4.17.19)](https://help.github.com/articles/configuring-automated-security-fixes)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language\n- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language\n- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language\n- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language\n\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/vuejs/vuex/network/alerts).\n\n</details>","Url":"https://github.com/vuejs/vuex/pull/1798","RelatedDescription":"Closed or merged PR \"build(deps): bump lodash from 4.17.15 to 4.17.19\" (#1798)"},{"Id":"667583697","IsPullRequest":true,"CreatedAt":"2020-08-31T12:20:20","Actor":"kiaking","Number":"1804","RawContent":null,"Title":"docs: upgrade VuePress to the latest version","State":"closed","Body":"This PR upgrades VuePress to the latest version. Because of the sidebar styling difference from the current VuePress version, I've added 2 new top level sidebar title, \"Introduction\" and \"Advanced\". I hope it makes content structure a bit more organized as well.\r\n\r\nCurrently I'm gathering translations for the 2 new titles. Once it's done, we can merge this one.","Url":"https://github.com/vuejs/vuex/pull/1804","RelatedDescription":"Closed or merged PR \"docs: upgrade VuePress to the latest version\" (#1804)"},{"Id":"688861213","IsPullRequest":false,"CreatedAt":"2020-08-31T09:47:50","Actor":"Fuzzyma","Number":"1822","RawContent":null,"Title":"mapGetters use \"this\" in unbound function definition","State":"closed","Body":"### Version\r\n4.0.0-beta.4\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vuex/blob/83bc26fe55417692f386db9b76634eb58794282e/src/helpers.js#L81](https://github.com/vuejs/vuex/blob/83bc26fe55417692f386db9b76634eb58794282e/src/helpers.js#L81)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nThe code uses `this` in the specified line and in next lines in a classic function definition and is therefore not what is expected here.\r\n\r\n\r\n### What is expected?\r\nGood question. An arrow function does not solve the problem since the function in a whole is unbound. However, it would atleast enable us to use `mapGetters.call(ctc.root.$store, ...)` in the setup function. Atm it doesnt work at all\r\n\r\n### What is actually happening?\r\nAn error is thrown because `this.$store` is undefined\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1822","RelatedDescription":"Closed issue \"mapGetters use \"this\" in unbound function definition\" (#1822)"},{"Id":"688874791","IsPullRequest":false,"CreatedAt":"2020-08-31T03:44:38","Actor":"Fuzzyma","Number":"1823","RawContent":null,"Title":"Getters are re-evaluated on every access","State":"open","Body":"### Version\r\n4.0.0-beta.4\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/hopeful-sanne-kv7r2?file=/src/main.js](https://codesandbox.io/s/hopeful-sanne-kv7r2?file=/src/main.js)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nOpen the link and open your console to see \"recomputed getter\" every second\r\n\r\n### What is expected?\r\n\"recomputed getter\" should print once and never again\r\n\r\n### What is actually happening?\r\nIt prints every second\r\n\r\n---\r\nIn vuex 3 getters were cached. Isn't that a thing anymore?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1823","RelatedDescription":"Open issue \"Getters are re-evaluated on every access\" (#1823)"},{"Id":"687167732","IsPullRequest":true,"CreatedAt":"2020-08-28T12:11:04","Actor":"spekulatius","Number":"1821","RawContent":null,"Title":"docs(en+ptbr): fix broken link","State":"closed","Body":"Hey @kiaking \r\n\r\nsuper small fix of a broken link in the docs (found one in ptbr while searching for the broken one and fixed it too).\r\n\r\nCheers,\r\nPeter","Url":"https://github.com/vuejs/vuex/pull/1821","RelatedDescription":"Closed or merged PR \"docs(en+ptbr): fix broken link\" (#1821)"},{"Id":"687145083","IsPullRequest":false,"CreatedAt":"2020-08-28T12:08:09","Actor":"lil5","Number":"1820","RawContent":null,"Title":"Move project to typescript (not just add a definition file)","State":"closed","Body":"### What problem does this feature solve?\r\nAny overlooked type errors in the current project\r\n\r\nThe internet is full of reasons to move to typescript.\r\n\r\n### What does the proposed API look like?\r\nMoving all *.js files to *.ts\r\nAnd adding a tsconfig.json file to build the js files\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1820","RelatedDescription":"Closed issue \"Move project to typescript (not just add a definition file)\" (#1820)"},{"Id":"680281794","IsPullRequest":true,"CreatedAt":"2020-08-28T12:04:18","Actor":"23subbhashit","Number":"1818","RawContent":null,"Title":"small grammer  mistake","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1818","RelatedDescription":"Closed or merged PR \"small grammer  mistake\" (#1818)"},{"Id":"677571670","IsPullRequest":true,"CreatedAt":"2020-08-28T11:58:28","Actor":"jivthesh","Number":"1814","RawContent":null,"Title":"added code of conduct to project","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1814","RelatedDescription":"Closed or merged PR \"added code of conduct to project\" (#1814)"},{"Id":"679632890","IsPullRequest":false,"CreatedAt":"2020-08-23T10:24:44","Actor":"xiaoyongchen","Number":"1816","RawContent":null,"Title":"vue3.0 添加了vuex插件，在组件中能拿到store中的值，但是不能更新state中的值","State":"closed","Body":"### Version\r\n4.0.0-beta.4\r\n\r\n### Reproduction link\r\n[https://baidu.com](https://baidu.com)\r\n\r\n没有上传所以写了一个\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1.createApp(App).use(store) .use(router).mount(\"#app\");\r\n2.const  {ctx} : any = getCurrentInstance();\r\n            const state = reactive({\r\n                searchValue: '11',\r\n                token: ctx.$store.state.token\r\n            });\r\n3.const userLogin = (payload: string) => {\r\n                ctx.$store.dispatch('userLogin', payload);\r\n            };\r\n\r\n### What is expected?\r\nToken can be updated\r\n\r\n\r\n\r\n### What is actually happening?\r\nToken cannot be updated\r\n\r\n\r\n\r\n\r\n---\r\n<template>\r\n    <div class=\"hello\">\r\n        <h1>{{ msg }}</h1>\r\n        <div class=\"title\">18</div>\r\n        <div>{{token}}</div>\r\n        <div>new:{{token}}</div>\r\n        <input v-model=\"searchValue\">\r\n        <van-button @click=\"userLogin('新的token')\">切换登录</van-button>\r\n        <p v-text=\"searchValue\"></p>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n    import {defineComponent, getCurrentInstance, reactive, toRefs, watch} from \"vue\";\r\n\r\n    export default defineComponent({\r\n        name: \"HelloWorld\",\r\n        props: {\r\n            msg: String\r\n        },\r\n        setup(props) {\r\n            const  {ctx} : any = getCurrentInstance();\r\n            const state = reactive({\r\n                searchValue: '11',\r\n                token: ctx.$store.state.token\r\n            });\r\n\r\n            const userLogin = (payload: string) => {\r\n                ctx.$store.dispatch('userLogin', payload);\r\n            };\r\n            return {\r\n                userLogin,\r\n                ...toRefs(state),\r\n            };\r\n        },\r\n    });\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped lang=\"scss\">\r\n    .title {\r\n        font-size: 18px;\r\n    }\r\n\r\n    h3 {\r\n        margin: 40px 0 0;\r\n    }\r\n\r\n    ul {\r\n        list-style-type: none;\r\n        padding: 0;\r\n    }\r\n\r\n    li {\r\n        display: inline-block;\r\n        margin: 0 10px;\r\n    }\r\n\r\n    a {\r\n        color: #42b983;\r\n    }\r\n</style>\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1816","RelatedDescription":"Closed issue \"vue3.0 添加了vuex插件，在组件中能拿到store中的值，但是不能更新state中的值\" (#1816)"},{"Id":"682650278","IsPullRequest":true,"CreatedAt":"2020-08-20T11:48:19","Actor":"Amikawayon","Number":"1819","RawContent":null,"Title":"Update shop.js","State":"open","Body":"cb products arg","Url":"https://github.com/vuejs/vuex/pull/1819","RelatedDescription":"Open PR \"Update shop.js\" (#1819)"},{"Id":"679690404","IsPullRequest":true,"CreatedAt":"2020-08-16T06:26:02","Actor":"jamiedishy","Number":"1817","RawContent":null,"Title":"docs(typo): fix punctuation","State":"closed","Body":"The period should be inside the quotations, not outside the quotations. ","Url":"https://github.com/vuejs/vuex/pull/1817","RelatedDescription":"Closed or merged PR \"docs(typo): fix punctuation\" (#1817)"},{"Id":"679121085","IsPullRequest":false,"CreatedAt":"2020-08-14T12:22:12","Actor":"jappyjan","Number":"1815","RawContent":null,"Title":"dispatch not returning a promise (?)","State":"open","Body":"### Version\r\n3.5.1\r\n\r\n### Reproduction link\r\n[https://sentry.io/share/issue/a2b85fb22b50486db8dc0eaa197a8679/](https://sentry.io/share/issue/a2b85fb22b50486db8dc0eaa197a8679/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\ndispatch an action\r\n\r\n### What is expected?\r\nthe action should return a Promise with catch, then and finally props.\r\n\r\n### What is actually happening?\r\ncalling .finally on the promise ends in an erorr being thrown with the message \"finally is not a function\"\r\n\r\n---\r\nsentry caught the error in this piece of code:\r\n\r\ndispatch('action-name', args).finally(() => state.someValue = false)\r\n\r\nthe caught error message is \"r(...).finally is not a function\" while r is the minified name of dispatch\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1815","RelatedDescription":"Open issue \"dispatch not returning a promise (?)\" (#1815)"},{"Id":"677011922","IsPullRequest":false,"CreatedAt":"2020-08-11T16:17:50","Actor":"bitquality","Number":"1813","RawContent":null,"Title":"vuex mapstate shows only the latest new value","State":"open","Body":"### Version\r\n4.0.0-beta.4\r\n\r\n### Reproduction link\r\n[https://new-issue.vuejs.org/?repo=vuejs/vuex](https://new-issue.vuejs.org/?repo=vuejs/vuex)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nI have a mapstate which i am using to map vuex store changes for a particular variable 'newmessage' state change.following is the code for the same.\r\n\r\n\t\t\t\t computed: mapState('myStore1', {\r\n\t\t\t\t\tnewMessageReceived: state => state['newmessage'],\r\n\t\t\t\t  }),\r\n\r\n\t\t\t\t  watch: {\r\n\t\t\t\t\tnewMessageReceived(newVal, oldValue) {\r\n\t\t\t\t\t  //newValue and oldValue are populated\r\n\t\t\t\t\t}\r\n\t\t\t\t  }\r\n\r\nI have one component i push three messages as shown below:\r\n\r\n\t\t\t\t  const message1 = \"Object 1 here\"\r\n\t\t\t\t  const message2 = \"Object 2 here\"\r\n\t\t\t\t  const message3 = \"Object 3 here\"\r\n\r\n\t\t\t\t  this.$store.dispatch('myStore1/setNewMessage', message1);\r\n\t\t\t\t  this.$store.dispatch('myStore1/setNewMessage', message2);\r\n\t\t\t\t  this.$store.dispatch('myStore1/setNewMessage', message3);\r\n\r\nIn mutations.ts file the set method gets called three times.\r\n\r\n\r\n\t\t\t\t   const mutations = {\r\n\t\t\t\t\t  SET_NEW_MESSAGE(state, payload) {\r\n\t\t\t\t\t\tconst newPayload = Object.assign({}, payload);\r\n\t\t\t\t\t\tstate.newMessage = newPayload;\r\n\t\t\t\t\t  },\r\n\t\t\t\t\t};\r\n\t\t\t\t\texport { mutations };\r\n\r\nBut i always receive the third newMessage object back in my component where i have mapState used to consume newMessage. watch is called only once in this scenario. Not sure what is causing the issue here.\r\n\r\n### What is expected?\r\nI am expecting the watch method to show me all the mutations or updates to the state variable 'newMessage'\r\n\r\n### What is actually happening?\r\nmutations is called three times when setNewMessage is called three times. But the watch i have for state variable 'newMEssage' is called only for third message . This is happening when we have three consecutive calls to 'setNewMessage' action. But if i have three consecutive calls to 'setNewMessage' from three different components it works fine or even from single component when there is delay\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1813","RelatedDescription":"Open issue \"vuex mapstate shows only the latest new value\" (#1813)"},{"Id":"677007560","IsPullRequest":false,"CreatedAt":"2020-08-11T16:11:55","Actor":"bitquality","Number":"1812","RawContent":null,"Title":"vuex mapstate shows only the latest new value","State":"closed","Body":"I have a mapstate which i am using to map vuex store changes for a particular module.following is the code for the same.\r\n\r\n\t\t\t\t computed: mapState('myStore1', {\r\n\t\t\t\t\tnewMessageReceived: state => state['newmessage'],\r\n\t\t\t\t  }),\r\n\r\n\t\t\t\t  watch: {\r\n\t\t\t\t\tnewMessageReceived(newVal, oldValue) {\r\n\t\t\t\t\t  //newValue and oldValue are populated\r\n\t\t\t\t\t}\r\n\t\t\t\t  }\r\n\r\nSomewhere in other components i push some messages:\r\n\r\n\t\t\t\t  const message1 = \"Object 1 here\"\r\n\t\t\t\t  const message2 = \"Object 2 here\"\r\n\t\t\t\t  const message3 = \"Object 3 here\"\r\n\r\n\t\t\t\t  this.$store.dispatch('myStore1/setNewMessage', message1);\r\n\t\t\t\t  this.$store.dispatch('myStore1/setNewMessage', message2);\r\n\t\t\t\t  this.$store.dispatch('myStore1/setNewMessage', message3);\r\n\r\nIn mutations.ts file the set method gets called three times.\r\n\r\n\r\n\t\t\t\t   const mutations = {\r\n\t\t\t\t\t  SET_NEW_MESSAGE(state, payload) {\r\n\t\t\t\t\t\tconst newPayload = Object.assign({}, payload);\r\n\t\t\t\t\t\tstate.newMessage = newPayload;\r\n\t\t\t\t\t  },\r\n\t\t\t\t\t};\r\n\t\t\t\t\texport { mutations };\r\n\r\nBut i always receive the third object back in my component where i have mapState used to consume. Not sure what is causing the issue here.","Url":"https://github.com/vuejs/vuex/issues/1812","RelatedDescription":"Closed issue \"vuex mapstate shows only the latest new value\" (#1812)"},{"Id":"675510560","IsPullRequest":true,"CreatedAt":"2020-08-11T14:26:14","Actor":"Alex-Sokolov","Number":"1810","RawContent":null,"Title":"docs: [RU] Translation update","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1810","RelatedDescription":"Closed or merged PR \"docs: [RU] Translation update\" (#1810)"},{"Id":"666268325","IsPullRequest":true,"CreatedAt":"2020-08-11T14:23:08","Actor":"euaaaio","Number":"1803","RawContent":null,"Title":"fix(types): add lost argument of useStore","State":"closed","Body":"This PR adds lost argument `key` to `useStore` function types.\r\nResolve #1807 ","Url":"https://github.com/vuejs/vuex/pull/1803","RelatedDescription":"Closed or merged PR \"fix(types): add lost argument of useStore\" (#1803)"},{"Id":"675331578","IsPullRequest":true,"CreatedAt":"2020-08-11T14:22:00","Actor":"dependabot[bot]","Number":"1809","RawContent":null,"Title":"build(deps): bump prismjs from 1.15.0 to 1.21.0","State":"closed","Body":"Bumps [prismjs](https://github.com/PrismJS/prism) from 1.15.0 to 1.21.0.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/PrismJS/prism/releases\">prismjs's releases</a>.</em></p>\n<blockquote>\n<h2>v1.21.0</h2>\n<p>Release 1.21.0</p>\n<h2>v1.20.0</h2>\n<p>Release 1.20.0</p>\n<h2>v1.19.0</h2>\n<p>Release 1.19.0</p>\n<h2>v1.18.0</h2>\n<p>Release 1.18.0</p>\n<h2>v1.17.1</h2>\n<p>Release 1.17.1</p>\n<h2>v1.17.0</h2>\n<p>Release 1.17.0</p>\n<h2>v1.16.0</h2>\n<p>Release 1.16.0</p>\n</blockquote>\n</details>\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/PrismJS/prism/blob/master/CHANGELOG.md\">prismjs's changelog</a>.</em></p>\n<blockquote>\n<h2>1.21.0 (2020-08-06)</h2>\n<h3>New components</h3>\n<ul>\n<li><strong>.ignore</strong> &amp; <strong>.gitignore</strong> &amp; <strong>.hgignore</strong> &amp; <strong>.npmignore</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2481\">#2481</a>) <a href=\"https://github.com/PrismJS/prism/commit/3fcce6fe\"><code>3fcce6fe</code></a></li>\n<li><strong>Agda</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2430\">#2430</a>) <a href=\"https://github.com/PrismJS/prism/commit/3a127c7d\"><code>3a127c7d</code></a></li>\n<li><strong>AL</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2300\">#2300</a>) <a href=\"https://github.com/PrismJS/prism/commit/de21eb64\"><code>de21eb64</code></a></li>\n<li><strong>Cypher</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2459\">#2459</a>) <a href=\"https://github.com/PrismJS/prism/commit/398e2943\"><code>398e2943</code></a></li>\n<li><strong>Dhall</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2473\">#2473</a>) <a href=\"https://github.com/PrismJS/prism/commit/649e51e5\"><code>649e51e5</code></a></li>\n<li><strong>EditorConfig</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2471\">#2471</a>) <a href=\"https://github.com/PrismJS/prism/commit/ed8fff91\"><code>ed8fff91</code></a></li>\n<li><strong>HLSL</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2318\">#2318</a>) <a href=\"https://github.com/PrismJS/prism/commit/87a5c7ae\"><code>87a5c7ae</code></a></li>\n<li><strong>JS stack trace</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2418\">#2418</a>) <a href=\"https://github.com/PrismJS/prism/commit/ae0327b3\"><code>ae0327b3</code></a></li>\n<li><strong>PeopleCode</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2302\">#2302</a>) <a href=\"https://github.com/PrismJS/prism/commit/bd4d8165\"><code>bd4d8165</code></a></li>\n<li><strong>PureBasic</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2369\">#2369</a>) <a href=\"https://github.com/PrismJS/prism/commit/d0c1c70d\"><code>d0c1c70d</code></a></li>\n<li><strong>Racket</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2315\">#2315</a>) <a href=\"https://github.com/PrismJS/prism/commit/053016ef\"><code>053016ef</code></a></li>\n<li><strong>Smali</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2419\">#2419</a>) <a href=\"https://github.com/PrismJS/prism/commit/22eb5cad\"><code>22eb5cad</code></a></li>\n<li><strong>Structured Text (IEC 61131-3)</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2311\">#2311</a>) <a href=\"https://github.com/PrismJS/prism/commit/8704cdfb\"><code>8704cdfb</code></a></li>\n<li><strong>UnrealScript</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2305\">#2305</a>) <a href=\"https://github.com/PrismJS/prism/commit/1093ceb3\"><code>1093ceb3</code></a></li>\n<li><strong>WarpScript</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2307\">#2307</a>) <a href=\"https://github.com/PrismJS/prism/commit/cde5b0fa\"><code>cde5b0fa</code></a></li>\n<li><strong>XML doc (.net)</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2340\">#2340</a>) <a href=\"https://github.com/PrismJS/prism/commit/caec5e30\"><code>caec5e30</code></a></li>\n<li><strong>YANG</strong> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2467\">#2467</a>) <a href=\"https://github.com/PrismJS/prism/commit/ed1df1e1\"><code>ed1df1e1</code></a></li>\n</ul>\n<h3>Updated components</h3>\n<ul>\n<li>Markup &amp; JSON: Added new aliases (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2390\">#2390</a>) <a href=\"https://github.com/PrismJS/prism/commit/9782cfe6\"><code>9782cfe6</code></a></li>\n<li>Fixed several cases of exponential backtracking (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2268\">#2268</a>) <a href=\"https://github.com/PrismJS/prism/commit/7a554b5f\"><code>7a554b5f</code></a></li>\n<li><strong>APL</strong>\n<ul>\n<li>Added <code>⍥</code> (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2409\">#2409</a>) <a href=\"https://github.com/PrismJS/prism/commit/0255cb6a\"><code>0255cb6a</code></a></li>\n</ul>\n</li>\n<li><strong>AutoHotkey</strong>\n<ul>\n<li>Added missing <code>format</code> built-in (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2450\">#2450</a>) <a href=\"https://github.com/PrismJS/prism/commit/7c66cfc4\"><code>7c66cfc4</code></a></li>\n<li>Improved comments and other improvements (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2412\">#2412</a>) <a href=\"https://github.com/PrismJS/prism/commit/ddf3cc62\"><code>ddf3cc62</code></a></li>\n<li>Added missing definitions (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2400\">#2400</a>) <a href=\"https://github.com/PrismJS/prism/commit/4fe03676\"><code>4fe03676</code></a></li>\n</ul>\n</li>\n<li><strong>Bash</strong>\n<ul>\n<li>Added <code>composer</code> command (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2298\">#2298</a>) <a href=\"https://github.com/PrismJS/prism/commit/044dd271\"><code>044dd271</code></a></li>\n</ul>\n</li>\n<li><strong>Batch</strong>\n<ul>\n<li>Fix escaped double quote (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2485\">#2485</a>) <a href=\"https://github.com/PrismJS/prism/commit/f0f8210c\"><code>f0f8210c</code></a></li>\n</ul>\n</li>\n<li><strong>C</strong>\n<ul>\n<li>Improved macros and expressions (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2440\">#2440</a>) <a href=\"https://github.com/PrismJS/prism/commit/8a72fa6f\"><code>8a72fa6f</code></a></li>\n<li>Improved macros (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2320\">#2320</a>) <a href=\"https://github.com/PrismJS/prism/commit/fdcf7ed2\"><code>fdcf7ed2</code></a></li>\n</ul>\n</li>\n<li><strong>C#</strong>\n<ul>\n<li>Improved pattern matching (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2411\">#2411</a>) <a href=\"https://github.com/PrismJS/prism/commit/7f341fc1\"><code>7f341fc1</code></a></li>\n<li>Fixed adjacent string interpolations (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2402\">#2402</a>) <a href=\"https://github.com/PrismJS/prism/commit/2a2e79ed\"><code>2a2e79ed</code></a></li>\n</ul>\n</li>\n<li><strong>C++</strong>\n<ul>\n<li>Added support for default comparison operator (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2426\">#2426</a>) <a href=\"https://github.com/PrismJS/prism/commit/8e9d161c\"><code>8e9d161c</code></a></li>\n<li>Improved class name detection (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2348\">#2348</a>) <a href=\"https://github.com/PrismJS/prism/commit/e3fe9040\"><code>e3fe9040</code></a></li>\n<li>Fixed <code>enum class</code> class names (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2342\">#2342</a>) <a href=\"https://github.com/PrismJS/prism/commit/30b4e254\"><code>30b4e254</code></a></li>\n</ul>\n</li>\n<li><strong>Content-Security-Policy</strong>\n<ul>\n<li>Fixed directives (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2461\">#2461</a>) <a href=\"https://github.com/PrismJS/prism/commit/537a9e80\"><code>537a9e80</code></a></li>\n</ul>\n</li>\n<li><strong>CSS</strong>\n<ul>\n<li>Improved url and added keywords (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2432\">#2432</a>) <a href=\"https://github.com/PrismJS/prism/commit/964de5a1\"><code>964de5a1</code></a></li>\n</ul>\n</li>\n</ul>\n<!-- raw HTML omitted -->\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/PrismJS/prism/commit/187c8a607ee70c7914682870156faa31ed01f001\"><code>187c8a6</code></a> 1.21.0</li>\n<li><a href=\"https://github.com/PrismJS/prism/commit/bf4f323391d546d4b2e1a388f05c512a27491e9c\"><code>bf4f323</code></a> Changelog for v1.21.0 (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2507\">#2507</a>)</li>\n<li><a href=\"https://github.com/PrismJS/prism/commit/8bba4880202ef6bd7a1e379fe9aebe69dd75f7be\"><code>8bba488</code></a> Previewers: Fixed XSS (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2506\">#2506</a>)</li>\n<li><a href=\"https://github.com/PrismJS/prism/commit/158caf52343e59a66c2351ff1d83648efe871e33\"><code>158caf5</code></a> JSON: Greedy comments (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2479\">#2479</a>)</li>\n<li><a href=\"https://github.com/PrismJS/prism/commit/f0f8210c1a9745c064d49bfb985544c654986b24\"><code>f0f8210</code></a> Batch: Fix escaped double quote (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2485\">#2485</a>)</li>\n<li><a href=\"https://github.com/PrismJS/prism/commit/649e51e56250a81dc0b0c4f5b3a4ea23e1c21834\"><code>649e51e</code></a> Added support for Dhall (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2473\">#2473</a>)</li>\n<li><a href=\"https://github.com/PrismJS/prism/commit/453079bf96746e0c44f90cb7cd90fcae9a5f94cc\"><code>453079b</code></a> Line Numbers: Fixed class name on website</li>\n<li><a href=\"https://github.com/PrismJS/prism/commit/a0efa40bde420ac3923947be611ebe6b3f077dce\"><code>a0efa40</code></a> Fixed Treeview page (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2484\">#2484</a>)</li>\n<li><a href=\"https://github.com/PrismJS/prism/commit/78161d607fe7d493831ff19759aac951330134a1\"><code>78161d6</code></a> VB: Added VBA alias (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2469\">#2469</a>)</li>\n<li><a href=\"https://github.com/PrismJS/prism/commit/ed1df1e1208401a8b84330ecc39689fa37d0e9f6\"><code>ed1df1e</code></a> Added support for YANG (<a href=\"https://github-redirect.dependabot.com/PrismJS/prism/issues/2467\">#2467</a>)</li>\n<li>Additional commits viewable in <a href=\"https://github.com/PrismJS/prism/compare/v1.15.0...v1.21.0\">compare view</a></li>\n</ul>\n</details>\n<details>\n<summary>Maintainer changes</summary>\n<p>This version was pushed to npm by <a href=\"https://www.npmjs.com/~jamesdigioia\">jamesdigioia</a>, a new releaser for prismjs since your current version.</p>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=prismjs&package-manager=npm_and_yarn&previous-version=1.15.0&new-version=1.21.0)](https://help.github.com/articles/configuring-automated-security-fixes)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language\n- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language\n- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language\n- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language\n\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/vuejs/vuex/network/alerts).\n\n</details>","Url":"https://github.com/vuejs/vuex/pull/1809","RelatedDescription":"Closed or merged PR \"build(deps): bump prismjs from 1.15.0 to 1.21.0\" (#1809)"},{"Id":"676742982","IsPullRequest":true,"CreatedAt":"2020-08-11T14:21:37","Actor":"Krutsch","Number":"1811","RawContent":null,"Title":"docs: fix minor typo","State":"closed","Body":"fix minor typo in plugins.md","Url":"https://github.com/vuejs/vuex/pull/1811","RelatedDescription":"Closed or merged PR \"docs: fix minor typo\" (#1811)"},{"Id":"673242073","IsPullRequest":false,"CreatedAt":"2020-08-05T04:22:49","Actor":"code-manito","Number":"1808","RawContent":null,"Title":"vuex 在嵌套iframe 数据更新失败","State":"closed","Body":"vuex 在嵌套iframe 数据更新失败","Url":"https://github.com/vuejs/vuex/issues/1808","RelatedDescription":"Closed issue \"vuex 在嵌套iframe 数据更新失败\" (#1808)"},{"Id":"661595928","IsPullRequest":false,"CreatedAt":"2020-08-04T08:17:01","Actor":"xPaw","Number":"1799","RawContent":null,"Title":"Component watch \"$store.state.xxx\" does not work on v4","State":"closed","Body":"### Version\r\n4.0.0-beta.4\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/gbach1eu/](https://jsfiddle.net/gbach1eu/)\r\n\r\n### Steps to reproduce\r\n\r\nI have code like this:\r\n\r\n```js\r\nexport default {\r\n\tname: \"Mentions\",\r\n\twatch: {\r\n\t\t\"$store.state.mentions\"() {\r\n\t\t\tthis.isLoading = false;\r\n\t\t},\r\n\t},\r\n}\r\n```\r\n\r\nAnd there is a mutation like so:\r\n\r\n```js\r\nmentions(state, mentions) {\r\n\tstate.mentions = mentions;\r\n},\r\n```\r\n\r\nWhich is triggered with `store.commit(\"mentions\", data);`\r\n\r\n### What is expected?\r\nWatch is triggered.\r\n\r\n### What is actually happening?\r\nwatch for store state change is not triggering. This worked on vue2 (vuex 3).\r\n\r\n---\r\nI don't know if it was intended that watch actually worked on vue 2 like this, and it's hard to find info if this was intentionally changed for vue 3.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1799","RelatedDescription":"Closed issue \"Component watch \"$store.state.xxx\" does not work on v4\" (#1799)"},{"Id":"668586643","IsPullRequest":false,"CreatedAt":"2020-08-04T08:07:03","Actor":"matthieusieben","Number":"1805","RawContent":null,"Title":"store watch not triggered when depends on unregistered module","State":"closed","Body":"### Version\r\n3.5.1\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/awesome-wescoff-97l47?file=/src/main.js](https://codesandbox.io/s/awesome-wescoff-97l47?file=/src/main.js)\r\n\r\n\r\n<details>\r\n\r\n<summary>Code</summary>\r\n\r\n```js\r\nimport Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\n\r\nVue.use(Vuex);\r\n\r\n// Uncomment one of these lines:\r\nconst initialState = '{\"foo\":{\"value\":4}}';\r\n// const initialState = \"{}\";\r\n\r\nconst modules = {\r\n  foo: {\r\n    namespaced: true,\r\n    getters: { value: state => state.value },\r\n    state: () => ({ value: 1 })\r\n  }\r\n};\r\n\r\nconst myPlugin = store => {\r\n  store.watch(\r\n    (state, getters) => getters[\"foo/value\"],\r\n    value => console.error(\"Value from watch\", value)\r\n  );\r\n};\r\n\r\nconst store = new Vuex.Store({\r\n  state: () => JSON.parse(initialState),\r\n  plugins: [myPlugin]\r\n});\r\n\r\nfor (const ns in modules) {\r\n  store.registerModule(ns, modules[ns], {\r\n    preserveState: store.state[ns] !== undefined\r\n  });\r\n}\r\n\r\nconsole.error(\"Value after init\", store.getters[\"foo/value\"]);\r\n```\r\n\r\n</details>\r\n\r\nNotice the watcher's callback is not triggered.\r\n\r\n\r\nThe workaround is to register the watcher after the modules (i.e. not through a plugin)\r\n\r\n\r\n### Steps to reproduce\r\n- Create a store with \r\n  - a plugin that register a watcher for a module's getter\r\n  - an initial state for the sub module\r\n- Register the module (will generate a new store.getter object)\r\n\r\n### What is expected?\r\nThe watcher should be triggered when the getter goes from \"undefined\" (before the module was registered) to \"defined\" (after the module was registered).\r\n\r\nBasically, `store.getters` should be reactive.\r\n\r\n### What is actually happening?\r\nThe watcher is not trigged\r\n\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1805","RelatedDescription":"Closed issue \"store watch not triggered when depends on unregistered module\" (#1805)"},{"Id":"665373014","IsPullRequest":true,"CreatedAt":"2020-08-04T07:26:24","Actor":"7006","Number":"1801","RawContent":null,"Title":"Update getters.js","State":"closed","Body":"rewrite `recentHistory` getter using negative index for`start` argument of Array.prototype.slice \r\n\r\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice","Url":"https://github.com/vuejs/vuex/pull/1801","RelatedDescription":"Closed or merged PR \"Update getters.js\" (#1801)"},{"Id":"668772886","IsPullRequest":true,"CreatedAt":"2020-08-04T06:53:31","Actor":"dependabot[bot]","Number":"1806","RawContent":null,"Title":"build(deps): bump elliptic from 6.4.1 to 6.5.3","State":"closed","Body":"Bumps [elliptic](https://github.com/indutny/elliptic) from 6.4.1 to 6.5.3.\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/indutny/elliptic/commit/8647803dc3d90506aa03021737f7b061ba959ae1\"><code>8647803</code></a> 6.5.3</li>\n<li><a href=\"https://github.com/indutny/elliptic/commit/856fe4d99fe7b6200556e6400b3bf585b1721bec\"><code>856fe4d</code></a> signature: prevent malleability and overflows</li>\n<li><a href=\"https://github.com/indutny/elliptic/commit/60489415e545efdfd3010ae74b9726facbf08ca8\"><code>6048941</code></a> 6.5.2</li>\n<li><a href=\"https://github.com/indutny/elliptic/commit/9984964457c9f8a63b91b01ea103260417eca237\"><code>9984964</code></a> package: bump dependencies</li>\n<li><a href=\"https://github.com/indutny/elliptic/commit/ec735edde187a43693197f6fa3667ceade751a3a\"><code>ec735ed</code></a> utils: leak less information in <code>getNAF()</code></li>\n<li><a href=\"https://github.com/indutny/elliptic/commit/71e4e8e2f5b8f0bdbfbe106c72cc9fbc746d3d60\"><code>71e4e8e</code></a> 6.5.1</li>\n<li><a href=\"https://github.com/indutny/elliptic/commit/7ec66ffa255079260126d87b1762a59ea10de5ea\"><code>7ec66ff</code></a> short: add infinity check before multiplying</li>\n<li><a href=\"https://github.com/indutny/elliptic/commit/ee7970b92f388e981d694be0436c4c8036b5d36c\"><code>ee7970b</code></a> travis: really move on</li>\n<li><a href=\"https://github.com/indutny/elliptic/commit/637d0216b58de7edee4f3eb5641295ac323acadb\"><code>637d021</code></a> travis: move on</li>\n<li><a href=\"https://github.com/indutny/elliptic/commit/5ed0babb6467cd8575a9218265473fda926d9d42\"><code>5ed0bab</code></a> package: update deps</li>\n<li>Additional commits viewable in <a href=\"https://github.com/indutny/elliptic/compare/v6.4.1...v6.5.3\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=elliptic&package-manager=npm_and_yarn&previous-version=6.4.1&new-version=6.5.3)](https://help.github.com/articles/configuring-automated-security-fixes)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language\n- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language\n- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language\n- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language\n\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/vuejs/vuex/network/alerts).\n\n</details>","Url":"https://github.com/vuejs/vuex/pull/1806","RelatedDescription":"Closed or merged PR \"build(deps): bump elliptic from 6.4.1 to 6.5.3\" (#1806)"},{"Id":"671682789","IsPullRequest":false,"CreatedAt":"2020-08-02T20:20:11","Actor":"DerAlbertCom","Number":"1807","RawContent":null,"Title":"useStore() type definition is missing parameter for storeKey.","State":"open","Body":"### Version\r\n4.0.0-beta.4\r\n\r\n### Steps to reproduce\r\nIn the Vue4 type definition the useStore function is defined as\r\n\r\nhttps://github.com/vuejs/vuex/blob/83bc26fe55417692f386db9b76634eb58794282e/types/index.d.ts#L48\r\n\r\nbut in the source you can provide a key, to enable more then one store in the application.\r\n\r\nhttps://github.com/vuejs/vuex/blob/83bc26fe55417692f386db9b76634eb58794282e/src/injectKey.js#L5\r\n\r\n### What is expected?\r\nThe type definition should match the function\r\n\r\n### What is actually happening?\r\nIt does not match ;) so only one store can be used with typescript\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1807","RelatedDescription":"Open issue \"useStore() type definition is missing parameter for storeKey.\" (#1807)"},{"Id":"663244251","IsPullRequest":true,"CreatedAt":"2020-07-29T04:52:16","Actor":"michapietsch","Number":"1800","RawContent":null,"Title":"docs(guide/modules): Add examples for getters in other namespaced modules","State":"closed","Body":"Hey,\r\n\r\nI just found myself looking up the exact syntax, so I'd like to contribute these examples.\r\n\r\nBest regards,\r\nMicha","Url":"https://github.com/vuejs/vuex/pull/1800","RelatedDescription":"Closed or merged PR \"docs(guide/modules): Add examples for getters in other namespaced modules\" (#1800)"},{"Id":"665740553","IsPullRequest":false,"CreatedAt":"2020-07-26T09:04:30","Actor":"mengfei0053","Number":"1802","RawContent":null,"Title":"请删除 vuex/types/vue.d.ts， 让用户自己定义","State":"closed","Body":"因为你这里定义了vue的扩展，用户就无法根据自己的state，进行覆盖。只能在组件中用类型断言，来使用类型。\r\n建议将此文件删除，提示用户，自己定义此扩展。","Url":"https://github.com/vuejs/vuex/issues/1802","RelatedDescription":"Closed issue \"请删除 vuex/types/vue.d.ts， 让用户自己定义\" (#1802)"},{"Id":"655369686","IsPullRequest":true,"CreatedAt":"2020-07-13T03:02:41","Actor":"regchiu","Number":"1796","RawContent":null,"Title":"docs(zh): Remove semicolon","State":"closed","Body":"Sorry, I found that I added a semicolon the last time I changed the document.","Url":"https://github.com/vuejs/vuex/pull/1796","RelatedDescription":"Closed or merged PR \"docs(zh): Remove semicolon\" (#1796)"},{"Id":"655427120","IsPullRequest":true,"CreatedAt":"2020-07-12T16:00:12","Actor":"zOadT","Number":"1797","RawContent":null,"Title":"Support modules and state functions in Store typings","State":"open","Body":"_DISCLAIMER: The use of [conditional types](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#conditional-types) and [`ReturnType<T>`](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#predefined-conditional-types) in this PR requires the user to use at least Typescript 2.8. Right now the use of [generic parameter defaults](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-3.html#generic-parameter-defaults) in helper.d.ts only requires Typescript 2.3._\r\n\r\nThis PR improves the typings of `Store`. Right now, given code like\r\n\r\n```js\r\nlet moduleC = {\r\n    state() {\r\n        return {\r\n            valueC: -13\r\n        }\r\n    }\r\n}\r\nlet moduleA = {\r\n    state() {\r\n        return ({\r\n            valueA: \"6\",\r\n        })\r\n    },\r\n    modules: {\r\n        c: moduleC,\r\n    }\r\n}\r\nlet moduleB = {\r\n    state: {\r\n        a: 36,\r\n    }\r\n}\r\nlet store = new Vuex.Store({\r\n    state: () => ({\r\n        foo: 6\r\n    }),\r\n    modules: {\r\n        a: moduleA,\r\n        b: moduleB,\r\n    }\r\n})\r\n```\r\n\r\nwould result in the type of `store.state` to only consider the local state in the root. Also `store.state` would be typed as a function and not as its return type. With this PR the type of `store.state` will correspond to\r\n\r\n```js\r\n{\r\n    foo: number;\r\n    a: {\r\n        valueA: string;\r\n        c: {\r\n            valueC: number;\r\n        }\r\n    };\r\n    b: {\r\n        a: number;\r\n    };\r\n}\r\n```\r\n\r\n### Compatibility\r\nWe provided defaults for new generics, therefore one should be able to still use the types as before.\r\n\r\n### About older TS versions\r\nThere seems to be a strange bug in older versions of Typescript. Sometimes the type of a store differs depending on wheather you use the `{ state() { return {...}}, ... }` or the `{ state: () => ({...}), ... }` syntax. Its not that much of a problem though. We tested the typings in 2.8.4 and the only thing that happens was that the properties are missing, but TS does not throw an error (as long as you don't try to access one of these properties) In newer versions of Typescript everything is fine.","Url":"https://github.com/vuejs/vuex/pull/1797","RelatedDescription":"Open PR \"Support modules and state functions in Store typings\" (#1797)"},{"Id":"653914558","IsPullRequest":true,"CreatedAt":"2020-07-09T09:43:48","Actor":"ohdnf","Number":"1795","RawContent":null,"Title":"docs: fix link typo in Korean README","State":"closed","Body":"Remove duplicated parenthesis of link to \"Scrimba\" in Korean README markdown file.","Url":"https://github.com/vuejs/vuex/pull/1795","RelatedDescription":"Closed or merged PR \"docs: fix link typo in Korean README\" (#1795)"},{"Id":"653096417","IsPullRequest":false,"CreatedAt":"2020-07-08T08:25:15","Actor":"zaffsite","Number":"1794","RawContent":null,"Title":"Vuex data remains undefined when called in private/incognito mode","State":"closed","Body":"**Version**\r\n3.1.1\r\n\r\n**Steps to reproduce**\r\nHard to explain and reproduce, only in incognito mode with Firefox 78.0.1, for a few reasons, it doesn't always happen.\r\n\r\n**What is expected?**\r\nData cannot be undefined because a default data has associated them, but remains undefined, or it is a setter problem.\r\n\r\n**What is actually happening?**\r\nSome data are and stay undefined.\r\n\r\nNo problem in normal navigation mode.\r\nHas anyone ever had this problem ?\r\n\r\nThanks","Url":"https://github.com/vuejs/vuex/issues/1794","RelatedDescription":"Closed issue \"Vuex data remains undefined when called in private/incognito mode\" (#1794)"}],"ResultType":"GitHubIssue"}},"RunOn":"2020-09-02T05:30:46.4307524Z","RunDurationInMilliseconds":1871}