{"Data":{"Vue-Issues":{"Issues":[{"Id":"747126413","IsPullRequest":false,"CreatedAt":"2020-11-20T04:11:26","Actor":"ygj6","Number":"11782","RawContent":null,"Title":"npm test fails on Windows","State":"open","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vue/blob/dev/package.json](https://github.com/vuejs/vue/blob/dev/package.json)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nAfter cloning the vue repo, run the following command\r\n```\r\nyarn\r\nnpm test\r\n```\r\n\r\n### What is expected?\r\nAll the test cases passed\r\n\r\n### What is actually happening?\r\nFailed at the vue@2.6.12 test:e2e script.\r\n```\r\nRunning:  commits\r\n × Timed out while waiting for element <li> to be present for 5000 milliseconds.  - expected \"visible\" but got: \"not found\"\r\n    at Object.commits (D:\\git\\vue\\test\\e2e\\specs\\commits.js:5:8)\r\n    at processTicksAndRejections (internal/process/task_queues.js:79:11)\r\n\r\nFAILED:  1 assertions failed (8.121s)\r\n```\r\n\r\n---\r\nMy OS version is windows 10 and node version is v12.16.1\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11782","RelatedDescription":"Open issue \"npm test fails on Windows\" (#11782)"},{"Id":"746771551","IsPullRequest":false,"CreatedAt":"2020-11-19T18:41:17","Actor":"ThomasLandauer","Number":"11781","RawContent":null,"Title":"Unchecking a radiobutton not working with `v-on:click.prevent` on another radiobutton with same `name`","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/0vxoaz75/](https://jsfiddle.net/0vxoaz75/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nClick on the \"Unset\" radiobutton.\r\n\r\n### What is expected?\r\nThe checked radiobutton (top row) should be unchecked.\r\n\r\n### What is actually happening?\r\nNothing.\r\n\r\n---\r\n* Vue DevTools are showing me that the value is actually being set to `null`. But the view isn't updated.\r\n* If I do the value change inside DevTools(i.e. without clicking), it works as expected.\r\n* Or when I remove the `name` from the \"Unset\" radiobutton, it works too.\r\n* Or when I remove `.prevent`, it works too. From my understanding, `.prevent` in this case should only prevent the clicked radiobutton from getting checked; not prevent the others from being unchecked.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11781","RelatedDescription":"Closed issue \"Unchecking a radiobutton not working with `v-on:click.prevent` on another radiobutton with same `name`\" (#11781)"},{"Id":"746383458","IsPullRequest":false,"CreatedAt":"2020-11-19T09:04:14","Actor":"maoberlehner","Number":"11780","RawContent":null,"Title":"staticClass on wrapped async component not rendered on the server by vue-server-renderer","State":"open","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-issue-staticclass-on-wrapped-async-component-not-rendered-on-the-server-by-vue-server-renderer-nur3o?file=/_LOOK_HERE/test.html](https://codesandbox.io/s/vue-issue-staticclass-on-wrapped-async-component-not-rendered-on-the-server-by-vue-server-renderer-nur3o?file=/_LOOK_HERE/test.html)\r\n\r\n### Steps to reproduce\r\n0. Ignore all the Nuxt.js stuff in the repo. I needed a Container CodeSandbox, so I started with a Nuxt.js template. Only focus on the files I mention in the following steps. The error has nothing to do with Nuxt.js! Also ignore the browser output of the CodeSandbox! It is only about the HTML in `./_LOOK_HERE/test.html`!\r\n1. In the `./_LOOK_HERE/test.html` file you can see `<div class=\"AsyncDiv\"></div>` does not have `test-class` but `<div class=\"SyncDiv test-class\"></div>` does. **Both should have `test-class`.**\r\n2. In `./main.js` you can see the `AsyncDiv` and `SyncDiv` components. They are almost the same but **the first one is an async factory component.**\r\n3. The `WrapperAsync` and `WrapperSync` components are exactly the same but rendering the two respective components. This is important; **if I render `AsyncDiv` directly without the wrapper, everything works as expected.**\r\n4. In `App` we render both wrappers with the same `staticClass`.\r\n5. In`./render.js` you can see the code that produces `./_LOOK_HERE/test.html`. You can run it in the terminal with `node render.js` but it is a little buggy on CodeSandbox if you have opened `test.html` before. Close the `test.html` tab before running the script. Or just believe me that it produces `./_LOOK_HERE/test.html`.\r\n6. Not in the reproduction: If the server rendered code is hydrated client-side, `test-class` is appended to `AsyncDiv`. So it seems as if on the client-side this case is handled correctly.\r\n\r\n### What is expected?\r\nIn `test.html` both components should be rendered with the `test-class`.\r\n\r\n```html\r\n<div class=\"AsyncDiv test-class\"></div>\r\n<div class=\"SyncDiv test-class\"></div>\r\n```\r\n\r\n### What is actually happening?\r\nOnly the `SyncDiv` component correctly renders `test-class`.\r\n\r\n```html\r\n<div class=\"AsyncDiv\"></div>\r\n<div class=\"SyncDiv test-class\"></div>\r\n```\r\n\r\n---\r\nI ran into this problem working on [vue-lazy-hydration](https://github.com/maoberlehner/vue-lazy-hydration). There I use a wrapper around an async component to delay the hydration of the async component.\r\nI realize that this is an edge-case and I can and will work around it in `vue-lazy-hydration` (by resolving the async component and rendering the resolved sync component) but I thought this maybe can be valuable for others.\r\nI also realize that there is probably not a lot of focus on v2 currently but I think this is still important because there will be huge legacy projects running on v2 for years to come.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11780","RelatedDescription":"Open issue \"staticClass on wrapped async component not rendered on the server by vue-server-renderer\" (#11780)"},{"Id":"745823843","IsPullRequest":false,"CreatedAt":"2020-11-18T18:27:56","Actor":"borodadada","Number":"11779","RawContent":null,"Title":"vue SSR webfontloader = font cache","State":"closed","Body":"### What problem does this feature solve?\r\nHello, i don't can started webfontloader   vue ssr, any body know how it work? I need CACHE for fonts. \r\n\r\n### What does the proposed API look like?\r\nerror\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11779","RelatedDescription":"Closed issue \"vue SSR webfontloader = font cache\" (#11779)"},{"Id":"744941570","IsPullRequest":false,"CreatedAt":"2020-11-17T17:41:41","Actor":"VorobiovKir","Number":"11778","RawContent":null,"Title":"Web component in Vue: 'is' attribute doesn't work for web component","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/tender-wave-kcu39?file=/src/App.vue](https://codesandbox.io/s/tender-wave-kcu39?file=/src/App.vue)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Create webComponent which is extended from HTMLButtonElement\r\n2. Try to use it in Vue project\r\n\r\n### What is expected?\r\nVue Api provides for developers the opportunity to ignore some attribute like 'is'\r\n\r\n### What is actually happening?\r\nVue renders element as a dynamic component.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11778","RelatedDescription":"Closed issue \"Web component in Vue: 'is' attribute doesn't work for web component\" (#11778)"},{"Id":"744890787","IsPullRequest":true,"CreatedAt":"2020-11-17T16:29:35","Actor":"amkamn","Number":"11777","RawContent":null,"Title":"remove valueless code","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [x] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [ ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/11777","RelatedDescription":"Open PR \"remove valueless code\" (#11777)"},{"Id":"744337597","IsPullRequest":true,"CreatedAt":"2020-11-17T16:02:38","Actor":"IjtihadIslamEmon","Number":"11774","RawContent":null,"Title":"Create vue js","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [ ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/11774","RelatedDescription":"Closed or merged PR \"Create vue js\" (#11774)"},{"Id":"744841826","IsPullRequest":true,"CreatedAt":"2020-11-17T15:31:08","Actor":"vegerot","Number":"11776","RawContent":null,"Title":"fix(dev): allow performance marking in production (fix #11775)","State":"open","Body":"close #11775\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [x] Other, please describe: Developer-related improvement\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [x] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\nTo quote #11775 : \r\n\r\n### What problem does this feature solve?\r\nSimilar to devtools, `Vue.config.devtools` is enabled by default for development and disabled by default for production.  However, the developer can choose to override that behavior (for example, for debugging) by manually setting `Vue.config.devtools = true`.  However, this same lenience is not afforded to `Vue.config.performance`.  Even if explicitly enabling it, the developer's setting will be overridden by Vue in production.\r\n\r\n### What does the proposed API look like?\r\nThis commit brings `Vue.config.performance` in line with `Vue.config.devtools`, by disabling it by default in production, but gives the developer the ability to explicitly enable it; for example, for debugging performance issues.\r\n\r\n## Questions for reviewer:\r\n\r\n* I changed a couple of files, but truth is I'm not sure what the change in `packages/` and `src/platforms` does.  Advisement there would be appreciated\r\n","Url":"https://github.com/vuejs/vue/pull/11776","RelatedDescription":"Open PR \"fix(dev): allow performance marking in production (fix #11775)\" (#11776)"},{"Id":"744830442","IsPullRequest":false,"CreatedAt":"2020-11-17T15:18:14","Actor":"vegerot","Number":"11775","RawContent":null,"Title":"Enable performance measuring in production, at the user's request","State":"open","Body":"### What problem does this feature solve?\r\nSimilar to devtools, `Vue.config.devtools` is enabled by default for development and disabled by default for production.  However, the developer can choose to override that behavior (for example, for debugging) by manually setting `Vue.config.devtools = true`.  However, this same lenience is not afforded to `Vue.config.performance`.  Even if explicitly enabling it, the developer's setting will be overridden by Vue in production.\r\n\r\n### What does the proposed API look like?\r\nThis proposed solution brings `Vue.config.performance` in line with `Vue.config.devtools`, by disabling it by default in production, but gives the developer the ability to explicitly enable it; for example, for debugging performance issues.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11775","RelatedDescription":"Open issue \"Enable performance measuring in production, at the user's request\" (#11775)"},{"Id":"743790301","IsPullRequest":false,"CreatedAt":"2020-11-16T15:48:00","Actor":"kumaresan-subramani","Number":"11773","RawContent":null,"Title":"vue with sass throws error","State":"closed","Body":"### Version\r\n2.6.11\r\n\"@vue/cli-plugin-babel\": \"^4.5.0\",\r\n    \"@vue/cli-plugin-eslint\": \"^4.5.0\",\r\n    \"@vue/cli-service\": \"^4.5.0\",\r\n\r\n### Reproduction link\r\n[https://flaviocopes.com/vue-cli/](https://flaviocopes.com/vue-cli/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n\r\n**Sample** - https://github.com/kumaresan-subramani/vue-sass\r\n\r\n- create vue sample using below blog\r\n\r\n    https://flaviocopes.com/vue-cli/\r\n\r\n- then add required sass plugin by following below blog\r\n\r\n   https://vinceumo.github.io/devNotes/Javascript/vue-scss-setup/\r\n\r\n- Then start your application, i get below error:\r\n\r\n```\r\n error  in ./src/components/HelloWorld.vue?vue&type=style&index=0&lang=scss&\r\n\r\nModule build failed (from ./node_modules/sass-loader/dist/cjs.js):\r\nValidationError: Invalid options object. Sass Loader has been initialized using an options object that does not match the API schema.\r\n - options has an unknown property 'includePaths'. These properties are valid:\r\n   object { implementation?, sassOptions?, prependData?, sourceMap?, webpackImporter? }\r\n    at validate (D:\\today\\example\\node_modules\\schema-utils\\dist\\validate.js:98:11)\r\n    at Object.loader (D:\\today\\example\\node_modules\\sass-loader\\dist\\index.js:36:28)\r\n\r\n @ ./node_modules/vue-style-loader??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--8-oneOf-1-2!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/HelloWorld.vue?vue&type=style&index=0&lang=scss& 4:14-441 14:3-18:5 15:22-449\r\n @ ./src/components/HelloWorld.vue?vue&type=style&index=0&lang=scss&\r\n @ ./src/components/HelloWorld.vue\r\n @ ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/App.vue?vue&type=script&lang=js&\r\n @ ./src/App.vue?vue&type=script&lang=js&\r\n @ ./src/App.vue\r\n @ ./src/main.js\r\n @ mult\r\n\r\n```\r\n\r\n### What is expected?\r\nno error\r\n\r\n### What is actually happening?\r\nthrows error\r\n\r\n---\r\nit will work when i add `includepaths` attribute but in latest `vue-cli` i dont know where to add this property\r\n\r\nhttps://ej2.syncfusion.com/vue/documentation/getting-started/vue-sass/#adding-includepaths-option\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11773","RelatedDescription":"Closed issue \"vue with sass throws error\" (#11773)"},{"Id":"743018518","IsPullRequest":false,"CreatedAt":"2020-11-14T14:59:58","Actor":"sebamarynissen","Number":"11772","RawContent":null,"Title":"Consider detecting browser environment just-in-time","State":"open","Body":"### What problem does this feature solve?\r\nWhen testing Vue components on Node with [@vue/test-utils](https://www.npmjs.com/package/@vue/test-utils), it is important that you mock a browser environment with [jsdom-global](https://www.npmjs.com/package/jsdom-global) *before* vue is loaded. If you fail to do this, you get a `TypeError: Cannot read property 'child' of undefined` (see https://github.com/vuejs/vue-test-utils/issues/1192) when trying to mount your component.\r\n\r\nThe reason is that when Vue is loaded, it checks the environment as\r\n```js\r\nconst inBrowser = typeof window !== 'undefined';\r\n```\r\nIt would be useful - at least for the mounting of components - if this check is performed just in time so that the order of loading is not important here.\r\n\r\nWhile one could argue that this is not a problem if you simply get the loading order correct, there is actually a problem when trying to load `.vue` files natively in Node. I've written an experimental library for this, call [vue-esm-loader](https://www.npmjs.com/package/vue-esm-loader). The problem I had when trying to get this to work with [@vue/test-utils](https://www.npmjs.com/package/@vue/test-utils) is that there's a cyclic problem: [vue-esm-loader](https://www.npmjs.com/package/vue-esm-loader) needs [vue-template-compiler](https://www.npmjs.com/package/vue-template-compiler), which in turn loads Vue first to check for a version mismatch. However, as the loader is loaded as the very first file, this means it's impossible to mock the browser environment before vue is loaded the first time.\r\n\r\nI was able to bypass this by directly requiring the build of vue-template-compiler which does not provide the version check, but this is not a good solution (see https://github.com/sebamarynissen/vue-esm-loader/commit/252f1df2337684613346373727f0f6203ac6aea9#diff-5dfe38baf287dcf756a17c2dd63483781b53bf4b669e10efdd01e74bcd8e780aR7). Therefore it would be useful if the environment check in Vue is done on the fly.\r\n\r\n### What does the proposed API look like?\r\nI propose to replace the `inBrowser` constant by an `env` object, which can look like\r\n```js\r\nconst env = {\r\n  get inBrowser() {\r\n    return typeof window === 'undefined';\r\n  }\r\n};\r\n```\r\nSubsequently the `$mount` method can use this as \r\n```js\r\nVue.prototype.$mount = function (\r\n  el,\r\n  hydrating\r\n) {\r\n  el = el && env.inBrowser ? query(el) : undefined;\r\n  return mountComponent(this, el, hydrating)\r\n};\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11772","RelatedDescription":"Open issue \"Consider detecting browser environment just-in-time\" (#11772)"},{"Id":"742801700","IsPullRequest":false,"CreatedAt":"2020-11-13T21:33:16","Actor":"TrueCarry","Number":"11771","RawContent":null,"Title":"Strange ssr behavior in v-for loop with if-else and v-text","State":"open","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://github.com/TrueCarry/linktest](https://github.com/TrueCarry/linktest)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nRun server, open localhost:8080. Problem is in components/textWrapper.vue file. I've used some vue ssr template and removed almost everything unneeded. Same error as before.\r\n\r\n### What is expected?\r\nssr and client side versions are the same. It works if we don't use v-text on span. I changed it to v-text1, to test.\r\nNo hydration errors with v-text1\r\n![image](https://user-images.githubusercontent.com/5431520/99122979-58700280-2610-11eb-8b5c-0952d78fe951.png)\r\n\r\n\r\n### What is actually happening?\r\nServer doesn't render custom element.\r\nConsole output: \r\n![image](https://user-images.githubusercontent.com/5431520/99123015-70e01d00-2610-11eb-8196-28840adbdfc8.png)\r\nServer generated html:\r\n![image](https://user-images.githubusercontent.com/5431520/99123039-7b9ab200-2610-11eb-85e4-2fcce636ae34.png)\r\n\r\n\r\n---\r\nCan you give me few hours to respond next time you decide to close issue please? \r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11771","RelatedDescription":"Open issue \"Strange ssr behavior in v-for loop with if-else and v-text\" (#11771)"},{"Id":"742637465","IsPullRequest":false,"CreatedAt":"2020-11-13T17:44:19","Actor":"TrueCarry","Number":"11770","RawContent":null,"Title":"Strange ssr behavior in v-for loop with if-else and v-text","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://github.com/TrueCarry/linktest](https://github.com/TrueCarry/linktest)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n\r\n### What is expected?\r\n\r\n\r\n### What is actually happening?\r\n\r\nThis is a duplicate of https://github.com/vuejs/vue/issues/1176, can we reopen it please?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11770","RelatedDescription":"Closed issue \"Strange ssr behavior in v-for loop with if-else and v-text\" (#11770)"},{"Id":"742219503","IsPullRequest":false,"CreatedAt":"2020-11-13T08:26:03","Actor":"Tzdy","Number":"11769","RawContent":null,"Title":"Bigint should be included when checking whether the value is primitive","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codepen.io/Tsdy/pen/mdEaYzL](https://codepen.io/Tsdy/pen/mdEaYzL)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nsrc/shared/util.js\r\n```\r\n/**\r\n * Check if value is primitive.\r\n */\r\nfunction isPrimitive (value){\r\n  return (\r\n    typeof value === 'string' ||\r\n    typeof value === 'number' ||\r\n    // $flow-disable-line\r\n    typeof value === 'symbol' ||\r\n    typeof value === 'boolean'\r\n  )\r\n}\r\nconsole.log(isPrimitive(100n));\r\n// false\r\n```\r\n\r\n### What is expected?\r\nBigint should be included in the primitive type\r\n\r\n### What is actually happening?\r\nconsole.log(isPrimitive(100n));\r\n// false\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11769","RelatedDescription":"Closed issue \"Bigint should be included when checking whether the value is primitive\" (#11769)"},{"Id":"741673997","IsPullRequest":false,"CreatedAt":"2020-11-12T15:51:33","Actor":"SchmidtDawid","Number":"11768","RawContent":null,"Title":"simple render conditionals","State":"closed","Body":"### What problem does this feature solve?\r\nLong structure using template elements. I know it could be hard to implement but for simple text element it will be so cool.\r\n\r\n### What does the proposed API look like?\r\n        {v-if=\"emptyTableInfo\"{ emptyTableInfo }}\r\n        {v-else{ $t('TABLE.EMPTY') }}\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11768","RelatedDescription":"Closed issue \"simple render conditionals\" (#11768)"},{"Id":"741074667","IsPullRequest":false,"CreatedAt":"2020-11-11T21:23:16","Actor":"TrueCarry","Number":"11766","RawContent":null,"Title":"Strange ssr behavior in v-for loop with if-else and v-text","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://github.com/TrueCarry/linktest](https://github.com/TrueCarry/linktest)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nInstall dependencies and run yarn dev, open in browser, there should be hydration error. Problem is in components/textWrapper.vue file.\r\n\r\n### What is expected?\r\nClient and server dom is the same\r\n\r\n### What is actually happening?\r\nIf inside v-for loop exists element with v-text, adjacent custom elements are not rendered on server and just printed in html as is(as custom-element in this case)\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11766","RelatedDescription":"Closed issue \"Strange ssr behavior in v-for loop with if-else and v-text\" (#11766)"},{"Id":"740838240","IsPullRequest":true,"CreatedAt":"2020-11-11T15:06:25","Actor":"marcin-majewski-sonarsource","Number":"11765","RawContent":null,"Title":"Test pr","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [ ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/11765","RelatedDescription":"Closed or merged PR \"Test pr\" (#11765)"},{"Id":"740045338","IsPullRequest":false,"CreatedAt":"2020-11-10T16:18:08","Actor":"wbbhacker","Number":"11764","RawContent":null,"Title":"vue/vue-server-renderer  vue-ssr-client-manifest.json  The initial property is an empty array times the bug","State":"closed","Body":"### What problem does this feature solve?\r\n1. When the initial attribute of the vUE - SSr-client-manifest.json file is an empty array\r\n\r\n2. Start the Node service and access the IP in the browser\r\n\r\n3. Build.dev. js file in the vue-server-renderer plugin reported a bug in line 9074sha\r\n\r\nTypeError: Cannot read property 'file' of undefined\r\n    at /Users/binbinwang/workspace/x-fe/vue-ssr/node_modules/vue-server-renderer/build.dev.js:9074:24\r\n\r\n\r\n\r\n### What does the proposed API look like?\r\nvue-ssr-client-manifest.json\r\n```javascript\r\n{\r\n  \"publicPath\": \"/dist/\",\r\n  \"all\": [\r\n    \"app.0178268b84efde12045b.js\"\r\n  ],\r\n  \"initial\": [],\r\n  \"async\": [\r\n    \"app.0178268b84efde12045b.js\"\r\n  ],\r\n  \"modules\": {\r\n    \"239adfd4\": [\r\n      0\r\n    ],\r\n    \"6fbc4fdc\": [\r\n      0\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11764","RelatedDescription":"Closed issue \"vue/vue-server-renderer  vue-ssr-client-manifest.json  The initial property is an empty array times the bug\" (#11764)"},{"Id":"739735841","IsPullRequest":false,"CreatedAt":"2020-11-10T10:12:21","Actor":"PRANAVAN12","Number":"11763","RawContent":null,"Title":"Image cache issue ","State":"closed","Body":"### What problem does this feature solve?\r\nPlz Make sure better than do this image section\r\n\r\n\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11763","RelatedDescription":"Closed issue \"Image cache issue \" (#11763)"},{"Id":"739128514","IsPullRequest":true,"CreatedAt":"2020-11-09T18:26:11","Actor":"LongTengDao","Number":"11761","RawContent":null,"Title":"fix #11757 props on Object.prototype","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n\r\nI found that `new ( Vue.extend({}) )()` and components inside will work right, just void to `new Vue({})` (root case), things will be ok.\r\n\r\nSo at least fix the `propsData` line, that will cause bug when prop is declared but no prop pass in (vm will get function on proto, not undefined nor default), that's easy to fix, and can't avoid like above in userland.\r\n","Url":"https://github.com/vuejs/vue/pull/11761","RelatedDescription":"Closed or merged PR \"fix #11757 props on Object.prototype\" (#11761)"},{"Id":"739174547","IsPullRequest":true,"CreatedAt":"2020-11-09T16:28:39","Actor":"Byloth","Number":"11762","RawContent":null,"Title":"fix(vue.d.ts): add mixin type definition (fix #11759)","State":"open","Body":"This allows to define `data` mixin properties without writing a specific definition file.\r\n\r\nfix #11759\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n\r\nThis PR is only a **proposal**...  \r\nIt solved my original problem: #11759  \r\n\r\n**BUT...**\r\nI'm not so sure about all the code that could be involved with these changes...  \r\nI think I'll need some help from someone from the core development team.","Url":"https://github.com/vuejs/vue/pull/11762","RelatedDescription":"Open PR \"fix(vue.d.ts): add mixin type definition (fix #11759)\" (#11762)"},{"Id":"739075800","IsPullRequest":false,"CreatedAt":"2020-11-09T14:28:52","Actor":"badpunman","Number":"11760","RawContent":null,"Title":"Memory leaking components on asynchronous return calls after destruction","State":"open","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://github.com/badpunman/vuememoryleak](https://github.com/badpunman/vuememoryleak)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nClone repository\r\nnpm install\r\nnpm run serve\r\nopen localhost:8080\r\nOpen chrome memory tab or other tool for analysis\r\nClick button multiple times.\r\n\r\n### What is expected?\r\nVue should release components and the memory.\r\n\r\n### What is actually happening?\r\nComponents are not released.\r\n\r\n---\r\nContinuation to https://github.com/vuejs/vue/issues/11755 which was closed with too much haste. \r\n\r\nNow demonstrated with $nextTick so we dont have any nasty arguments about whether or not it's due to not cleaning up asynchronous HTTP calls or setTimeouts. $nextTick does not provide a cancellation method so either it's broken in this regard or this is a valid issue.\r\n\r\nVue should not depend its watchers on component if it has already been destroyed.\r\n\r\nIf this is still not a valid bug, all vue's documentation needs an overhaul as it encourages to write code in a way that allows for memory leaks. $nextTick should then also be removed from codebase.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11760","RelatedDescription":"Open issue \"Memory leaking components on asynchronous return calls after destruction\" (#11760)"},{"Id":"738917664","IsPullRequest":false,"CreatedAt":"2020-11-09T11:58:40","Actor":"Byloth","Number":"11759","RawContent":null,"Title":"Property '[...]' does not exist on type 'VueConstructor<Vue>'","State":"closed","Body":"### Version\r\n2.6.12\r\n\r\n### Reproduction link\r\n[https://codepen.io/Byloth/pen/mdEzMGX](https://codepen.io/Byloth/pen/mdEzMGX)\r\n\r\n**N.B.:** It works, here on CodePen... But it won't work inside a real Vue project.\r\n\r\n### Steps to reproduce\r\n1. Create a new TypeScript Vue Project using Vue CLI.\r\n2. Copy & Paste this mixin inside `main.ts` file (right above Vue app initialization and mount).\r\n\r\n```typescript\r\nVue.mixin({\r\n    data: () => ({ aRandomMixinProperty: \"John Doe\" }),\r\n\r\n    mounted()\r\n    {\r\n        this.aRandomMixinProperty = \"John Snow\";\r\n    }\r\n});\r\n```\r\n\r\n3. Try to build the project.\r\n\r\n### What is expected?\r\nIt should compile correctly.\r\n\r\n### What is actually happening?\r\nIt doesn't compile at all.\r\n\r\n```\r\nERROR in /path/to/project/src/main.ts(15,14):\r\n15:14 Property 'aRandomMixinProperty' does not exist on type 'VueConstructor<Vue> | ComponentOptions<Vue, DefaultData<Vue>, DefaultMethods<Vue>, DefaultComputed, PropsDefinition<...>, Record<...>>'.\r\n  Property 'aRandomMixinProperty' does not exist on type 'VueConstructor<Vue>'.\r\n    13 |     mounted()\r\n    14 |     {\r\n  > 15 |         this.aRandomMixinProperty = \"John Snow\";\r\n       |              ^\r\n    16 |     }\r\n    17 | });\r\n    18 |\r\nVersion: typescript 4.0.5\r\nTime: 2856ms\r\n```\r\n\r\n---\r\nAs workaround, you could use:\r\n\r\n```typescript\r\n/* main.ts */\r\n\r\nVue.mixin({\r\n    data: () => ({ aRandomMixinProperty: \"John Doe\" }),\r\n\r\n    mounted()\r\n    {\r\n        (this as Vue).aRandomMixinProperty = \"John Snow\";\r\n    }\r\n});\r\n```\r\n\r\n... and...\r\n\r\n```typescript\r\n/* mixins.d.ts */\r\n\r\ndeclare module \"vue/types/vue\"\r\n{\r\n    interface Vue\r\n    {\r\n        aRandomMixinProperty: string;\r\n    }\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11759","RelatedDescription":"Closed issue \"Property '[...]' does not exist on type 'VueConstructor<Vue>'\" (#11759)"},{"Id":"738914416","IsPullRequest":true,"CreatedAt":"2020-11-09T10:46:47","Actor":"marcin-majewski-sonarsource","Number":"11758","RawContent":null,"Title":"Example change","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [ ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/11758","RelatedDescription":"Closed or merged PR \"Example change\" (#11758)"},{"Id":"738903775","IsPullRequest":false,"CreatedAt":"2020-11-09T10:32:22","Actor":"LongTengDao","Number":"11757","RawContent":null,"Title":"when use key in Object.prototype carelessly as prop, it will work wrong way","State":"open","Body":"### Version\r\n2.6.12\r\n\r\n### Steps to reproduce\r\n```html\r\n<div></div>\r\n<script>\r\nnew Vue({\r\n  el: 'main',\r\n  template: '<MyDatetime :value=\"datetime\" />',\r\n  data: {\r\n    datetime: Date.now(),\r\n  },\r\n  components: {\r\n    MyDatetime: {\r\n      template: `\r\n        <div>\r\n          expect undefined: {{ toString + \"\" }}<br />\r\n          expect default: {{ toLocalString + \"\" }}<br />\r\n        </div>`,\r\n      props: {\r\n        value: {\r\n          type: Number,\r\n        },\r\n        toString: {\r\n          validator: mode => [ 'date-time', 'date', 'time' ].includes(mode),\r\n        },\r\n        toLocalString: {\r\n          validator: mode => [ 'date-time', 'date', 'time', 'default' ].includes(mode),\r\n          default: 'default',\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n</script>\r\n```\r\n\r\n### What is expected?\r\n\r\nThey are all keys match the uni simple rule: not start with `_` or `$`\r\n\r\n### What is actually happening?\r\n\r\nIf parent component doesn't pass the prop, then the component will get neither `undefined` nor `default`, but the value in `Object.prototype`.\r\n\r\n---\r\n\r\n1. `{}` in these two lines need to be replaced to `Object.create(null)`, the first line is required for two cases, and the second line is required for `default` case,\r\n\r\nhttps://github.com/vuejs/vue/blob/52719ccab8fccffbdf497b96d3731dc86f04c1ce/src/core/vdom/helpers/extract-props.js#L24\r\n\r\nhttps://github.com/vuejs/vue/blob/33e669b22f69a1f9c9147528360fe0bba85534f0/src/core/instance/state.js#L66\r\n\r\n2. there still leave `constructor` which can't be used, it need `delete Vue.prototype.constructor`, and give an alternative way to do what `vm.constructor` (`Sub.prototype.constructor = Sub`) do in current source code.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11757","RelatedDescription":"Open issue \"when use key in Object.prototype carelessly as prop, it will work wrong way\" (#11757)"},{"Id":"738258751","IsPullRequest":false,"CreatedAt":"2020-11-09T09:41:05","Actor":"badpunman","Number":"11755","RawContent":null,"Title":"Memory leak when async callback changes templating after component destroyed","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n// [https://jsfiddle.net/cbou8w63/](https://jsfiddle.net/cbou8w63/)\r\ncleaned up:\r\n[https://jsfiddle.net/pgtrqLd5/4/](https://jsfiddle.net/pgtrqLd5/4/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nProvided in fiddle is a button that leaks the component. Note that jsfiddle doesn't seem to expose in memory tab the context where actual script is being run? Observe chrome's memory usage instead.\r\n\r\n### What is expected?\r\nComponent should release.\r\n\r\n### What is actually happening?\r\nMemory leak.\r\n\r\n---\r\nAsync callback is called after component has been already destroyed. Memory usage increases as you keep pressing the button. Garbage collection will never release it. It seems like it is necessary for the callback to modify template v-if somehow for this to manifest. \r\nAt first my initial hypothesis in our software's memory leak was that vuex computed values were being recalculated and that reregistered the dependencies and that itself kept the memory reserved, which might be the case, but it wasn't enough for the problem to reoccur in the minimal repro. After adding v-if template pattern, it started leaking.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11755","RelatedDescription":"Closed issue \"Memory leak when async callback changes templating after component destroyed\" (#11755)"},{"Id":"738567576","IsPullRequest":true,"CreatedAt":"2020-11-09T08:27:42","Actor":"LongTengDao","Number":"11756","RawContent":null,"Title":"fix props & computed proto","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n\r\nKey in `Object.prototype` does not work right for `props` / `computed` before this PR.\r\n\r\nNOTICE: here still leave `constructor` that can't use, even after I replaced all `constructor` to `_constructor` in the source code, if I remove line `Vue.prototype.constructor = Vue` (in `/src/core/instance/index.js`) for the last step, here will always be one test fail (`ci/circleci: test-e2e`). I can not figure out why:\r\n\r\n```\r\n   - basic SSR (664ms)\r\n   Testing if element <#result> contains text: \"<div data-server-rendered=\"true\">foo</div>\".  - expected \"<div data-server-rendered=\"true\">foo</div>\" but got: \"TypeError: undefined is not an object (evaluating 'Vue.super')\"\r\n       at Object.basic SSR (/root/project/vue/test/e2e/specs/basic-ssr.js:5:15)\r\n       at processTicksAndRejections (internal/process/task_queues.js:79:11)\r\n```\r\n","Url":"https://github.com/vuejs/vue/pull/11756","RelatedDescription":"Closed or merged PR \"fix props & computed proto\" (#11756)"},{"Id":"737690370","IsPullRequest":false,"CreatedAt":"2020-11-06T11:52:03","Actor":"wangjianshuo","Number":"11754","RawContent":null,"Title":"css中设置line-height: 0，导致 {{ }} 数据无法更新。","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[http://cdn.xinqiang.wang/test.html](http://cdn.xinqiang.wang/test.html)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nvue：2.6.10\r\n测试机器： ios （13.3.1）系统默认safari 浏览器\r\n现象说明： \r\ncss中设置了 div{\r\n    line-height: 0;\r\n}\r\n\r\n使用{{ }} 数据无法更新。\r\n使用v-text 可以更新。\r\n\r\n实例：\r\n\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>Title</title>\r\n  <style>\r\n  div{\r\n    line-height: 0;\r\n}\r\n\r\n  </style>\r\n\r\n</head>\r\n<body>\r\n\r\n<div id=\"app\">\r\n\r\n\r\n\r\n<div id=\"example-1\">\r\n  <div style=\"padding:  100px 0\">\r\n\r\n        \r\n        <p>{{ num }}我可以更新</p>\r\n       \r\n        <div style=\"height: 60px;\">\r\n\r\n        </div>\r\n    \r\n    \t不更新 我是{{}}\r\n        <p>{{ num }}</p>\r\n    \r\n    \t<div style=\"height: 60px;\">\r\n\r\n        </div>\r\n    \r\n    \t我是v-text\r\n    \t<p v-text=\"num\"></p>\r\n        \r\n        <button style=\"margin: 40px\" v-on:click=\"submitConfirm\">button</button>\r\n\r\n\r\n    </div>\r\n  \r\n  \r\n</div>\r\n\r\n</div>\r\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.min.js\"/>\r\n</script>\r\n<script>\r\n    \r\n    var app = new Vue({\r\n        el: '#app',\r\n        \r\n       data() {\r\n        return {\r\n            counter: 0,\r\n            num: 0,\r\n\r\n        };\r\n    },\r\n    \r\n    methods: {\r\n\r\n        submitConfirm() {\r\n\r\n            this.num =1;\r\n\r\n            this.counter  = 1;\r\n\r\n\r\n        },  \r\n    },\r\n    });\r\n</script>\r\n</body> \r\n\r\n### What is expected?\r\n{{}} 可以试试更新\r\n\r\n### What is actually happening?\r\nvue：2.6.10\r\n测试机器： ios （13.3.1）系统默认safari 浏览器\r\n现象说明： \r\ncss中设置了 div{\r\n    line-height: 0;\r\n}\r\n\r\n使用{{ }} 数据无法更新。\r\n使用v-text 可以更新。\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11754","RelatedDescription":"Closed issue \"css中设置line-height: 0，导致 {{ }} 数据无法更新。\" (#11754)"},{"Id":"737682590","IsPullRequest":false,"CreatedAt":"2020-11-06T11:21:32","Actor":"wangjianshuo","Number":"11753","RawContent":null,"Title":"css中设置line-height: 0，导致 {{ }} 数据无法更新。","State":"closed","Body":"vue：2.6.10\r\n测试机器： ios （13.3.1）系统默认safari 浏览器\r\n现象说明： \r\ncss中设置了 div{\r\n    line-height: 0;\r\n}\r\n\r\n使用{{ }} 数据无法更新。\r\n使用v-text 可以更新。\r\n\r\n实例：\r\n\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>Title</title>\r\n  <style>\r\n  div{\r\n    line-height: 0;\r\n}\r\n\r\n  </style>\r\n\r\n</head>\r\n<body>\r\n\r\n<div id=\"app\">\r\n\r\n\r\n\r\n<div id=\"example-1\">\r\n  <div style=\"padding:  100px 0\">\r\n\r\n        \r\n        <p>{{ num }}我可以更新</p>\r\n       \r\n        <div style=\"height: 60px;\">\r\n\r\n        </div>\r\n    \r\n    \t不更新 我是{{}}\r\n        <p>{{ num }}</p>\r\n    \r\n    \t<div style=\"height: 60px;\">\r\n\r\n        </div>\r\n    \r\n    \t我是v-text\r\n    \t<p v-text=\"num\"></p>\r\n        \r\n        <button style=\"margin: 40px\" v-on:click=\"submitConfirm\">button</button>\r\n\r\n\r\n    </div>\r\n  \r\n  \r\n</div>\r\n\r\n</div>\r\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.min.js\"/>\r\n</script>\r\n<script>\r\n    \r\n    var app = new Vue({\r\n        el: '#app',\r\n        \r\n       data() {\r\n        return {\r\n            counter: 0,\r\n            num: 0,\r\n\r\n        };\r\n    },\r\n    \r\n    methods: {\r\n\r\n        submitConfirm() {\r\n\r\n            this.num+=1;\r\n\r\n            this.counter += 1;\r\n\r\n\r\n        },  \r\n    },\r\n    });\r\n</script>\r\n</body> ","Url":"https://github.com/vuejs/vue/issues/11753","RelatedDescription":"Closed issue \"css中设置line-height: 0，导致 {{ }} 数据无法更新。\" (#11753)"},{"Id":"737258250","IsPullRequest":false,"CreatedAt":"2020-11-05T20:54:51","Actor":"matsieftw","Number":"11752","RawContent":null,"Title":"Barrel Exporting Doesn't Work In Sibling Components","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://gist.github.com/matsieftw/5d14024723adbcb7361ad435f6ee354a](https://gist.github.com/matsieftw/5d14024723adbcb7361ad435f6ee354a)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Create a barrel export file.\r\n2. Try to import components from the barrel.\r\n\r\n### What is expected?\r\nComponents should import properly.\r\n\r\n### What is actually happening?\r\nComponents import inconsistently. Some components will import from the barrel while others will not. Sibling components almost never successfully import from the barrel.\r\n\r\nA component registration error is served to the user in the console.\r\n\r\n---\r\nBarrel exporting works consistently for methods in a Vuejs project, however, Vue components are not consistently exporting properly from the barrel.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11752","RelatedDescription":"Closed issue \"Barrel Exporting Doesn't Work In Sibling Components\" (#11752)"}],"ResultType":"GitHubIssue"},"Router-Issues":{"Issues":[{"Id":"746379753","IsPullRequest":false,"CreatedAt":"2020-11-19T08:58:53","Actor":"chenguzhen87","Number":"3380","RawContent":null,"Title":"源码中是通过window.scrollTo()实现滚动的，怎么实现指定元素滚动？","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vue-router\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/issues/3380","RelatedDescription":"Closed issue \"源码中是通过window.scrollTo()实现滚动的，怎么实现指定元素滚动？\" (#3380)"},{"Id":"745515475","IsPullRequest":false,"CreatedAt":"2020-11-18T10:04:39","Actor":"chris-zhu","Number":"3379","RawContent":null,"Title":"useRouter()   return  undefined","State":"closed","Body":"when i use `useRouter`  break away  vue hooks ,  it return `undefined`, but in the vue hooks, it return `Router`.\r\nso i dont know this reason, Please answer me how to use `useRouter` is normal js, because i want to use it in vuex\r\n![image](https://user-images.githubusercontent.com/42139754/99515882-7f3f8780-29c8-11eb-8260-a70a89fb9722.png)\r\n","Url":"https://github.com/vuejs/vue-router/issues/3379","RelatedDescription":"Closed issue \"useRouter()   return  undefined\" (#3379)"},{"Id":"745480262","IsPullRequest":false,"CreatedAt":"2020-11-18T09:17:27","Actor":"zhang1024899756","Number":"3378","RawContent":null,"Title":"Router.beforeeach","State":"closed","Body":"Router.beforeeach must return Config when using the router.beforeeach method to allow the request to continue, and if I now want to abort the request and don't return config, an error will be reported. Is there any good way to do this?\r\n","Url":"https://github.com/vuejs/vue-router/issues/3378","RelatedDescription":"Closed issue \"Router.beforeeach\" (#3378)"},{"Id":"745365639","IsPullRequest":true,"CreatedAt":"2020-11-18T07:53:41","Actor":"Alanscut","Number":"3377","RawContent":null,"Title":"docs: add language-specific link","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\nadd language-specific link.\r\n","Url":"https://github.com/vuejs/vue-router/pull/3377","RelatedDescription":"Closed or merged PR \"docs: add language-specific link\" (#3377)"},{"Id":"745187253","IsPullRequest":true,"CreatedAt":"2020-11-18T07:53:00","Actor":"SchawnnDev","Number":"3376","RawContent":null,"Title":"docs: typo fix","State":"closed","Body":"Fixed bold typo\r\n","Url":"https://github.com/vuejs/vue-router/pull/3376","RelatedDescription":"Closed or merged PR \"docs: typo fix\" (#3376)"},{"Id":"744896805","IsPullRequest":false,"CreatedAt":"2020-11-17T17:37:23","Actor":"dxvladislavvolkov","Number":"3375","RawContent":null,"Title":"Router link lose class name","State":"closed","Body":"### Version\r\n3.4.9\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/1j4p3ewm/2/](https://jsfiddle.net/1j4p3ewm/2/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Open a jsfiddle example\r\n2. Click on the second link\r\n\r\nClass disappears from the first link\r\n\r\n\r\n\r\n### What is expected?\r\nI have a component where slots are router-links. I need to get an element of router-link and add a class on it (not using binding)\r\nSo, I get children on the mounted hook and add class to the element\r\nStyles of the class applied and don't disappear after some actions on a page\r\n\r\n### What is actually happening?\r\nStyles of the class applied but after clicking on another link the class disappears\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3375","RelatedDescription":"Closed issue \"Router link lose class name\" (#3375)"},{"Id":"744492503","IsPullRequest":false,"CreatedAt":"2020-11-17T07:52:04","Actor":"darkylmnx","Number":"3374","RawContent":null,"Title":"Redirect with query string doest't work and removes query from URL : router.push({ redirect: '/path?query=value' })","State":"closed","Body":"### Version\r\n3.4.7\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/darkylmnx/yrosh76j/](https://jsfiddle.net/darkylmnx/yrosh76j/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n- Go to `/a`\r\n- Call `router.push({ redirect: '/b?query=value' })`\r\n\r\n### What is expected?\r\nURL to be: /b?query=value\r\n\r\n### What is actually happening?\r\nURL is: /b\r\n\r\n---\r\nYour question may be, why using a redirect when pushing a location object, the answer is that's what is done in a plugin I use, and I have no hand on the code.\r\nDespite that, it's a weird behaviour that:\r\n- `router.push('/b?query=value' )` works\r\n- and `router.push({ redirect: '/b?query=value' })` doesn't and removes the query from the URL\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3374","RelatedDescription":"Closed issue \"Redirect with query string doest't work and removes query from URL : router.push({ redirect: '/path?query=value' })\" (#3374)"},{"Id":"743960999","IsPullRequest":false,"CreatedAt":"2020-11-16T18:14:06","Actor":"nazarepiedady","Number":"3373","RawContent":null,"Title":"Docs: portuguese translation","State":"closed","Body":"I have translated the Vue Router documentation to portuguese, but it's 80 percent. Is it possible do a pull request or it's better to complete the translation and finally do a pull request once for all?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3373","RelatedDescription":"Closed issue \"Docs: portuguese translation\" (#3373)"},{"Id":"741190750","IsPullRequest":true,"CreatedAt":"2020-11-13T20:52:24","Actor":"stephahart","Number":"3370","RawContent":null,"Title":"feat(history): allow full base url","State":"closed","Body":"I'm working on a project that includes a <base> tag in the HTML so that all static assets are loaded through a CDN on a different domain. When you add a <base> tag, relative paths pushed to the history API use the href of the <base> instead of window.location.host.\r\n\r\nIn order to not direct the user to the CDN, I'd like to make a change to allow vue-router to accept full URLs. This only requires a minor change to two lines:\r\n1. To ensure that a leading slash is not added before the protocol of a full URL in `normalizeBase`.\r\n2. To keep double slashes after the protocol in `cleanPath`.\r\n","Url":"https://github.com/vuejs/vue-router/pull/3370","RelatedDescription":"Closed or merged PR \"feat(history): allow full base url\" (#3370)"},{"Id":"742745448","IsPullRequest":false,"CreatedAt":"2020-11-13T20:51:26","Actor":"stephahart","Number":"3372","RawContent":null,"Title":"Allow Protocol and Host to be Included in Base","State":"closed","Body":"### What problem does this feature solve?\r\nWhen the html includes a `<base>` tag, a default target is specified for all links on the page. For the app I'm working on, this `<base>` tag is only inserted for the production environment so that static assets are loaded through our CDN (all static assets are referenced with relative paths). \r\n(Note: we currently only build our app once and promote the build artifacts through our different environments (development, staging, production, etc.). Adding the `<base>` tag only for production allows us to do this, otherwise we'd have to rebuild the app for production only, which we don't want to do.)\r\n\r\nThis causes a unique issue where vue-router works in all environments except production (the only environment where the `<base>` tag is included). This is because vue-router links are relative and follow the target set by the `<base>` tag, which is expected behavior in the browser.\r\n\r\n### What does the proposed API look like?\r\nTo work around this issue, I would instead like to include the protocol/domain in our base so that router links stay on the same domain (instead of directing the user to the CDN). For example, our router would be initialized as so:\r\n```\r\nconst pathBase = \"/some-base\"\r\nconst router = new VueRouter({\r\n  mode: \"history\",\r\n  base: window.location.protocol + \"//\" + window.location.host + pathBase,\r\n  routes,\r\n});\r\n```\r\nRight now, providing the protocol/domain in the base option does not work because the base is assumed to be the beginning of a relative path.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3372","RelatedDescription":"Closed issue \"Allow Protocol and Host to be Included in Base\" (#3372)"},{"Id":"741443582","IsPullRequest":false,"CreatedAt":"2020-11-12T09:52:59","Actor":"citrusjunoss","Number":"3371","RawContent":null,"Title":"router.back Can't work when the popstate listener is removed","State":"closed","Body":"### Version\r\n3.4.9\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vue-router/issues/2016](https://github.com/vuejs/vue-router/issues/2016)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nIt's a strange problem and it's hard to reproduce。\r\n\r\nI found that the problem may lie in` hook:destroyed `C through breakpoint debugging\r\n\r\n```\r\n    app.$once('hook:destroyed', () => {\r\n      // clean out app from this.apps array once destroyed\r\n      const index = this.apps.indexOf(app)\r\n      if (index > -1) this.apps.splice(index, 1)\r\n      // ensure we still have a main app or null if no apps\r\n      // we do not release the router so it can be reused\r\n      if (this.app === app) this.app = this.apps[0] || null\r\n\r\n      if (!this.app) this.history.teardown()\r\n    })\r\n```\r\n\r\n` this.app `Is set to null, when the app is destroyed for some reason\r\n\r\n\r\n\r\n\r\n\r\n\r\n### What is expected?\r\nrouter.back ()  works\r\n\r\n### What is actually happening?\r\nthe page is normal, just router.back () or router.go (- 1) not working, which is strange\r\n\r\n---\r\nThe code fragment cannot be provided because it is not required\r\n\r\nThe secondary routing component uses the `keepAlive`\r\n\r\n```\r\n    <transition name=\"fade\" mode=\"out-in\">\r\n      <keep-alive :max=\"2\" :exclude=\"excludeViews\" :include=\"includeViews\">\r\n        <router-view :key=\"key\"></router-view>\r\n      </keep-alive>\r\n    </transition>\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3371","RelatedDescription":"Closed issue \"router.back Can't work when the popstate listener is removed\" (#3371)"},{"Id":"740008196","IsPullRequest":false,"CreatedAt":"2020-11-10T16:16:49","Actor":"jods4","Number":"3369","RawContent":null,"Title":"Async support and navigating prop","State":"closed","Body":"### What problem does this feature solve?\r\nIt'd be nice if the router was able to handle `async setup()` components.\r\nNavigation would start, and router would wait for setup to resolve before mounting the new route.\r\nI handled this before by having `<Suspense>` around the router view but with recent changes vuejs/vue-next#2099 this doesn't work anymore.\r\n\r\nYou can say that using `beforeRouteEnter` is an alternative, e.g. to load data, but it results in really convoluted/bad code because `setup` must return an object with all state within, so `beforeRouteEnter` must mutate everything because the state has to live in its outer scope.\r\n\r\nTo round up async support, it would also be nice if the router had a reactive property indicating a navigation is in progress. This enables us to easily show feedback in UI whenever async navigation happens, which includes async components loading, async router hooks, async setup.\r\n\r\n### What does the proposed API look like?\r\nFor async setup support: no API, it should just work.\r\nFor the property. `isNavigating` ref  property on the router.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3369","RelatedDescription":"Closed issue \"Async support and navigating prop\" (#3369)"},{"Id":"739555232","IsPullRequest":false,"CreatedAt":"2020-11-10T08:43:00","Actor":"wlf100220","Number":"3368","RawContent":null,"Title":"Type `Route` is not assignable to type `Location`","State":"closed","Body":"### Version\r\n3.4.9\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/cranky-resonance-psvmb?file=/main.ts](https://codesandbox.io/s/cranky-resonance-psvmb?file=/main.ts)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n```ts\r\nimport Router from 'vue-router'\r\n\r\nconst router = new Router()\r\nrouter.beforeEach((to, from, next) => {\r\n  next(to) // errors at this line\r\n})\r\n```\r\n\r\n### What is expected?\r\nno type errors\r\n\r\n### What is actually happening?\r\nTS2345: Argument of type 'Route' is not assignable to parameter of type 'string | false | void | Location | ((vm: Vue) => any) | undefined'.   Type 'Route' is not assignable to type 'Location'.     Types of property 'name' are incompatible.       Type 'string | null | undefined' is not assignable to type 'string | undefined'.         Type 'null' is not assignable to type 'string | undefined'.\r\n\r\n---\r\nCan u remove `null` in properties of `name` in type of `Route` or add it to the one of `Location`\r\n```ts\r\n// router.d.ts\r\nexport interface Location {\r\n  name?: string\r\n  path?: string\r\n  hash?: string\r\n  query?: Dictionary<string | (string | null)[] | null | undefined>\r\n  params?: Dictionary<string>\r\n  append?: boolean\r\n  replace?: boolean\r\n}\r\n\r\nexport interface Route {\r\n  path: string\r\n  name?: string | null\r\n  hash: string\r\n  query: Dictionary<string | (string | null)[]>\r\n  params: Dictionary<string>\r\n  fullPath: string\r\n  matched: RouteRecord[]\r\n  redirectedFrom?: string\r\n  meta?: any\r\n}\r\n```\r\n\r\n=>\r\n```ts\r\nexport interface Route {\r\n  path: string\r\n  name?: string\r\n  hash: string\r\n  query: Dictionary<string | (string | null)[]>\r\n  params: Dictionary<string>\r\n  fullPath: string\r\n  matched: RouteRecord[]\r\n  redirectedFrom?: string\r\n  meta?: any\r\n}\r\n```\r\nor \r\n\r\n```ts\r\nexport interface Location {\r\n  name?: string | null\r\n  path?: string\r\n  hash?: string\r\n  query?: Dictionary<string | (string | null)[] | null | undefined>\r\n  params?: Dictionary<string>\r\n  append?: boolean\r\n  replace?: boolean\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3368","RelatedDescription":"Closed issue \"Type `Route` is not assignable to type `Location`\" (#3368)"},{"Id":"738931053","IsPullRequest":false,"CreatedAt":"2020-11-09T11:57:48","Actor":"Shinigami92","Number":"3367","RawContent":null,"Title":"Docs: \"named chunks\" link directs to page not found","State":"closed","Body":"### Version\r\n3.4.9\r\n\r\n### Reproduction link\r\n\\-\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Go to https://router.vuejs.org/guide/advanced/lazy-loading.html#grouping-components-in-the-same-chunk\r\n2. Click on `named chunks`-link\r\n3. See `Page Not Found`\r\n\r\n### What is expected?\r\nDirect to correct page\r\n\r\n### What is actually happening?\r\nPage Not Found\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3367","RelatedDescription":"Closed issue \"Docs: \"named chunks\" link directs to page not found\" (#3367)"},{"Id":"737357225","IsPullRequest":false,"CreatedAt":"2020-11-06T07:14:15","Actor":"gsccheng","Number":"3366","RawContent":null,"Title":"Conditionally Redirect","State":"closed","Body":"### What problem does this feature solve?\r\nAllow a developer to configure whether or not a redirect happens in the [redirect](https://new-issue.vuejs.org/?repo=vuejs/vue-router) function.\r\n\r\n\r\n### What does the proposed API look like?\r\nSomething to the effect of if `false` is passed, a redirect does not happen. Otherwise redirect to returned path.\r\n\r\n```\r\nconst router = new VueRouter({\r\n  routes: [\r\n    { path: '/a', redirect: () => {\r\n      if (userIsLoggedIn) {\r\n        return \"path/to/somewhere/else\";\r\n      }  \r\n      return false;\r\n    }}\r\n  ]\r\n})\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3366","RelatedDescription":"Closed issue \"Conditionally Redirect\" (#3366)"},{"Id":"736924642","IsPullRequest":false,"CreatedAt":"2020-11-05T14:11:21","Actor":"Jordi735","Number":"3365","RawContent":null,"Title":"Wrong component being rendered when nested 3 deep with both <keep-alive> and <transition>","State":"closed","Body":"### Version\r\n3.4.8\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/3q97L50m/](https://jsfiddle.net/3q97L50m/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nIf you nest a route 3 deep. With the one on the second and third level wrapped in both a `<keep-alive>` and `<transition>`. The wrong component renders when switching from level 2 if that makes sense.\r\n\r\n### What is expected?\r\nThe router should load whichever component is defined in the routes array.\r\n\r\n### What is actually happening?\r\nWhen you click on the deepest nested component, the one loaded previously always shows instead of the one the `<router-link>` points to.\r\n\r\n---\r\nI'm having a hard time explaining by typing. I really hope my fiddle shows it properly. (https://jsfiddle.net/3q97L50m/)\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3365","RelatedDescription":"Closed issue \"Wrong component being rendered when nested 3 deep with both <keep-alive> and <transition>\" (#3365)"},{"Id":"736653707","IsPullRequest":false,"CreatedAt":"2020-11-05T07:00:10","Actor":"abhion","Number":"3364","RawContent":null,"Title":"createRouter, createWebHistory is undefined","State":"closed","Body":"### Version\r\n3.3.4\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-dynamic-components-forked-xij8q](https://codesandbox.io/s/vue-dynamic-components-forked-xij8q)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nimport createWebHistory from vue-router\r\n\r\n### What is expected?\r\nI am trying to test vue-router. It mentions in this link https://vue-test-utils.vuejs.org/v2/guide/vue-router.html#with-a-real-router the steps to follow\r\n\r\n### What is actually happening?\r\nWhen I run the test I get typeerror: (01,\r\ncreateWebHistory\r\n), is not a function. I printed createWebHistory and it is undefined\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3364","RelatedDescription":"Closed issue \"createRouter, createWebHistory is undefined\" (#3364)"},{"Id":"735944074","IsPullRequest":false,"CreatedAt":"2020-11-04T09:12:41","Actor":"xianjing123","Number":"3363","RawContent":null,"Title":"vue3 vue-router Uncaught Error","State":"closed","Body":"Uncaught Error: Catch all routes (\"*\") must now be defined using a param with a custom regexp.","Url":"https://github.com/vuejs/vue-router/issues/3363","RelatedDescription":"Closed issue \"vue3 vue-router Uncaught Error\" (#3363)"},{"Id":"734405320","IsPullRequest":false,"CreatedAt":"2020-11-03T07:56:33","Actor":"beit46","Number":"3361","RawContent":null,"Title":"Before Hook guard and currentRoute fullPath","State":"closed","Body":"### Version\r\n3.4.8\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/9oxdastu/](https://jsfiddle.net/9oxdastu/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n- Implement a beforeEach hook on the router\r\n- On the beforeHook use a next({ name: 'PageNotFound' })\r\n- Call a router.push() and expect that it use the previous line next()\r\n- Using a catch on the router.push that should be redirected, does not updates router.currentRoute.fullPath to match the PageNotFound URL\r\n- After the block execute router.push().then.catch, even if I sleep(500), the router.currentRoute.fullPath is not updated correctly. \r\n- When I use the afterHook on the router, I Can correctly see my router updated\r\n\r\n### What is expected?\r\nI expect the \"router.currentRoute.fullPath\" to match the route I redirect to in the beforeEach hook next() \r\n\r\n### What is actually happening?\r\nThe router.currentRoute.fullPath doesn't get updated, it reflects the endpoint prior to the redirected router.push()\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3361","RelatedDescription":"Closed issue \"Before Hook guard and currentRoute fullPath\" (#3361)"},{"Id":"734510048","IsPullRequest":false,"CreatedAt":"2020-11-03T07:30:55","Actor":"ionesculiviucristian","Number":"3362","RawContent":null,"Title":"Router link error when pushing","State":"closed","Body":"### Version\r\n3.4.8\r\n\r\n### Steps to reproduce\r\nWhen navigating back and forth through the router view, I get this error when using this.$router.push:\r\n\r\n```html\r\n<router-link v-if=\"hasRoute\" @click.native=\"navigate\" :to=\"_route\" exact tag=\"li\">\r\n```\r\n\r\n```js\r\n  methods: {\r\n    navigate (route) {\r\n      this.$router.push(route).catch(failure => console.log(failure));\r\n    }\r\n  },\r\n```\r\n\r\n```js\r\nvue.runtime.esm.js?2b0e:1888 TypeError: relative.charAt is not a function\r\n    at resolvePath (vue-router.esm.js?8c4f:460)\r\n    at normalizeLocation (vue-router.esm.js?8c4f:1031)\r\n    at Object.match (vue-router.esm.js?8c4f:1523)\r\n    at VueRouter.match (vue-router.esm.js?8c4f:2867)\r\n    at HTML5History.transitionTo (vue-router.esm.js?8c4f:2194)\r\n    at HTML5History.push (vue-router.esm.js?8c4f:2544)\r\n    at VueRouter.push (vue-router.esm.js?8c4f:2966)\r\n    at VueComponent.nav (TextItem.vue?44a0:26)\r\n    at click (eval at ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"9a00ad72-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/pages/breadcrumbs/TextItem.vue?vue&type=template&id=553682da& (app.4f4bad17703210e3baf8.hot-update.js:11), <anonymous>:15:26)\r\n    at invokeWithErrorHandling (vue.runtime.esm.js?2b0e:1854)\r\n```\r\n\r\nWhen debugged, relative has the value of:\r\n\r\n```js\r\nrelative: Array(12)\r\n0: span\r\n1: a\r\n2: li.router-link-exact-active.router-link-active\r\n3: ul.v-breadcrumbs.theme--dark\r\n4: div.v-toolbar__content\r\n5: header.v-sheet.theme--dark.v-toolbar.v-toolbar--dense.v-app-bar.v-app-bar--clipped.v-app-bar--fixed\r\n6: div.v-application--wrap\r\n7: div#app.v-application.v-application--is-ltr.theme--dark\r\n8: body\r\n9: html\r\n10: document\r\n11: Window {window: Window, self: Window, document: document, name: \"\", location: Location, …}\r\nlength: 12\r\n__proto__: Array(0)\r\n```\r\n\r\n### What is expected?\r\nFor the navigation to actually happen correctly\r\n\r\n### What is actually happening?\r\nNavigates to a previous link and shows an error when pushing\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3362","RelatedDescription":"Closed issue \"Router link error when pushing\" (#3362)"},{"Id":"726322598","IsPullRequest":true,"CreatedAt":"2020-11-02T07:44:57","Actor":"samzeng","Number":"3352","RawContent":null,"Title":"docs: fix Webpack code splitting link","State":"closed","Body":"","Url":"https://github.com/vuejs/vue-router/pull/3352","RelatedDescription":"Closed or merged PR \"docs: fix Webpack code splitting link\" (#3352)"},{"Id":"731954940","IsPullRequest":false,"CreatedAt":"2020-10-29T03:00:52","Actor":"emperorOfBug","Number":"3360","RawContent":null,"Title":"Nested Routes Unexpected Refresh ","State":"closed","Body":"this is my App.vue\r\n`\r\n  <div id=\"app\">\r\n            <router-view :key=\"key\"></router-view>\r\n        </div>\r\n`\r\nthis is my box\r\n`\r\n<div>\r\n        <head-top :form=\"form\" :navList=\"navList\"></head-top>\r\n        <router-view></router-view>\r\n        <div style=\"padding-bottom: 100px\"></div>\r\n        <foot-bottom :footPageCgf=\"form.footerPage\"></foot-bottom>\r\n    </div>\r\n`\r\n\r\nI found that when I use \"this.$push(path)\" it was really good(path without any param type of query)\r\nbut when I use   \"this.$push({path:path,query{id:1}})\" or \"this.$push(path?id=1)\"\r\nThe box was refresh ,\"head-top\" and \"foot-bottom\"  were reload\r\n\r\nI don't think it is correct, and I want keep my components when I turn to a URL just like \"download?id=1\"","Url":"https://github.com/vuejs/vue-router/issues/3360","RelatedDescription":"Closed issue \"Nested Routes Unexpected Refresh \" (#3360)"},{"Id":"729026593","IsPullRequest":true,"CreatedAt":"2020-10-25T15:48:38","Actor":"Alex-Sokolov","Number":"3358","RawContent":null,"Title":"docs: navigation-failures.md fix examples","State":"closed","Body":"Because everywhere on the page used `router` for navigation, which need to be imported as `router`\r\n","Url":"https://github.com/vuejs/vue-router/pull/3358","RelatedDescription":"Closed or merged PR \"docs: navigation-failures.md fix examples\" (#3358)"},{"Id":"729034786","IsPullRequest":false,"CreatedAt":"2020-10-25T15:47:09","Actor":"xd-luke","Number":"3359","RawContent":null,"Title":"Error at new NavigationDuplicated","State":"closed","Body":"### Version\r\n3.4.7\r\n\r\n### Reproduction link\r\n[https://stackoverflow.com/questions/57837758/navigationduplicated-navigating-to-current-location-search-is-not-allowed](https://stackoverflow.com/questions/57837758/navigationduplicated-navigating-to-current-location-search-is-not-allowed)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nNavigate to the route you are already on causes an false error. \r\n\r\n### What is expected?\r\nNo error message should be displayed for attempting to navigate to the route that the user is already on.  perhaps a warning could be displayed... But, certainly this is not an error, as the nothing wrong has actually happened.  \r\n\r\n### What is actually happening?\r\nThe system making developers have to deal with errors that aren't actually errors. \r\n\r\n---\r\nPlease don't ask developers to add additional code to their programs just to swallow all errors of this type. That's not a good coding experience...\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3359","RelatedDescription":"Closed issue \"Error at new NavigationDuplicated\" (#3359)"},{"Id":"728843519","IsPullRequest":true,"CreatedAt":"2020-10-25T12:16:28","Actor":"Alex-Sokolov","Number":"3357","RawContent":null,"Title":"docs: [RU] Translation update","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3357","RelatedDescription":"Closed or merged PR \"docs: [RU] Translation update\" (#3357)"},{"Id":"728808612","IsPullRequest":false,"CreatedAt":"2020-10-24T15:10:27","Actor":"saileshkush95","Number":"3356","RawContent":null,"Title":"Dynamic Import is throwing meta error, vue3","State":"closed","Body":"I'm trying to handle multiple domains for router. Here is my code for static import.\r\n```\r\nimport default_routes from \"./default\";\r\nimport tenantone from \"./tenantone\";\r\nimport tenanttwo from \"./tenanttwo\";\r\n\r\nconst currentHostName = window.location.hostname;\r\nlet router;\r\n\r\nif (currentHostName === \"abc.com\") {\r\n    router = tenantone;\r\n} else if (currentHostName === \"bcd.com\") {\r\n    router = tenanttwo;\r\n} else {\r\n    router = default-routes\r\n}\r\n\r\nexport default router;\r\n```\r\nAbove code is working fine without any error but when i try to perform dynamic import I'm getting error related to meta.\r\nHere is my code of block which i want to implement inside else block for testing purpose only.\r\n\r\n```\r\n    const routePath = './default'\r\n    import(`${routePath}`).then((module) => {\r\n        router = module.default\r\n    });\r\n```\r\nand here is my full code block.\r\n```\r\n// import default_routes from \"./default\";\r\nimport tenantone from \"./tenantone\";\r\nimport tenanttwo from \"./tenanttwo\";\r\n\r\nconst currentHostName = window.location.hostname;\r\nlet router;\r\n\r\nif (currentHostName === \"abc.com\") {\r\n    router = tenantone;\r\n} else if (currentHostName === \"bcd.com\") {\r\n    router = tenanttwo;\r\n} else {\r\n    const routePath = './default'\r\n    import(`${routePath}`).then((module) => {\r\n        router = module.default\r\n    });\r\n}\r\n\r\nexport default router;\r\n```\r\nand here is screenshot of error.\r\n![Screenshot from 2020-10-24 20-53-47](https://user-images.githubusercontent.com/28560875/97085113-094f3700-163b-11eb-9337-7ff6b8ccae86.png)\r\n","Url":"https://github.com/vuejs/vue-router/issues/3356","RelatedDescription":"Closed issue \"Dynamic Import is throwing meta error, vue3\" (#3356)"},{"Id":"727326468","IsPullRequest":true,"CreatedAt":"2020-10-22T12:30:51","Actor":"safanbd","Number":"3355","RawContent":null,"Title":"Update view.js","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3355","RelatedDescription":"Closed or merged PR \"Update view.js\" (#3355)"},{"Id":"726244185","IsPullRequest":true,"CreatedAt":"2020-10-21T12:52:15","Actor":"gaetansenn","Number":"3351","RawContent":null,"Title":"feat(scroll): dd behavior support on scrollBehavior","State":"closed","Body":"Add the possibility to pass behaviour type to window.scrollTo if supported by browser.\r\n\r\nClose #2069\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3351","RelatedDescription":"Closed or merged PR \"feat(scroll): dd behavior support on scrollBehavior\" (#3351)"},{"Id":"726392155","IsPullRequest":false,"CreatedAt":"2020-10-21T11:34:38","Actor":"SCWR","Number":"3354","RawContent":null,"Title":"Error when opening with a encoded hash title","State":"closed","Body":"### Version\r\n3.4.7\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vuepress/issues/2599](https://github.com/vuejs/vuepress/issues/2599)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nThe final wrong position is\r\n\r\nhttps://github.com/vuepress/vuepress-plugin-smooth-scroll/blob/master/src/enhanceApp.ts#L16\r\n\r\nvuepress-plugin-smooth-scroll\r\n\r\nThis document is used here.\r\n\r\nhttps://router.vuejs.org/guide/advanced/scroll-behavior.html#async-scrolling\r\n\r\nThere was no problem before because the to.hash returned by vue-router was call decodeURIComponent.\r\n\r\nSince version 3.4.3, the uncoded hash has been returned directly.\r\n\r\n### What is expected?\r\nThe scroll was successful.\r\n\r\n### What is actually happening?\r\nScrolling failed.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3354","RelatedDescription":"Closed issue \"Error when opening with a encoded hash title\" (#3354)"},{"Id":"726388237","IsPullRequest":false,"CreatedAt":"2020-10-21T11:22:40","Actor":"SCWR","Number":"3353","RawContent":null,"Title":"Scroll Behavior to.hash not call `decodeURIComponent`","State":"closed","Body":"The final wrong position is\r\n\r\nhttps://github.com/vuepress/vuepress-plugin-smooth-scroll/blob/master/src/enhanceApp.ts#L16\r\n\r\n`vuepress-plugin-smooth-scroll`\r\n\r\nThis document is used here.\r\n\r\nhttps://router.vuejs.org/guide/advanced/scroll-behavior.html#async-scrolling\r\n\r\nThere was no problem before because the to.hash returned by vue-router was call `decodeURIComponent`.\r\n\r\nSince version 3.4.3, the uncoded hash has been returned directly.\r\n\r\n_Originally posted by @SCWR in https://github.com/vuejs/vuepress/issues/2599#issuecomment-713498255_","Url":"https://github.com/vuejs/vue-router/issues/3353","RelatedDescription":"Closed issue \"Scroll Behavior to.hash not call `decodeURIComponent`\" (#3353)"}],"ResultType":"GitHubIssue"},"Vuex-Issues":{"Issues":[{"Id":"746443039","IsPullRequest":false,"CreatedAt":"2020-11-19T10:36:49","Actor":"jaoord","Number":"1877","RawContent":null,"Title":"Which version of vuex should I use directly in the browser?","State":"closed","Body":"### Version\r\n4.0.0-beta.2\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/tda81ybc/](https://jsfiddle.net/tda81ybc/)\r\n\r\n### Steps to reproduce\r\nhtml:\r\n`<script src=\"https://unpkg.com/vue@3.0.2/dist/vue.global.js\"></script>\r\n<script src=\"https://unpkg.com/vuex@3.5.1/dist/vuex.global.js\"></script>\r\n<div id=\"app\">\r\n  <p>{{ message }}</p>\r\n</div>\r\n`\r\n\r\njs:\r\n`\r\nconst store = new Vuex.Store({\r\n    state: function() {\r\n        return {\r\n            filter: {\r\n                roofType: ''\r\n            }\r\n        }\r\n    }\r\n});\r\n\r\nconst app = Vue.createApp({\r\n    data: function () {\r\n        return {\r\n           message: 'Hello World'\r\n        }\r\n    },\r\n    methods: {\r\n    }\r\n});\r\n\r\napp.use(store);\r\nconst mountedApp = app.mount('#app');\r\n`\r\n\r\n### What is expected?\r\nno reference to process\r\n\r\n### What is actually happening?\r\nreference to process:\r\n\r\nUncaught ReferenceError: process is not defined\r\n    at new Store (vuex.global.js:290)\r\n    at ?editor_console=true:120\r\n\r\n---\r\nthe naming of the builds is quite confusing. there is for example a vuex.esm-browser.js, a vuex.esm.browser.js file, and cjs and commonjs files.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1877","RelatedDescription":"Closed issue \"Which version of vuex should I use directly in the browser?\" (#1877)"},{"Id":"746179166","IsPullRequest":false,"CreatedAt":"2020-11-19T01:54:18","Actor":"jessuni","Number":"1876","RawContent":null,"Title":"Documentation style bug","State":"open","Body":"### Version\r\n4.0.0-rc.1\r\n\r\n### Reproduction link\r\n[https://next.vuex.vuejs.org/#what-is-a-state-management-pattern](https://next.vuex.vuejs.org/#what-is-a-state-management-pattern)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nShrink viewport to less than 959px wide, there's an additional `margin-left` that squeezes the docs to the right and leave a blank block in the center. Same for viewport-width <= 719px, the left padding squeezes the whole docs.\r\n\r\n### What is expected?\r\nNormal article layout just like https://vuex.vuejs.org/\r\n\r\n### What is actually happening?\r\nStyling bug\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1876","RelatedDescription":"Open issue \"Documentation style bug\" (#1876)"},{"Id":"743677471","IsPullRequest":false,"CreatedAt":"2020-11-18T02:46:19","Actor":"ShenQingchuan","Number":"1873","RawContent":null,"Title":"How to access Vuex store in VueRouter.beforeEach in TypeScript?","State":"closed","Body":"### What problem does this feature solve?\r\nI want to set a guard in VueRouter.beforeEach(), it will redirect to the login page when the `loggedIn` state is `false`.\r\n\r\n### What does the proposed API look like?\r\nI want to achieve something this this:\r\n\r\n```typescript\r\nimport { RouteRecordRaw, createRouter, createWebHistory } from \"vue-router\";\r\nimport store from \"@/store\";\r\n\r\nconst routes: Array<RouteRecordRaw> = [\r\n  {\r\n    path: \"/login\",\r\n    name: \"Login\",\r\n    component: () => import(\"../views/Login.vue\")\r\n  },\r\n  {\r\n    path: \"/\",\r\n    name: \"Home\",\r\n    component: () => import(\"../views/Home.vue\"),\r\n    meta: {\r\n      requiresAuth: true\r\n    }\r\n  },\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  const loggedIn = store.state.authentication.loggedIn;\r\n  if (to.matched.some(record => record.meta.requiresAuth) && !loggedIn) {\r\n    next({\r\n      name: \"Login\",\r\n      query: { redirect: to.fullPath }\r\n    });\r\n  } else {\r\n    next();\r\n  }\r\n});\r\n\r\nexport default router;\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1873","RelatedDescription":"Closed issue \"How to access Vuex store in VueRouter.beforeEach in TypeScript?\" (#1873)"},{"Id":"744496081","IsPullRequest":false,"CreatedAt":"2020-11-17T07:48:43","Actor":"leeboo","Number":"1875","RawContent":null,"Title":"vue 3.0, vuex 4.0 能否采用数组语法动态的给state设置，比如state[name] = value","State":"closed","Body":"目前会报警告：Write operation failed: computed value is readonly\r\n但赋值是成功了的\r\n有什么影响，能否消除这个警告","Url":"https://github.com/vuejs/vuex/issues/1875","RelatedDescription":"Closed issue \"vue 3.0, vuex 4.0 能否采用数组语法动态的给state设置，比如state[name] = value\" (#1875)"},{"Id":"744177745","IsPullRequest":false,"CreatedAt":"2020-11-16T20:46:03","Actor":"jmcooper","Number":"1874","RawContent":null,"Title":"Documentation Clarity for Getters in Vuex Modules","State":"open","Body":"### Version\r\n4.0.0-rc.1\r\n\r\n### Reproduction link\r\n[https://vuex.vuejs.org/guide/modules.html#namespacing](https://vuex.vuejs.org/guide/modules.html#namespacing)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nThis is a problem with the documentation.\r\n\r\n### What is expected?\r\nGreater clarity on getters in Vuex modules\r\n\r\n### What is actually happening?\r\nIn the namespacing section there is this explanation for why getters, actions and mutations are not namespaced by default:\r\n\"By default, actions, mutations and getters inside modules are still registered under the global namespace - this allows multiple modules to react to the same mutation/action type.\"\r\n\r\nThat reasoning (allowing multiple modules to react) is true for mutations an actions, but it doesn't explain the purpose for getters. In fact, it feels inaccurate to be grouping getters into this reasoning since it's actually erroneous to suggest you can have getters with the same name in multiple non-namespaced modules (or root) when that, in fact, will produce an error.\r\n\r\n---\r\nWhat is the purpose for a module's getters being global by default? If there is a purpose, can it be included here in the documentation?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1874","RelatedDescription":"Open issue \"Documentation Clarity for Getters in Vuex Modules\" (#1874)"},{"Id":"742256391","IsPullRequest":false,"CreatedAt":"2020-11-16T11:26:29","Actor":"yaquawa","Number":"1871","RawContent":null,"Title":"match getter signature to actions","State":"closed","Body":"### Version\r\nv4.0.0-rc.1\r\n\r\nThe current signature of getter\r\n```ts\r\ntype Getter<S, R> = (state: S, getters: any, rootState: R, rootGetters: any) => any;\r\n```\r\n\r\nif I want to use `rootState` and `state` only, I have to write the `getters` in the 2nd parameter even if I'll never use it. \r\n```\r\ngetFoo(state, getters, rootState) {\r\n}\r\n```\r\n\r\nI think this is better, just like the signature of action handlers.\r\n```\r\ngetFoo({state, rootState}) {\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1871","RelatedDescription":"Closed issue \"match getter signature to actions\" (#1871)"},{"Id":"741563909","IsPullRequest":true,"CreatedAt":"2020-11-16T11:08:06","Actor":"Alanscut","Number":"1869","RawContent":null,"Title":"docs(typo): fix typos in comment","State":"closed","Body":"comment didn't update with the code.","Url":"https://github.com/vuejs/vuex/pull/1869","RelatedDescription":"Closed or merged PR \"docs(typo): fix typos in comment\" (#1869)"},{"Id":"737161621","IsPullRequest":true,"CreatedAt":"2020-11-16T11:06:45","Actor":"altinselimi","Number":"1868","RawContent":null,"Title":"Include mutations in the Vuex 4.x example","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1868","RelatedDescription":"Closed or merged PR \"Include mutations in the Vuex 4.x example\" (#1868)"},{"Id":"742844673","IsPullRequest":true,"CreatedAt":"2020-11-13T23:15:42","Actor":"sebamarynissen","Number":"1872","RawContent":null,"Title":"Add Node.js esm entry point","State":"open","Body":"This PR adds a Node.js esm entry point for Vuex. Currently it is already possible to do\r\n```js\r\nimport Vuex from 'vuex'\r\n```\r\non Node 13.2 and up, but unfortunately it's not possible to do\r\n```js\r\nimport { mapGetters } from 'vuex';\r\n```\r\nbecause Node doesn't support named imports from CommonJS (note: it actually *does*, but only if the imported cjs file adheres to some rules, such as using `exports.mapGetters`). This PR adds support for named imports on Node as well.\r\n\r\nWhile it *is* possible to directly use `dist/vuex.esm.js`, this PR does not use that file but chooses to use an esm wrapper file as to avoid the [dual package hazard](https://nodejs.org/api/packages.html#packages_approach_1_use_an_es_module_wrapper).\r\n\r\n### Why?\r\n\r\nNode.js now fully supports esm so let's encourage the migration process by improving interoperability of the code we write. I've created this PR in the wake of writing [vue-esm-loader](https://www.npmjs.com/package/vue-esm-loader) which allows importing `.vue` single-file components on Node without a build step. I noticed that I was unable to test my Vue components because they were using\r\n```js\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n  computed: {\r\n    ...mapState(['state']),\r\n  },\r\n};\r\n```\r\nand hence decided to add this functionality to Vuex.\r\n\r\nRelated: https://github.com/chaijs/chai/pull/1340","Url":"https://github.com/vuejs/vuex/pull/1872","RelatedDescription":"Open PR \"Add Node.js esm entry point\" (#1872)"},{"Id":"741607945","IsPullRequest":false,"CreatedAt":"2020-11-12T13:37:40","Actor":"yaquawa","Number":"1870","RawContent":null,"Title":"How to create on-reactive item in the store?","State":"open","Body":"### Version\r\nv4.0.0-rc.1\r\n\r\nAll item in the store are be converted into Proxy.\r\nBut the proxy object won't forward method call to the original one.\r\nI want to add an object as a on-reactive item so that I can call the methods on the object.\r\nOr is there any way to access the original object from the proxy object?\r\n\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1870","RelatedDescription":"Open issue \"How to create on-reactive item in the store?\" (#1870)"},{"Id":"726354605","IsPullRequest":false,"CreatedAt":"2020-11-05T09:15:36","Actor":"1xuanyuan1","Number":"1855","RawContent":null,"Title":"使用mapGetters 类型不识别","State":"closed","Body":"### Version\r\n4.0.0-beta.4\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vuex/issues/1822](https://github.com/vuejs/vuex/issues/1822)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n> ```ts\r\n> export declare const mapGetters: Mapper<Computed>\r\n>   & MapperWithNamespace<Computed>;\r\n> \r\n> interface Mapper<R> {\r\n>   <Key extends string>(map: Key[]): { [K in Key]: R };\r\n>   <Map extends Record<string, string>>(map: Map): { [K in keyof Map]: R };\r\n> }\r\n> ```\r\n> \r\n> ![image](https://user-images.githubusercontent.com/6700408/96703524-86717680-13c5-11eb-938c-6aadcb7e1c5c.png)\r\n> \r\n> ```ts\r\n>     ...mapGetters({\r\n>       bookDetail: 'currentBook'\r\n>     })\r\n>     ...mapGetters<{bookDetail: string}>({\r\n>       bookDetail: 'currentBook'\r\n>     })\r\n> ```\r\n> \r\n> 我想识别mapGetters中的类型，应该是修改第三个参数 也就是 R的位置 把 Computed 改成自己要的类型，但是看不懂怎么操作 求指点\r\n\r\n\r\n\r\n### What is expected?\r\n能在vue单页里正确识别 mapGetters中的类型\r\n\r\n### What is actually happening?\r\n不能识别\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1855","RelatedDescription":"Closed issue \"使用mapGetters 类型不识别\" (#1855)"},{"Id":"723551121","IsPullRequest":false,"CreatedAt":"2020-11-05T08:53:52","Actor":"urbnjamesmi1","Number":"1850","RawContent":null,"Title":"TypeError: Cannot read property 'hasChild' of undefined","State":"closed","Body":"### Version\r\n3.5.1\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/xkLh4njp/](https://jsfiddle.net/xkLh4njp/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Create a Vuex store.\r\n2. Call store.hasModule() with an array of at least 2 elements where neither module has been registered to the store.\r\n\r\n### What is expected?\r\nstore.hasModule() to return false\r\n\r\n### What is actually happening?\r\nError \"TypeError: Cannot read property 'hasChild' of undefined\" is thrown\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1850","RelatedDescription":"Closed issue \"TypeError: Cannot read property 'hasChild' of undefined\" (#1850)"},{"Id":"723557867","IsPullRequest":true,"CreatedAt":"2020-11-05T08:53:47","Actor":"urbnjamesmi1","Number":"1851","RawContent":null,"Title":"Check existence of module parent in isRegistered (fix #1850)","State":"closed","Body":"This PR fixes issue #1850 .\r\n\r\nIf you call `store.hasModule()` with an array where none of the modules or submodules are registered in the store, an error is thrown instead of returning false:\r\n\r\n```\r\nTypeError: Cannot read property 'hasChild' of undefined\r\n        at ModuleCollection.isRegistered (/node_modules/vuex/dist/vuex.common.js:291:17)\r\n        at Store.hasModule (/node_modules/vuex/dist/vuex.common.js:611:24)\r\n```\r\n\r\n","Url":"https://github.com/vuejs/vuex/pull/1851","RelatedDescription":"Closed or merged PR \"Check existence of module parent in isRegistered (fix #1850)\" (#1851)"},{"Id":"723500261","IsPullRequest":false,"CreatedAt":"2020-11-05T08:16:16","Actor":"goeh","Number":"1849","RawContent":null,"Title":"Try root module first, then namespaced module","State":"closed","Body":"### What problem does this feature solve?\r\nWe're developing modularized application(s) for our customers with separate Vue projects for each module. Each customer have a custom main application with different sub-applications/modules in package.json. Each sub-application have their own namespaced Vuex store. We want to have a default implementation of some actions in the sub-applications, then be able to override the default action in the main application.\r\n\r\nOur current workaround/hack is to try them both:\r\n\r\n`this.$store.dispatch('actionName', payload, { root: true }) || this.$store.dispatch('moduleName/actionName', payload)`\r\n\r\nThat way Vuex will look for the action in root module first, and if not found there it will look in the namespaced module and use that (default) action. It works but in dev mode we get a console error  about module not found if we don't have an action in root.\r\n\r\n### What does the proposed API look like?\r\nIt would be nice to have an option that tells Vuex to look in root module first (without namespace) and then in local module if the action is not found in root module. I can't come up with a good name for the option. When the option is true Vuex should remove the module name and try to find the actionName in root module. If not found there it should do as normal use the full actionName as specified.\r\n\r\n`this.$store.dispatch('moduleName/actionName', payload, { namespaced: false  }`\r\n\r\nAnother way would be to allow for an array of actions and Vuex would try each action in order.\r\n\r\n`this.$store.dispatch(['actionName', 'moduleName/actionName'], payload, { root: true  }`\r\n\r\nThat would actually be a more flexible solution because I could specify as many action names as I want.\r\n\r\n`this.$store.dispatch(['tryThisFirst', 'moduleA/thenThis', 'moduleB/andFinallyThis'], payload, { root: true  }`\r\n\r\nOr is there another way to solve this problem? We want a default implementation in imported module, but possible to override action in the main application.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1849","RelatedDescription":"Closed issue \"Try root module first, then namespaced module\" (#1849)"},{"Id":"723083515","IsPullRequest":false,"CreatedAt":"2020-11-05T08:06:30","Actor":"lihaotian0607","Number":"1848","RawContent":null,"Title":"Property  does not exist on type","State":"closed","Body":"### Version\r\n4.0.0-beta.4\r\n\r\nthe console can print, but the compilation fails the check!!!\r\n\r\n```ts\r\n<script lang=\"ts\">\r\nimport {Vue} from \"vue-class-component\";\r\nimport {useStore} from 'vuex'\r\nimport {AppState} from \"@/types/state\";\r\n\r\nexport default class Test extends Vue {\r\n\r\n  private store = useStore<AppState>();\r\n\r\n  public mounted(): void {\r\n    console.log(this.store.state);\r\n    console.log(this.store.state.app.count);\r\n  }\r\n}\r\n</script>\r\n```\r\n![image](https://user-images.githubusercontent.com/32523475/96245306-63b01e00-0fd1-11eb-995d-3c9d4ee87b34.png)\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/32523475/96245145-36637000-0fd1-11eb-82cb-a7ade8cb831c.png)\r\n\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1848","RelatedDescription":"Closed issue \"Property  does not exist on type\" (#1848)"},{"Id":"733966418","IsPullRequest":false,"CreatedAt":"2020-11-01T13:29:02","Actor":"liRemons","Number":"1867","RawContent":null,"Title":"Vue3.0 如何在 setup 中使用 mapGetter","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vuex\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\nimport { mapGetters ,useStore } from \"vuex\";","Url":"https://github.com/vuejs/vuex/issues/1867","RelatedDescription":"Closed issue \"Vue3.0 如何在 setup 中使用 mapGetter\" (#1867)"},{"Id":"733965787","IsPullRequest":false,"CreatedAt":"2020-11-01T13:26:03","Actor":"liRemons","Number":"1866","RawContent":null,"Title":"Vue3.0 如何在 setup 中使用  mapGetters","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vuex\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n","Url":"https://github.com/vuejs/vuex/issues/1866","RelatedDescription":"Closed issue \"Vue3.0 如何在 setup 中使用  mapGetters\" (#1866)"},{"Id":"733897281","IsPullRequest":false,"CreatedAt":"2020-11-01T06:46:36","Actor":"donPuerto","Number":"1865","RawContent":null,"Title":"How to modulize typescript in v4","State":"closed","Body":"I just check v4 docs, i could not able to find the module example? can you lead me the way?","Url":"https://github.com/vuejs/vuex/issues/1865","RelatedDescription":"Closed issue \"How to modulize typescript in v4\" (#1865)"},{"Id":"728849232","IsPullRequest":true,"CreatedAt":"2020-10-30T10:44:17","Actor":"Alex-Sokolov","Number":"1858","RawContent":null,"Title":"docs: [RU] Translation update","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1858","RelatedDescription":"Closed or merged PR \"docs: [RU] Translation update\" (#1858)"},{"Id":"730039077","IsPullRequest":true,"CreatedAt":"2020-10-30T10:29:44","Actor":"jnxey","Number":"1860","RawContent":null,"Title":"[Repair] #1823 Getters are re-evaluated on every access","State":"closed","Body":"Go to issue for full details\r\nhttps://github.com/vuejs/vuex/issues/1823","Url":"https://github.com/vuejs/vuex/pull/1860","RelatedDescription":"Closed or merged PR \"[Repair] #1823 Getters are re-evaluated on every access\" (#1860)"},{"Id":"732491452","IsPullRequest":false,"CreatedAt":"2020-10-29T16:59:05","Actor":"StephenBeirlaen","Number":"1864","RawContent":null,"Title":"Devtools time travel always shows the most recent state (without new Vuex backend)","State":"open","Body":"### Version\r\n3.5.1\r\n\r\n### Reproduction link\r\n[https://github.com/StephenBeirlaen/vuex-base-state-issue](https://github.com/StephenBeirlaen/vuex-base-state-issue)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n- Install a fresh vue install via the latest Vue CLI but custom build (I just used Vue 2.x and Vuex selected)\r\n- add in a simple state in the vuex store (int: 0)\r\n- add in a simple commit (updateInt(state) {state.int = 1})\r\n- add in any component this.$store.commit('updateInt')\r\n- make sure you do not have the \"new vuex backend\" option enabled in devtools settings(default)\r\n- both your states in the vuex tab(base state and updateInt) will not show int as 1 instead of base state showing 0\r\n\r\nOR\r\nUse the provided repository and run:\r\n- yarn install\r\n- yarn serve\r\n- steps from above\r\n\r\n### What is expected?\r\nI expect time travel to work when jumping through the mutations history. A more recent mutation should not modify the mutations before that.\r\n\r\n### What is actually happening?\r\nWhen the \"new Vuex back-end\" option is disabled:\r\n\r\nWhen time traveling using the devtools to the different mutation states, the most recent state is always shown instead, even when jumping to the base state.\r\n\r\nThis int value should be 0 in the base state:\r\n![image](https://user-images.githubusercontent.com/11806615/99369167-63e75600-28bc-11eb-955b-5eeff707c890.png)\r\n\r\nReproduced on Chrome in Ubuntu 20.04 with devtools plugin 5.3.3 (latest)\r\n\r\n---\r\nThis issue is fixed when enabling the \"new Vuex back-end\" option. However, since this is a stable release, the old version should also still work when it is not deprecated.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1864","RelatedDescription":"Open issue \"Devtools time travel always shows the most recent state (without new Vuex backend)\" (#1864)"},{"Id":"731138810","IsPullRequest":false,"CreatedAt":"2020-10-28T06:19:13","Actor":"huhm","Number":"1863","RawContent":null,"Title":"typescript declaration for vuex","State":"closed","Body":"### What problem does this feature solve?\r\nI want to override the typescript declaration,but it throws errors, because the file(``vuex/types/vue.d.ts``) has defined.\r\nIs there any solution ?\r\nshim-vue.d.ts\r\n``` ts\r\nimport { Store } from 'vuex'\r\nimport { IStoreModules } from './store/modules/interface'\r\ndeclare module 'vue/types/vue' {\r\n  interface Vue {\r\n    $store: Store<IStoreModules>\r\n  }\r\n}\r\n```\r\n\r\nit throws an Error:\r\n```\r\nSubsequent property declarations must have the same type.  Property '$store' must be of type 'Store<any>', but here has type 'Store<IStoreModules>'.\r\n```\r\n\r\n\r\n### What does the proposed API look like?\r\n==\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1863","RelatedDescription":"Closed issue \"typescript declaration for vuex\" (#1863)"},{"Id":"731135749","IsPullRequest":false,"CreatedAt":"2020-10-28T06:12:13","Actor":"huhm","Number":"1862","RawContent":null,"Title":"typescript declaration for vuex","State":"closed","Body":"I want to override the typescript declaration,but it throws errors, because the file(``vuex/types/vue.d.ts``) has defined.\r\nIs there any solution ?\r\nshim-vue.d.ts\r\n``` ts\r\nimport { Store } from 'vuex'\r\nimport { IStoreModules } from './store/modules/interface'\r\ndeclare module 'vue/types/vue' {\r\n  interface Vue {\r\n    $store: Store<IStoreModules>\r\n  }\r\n}\r\n```\r\n\r\nit throws an Error:\r\n```\r\nSubsequent property declarations must have the same type.  Property '$store' must be of type 'Store<any>', but here has type 'Store<IStoreModules>'.\r\n```\r\n\r\n<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vuex\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n","Url":"https://github.com/vuejs/vuex/issues/1862","RelatedDescription":"Closed issue \"typescript declaration for vuex\" (#1862)"},{"Id":"730593488","IsPullRequest":false,"CreatedAt":"2020-10-27T16:08:28","Actor":"jechazelle","Number":"1861","RawContent":null,"Title":"Update object in v-for from computed and view reactivity","State":"closed","Body":"I would like to know how can I develop a reactivity computed when I update a value in v-for from computed.\r\n\r\nWhen I modified the Input in the child component, the view isn't rendering. In vuex, the state is updated, but not the view.\r\n\r\n> view from child component :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n - First Hello : data.content (props from parent)\r\n - Second hello : currentPost.content (computed on child)\r\n - Third hello : input\r\n\r\n\r\nCurrently, I have 2 components :\r\n\r\n> parent.vue\r\n\r\n    <template>\r\n    <div class=\"parent\">\r\n        <child v-for=\"(post, indexPost) in posts\" :key=\"indexPost\" :index-post=\"indexPost\" :data=\"post\" />\r\n    </div>\r\n    </template>\r\n\r\n    <script>\r\n    import { mapGetters } from 'vuex'\r\n    import Post from '../child'\r\n\r\n    export default {\r\n    name: 'Parent',\r\n    components: {\r\n        child: Child,\r\n    },\r\n    computed: {\r\n        ...mapGetters({\r\n            posts: 'feed/getFeed',\r\n        }),\r\n    },\r\n    }\r\n    </script>\r\n\r\n> child.vue\r\n\r\n    <template>\r\n        <div class=\"child\">\r\n            <span class=\"content\">{{ data.content }}</span>\r\n            <span class=\"content\">{{ currentPost.content }}</span>\r\n\r\n            <input :value=\"data.content\" type=\"text\" placeholder=\"Content...\" @input=\"updatePostContent($event)\" />\r\n        </div>\r\n    </template>\r\n\r\n    <script>\r\n    import { mapGetters } from 'vuex'\r\n\r\n    export default {\r\n        name: 'Child',\r\n        props: {\r\n            indexPost: {\r\n                type: Number,\r\n                default: null,\r\n            },\r\n            data: {\r\n                type: Object,\r\n                default: null,\r\n            },\r\n        },\r\n        computed: {\r\n            currentPost() {\r\n                return this.$store.getters['feed/getFeed'][this.indexPost]\r\n            },\r\n        },\r\n        methods: {\r\n            updatePostContent(event) {\r\n                this.$store.dispatch('feed/updateFeedPost', {\r\n                    indexPost: this.indexPost,\r\n                    payload: { content: event.target.value },\r\n        })\r\n        },\r\n    }\r\n    </script>\r\n\r\n> store/feed.js \r\n\r\n    export const state = () => ({\r\n        feed: [],\r\n    })\r\n\r\n    export const getters = {\r\n        getFeed(state) {\r\n            return state.feed\r\n        },\r\n    }\r\n\r\n    export const mutations = {\r\n        GET_FEED(state, payload) {\r\n            state.feed = payload\r\n        },\r\n\r\n        UPDATE_FEED_POST(state, { indexPost, payload }) {\r\n            // I try with this\r\n            // state.feed[indexPost] = { ...state.feed[indexPost], ...payload }\r\n\r\n            state.feed[indexPost] = Object.assign({}, state.feed[indexPost], payload)\r\n        },\r\n    }\r\n\r\n    export const actions = {\r\n        getFeed({ commit }, payload) {\r\n            ...\r\n        },\r\n\r\n        updateFeedPost({ commit }, params) {\r\n            commit('UPDATE_FEED_POST', params)\r\n        },\r\n    }\r\n\r\n\r\nAfter some researches, I fixed that with use [Ramda](https://ramdajs.com/) in the store :\r\n\r\n      import * as R from 'ramda'\r\n\r\n      ...\r\n\r\n      UPDATE_FEED_POST(state, { indexPost, payload }) {\r\n        state.feed = R.over(R.lensPath([indexPost]), R.mergeDeepLeft(payload), state.feed)\r\n      },\r\n\r\nDo you have an idea, why with simple Object.assign the reactivity doesn't work?\r\n\r\nThank you !\r\n\r\n  [1]: https://i.stack.imgur.com/xmB67.png","Url":"https://github.com/vuejs/vuex/issues/1861","RelatedDescription":"Closed issue \"Update object in v-for from computed and view reactivity\" (#1861)"},{"Id":"730030909","IsPullRequest":true,"CreatedAt":"2020-10-27T01:49:09","Actor":"jnxey","Number":"1859","RawContent":null,"Title":"4.0","State":"closed","Body":"Getters are re-evaluated on every access","Url":"https://github.com/vuejs/vuex/pull/1859","RelatedDescription":"Closed or merged PR \"4.0\" (#1859)"},{"Id":"727077529","IsPullRequest":true,"CreatedAt":"2020-10-23T10:01:34","Actor":"nisarhassan12","Number":"1857","RawContent":null,"Title":"Make contributions easier via automating the dev setup.","State":"closed","Body":"Hi.\r\n\r\nI work for Gitpod. This PR adds gitpod config to the repo to make contributions easier for newcomers i.e with a single click it will launch a workspace and automatically:\r\n\r\n- clone the `vuex` repo.\r\n- install the dependencies.\r\n- run `yarn dev` to serve the examples.\r\n- run `yarn docs` to start the vuepress sever.\r\n\r\nThis can be helpful for beginners i.e they can start coding instantly without setting anything up.\r\n\r\nYou can give it a try on my fork of the repo via the following link:\r\n\r\nhttps://gitpod.io/#https://github.com/nisarhassan12/vuex\r\n\r\nThis is how it looks:\r\n\r\n![image](https://user-images.githubusercontent.com/46004116/96831387-6d64d600-1456-11eb-8d18-2a04a12f7e95.png)\r\n","Url":"https://github.com/vuejs/vuex/pull/1857","RelatedDescription":"Closed or merged PR \"Make contributions easier via automating the dev setup.\" (#1857)"},{"Id":"724021614","IsPullRequest":true,"CreatedAt":"2020-10-23T09:47:29","Actor":"itomtom","Number":"1853","RawContent":null,"Title":"feat(types): adding logger type for logger plugin","State":"closed","Body":"* createLogger options takes in logger which by default is console but\r\ncan be overridden with own logger.\r\n* Adding Ilogger for logger options params which expects log method to\r\nbe implemented","Url":"https://github.com/vuejs/vuex/pull/1853","RelatedDescription":"Closed or merged PR \"feat(types): adding logger type for logger plugin\" (#1853)"},{"Id":"726388612","IsPullRequest":false,"CreatedAt":"2020-10-21T11:23:11","Actor":"Jokab","Number":"1856","RawContent":null,"Title":"dispatch: Enable extending built-in Promise by not wrapping action Promise","State":"open","Body":"### What problem does this feature solve?\r\nAt the moment it does not seem to be possible for an action to return a custom promise class, due to [`dispatch` creating its own Promise, using the built-in Promise](https://github.com/vuejs/vuex/blob/dev/src/store.js#L152).\r\n\r\nThis fact makes it seemingly impossible to fully use Vuex in use cases where it's necessary to cancel an ongoing promise. This would be useful for example when the action initiates a promise that contains an setInterval which needs to be cleared when the user performs some action. Leaving the promise to continue polling would be unnecessarily expensive.\r\n\r\nTo illustrate, below follows an example. I want the action to return my custom `CancellablePromise` in which I have extended the promise executor with an `onCancel` delegate which is called when `promise.cancel` is called.\r\n\r\n**Action**\r\n```ts\r\nasync [SomeAction.foo]({ state, dispatch, commit, rootGetters }) {\r\n  const cancellablePromise = new CancellablePromise<any>((resolve, reject, onCancel) => {\r\n    const interval = setInterval(async () => {\r\n      const status = await dispatch(SomeAction.bar);\r\n      if (status === \"goodstatus\") {\r\n        clearInterval(interval);\r\n        resolve();\r\n      } else if (status === \"badstatus\") {\r\n        clearInterval(interval);\r\n        reject();\r\n      } else if (status === \"pending\") {\r\n        ; // continue polling\r\n      }\r\n    }, 2000);\r\n\r\n    onCancel(() => {\r\n      clearInterval(interval);\r\n      reject();\r\n    });\r\n  });\r\n\r\n  return cancellablePromise;\r\n}\r\n```\r\n\r\n**Component**\r\n```ts\r\ndata: (() => {\r\n  promise: undefined as CancellablePromise<any> | undefined\r\n}),\r\n\r\nasync call() {\r\n  this.promise = this.$store\r\n    .dispatch(SomeAction.foo)\r\n    .then(response => {\r\n      // do something\r\n    }) as CancellablePromise<any>;\r\n},\r\n\r\nuserTookAction(event): void {\r\n  if (this.promise) {\r\n    this.promise.cancel(); // outputs cancel is not a function\r\n  }\r\n}\r\n```\r\n\r\nAs specified, `this.promise.cancel()` outputs that cancel is not a function, because my `CancellablePromise` is wrapped by `dispatch`.\r\n\r\nTo work around this problem I have been forced to create my own \"actions\" in a separate module which I call directly instead of through `dispatch`, and to which I pass the `ActionContext` in order to use the rest of Vuex.\r\n\r\n### What does the proposed API look like?\r\nI am not familiar with the internal workings of Vuex, but I would simply want the above example to work. Ideally `this.$store.dispatch(action)` would return the same type as returned by the action itself.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1856","RelatedDescription":"Open issue \"dispatch: Enable extending built-in Promise by not wrapping action Promise\" (#1856)"},{"Id":"726322004","IsPullRequest":false,"CreatedAt":"2020-10-21T09:51:33","Actor":"1xuanyuan1","Number":"1854","RawContent":null,"Title":"使用mapGetters 类型不识别","State":"closed","Body":"```ts\r\nexport declare const mapGetters: Mapper<Computed>\r\n  & MapperWithNamespace<Computed>;\r\n\r\ninterface Mapper<R> {\r\n  <Key extends string>(map: Key[]): { [K in Key]: R };\r\n  <Map extends Record<string, string>>(map: Map): { [K in keyof Map]: R };\r\n}\r\n```\r\n![image](https://user-images.githubusercontent.com/6700408/96703524-86717680-13c5-11eb-938c-6aadcb7e1c5c.png)\r\n```ts\r\n    ...mapGetters({\r\n      bookDetail: 'currentBook'\r\n    })\r\n    ...mapGetters<{bookDetail: string}>({\r\n      bookDetail: 'currentBook'\r\n    })\r\n```\r\n我想识别mapGetters中的类型，应该是修改第三个参数 也就是 R的位置 把 Computed 改成自己要的类型，但是看不懂怎么操作 求指点","Url":"https://github.com/vuejs/vuex/issues/1854","RelatedDescription":"Closed issue \"使用mapGetters 类型不识别\" (#1854)"},{"Id":"723942051","IsPullRequest":false,"CreatedAt":"2020-10-18T13:38:22","Actor":"roborock","Number":"1852","RawContent":null,"Title":"Vue Toggle  Chaining Request Like Cascading","State":"closed","Body":"### What problem does this feature solve?\r\nI have a issue about toggle \r\n\r\nWhen ı click each plus api generate child data from parent like a cascade dropdown , but ı want to toggle all with a button when i try it my toggle just open two level not effect every levels so\r\n\r\nI dont know why its reason\r\n\r\nI want to tell how toggle all button works: When i clicked a button first of all first request sending to api then im watching firstdata parameter inside component request sending to api then all data comes from api and filling related variable then i have second state variable for trigging next level. im commit nextlevel status variable true in when request done next component inside watch this variable for request but this is not work properly Im sorry for bad english ı hope i could tell my problem\r\n\r\nWho can help me :(\r\n\r\nThanks\r\n\r\n### What does the proposed API look like?\r\n.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1852","RelatedDescription":"Closed issue \"Vue Toggle  Chaining Request Like Cascading\" (#1852)"}],"ResultType":"GitHubIssue"}},"RunOn":"2020-11-20T05:30:48.0122041Z","RunDurationInMilliseconds":1928}