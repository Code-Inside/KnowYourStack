{"Data":{"Vue-Issues":{"Issues":[{"Id":"592540315","IsPullRequest":false,"CreatedAt":"2020-04-02T11:13:28","Actor":"zhiqinyigu","Number":"11272","RawContent":null,"Title":"In ios 9.2ï¼Œtouch[start|move|end] don't trigger at some time","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/rdjjpc7a/2080/](https://jsfiddle.net/rdjjpc7a/2080/)\r\nThe Link to minimal reproduction was forged by me,  please take some time to read my description.\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nThe premise is that you have an iPhone with the system version IOS9.\r\nThe Steps to reproduce seem to be a nested amount of custom components.\r\n\r\nThe problem happened in 2.6.x. I had discovered this problem a year ago. Since I couldn't provide a minimal reproduction at the time (and it is now), I have been rolling back to 2.5.x until now.\r\n\r\nBut I now find the source of the problem in the source code.\r\nhttps://github.com/vuejs/vue/blob/v2.6.11/src/platforms/web/runtime/modules/events.js#L69.\r\n\r\nIn IOS9, Condition \"e.timeStamp >= attachedTimestamp\" is never holds.\r\n```javascript\r\nconsole.log(e.timeStamp, attachedTimestamp); // In IOS9, eg: 1585822331076 1585824221635\r\n```\r\n\r\nYou can compare 2.5.x to solve this problem.\r\n\r\n### What is expected?\r\ntouch event trigger\r\n\r\n### What is actually happening?\r\nevents of the touch series are not triggered\r\n\r\n---\r\n\r\nOnly happened in 2.6.x,  only events of the touch series\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11272","RelatedDescription":"Closed issue \"In ios 9.2ï¼Œtouch[start|move|end] don't trigger at some time\" (#11272)"},{"Id":"592383377","IsPullRequest":false,"CreatedAt":"2020-04-02T06:12:36","Actor":"benbtx","Number":"11271","RawContent":null,"Title":"åœ¨vscodeæ€ä¹ˆè°ƒè¯•script/build.jsè¿™ä¸ªæ–‡ä»¶","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n\r\nä¸­æ–‡ç”¨æˆ·è¯·æ³¨æ„ï¼š\r\nè¯·ä½¿ç”¨ä¸Šé¢çš„é“¾æ¥æ¥åˆ›å»ºæ–°çš„ issueã€‚å¦‚æœä¸æ˜¯ç”¨ä¸Šè¿°å·¥å…·åˆ›å»ºçš„ issue ä¼šè¢«è‡ªåŠ¨å…³é—­ã€‚\r\n-->\r\n\r\n<!--\r\nLove vuejs? Please consider supporting us via Patreon or OpenCollective:\r\nğŸ‘‰  https://www.patreon.com/evanyou\r\nğŸ‘‰  https://opencollective.com/vuejs/donate\r\n-->\r\n","Url":"https://github.com/vuejs/vue/issues/11271","RelatedDescription":"Closed issue \"åœ¨vscodeæ€ä¹ˆè°ƒè¯•script/build.jsè¿™ä¸ªæ–‡ä»¶\" (#11271)"},{"Id":"592245210","IsPullRequest":false,"CreatedAt":"2020-04-01T22:38:51","Actor":"eee-dev","Number":"11270","RawContent":null,"Title":"SECURITY: Major vulnerability found in Vue","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n\r\nä¸­æ–‡ç”¨æˆ·è¯·æ³¨æ„ï¼š\r\nè¯·ä½¿ç”¨ä¸Šé¢çš„é“¾æ¥æ¥åˆ›å»ºæ–°çš„ issueã€‚å¦‚æœä¸æ˜¯ç”¨ä¸Šè¿°å·¥å…·åˆ›å»ºçš„ issue ä¼šè¢«è‡ªåŠ¨å…³é—­ã€‚\r\n-->\r\n\r\n<!--\r\nLove vuejs? Please consider supporting us via Patreon or OpenCollective:\r\nğŸ‘‰  https://www.patreon.com/evanyou\r\nğŸ‘‰  https://opencollective.com/vuejs/donate\r\n-->\r\nhai","Url":"https://github.com/vuejs/vue/issues/11270","RelatedDescription":"Closed issue \"SECURITY: Major vulnerability found in Vue\" (#11270)"},{"Id":"591785051","IsPullRequest":false,"CreatedAt":"2020-04-01T09:54:12","Actor":"lkmodules","Number":"11269","RawContent":null,"Title":"Each hook function should be clearly distinguished. Components that are not invoked the first time they are rendered also invoke the activated hook, leading to a series of problems","State":"closed","Body":"","Url":"https://github.com/vuejs/vue/issues/11269","RelatedDescription":"Closed issue \"Each hook function should be clearly distinguished. Components that are not invoked the first time they are rendered also invoke the activated hook, leading to a series of problems\" (#11269)"},{"Id":"591265768","IsPullRequest":false,"CreatedAt":"2020-03-31T16:56:38","Actor":"linnea","Number":"11268","RawContent":null,"Title":"IOS Select, when focusing on second stacked select it errantly chooses an option in the second select. ","State":"open","Body":"### Version\r\n2.6.11\r\n\r\nIOS 13.4 and 13.3, present in both safari and chrome.\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/linnea/x7gb20qd](https://jsfiddle.net/linnea/x7gb20qd)\r\n\r\n![select bug](https://user-images.githubusercontent.com/8867604/78053740-e3c4ae00-7335-11ea-8985-171fbef04168.gif)\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nStack two Selects above one another, with the second select having more than 1 option.\r\nTap on the first select, then, without choosing an option, tap on the second select.\r\nThe value of the second select is set to an option other than the value it's originally set to, even though you haven't chosen a value yet.\r\n\r\n### What is expected?\r\nhttps://jsfiddle.net/linnea/8zueq1dn/2/\r\n\r\nThe value of the second select does not change when focused. \r\n\r\n### What is actually happening?\r\nThe value of the second select is changed when focused.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11268","RelatedDescription":"Open issue \"IOS Select, when focusing on second stacked select it errantly chooses an option in the second select. \" (#11268)"},{"Id":"591151667","IsPullRequest":true,"CreatedAt":"2020-03-31T15:54:04","Actor":"rodrigograca31","Number":"11267","RawContent":null,"Title":"chore: https link to editorconfig.org","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [x] Other, please describe:\r\n\r\nchore: config file update\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/11267","RelatedDescription":"Closed or merged PR \"chore: https link to editorconfig.org\" (#11267)"},{"Id":"591106291","IsPullRequest":true,"CreatedAt":"2020-03-31T13:24:05","Actor":"eunjae-lee","Number":"11266","RawContent":null,"Title":"feat(ssr): wait for context.rendered (fix #11256)","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [x] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [x] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n\r\nThis PR fixes #11256.\r\nWhat this PR does is basically wait for `context.rendered(context)` function call if it returns a Promise.\r\nIf `rendered` can be asynchronous, SSR can become more flexible and powerful.\r\nI wrote all the details in #11256.","Url":"https://github.com/vuejs/vue/pull/11266","RelatedDescription":"Open PR \"feat(ssr): wait for context.rendered (fix #11256)\" (#11266)"},{"Id":"590864807","IsPullRequest":false,"CreatedAt":"2020-03-31T08:10:05","Actor":"jan-scorl","Number":"11265","RawContent":null,"Title":"Keydown event gets fired in component which was mounted through the key press","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/dreamy-austin-2k8u0](https://codesandbox.io/s/dreamy-austin-2k8u0)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nPress any letter on your keyboard.\r\n\r\n### What is expected?\r\nI expect the `Hello` component to render.\r\n\r\nI don't expect the letter I pressed to appear in the input field.\r\n\r\n### What is actually happening?\r\nThe letter I pressed appears in the input field.\r\n\r\n---\r\nApparently `keydown` or `keyup` gets triggered in the new component. But I don't understand why.\r\nThe letter already appears before you release the key, so it actually must be the `keydown` event.\r\n\r\nHow can it get triggered in the new component if the button press itself happened before the component was mounted and the input field was focused? It seems like time travelling to me.\r\n\r\nI worked around this unexpected behaviour by putting `this.$refs.input.focus();` into a 1ms `setTimeout()` call.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11265","RelatedDescription":"Closed issue \"Keydown event gets fired in component which was mounted through the key press\" (#11265)"},{"Id":"590259449","IsPullRequest":false,"CreatedAt":"2020-03-30T13:18:09","Actor":"PrismPrince","Number":"11264","RawContent":null,"Title":"props are undefined and computed properties error during evaluation","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-template-mv0x7](https://codesandbox.io/s/vue-template-mv0x7)\r\n\r\n### Steps to reproduce\r\nComputed property on a child component returns error when passing a value as props from parent.\r\n\r\nHere's a [screenshot](https://i.imgur.com/KvC0HPN.png) on devtools\r\n\r\n### What is expected?\r\nthe computed property must evaluate if the prop value is present\r\n\r\n### What is actually happening?\r\nthe computed property that requires the prop value evaluate even it is not defined yet\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11264","RelatedDescription":"Closed issue \"props are undefined and computed properties error during evaluation\" (#11264)"},{"Id":"590120666","IsPullRequest":true,"CreatedAt":"2020-03-30T09:44:34","Actor":"yuler","Number":"11262","RawContent":null,"Title":"chore: fix typo in `bind-dynamic-keys.js` comment","State":"closed","Body":"<!--\nPlease make sure to read the Pull Request Guidelines:\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\n-->\n\n<!-- PULL REQUEST TEMPLATE -->\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\n\n**What kind of change does this PR introduce?** (check at least one)\n\n- [ ] Bugfix\n- [ ] Feature\n- [ ] Code style update\n- [ ] Refactor\n- [ ] Build-related changes\n- [x] Other, please describe:\n\n**Does this PR introduce a breaking change?** (check one)\n\n- [ ] Yes\n- [x] No\n\nIf yes, please describe the impact and migration path for existing applications:\n\n**The PR fulfills these requirements:**\n\n- [ ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\n- [ ] New/updated tests are included\n\nIf adding a **new feature**, the PR's description includes:\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\n\n**Other information:**\n\nFix typo","Url":"https://github.com/vuejs/vue/pull/11262","RelatedDescription":"Closed or merged PR \"chore: fix typo in `bind-dynamic-keys.js` comment\" (#11262)"},{"Id":"590133832","IsPullRequest":false,"CreatedAt":"2020-03-30T09:34:37","Actor":"PrismPrince","Number":"11263","RawContent":null,"Title":"props are undefined and computed properties error during evaluation","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n![https://i.imgur.com/KvC0HPN.png](https://i.imgur.com/KvC0HPN.png)\r\n\r\n### Steps to reproduce\r\n\\* I cannot provide **reproduction link** using sandbox because it went to an error but there is a [screenshot](https://i.imgur.com/KvC0HPN.png).\r\n\r\nComputed property on a child component returns error when passing a value as props from parent\r\n\r\n### What is expected?\r\nthe computed property must evaluate if the prop value is present\r\n\r\n### What is actually happening?\r\nthe computed property that requires the prop value evaluate even it is not defined yet\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11263","RelatedDescription":"Closed issue \"props are undefined and computed properties error during evaluation\" (#11263)"},{"Id":"589707505","IsPullRequest":false,"CreatedAt":"2020-03-29T11:50:32","Actor":"tahpot","Number":"11260","RawContent":null,"Title":"Unable to override environment variables regex","State":"closed","Body":"### What problem does this feature solve?\r\nAt the moment, only environment variables prefixed with `VUE_APP_` are loaded into `process.env`.\r\n\r\nI have a third party library that configures itself using environment variables, however those variables can't load as they aren't Vue.js specific.\r\n\r\n### What does the proposed API look like?\r\nModify resolveClientEnv so that prefixRE is configurable via the plugin options.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11260","RelatedDescription":"Closed issue \"Unable to override environment variables regex\" (#11260)"},{"Id":"589735315","IsPullRequest":false,"CreatedAt":"2020-03-29T09:19:12","Actor":"ShadeAJ1","Number":"11261","RawContent":null,"Title":"Can't access data variables in a forEach loop","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/ndz8xraq/1/](https://jsfiddle.net/ndz8xraq/1/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nMake a data field as follows\r\n```\r\ndata() {\r\n    return {\r\n        names: [ ]\r\n    }\r\n}\r\n```\r\nHere's a method with what kind of logic I am trying to implement.\r\n\r\n```\r\nmethod() {\r\n    getProfiles: function() {\r\n        profiles = queryData\r\n        profiles.forEach(profile => {\r\n            this.names.push(profile.name)\r\n        });\r\n    }\r\n} ,\r\ncreated() {\r\n    this.getProfiles()\r\n}\r\n````\r\n\r\n### What is expected?\r\nWhat is expected is that for each profile in the profiles list queries from a database, the profiles name should be pushed to the array of names. \r\n\r\n### What is actually happening?\r\nHowever, when writing this code, you would get names is not defined, even though it is defined in `data()`. 'this.names` value would not change and be set to or pushed to by the forEach loop.\r\n\r\n---\r\nTo sum up, I cannot find a way to set variables outside of the forEach loop to a value inside the forEach loop. I even tried using local variables and setting the names variable to the local var, but to no avail. On a side note, I basically do the query and have a '.then()' in which I use the forEach in. I would appreciate any help I can get. Please let me know and have a good day!\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11261","RelatedDescription":"Closed issue \"Can't access data variables in a forEach loop\" (#11261)"},{"Id":"589541578","IsPullRequest":false,"CreatedAt":"2020-03-28T09:30:43","Actor":"merrymaker14","Number":"11259","RawContent":null,"Title":"Test doesn't work correctly if prop passes by condition","State":"closed","Body":"Part of parent component:\r\n```\r\n<template>\r\n  <Fragment id=\"app\">\r\n      Root node\r\n        <NewChoice :mouseOver=\"choose ? mouseOver : null\"\r\n                   :mouseLeave=\"choose ? mouseLeave : null\"\r\n                   :chooseRisk=\"choose ? chooseRisk : null\"\r\n                   :nodes=\"nodes\"\r\n        />\r\n        <button @click=\"choose = true\">Analyze</button>\r\n  </Fragment>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport Vue from 'vue';\r\nimport { Component } from 'vue-property-decorator';\r\nimport NewChoice from './NewChoice.vue';\r\n@Component({\r\n  components: { NewChoice },\r\n})\r\nexport default class TreeChoices extends Vue implements TreeChoicesContainer {\r\n  private choose = false;\r\n\r\n  public mounted(): void {\r\n    ...\r\n    /**\r\n    * Hightlighting for possible choose\r\n    */\r\n    private mouseOver(event: any): void {\r\n      const { target } = event;\r\n      if (target.localName === 'span') {\r\n        target.style.background = 'pink';\r\n      } else {\r\n        target.querySelector('span').style.background = 'pink';\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n```\r\n\r\nPart of child component:\r\n```\r\n<template>\r\n    <ol>\r\n      <li class=\"children__item\" @mouseover=\"mouseOverChild\"\r\n                                 @mouseleave=\"mouseLeaveChild\"\r\n                                 @dblclick=\"chooseRiskChild\">\r\n        <span>{{ text[0] }} </span>\r\n      </li>\r\n    </ol>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport Vue from 'vue';\r\nimport { Component, Prop } from 'vue-property-decorator';\r\n@Component\r\nexport default class NewChoice extends Vue {\r\n  @Prop(Function) public mouseOver!: (event: any) => void;\r\n  @Prop(Function) public mouseLeave!: (event: any) => void;\r\n  @Prop(Function) public chooseRisk!: (event: any) => void;\r\n  @Prop(Array) public nodes!: any[];\r\n  private mouseOverChild(event: any): void {\r\n    if (this.mouseOver === null) {\r\n      console.log(null);\r\n    } else {\r\n      this.mouseOver(event);\r\n    }\r\n  }\r\n\r\n  ...\r\n}\r\n</script>\r\n```\r\n\r\nTest:\r\n```\r\nimport { mount } from '@vue/test-utils';\r\nimport TreeChoices from '@/core/components/TreeChoices.vue';\r\nimport NewChoice from '@/core/components/NewChoice.vue';\r\n\r\ndescribe('TreeChoices.vue', () => {\r\nit('Analyze Button works correctly', () => {\r\n    const wrapper = mount(TreeChoices);\r\n    wrapper.find('button').trigger('click');\r\n    expect(wrapper.vm.$data.choose).toBe(true);\r\n    /*const mouseOver = (event: any): void => {\r\n      wrapper.find(NewChoice).find('span').element.style.background = 'pink';\r\n    };\r\n    wrapper.find(NewChoice).setProps({mouseOver}) - that's work only so, though there are in component all fine without this part*/\r\n    wrapper.find(NewChoice).find('.children__item').trigger('mouseover');\r\n    expect(wrapper.find(NewChoice).find('span').element.style.background).toBe('pink');\r\n  });\r\n});\r\n```\r\n\r\nThat doesn't work, though `choose === true` in time of execution process test. What's wrong?","Url":"https://github.com/vuejs/vue/issues/11259","RelatedDescription":"Closed issue \"Test doesn't work correctly if prop passes by condition\" (#11259)"},{"Id":"589269793","IsPullRequest":false,"CreatedAt":"2020-03-27T20:34:37","Actor":"benmandr","Number":"11257","RawContent":null,"Title":"Parent class style not getting applied on functional SFC child","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/quizzical-hooks-flxdp](https://codesandbox.io/s/quizzical-hooks-flxdp)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nNo steps. Just check out the reproduction.\r\n\r\n### What is expected?\r\nThe class styles in App.vue to be applied on the functional SFC.\r\n\r\n### What is actually happening?\r\nParent class is added to the classlist of child, but the css is not generated for the class.\r\n\r\n---\r\nIf you remove the 'scoped' keyword from functional component, then all the styles are applied. But the need is to use this with scoped styles, as with normal components is done.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11257","RelatedDescription":"Closed issue \"Parent class style not getting applied on functional SFC child\" (#11257)"},{"Id":"589339208","IsPullRequest":false,"CreatedAt":"2020-03-27T20:15:08","Actor":"atomanyih","Number":"11258","RawContent":null,"Title":"Functional components don't interpret empty boolean props as true","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/crazy-davinci-ckird](https://codesandbox.io/s/crazy-davinci-ckird)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nObserve the rendered output in the repro\r\n\r\n### What is expected?\r\nBoth components should show \"true\"\r\n\r\n### What is actually happening?\r\nStandard component shows \"true\", functional component shows nothing\r\n\r\n---\r\nhttps://vuejs.org/v2/guide/components-props.html#Passing-a-Boolean\r\n\r\nThere are obvious workarounds, but I would hope that a functional component would, from the outside, have the same interface as a non-functional component.\r\n\r\nThe number of undocumented caveats and limitations to functional components has, to me, made their usefulness fairly questionable\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11258","RelatedDescription":"Closed issue \"Functional components don't interpret empty boolean props as true\" (#11258)"},{"Id":"589160991","IsPullRequest":false,"CreatedAt":"2020-03-27T14:11:21","Actor":"eunjae-lee","Number":"11256","RawContent":null,"Title":"[vue-server-renderer] support for `context.rendered` which returns a promise","State":"open","Body":"### What problem does this feature solve?\r\nHi there,\r\n\r\nIn `vue-server-renderer`, there is a function `createRenderer`.\r\nInside it, it calls `context.rendered(context)`.\r\nWhat if we allow `context.rendered()` to return a promise and resolve it if it does?\r\n\r\nThat's the exact timing between components render and template render.\r\nI want to trigger an HTTP request at that point and include the response into the rendered template.\r\n\r\nTo rephrase it,\r\n1. I'd like to see the component tree(which components are there and which props they have, etc)\r\n2. accordingly fire an HTTP request to my server\r\n3. and put the response into `__INITIAL_STATE__`.\r\n\r\nDoes this make sense? I tried to think of something else, but `context.rendered` seems to be the most perfect place for this usage.\r\n\r\n`vue-server-renderer` already works fine with `serverPrefetch` and wait for all `serverPrefetch`s. Then later it can get vuex store or something to render the template.\r\nBut with my proposal, you can do something more than that, sort of in a centralized place which is `entry-server`.\r\nIt doesn't change the API at all, and I don't think it will introduce any confusion to developers.\r\n\r\n### What does the proposed API look like?\r\nIt doesn't require a new API.\r\n\r\nThe existing code is this:\r\n\r\nhttps://github.com/vuejs/vue/blob/a59e05c2ffe7d10dc55782baa41cb2c1cd605862/packages/vue-server-renderer/build.dev.js#L9187-L9189\r\n\r\nWe can, instead, have something like the following:\r\n\r\n```js\r\nnew Promise((resolve, reject) => {\r\n  if (context && context.rendered) {\r\n    const res = context.rendered(context);\r\n    if (isPromise(res)) {\r\n      return res.then(resolve).catch(reject);\r\n    }\r\n  }\r\n  resolve();\r\n}).then(\r\n  ...\r\n)\r\n```\r\n\r\nIt is totally compatible with previous usages.\r\nLet me know if you want me to open a PR for this, or if you have other opinions.\r\n\r\nThanks!\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11256","RelatedDescription":"Open issue \"[vue-server-renderer] support for `context.rendered` which returns a promise\" (#11256)"},{"Id":"589077006","IsPullRequest":false,"CreatedAt":"2020-03-27T11:47:18","Actor":"filipbekic01","Number":"11255","RawContent":null,"Title":"Lodash causes errors when cloning objects","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/chrisvfritz/50wL7mdz/](https://jsfiddle.net/chrisvfritz/50wL7mdz/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nTry to clone object with lodash library and reassign it to root data object. For example `this.car = _.cloneDeep(carModel)`.\r\n\r\n### What is expected?\r\nWhen you use binding say `v-model=\"car.color\"` it should work.\r\n\r\n### What is actually happening?\r\nIt throws error that car is not defined at all. Feels like root data object lose reference to car object.\r\n\r\n---\r\nFunny thing is that sometimes it works perfectly and sometimes it just breaks.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11255","RelatedDescription":"Closed issue \"Lodash causes errors when cloning objects\" (#11255)"},{"Id":"589069054","IsPullRequest":false,"CreatedAt":"2020-03-27T11:29:46","Actor":"filipbekic01","Number":"11254","RawContent":null,"Title":"Lodash cloning causes error","State":"closed","Body":"Cloning objects and reassigning them to root _data_ object with lodash library i often get error if i try to use v-model against it's properties. For example `this.test = _.cloneDeep(myObj)` will cause v-model to break throwing error \"test.some_attribute is undefined\".\r\n\r\nHowever, if i use `this.test = JSON.parse(JSON.stringify(myObj))` it works perfectly.  ","Url":"https://github.com/vuejs/vue/issues/11254","RelatedDescription":"Closed issue \"Lodash cloning causes error\" (#11254)"},{"Id":"589017358","IsPullRequest":false,"CreatedAt":"2020-03-27T10:15:38","Actor":"ElshadR","Number":"11253","RawContent":null,"Title":"How to convert base64to .pptx file in vuejs?","State":"closed","Body":"### What problem does this feature solve?\r\nI am using vue.js and I need to convert base64 to .pptx file. I receive base64 from API and I need to convert this to .pptx file and show it to the user. Please help. Any suggestions?\r\n\r\n### What does the proposed API look like?\r\nI am using vue.js and I need to convert base64 to .pptx file. I receive base64 from API and I need to convert this to .pptx file and show it to the user. Please help. Any suggestions?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11253","RelatedDescription":"Closed issue \"How to convert base64to .pptx file in vuejs?\" (#11253)"},{"Id":"589016496","IsPullRequest":false,"CreatedAt":"2020-03-27T09:57:20","Actor":"ElshadR","Number":"11252","RawContent":null,"Title":"How to convert base64 to .pptx file in vuejs?","State":"closed","Body":"I am using vue.js and I need to convert base64 to .pptx file. I receive base64 from API and I need to convert this to .pptx file and show it to the user. Please help. Any suggestions?","Url":"https://github.com/vuejs/vue/issues/11252","RelatedDescription":"Closed issue \"How to convert base64 to .pptx file in vuejs?\" (#11252)"},{"Id":"589015487","IsPullRequest":false,"CreatedAt":"2020-03-27T09:55:28","Actor":"ElshadR","Number":"11251","RawContent":null,"Title":"How to convert base64 to .pptx file in vuejs?","State":"closed","Body":"I am using vue.js and I need to convert base64 to .pptx file. I receive base64 from API and I need to convert this to .pptx file and show it to the user. Please help. Any suggestions?","Url":"https://github.com/vuejs/vue/issues/11251","RelatedDescription":"Closed issue \"How to convert base64 to .pptx file in vuejs?\" (#11251)"},{"Id":"588937902","IsPullRequest":true,"CreatedAt":"2020-03-27T07:37:16","Actor":"Ao-2","Number":"11250","RawContent":null,"Title":"Create main.yml","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [x] Code style update\r\n- [x] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [x] Yes\r\n- [ ] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [ ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [x] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/11250","RelatedDescription":"Closed or merged PR \"Create main.yml\" (#11250)"},{"Id":"588558311","IsPullRequest":false,"CreatedAt":"2020-03-26T16:42:57","Actor":"kirillbunin","Number":"11249","RawContent":null,"Title":"Call blocking will prevent re-render","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/fw89qnoc/](https://jsfiddle.net/fw89qnoc/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nLet's start with simple call blocking function:\r\nhttps://jsfiddle.net/yd6xr8ea/\r\n\r\nThe idea here is, that `counter` should update before `myVal `, so I thought `$forceUpdate` should do the trick:\r\nhttps://jsfiddle.net/0jdhy41g/\r\n\r\nBut it doesn't.\r\n\r\nSo according to docs, https://vuejs.org/v2/api/#updated I've put the code in the `$nextTick` of the `updated` function.\r\nhttps://jsfiddle.net/fw89qnoc/\r\n\r\nBut that still doesn't do the trick. Adding 1ms timeout works, but it feels hackish and doesn't really do justice the docs.\r\nhttps://jsfiddle.net/bwd9j3sq/\r\n\r\n### What is expected?\r\nBoth values should update a re-render independedly\r\n\r\n### What is actually happening?\r\nUnless timeout is involved, re-render is blocked, even when used recommendation from the docs.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11249","RelatedDescription":"Closed issue \"Call blocking will prevent re-render\" (#11249)"},{"Id":"588491505","IsPullRequest":false,"CreatedAt":"2020-03-26T15:05:43","Actor":"mernst-github","Number":"11248","RawContent":null,"Title":"\"refInFor\" searches upwards of inline-template boundary","State":"open","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/b71adnym/2/](https://jsfiddle.net/b71adnym/2/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nNest a component with an inline-template that has a ref in a v-for.\r\n\r\n\r\n### What is expected?\r\ncomponent.$ref.ref should point to the respective element.\r\n\r\n### What is actually happening?\r\ncomponent.$ref.ref is a singleton array with the element reference.\r\n\r\n\r\n---\r\ncheckInFor loops over the element ancestors up to the document root, so it believes that the ref is in a loop, but it actually isn't.\r\nThe check should stop at the component root.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11248","RelatedDescription":"Open issue \"\"refInFor\" searches upwards of inline-template boundary\" (#11248)"},{"Id":"588426241","IsPullRequest":true,"CreatedAt":"2020-03-26T13:35:36","Actor":"mydaoyuan","Number":"11247","RawContent":null,"Title":"fix(patch.js): fix functional component scope attribute update","State":"open","Body":"fix functional component update scope attribute when patch use same node\r\n\r\nfix #11171\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/11247","RelatedDescription":"Open PR \"fix(patch.js): fix functional component scope attribute update\" (#11247)"},{"Id":"588328540","IsPullRequest":false,"CreatedAt":"2020-03-26T11:13:02","Actor":"KingSora","Number":"11246","RawContent":null,"Title":"Interaction with class and style properties","State":"closed","Body":"### What problem does this feature solve?\r\nCurrently the user isn't able to control the class and style properties of a component.\r\n\r\nExample:\r\nAs a library author I want that my component has a static class and no style at all.\r\nThe component template looks like this:\r\n\r\n```html\r\n<span class=\"the-only-allowed-class\">Some content</span>\r\n```\r\n\r\nSomeone decided to use this component and does this:\r\n```html\r\n<component class=\"class-set-by-user\" style=\"background: red\"></component>\r\n```\r\n\r\nNow the component has two classes `class=\"the-only-allowed-class class-set-by-user\"` because vue does a merge behind the scenes. As a component author I have basically no control over the class (and also the style) property.\r\nI can't read the set `class` or `style` property, I can't prevent them to be set, I can't watch them so that I could somehow act after they were set. I can basically do nothing about it. \r\nThats what this feature request shall solve.\r\n\r\nIn comparison, libraries like `React` and `Angular` have such a feature.\r\n\r\n### What does the proposed API look like?\r\nDon't handle the `class` and `style` property like something special. Just handle them as normal properties. Make them watchable inside the `watch` object. Make them (somehow) readable with exposing them in the `$attrs` object. etc.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11246","RelatedDescription":"Closed issue \"Interaction with class and style properties\" (#11246)"},{"Id":"587904753","IsPullRequest":false,"CreatedAt":"2020-03-26T09:04:59","Actor":"KingSora","Number":"11244","RawContent":null,"Title":"Possibility to somehow read the \"passed\" class property","State":"closed","Body":"### What problem does this feature solve?\r\nGood day! I'm the author of the OverlayScrollbars Library.\r\nThe library is written in vanilla Javascript and I'm currently providing a Vue wrapper Component for it.\r\nI ran into a issue with the class attribute recently and I need some guidance of someone who has better understanding of the overall structure of Vue.\r\n\r\nThe setup (minimal example):\r\nIn Vue I'm rendering a div:\r\n<div class=\"my-host\"></div>\r\n\r\nThen I'm initializing the library in the mounted hook\r\n```js\r\nmounted() {\r\n    myLibrary(this.$el);\r\n}\r\n```\r\n\r\nThe library is adding internally classes to the already rendered div, so the virtual node still looks like this:\r\n```html\r\n<div class=\"my-host\"></div>\r\n```\r\nBut the real DOM element might look like this:\r\n```html\r\n<div class=\"my-host my-host-option-a my-host-option-b xyz\"></div>\r\n```\r\n\r\nThis leads to no problems, as long as the class attribute is set only once / is static, but as soon as you change it from the outside, vue overwrites the class names set by the library internally, because vue has no clue about it.\r\n\r\nMy question is now, how can I access the class string inside the virtual DOM node? I've written a method which is able to merge all class names correctly, but in order to do that, I need access to the class names which were set by vue. (e.g. which are inside the virtual DOM)\r\n\r\nAre there some best practices to do that? - Or is there a different way to handle my problem? I'm sure I'm not the first with this kind of issue, since this could be pretty common among authors of 3rd party libraries.\r\n\r\nI've also found out that I could access these values with:`$vnode.data.class` and `$vnode.data.staticClass`, but it feels like a hack.\r\n\r\n### What does the proposed API look like?\r\nThere are many possibilites to solve this issue, you could just expose the desired values inside the $attrs object, or make it observable inside the watch object. I know that in Vue3 it will be accessable in the $attrs object, but is there a workaround in the meantime for Vue2.x?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11244","RelatedDescription":"Closed issue \"Possibility to somehow read the \"passed\" class property\" (#11244)"},{"Id":"588027073","IsPullRequest":false,"CreatedAt":"2020-03-25T23:56:25","Actor":"fchu","Number":"11245","RawContent":null,"Title":"scoped css style bleeds from child component to root of that component when invoked by parent component","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-template-y71xh](https://codesandbox.io/s/vue-template-y71xh)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nNothing, just look at the codesandbox and observe how the root gets a red border from a style defined deep into the child component\r\n\r\n### What is expected?\r\nA scoped style of a child component should not 'callable' from outside that component (even if it's on the root element of that component). In this example, the root of child should not have a red border.\r\n\r\n### What is actually happening?\r\nBecause two scoped styles with the same names have been defined in the parent and root components, the root element in the child component get both \"data-v-*\" attributes, and thus has the unwanted inner style applied to it due to name collision\r\n\r\n---\r\nNot that this bug is *not* about whether one can style a child element by leaking css from the parent (which is debatable, but a different point altogether, see: https://github.com/vuejs/vue-loader/issues/957)\r\n\r\nIn this case, scoping isn't quite working and can result in unwanted behavior if a component author uses a style name that's too generic.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11245","RelatedDescription":"Closed issue \"scoped css style bleeds from child component to root of that component when invoked by parent component\" (#11245)"},{"Id":"587857468","IsPullRequest":false,"CreatedAt":"2020-03-25T17:16:08","Actor":"Philipp-M","Number":"11243","RawContent":null,"Title":"Customized built-in elements (Web Components) are not working in Single File Components","State":"open","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/confident-robinson-nl2c5](https://codesandbox.io/s/confident-robinson-nl2c5)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nDefine a customized built-in element and try to use it inside a template of a Single File Component.\r\n\r\nIt doesn't matter if `Vue.config.ignoredElements` defines the name of the component as it is just converted into the autonomous element syntax (which unfortunately doesn't work with browsers)\r\n\r\n### What is expected?\r\nWorking customized built-in component using the template syntax in Vue Single File Components.\r\n\r\n### What is actually happening?\r\nVue doesn't invoke the custom element constructor, and tries to render it as normal HTML element.\r\n\r\n---\r\nThere is an issue about this on Stack Overflow: https://stackoverflow.com/questions/56162647/how-to-use-customized-built-in-element-in-vuejs\r\nBut even the proposed solution using a custom directive doesn't invoke the Custom Element constructor, see reproduction example.\r\nI guess that is because previously the (non-customized) built-in constructor is invoked.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11243","RelatedDescription":"Open issue \"Customized built-in elements (Web Components) are not working in Single File Components\" (#11243)"}],"ResultType":"GitHubIssue"},"Router-Issues":{"Issues":[{"Id":"593057325","IsPullRequest":false,"CreatedAt":"2020-04-03T03:50:31","Actor":"hengyizhangcn","Number":"3165","RawContent":null,"Title":"Is there the possibility of coexisting with hash mode and history mode in one program","State":"open","Body":"### What problem does this feature solve?\r\nIs there the possibility of coexisting with hash mode and history mode in one program\r\n\r\n### What does the proposed API look like?\r\nIs there the possibility of coexisting with hash mode and history mode in one program\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3165","RelatedDescription":"Open issue \"Is there the possibility of coexisting with hash mode and history mode in one program\" (#3165)"},{"Id":"593055233","IsPullRequest":false,"CreatedAt":"2020-04-03T03:42:28","Actor":"hengyizhangcn","Number":"3164","RawContent":null,"Title":"Is there the possibility of coexisting with hash mode and history mode in one program","State":"closed","Body":"Is there the possibility of coexisting with hash mode and history mode in one program","Url":"https://github.com/vuejs/vue-router/issues/3164","RelatedDescription":"Closed issue \"Is there the possibility of coexisting with hash mode and history mode in one program\" (#3164)"},{"Id":"591671724","IsPullRequest":false,"CreatedAt":"2020-04-01T06:51:14","Actor":"hengyizhangcn","Number":"3163","RawContent":null,"Title":" nothing","State":"closed","Body":"","Url":"https://github.com/vuejs/vue-router/issues/3163","RelatedDescription":"Closed issue \" nothing\" (#3163)"},{"Id":"591603172","IsPullRequest":false,"CreatedAt":"2020-04-01T04:00:35","Actor":"zhgt1997","Number":"3162","RawContent":null,"Title":"åœ¨ ie11 æµè§ˆå™¨ä¸­ï¼Œé€šè¿‡ window.open() æ‰“å¼€ä¸€ä¸ªæ–°é¡µé¢ï¼Œè¿™ä¸ªé¡µé¢çš„è·¯ç”±æ˜¯äºŒçº§è·¯ç”±ï¼Œä½†æ˜¯ie çš„åœ°å€æ çš„åœ°å€ä¼šé—ªä¸€ä¸‹ï¼Œåˆå˜æˆäº†æ ¹ç›®å½•","State":"closed","Body":"åœ¨ ie11 æµè§ˆå™¨ä¸­ï¼Œé€šè¿‡ window.open() æ‰“å¼€ä¸€ä¸ªæ–°é¡µé¢ï¼Œè¿™ä¸ªé¡µé¢çš„è·¯ç”±æ˜¯äºŒçº§è·¯ç”±ï¼Œä½†æ˜¯ie çš„åœ°å€æ çš„åœ°å€ä¼šé—ªä¸€ä¸‹ï¼Œåˆå˜æˆäº†æ ¹ç›®å½•ï¼Œé¡µé¢æ²¡æœ‰å†…å®¹ï¼Œæœ‰ä»€ä¹ˆè§£å†³çš„æ–¹æ³•å—\r\n","Url":"https://github.com/vuejs/vue-router/issues/3162","RelatedDescription":"Closed issue \"åœ¨ ie11 æµè§ˆå™¨ä¸­ï¼Œé€šè¿‡ window.open() æ‰“å¼€ä¸€ä¸ªæ–°é¡µé¢ï¼Œè¿™ä¸ªé¡µé¢çš„è·¯ç”±æ˜¯äºŒçº§è·¯ç”±ï¼Œä½†æ˜¯ie çš„åœ°å€æ çš„åœ°å€ä¼šé—ªä¸€ä¸‹ï¼Œåˆå˜æˆäº†æ ¹ç›®å½•\" (#3162)"},{"Id":"590433621","IsPullRequest":false,"CreatedAt":"2020-03-30T17:37:56","Actor":"evont","Number":"3161","RawContent":null,"Title":"getMatchedComponents åœ¨base æ¨¡å¼ä¸‹æ²¡æœ‰è¿”å›æ­£ç¡®è·¯ç”±","State":"closed","Body":"### Version\r\n3.1.6\r\n\r\n### Reproduction link\r\n[https://github.com/evont/vue-multi-ssr](https://github.com/evont/vue-multi-ssr)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nSSR ä¸‹ï¼Œå¦‚æœä½¿ç”¨äº†base é€‰é¡¹ï¼Œæ¯”å¦‚ï¼š { routes: [{ path: '/page1', component: Page1 }], base: '/test' }ï¼Œè®¿é—®/pc2/page1, getMatchedComponents å°†ä¸ä¼šåŒ¹é…åˆ°Page1ï¼Œä¼šæŠ›å‡ºnot found\r\n\r\n### What is expected?\r\ngetMatchedComponents åœ¨base æ¨¡å¼ä¸‹èƒ½å¤Ÿæ­£ç¡®åŒ¹é…åˆ°ç»„ä»¶\r\n\r\n### What is actually happening?\r\ngetMatchedComponents ä¼šç›´æ¥ä½¿ç”¨routesä¸­çš„path å»å’ŒfullPath æ¯”å¯¹ï¼Œå¯¼è‡´æ— æ³•è·å¾—æ­£ç¡®è·¯ç”±ç»„ä»¶\r\n\r\n---\r\nåœ¨å°è¯•ä¿®æ”¹æºç ï¼Œåœ¨addRouteRecord æ·»åŠ base åˆ° normalizedPathï¼Œå³record.path åŠ ä¸Šäº†base ä¹‹åï¼Œè¿è¡Œæ­£å¸¸ï¼Œä½†ç”±äºå¯¹æºç æ”¹åŠ¨æ¯”è¾ƒå¤§ï¼Œä¸”ä¸ç¡®å®šè¿™ä¸€é—®é¢˜æ˜¯å¦ä¸ºæ­£å¸¸è¡Œä¸ºï¼Œå¸Œæœ›è§£ç­”æˆ–ä¿®å¤ï¼Œæ„Ÿè°¢\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3161","RelatedDescription":"Closed issue \"getMatchedComponents åœ¨base æ¨¡å¼ä¸‹æ²¡æœ‰è¿”å›æ­£ç¡®è·¯ç”±\" (#3161)"},{"Id":"590110975","IsPullRequest":false,"CreatedAt":"2020-03-30T09:37:36","Actor":"anihCevol","Number":"3159","RawContent":null,"Title":"beforeRouteLeave","State":"closed","Body":"### Version\r\n3.1.5\r\n\r\n### Reproduction link\r\n[https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E7%BB%84%E4%BB%B6%E5%86%85%E7%9A%84%E5%AE%88%E5%8D%AB](https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E7%BB%84%E4%BB%B6%E5%86%85%E7%9A%84%E5%AE%88%E5%8D%AB)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nBé¡µé¢ï¼š\r\n```\r\nexport default {\r\n  beforeRouteLeave (to, from, next) {\r\n    next(false)\r\n  }\r\n}\r\n```\r\nå‡å¦‚Aé¡µé¢é«˜åº¦300ï¼ŒAé¡µé¢æ»‘åŠ¨åˆ°åº•éƒ¨ï¼Œç„¶åè·¯ç”±è·³è½¬åˆ°Bé¡µé¢ï¼Œå‡å¦‚Bé¡µé¢é«˜åº¦400ï¼Œåœ¨Bé¡µé¢ç‚¹å‡»æµè§ˆå™¨è¿”å›é”®ï¼Œ è™½ç„¶é˜»æ­¢äº†é¡µé¢è¿”å›ï¼Œä½†æ˜¯é¡µé¢æ»šåŠ¨åˆ°äº†300çš„ä½ç½®ã€‚\r\n\r\n### What is expected?\r\né¡µé¢ä½ç½®ä¸å˜\r\n\r\n### What is actually happening?\r\né¡µé¢ä½ç½®æ»šåŠ¨ä¸Šä¸€ä¸ªé¡µé¢ä½ç½®é«˜åº¦\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3159","RelatedDescription":"Closed issue \"beforeRouteLeave\" (#3159)"},{"Id":"590112810","IsPullRequest":false,"CreatedAt":"2020-03-30T09:37:05","Actor":"951759534","Number":"3160","RawContent":null,"Title":"NavigationDuplicated error","State":"closed","Body":"### Version\r\n3.1.3\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n````\r\nexport const dataRouter= [\r\n  {\r\n    path: 'contractWrites',\r\n    name: 'NormalWrites',\r\n    meta: {\r\n      requiresAuth: true\r\n    },\r\n    component: CommonList\r\n  }\r\n  {\r\n    path: 'contractWrites',\r\n    name: 'ContractWrites',\r\n    meta: {\r\n      requiresAuth: true\r\n    },\r\n    component: CommonList\r\n  },\r\n  {\r\n    path: '',\r\n    redirect: {\r\n      path: 'normalWrites'\r\n    }\r\n  }\r\n];\r\n\r\nrouter.js\r\nconst routes = [\r\n {\r\n        path: '/secondReviewList',\r\n        name: 'SecondReviewList',\r\n        component: SecondReviewList,\r\n        meta: {\r\n          requiresAuth: true\r\n        },\r\n        children: dataRouter\r\n      }\r\n]\r\nnew Router({\r\nroutes,\r\nmode: 'history',\r\n})\r\n\r\nview\r\n\r\n<button @click=\"changurl\">\r\n   change url\r\n<button>\r\n<router-view></router-view>\r\n\r\n\r\njs\r\n\r\nchangeUrl() {\r\n  this.$router.push({\r\n   url: '/secondReviewList/contractWrites'\r\n})\r\n}\r\n````\r\n\r\n### What is expected?\r\nno error\r\n\r\n### What is actually happening?\r\ntrigger this onClick event throw NavigationDuplicated error and this url isn't changed\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3160","RelatedDescription":"Closed issue \"NavigationDuplicated error\" (#3160)"},{"Id":"590110891","IsPullRequest":false,"CreatedAt":"2020-03-30T08:54:23","Actor":"951759534","Number":"3158","RawContent":null,"Title":"NavigationDuplicated error ","State":"closed","Body":"```\r\nexport const dataRouter= [\r\n  {\r\n    path: 'contractWrites',\r\n    name: 'NormalWrites',\r\n    meta: {\r\n      requiresAuth: true\r\n    },\r\n    component: CommonList\r\n  }\r\n  {\r\n    path: 'contractWrites',\r\n    name: 'ContractWrites',\r\n    meta: {\r\n      requiresAuth: true\r\n    },\r\n    component: CommonList\r\n  },\r\n  {\r\n    path: '',\r\n    redirect: {\r\n      path: 'normalWrites'\r\n    }\r\n  }\r\n];\r\n\r\nrouter.js\r\nconst routes = [\r\n {\r\n        path: '/secondReviewList',\r\n        name: 'SecondReviewList',\r\n        component: SecondReviewList,\r\n        meta: {\r\n          requiresAuth: true\r\n        },\r\n        children: dataRouter\r\n      }\r\n]\r\nnew Router({\r\nroutes,\r\nmode: 'history',\r\n})\r\n\r\nview\r\n\r\n<button @click=\"changurl\">\r\n   change url\r\n<button>\r\n<router-view></router-view>\r\n\r\n\r\njs\r\n\r\nchangeUrl() {\r\n  this.$router.push({\r\n   url: '/secondReviewList/contractWrites'\r\n})\r\n}\r\n```\r\n\r\n\r\ntrigger this onClick event    throw NavigationDuplicated error and this url isn't changed\r\n","Url":"https://github.com/vuejs/vue-router/issues/3158","RelatedDescription":"Closed issue \"NavigationDuplicated error \" (#3158)"},{"Id":"589214905","IsPullRequest":false,"CreatedAt":"2020-03-28T17:53:45","Actor":"bponomarenko","Number":"3157","RawContent":null,"Title":"Add possibility to handle aborted navigations globally","State":"closed","Body":"### What problem does this feature solve?\r\nAdds possibility to handle aborted navigations globally.\r\n\r\nInitiated vue-router navigation could have different outcomes:\r\n* successful navigation\r\n* errored navigation (in case there is non-internal js error in one of the guards or hooks)\r\n* aborted navigation\r\n\r\nIn cases, when application logic depends on these navigation results, `vue-router` has very limited support to catch aborted navigations, and no support to do it globally.\r\n\r\nSuccessful navigation can be catched in global `afterEach` hook or in `beforeResolve` guard (however error still can be thrown there). Also there is optional `onComplete` callback for `router.push`, but there is no way to set it from `<router-link>`.\r\nNavigation with error (because of JS error in one of the guards or hooks) can be catched in global `onError` hook. Also there is optional `onAbort` callback for `router.push` (which will be called for both navigation with error and aborted navigation), but there is no way to set it from `<router-link>`.\r\nWhen it comes to aborted navigations, the only place where it can be catched â€“Â `onAbort` callback for `router.push`. However, as mentioned before, it is not possible to set it from `<router-link>`. Moreover, there is no global hook to catch aborted navigations at all.\r\n\r\n### Use case\r\n\r\nIn our application we would like to simply display loading indicator in the root App component while navigation is in progress. Also, we would like to have this functionality be generic, so it can be applied to different applications. The easiest way to achieve it is by creating separate ES module like this `navigation-state-plugin.js`:\r\n``` js\r\nimport Vue from 'vue';\r\n\r\nexport const state = Vue.observable({ navigating: false });\r\n\r\nexport default router => {\r\n  // When navigation initiated â€“Â update state and proceed\r\n  router.beforeEach((to, from, next) {\r\n    state.navigating = true;\r\n    next();\r\n  });\r\n\r\n  // When navigation successfully finished â€“ update state accordingly\r\n  router.afterEach(() => {\r\n    state.navigating = false;\r\n  });\r\n\r\n  // When navigation failed â€“also update state\r\n  router.onError(error => {\r\n    state.navigating = false;\r\n  });\r\n};\r\n```\r\n\r\nIn this way in can be applied in the `main.js`:\r\n```js\r\nimport VueRouter from 'vue-router';\r\nimport applyPlugin from './navigation-state-plugin.js`;\r\n\r\n// do other initializations\r\n\r\nconst router = new VueRouter(...);\r\napplyPlugin(router);\r\n\r\n// init application\r\n```\r\n\r\nAlso state from this file can be imported in App.vue and used to display loading indicator when `state.navigating` is `true`.\r\n\r\nHowever, when navigation is aborted there is no way to track it in a global manner, which leads to loading indicator to stay visible on a screen.\r\n\r\nAs possible solution, [it was suggested](https://github.com/vuejs/vue-router/issues/3027#issuecomment-599474646) to _\"use `router.push` or the v-slot api and get the promise returned from `navigate`\"_ (which is currently not available because #3042 has no PR). However this solution would require to create wrappers around vue-router API, which should always be used throughout entire application instead of native `vue-router` api. Even though it is easy to do for `router.push`, it is cumbersome to do for `<router-link>` because wrapper should be able to support the same rendering scenarios (without slot content, with slot content, with scoped slot content, etc.)\r\nIt is also not suitable for us, because we have shared set of router components, which are re-used in different vue applications. And not all applications will have `navigation-state-plugin.js`. So we need to have possibility to use native `router.push` and `<router-link>` with an option to globally manage navigation state.\r\n\r\n### What does the proposed API look like?\r\nMost obvious would be to introduce global `onAbort` hook:\r\n```js\r\n  router.onAbort(function callback(abortedRoute, reason) { ... });\r\n```\r\nwhere `reason` can be one of the errors from #3047\r\n\r\nIt may be possible to call existing `onError` or `afterEach` hooks also for aborted navigations, but that would be a breaking change, and probably would make API more confusing.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3157","RelatedDescription":"Closed issue \"Add possibility to handle aborted navigations globally\" (#3157)"},{"Id":"586168513","IsPullRequest":false,"CreatedAt":"2020-03-25T08:50:13","Actor":"Mafii","Number":"3154","RawContent":null,"Title":"Using Router with Office.js: router tries using push state even tho it's reset manually by the office js script","State":"closed","Body":"### What problem does this feature solve?\r\nWhen using Microsofts Offic.js (e.g. in Word: https://docs.microsoft.com/en-us/javascript/api/word?view=word-js-preview), and using Vue with vue router, the router tries using push state, but the office js script deletes the push state since the excel web pane is not supporting the push state. The check in push state wheter push state can be used, checks for `window.history && 'pushState' in window.history`, but office.js resets the fields on window.history, not window.history itself (see https://stackoverflow.com/a/42703406/). I propose we check if Office.js is available in the context, and if so, we disable the push state.\r\n\r\n### What does the proposed API look like?\r\nWe would add a check at this position:\r\n\r\nhttps://github.com/vuejs/vue-router/blob/c0d3376f4e3527bd761bd325873366ed74f5736b/src/util/push-state.js#L17\r\n\r\nThe additional check could look like this:\r\n\r\n```const officeJsLoaded = window.Office && window.Office.context;```\r\n\r\nso the whole function might look like this:\r\n\r\n```\r\nexport const supportsPushState =\r\n  inBrowser &&\r\n  (function () {\r\n    const ua = window.navigator.userAgent\r\n    const officeJsLoaded = window.Office && window.Office.context\r\n\r\n    if (\r\n      officeJsLoaded ||\r\n      ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) &&\r\n      ua.indexOf('Mobile Safari') !== -1 &&\r\n      ua.indexOf('Chrome') === -1 &&\r\n      ua.indexOf('Windows Phone') === -1)\r\n    ) {\r\n      return false\r\n    }\r\n\r\n    return window.history && 'pushState' in window.history\r\n  })()\r\n```\r\n\r\n\r\n\r\nAlternatively, we could check if `window.history.pushState` is null, but I am not sure of the implications of this. Maybe someone who knows the expected state in the browsers can shed a light wheter that would make sense.\r\n\r\nThis would result in this return statement, the rest of the function not being changed:\r\n```\r\nreturn window.history && 'pushState' in window.history && window.history.pushState !== null\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3154","RelatedDescription":"Closed issue \"Using Router with Office.js: router tries using push state even tho it's reset manually by the office js script\" (#3154)"},{"Id":"586418841","IsPullRequest":false,"CreatedAt":"2020-03-23T18:18:19","Actor":"rfftrifork","Number":"3156","RawContent":null,"Title":"Allow nested routes without parent component","State":"open","Body":"### What problem does this feature solve?\r\nThis issue already exist, but was closed: https://github.com/vuejs/vue-router/issues/2105 I do believe it shouldn't have been.\r\n\r\nThe `PassThrough` solution will most likely do it, but it is a workaround. I do not want to specify every view as a pass through.\r\n\r\nThis should imo. be supported by vue-router directly, making it easier to design ones system as small sub components, allowing each component to know it's own navigation and be loosely coupled.\r\n\r\n\r\nAlso, I don't know if it's the same or another issue, but `name` hierarchies would make this feature quite powerful\r\n\r\n### What does the proposed API look like?\r\nInterface wise I would say it makes sense to simply default to this behavior if `component` isn't specified.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3156","RelatedDescription":"Open issue \"Allow nested routes without parent component\" (#3156)"},{"Id":"586418167","IsPullRequest":false,"CreatedAt":"2020-03-23T18:17:10","Actor":"rfftrifork","Number":"3155","RawContent":null,"Title":"Allow nested routes without parent component","State":"closed","Body":"This issue already exist, but was closed: https://github.com/vuejs/vue-router/issues/2105 I do believe it shouldn't have been.\r\n\r\nThe `PassThrough` solution will most likely do it, but it is a workaround. I do not want to specify every view as a pass through.\r\n\r\nThis should imo. be supported by vue-router directly, making it easier to design ones system as small sub components, allowing each component to know it's own navigation and be loosely coupled.\r\n\r\nInterface wise I would say it makes sense to simply default to this behavior if `component` isn't specified.\r\n\r\nAlso, I don't know if it's the same or another issue, but `name` hierarchies would make this feature quite powerful","Url":"https://github.com/vuejs/vue-router/issues/3155","RelatedDescription":"Closed issue \"Allow nested routes without parent component\" (#3155)"},{"Id":"586001267","IsPullRequest":false,"CreatedAt":"2020-03-23T08:58:46","Actor":"snowtreetree","Number":"3153","RawContent":null,"Title":"router back not work when loading","State":"closed","Body":"### Version\r\n3.1.6\r\n\r\n### Reproduction link\r\n[https://github.com/snowtreetree/router-back](https://github.com/snowtreetree/router-back)\r\n\r\n**[youtube video](https://www.youtube.com/watch?v=dxpUgt-fCSo) ,  I upload my video to youtube , you can watch it in 15 second.**\r\n\r\n### Description\r\n**It's not js, just image**\r\n** in my  [app](https://github.com/snowtreetree/router-back), you can change network to slow3gï¼Œ**when browser top left conrner show loading**,  click `to button`, the page show correctly,  then click browser back, the router params have changed, but the page show no change.**\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n![image](https://user-images.githubusercontent.com/30932683/77144357-a142dc00-6ac0-11ea-8740-ef99a6b34770.png)\r\n\r\n### What is expected?\r\nrouter back immediately.\r\n\r\n### What is actually happening?\r\nwhen something is loadingï¼Œi want to let router go back, but the page does not change immediately,  when browser loading end,  the page show correctly.\r\n\r\n---\r\nIn my app , I need to do something in router change(log my page path, title), but when the internet speed is slow,  use the function of back or go(-1), I can not back ğŸ¤·â€â™€ï¸ã€‚\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3153","RelatedDescription":"Closed issue \"router back not work when loading\" (#3153)"},{"Id":"585778650","IsPullRequest":false,"CreatedAt":"2020-03-22T18:12:46","Actor":"joeldenning","Number":"3152","RawContent":null,"Title":"Ability to detach and reattach popstate listeners","State":"open","Body":"### Version\r\n3.1.6\r\n\r\n### Reproduction link\r\nhttps://codesandbox.io/s/nostalgic-mahavira-y0m7q\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n#### Memory leak\r\n\r\nCall `new VueRouter()` multiple times. It is impossible to clean up its popstate listener.\r\n\r\n#### Basepath bug\r\n\r\nIf you have multiple vue applications, each using vue-router, they must all share the same base path, even if you ensure only one of them is active at a time by destroying / remounting when navigating between them. Otherwise they will all attempt to ensure that every route starts with their base path.\r\n\r\nSame goes for if you have one vue-router and one react-router. The vue-router will force all urls to start with its base path within the react-owned pages, even if you have destroyed the vue application before navigating to the react application.\r\n\r\n### What is expected?\r\nI think the best solution is to call `window.addEventListener('popstate', handler)` when `const intance = new Vue({router})` is called, instead of when `new VueRouter()` is called. And then call `window.removeEventListener('popstate', handler)` when `instance.$destroy()` is called.\r\n\r\nAlternatively, it could be cleaned up like so:\r\n\r\n```js\r\n// Alternative solution (not my preferred one, but works)\r\n\r\nconst router = new VueRouter({...})\r\n// later, to clean up event listeners:\r\nrouter.detach()\r\n// later, to reattach event listeners\r\nrouter.attach()\r\n```\r\n\r\n### What is actually happening?\r\nwindow.addEventListener is called during `new VueRouter()`, and there is no way to ever remove that event listener.\r\n\r\n---\r\nSee related https://github.com/single-spa/single-spa/issues/488. I am a maintainer of single-spa, which has dozens of organizations using one or more instances of vue-router. For us, cleaning up the event listener when the application is unmounted is important to being able to have isolated apps on the same page.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3152","RelatedDescription":"Open issue \"Ability to detach and reattach popstate listeners\" (#3152)"},{"Id":"585149522","IsPullRequest":false,"CreatedAt":"2020-03-21T11:22:13","Actor":"Mister-Hope","Number":"3151","RawContent":null,"Title":"Types: Missing options on instance.$router","State":"closed","Body":"### Version\r\n3.1.6\r\n\r\n### Steps to reproduce\r\n```\r\nthis.$router.options // should be the options that user passed to vue-rotuer\r\n```\r\n\r\n## Solution\r\n\r\nI think we should change \r\n\r\n```ts\r\ndeclare module 'vue/types/vue' {\r\n  interface Vue {\r\n    $router: VueRouter\r\n    $route: Route\r\n  }\r\n}\r\n```\r\nto \r\n\r\n\r\n```ts\r\nimport { RouterOptions } from './router'\r\n\r\ndeclare module 'vue/types/vue' {\r\n  interface Vue {\r\n    $router: VueRouter & { options: RouterOptions }\r\n    $route: Route\r\n  }\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3151","RelatedDescription":"Closed issue \"Types: Missing options on instance.$router\" (#3151)"},{"Id":"584909405","IsPullRequest":false,"CreatedAt":"2020-03-20T08:25:15","Actor":"snowtreetree","Number":"3150","RawContent":null,"Title":"router back not work when loading","State":"closed","Body":"### Version\r\n3.1.6\r\n\r\n### Reproduction link\r\n[https://github.com/snowtreetree/router-back](https://github.com/snowtreetree/router-back)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n![image](https://user-images.githubusercontent.com/30932683/77144357-a142dc00-6ac0-11ea-8740-ef99a6b34770.png)\r\n\r\n### What is expected?\r\nrouter back immediately.\r\n\r\n### What is actually happening?\r\nwhen something is loadingï¼Œi want to let router go back, but the page does not change immediately,  when browser loading end,  the page show correctly.\r\n\r\n---\r\nIn my app , I need to do something in router change(log my page path, title), but when the internet speed is slow,  use the function of back or go(-1), I can not back ğŸ¤·â€â™€ï¸ã€‚\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3150","RelatedDescription":"Closed issue \"router back not work when loading\" (#3150)"},{"Id":"584372607","IsPullRequest":false,"CreatedAt":"2020-03-19T12:47:24","Actor":"krystof-k","Number":"3149","RawContent":null,"Title":"<router-link> doesn't blur","State":"closed","Body":"### Version\r\n3.1.6\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/xenodochial-murdock-xssfp](https://codesandbox.io/s/xenodochial-murdock-xssfp)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nYou can set up a new project `vue create .` & `vue add router`, then add\r\n\r\n```css\r\na:focus {\r\nborder: 5px solid red;\r\n}\r\n```\r\n\r\nand try to click any of the navigation links.\r\n\r\n### What is expected?\r\nIt should blur after route changed.\r\n\r\n### What is actually happening?\r\nIt doesn't blur.\r\n\r\n---\r\nI tried googling for a long time but found no issues mentioning this. So either I'm missing something or it nobody styles focus state.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3149","RelatedDescription":"Closed issue \"<router-link> doesn't blur\" (#3149)"},{"Id":"583448353","IsPullRequest":false,"CreatedAt":"2020-03-18T09:09:44","Actor":"M0j1","Number":"3148","RawContent":null,"Title":"Cannot get symbol type value in params","State":"closed","Body":"### Version\r\n3.1.6\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/wandering-shape-utn95](https://codesandbox.io/s/wandering-shape-utn95)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nJumping from the HOME page to the User page, the params carry a value of symbol type key, but the params obtained on the user page do not contain a value of type symbol\r\n\r\n### What is expected?\r\nI can get the key of symbol type and use it\r\n\r\n### What is actually happening?\r\nIn the params passed, the symbol type key cannot be obtained, and the Google console cannot see it\r\n\r\n---\r\nv3.1.3 can get it.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3148","RelatedDescription":"Closed issue \"Cannot get symbol type value in params\" (#3148)"},{"Id":"583412666","IsPullRequest":false,"CreatedAt":"2020-03-18T02:11:51","Actor":"fellowT","Number":"3147","RawContent":null,"Title":"è·¯ç”±åˆ‡æ¢æŠ¥é”™","State":"closed","Body":"Identifier 'pleaseLetJsLoaded' has already been declared\r\n![image](https://user-images.githubusercontent.com/37097875/76918253-ddc7d980-6900-11ea-88aa-5b4c4ce02803.png)\r\n","Url":"https://github.com/vuejs/vue-router/issues/3147","RelatedDescription":"Closed issue \"è·¯ç”±åˆ‡æ¢æŠ¥é”™\" (#3147)"},{"Id":"582192010","IsPullRequest":false,"CreatedAt":"2020-03-16T10:55:45","Actor":"deefeloper","Number":"3146","RawContent":null,"Title":"Home view created twice","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://none.needed](https://none.needed)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nCreate a boilerplate vue app, add console.log() in created() in Home.\r\n\r\n### What is expected?\r\nOnly one log\r\n\r\n### What is actually happening?\r\ntwo logs\r\n\r\n---\r\nOnly the Home view is created twice on initial load & refresh, all other views are fine. I double checked that the mount div is not in there twice\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3146","RelatedDescription":"Closed issue \"Home view created twice\" (#3146)"},{"Id":"581212425","IsPullRequest":false,"CreatedAt":"2020-03-14T13:35:45","Actor":"bailihua93","Number":"3145","RawContent":null,"Title":"router.go won't work when the page is Pending","State":"closed","Body":"when the page is been Pending because of  some api   pending, after this.$router.push ,the  $router.go(-1)  won't work","Url":"https://github.com/vuejs/vue-router/issues/3145","RelatedDescription":"Closed issue \"router.go won't work when the page is Pending\" (#3145)"},{"Id":"580620420","IsPullRequest":false,"CreatedAt":"2020-03-13T14:08:36","Actor":"phiter","Number":"3144","RawContent":null,"Title":"Add aria-current=\"page\" to the active link","State":"closed","Body":"### What problem does this feature solve?\r\nUsers that can see the page can have a nice experience of knowing which link is currently active just by looking at a styled active link with the `activeClass`.\r\n\r\nBut visually impaired users, those who rely on screen readers, currently have no way of knowing that the currently selected link is the active link.\r\n\r\nTo fix this, `aria-current=\"page\"` adds an extra information to the screen reader that the currently focused link is the same as the current page, so if we add that together with `activeClass` we'll be aiding both sighted and blind users.\r\n\r\n### What does the proposed API look like?\r\nBasically, when we add `activeClass` also pass `aria-current=\"page\"` to the generated anchor.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3144","RelatedDescription":"Closed issue \"Add aria-current=\"page\" to the active link\" (#3144)"},{"Id":"580374482","IsPullRequest":false,"CreatedAt":"2020-03-13T05:07:27","Actor":"lovetingyuan","Number":"3143","RawContent":null,"Title":"Error: Cannot read property 'apply' of undefined","State":"open","Body":"### Version\r\n3.1.6\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/stupefied-river-6pyng](https://codesandbox.io/s/stupefied-river-6pyng)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nuse component route guard before vue-router installed.\r\n```javascript\r\nVue.mixin({\r\n  beforeRouteUpdate(to, from, next) {\r\n    next();\r\n  }\r\n});\r\n\r\nVue.use(Router)\r\n\r\n```\r\n\r\n### What is expected?\r\nJust no error or the document should indicate that user should not use component route guard mixins before vue-router is installed.\r\n\r\n### What is actually happening?\r\n```bash\r\nTypeError: Cannot read property 'apply' of undefined\r\n    at boundRouteGuard (https://6pyng.csb.app/node_modules/vue-router/dist/vue-router.common.js:2297:20)\r\n\r\n    at iterator (https://6pyng.csb.app/node_modules/vue-router/dist/vue-router.common.js:2160:7)\r\n\r\n    at step (https://6pyng.csb.app/node_modules/vue-router/dist/vue-router.common.js:1886:9)\r\n\r\n    at runQueue (https://6pyng.csb.app/node_modules/vue-router/dist/vue-router.common.js:1894:3)\r\n\r\n    at HTML5History.confirmTransition (https://6pyng.csb.app/node_modules/vue-router/dist/vue-router.common.js:2187:3)\r\n\r\n    at HTML5History.transitionTo (https://6pyng.csb.app/node_modules/vue-router/dist/vue-router.common.js:2074:8)\r\n\r\n    at HTML5History.push (https://6pyng.csb.app/node_modules/vue-router/dist/vue-router.common.js:2405:10)\r\n\r\n    at VueRouter.push (https://6pyng.csb.app/node_modules/vue-router/dist/vue-router.common.js:2820:18)\r\n\r\n    at handler (https://6pyng.csb.app/node_modules/vue-router/dist/vue-router.common.js:1100:18)\r\n\r\n    at invokeWithErrorHandling (eval at Qr (https://codesandbox.io/static/js/sandbox.37b4bff87.js:1:178758), <anonymous>:1859:26)\r\n\r\n    at HTMLAnchorElement.invoker (eval at Qr (https://codesandbox.io/static/js/sandbox.37b4bff87.js:1:178758), <anonymous>:2184:14)\r\n\r\n    at HTMLAnchorElement.original._wrapper (eval at Qr (https://codesandbox.io/static/js/sandbox.37b4bff87.js:1:178758), <anonymous>:7543:25)\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3143","RelatedDescription":"Open issue \"Error: Cannot read property 'apply' of undefined\" (#3143)"},{"Id":"579759620","IsPullRequest":false,"CreatedAt":"2020-03-12T08:16:36","Actor":"Evertvdw","Number":"3142","RawContent":null,"Title":"Async child components are created after App.vue mounted() on client but not on SSR","State":"closed","Body":"### Version\r\n3.1.6\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/fervent-dream-5upjy](https://codesandbox.io/s/fervent-dream-5upjy)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nRun the code and check the console output of the SSR and the Client hydration.\r\n\r\n\r\n### What is expected?\r\nI'm using Quasar with SSR mode, but we have trouble there with async components. We run into some errors because at the SSR side some components are created, which on the client side are created after the initial mount. This in turn causes hydration errors. In the provided example I have a MainLayout (which is async loaded in the router), which in turn  loads (also async) an EssentialLink component. In order to solve our issue this EssentialLink component should be created on the client side before the App.vue mounted hook. \r\n\r\n### What is actually happening?\r\nCurrently only the component loaded async in the route itself is created before App.vue mounted(). Child components that are also async are created after the App.vue mounted() hook which causes issues for us. \r\n\r\n---\r\nServer and client side are waiting for router.onReady() which in the documentation says that async components are resolved before this hook is called: https://router.vuejs.org/api/#router-onready. \r\n\r\nIt seems to me that the router.onReady() should only be fired when all async child components are also resolved and created.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3142","RelatedDescription":"Closed issue \"Async child components are created after App.vue mounted() on client but not on SSR\" (#3142)"},{"Id":"576676381","IsPullRequest":false,"CreatedAt":"2020-03-06T03:38:31","Actor":"rashadrivera","Number":"3141","RawContent":null,"Title":"VueRouter Silently Fails","State":"closed","Body":"When configuring vue-router, it can fail without any explanation.  In my case, I placed a '<router-view></router-view>' tag in my app.  However, when the app renders the UI, there is nothing shown.  The Chrome debug tool shows the router-view node, but nothing is inside.  \r\n\r\nThe expected behavior is for the router to throw an error or show a console message explaining why it did not render anything instead of silently failing.  ","Url":"https://github.com/vuejs/vue-router/issues/3141","RelatedDescription":"Closed issue \"VueRouter Silently Fails\" (#3141)"},{"Id":"575935320","IsPullRequest":false,"CreatedAt":"2020-03-05T15:26:46","Actor":"vallemar","Number":"3140","RawContent":null,"Title":"Overwrite Props to Route Components does not work","State":"closed","Body":"### Version\r\n3.1.6\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/vallemar/rfwo5m3v/74/](https://jsfiddle.net/vallemar/rfwo5m3v/74/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nClick on the text.\r\n\r\n### What is expected?\r\nI hope that the properties that are passed to the view are the ones that I have configured in my data link with <router-link>.\r\n\r\n### What is actually happening?\r\nThe property that is passed is the default that is put on the router and is not overwritten by the one that is passed at that time from the <router-link>.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3140","RelatedDescription":"Closed issue \"Overwrite Props to Route Components does not work\" (#3140)"},{"Id":"575525594","IsPullRequest":false,"CreatedAt":"2020-03-04T16:25:51","Actor":"victortwc","Number":"3139","RawContent":null,"Title":"[typescript] Incompatible Route and Location types","State":"closed","Body":"### Version\r\n3.1.6\r\n\r\n### Reproduction link\r\n[http://shorturl.at/ixJQ5](http://shorturl.at/ixJQ5)\r\n\r\n\r\n### Steps to reproduce\r\n```\r\nthis.$router.push({\r\n    ...this.$route, \r\n    params: {\r\n        newParam: true\r\n    }\r\n})\r\n```\r\n\r\nWith typescript, it breaks.\r\n\r\n### What is expected?\r\nRoute and Location types are compatible.\r\n\r\n### What is actually happening?\r\nAs Route now have the name parameter with `string | null | undefined` it breaks the navigation, as `Location` will only accept `string | undefined` as name.\r\n\r\n---\r\nCommit causing the issue:\r\nhttps://github.com/vuejs/vue-router/commit/8f831f28f33bb766d5baaabc8b2daff259f3d45b\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3139","RelatedDescription":"Closed issue \"[typescript] Incompatible Route and Location types\" (#3139)"},{"Id":"574247911","IsPullRequest":true,"CreatedAt":"2020-03-03T17:10:44","Actor":"Alex-Sokolov","Number":"3136","RawContent":null,"Title":"docs: [RU] Translation update","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3136","RelatedDescription":"Closed or merged PR \"docs: [RU] Translation update\" (#3136)"},{"Id":"574702045","IsPullRequest":false,"CreatedAt":"2020-03-03T16:55:47","Actor":"davNazaryan","Number":"3137","RawContent":null,"Title":"Option to merge meta with parent route meta","State":"closed","Body":"### What problem does this feature solve?\r\nAdd an option `mergeParentMeta: [Boolean]` to give the ability to merge route meta with its parent route meta directly in routes.js\r\n`mergeParentMeta`-s default value is `false`. The priority of the child must be higher than the parent.\r\n\r\n\r\n\r\n### What does the proposed API look like?\r\n```js\r\n{\r\n        path: '/report',\r\n        name: 'report',\r\n        redirect: { name: 'report/workspace' },\r\n        component: { render(c) { return c('router-view'); } },\r\n        meta: {\r\n          breadcrumbs: {\r\n            name: 'Reports',\r\n          },\r\n          layout: {\r\n            headerMenu: true,\r\n          },\r\n          menuItems: [\r\n            { name: 'Banners', to: 'report/banner' },\r\n            { name: 'Campaigns', to: 'report/campaign' },\r\n            { name: 'Workspaces', to: 'report/workspace' },\r\n          ],\r\n        },\r\n        children: [\r\n          {\r\n            path: '/report/workspace',\r\n            ...component('report/list/List', 'report/workspace'),\r\n            mergeParentMeta: true,\r\n            meta: {\r\n              breadcrumbs: {\r\n                crumbs: [\r\n                  { name: 'Reports', route: 'report', title: 'Reports' },\r\n                ],\r\n                name: 'Workspaces',\r\n              },\r\n            },\r\n          },\r\n          {\r\n            path: '/report/campaign',\r\n            ...component('report/list/List', 'report/campaign'),\r\n            mergeParentMeta: true,\r\n            meta: {\r\n              breadcrumbs: {\r\n                crumbs: [\r\n                  { name: 'Reports', route: 'report', title: 'Reports' },\r\n                ],\r\n                name: 'Campaigns',\r\n              },\r\n            },\r\n          },\r\n        ],\r\n      },\r\n```\r\n\r\nIn this case, the `menuItems` meta can be used inside `report\\workspace` and `report\\campaign` routes.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3137","RelatedDescription":"Closed issue \"Option to merge meta with parent route meta\" (#3137)"},{"Id":"574768719","IsPullRequest":false,"CreatedAt":"2020-03-03T15:58:30","Actor":"lyaskovec","Number":"3138","RawContent":null,"Title":"Double decoding of url params","State":"open","Body":"### Version\r\n3.1.6\r\n\r\n### Reproduction link\r\n[https://lyaskovec.github.io/tests/](https://lyaskovec.github.io/tests/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nThere are two cases where you can see issue with double decoding of URL:\r\ncase 1:\r\n- Go to the example page\r\n- Click on link  /%25\r\n- Click on link /home\r\n- Try to use browsers navigation buttons\r\n\r\ncase2:\r\n- Go to the example page\r\n- Click on link  /%25\r\n- reload the browser page\r\n\r\n\r\n### What is expected?\r\nIt should show a correct page\r\n\r\n### What is actually happening?\r\nI got \"URIError: URI malformed\" error\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3138","RelatedDescription":"Open issue \"Double decoding of url params\" (#3138)"}],"ResultType":"GitHubIssue"},"Vuex-Issues":{"Issues":[{"Id":"592622128","IsPullRequest":true,"CreatedAt":"2020-04-02T13:13:47","Actor":"kiaking","Number":"1707","RawContent":null,"Title":"build: add conventional changelog support","State":"open","Body":"This PR adds Conventional Changelog support to enhance release process and to align with recent Vue ecosystems.\r\n\r\n- Generate initial CHANGELOG.md including all past releases.\r\n- Add Contribution guideline taken from Vue & Vue next. The contents are modified slightly to fit into Vuex context.\r\n- Update release shell file to support changeling generation.","Url":"https://github.com/vuejs/vuex/pull/1707","RelatedDescription":"Open PR \"build: add conventional changelog support\" (#1707)"},{"Id":"575414643","IsPullRequest":false,"CreatedAt":"2020-04-02T09:13:36","Actor":"asoglovo","Number":"1690","RawContent":null,"Title":"Helper functions to subscribe a component to the commits/actions stream","State":"closed","Body":"### What problem does this feature solve?\r\nAdd a \"mapping\" layer from the mutations/actions stream to the components that want to subscribe to them. \r\n\r\nSimilarly to the existing `mapActions` or `mapGetters` functions which decouple the Vuex store from the components using it, a new pair of functions could exist to allow the components get subscribed to the dispatched actions or committed mutations in a way such that direct usage of the store is not necessary.\r\n\r\n### What does the proposed API look like?\r\nIn the components, instead of directly accessing `$store` to subscribe to the actions stream:\r\n\r\n```js\r\ncreated() {\r\n  this.unsubscribe = this.$store.subscribeAction((action, state) => {\r\n    if (action.type === 'MY_ACTION_TYPE') { ... }\r\n  })\r\n},\r\n\r\ndestroyed() {\r\n  this.unsubscribe()\r\n}\r\n```\r\n\r\nWe'd have something like:\r\n\r\n```js\r\ncreated() {\r\n  this.unsubscribe = subscribeAction('MY_ACTION_TYPE', (payload, state) => { ... })\r\n},\r\n\r\ndestroyed() {\r\n  this.unsubscribe()\r\n}\r\n```\r\n\r\nThis function would not only decouple the usage of the store from the components, but also provide a filter to only respond to the given action type. Note that, since subscribing to actions is not a widespread idiom with Vuex, we could go without a plural version, such as `subscribeActions`.\r\n\r\nA similar function, `subscribeMutation` could do the same for mutations.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1690","RelatedDescription":"Closed issue \"Helper functions to subscribe a component to the commits/actions stream\" (#1690)"},{"Id":"584741692","IsPullRequest":true,"CreatedAt":"2020-04-02T09:06:37","Actor":"andrewminer","Number":"1699","RawContent":null,"Title":"Throw an error when an unknown mutation is requested","State":"closed","Body":"I noticed when I was running my unit tests that I got a number of `[vuex] unknown mutation type` errors in the log, but without any tests actually failing.  This was due to my having (deliberately) removed a store which provided those mutations.  This also removed those tests which were explicitly exercising that mutation, so there were no longer any tests which actually checked that the mutation worked.  So, that all checks out.\r\n\r\nHowever...  there still were all the the places which were calling the now unknown mutation without triggering any errors of their own in _their_ tests.  This pull request changes the reaction to not finding a mutation to thow an error instead of swallowing the problem.  This will (correctly, to my mind) cause upstream code which erroneously commits a non-existant mutation to fail.","Url":"https://github.com/vuejs/vuex/pull/1699","RelatedDescription":"Closed or merged PR \"Throw an error when an unknown mutation is requested\" (#1699)"},{"Id":"567707440","IsPullRequest":false,"CreatedAt":"2020-03-30T15:29:49","Actor":"blacksonic","Number":"1683","RawContent":null,"Title":"Vuex breaks with Vue 3.x upgrade","State":"closed","Body":"### Version\r\n3.1.2\r\n\r\n### Reproduction link\r\n[https://github.com/blacksonic/todoapp-vue/tree/vue3](https://github.com/blacksonic/todoapp-vue/tree/vue3)\r\n\r\n### Steps to reproduce\r\nvue add vue-next\r\ntry to use the Vuex plugin on the instance returned from createApp\r\n\r\n### What is expected?\r\nVuex plugin added to the app instance\r\n\r\n### What is actually happening?\r\nThe app breaks with console error:\r\n\r\nvuex.esm.js?2f62:7 Uncaught TypeError: Cannot read property 'split' of undefined\r\n    at applyMixin (vuex.esm.js?2f62:7)\r\n    at Object.install (vuex.esm.js?2f62:824)\r\n    at Object.use (runtime-core.esm-bundler.js?5c40:1709)\r\n    at eval (main.js?56d7:8)\r\n    at Module../src/main.js (app.js:1246)\r\n    at __webpack_require__ (app.js:786)\r\n    at fn (app.js:151)\r\n    at Object.1 (app.js:1356)\r\n    at __webpack_require__ (app.js:786)\r\n    at checkDeferredModules (app.js:46)\r\n\r\n---\r\nWhich leads to the point where it tries to determine the Vue version from the global Vue instance, which is non-existent.\r\n\r\nvar version = Number(Vue.version.split('.')[0]);\r\nAny suggestions on how to add Vuex to Vue 3 projects?\r\nThere is an exported variable in Vue 3 called version.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1683","RelatedDescription":"Closed issue \"Vuex breaks with Vue 3.x upgrade\" (#1683)"},{"Id":"590380264","IsPullRequest":true,"CreatedAt":"2020-03-30T15:25:35","Actor":"kiaking","Number":"1706","RawContent":null,"Title":"docs: add docs and typings for the new `hasModule` method","State":"open","Body":"This PR adds docs and typing for the new `hasModule` API which was added at #834.","Url":"https://github.com/vuejs/vuex/pull/1706","RelatedDescription":"Open PR \"docs: add docs and typings for the new `hasModule` method\" (#1706)"},{"Id":"589214433","IsPullRequest":true,"CreatedAt":"2020-03-30T11:09:28","Actor":"brycehipp","Number":"1703","RawContent":null,"Title":"Correcting typo in README","State":"closed","Body":"I was reading through the changes coming to v4 and noticed a minor typo.","Url":"https://github.com/vuejs/vuex/pull/1703","RelatedDescription":"Closed or merged PR \"Correcting typo in README\" (#1703)"},{"Id":"589517974","IsPullRequest":false,"CreatedAt":"2020-03-28T06:16:08","Actor":"shredmaster","Number":"1705","RawContent":null,"Title":"fluent API to access to actions/getters/state/mutations","State":"open","Body":"### What problem does this feature solve?\r\nour team just adopted VueJS recently and I really don't like using the mapXXX helpers for a couple of reasons. \r\n\r\n1. bad readability\r\n2. magic strings are hard to maintain and refactor\r\n3. can't navigate to the source in the IDE\r\n\r\nI think it would be nice to access the module directly.\r\n\r\n### What does the proposed API look like?\r\n\r\n```js\r\nconst cart = {\r\n  actions: {\r\n    checkout ({ commit, state }, products) {\r\n    }\r\n  }\r\n}\r\n```\r\nto dispatch checkout action, you can call the method directly.\r\n\r\n```js\r\n$store.cart.actions.checkout(products)\r\n```\r\n\r\nI made a simple plugin [vuex-help](https://github.com/shredmaster/vuex-help) to access modules directly, but I think this would be a nice addition to the existing API.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1705","RelatedDescription":"Open issue \"fluent API to access to actions/getters/state/mutations\" (#1705)"},{"Id":"589517507","IsPullRequest":false,"CreatedAt":"2020-03-28T06:12:25","Actor":"shredmaster","Number":"1704","RawContent":null,"Title":"More fluent API to access to actions/getters/state/mutations","State":"closed","Body":"## What problem does this feature solve?\r\nour team just adopted VueJS recently and I really don't like using the mapXXX helpers for a couple of reasons. \r\n\r\n1. bad readability\r\n2. magic strings are hard to maintain and refactor\r\n3. can't navigate to the source in the IDE\r\n\r\nI think it would be nice to access the module directly.\r\n\r\n## What does the proposed API look like?\r\n\r\n```js\r\nconst cart = {\r\n  actions: {\r\n    checkout ({ commit, state }, products) {\r\n    }\r\n  }\r\n}\r\n```\r\nto dispatch checkout action, you can call the method directly.\r\n\r\n```js\r\n$store.cart.actions.checkout(products)\r\n```\r\n\r\nI made a simple plugin [vuex-help](https://github.com/shredmaster/vuex-help) to access modules directly, but I think this would be a nice addition to the existing API. ","Url":"https://github.com/vuejs/vuex/issues/1704","RelatedDescription":"Closed issue \"More fluent API to access to actions/getters/state/mutations\" (#1704)"},{"Id":"586791755","IsPullRequest":true,"CreatedAt":"2020-03-24T14:40:47","Actor":"sunnyke","Number":"1702","RawContent":null,"Title":"modify test description","State":"closed","Body":"spell error:\r\nfile path:  /vuex/test/unit/util.spec.js \r\ndiff: change nornal to normal","Url":"https://github.com/vuejs/vuex/pull/1702","RelatedDescription":"Closed or merged PR \"modify test description\" (#1702)"},{"Id":"585149548","IsPullRequest":true,"CreatedAt":"2020-03-24T14:36:24","Actor":"kootoopas","Number":"1701","RawContent":null,"Title":"Fix getter type optional params","State":"closed","Body":"Fix getter type to match implementation by marking optional params.","Url":"https://github.com/vuejs/vuex/pull/1701","RelatedDescription":"Closed or merged PR \"Fix getter type optional params\" (#1701)"},{"Id":"583179440","IsPullRequest":false,"CreatedAt":"2020-03-23T21:03:34","Actor":"kossa","Number":"1698","RawContent":null,"Title":"Doc got empty page","State":"closed","Body":"### Version\r\n3.1.3\r\n\r\n### Reproduction link\r\n[http://localhost:8080/](http://localhost:8080/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nClone repo\r\nrun : npm i\r\nrun : npm run docs\r\n\r\nin browser open : http://localhost:8080/\r\n\r\n### What is expected?\r\nSee the documentation\r\n\r\n### What is actually happening?\r\nBlank page\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1698","RelatedDescription":"Closed issue \"Doc got empty page\" (#1698)"},{"Id":"584889928","IsPullRequest":false,"CreatedAt":"2020-03-20T07:30:21","Actor":"sunlulu8","Number":"1700","RawContent":null,"Title":"è€é¡¹ç›®vuexä¸èƒ½å…±äº«","State":"closed","Body":"è€é¡¹ç›®ï¼Œåœ¨æ¯ä¸ªæ¨¡å—éƒ½æœ‰ä¸€ä¸ªå…¥å£æ–‡ä»¶ä¼šåˆ›å»ºvueå®ä¾‹ç„¶åæ³¨å…¥storeï¼Œè¿™ç§å†™æ³•vuexå¥½åƒä¸èƒ½å…±äº«å•Šï¼Œåº”è¯¥æ€ä¹ˆä¿®æ”¹æ‰å¯ä»¥åœ¨ä¸€ä¸ªæ¨¡å—ä¿®æ”¹stateä¹‹åå¦ä¸€ä¸ªæ¨¡å—getterså¯ä»¥è‡ªå·±è·å–","Url":"https://github.com/vuejs/vuex/issues/1700","RelatedDescription":"Closed issue \"è€é¡¹ç›®vuexä¸èƒ½å…±äº«\" (#1700)"},{"Id":"583168608","IsPullRequest":true,"CreatedAt":"2020-03-19T15:14:49","Actor":"atilacamurca","Number":"1696","RawContent":null,"Title":"Update README.md","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1696","RelatedDescription":"Closed or merged PR \"Update README.md\" (#1696)"},{"Id":"583173233","IsPullRequest":false,"CreatedAt":"2020-03-17T17:20:44","Actor":"kossa","Number":"1697","RawContent":null,"Title":"Doc got empty page","State":"closed","Body":"Hello,\r\n\r\nI try to run : `npm run docs` after cloning and npm install command\r\n\r\nConsole :\r\n![image](https://user-images.githubusercontent.com/1175584/76883229-15d90900-687c-11ea-88e7-7ffbdd9db559.png)\r\n\r\nBrowser :\r\n![image](https://user-images.githubusercontent.com/1175584/76883027-c7c40580-687b-11ea-87a0-77705e94de50.png)\r\n ","Url":"https://github.com/vuejs/vuex/issues/1697","RelatedDescription":"Closed issue \"Doc got empty page\" (#1697)"},{"Id":"581694787","IsPullRequest":false,"CreatedAt":"2020-03-15T14:25:10","Actor":"h311x","Number":"1695","RawContent":null,"Title":"Add useStoreModule","State":"open","Body":"### What problem does this feature solve?\r\nWhile I was looking through the examples of the 4.0 alpha version, I thought that when you have a large store it can become a bit annoying to declare getters and actions locally in every component you need. So I think it would be nice to have a some sort of a helper function that returns only (hopefully typed) store module you want to use. \r\n\r\n### What does the proposed API look like?\r\n```javascript\r\nconst myModule = useStoreModule(\"module namespace\")\r\n\r\nconsole.log(myModule.state) // returns state of a module etc.\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1695","RelatedDescription":"Open issue \"Add useStoreModule\" (#1695)"},{"Id":"574213968","IsPullRequest":true,"CreatedAt":"2020-03-11T10:05:11","Actor":"elevatebart","Number":"1687","RawContent":null,"Title":"docs: make obvious where to import store from","State":"closed","Body":"As we browse through the modules page, it is unclear where the `store` is imported from.\r\n\r\nSince it is a one liner, I thought it would clarify to have the import explicitly here.\r\n\r\nTell me what you think.","Url":"https://github.com/vuejs/vuex/pull/1687","RelatedDescription":"Closed or merged PR \"docs: make obvious where to import store from\" (#1687)"},{"Id":"579102344","IsPullRequest":false,"CreatedAt":"2020-03-11T08:54:30","Actor":"enjkvbej","Number":"1694","RawContent":null,"Title":"How to update item of deep array in mutation","State":"closed","Body":"````\r\nstate = {\r\n  list: [\r\n      {\r\n          config: {\r\n              children: []\r\n          },\r\n      },\r\n  ]\r\n}\r\n\r\nmutation:\r\nconst copyRow = cloneDeep(state.list[0]) // lodash cloneDeep\r\ncopyRow.config.children.push({xxx: xxx})\r\nstate.list.splice(0, 1, copyRow)\r\n````\r\nexpect: add item in chlidren\r\nerror: [vuex] do not mutate vuex store state outside mutation handlers.\r\nPlease help me! Thanks!","Url":"https://github.com/vuejs/vuex/issues/1694","RelatedDescription":"Closed issue \"How to update item of deep array in mutation\" (#1694)"},{"Id":"579099587","IsPullRequest":false,"CreatedAt":"2020-03-11T08:49:34","Actor":"enjkvbej","Number":"1693","RawContent":null,"Title":"How to update item of a deep array in mutation","State":"closed","Body":"````\r\nstate = {\r\n  list: [\r\n      {\r\n          config: {\r\n              children: []\r\n          },\r\n      },\r\n  ]\r\n}\r\n\r\nmutation:\r\nconst copyRow = cloneDeep(state.list[0]) // lodash cloneDeep\r\ncopyRow.config.children.push({xxx: xxx})\r\nstate.list.splice(0, 1, copyRow)\r\n````\r\nexpect: add item in chlidren\r\nerror: [vuex] do not mutate vuex store state outside mutation handlers.\r\nPlease help me! Thanks!","Url":"https://github.com/vuejs/vuex/issues/1693","RelatedDescription":"Closed issue \"How to update item of a deep array in mutation\" (#1693)"},{"Id":"564092739","IsPullRequest":false,"CreatedAt":"2020-03-09T13:12:25","Actor":"AlexandreBonaventure","Number":"1681","RawContent":null,"Title":"Yarn v2 compat: add vue to peerDependencies","State":"closed","Body":"### Version\r\n3.1.2\r\n\r\n### Steps to reproduce\r\nWhen using Typescript, vuex export types like here: https://github.com/vuejs/vuex/blob/dev/types/index.d.ts#L1 But as you can see here, it imports Vue typings to make it work. As a matter of fact `vue` should be added to peerDependencies\r\n\r\n### What is expected?\r\n`vue` should be a peerDependency \r\n\r\n### What is actually happening?\r\nit is not, and it fails in a strict dependency-tree context\r\n\r\nRef: https://github.com/vuejs/vue-cli/issues/5135\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1681","RelatedDescription":"Closed issue \"Yarn v2 compat: add vue to peerDependencies\" (#1681)"},{"Id":"577861744","IsPullRequest":true,"CreatedAt":"2020-03-09T12:18:09","Actor":"kiaking","Number":"1692","RawContent":null,"Title":"build: add vue as a peer dependency (#1681)","State":"closed","Body":"Issue: #1681 \r\n\r\nThis PR adds Vue as a peer dependency. It should help using Vuex with Yarn 2 too.","Url":"https://github.com/vuejs/vuex/pull/1692","RelatedDescription":"Closed or merged PR \"build: add vue as a peer dependency (#1681)\" (#1692)"},{"Id":"574939504","IsPullRequest":false,"CreatedAt":"2020-03-09T11:57:54","Actor":"rodolphocastro","Number":"1689","RawContent":null,"Title":"ModuleTree<S, R>","State":"closed","Body":"### What problem does this feature solve?\r\nThis interface might help when dealing with nested modules on stores using Typescript.\r\n\r\nCurrently the `Module<S, R>` interface exposes a single `ModuleTree<R>Â´ which allows us to create one level of nested modules. \r\n\r\nExposing a `ModuleTree<R>` or a `ModuleTree<S, R>` would be inline with the current `GetterTree<S, R>` and other Trees and allow us to deeper nest our Modules.\r\n\r\nI ran into this issue when attempting to create a nested module within a nested module using Typescript. The \"parent\" modules holds state for some supported features on the application and its children require to check those features in order to validate their `actions`. The root state (or parent of the parent, in this case) simply holds environment and version information.\r\n\r\n### What does the proposed API look like?\r\nI belive that a new interface `ModuleTree<S,R>` might solve the issue:\r\n\r\n```ts\r\nexport interface ModuleTree<S, R> {\r\n  [key: string]: Module<S, R>;\r\n}\r\n```\r\n\r\nWhich could be added to the Current `Module<S, R>` interface as an `or`:\r\n\r\n```ts\r\nexport interface Module<S, R> {\r\n  namespaced?: boolean;\r\n  state?: S | (() => S);\r\n  getters?: GetterTree<S, R>;\r\n  actions?: ActionTree<S, R>;\r\n  mutations?: MutationTree<S>;\r\n  modules?: ModuleTree<R> | ModuleTree<S, R>;\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1689","RelatedDescription":"Closed issue \"ModuleTree<S, R>\" (#1689)"},{"Id":"574743323","IsPullRequest":true,"CreatedAt":"2020-03-05T09:00:02","Actor":"logicaltrojan","Number":"1688","RawContent":null,"Title":"Typo Fix : ëŒì—° ë³€ì´ -> ë³€ì´","State":"closed","Body":"mutations can be translate to 'ë³€ì´' in Korean, but it makes completely non sense as 'ëŒì—°ë³€ì´'.\r\nThe 'ëŒì—° ë³€ì´' is used as 'mutants'(in biological meaning).","Url":"https://github.com/vuejs/vuex/pull/1688","RelatedDescription":"Closed or merged PR \"Typo Fix : ëŒì—° ë³€ì´ -> ë³€ì´\" (#1688)"},{"Id":"575792250","IsPullRequest":false,"CreatedAt":"2020-03-04T21:30:45","Actor":"DQvsRA","Number":"1691","RawContent":null,"Title":"Why getters functions executed even if they do not called","State":"closed","Body":"Strange behaviour all registered getter are called when Vuex initialized, even before first call of the getter it's executed automatically. Is it ok? I don't think so.\r\n```\r\nVue.use(Vuex)\r\n\r\nconst store = new Vuex.Store({\r\n  state: {\r\n  },\r\n  getters: {\r\n    helloGetter (store) {\r\n      console.log('What?!')\r\n    }\r\n  }\r\n})\r\n\r\nnew Vue({\r\n  store,\r\n  render: h => h(<div>App</div>)\r\n}).$mount('#app')\r\n```","Url":"https://github.com/vuejs/vuex/issues/1691","RelatedDescription":"Closed issue \"Why getters functions executed even if they do not called\" (#1691)"},{"Id":"573354462","IsPullRequest":false,"CreatedAt":"2020-02-29T17:41:17","Actor":"zl7261","Number":"1686","RawContent":null,"Title":"How to typescript vuex getter function?","State":"open","Body":"### Version\r\n3.1.2\r\n\r\n### Reproduction link\r\n[ https://github.com/zl7261/vuex_study]( https://github.com/zl7261/vuex_study)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nThe vuex getters functions can return an anonymous function that can operate state of vuex .\r\nbut how to typescript annotation function param type\r\nif I call vuex getters like this code style \r\n\r\n``` javascript\r\nconst getters = {\r\n    getStateValue(state) {\r\n        return (value) => {\r\n            console.log(value)\r\n            return state[value]\r\n        }\r\n    }\r\n}\r\n```\r\n```javascript \r\nthis.$store.getters.getStateValue('testMsg')\r\n```\r\nActually, 'textMsg' is type of the Inner anonymous function param,\r\nbut if I call the getters method like this, the IDE think state is String type.\r\n\r\n\r\n\r\n### What is expected?\r\nCan be typescript\r\n\r\n### What is actually happening?\r\nI don't know how to use type annotation in this case.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1686","RelatedDescription":"Open issue \"How to typescript vuex getter function?\" (#1686)"},{"Id":"562379417","IsPullRequest":true,"CreatedAt":"2020-02-27T14:07:35","Actor":"PeterChen1997","Number":"1679","RawContent":null,"Title":"fix docs description","State":"closed","Body":"I think this 'action' maybe is not the action in Vuex? Maybe using 'mutation' in docs is more specific\r\nI check the englinsh docs, and it's the same word 'action'...\r\nMaybe I misunderstand the mean","Url":"https://github.com/vuejs/vuex/pull/1679","RelatedDescription":"Closed or merged PR \"fix docs description\" (#1679)"},{"Id":"569116559","IsPullRequest":false,"CreatedAt":"2020-02-26T00:53:31","Actor":"davidmeirlevy","Number":"1684","RawContent":null,"Title":"`createNamespacedHelpers` return mappers that need `this`","State":"closed","Body":"### Version\r\n3.1.2\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/davidmeirlevy/9hbqjmg2/34/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nget a mapper:\r\n`const { mapActions } = createNamespacedHelpers(MODULE_NAME)`\r\n\r\nmap some action:\r\n`const {action} = mapActions(['action'])`\r\n\r\nrun this action directly, without adding it to a component methods:\r\n`action()`\r\n\r\n### What is expected?\r\nthe action should be dispacthed\r\n\r\n### What is actually happening?\r\nThis line breaks because we didn't ran this function from a vue component context:\r\n`var dispatch = this.$store.dispatch;`\r\n\r\n---\r\nwhen we want to use the mappers from the `setup()` function of the composition-api, the component's `this` shouldn't be relevant, so you should probably find another way to map actions without expecting being executed as a vue component's method.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1684","RelatedDescription":"Closed issue \"`createNamespacedHelpers` return mappers that need `this`\" (#1684)"},{"Id":"569448568","IsPullRequest":true,"CreatedAt":"2020-02-25T16:56:03","Actor":"davidmeirlevy","Number":"1685","RawContent":null,"Title":"#1684 - wrap namespaced helpers with store ahead","State":"closed","Body":"related to #1684 ","Url":"https://github.com/vuejs/vuex/pull/1685","RelatedDescription":"Closed or merged PR \"#1684 - wrap namespaced helpers with store ahead\" (#1685)"},{"Id":"562476929","IsPullRequest":false,"CreatedAt":"2020-02-21T12:47:59","Actor":"davidpelayo","Number":"1680","RawContent":null,"Title":"mapGetters don't trigger components `beforeUpdate` if the getter value doesn't get directly used at the DOM (<template />)","State":"closed","Body":"### Version\r\n3.1.2\r\n\r\n### Reproduction link\r\n\r\n- Non-working version, due not binding the getter to the component template: [https://codesandbox.io/s/mapgetters-issue-non-working-version-binding-to-dom-88jbw](https://codesandbox.io/s/mapgetters-issue-non-working-version-binding-to-dom-88jbw).\r\n- Working version, due binding the getter to the component template: [https://codesandbox.io/s/mapgetters-issue-working-version-binding-to-dom-j2eh7](https://codesandbox.io/s/mapgetters-issue-working-version-binding-to-dom-j2eh7).\r\n\r\n### Steps to reproduce\r\n1. Declare a simple getter at your store.\r\n2. Injects/use it at your component.\r\n3. Add the `updated` or `beforeUpdate` lifecycle hook with a `debugger` or a `console.log` in it.\r\n4. Call an action which mutates the store changing the state value so that the getters needs to be reevaluated.\r\n5. See how the `debugger` or `console.log` at the `beforeUpdate` doesn't get triggered.\r\n\r\nHowever: If you use the getter directly into the component template, it gets correctly reevaluated and the `beforeUpdate` gets triggered.\r\n\r\n### What is expected?\r\n1. Declare a simple getter at your store.\r\n2. Injects/use it at your component.\r\n3. Add the `beforeUpdate` lifecycle hook with a `debugger` or a `console.log` in it.\r\n4. Call an action which mutates the store changing the state value so that the getters needs to be reevaluated.\r\n5. See how the `debugger` or `console.log` at the `beforeUpdate` gets triggered.\r\n\r\n### What is actually happening?\r\nThe `beforeUpdate` lifecycle method does not get triggered due the reactivity doesn't seem to work correctly, unless you bind the getter directly to the component `<template />`.\r\n\r\n---\r\n#### Context\r\nDue a project's needs, I needed to monitor when the getter value got updated to update a component `data` property, accordingly, and then update the view.\r\n\r\nHowever, a restriction was set in place that the getter couldn't be directly used at the view, because the complexity of the component, the data should have been used instead.\r\n\r\nIt might be that this is actually a feature instead of a bug, requiring binding a getter to the vue to enjoy 100% reactivity from state down to the actual DOM out of the box; but, mentally, the documentation tells you reactivity works so that components can inject getters and get updated values magically; **but not explicitly saying those needs to be declared at the view** (template) - that's why I consider this a bug.\r\n\r\n#### The workaround\r\nWorkaround 1: A simple workaround would consist on setting a dynamic class name or DOM attribute bound to the getter; so that provokes the `updated` to get invoked, and works nicely.\r\n\r\nWorkaround 2: Watch the computed value incoming from the getter, and update your local component state based on the new value.\r\n\r\nHowever, it took me around an hour to debug the whole thing and figure out this topic. **It might be worth to update the documentation if this is actually intended.**\r\n\r\n#### What led me to confusion\r\nThe `beforeUpdate` and `updated` hooks are meant to be triggered only when the virtual DOM needs updates and patching, but not necessarily as a result of the single store being updated. That probably led me to a misleading conception.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1680","RelatedDescription":"Closed issue \"mapGetters don't trigger components `beforeUpdate` if the getter value doesn't get directly used at the DOM (<template />)\" (#1680)"},{"Id":"567702944","IsPullRequest":false,"CreatedAt":"2020-02-19T17:04:20","Actor":"blacksonic","Number":"1682","RawContent":null,"Title":"Vuex breaks with Vue 3.x","State":"closed","Body":"I've tried to run a Vue 3 application with Vuex, but when using it as a plugin I get the following error:\r\n\r\n```\r\nvuex.esm.js?2f62:7 Uncaught TypeError: Cannot read property 'split' of undefined\r\n    at applyMixin (vuex.esm.js?2f62:7)\r\n    at Object.install (vuex.esm.js?2f62:824)\r\n    at Object.use (runtime-core.esm-bundler.js?5c40:1709)\r\n    at eval (main.js?56d7:8)\r\n    at Module../src/main.js (app.js:1246)\r\n    at __webpack_require__ (app.js:786)\r\n    at fn (app.js:151)\r\n    at Object.1 (app.js:1356)\r\n    at __webpack_require__ (app.js:786)\r\n    at checkDeferredModules (app.js:46)\r\n```\r\n\r\nWhich leads to the point where it tries to determine the Vue version from the global Vue instance, which is non-existent.\r\n\r\n```javascript\r\nvar version = Number(Vue.version.split('.')[0]);\r\n```\r\n\r\nAny suggestions on how to add Vuex to Vue 3 projects?\r\nThere is an exported variable in Vue 3 called version.","Url":"https://github.com/vuejs/vuex/issues/1682","RelatedDescription":"Closed issue \"Vuex breaks with Vue 3.x\" (#1682)"},{"Id":"562244423","IsPullRequest":true,"CreatedAt":"2020-02-14T00:15:32","Actor":"cjihrig","Number":"1678","RawContent":null,"Title":"refactor: remove extra loops in dispatch()","State":"closed","Body":"This commit replaces two chained `filter()`-`forEach()` sequences in `dispatch()` with single `forEach()`s.","Url":"https://github.com/vuejs/vuex/pull/1678","RelatedDescription":"Closed or merged PR \"refactor: remove extra loops in dispatch()\" (#1678)"}],"ResultType":"GitHubIssue"}},"RunOn":"2020-04-03T05:30:51.4827979Z","RunDurationInMilliseconds":2303}