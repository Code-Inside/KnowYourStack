{"Data":{"Vue-Issues":{"Issues":[{"Id":"796128861","IsPullRequest":false,"CreatedAt":"2021-01-28T15:57:58","Actor":"songmengda","Number":"11896","RawContent":null,"Title":"Using 'in mobile devices' window.orientation ' exception","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://codepen.io/songmengda/pen/PobYxqJ](https://codepen.io/songmengda/pen/PobYxqJ)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1.1. Use the code in the recurrence link to start a Vue cli project through NPM, and use the mobile device to scan the code to access the page\r\n2. When the mobile phone switches between horizontal screen and vertical screen, the 'onreset' function is triggered. At this time, the 'text' value on the mobile phone screen does not match the real sceneï¼ŒFor example, the mobile phone is in horizontal screen mode, but the vertical screen mode is displayed on the screen\r\n3.By printing the window object with vconsole, we find that its orientation value is correct, but through the window.orientation 'the value is wrong\r\n\r\n### What is expected?\r\nUsing Vue judgment in mobile terminal window.orientation The correct result can be obtained with the value of\r\n\r\n### What is actually happening?\r\nUse in Vue window.orientation The value obtained is inconsistent with the real orientation in window\r\n\r\n---\r\nUsing Vue to develop a need to switch the horizontal screen vertical screen state of the page, using the window.orientation Get the right results, not the wrong ones\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->\r\n\r\n\r\n`\r\n<template>\r\n  <div class=\"vue-template\">\r\n    {{text}}-{{orientation}}\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      text: 'é»˜è®¤',\r\n      orientation: 0\r\n    }\r\n  },\r\n\r\n  created () {\r\n    this.orientation = window.orientation\r\n    if(window.orientation === 180 || window.orientation === 0){ // ç«–å±\r\n      this.text = 'ç«–å±'\r\n    }\r\n\r\n    if (window.orientation === 90 || window.orientation === -90) { //æ¨ªå±\r\n      this.text = 'æ¨ªå±'\r\n    }\r\n\r\n    let _this = this\r\n    window.onresize = function (){\r\n      _this.orientation = window.orientation\r\n      if(window.orientation === 180 || window.orientation === 0){ // ç«–å±\r\n        _this.text = 'ç«–å±'\r\n      }\r\n\r\n      if (window.orientation === 90 || window.orientation === -90) { //æ¨ªå±\r\n        _this.text = 'æ¨ªå±'\r\n      }\r\n      console.log(window)\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\nAfter repeatedly rotating the phoneï¼š\r\n`\r\n\r\n![image](https://user-images.githubusercontent.com/35358253/106162768-6c64e280-61c3-11eb-8b09-6f27fa1ec9a1.png)\r\n\r\n![image](https://user-images.githubusercontent.com/35358253/106162797-771f7780-61c3-11eb-8ac0-80532b91be36.png)\r\n\r\n![image](https://user-images.githubusercontent.com/35358253/106162846-8272a300-61c3-11eb-8192-55469930a605.png)\r\n\r\n","Url":"https://github.com/vuejs/vue/issues/11896","RelatedDescription":"Closed issue \"Using 'in mobile devices' window.orientation ' exception\" (#11896)"},{"Id":"795792050","IsPullRequest":false,"CreatedAt":"2021-01-28T08:40:02","Actor":"jiclivi","Number":"11895","RawContent":null,"Title":"Hello! Does vim have nodejs vue smart (such as: coc-html) code completion","State":"closed","Body":"### What problem does this feature solve?\r\nsuch as: coc-html\r\n\r\n### What does the proposed API look like?\r\nvim Plugin\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11895","RelatedDescription":"Closed issue \"Hello! Does vim have nodejs vue smart (such as: coc-html) code completion\" (#11895)"},{"Id":"795383322","IsPullRequest":false,"CreatedAt":"2021-01-27T19:31:28","Actor":"adamsol","Number":"11894","RawContent":null,"Title":"Checking whether v-on handler is a function invocation is broken","State":"open","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/adamsol/pknr8dae/](https://jsfiddle.net/adamsol/pknr8dae/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nClick the buttons.\r\n\r\n### What is expected?\r\nAll the buttons should behave in the same way: a message should appear below.\r\n\r\n### What is actually happening?\r\nOnly the first button works correctly.\r\n\r\n---\r\nSee #11893 for the origin of the issue.\r\n\r\nThe problem lies probably here: https://github.com/vuejs/vue/blob/5255841aaff441d275122b4abfb099b881de7cb5/packages/vue-template-compiler/build.js#L3801\r\n\r\nThe regexes used do not take into account cases such as additional spaces, parentheses, or chained function invocations. As a result, a promise is correctly returned only in the first case in the repro, and in all the other cases `errorHandler` won't capture the exception thrown in the async method.\r\n\r\nThe difference in the generated code (`return` is present only in the first case): https://template-explorer.vuejs.org/#%3Cdiv%20id%3D%22app%22%3E%0A%20%20%3Cbutton%20%40click%3D%22click(1)%22%3E%0A%20%20%20%20click(1)%0A%20%20%3C%2Fbutton%3E%0A%20%20%3Cbutton%20%40click%3D%22click%20(2)%22%3E%0A%20%20%20%20click%20(2)%0A%20%20%3C%2Fbutton%3E%0A%20%20%3Cbutton%20%40click%3D%22click((3))%22%3E%0A%20%20%20%20click((3))%0A%20%20%3C%2Fbutton%3E%0A%20%20%3Cbutton%20%40click%3D%22(click(4))%22%3E%0A%20%20%20%20(click(4))%0A%20%20%3C%2Fbutton%3E%0A%20%20%3Cbutton%20%40click%3D%22click(5).then()%22%3E%0A%20%20%20%20click(5).then()%0A%20%20%3C%2Fbutton%3E%0A%3C%2Fdiv%3E\r\n\r\nSuggested solution: either add `return` in every case, or don't add it at all, so that the behaviour is consistent. If checking for the function invocation is crucial, then the code must be parsed in some other way.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11894","RelatedDescription":"Open issue \"Checking whether v-on handler is a function invocation is broken\" (#11894)"},{"Id":"795276317","IsPullRequest":false,"CreatedAt":"2021-01-27T17:25:57","Actor":"adamsol","Number":"11893","RawContent":null,"Title":"errorHandler not catching exceptions in promises with .then() inside v-on","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/adamsol/hj6q32v0/](https://jsfiddle.net/adamsol/hj6q32v0/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nClick the three buttons.\r\n\r\n### What is expected?\r\nExceptions for all the buttons should be captured and displayed below.\r\n\r\n### What is actually happening?\r\nException for the second button isn't captured.\r\n\r\n---\r\nRelated to #7653.\r\n\r\nI'm using `@click=\"doAction().then(close)\"` for closing modal windows after successfully finishing async actions. A workaround for exceptions in `doAction` to be captured by `errorHandler` is to add `() =>` in the event handler, but it's not obvious.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11893","RelatedDescription":"Closed issue \"errorHandler not catching exceptions in promises with .then() inside v-on\" (#11893)"},{"Id":"795246880","IsPullRequest":false,"CreatedAt":"2021-01-27T17:22:15","Actor":"0x78f1935","Number":"11892","RawContent":null,"Title":"Walrus operator within v-if statement","State":"closed","Body":"### What problem does this feature solve?\r\nAllow us to use the value of an v-if statement to be used in children elements. Perhaps by [imitating the Python walrus operator](https://docs.python.org/3/whatsnew/3.8.html#assignment-expressions).\r\n\r\n\r\n### What does the proposed API look like?\r\n```\r\n<div v-if=\"result in foo(bar)\">\r\n    <label :class=\"result\">Test</label>\r\n</div>\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->\r\n\r\nEDIT: I guess returning an array would work\r\nEDIT2:\r\n\r\nPerhaps more like\r\n```\r\n<div v-if=\"result in foo(bar) if result != 'foo'\">\r\n    <label :class=\"result\">Test</label>\r\n</div>\r\n```","Url":"https://github.com/vuejs/vue/issues/11892","RelatedDescription":"Closed issue \"Walrus operator within v-if statement\" (#11892)"},{"Id":"794980846","IsPullRequest":false,"CreatedAt":"2021-01-27T10:42:10","Actor":"huang-weijian","Number":"11891","RawContent":null,"Title":"In 2.6.12 too, the vm's $off can not remove callback defined in vm's methods","State":"closed","Body":"### Version\r\n2.5.21\r\n\r\n### Reproduction link\r\n[https://github.com/huang-weijian/vue--off](https://github.com/huang-weijian/vue--off)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nvue source code:\r\n// cb.fn is undefined\r\nif (cb === fn || cb.fn === fn) {\r\n    cbs.splice(i$1, 1);\r\n    break\r\n}\r\nIn fact:\r\nIn vm._events[eventName][fn defined in vm's methods], There is no fn attribute, only fns attribute\r\n\r\n### What is expected?\r\ncan remove cb defined vm'methods\r\n\r\n### What is actually happening?\r\ncan not\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11891","RelatedDescription":"Closed issue \"In 2.6.12 too, the vm's $off can not remove callback defined in vm's methods\" (#11891)"},{"Id":"794679550","IsPullRequest":true,"CreatedAt":"2021-01-27T01:08:14","Actor":"JodieShi","Number":"11890","RawContent":null,"Title":"update","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [ ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/11890","RelatedDescription":"Closed or merged PR \"update\" (#11890)"},{"Id":"793426181","IsPullRequest":false,"CreatedAt":"2021-01-25T14:41:37","Actor":"016","Number":"11889","RawContent":null,"Title":"is it possible set value silence in VUE?","State":"closed","Body":"### What problem does this feature solve?\r\n set value silence in VUE\r\n\r\n### What does the proposed API look like?\r\nI just need code like this\r\nthis.$set(this, 'buildCnt', dataObj.buildCnt, false) // not trigger watch, \r\nthis.$set(this, 'buildCnt', dataObj.buildCnt) //trigger watch\r\n\r\nit's very useful for some one time value set, and don't need trigger anything .\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11889","RelatedDescription":"Closed issue \"is it possible set value silence in VUE?\" (#11889)"},{"Id":"793169219","IsPullRequest":false,"CreatedAt":"2021-01-25T09:49:29","Actor":"wangziling","Number":"11888","RawContent":null,"Title":"Why v-bind=\"$attrs\" cannot replace the declared same name props in front of itself?","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/cocky-brahmagupta-ejn2z](https://codesandbox.io/s/cocky-brahmagupta-ejn2z)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nSee the codesandbox result~\r\n\r\n### What is expected?\r\nIn my opinion and normal thoughts, if `v-bind=\"$attrs\"` or `v-bind=\"$props\"` is behind a declared and in same name property, it should replace the property value ahead.\r\n\r\n```js\r\n<a href=\"https://qq.com\" v-bind=\"$attrs\">Test</a>\r\n```\r\nif `$attrs` contain the property named 'href', In the normal thoughts, it should replace the data ahead.\r\n\r\n### What is actually happening?\r\nCannot replace.\r\n\r\n---\r\nAm I wrong?\r\nOr Hmmm... `v-bind=\"$attrs\"` take the lower priority of the normal `v-bind:href=\"__\"`?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11888","RelatedDescription":"Closed issue \"Why v-bind=\"$attrs\" cannot replace the declared same name props in front of itself?\" (#11888)"},{"Id":"792758139","IsPullRequest":true,"CreatedAt":"2021-01-24T10:03:26","Actor":"CodeDeli","Number":"11887","RawContent":null,"Title":"ç§¦å¾—åŠ›","State":"closed","Body":"ç§¦å¾—åŠ›çš„æäº¤\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [x] Yes\r\n- [ ] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [ ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/11887","RelatedDescription":"Closed or merged PR \"ç§¦å¾—åŠ›\" (#11887)"},{"Id":"792279859","IsPullRequest":false,"CreatedAt":"2021-01-23T12:39:48","Actor":"marcel-dancak","Number":"11884","RawContent":null,"Title":"Unnecessary update of computed property and watcher call, triggered by update of dependent computed property, even when it is evaluated to the same primitive value","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/marcel_dancak/xr2q40Lp/19/](https://jsfiddle.net/marcel_dancak/xr2q40Lp/19/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nOpen console output in demo example. Click on UPDATE button and watch log messages in console.\r\n\r\n### What is expected?\r\nAfter each click on UPDATE button, computed property 'c' is updated, but it's value is still the same number value. Computed property 'params' doesn't need to be updated, because it depends only on property 'c', which always has the same primitive value. Watcher on property 'c' is not triggered, and I would expect watcher on 'params' property to be not triggered as well.\r\n\r\n### What is actually happening?\r\nComputed property 'params' is updated on each click.\r\n\r\n---\r\nI understand why 'c' watcher function is not called, and why watcher function on computed property returning 'the same' complex object is called, but I didn't expect computed property with the same primitive value result to cause updates of other computed properties.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11884","RelatedDescription":"Closed issue \"Unnecessary update of computed property and watcher call, triggered by update of dependent computed property, even when it is evaluated to the same primitive value\" (#11884)"},{"Id":"792537019","IsPullRequest":false,"CreatedAt":"2021-01-23T11:40:11","Actor":"ranemihir","Number":"11886","RawContent":null,"Title":"test","State":"closed","Body":"### What problem does this feature solve?\r\ntest\r\n\r\n### What does the proposed API look like?\r\ntest\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11886","RelatedDescription":"Closed issue \"test\" (#11886)"},{"Id":"792536892","IsPullRequest":false,"CreatedAt":"2021-01-23T11:39:03","Actor":"ranemihir","Number":"11885","RawContent":null,"Title":"h","State":"closed","Body":"h","Url":"https://github.com/vuejs/vue/issues/11885","RelatedDescription":"Closed issue \"h\" (#11885)"},{"Id":"791429188","IsPullRequest":true,"CreatedAt":"2021-01-21T19:25:35","Actor":"vue-bot","Number":"11883","RawContent":null,"Title":"[automated] Patreon sponsors update","State":"closed","Body":"This is an automated pull request.","Url":"https://github.com/vuejs/vue/pull/11883","RelatedDescription":"Closed or merged PR \"[automated] Patreon sponsors update\" (#11883)"},{"Id":"791296787","IsPullRequest":true,"CreatedAt":"2021-01-21T16:26:41","Actor":"JerryYuanJ","Number":"11882","RawContent":null,"Title":"fix: fix #11881","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/11882","RelatedDescription":"Open PR \"fix: fix #11881\" (#11882)"},{"Id":"791290731","IsPullRequest":false,"CreatedAt":"2021-01-21T16:21:21","Actor":"JerryYuanJ","Number":"11881","RawContent":null,"Title":"keep-alive component's `include` prop cannot trim blank space if there's any","State":"open","Body":"### Version\r\n2.6.11\r\n\r\n\r\n### Steps to reproduce\r\n\r\nfollowing code makes a simple example:\r\n```\r\n<keep-alive include=\"a,    b,c\">\r\n    <router-view> </router-view>\r\n</keep-alive>\r\n```\r\n\r\n### What is expected?\r\ncomponent a, b, c should all be cached.\r\n\r\n### What is actually happening?\r\n`a` and `c` are fine except `b` with blank is failed to be kept alive.\r\n\r\n---\r\nWhen do the matching, should consider this situation because some devs like to add a space between words or formatted by some tools.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11881","RelatedDescription":"Open issue \"keep-alive component's `include` prop cannot trim blank space if there's any\" (#11881)"},{"Id":"790988918","IsPullRequest":false,"CreatedAt":"2021-01-21T11:43:24","Actor":"smohring","Number":"11880","RawContent":null,"Title":"How to use custom <script> blocks within root component","State":"closed","Body":"Hi guys, \r\n\r\nI'am using vue3 together with the contao cms.\r\nTherefore, my \"#app\" anchor is directly after the body and contains all html content within, created by contao cms. \r\nMy idea was, to use vue-components through the cms backend, and vue recognizes them only, if they are within the \"#app\" element.\r\n\r\nNow i have some \"custom\" scripts, that come along with contao cms e.g. Slider, Tabs etc. They put short custom scripts blocks right after the generated html to provide js functionallity.\r\n\r\nBut now vue3 \"sees\" those script blocks within its root-scope and puts a warning into the console. If i collect al <script> blocks with php and append them after the \"#app\" anchor, vue doesn't complain - but the scripts work only partially.\r\nIt seems, that vue3 prevents them from putting their own eventhandlers etc. to the html elements within vue's root-scope.\r\n\r\nIs there any way, that i can tell vue3 to only process vue-3 components within the root-scope and nothing else?\r\nWhat would be the best practice to use vue3 with a \"classic\" cms?\r\n\r\nKind regards,\r\nSteffen","Url":"https://github.com/vuejs/vue/issues/11880","RelatedDescription":"Closed issue \"How to use custom <script> blocks within root component\" (#11880)"},{"Id":"790708448","IsPullRequest":false,"CreatedAt":"2021-01-21T09:38:15","Actor":"kumaresan-subramani","Number":"11878","RawContent":null,"Title":"Vue3 migration not works as expected","State":"closed","Body":"### Version\r\n3.0.5\r\n\r\n### Reproduction link\r\n[https://github.com/kumaresan-subramani/vue3-suport](https://github.com/kumaresan-subramani/vue3-suport)\r\n\r\n### Steps to reproduce\r\n\r\n- clone above mentioned smple\r\n\r\n- then `npm i`\r\n\r\n- finally npm run serve\r\n\r\n- browser throws script error, but the same working fine in `vue2`\r\n\r\n### working sample\r\n\r\nsample with `\"vue\": \"^2.6.11` works fine without any error\r\n\r\n**Working sample** - https://github.com/Saranya13/vue-sample/\r\n\r\n### Environment info\r\n```\r\n\"vue\": \"^3.0.5\"\r\n\"@vue/cli-plugin-babel\": \"^4.5.10\",\r\n    \"@vue/cli-plugin-eslint\": \"^4.5.10\",\r\n    \"@vue/cli-service\": \"^4.5.10\",\r\n    \"@vue/compiler-sfc\": \"^3.0.5\",\r\n    \"babel-eslint\": \"^10.1.0\",\r\n    \"eslint\": \"^6.8.0\",\r\n    \"eslint-plugin-vue\": \"^7.4.1\",\r\n```\r\n\r\n### What is expected?\r\ncomponent gets rendered without script error\r\n\r\n### What is actually happening?\r\nthrows script error\r\n\r\n```\r\ncomponent-base.js?5981:6 Uncaught TypeError: Object prototype may only be an Object or null: undefined\r\n    at setPrototypeOf (<anonymous>)\r\n    at extendStatics (component-base.js?5981:6)\r\n    at __extends (component-base.js?5981:9)\r\n    at eval (component-base.js?5981:20)\r\n    at eval (component-base.js?5981:195)\r\n    at Module../node_modules/@syncfusion/ej2-vue-base/src/component-base.js (chunk-vendors.js:575)\r\n    at __webpack_require__ (app.js:849)\r\n    at fn (app.js:151)\r\n    at eval (index.js?4867:1)\r\n    at Module../node_modules/@syncfusion/ej2-vue-base/src/index.js (chunk-vendors.js:599)\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11878","RelatedDescription":"Closed issue \"Vue3 migration not works as expected\" (#11878)"},{"Id":"790689489","IsPullRequest":false,"CreatedAt":"2021-01-21T09:36:10","Actor":"aljabr","Number":"11877","RawContent":null,"Title":"Scroll issue with navigation","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://router.vuejs.org/guide/#html](https://router.vuejs.org/guide/#html)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nNavigate after scrolling between pages  on ios\r\n\r\n### What is expected?\r\nWhile swiping between pages it should show the page not blank\r\n\r\n### What is actually happening?\r\nWhen the scroll position not matches between pages it will show blank page\r\n\r\n![ezgif com-video-to-gif](https://user-images.githubusercontent.com/15986585/105281098-69af2f80-5bbc-11eb-98b8-2b92c34ad618.gif)\r\n\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11877","RelatedDescription":"Closed issue \"Scroll issue with navigation\" (#11877)"},{"Id":"790754489","IsPullRequest":false,"CreatedAt":"2021-01-21T07:16:17","Actor":"GeTOUO","Number":"11879","RawContent":null,"Title":"åœ¨htmlæ¨¡æ¿çš„æ­£æ–‡ä¸­ï¼Œå¯¹dataé‡Œé¢çš„å±æ€§è¯»å–æ—¶ï¼Œè‹¥æœ‰è®¡ç®—æ“ä½œï¼Œç»“æœæ˜¯é”™è¯¯çš„","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codepen.io/team/Vue/pen/rNVqYvM](https://codepen.io/team/Vue/pen/rNVqYvM)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\næˆ‘æ­£åœ¨å­¦ä¹ vueï¼Œå½“æˆ‘è·Ÿéšæ•™ç¨‹æ‰“å¼€ç»„ä»¶éƒ¨åˆ†çš„å¦‚ä¸‹ç¤ºä¾‹æ—¶ï¼š\r\n\r\n[Component basics: reusing components](https://codepen.io/team/Vue/pen/rNVqYvM)\r\n\r\næˆ‘ä¿®æ”¹äº† template éƒ¨åˆ†çš„å†…å®¹ä¸ºï¼š \r\n```\r\n    <button v-on:click=\"count++\">\r\n      You clicked me {{ ++count }} times.\r\n    </button>\r\n```\r\n\r\nç„¶å count æ¯æ¬¡é€’å¢çš„å€¼å˜æˆäº†102ï¼Ÿ\r\n\r\n### What is expected?\r\næœŸæœ›è®¡ç®—æ˜¯æ­£ç¡®çš„ `++count === count+=1`\r\n\r\n### What is actually happening?\r\n`++count === count+=102`\r\n\r\n---\r\nç›®å‰æˆ‘è¿˜ä¸æ¸…æ¥švueè§£ææ¨¡æ¿çš„é€»è¾‘ã€‚ä½†çœ‹èµ·æ¥è¿™åº”è¯¥æ˜¯ä¸€ä¸ªbug\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11879","RelatedDescription":"Closed issue \"åœ¨htmlæ¨¡æ¿çš„æ­£æ–‡ä¸­ï¼Œå¯¹dataé‡Œé¢çš„å±æ€§è¯»å–æ—¶ï¼Œè‹¥æœ‰è®¡ç®—æ“ä½œï¼Œç»“æœæ˜¯é”™è¯¯çš„\" (#11879)"},{"Id":"790684010","IsPullRequest":false,"CreatedAt":"2021-01-21T04:32:26","Actor":"aljabr","Number":"11876","RawContent":null,"Title":"Scroll issue with navigation","State":"closed","Body":"\r\nHi,\r\n\r\nthis issue only happens with vuejs apps!\r\nIf the scroll position of the current page not match the next or previous page it will show blank!\r\n\r\nthank you.\r\n\r\n@ @\r\n![ezgif com-video-to-gif](https://user-images.githubusercontent.com/15986585/105280400-bb56ba80-5bba-11eb-8bb4-dba909072f29.gif)\r\n","Url":"https://github.com/vuejs/vue/issues/11876","RelatedDescription":"Closed issue \"Scroll issue with navigation\" (#11876)"},{"Id":"789824315","IsPullRequest":false,"CreatedAt":"2021-01-20T09:57:10","Actor":"aStanleyLiang","Number":"11875","RawContent":null,"Title":" Is it anti-pattern to create component 100% by composition api #822 ","State":"closed","Body":"\r\nRecently I start my first vue3 project and I found the new feature Composition API. I wonders whether it is anti-pattern or not to 100% adopt Composition API to implement component? Because originally I think the purpose of Composition API is to encapsulate logic and can be imported by components. I searched a lot and cannot determine: lots of articles introduce the comparison between Composition API and Options API that looks like I even can implement through Composition API 100% without Options API.\r\n\r\nI know it's working and many voices on internet suggest so. Just wondering is it anti-pattern or not? I don't wanna abuse Composition API if originally it's not design to implement a view component.\r\n\r\nAppreciate in advance, stay safeğŸ¤™\r\n\r\n","Url":"https://github.com/vuejs/vue/issues/11875","RelatedDescription":"Closed issue \" Is it anti-pattern to create component 100% by composition api #822 \" (#11875)"},{"Id":"789691666","IsPullRequest":false,"CreatedAt":"2021-01-20T07:52:32","Actor":"Duanzihuang","Number":"11874","RawContent":null,"Title":"çˆ¶ç»„ä»¶æ¡ä»¶æ¸²æŸ“çš„æ—¶å€™åŠ äº†classæ ·å¼ï¼Œå¯¼è‡´å­ç»„ä»¶ä¸­æ— æ³•æ¥æ”¶åˆ°çˆ¶ç»„ä»¶ä¼ é€’çš„å€¼","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/chrisvfritz/50wL7mdz/](https://jsfiddle.net/chrisvfritz/50wL7mdz/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1ã€åœ¨çˆ¶ç»„ä»¶æ¸²æŸ“çš„æ—¶å€™ï¼ŒåŠ äº†ä¸€ä¸ªæ¡ä»¶æ¸²æŸ“ï¼Œå¹¶ä¸”å¤šåŠ äº†ä¸€ä¸ªclass\r\n2ã€çˆ¶ç»„ä»¶é‡Œé¢ä½¿ç”¨åˆ°äº†å­ç»„ä»¶ï¼Œå¹¶ä¸”ç»™å­ç»„ä»¶ä¼ å€¼\r\n3ã€åœ¨å­ç»„ä»¶ä¸­ç›‘å¬çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å€¼\r\n4ã€åœ¨å­ç»„ä»¶ä¸­ç›‘å¬çˆ¶ç»„ä»¶å€¼çš„æ—¶å€™ï¼Œæ— æ³•è·å–ä¼ é€’è¿‡æ¥çš„å€¼\r\n\r\n### What is expected?\r\næœŸå¾…èƒ½æ­£å¸¸åœ¨å­ç»„ä»¶ä¸­ï¼Œç»§ç»­ç›‘å¬çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å€¼ã€‚\r\n\r\n### What is actually happening?\r\nå®é™…å‘ç”Ÿå°±æ˜¯åœ¨å­ç»„ä»¶çš„watchä¸­ï¼Œæ— æ³•è·å¾—çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å€¼\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11874","RelatedDescription":"Closed issue \"çˆ¶ç»„ä»¶æ¡ä»¶æ¸²æŸ“çš„æ—¶å€™åŠ äº†classæ ·å¼ï¼Œå¯¼è‡´å­ç»„ä»¶ä¸­æ— æ³•æ¥æ”¶åˆ°çˆ¶ç»„ä»¶ä¼ é€’çš„å€¼\" (#11874)"},{"Id":"788045069","IsPullRequest":false,"CreatedAt":"2021-01-18T08:25:58","Actor":"ch3ngtao","Number":"11873","RawContent":null,"Title":"I can not render array when I assignment Array","State":"closed","Body":"setup() {\r\n    const provinceData = [\"Zhejiang\", \"Jiangsu\"];\r\n    const cityData: City = reactive({\r\n      'Zhejiang': [\"Hangzhou\", \"Ningbo\", \"Wenzhou\"],\r\n      'Jiangsu': [\"Nanjing\", \"Suzhou\", \"Zhenjiang\"]\r\n    });\r\n    const testInfo = reactive({\r\n      area: \"\",\r\n      school: \"\",\r\n      class: \"\",\r\n      subject: \"\"\r\n    });\r\n    let cities: string[] = reactive([]);\r\n\r\n    const handleProvinceChange = (e: string) => {\r\n      cities = cityData[e];\r\n      console.log(cities); \r\n    };\r\n    return {\r\n      testClass,\r\n      provinceData,\r\n      testInfo,\r\n      handleProvinceChange,\r\n      cities\r\n    };\r\n  }\r\n\r\nI can console.log(cities),  but the page not render;\r\n \r\n![image](https://user-images.githubusercontent.com/55393190/104889824-b0790b80-59a9-11eb-8836-97bf28b0b544.png)\r\n\r\n![image](https://user-images.githubusercontent.com/55393190/104889928-d4d4e800-59a9-11eb-9793-6e3a6d9c96f2.png)\r\n\r\n","Url":"https://github.com/vuejs/vue/issues/11873","RelatedDescription":"Closed issue \"I can not render array when I assignment Array\" (#11873)"},{"Id":"788012737","IsPullRequest":false,"CreatedAt":"2021-01-18T07:49:37","Actor":"cc147151","Number":"11872","RawContent":null,"Title":"Why can't filter be enclosed in brackets when combining with ternary expression.","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://github.com/cc147151/filterTest](https://github.com/cc147151/filterTest)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n\r\n{{info.status && info.status == '1' ? 'è¿›è¡Œä¸­' : ( info.modified_time |getFormalTime ) }}  æ˜¾ç¤ºåŸæ•°æ®å†…å®¹å³æ—¶é—´æˆ³ï¼Œè¿‡æ»¤å¤±è´¥\r\n{{info.status && info.status == '1' ? 'è¿›è¡Œä¸­' : info.modified_time |getFormalTime }}  æ‹¬å·å»æ‰ï¼Œ å¯ä»¥æˆåŠŸè¿‡æ»¤\r\n\r\n### What is expected?\r\næœŸæœ›åŠ ä¸Šæ‹¬å·ä¹Ÿåº”è¯¥è¿‡æ»¤å‡ºæ‰€æœŸå¾…çš„æ—¶é—´\r\n\r\n### What is actually happening?\r\nç»“æœæ˜¯æœªè¿‡æ»¤çš„ç»“æœ\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11872","RelatedDescription":"Closed issue \"Why can't filter be enclosed in brackets when combining with ternary expression.\" (#11872)"},{"Id":"787317961","IsPullRequest":false,"CreatedAt":"2021-01-16T17:06:53","Actor":"FiniteRealityTech","Number":"11871","RawContent":null,"Title":"Added compiler change to reduce lines of code / increase readability","State":"closed","Body":"### What problem does this feature solve?\r\nI was putting rows and columns on a grid layout and I thought it would be nice if we could add something to reduce the number of html tags. My thought is by adding a way to turn an end tag into a end and beginning tag would help reduce clutter on the Vue pages.\r\n\r\nExample:\r\n</b-row*>\r\nWhen compiled into the dist folder or locally:\r\n\r\nI figured making this change to html would likely not happen or take a long time. We do end tags with a /> to be self closing and reduce clutter, I was thinking it would be nice to do it the other way as well.\r\n\r\n### What does the proposed API look like?\r\nNot sure.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11871","RelatedDescription":"Closed issue \"Added compiler change to reduce lines of code / increase readability\" (#11871)"},{"Id":"787313844","IsPullRequest":false,"CreatedAt":"2021-01-16T01:18:27","Actor":"FiniteRealityTech","Number":"11870","RawContent":null,"Title":"Added compiler change to reduce lines of code / increase readability","State":"closed","Body":"I was putting rows and columns on a grid layout and I thought it would be nice if we could add something to reduce the number of html tags. My thought is by adding a way to turn an end tag into a end and beginning tag would help reduce clutter on the Vue pages.\r\n\r\nExample:\r\n</b-row*>\r\nWhen compiled into the dist folder or locally:\r\n</b-row>\r\n<b-row>\r\n\r\nI figured making this change to html would likely not happen or take a long time. We do end tags with a /> to be self closing and reduce clutter, I was thinking it would be nice to do it the other way as well.","Url":"https://github.com/vuejs/vue/issues/11870","RelatedDescription":"Closed issue \"Added compiler change to reduce lines of code / increase readability\" (#11870)"},{"Id":"785759636","IsPullRequest":false,"CreatedAt":"2021-01-14T15:26:25","Actor":"JackShell2020","Number":"11869","RawContent":null,"Title":"bug: ref with v-for","State":"closed","Body":"### Version\r\n\r\n\r\n### Reproduction link\r\n[https://codepen.io/nShell/pen/RwGqpoJ](https://codepen.io/nShell/pen/RwGqpoJ)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\næ‰“å¼€F12å¼€å‘è€…å·¥å…·ï¼Œåˆ·æ–°é¡µé¢ï¼ŒæŸ¥çœ‹æ‰“å°è¾“å‡ºã€‚åˆ‡æ¢vueç‰ˆæœ¬åå†æ¬¡æŸ¥çœ‹è¾“å‡º\r\n\r\n### What is expected?\r\nå¦‚æ–‡æ¡£æ‰€æè¿°è¾“å‡ºæ•°ç»„\r\n\r\n### What is actually happening?\r\nè¾“å‡ºç±»å‹ä¸æ–‡æ¡£æè¿°ä¸ç¬¦\r\n\r\n---\r\nåœ¨æ–‡æ¡£ä¸­è¯´æ˜ï¼Œref ä¸ v-for ä¸€èµ·ä½¿ç”¨æ—¶çš„ä¸¤ç§æƒ…å†µï¼Œå’Œå¯¹åº”çš„ç»“æœ\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11869","RelatedDescription":"Closed issue \"bug: ref with v-for\" (#11869)"},{"Id":"785221791","IsPullRequest":false,"CreatedAt":"2021-01-13T16:31:00","Actor":"huntz20","Number":"11868","RawContent":null,"Title":" Content Security Policy directive after build to production ","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://realsportindo.com/event/kejuaraan-kata-virtual-forki-jabar-2020/medals](https://realsportindo.com/event/kejuaraan-kata-virtual-forki-jabar-2020/medals)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. npm run build with websocket \r\n2. deploy to server \r\n\r\n### What is expected?\r\nweb socket should work properly \r\n\r\n### What is actually happening?\r\n```\r\nRefused to connect to 'wss://example.com/socket//websocket?vsn=1.0.0' because it violates the following Content Security Policy directive: \"default-src 'self' http: https: data: blob: 'unsafe-inline'\". Note that 'connect-src' was not explicitly set, so 'default-src' is used as a fallback.\r\n```\r\n\r\n---\r\nnb: \r\nalready check on development work fine\r\nalready add meta on head\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11868","RelatedDescription":"Closed issue \" Content Security Policy directive after build to production \" (#11868)"},{"Id":"784831816","IsPullRequest":false,"CreatedAt":"2021-01-13T09:01:49","Actor":"franky920920","Number":"11867","RawContent":null,"Title":"[forum.vuejs.org] Down","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://forum.vuejs.org](https://forum.vuejs.org)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nforum.vuejs.org is down. HTTP response code: 500\r\n\r\n### What is expected?\r\nforum.vuejs.org is working\r\n\r\n### What is actually happening?\r\nforum.vuejs.org is down. HTTP response code: 500\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11867","RelatedDescription":"Closed issue \"[forum.vuejs.org] Down\" (#11867)"}],"ResultType":"GitHubIssue"},"Router-Issues":{"Issues":[{"Id":"794726947","IsPullRequest":true,"CreatedAt":"2021-01-28T09:48:36","Actor":"FAKER-A","Number":"3460","RawContent":null,"Title":"docs: add type to the code of some md files","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\nAdd type to the code of some md files","Url":"https://github.com/vuejs/vue-router/pull/3460","RelatedDescription":"Closed or merged PR \"docs: add type to the code of some md files\" (#3460)"},{"Id":"794862827","IsPullRequest":false,"CreatedAt":"2021-01-27T07:53:18","Actor":"rhysburnie","Number":"3462","RawContent":null,"Title":"There needs to be a way to disable scroll savedPosition","State":"open","Body":"### What problem does this feature solve?\r\nThere needs to be a way to disable scroll savedPosition\r\n\r\nIt causes a style recalc and is slowing our app down (we see its the cause in profiler)\r\n\r\nWe dont use this feature and it seems like something that should be optional\r\n\r\n### What does the proposed API look like?\r\nRouter init option\r\n```\r\n{\r\n  saveScrollPosition: false, // or similar\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3462","RelatedDescription":"Open issue \"There needs to be a way to disable scroll savedPosition\" (#3462)"},{"Id":"794858718","IsPullRequest":false,"CreatedAt":"2021-01-27T07:46:05","Actor":"rhysburnie","Number":"3461","RawContent":null,"Title":"Is there a way to disable scroll savedPosition?","State":"closed","Body":"Is there a way to disable scroll savedPosition?\r\n\r\nWe don't need the functionality and its slowing our app down by triggering style recalc","Url":"https://github.com/vuejs/vue-router/issues/3461","RelatedDescription":"Closed issue \"Is there a way to disable scroll savedPosition?\" (#3461)"},{"Id":"794137131","IsPullRequest":false,"CreatedAt":"2021-01-26T10:59:28","Actor":"NguyenThanh1995","Number":"3459","RawContent":null,"Title":"Warning vue-router@3.5.0: [vue-router] <router-link>'s tag prop is deprecated and has been removed in Vue Router 4","State":"closed","Body":"Hello I am using vue-router@3.5.0 together with vue@2.5 but I got a warning moving to vue-router 4. what happened?","Url":"https://github.com/vuejs/vue-router/issues/3459","RelatedDescription":"Closed issue \"Warning vue-router@3.5.0: [vue-router] <router-link>'s tag prop is deprecated and has been removed in Vue Router 4\" (#3459)"},{"Id":"793889893","IsPullRequest":true,"CreatedAt":"2021-01-26T09:19:31","Actor":"jonaskuske","Number":"3458","RawContent":null,"Title":"fix(warn): only warn if  \"tag\" or \"event\"  is used","State":"closed","Body":"closes #3457\r\nOnly show deprecation warning if the props \"tag\" or \"event\" are actually passed by the consumer (key exists in `$options.propsData`, figured this out by experimenting ğŸ˜…), not if they have any value at all (they always have a value since a default is specified in the props definition)\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3458","RelatedDescription":"Closed or merged PR \"fix(warn): only warn if  \"tag\" or \"event\"  is used\" (#3458)"},{"Id":"793633529","IsPullRequest":false,"CreatedAt":"2021-01-26T09:19:31","Actor":"719media","Number":"3457","RawContent":null,"Title":"v-router warning about using v-slot","State":"closed","Body":"### Version\r\n3.5.0\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vue-router/commit/d2cb951#diff-d69779a774d18aab6696dcf281454982a329104177c1a5f885089da9fefefd94R134-R148](https://github.com/vuejs/vue-router/commit/d2cb951#diff-d69779a774d18aab6696dcf281454982a329104177c1a5f885089da9fefefd94R134-R148)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nSee the conditions for firing the warning:\r\n\r\nhttps://github.com/vuejs/vue-router/commit/d2cb951#diff-d69779a774d18aab6696dcf281454982a329104177c1a5f885089da9fefefd94R134-R148\r\n\r\n### What is expected?\r\nYou should only get the warning about using v-slot if you are actually using `tag` or `event` props\r\n\r\n### What is actually happening?\r\nSince `tag` and `event` have non-falsey default values, the warning will always fire with any use of router-link.\r\n\r\n---\r\nPerhaps you should just compare if the values for `tag` or `event` are non-default and fire the warning, even though this doesn't cover the edge case that `tag` or `event` are actually being passed in with a value that matches the default.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3457","RelatedDescription":"Closed issue \"v-router warning about using v-slot\" (#3457)"},{"Id":"792848544","IsPullRequest":false,"CreatedAt":"2021-01-24T17:24:13","Actor":"Rasul1996","Number":"3456","RawContent":null,"Title":"this.$router.addRoute(...) and this.$router.getRoutes()","State":"closed","Body":"Hi, \r\n\r\n![image](https://user-images.githubusercontent.com/50964099/105638080-e4f53780-5e81-11eb-87a6-8351c050136f.png)\r\n\r\n![image](https://user-images.githubusercontent.com/50964099/105638097-f3dbea00-5e81-11eb-95f9-d57c0da2b884.png)\r\n\r\nusing vue-router 3.4.9 version\r\n\r\n![image](https://user-images.githubusercontent.com/50964099/105638117-07875080-5e82-11eb-80e0-a0f168ee7c43.png)\r\n\r\n\r\nGetting following error:\r\n![image](https://user-images.githubusercontent.com/50964099/105638128-166e0300-5e82-11eb-9a63-662cf1a30b34.png)\r\n","Url":"https://github.com/vuejs/vue-router/issues/3456","RelatedDescription":"Closed issue \"this.$router.addRoute(...) and this.$router.getRoutes()\" (#3456)"},{"Id":"792810742","IsPullRequest":true,"CreatedAt":"2021-01-24T14:40:20","Actor":"wxwzl","Number":"3455","RawContent":null,"Title":"feat: optimize method to determine whether the two path are the same â€¦","State":"open","Body":"for https://github.com/vuejs/vue-router/issues/3447 , optimize method to determine whether the two path are the same in ensureUrl methods\r\n","Url":"https://github.com/vuejs/vue-router/pull/3455","RelatedDescription":"Open PR \"feat: optimize method to determine whether the two path are the same â€¦\" (#3455)"},{"Id":"792758935","IsPullRequest":true,"CreatedAt":"2021-01-24T14:33:20","Actor":"wxwzl","Number":"3454","RawContent":null,"Title":"feat: improve method to determine whether the two path are the same iâ€¦","State":"closed","Body":"for the issue: https://github.com/vuejs/vue-router/issues/3447,improve method to determine whether the two path are the same in ensureUrl methods\r\n","Url":"https://github.com/vuejs/vue-router/pull/3454","RelatedDescription":"Closed or merged PR \"feat: improve method to determine whether the two path are the same iâ€¦\" (#3454)"},{"Id":"784819112","IsPullRequest":true,"CreatedAt":"2021-01-24T10:03:49","Actor":"huzhengen","Number":"3446","RawContent":null,"Title":"docs(zh): update","State":"closed","Body":"add note about push\r\nexpose START_LOCATION\r\naddRoute, getRoutes\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3446","RelatedDescription":"Closed or merged PR \"docs(zh): update\" (#3446)"},{"Id":"792113004","IsPullRequest":false,"CreatedAt":"2021-01-23T17:07:48","Actor":"hezedu","Number":"3452","RawContent":null,"Title":"New feature: Data Store(before PR)","State":"closed","Body":"### What problem does this feature solve?\r\n [#3445: vue-router positionStore memory leak](https://github.com/vuejs/vue-router/issues/3445)\r\n####  reconstruct `util/state-key`\r\nused `window.performance.now()` as the state key will reset when localtion reload, It may conflict with other hisotories\r\n\r\n### What does the proposed API look like?\r\n### router.setData(key, data)\r\n  - `key` ___string___\r\n  - `data` ___any___\r\n### router.getData(key)\r\n  - `key` ___string___ \r\n  - Returns: ___any___\r\n### router.removeData(key)\r\n  - `key` ___string___\r\n\r\n### Online Demo:\r\nhttps://hezedu.github.io/SomethingBoring/vue-router-positionstore-memory-leak/pr-demo.html#/\r\n\r\n## Why adding these new features?\r\n\r\nUnlike [window.history](https://developer.mozilla.org/en-US/docs/Web/API/History), vue-router has no API to change history.state.\r\n\r\nBut sometimes we need it to store some unique keys, like the `positionStore`. <br>\r\nSo I replaced `positionStore` with `dataStore`. This way you can store more things. <br>\r\nAnd there is no need to develop `state` related APIs in the future.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3452","RelatedDescription":"Closed issue \"New feature: Data Store(before PR)\" (#3452)"},{"Id":"792607246","IsPullRequest":false,"CreatedAt":"2021-01-23T17:07:13","Actor":"posva","Number":"3453","RawContent":null,"Title":"Detect `popstate` vs `push`/`replace` in navigation guards","State":"open","Body":"It would be useful to detect if navigation comes from interaction within the app (`router.push()`) or outside of it (`history.back()`).\r\n\r\nThe API is still to be decided and should be the same on v4 and v3, probably something inside of the `to` parameter of navigation guards\r\n\r\n```js\r\nrouter.beforeEach((to, from, next) => {\r\n  to.navigation.type // 'pop' | 'push'\r\n  to.replace // true | false\r\n  to.navigation.direction // number\r\n```\r\n\r\nRelated #1620","Url":"https://github.com/vuejs/vue-router/issues/3453","RelatedDescription":"Open issue \"Detect `popstate` vs `push`/`replace` in navigation guards\" (#3453)"},{"Id":"791908010","IsPullRequest":false,"CreatedAt":"2021-01-22T10:57:09","Actor":"Manubi","Number":"3451","RawContent":null,"Title":"vue router doesn't scroll to top","State":"closed","Body":"Hi,\r\nIf I am correct, the following code should make the router to scroll to the top on every component change - right?\r\n\r\n```\r\nconst router = new VueRouter({\r\n  mode: 'history',\r\n  base: process.env.BASE_URL,\r\n  routes,\r\n  scrollBehavior: (to, from, savedPosition) => {\r\n    return { x: 0, y: 0 }\r\n  }\r\n})\r\n```\r\nBut unfortunately it still keeps the same scroll position if I change the component. It's not scrolling to 0,0.\r\n\r\nThanks!","Url":"https://github.com/vuejs/vue-router/issues/3451","RelatedDescription":"Closed issue \"vue router doesn't scroll to top\" (#3451)"},{"Id":"789059132","IsPullRequest":false,"CreatedAt":"2021-01-19T14:24:22","Actor":"phlegx","Number":"3450","RawContent":null,"Title":"Call this.$route.path causes this.$route to get undefined.","State":"closed","Body":"### Version\r\n3.4.9\r\n\r\n### Reproduction link\r\nno reproduction link.\r\n\r\n### Steps to reproduce\r\nI have the following method in a child component:\r\n\r\n```\r\nexport default {\r\n  name: 'my-child-comp',\r\n  methods: {\r\n    checkPath() {\r\n      console.log(this.$route)\r\n      return true //this.$route.path === '/test'\r\n    },\r\n  },\r\n}\r\n```\r\n\r\nIf I output `console.log(this.$route)` in `checkPath` method, the object is present with all route data. If I output `console.log(this.$route.path)` I get the error `TypeError: Cannot read property 'path' of undefined`\r\n\r\n### What is expected?\r\nAccess `this.$route.path` should return the current route path.\r\n\r\n### What is actually happening?\r\nAccess `path` from `this.$route` object, clears `this.$route` object to undefined.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3450","RelatedDescription":"Closed issue \"Call this.$route.path causes this.$route to get undefined.\" (#3450)"},{"Id":"788144832","IsPullRequest":false,"CreatedAt":"2021-01-18T10:53:31","Actor":"fango256","Number":"3449","RawContent":null,"Title":"Props function re-evaluates when router-view component updates","State":"closed","Body":"### Version\r\n3.4.9\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/broken-morning-oy16n](https://codesandbox.io/s/broken-morning-oy16n)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nCreate a props function for a route, update the component that contains \"router-view\" and the props function re-evaluates.\r\n\r\n### What is expected?\r\nThe documentation states that the props function is only evaluated on route change.\r\n\r\n### What is actually happening?\r\nIt seems to re-evaluate when App.vue (router-view parent i presume) updates as well.\r\n\r\n---\r\nWe use simple stateless props function to convert url string segments into our custom Guid objects and pass them through as Object props to route components. A common pattern for us is to watch for prop changes in our route components and call vuex methods that might cause updates to App.vue (e.g. a loading dialog) - as the props function refires it is causing an infinite loop as we detect a prop change and load again...\r\n\r\nIs it expected that the props function re evaluates in this scenario?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3449","RelatedDescription":"Closed issue \"Props function re-evaluates when router-view component updates\" (#3449)"},{"Id":"785973078","IsPullRequest":true,"CreatedAt":"2021-01-14T13:05:45","Actor":"simon-hayden","Number":"3448","RawContent":null,"Title":"Add 'RewriteRule' to Apache subfolder setup note","State":"open","Body":"'RewriteRule' path needs to be modified as well as 'RewriteBase' path when using a subfolder in Apache\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3448","RelatedDescription":"Open PR \"Add 'RewriteRule' to Apache subfolder setup note\" (#3448)"},{"Id":"785779816","IsPullRequest":false,"CreatedAt":"2021-01-14T08:14:25","Actor":"wxwzl","Number":"3447","RawContent":null,"Title":"Why is it designed as below? it will cause history.replaceState method to be called","State":"open","Body":"### Version\r\n3.4.9\r\n\r\n### Reproduction link\r\n[https://vesaas.com/?a=1&b=2&a=2](https://vesaas.com/?a=1&b=2&a=2)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\ninput https://vesaas.com/?a=1&b=2&a=2 into webBroswer . then it becomes to https://vesaas.com/?a=1&a=2&b=2\r\n\r\n### What is expected?\r\ndo not trigger history.replaceState called \r\n\r\n### What is actually happening?\r\nhistory.replaceState was called.\r\n\r\n---\r\n\r\nsrc/history/html5.js\r\n`ensureURL (push?: boolean) {\r\n    if (getLocation(this.base) !== this.current.fullPath) {\r\n      const current = cleanPath(this.base   this.current.fullPath)\r\n      push ? pushState(current) : replaceState(current)\r\n    }\r\n  }`\r\n\r\nsrc/util/query.js\r\n`function parseQuery (query: string): Dictionary<string> {\r\n  const res = {}\r\n\r\n  query = query.trim().replace(/^(\\?|#|&)/, '')\r\n\r\n  if (!query) {\r\n    return res\r\n  }\r\n\r\n  query.split('&').forEach(param => {\r\n    const parts = param.replace(/\\ /g, ' ').split('=')\r\n    const key = decode(parts.shift())\r\n    const val = parts.length > 0\r\n      ? decode(parts.join('='))\r\n      : null\r\n\r\n    if (res[key] === undefined) {\r\n      res[key] = val\r\n    } else if (Array.isArray(res[key])) {\r\n      res[key].push(val)\r\n    } else {\r\n      res[key] = [res[key], val]\r\n    }\r\n  })\r\n\r\n  return res\r\n}`\r\n\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3447","RelatedDescription":"Open issue \"Why is it designed as below? it will cause history.replaceState method to be called\" (#3447)"},{"Id":"783498534","IsPullRequest":false,"CreatedAt":"2021-01-11T16:17:55","Actor":"hezedu","Number":"3445","RawContent":null,"Title":"vue-router positionStore memory leak","State":"closed","Body":"### Version\r\n3.4.9\r\n\r\n### Reproduction link\r\n[https://hezedu.github.io/SomethingBoring/vue-router-positionstore-memory-leak/index.html](https://hezedu.github.io/SomethingBoring/vue-router-positionstore-memory-leak/index.html)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nI read the source code and found that positionStore has only set, not deleted.\r\n\r\n### What is expected?\r\nThe data in positionStore should be cleared on history.push() or history.replace().\r\n\r\n### What is actually happening?\r\nThe memory haspmap:positionStore will continue to grow.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3445","RelatedDescription":"Closed issue \"vue-router positionStore memory leak\" (#3445)"},{"Id":"783173780","IsPullRequest":false,"CreatedAt":"2021-01-11T08:36:32","Actor":"hezedu","Number":"3444","RawContent":null,"Title":"The data in positionStore is never cleared","State":"closed","Body":"### Version\r\n3.4.9\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vue-router/blob/6d030f5c54dbb482d22a147b5a154f082b71e0a0/dist/vue-router.js#L1810](https://github.com/vuejs/vue-router/blob/6d030f5c54dbb482d22a147b5a154f082b71e0a0/dist/vue-router.js#L1810)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nI read the source code and found that positionStore has only set, not deleted.\r\n\r\n### What is expected?\r\nThe data in positionStore should be cleared on history.back().\r\n\r\n### What is actually happening?\r\nThe memory haspmap:positionStore will continue to grow.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3444","RelatedDescription":"Closed issue \"The data in positionStore is never cleared\" (#3444)"},{"Id":"781916147","IsPullRequest":false,"CreatedAt":"2021-01-08T07:34:08","Actor":"jiu-you","Number":"3443","RawContent":null,"Title":"How to import methods in src/util without flow?","State":"closed","Body":"How to import methods  in src/util  and import RouterLink Component without flow?\r\n","Url":"https://github.com/vuejs/vue-router/issues/3443","RelatedDescription":"Closed issue \"How to import methods in src/util without flow?\" (#3443)"},{"Id":"781242438","IsPullRequest":true,"CreatedAt":"2021-01-07T13:55:47","Actor":"dependabot[bot]","Number":"3442","RawContent":null,"Title":"build(deps): bump ini from 1.3.5 to 1.3.8","State":"closed","Body":"Bumps [ini](https://github.com/isaacs/ini) from 1.3.5 to 1.3.8.\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/npm/ini/commit/a2c5da86604bc2238fe393c5ff083bf23a9910eb\"><code>a2c5da8</code></a> 1.3.8</li>\n<li><a href=\"https://github.com/npm/ini/commit/af5c6bb5dca6f0248c153aa87e25bddfc515ff6e\"><code>af5c6bb</code></a> Do not use Object.create(null)</li>\n<li><a href=\"https://github.com/npm/ini/commit/8b648a1ac49e1b3b7686ea957e0b95e544bc6ec1\"><code>8b648a1</code></a> don't test where our devdeps don't even work</li>\n<li><a href=\"https://github.com/npm/ini/commit/c74c8af35f32b801a7e82a8309eab792a95932f6\"><code>c74c8af</code></a> 1.3.7</li>\n<li><a href=\"https://github.com/npm/ini/commit/024b8b55ac1c980c6225607b007714c54eb501ba\"><code>024b8b5</code></a> update deps, add linting</li>\n<li><a href=\"https://github.com/npm/ini/commit/032fbaf5f0b98fce70c8cc380e0d05177a9c9073\"><code>032fbaf</code></a> Use Object.create(null) to avoid default object property hazards</li>\n<li><a href=\"https://github.com/npm/ini/commit/2da90391ef70db41d10f013e3a87f9a8c5d01a72\"><code>2da9039</code></a> 1.3.6</li>\n<li><a href=\"https://github.com/npm/ini/commit/cfea636f534b5ca7550d2c28b7d1a95d936d56c6\"><code>cfea636</code></a> better git push script, before publish instead of after</li>\n<li><a href=\"https://github.com/npm/ini/commit/56d2805e07ccd94e2ba0984ac9240ff02d44b6f1\"><code>56d2805</code></a> do not allow invalid hazardous string as section name</li>\n<li>See full diff in <a href=\"https://github.com/isaacs/ini/compare/v1.3.5...v1.3.8\">compare view</a></li>\n</ul>\n</details>\n<details>\n<summary>Maintainer changes</summary>\n<p>This version was pushed to npm by <a href=\"https://www.npmjs.com/~isaacs\">isaacs</a>, a new releaser for ini since your current version.</p>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=ini&package-manager=npm_and_yarn&previous-version=1.3.5&new-version=1.3.8)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language\n- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language\n- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language\n- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language\n\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/vuejs/vue-router/network/alerts).\n\n</details>","Url":"https://github.com/vuejs/vue-router/pull/3442","RelatedDescription":"Closed or merged PR \"build(deps): bump ini from 1.3.5 to 1.3.8\" (#3442)"},{"Id":"776579430","IsPullRequest":true,"CreatedAt":"2021-01-07T11:23:38","Actor":"pravi","Number":"3435","RawContent":null,"Title":"chore: update build dependencies","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\nSwitch to @rollup/plugin-node-resolve and recent rollup.","Url":"https://github.com/vuejs/vue-router/pull/3435","RelatedDescription":"Closed or merged PR \"chore: update build dependencies\" (#3435)"},{"Id":"780511748","IsPullRequest":false,"CreatedAt":"2021-01-06T12:20:20","Actor":"furylee","Number":"3441","RawContent":null,"Title":"addRoutes çš„ä½¿ç”¨è¯·æ•™","State":"closed","Body":"### Version\r\n3.4.9\r\n\r\n### Reproduction link\r\n[https://new-issue.vuejs.org/?repo=vuejs/vue-router](https://new-issue.vuejs.org/?repo=vuejs/vue-router)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n```\r\n   router.addRoutes([{\r\n    path: '/',\r\n    name: 'index',\r\n    component: BasicLayout,\r\n    meta: { title: 'é¦–é¡µ' },\r\n    redirect: '/home',\r\n    children: [\r\n      {\r\n        path: '/home',\r\n        name: 'home',\r\n        meta: { title: 'æ¬¢è¿' },\r\n        hidden: true,\r\n        component: () => import('@/views/home')\r\n      },\r\n     {\r\n  meta: {\r\n    title: '404',\r\n  },\r\n  name: '404',\r\n  hidden: true,\r\n  path: '/404',\r\n  component: constantRouterComponents['404'],\r\n},\r\n...\r\n]}])\r\n```\r\n\r\nasync addRoutes success,push('/'),to 404, why???\r\n\r\naddRoutesæˆåŠŸå,è·³è½¬æ ¹ç›®å½•é‡å®šå‘åˆ°404,ä¸ºä»€ä¹ˆ?èƒ½è§£ç­”ä¸‹å—,è¿˜æ˜¯ä¸èƒ½ææ ¹ç›®å½•çš„è·¯ç”±?\r\n\r\n### What is expected?\r\nto home\r\nå»é¦–é¡µ\r\n\r\n### What is actually happening?\r\nredirect 404\r\né‡å®šå‘åˆ°äº†404\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3441","RelatedDescription":"Closed issue \"addRoutes çš„ä½¿ç”¨è¯·æ•™\" (#3441)"},{"Id":"777937943","IsPullRequest":true,"CreatedAt":"2021-01-05T14:57:21","Actor":"jiawei666","Number":"3438","RawContent":null,"Title":"docs: optimized Chinese document for installation","State":"closed","Body":"Optimized Chinese document for installation\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3438","RelatedDescription":"Closed or merged PR \"docs: optimized Chinese document for installation\" (#3438)"},{"Id":"778502424","IsPullRequest":false,"CreatedAt":"2021-01-05T09:35:30","Actor":"AustinGil","Number":"3439","RawContent":null,"Title":"Cannot access router query from App.vue on mounted when route is lazy loaded","State":"closed","Body":"### Version\r\n3.4.9\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/jolly-monad-ou69k?file=/src/App.vue](https://codesandbox.io/s/jolly-monad-ou69k?file=/src/App.vue)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n* Create a Vue project with vue-router\r\n* Add a console.log to App.vue that reads query params on created/mounted\r\n* Create a lazy loaded route (lets say /example)\r\n* Go to that lazy loaded route and add query params to URL (/example?q=1)\r\n* Refresh browser\r\n\r\nWhen the App.vue component loads on the lazy route (/example), the console.log returns an empty object even if there are query params. If the router view component is not lazy loaded, the console.log in App.vue will show the query params as expected.\r\n\r\nMinimal example:\r\nhttps://codesandbox.io/s/jolly-monad-ou69k?file=/src/App.vue\r\n\r\n### What is expected?\r\nI expect App.vue to have access to the query params on mounted\r\n\r\n### What is actually happening?\r\nThe query params object is empty when App.vue mounts.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3439","RelatedDescription":"Closed issue \"Cannot access router query from App.vue on mounted when route is lazy loaded\" (#3439)"},{"Id":"778762408","IsPullRequest":true,"CreatedAt":"2021-01-05T08:54:38","Actor":"dependabot[bot]","Number":"3440","RawContent":null,"Title":"build(deps-dev): bump axios from 0.19.0 to 0.21.1","State":"open","Body":"Bumps [axios](https://github.com/axios/axios) from 0.19.0 to 0.21.1.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/axios/axios/releases\">axios's releases</a>.</em></p>\n<blockquote>\n<h2>v0.21.1</h2>\n<h3>0.21.1 (December 21, 2020)</h3>\n<p>Fixes and Functionality:</p>\n<ul>\n<li>Hotfix: Prevent SSRF (<a href=\"https://github-redirect.dependabot.com/axios/axios/issues/3410\">#3410</a>)</li>\n<li>Protocol not parsed when setting proxy config from env vars (<a href=\"https://github-redirect.dependabot.com/axios/axios/issues/3070\">#3070</a>)</li>\n<li>Updating axios in types to be lower case (<a href=\"https://github-redirect.dependabot.com/axios/axios/issues/2797\">#2797</a>)</li>\n<li>Adding a type guard for <code>AxiosError</code> (<a href=\"https://github-redirect.dependabot.com/axios/axios/issues/2949\">#2949</a>)</li>\n</ul>\n<p>Internal and Tests:</p>\n<ul>\n<li>Remove the skipping of the <code>socket</code> http test (<a href=\"https://github-redirect.dependabot.com/axios/axios/issues/3364\">#3364</a>)</li>\n<li>Use different socket for Win32 test (<a href=\"https://github-redirect.dependabot.com/axios/axios/issues/3375\">#3375</a>)</li>\n</ul>\n<p>Huge thanks to everyone who contributed to this release via code (authors listed below) or via reviews and triaging on GitHub:</p>\n<ul>\n<li>Daniel Lopretto <a href=\"mailto:timemachine3030@users.noreply.github.com\">timemachine3030@users.noreply.github.com</a></li>\n<li>Jason Kwok <a href=\"mailto:JasonHK@users.noreply.github.com\">JasonHK@users.noreply.github.com</a></li>\n<li>Jay <a href=\"mailto:jasonsaayman@gmail.com\">jasonsaayman@gmail.com</a></li>\n<li>Jonathan Foster <a href=\"mailto:jonathan@jonathanfoster.io\">jonathan@jonathanfoster.io</a></li>\n<li>Remco Haszing <a href=\"mailto:remcohaszing@gmail.com\">remcohaszing@gmail.com</a></li>\n<li>Xianming Zhong <a href=\"mailto:chinesedfan@qq.com\">chinesedfan@qq.com</a></li>\n</ul>\n<h2>v0.21.0</h2>\n<h3>0.21.0 (October 23, 2020)</h3>\n<p>Fixes and Functionality:</p>\n<ul>\n<li>Fixing requestHeaders.Authorization (<a href=\"https://github-redirect.dependabot.com/axios/axios/pull/3287\">#3287</a>)</li>\n<li>Fixing node types (<a href=\"https://github-redirect.dependabot.com/axios/axios/pull/3237\">#3237</a>)</li>\n<li>Fixing axios.delete ignores config.data (<a href=\"https://github-redirect.dependabot.com/axios/axios/pull/3282\">#3282</a>)</li>\n<li>Revert &quot;Fixing overwrite Blob/File type as Content-Type in browser. (<a href=\"https://github-redirect.dependabot.com/axios/axios/issues/1773\">#1773</a>)&quot; (<a href=\"https://github-redirect.dependabot.com/axios/axios/pull/3289\">#3289</a>)</li>\n<li>Fixing an issue that type 'null' and 'undefined' is not assignable to validateStatus when typescript strict option is enabled (<a href=\"https://github-redirect.dependabot.com/axios/axios/pull/3200\">#3200</a>)</li>\n</ul>\n<p>Internal and Tests:</p>\n<ul>\n<li>Lock travis to not use node v15 (<a href=\"https://github-redirect.dependabot.com/axios/axios/pull/3361\">#3361</a>)</li>\n</ul>\n<p>Documentation:</p>\n<ul>\n<li>Fixing simple typo, existant -&gt; existent (<a href=\"https://github-redirect.dependabot.com/axios/axios/pull/3252\">#3252</a>)</li>\n<li>Fixing typos (<a href=\"https://github-redirect.dependabot.com/axios/axios/pull/3309\">#3309</a>)</li>\n</ul>\n<p>Huge thanks to everyone who contributed to this release via code (authors listed below) or via reviews and triaging on GitHub:</p>\n<ul>\n<li>Allan Cruz <a href=\"mailto:57270969+Allanbcruz@users.noreply.github.com\">57270969+Allanbcruz@users.noreply.github.com</a></li>\n<li>George Cheng <a href=\"mailto:Gerhut@GMail.com\">Gerhut@GMail.com</a></li>\n<li>Jay <a href=\"mailto:jasonsaayman@gmail.com\">jasonsaayman@gmail.com</a></li>\n<li>Kevin Kirsche <a href=\"mailto:Kev.Kirsche+GitHub@gmail.com\">Kev.Kirsche+GitHub@gmail.com</a></li>\n</ul>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/axios/axios/blob/v0.21.1/CHANGELOG.md\">axios's changelog</a>.</em></p>\n<blockquote>\n<h3>0.21.1 (December 21, 2020)</h3>\n<p>Fixes and Functionality:</p>\n<ul>\n<li>Hotfix: Prevent SSRF (<a href=\"https://github-redirect.dependabot.com/axios/axios/issues/3410\">#3410</a>)</li>\n<li>Protocol not parsed when setting proxy config from env vars (<a href=\"https://github-redirect.dependabot.com/axios/axios/issues/3070\">#3070</a>)</li>\n<li>Updating axios in types to be lower case (<a href=\"https://github-redirect.dependabot.com/axios/axios/issues/2797\">#2797</a>)</li>\n<li>Adding a type guard for <code>AxiosError</code> (<a href=\"https://github-redirect.dependabot.com/axios/axios/issues/2949\">#2949</a>)</li>\n</ul>\n<p>Internal and Tests:</p>\n<ul>\n<li>Remove the skipping of the <code>socket</code> http test (<a href=\"https://github-redirect.dependabot.com/axios/axios/issues/3364\">#3364</a>)</li>\n<li>Use different socket for Win32 test (<a href=\"https://github-redirect.dependabot.com/axios/axios/issues/3375\">#3375</a>)</li>\n</ul>\n<p>Huge thanks to everyone who contributed to this release via code (authors listed below) or via reviews and triaging on GitHub:</p>\n<ul>\n<li>Daniel Lopretto <a href=\"mailto:timemachine3030@users.noreply.github.com\">timemachine3030@users.noreply.github.com</a></li>\n<li>Jason Kwok <a href=\"mailto:JasonHK@users.noreply.github.com\">JasonHK@users.noreply.github.com</a></li>\n<li>Jay <a href=\"mailto:jasonsaayman@gmail.com\">jasonsaayman@gmail.com</a></li>\n<li>Jonathan Foster <a href=\"mailto:jonathan@jonathanfoster.io\">jonathan@jonathanfoster.io</a></li>\n<li>Remco Haszing <a href=\"mailto:remcohaszing@gmail.com\">remcohaszing@gmail.com</a></li>\n<li>Xianming Zhong <a href=\"mailto:chinesedfan@qq.com\">chinesedfan@qq.com</a></li>\n</ul>\n<h3>0.21.0 (October 23, 2020)</h3>\n<p>Fixes and Functionality:</p>\n<ul>\n<li>Fixing requestHeaders.Authorization (<a href=\"https://github-redirect.dependabot.com/axios/axios/pull/3287\">#3287</a>)</li>\n<li>Fixing node types (<a href=\"https://github-redirect.dependabot.com/axios/axios/pull/3237\">#3237</a>)</li>\n<li>Fixing axios.delete ignores config.data (<a href=\"https://github-redirect.dependabot.com/axios/axios/pull/3282\">#3282</a>)</li>\n<li>Revert &quot;Fixing overwrite Blob/File type as Content-Type in browser. (<a href=\"https://github-redirect.dependabot.com/axios/axios/issues/1773\">#1773</a>)&quot; (<a href=\"https://github-redirect.dependabot.com/axios/axios/pull/3289\">#3289</a>)</li>\n<li>Fixing an issue that type 'null' and 'undefined' is not assignable to validateStatus when typescript strict option is enabled (<a href=\"https://github-redirect.dependabot.com/axios/axios/pull/3200\">#3200</a>)</li>\n</ul>\n<p>Internal and Tests:</p>\n<ul>\n<li>Lock travis to not use node v15 (<a href=\"https://github-redirect.dependabot.com/axios/axios/pull/3361\">#3361</a>)</li>\n</ul>\n<p>Documentation:</p>\n<ul>\n<li>Fixing simple typo, existant -&gt; existent (<a href=\"https://github-redirect.dependabot.com/axios/axios/pull/3252\">#3252</a>)</li>\n<li>Fixing typos (<a href=\"https://github-redirect.dependabot.com/axios/axios/pull/3309\">#3309</a>)</li>\n</ul>\n<p>Huge thanks to everyone who contributed to this release via code (authors listed below) or via reviews and triaging on GitHub:</p>\n<ul>\n<li>Allan Cruz <a href=\"mailto:57270969+Allanbcruz@users.noreply.github.com\">57270969+Allanbcruz@users.noreply.github.com</a></li>\n<li>George Cheng <a href=\"mailto:Gerhut@GMail.com\">Gerhut@GMail.com</a></li>\n<li>Jay <a href=\"mailto:jasonsaayman@gmail.com\">jasonsaayman@gmail.com</a></li>\n<li>Kevin Kirsche <a href=\"mailto:Kev.Kirsche+GitHub@gmail.com\">Kev.Kirsche+GitHub@gmail.com</a></li>\n<li>Remco Haszing <a href=\"mailto:remcohaszing@gmail.com\">remcohaszing@gmail.com</a></li>\n<li>Taemin Shin <a href=\"mailto:cprayer13@gmail.com\">cprayer13@gmail.com</a></li>\n</ul>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/axios/axios/commit/a64050a6cfbcc708a55a7dc8030d85b1c78cdf38\"><code>a64050a</code></a> Releasing 0.21.1</li>\n<li><a href=\"https://github.com/axios/axios/commit/d57cd976f3cc0f1c5bb1f0681660e50004781db5\"><code>d57cd97</code></a> Updating changelog for 0.21.1 release</li>\n<li><a href=\"https://github.com/axios/axios/commit/8b0f373df0574b7cb3c6b531b4092cd670dac6e3\"><code>8b0f373</code></a> Use different socket for Win32 test (<a href=\"https://github-redirect.dependabot.com/axios/axios/issues/3375\">#3375</a>)</li>\n<li><a href=\"https://github.com/axios/axios/commit/e426910be7c417bdbcde9c18cb184ead826fc0e1\"><code>e426910</code></a> Protocol not parsed when setting proxy config from env vars (<a href=\"https://github-redirect.dependabot.com/axios/axios/issues/3070\">#3070</a>)</li>\n<li><a href=\"https://github.com/axios/axios/commit/c7329fefc890050edd51e40e469a154d0117fc55\"><code>c7329fe</code></a> Hotfix: Prevent SSRF (<a href=\"https://github-redirect.dependabot.com/axios/axios/issues/3410\">#3410</a>)</li>\n<li><a href=\"https://github.com/axios/axios/commit/f472e5da5fe76c72db703d6a0f5190e4ad31e642\"><code>f472e5d</code></a> Adding a type guard for <code>AxiosError</code> (<a href=\"https://github-redirect.dependabot.com/axios/axios/issues/2949\">#2949</a>)</li>\n<li><a href=\"https://github.com/axios/axios/commit/768825589fd0d36b64a66717ca6df2efd8fb7844\"><code>7688255</code></a> Remove the skipping of the <code>socket</code> http test (<a href=\"https://github-redirect.dependabot.com/axios/axios/issues/3364\">#3364</a>)</li>\n<li><a href=\"https://github.com/axios/axios/commit/820fe6e41a96f05fb4781673ce07486f1b37515d\"><code>820fe6e</code></a> Updating axios in types to be lower case (<a href=\"https://github-redirect.dependabot.com/axios/axios/issues/2797\">#2797</a>)</li>\n<li><a href=\"https://github.com/axios/axios/commit/94ca24b5b23f343769a15f325693246e07c177d2\"><code>94ca24b</code></a> Releasing 0.21.0</li>\n<li><a href=\"https://github.com/axios/axios/commit/2130a0c8acc588c72b53dfef31a11442043ffb06\"><code>2130a0c</code></a> Updating changelog for 0.21.0 release</li>\n<li>Additional commits viewable in <a href=\"https://github.com/axios/axios/compare/v0.19.0...v0.21.1\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=axios&package-manager=npm_and_yarn&previous-version=0.19.0&new-version=0.21.1)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language\n- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language\n- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language\n- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language\n\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/vuejs/vue-router/network/alerts).\n\n</details>","Url":"https://github.com/vuejs/vue-router/pull/3440","RelatedDescription":"Open PR \"build(deps-dev): bump axios from 0.19.0 to 0.21.1\" (#3440)"},{"Id":"777936141","IsPullRequest":true,"CreatedAt":"2021-01-04T08:56:07","Actor":"jiawei666","Number":"3437","RawContent":null,"Title":"Optimized Chinese document for installation","State":"closed","Body":"Optimized Chinese document for installation\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3437","RelatedDescription":"Closed or merged PR \"Optimized Chinese document for installation\" (#3437)"},{"Id":"777560870","IsPullRequest":true,"CreatedAt":"2021-01-04T08:54:17","Actor":"gzg1023","Number":"3436","RawContent":null,"Title":"docs: typo md","State":"closed","Body":"There is an error in parsing Chinese comma in markdown syntax. Adjust the order of * * before the comma to display normally.\r\n\r\nmarkdownè¯­æ³•åœ¨è§£æä¸­æ–‡é€—å·æ—¶å€™ï¼Œå‡ºç°äº†é”™è¯¯ã€‚è°ƒæ•´è‡³**åœ¨é€—å·å‰é¢ çš„é¡ºåºï¼Œå¯ä»¥æ­£å¸¸çš„æ˜¾ç¤ºã€‚\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3436","RelatedDescription":"Closed or merged PR \"docs: typo md\" (#3436)"},{"Id":"776162713","IsPullRequest":false,"CreatedAt":"2020-12-30T02:04:25","Actor":"mymaizi","Number":"3434","RawContent":null,"Title":"Addroutes is no longer supported in version 4.0 +","State":"closed","Body":"Addroutes is no longer supported in version 4.0 +","Url":"https://github.com/vuejs/vue-router/issues/3434","RelatedDescription":"Closed issue \"Addroutes is no longer supported in version 4.0 +\" (#3434)"},{"Id":"775349699","IsPullRequest":true,"CreatedAt":"2020-12-28T11:20:08","Actor":"anio","Number":"3433","RawContent":null,"Title":"fix(util/query): prevent overriding prototype propery names using querystring","State":"open","Body":"Allowing prototype property names such as toString, \\_\\_proto__, ... to get override by querystrings with same names, leads to unknown behaviors.\r\n\r\nSteps to reproduce the issue:\r\n\r\n1. start the `dev` server.\r\n2. go to the URL: http://localhost:8080/route-params/items/1/logs?toString\r\n\r\n![image](https://user-images.githubusercontent.com/3686626/103210673-47e4c480-48fe-11eb-8a91-24f13705b826.png)","Url":"https://github.com/vuejs/vue-router/pull/3433","RelatedDescription":"Open PR \"fix(util/query): prevent overriding prototype propery names using querystring\" (#3433)"}],"ResultType":"GitHubIssue"},"Vuex-Issues":{"Issues":[{"Id":"794267784","IsPullRequest":false,"CreatedAt":"2021-01-26T14:37:18","Actor":"Daniel4Digital","Number":"1929","RawContent":null,"Title":"Blank page after vuex upgrade to 3.6.1","State":"closed","Body":"### Version\r\n3.6.1\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue](https://codesandbox.io/s/vue) (Sorry I dont know how to recreate the issue here, and don't have time, at the moment, to figure out how that works)\r\n\r\n### Steps to reproduce\r\nI am using vuex, without vue-router just so you know, and after updating 3.6.0 to 3.6.1 the page becomes blank, and the console has an error:\r\n\r\n```\r\nvuex.esm-bundler.js?16b2:589 Uncaught TypeError: (0 , vue__WEBPACK_IMPORTED_MODULE_0__.reactive) is not a function\r\n    at resetStoreState (vuex.esm-bundler.js?16b2:589)\r\n    at new Store (vuex.esm-bundler.js?16b2:332)\r\n    at eval (index.js?4129:122)\r\n    at Module../resources/assets/js/store/index.js (app.js:1200)\r\n    at __webpack_require__ (manifest.js:30)\r\n    at eval (app.js:19)\r\n    at Module../resources/assets/js/app.js (app.js:914)\r\n    at __webpack_require__ (manifest.js:30)\r\n    at checkDeferredModulesImpl (manifest.js:187)\r\n    at webpackJsonpCallback (manifest.js:169)\r\n```\r\n\r\nDo I really need to create an resetState from now on?\r\n\r\n### What is expected?\r\nSince it is a minor version I wasn't expecting my page to crash\r\n\r\n### What is actually happening?\r\nThe pages crashes with the error mentioned.\r\n\r\n---\r\nI don't have any way to have a code sandbox for this... would not be easy to recreate. But the error itself should be explanatory\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1929","RelatedDescription":"Closed issue \"Blank page after vuex upgrade to 3.6.1\" (#1929)"},{"Id":"791799924","IsPullRequest":false,"CreatedAt":"2021-01-26T10:11:23","Actor":"dengyizhenfeng","Number":"1928","RawContent":null,"Title":"The data obtained through Computed vuex is undefined in onUnmounted","State":"closed","Body":"### Version\r\n4.0.0-rc.2\r\n\r\n### Reproduction link\r\n[https://github.com/dengyizhenfeng/vue3-getters-undefined](https://github.com/dengyizhenfeng/vue3-getters-undefined)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nCreate a new project with the `vue create` command, select `vuex`, create a new variable {} in the state of vuex, and return a variable associated with this variable in the getters. This variable is obtained by computed in a concrete page. Under this variable it is fine if it is printed, but it is undefined if it is printed in onUnmounted\r\n\r\n### What is expected?\r\ndata from Vuex obtained through Computed can be correctly retrieved during onUnmounted\r\n\r\n\r\n\r\n### What is actually happening?\r\nThe data in Vuex obtained through computed onUnmounted is undefined\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1928","RelatedDescription":"Closed issue \"The data obtained through Computed vuex is undefined in onUnmounted\" (#1928)"},{"Id":"778507833","IsPullRequest":false,"CreatedAt":"2021-01-26T09:10:46","Actor":"jlgoff3","Number":"1921","RawContent":null,"Title":"Expose storeKey for unit test mocking when using useStore","State":"closed","Body":"### What problem does this feature solve?\r\nWhen unit testing Composition API style components, the developer may want to mock the Vuex store for testing purposes. However, due to the Vue instance not being available at setup() time, the useStore method is used in place of this.$store. This requires the developer to inject their Vuex mock, rather than using the traditional instance mocking option of the vue-test-utils mount function. Provide/inject requires a key, which, unlike $store, is not visible to the end user.\r\n\r\n### What does the proposed API look like?\r\nExport the default storeKey. For devs who use the default storeKey rather than providing a custom key on plugin installation, this will provide a more durable testing solution. While the key is currently the string \"store\", this could change in the future, leaving end users with unexpected failing tests. Vue-router has similarly exported their provide keys. I'm willing to create a PR for this.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1921","RelatedDescription":"Closed issue \"Expose storeKey for unit test mocking when using useStore\" (#1921)"},{"Id":"781773580","IsPullRequest":true,"CreatedAt":"2021-01-25T03:39:47","Actor":"Alanscut","Number":"1922","RawContent":null,"Title":"fix: eslint warning","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1922","RelatedDescription":"Closed or merged PR \"fix: eslint warning\" (#1922)"},{"Id":"770995445","IsPullRequest":false,"CreatedAt":"2021-01-25T03:37:03","Actor":"fangbinwei","Number":"1906","RawContent":null,"Title":"tree shaking not work because of vuex.mjs","State":"closed","Body":"### Version\r\n4.0.0-rc.2\r\n\r\n### Reproduction link\r\n[https://github.com/fangbinwei/vuex-next-issue](https://github.com/fangbinwei/vuex-next-issue)\r\n\r\n### Steps to reproduce\r\n1. yarn build\r\n2. search `prev state` in dist/main.js to validate if bundle contains `createLogger`\r\n\r\nhttps://github.com/vuejs/vuex/blob/bb7885700d7bd7afd4d12fc8be7f5b3eeaa58b0e/src/plugins/logger.js#L33\r\n\r\n**main.js**\r\n```js\r\n// tree shaking not work because of vuex.mjs\r\nimport {Store} from 'vuex'\r\n\r\nconsole.log(Store)\r\n```\r\noutput(external vue)\r\n```bash\r\n[webpack-cli] Compilation finished\r\nasset main.js 12.1 KiB [emitted] [minimized] (name: main) 2 related assets\r\norphan modules 400 bytes [orphan] 1 module\r\nruntime modules 221 bytes 1 module\r\nbuilt modules 35.6 KiB [built]\r\n  ./src/index.js   1 modules 567 bytes [built] [code generated]\r\n  ./node_modules/vuex/dist/vuex.cjs.js 35 KiB [built] [code generated]\r\n  external \"Vue\" 42 bytes [built] [code generated]\r\nwebpack 5.11.0 compiled successfully in 713 ms\r\nâœ¨  Done in 3.59s.\r\n```\r\n\r\n**main.js**\r\n```js\r\n// tree shaking work\r\nimport {Store} from 'vuex/dist/vuex.esm-bundler.js'\r\n\r\nconsole.log(Store)\r\n```\r\noutput(external vue)\r\n\r\n```bash\r\n[webpack-cli] Compilation finished\r\nasset main.js 9.8 KiB [emitted] [minimized] (name: main) 2 related assets\r\norphan modules 35.1 KiB [orphan] 2 modules\r\nruntime modules 221 bytes 1 module\r\n./src/index.js   2 modules 35.3 KiB [not cacheable] [built] [code generated]\r\nwebpack 5.11.0 compiled successfully in 797 ms\r\nâœ¨  Done in 2.47s.\r\n```\r\n\r\n### What is expected?\r\n drop `createLogger` from the bundle\r\n\r\n### What is actually happening?\r\nbundle contains `createLogger`\r\n\r\n---\r\nI think tree shaking not work because of  two reasons, (I know vuex.mjs wrap vuex.cjs.js because of some rules in node)\r\n\r\n1. vuex.mjs use `default import`\r\n2. vuex.mjs import CommonJS(vuex.cjs.js) \r\n\r\nMaybe we can do like below\r\n```diff\r\n  \"exports\": {\r\n    \".\": {\r\n+      \"module\": \"./dist/vuex.esm-bundler.js\",\r\n      \"require\": \"./dist/vuex.cjs.js\",\r\n      \"import\": \"./dist/vuex.mjs\"\r\n    },\r\n    \"./\": \"./\"\r\n  },\r\n```\r\n\r\nnodejs don't support `module` in `exports`, so it can execute `dist/vuex.mjs`\r\n\r\n[webpack support `module` in `exports`](https://webpack.js.org/guides/package-exports/#conditions), it will use `dist/vuex.esm-bundler.js` first if it is valid, since the order of `\"module\"` is in front of the `\"import\"`\r\n\r\n### Moreover\r\nsince `vuex.mjs` wrap CommonJS which contains `require('vue')` and it let vuex doesn't compatiable with [webpack externals script](https://webpack.js.org/configuration/externals/#script), check [this issue](https://github.com/vuejs/vue-cli/issues/6149). [Reproduction link](https://github.com/fangbinwei/vuex-next-issue-external-script)\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1906","RelatedDescription":"Closed issue \"tree shaking not work because of vuex.mjs\" (#1906)"},{"Id":"771006334","IsPullRequest":true,"CreatedAt":"2021-01-25T03:35:38","Actor":"fangbinwei","Number":"1907","RawContent":null,"Title":"fix: webpack bundle with 'vuex.esm-bundler.js' (#1906)","State":"closed","Body":"fixes #1906","Url":"https://github.com/vuejs/vuex/pull/1907","RelatedDescription":"Closed or merged PR \"fix: webpack bundle with 'vuex.esm-bundler.js' (#1906)\" (#1907)"},{"Id":"789147883","IsPullRequest":false,"CreatedAt":"2021-01-19T16:01:03","Actor":"wz-china","Number":"1927","RawContent":null,"Title":"[Vue3.0] watch the store.state.xxx in the setup run just one time ","State":"closed","Body":"example:\r\n\r\nVuex.state code:\r\n`\r\n{\r\n    panelSize:{\r\n        x:0,y:0\r\n    }\r\n}\r\n`\r\n\r\n\r\ncomponents code : \r\n`\r\nimport { useStore } from \"vuex\";\r\nexport default {\r\n    name: \"RenderPanel\",\r\n    setup(props) {\r\n        const count = ref(0);\r\n        const store = useStore();\r\n        // the problem\r\n        watch(\"store.state.panelSize\",() => {\r\n                count.value++;\r\n                console.log(\"just run one time when component mounted\");\r\n            },\r\n            { deep: true, immediate: true }\r\n        );\r\n        return { count };\r\n    },\r\n}\r\n`\r\n\r\nAfter component mounted , event if store.state.panelSize change ,it doesn't matter ","Url":"https://github.com/vuejs/vuex/issues/1927","RelatedDescription":"Closed issue \"[Vue3.0] watch the store.state.xxx in the setup run just one time \" (#1927)"},{"Id":"788398135","IsPullRequest":false,"CreatedAt":"2021-01-18T16:22:06","Actor":"LifeIsStrange","Number":"1926","RawContent":null,"Title":"Immutable references state properties should NOT warn of `do not mutate vuex store state outside mutation handlers.`","State":"open","Body":"### What problem does this feature solve?\r\nIn a lot of contexts, we want to store _reference_ of objects in the store that come from a _library_. \r\nThis means that the reference come from _outside_ the store and is managed (mutated) outside of the store too.\r\n\r\nVuex will by default, rightfully throw a warning because the object is mutated oustide of the store mutations.\r\nHowever in some cases it is useful to store such references in the stores as _immutable references_, in order to persists them and to use them through getters and actions.\r\nThe warning should _not_ be thrown IF and only IF the reference is Immutable. The only known way of ensuring this is to wrap the reference with this Type: \r\n```Typescript\r\ntype Immutable<T> = {\r\n  readonly [K in keyof T]: Immutable<T[K]>;\r\n};\r\n```\r\n\r\nfor example the state could have a [tiptap](https://github.com/ueberdosis/tiptap) Editor reference:\r\n```Typescript \r\neditor!: Immutable<Editor> = getTipTapEditorInstance();\r\n```\r\n\r\nWhere the Editor properties setting is managed by the library.\r\nWhich is a much needed pattern.\r\n\r\n\r\n### What does the proposed API look like?\r\nVuex needs either to propose an Annotation that we would put above the immutable reference declaration in order to silence the warning *just* for this reference.\r\nOR to detect at runtime to not throw the warning if all keys of the object are immutable/const\r\nOR to detect if the reference is wrapped by the type Immutable<T>, type which could be provided by Vuex or even Vue.ts because it is generally useful\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1926","RelatedDescription":"Open issue \"Immutable references state properties should NOT warn of `do not mutate vuex store state outside mutation handlers.`\" (#1926)"},{"Id":"788393727","IsPullRequest":false,"CreatedAt":"2021-01-18T16:16:02","Actor":"LifeIsStrange","Number":"1925","RawContent":null,"Title":"Immutable references state properties should NOT warn of `do not mutate vuex store state outside mutation handlers.`","State":"closed","Body":"In a lot of contexts, we want to store _reference_ of objects in the store that come from a _library_. \r\nThis means that the reference come from _outside_ the store and is managed (mutated) outside of the store too.\r\n\r\nVuex will by default, rightfully throw a warning because the object is mutated oustide of the store mutations.\r\nHowever in some cases it is useful to store such references in the stores as _immutable references_, in order to persists them and to use them through getters and actions.\r\nThe warning should _not_ be thrown IF and only IF the reference is Immutable. The only known way of ensuring this is to wrap the reference with this Type: \r\n```Typescript\r\ntype Immutable<T> = {\r\n  readonly [K in keyof T]: Immutable<T[K]>;\r\n};\r\n```\r\n\r\nfor example the state could have a [tiptap](https://github.com/ueberdosis/tiptap) Editor reference:\r\n```Typescript \r\neditor!: Immutable<Editor> = getTipTapEditorInstance();\r\n```\r\n\r\nWhere the Editor properties setting is managed by the library.\r\nWhich is a much needed pattern.\r\n\r\n\r\n","Url":"https://github.com/vuejs/vuex/issues/1925","RelatedDescription":"Closed issue \"Immutable references state properties should NOT warn of `do not mutate vuex store state outside mutation handlers.`\" (#1925)"},{"Id":"783261579","IsPullRequest":true,"CreatedAt":"2021-01-11T10:46:54","Actor":"peoplenarthax","Number":"1924","RawContent":null,"Title":"fix: Add optional to getter arguments","State":"open","Body":"As mentioned in: https://github.com/vuejs/vuex/issues/1467 \r\n\r\nJust making sure the arguments on getters are aligned with the actual usage, otherwise any typescript user is enquire to pass all arguments even if they are not really required:\r\n\r\nExample:\r\n`getters.bar(state, getters, state, {})` => `getters.bar(state)` works equally for Vuex module level","Url":"https://github.com/vuejs/vuex/pull/1924","RelatedDescription":"Open PR \"fix: Add optional to getter arguments\" (#1924)"},{"Id":"782626742","IsPullRequest":false,"CreatedAt":"2021-01-09T15:16:10","Actor":"soerenmartius","Number":"1923","RawContent":null,"Title":"Best Practice: Should we throw errors in getters if the state is undefined? ","State":"closed","Body":"Quite often we are handling situations that require an optional state. \r\n\r\nE.g., my state might look like this\r\n\r\n```\r\nexport type State = {\r\n  isAuthenticated: boolean\r\n  account?: Account\r\n}\r\n```\r\n\r\nThe initial state will always be initialized with `isAuthenticated: false`. However, we assume that account will always be set in case a user logs in to our system. The user gets fetched during the login process.\r\n\r\nAt the moment, we are writing getters in a very simple an lean way, e.G.\r\n\r\n```\r\n  getAccount(state: State): Account | undefined\r\n```\r\n\r\nHowever, this approach would require us to either check if the return value of getAccount is `Account` or `undefined` in our consuming components, or we would need to use type assertion ( `const account = store.getters.getAccount as Account` ) which I think is a very bad practice.\r\n\r\nMy current approach would validate inside the getter if  the state is set and throw an error if it isn't, e.g.:\r\n\r\n```\r\ngetAccount: (state) => {\r\n  if(!state.account) {\r\n    throw new Error(\"Account isn't set\")\r\n  }\r\n  return state.account\r\n}\r\n```\r\n\r\nWhich would enable me to globally catch errors that occurre in getters rather than handling it in every single component.\r\n\r\nWhat are the best practices of handling optional state in getters? Am I going down the wrong path?\r\n\r\nThank you","Url":"https://github.com/vuejs/vuex/issues/1923","RelatedDescription":"Closed issue \"Best Practice: Should we throw errors in getters if the state is undefined? \" (#1923)"},{"Id":"773061201","IsPullRequest":true,"CreatedAt":"2021-01-05T10:09:24","Actor":"Xenonym","Number":"1912","RawContent":null,"Title":"docs: fix broken anchor link","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1912","RelatedDescription":"Closed or merged PR \"docs: fix broken anchor link\" (#1912)"},{"Id":"772127042","IsPullRequest":true,"CreatedAt":"2021-01-05T10:05:30","Actor":"Alanscut","Number":"1908","RawContent":null,"Title":"test: todomvc case failed in windows and some linux os (#1899)","State":"closed","Body":"As `clear-completed button`  is part of `footer`, although we expect `await click('footer')` will trigger the `footer` element, however it actually triggered the `clear-completed button`, so the next asserts will failed. 4.0 branch has the same problem.\r\nhttps://github.com/vuejs/vuex/blob/c9dbb13d4138d0e7d82d103dd3275fc18fa72d28/test/e2e/todomvc.spec.js#L123-L125\r\n\r\nchange click `footer` to `.todo-count` will make sure test cases pass, which could fix #1899.","Url":"https://github.com/vuejs/vuex/pull/1908","RelatedDescription":"Closed or merged PR \"test: todomvc case failed in windows and some linux os (#1899)\" (#1908)"},{"Id":"773567409","IsPullRequest":true,"CreatedAt":"2021-01-04T10:52:03","Actor":"peter50216","Number":"1916","RawContent":null,"Title":"docs(typescript-support): fix .js in comment","State":"closed","Body":"The extension should be .ts instead of .js, since the file is in TypeScript.","Url":"https://github.com/vuejs/vuex/pull/1916","RelatedDescription":"Closed or merged PR \"docs(typescript-support): fix .js in comment\" (#1916)"},{"Id":"772135636","IsPullRequest":true,"CreatedAt":"2021-01-04T10:04:06","Actor":"Alanscut","Number":"1910","RawContent":null,"Title":"fix #1909: single quotes cannot be identified in package.json of the Windows OS","State":"closed","Body":"Fix #1909 ","Url":"https://github.com/vuejs/vuex/pull/1910","RelatedDescription":"Closed or merged PR \"fix #1909: single quotes cannot be identified in package.json of the Windows OS\" (#1910)"},{"Id":"772133480","IsPullRequest":false,"CreatedAt":"2021-01-04T10:04:06","Actor":"Alanscut","Number":"1909","RawContent":null,"Title":"Single quotes cannot be identified in package.json of the Windows operating system.","State":"closed","Body":"### Version\r\n4.0.0-rc.2\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vuex/blob/c9dbb13d4138d0e7d82d103dd3275fc18fa72d28/package.json#L33](https://github.com/vuejs/vuex/blob/c9dbb13d4138d0e7d82d103dd3275fc18fa72d28/package.json#L33)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nyarn run test:e2e\r\n\r\n### What is expected?\r\nAll tests pass\r\n\r\n### What is actually happening?\r\nConsoling an error: ''jest' is not an internal or external command, nor is it an executable program or batch.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1909","RelatedDescription":"Closed issue \"Single quotes cannot be identified in package.json of the Windows operating system.\" (#1909)"},{"Id":"773211434","IsPullRequest":true,"CreatedAt":"2021-01-04T09:50:08","Actor":"dependabot[bot]","Number":"1913","RawContent":null,"Title":"build(deps): bump node-notifier from 8.0.0 to 8.0.1","State":"closed","Body":"Bumps [node-notifier](https://github.com/mikaelbr/node-notifier) from 8.0.0 to 8.0.1.\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/mikaelbr/node-notifier/blob/v8.0.1/CHANGELOG.md\">node-notifier's changelog</a>.</em></p>\n<blockquote>\n<h3><code>v8.0.1</code></h3>\n<ul>\n<li>fixes possible injection issue for notify-send</li>\n</ul>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/mikaelbr/node-notifier/commit/5d62799dab88505a709cd032653b2320c5813fce\"><code>5d62799</code></a> v8.0.1</li>\n<li><a href=\"https://github.com/mikaelbr/node-notifier/commit/0c4a80df9a3b5015cd1e1ab858e008be3fece082\"><code>0c4a80d</code></a> chore: adds changelog</li>\n<li><a href=\"https://github.com/mikaelbr/node-notifier/commit/f5a7bc647589fc89ac64b0f1d259a853fcf057bc\"><code>f5a7bc6</code></a> fix: test cases</li>\n<li><a href=\"https://github.com/mikaelbr/node-notifier/commit/b9d148d697d3db807f653e2e6953c3de57dfeb8a\"><code>b9d148d</code></a> patch: fixes possible injection issue for notify-send</li>\n<li>See full diff in <a href=\"https://github.com/mikaelbr/node-notifier/compare/v8.0.0...v8.0.1\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=node-notifier&package-manager=npm_and_yarn&previous-version=8.0.0&new-version=8.0.1)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language\n- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language\n- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language\n- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language\n\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/vuejs/vuex/network/alerts).\n\n</details>","Url":"https://github.com/vuejs/vuex/pull/1913","RelatedDescription":"Closed or merged PR \"build(deps): bump node-notifier from 8.0.0 to 8.0.1\" (#1913)"},{"Id":"769824040","IsPullRequest":true,"CreatedAt":"2021-01-04T09:47:28","Actor":"JASONPANGGO","Number":"1904","RawContent":null,"Title":"fix a little typo in the comment","State":"closed","Body":"anthor params => another params","Url":"https://github.com/vuejs/vuex/pull/1904","RelatedDescription":"Closed or merged PR \"fix a little typo in the comment\" (#1904)"},{"Id":"767223376","IsPullRequest":false,"CreatedAt":"2021-01-04T09:43:56","Actor":"tobiberlin","Number":"1900","RawContent":null,"Title":"Vuex - check if data really can be stored in localstorage","State":"closed","Body":"### What problem does this feature solve?\r\nWe run into the following issue: \r\n\r\n - An app built with Vue/ vuex works fine\r\n - The issue appears when the app is embedded into another third party page with an iframe\r\n - when the user configured the browser to reject third party cookies the browser also rejects third parties (our app) from saving data in localstorage\r\n - this leads to an error in browser's console and the app is not rendered, the iframe stays empty\r\n\r\nIs there a way to check if localstorage can be used by the app? It would be helpful to avoid vuex to try to use the localstorage before really saving anything to it to avoid such problems.\r\n\r\n### What does the proposed API look like?\r\nNo idea\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1900","RelatedDescription":"Closed issue \"Vuex - check if data really can be stored in localstorage\" (#1900)"},{"Id":"772728492","IsPullRequest":true,"CreatedAt":"2021-01-04T09:42:32","Actor":"evan-lin9","Number":"1911","RawContent":null,"Title":"Update .gitignore","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1911","RelatedDescription":"Closed or merged PR \"Update .gitignore\" (#1911)"},{"Id":"777541192","IsPullRequest":true,"CreatedAt":"2021-01-02T23:21:02","Actor":"filips123","Number":"1920","RawContent":null,"Title":"Add support for preserveState options","State":"open","Body":"This adds support for specifying options to `preserveState`, allowing to only skip default module state registration when the state already exists or to merge the existing state with the state from the module. It closes #1675.","Url":"https://github.com/vuejs/vuex/pull/1920","RelatedDescription":"Open PR \"Add support for preserveState options\" (#1920)"},{"Id":"775436056","IsPullRequest":false,"CreatedAt":"2020-12-28T14:48:40","Actor":"jddxf","Number":"1919","RawContent":null,"Title":"Make overloads of commit/dispatch method interchangeable","State":"open","Body":"### What problem does this feature solve?\r\nCurrently, there're two ways to commit a mutation. But they are not interchangeable. To be more specific, the following mutations cannot be committed conveniently using the object-style commit:\r\n```\r\n// To use the object-style commit we'll have to rename the 'type' property in the payload\r\n// and change the logic in the mutation handler.\r\ncommit('foo', { type: 'bar' });\r\n\r\n// To use the object-style commit we'll have to give the payload a name\r\n// and change the logic in the mutation handler.\r\ncommit('foo', 1);\r\n```\r\nEven when they seem interchangeable, the payloads received in the mutation handler are not exactly the same:\r\n```\r\nconst mutations = {\r\n  foo(state, payload) {\r\n    console.log(payload);\r\n  }\r\n};\r\n\r\ncommit('foo', { bar: 1 }); // logs { bar: 1 }\r\ncommit({ type: 'foo', bar: 1 }); // logs { type: 'foo', bar: 1 }\r\n```\r\nThe same is true of dispatching an action.\r\n\r\n### What does the proposed API look like?\r\nLet `commit(type, payload)` be exactly the same as `commit({ type, payload })` and let `dispatch(type, payload)` be exactly the same as `dispatch({ type, payload })`.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1919","RelatedDescription":"Open issue \"Make overloads of commit/dispatch method interchangeable\" (#1919)"},{"Id":"774914362","IsPullRequest":false,"CreatedAt":"2020-12-26T18:22:25","Actor":"jguillod","Number":"1918","RawContent":null,"Title":"ShoppingCart.vue : incorrect usage of :key attribute","State":"open","Body":"### What problem does this feature solve?\r\nThis following correction will help developers better understand your example and eliminates confusion.\r\n\r\n### What does the proposed API look like?\r\nLine 6 to 8 of `ShoppingCart.vue` file is :\r\n\r\n```\r\n      <li\r\n        v-for=\"product in products\"\r\n        :key=\"product.id\">\r\n```\r\n\r\nbut since `product.id` is undefined in result of computed getters `cartProducts` the `:key` attribute should be dropped. Code should simply be written:\r\n\r\n```\r\n      <li\r\n        v-for=\"product in products\">\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1918","RelatedDescription":"Open issue \"ShoppingCart.vue : incorrect usage of :key attribute\" (#1918)"},{"Id":"774493405","IsPullRequest":false,"CreatedAt":"2020-12-24T15:44:41","Actor":"utnaf","Number":"1917","RawContent":null,"Title":"No idea why this is open...","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vuex\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n","Url":"https://github.com/vuejs/vuex/issues/1917","RelatedDescription":"Closed issue \"No idea why this is open...\" (#1917)"},{"Id":"773516514","IsPullRequest":true,"CreatedAt":"2020-12-23T12:28:31","Actor":"tongtannan","Number":"1915","RawContent":null,"Title":"1.js","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1915","RelatedDescription":"Closed or merged PR \"1.js\" (#1915)"},{"Id":"773358093","IsPullRequest":false,"CreatedAt":"2020-12-23T01:46:07","Actor":"Alanscut","Number":"1914","RawContent":null,"Title":"When not in the ci environment, puppeteerOptions will be set to empty, causing the test case to fail under Windows.","State":"open","Body":"### Version\r\n3.6.0\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vuex](https://github.com/vuejs/vuex)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nnpm install<br >\r\nnpm run test:e2e\r\n\r\n### What is expected?\r\nTest case of e2e passed.\r\n\r\n### What is actually happening?\r\nshow error like this:\r\n```shell\r\n FAIL  test/e2e/chat.spec.js (13.559 s)\r\n  â— e2e/chat â€º chat app\r\n\r\n    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.\r\n\r\n      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)\r\n\r\n  â— e2e/chat â€º chat app\r\n\r\n    TypeError: Cannot read property 'goto' of undefined\r\n\r\n       5 | \r\n       6 |   test('chat app', async () => {\r\n    >  7 |     await page().goto('http://localhost:8080/chat/')\r\n         |               ^\r\n       8 | \r\n       9 |     expect(await text('.thread-count')).toContain('Unread threads: 2')\r\n      10 |     expect(await count('.thread-list-item')).toBe(3)\r\n\r\n      at _callee$ (test/e2e/chat.spec.js:7:15)\r\n      at tryCatch (node_modules/regenerator-runtime/runtime.js:63:40)\r\n      at Generator.invoke [as _invoke] (node_modules/regenerator-runtime/runtime.js:293:22)     \r\n      at Generator.next (node_modules/regenerator-runtime/runtime.js:118:21)\r\n      at asyncGeneratorStep (test/e2e/chat.spec.js:5:103)\r\n      at _next (test/e2e/chat.spec.js:7:194)\r\n      at test/e2e/chat.spec.js:7:364\r\n      at Object.<anonymous> (test/e2e/chat.spec.js:7:97)\r\n...\r\n```\r\n\r\n---\r\nIf `puppeteerOptions` is set to `{ args: ['--no-sandbox', '--disable-setuid-sandbox'] }` in the local environment, the test cases of e2e can pass.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1914","RelatedDescription":"Open issue \"When not in the ci environment, puppeteerOptions will be set to empty, causing the test case to fail under Windows.\" (#1914)"},{"Id":"769800857","IsPullRequest":false,"CreatedAt":"2020-12-18T02:19:37","Actor":"uinio","Number":"1903","RawContent":null,"Title":"StoreApp and Namespace","State":"closed","Body":"### What problem does this feature solve?\r\nstoreApp\r\n```ts\r\nimport { App } from 'vue';\r\nimport { Store } from 'vuex';\r\n\r\nexport interface StoreAppOptions<S = any> {\r\n  stores: Store<S>[];\r\n}\r\n\r\nexport class StoreApp<S = any> {\r\n  readonly stores: Store<S>[];\r\n\r\n  constructor(stores: StoreAppOptions) {\r\n    this.stores = stores.stores;\r\n  }\r\n  install(app: App): void {\r\n    this.stores.forEach((store) => store.install(app));\r\n  }\r\n}\r\n\r\nexport function createStoreApp(app: StoreAppOptions): StoreApp {\r\n  return new StoreApp(app);\r\n}\r\n\r\n```\r\nnamespace\r\n```ts\r\nexport function createNamespace<S>(): InjectionKey<Store<S>> {\r\n  return Symbol('vuex');\r\n}\r\nexport interface StoreOptions<S> {\r\n  namespace: InjectionKey<Store<S>>;\r\n  state: S | (() => S);\r\n  getters?: GetterTree<S, S>;\r\n  actions?: ActionTree<S, S>;\r\n  mutations?: MutationTree<S>;\r\n  plugins?: Plugin<S>[];\r\n  strict?: boolean;\r\n  devtools?: boolean;\r\n}\r\n\r\nexport class Store<S> {\r\n   readonly namespace: InjectionKey<Store<S>>;\r\n   ...\r\n  install(app: App): void {\r\n    app.provide(this.namespace, this);\r\n  }\r\n}\r\n\r\nexport function useStore<S>(store: InjectionKey<Store<S>>): Store<S>;\r\n```\r\n\r\n\r\n### What does the proposed API look like?\r\nstoreApp can be split into multiple independent stores (remove RootState)\r\nnamespace better ts inference\r\n\r\n```ts\r\nexport interface CountState {\r\n  count: boolean;\r\n}\r\nexport const  COUNT_STORE = createNamespace<CountState >();\r\n\r\nexport default createStore({\r\n  namespace: COUNT_STORE ,\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions,\r\n});\r\n```\r\n\r\n```ts\r\nimport count from './count';\r\nimport { createStoreApp } from 'vuex';\r\n\r\nconst store = createStoreApp({\r\n  stores: [count],\r\n});\r\nexport default store;\r\n```\r\n```ts\r\nimport { useStore } from 'vuex';\r\nimport  {COUNT_STORE } from './count';\r\nconst store=useStore(COUNT_STORE);\r\nstore.useActions();\r\nstore.useState();\r\nstore.useGetter();\r\n....\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1903","RelatedDescription":"Closed issue \"StoreApp and Namespace\" (#1903)"},{"Id":"770361044","IsPullRequest":false,"CreatedAt":"2020-12-17T20:54:42","Actor":"hackel","Number":"1905","RawContent":null,"Title":"feat: Allow plugins in modules","State":"open","Body":"### What problem does this feature solve?\r\nCurrently plugins are only loaded in the root store instance and are silently ignored in modules.  It would be convenient and consistent to be able to register plugins within a module.  The plugin should receive a store with module-scoped state, getters, rootState, etc. just like an action.  This would allow for better separation of concerns and avoid having to modify the root store for things that are specific to a single module.\r\n\r\n### What does the proposed API look like?\r\nContrived example:\r\n```js\r\nconst store = new Vuex.Store({\r\n  modules: {\r\n    Module: {\r\n      namespaced: true,\r\n      state: { count: 0, countPlusOne: 1 },\r\n      mutations: {\r\n        setCountPlusOne: (state, count) => (state.countPlusOne = count),\r\n      },\r\n      plugins: [\r\n        store => {\r\n          store.watch(\r\n            (state, getters) => state.count,\r\n            (newVal, oldVal) => store.commit('setCountPlusOne', newVal)\r\n          );\r\n        },\r\n      ],\r\n    },\r\n  },\r\n});\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1905","RelatedDescription":"Open issue \"feat: Allow plugins in modules\" (#1905)"},{"Id":"769755460","IsPullRequest":false,"CreatedAt":"2020-12-17T09:24:44","Actor":"uinio","Number":"1902","RawContent":null,"Title":"store splits a single node","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/issues/1902","RelatedDescription":"Closed issue \"store splits a single node\" (#1902)"},{"Id":"769589045","IsPullRequest":false,"CreatedAt":"2020-12-17T06:37:13","Actor":"uinio","Number":"1901","RawContent":null,"Title":"vue3 design reference","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/issues/1901","RelatedDescription":"Closed issue \"vue3 design reference\" (#1901)"}],"ResultType":"GitHubIssue"}},"RunOn":"2021-01-30T05:30:41.4870556Z","RunDurationInMilliseconds":1528}