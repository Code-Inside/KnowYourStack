{"Data":{"Vue-Issues":{"Issues":[{"Id":"432361114","IsPullRequest":false,"CreatedAt":"2019-04-12T02:38:26","Actor":"ShengChangWei","Number":"9864","RawContent":null,"Title":"æ±‚æ•™ï¼šç»„ä»¶åœ¨github.ioä¸Šæ²¡è§£æå‡ºæ¥ï¼Œåœ¨æœ¬åœ°å¼€å‘å’Œè‡ªå·±å…¬å¸æœåŠ¡å™¨ä¸Šèƒ½å¤Ÿè§£æï¼Œæ˜¯è‡ªå·±å°è£…çš„æ–¹å¼ä¸å¯¹ï¼Ÿè¿˜æ˜¯github.ioä½¿ç”¨vueç»„ä»¶æœ‰è¦æ±‚ï¼Ÿ","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n\r\nä¸­æ–‡ç”¨æˆ·è¯·æ³¨æ„ï¼š\r\nè¯·ä½¿ç”¨ä¸Šé¢çš„é“¾æ¥æ¥åˆ›å»ºæ–°çš„ issueã€‚å¦‚æœä¸æ˜¯ç”¨ä¸Šè¿°å·¥å…·åˆ›å»ºçš„ issue ä¼šè¢«è‡ªåŠ¨å…³é—­ã€‚\r\n-->\r\n\r\n<!--\r\nLove vuejs? Please consider supporting us via Patreon or OpenCollective:\r\nğŸ‘‰  https://www.patreon.com/evanyou\r\nğŸ‘‰  https://opencollective.com/vuejs/donate\r\n-->\r\n![image](https://user-images.githubusercontent.com/37182407/56008415-d8d0d200-5d0e-11e9-9bd6-8e20cfe65011.png)\r\n","Url":"https://github.com/vuejs/vue/issues/9864","RelatedDescription":"Closed issue \"æ±‚æ•™ï¼šç»„ä»¶åœ¨github.ioä¸Šæ²¡è§£æå‡ºæ¥ï¼Œåœ¨æœ¬åœ°å¼€å‘å’Œè‡ªå·±å…¬å¸æœåŠ¡å™¨ä¸Šèƒ½å¤Ÿè§£æï¼Œæ˜¯è‡ªå·±å°è£…çš„æ–¹å¼ä¸å¯¹ï¼Ÿè¿˜æ˜¯github.ioä½¿ç”¨vueç»„ä»¶æœ‰è¦æ±‚ï¼Ÿ\" (#9864)"},{"Id":"432229349","IsPullRequest":false,"CreatedAt":"2019-04-11T20:24:11","Actor":"klimentLambevski","Number":"9863","RawContent":null,"Title":"Cannot create property 'default' on boolean 'true'\"","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/v8r388y7y](https://codesandbox.io/s/v8r388y7y)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nWhen i use scope slot inside scope slot i get this error. In condsandbox i could not reproduce it, but the same code i have is there\r\nIt happened when i upgraded from vue 2.6.7 -> 2.6.10\r\n\r\n### What is expected?\r\nNot to fail\r\n\r\n### What is actually happening?\r\nThe code i have in sandbox is compiled like this \r\n```\r\nvar render = function() {\r\n  var _vm = this\r\n  var _h = _vm.$createElement\r\n  var _c = _vm._self._c || _h\r\n  return _c(\r\n    \"div\",\r\n    { staticClass: \"google-map\" },\r\n    [\r\n      _c(\"map-loader\", {\r\n        ref: \"mapLoader\",\r\n        attrs: { apiKey: _vm.apiKey, mapConfig: _vm.mapConfig },\r\n        scopedSlots: _vm._u(\r\n          [\r\n            {\r\n              key: \"default\",\r\n              fn: function(ref) {\r\n                var google = ref.google\r\n                var map = ref.map\r\n                return [\r\n                  _vm._t(\"slot-big-slot\", null, { google: google, map: map }),\r\n                  _c(\r\n                    \"div\",\r\n                    { staticClass: \"slot-container\" },\r\n                    [\r\n                      _vm.markers.length < 2\r\n                        ? _vm._l(_vm.markers, function(marker) {\r\n                            return _c(\"google-map-marker\", {\r\n                              key: marker.lat   marker.lng,\r\n                              attrs: {\r\n                                marker: marker,\r\n                                google: google,\r\n                                map: map\r\n                              }\r\n                            })\r\n                          })\r\n                        : _vm._e(),\r\n                      _vm.markers.length === 2\r\n                        ? _c(\"route\", {\r\n                            key:\r\n                              _vm.markers[0].lat  \r\n                              _vm.markers[1].lat  \r\n                              _vm.markers[0].lng  \r\n                              _vm.markers[1].lng,\r\n                            attrs: {\r\n                              google: google,\r\n                              markers: _vm.markers,\r\n                              map: map\r\n                            }\r\n                          })\r\n                        : _vm._e()\r\n                    ],\r\n                    2\r\n                  )\r\n                ]\r\n              }\r\n            }\r\n          ],\r\n          null,\r\n          true\r\n        )\r\n      })\r\n    ],\r\n    1\r\n  )\r\n}\r\nvar staticRenderFns = []\r\nrender._withStripped = true\r\n\r\nexport { render, staticRenderFns }\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9863","RelatedDescription":"Closed issue \"Cannot create property 'default' on boolean 'true'\"\" (#9863)"},{"Id":"431928767","IsPullRequest":false,"CreatedAt":"2019-04-11T11:14:24","Actor":"econic","Number":"9862","RawContent":null,"Title":"v-if cannot access slot scope with new slot syntax","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/7j9o6o4310?fontsize=14](https://codesandbox.io/s/7j9o6o4310?fontsize=14)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nUse a component that defines a scoped slot like this\r\n```\r\n<MyComponent>\r\n  <template v-if=\"scope.foo\" #myslotname=\"scope\">...</template>\r\n</MyComponent>\r\n```\r\n\r\n\r\n### What is expected?\r\nThe template should evaluate the slot directive first, v-if second. Just as it is done with v-for first, v-if second.\r\n\r\n### What is actually happening?\r\nThe template evaluates the v-if first, resulting in an error (unknown component property)\r\n\r\n---\r\nThis functionality was present in the deprecated slot syntax, i stumbled upon it while refactoring to the new one.\r\nIt is possible to workaround this with a nested template with the respected v-if\r\n\r\nI'm using latest Vue, TypeScript, SFC\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9862","RelatedDescription":"Closed issue \"v-if cannot access slot scope with new slot syntax\" (#9862)"},{"Id":"431820679","IsPullRequest":false,"CreatedAt":"2019-04-11T04:06:12","Actor":"wakame-isono","Number":"9861","RawContent":null,"Title":"Using factory function and type assertion with props causes type error","State":"open","Body":"### Version\r\n2.6.8\r\n\r\n### Reproduction link\r\n[https://github.com/wakame-isono/vue-typescript-issue](https://github.com/wakame-isono/vue-typescript-issue)\r\n\r\n### Steps to reproduce\r\n1. Use vue-cli init with TypeScript.\r\n1. Add code to src/components/HelloWorld.vue as below.\r\n\r\n```\r\n<script lang=\"ts\">\r\nimport Vue, { PropType } from 'vue'\r\n\r\ninterface Test {\r\n  a: string;\r\n}\r\n\r\nexport default Vue.extend({\r\n  name: 'HelloWorld',\r\n\r\n  props: {\r\n    msg: String,\r\n    test: {\r\n      type: Object as PropType<Test>,\r\n      default: () => ({})\r\n    }\r\n  },\r\n\r\n  created () {\r\n    console.log(this.test)\r\n  }\r\n})\r\n</script>\r\n```\r\n\r\n### What is expected?\r\nType errors does not occur.\r\n\r\n### What is actually happening?\r\nProperty 'test' does not exist on type 'ComponentOptions<Vue, DefaultData<Vue>, DefaultMethods<Vue>, DefaultComputed, PropsDefinition<Record<string, any>>, Record<string, any>>'.\r\n\r\n---\r\nIt did not happen version 2.5.17.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9861","RelatedDescription":"Open issue \"Using factory function and type assertion with props causes type error\" (#9861)"},{"Id":"431783439","IsPullRequest":true,"CreatedAt":"2019-04-11T01:00:57","Actor":"vue-bot","Number":"9860","RawContent":null,"Title":"[automated] Patreon sponsors update","State":"closed","Body":"This is an automated pull request.","Url":"https://github.com/vuejs/vue/pull/9860","RelatedDescription":"Closed or merged PR \"[automated] Patreon sponsors update\" (#9860)"},{"Id":"431642336","IsPullRequest":false,"CreatedAt":"2019-04-10T18:46:31","Actor":"nathantreid","Number":"9859","RawContent":null,"Title":"Mouse[enter/over/leave/out] events suppress click event on iOS in Vue 2.6.x","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://github.com/nathantreid/vue-bug-ios-mouseevent](https://github.com/nathantreid/vue-bug-ios-mouseevent)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Using iOS Safari, tap the first or second button. The mouseenter or mouseover event is logged, but the click event is not fired. \r\n2. Tap the same button again and the click event will fire. \r\n3. Tap any other button. The mouseleave or mouseout event is logged, but the click event is not fired. \r\n4. Tap the same button again and the click event will fire.\r\n\r\nHow to create a reproduction from scratch:\r\nScenario A: mouseenter / mouseover\r\n\r\n1. Add a mouseenter or mouseover event to an element\r\n2. Add a button with a click handler inside the element from step 1 \r\n3. Tap on the button.\r\n\r\nScenario B: mouseleave / mouseout:\r\n\r\n1. Add a mouseleave or mouseoout event to an element\r\n2. Add a button with a click handler outside the element from step 1 \r\n3. Tap on the element.\r\n4. Tap on the button.\r\n\r\n\r\n### What is expected?\r\nThe click event should fire on the first tap. This is what happens in Vue 2.5.17 and 2.5.22.\r\n\r\n### What is actually happening?\r\nThe click event requires a second tap in order to trigger. This only happens in Vue 2.6.x.\r\n\r\n---\r\nI attempted to create a fiddle to reproduce this, but it works properly in the fiddle: https://jsfiddle.net/nathantreid/twcqg9jh/2/\r\nMy GitHub reproduction was created using the vue-cli.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9859","RelatedDescription":"Closed issue \"Mouse[enter/over/leave/out] events suppress click event on iOS in Vue 2.6.x\" (#9859)"},{"Id":"431576259","IsPullRequest":true,"CreatedAt":"2019-04-10T15:45:48","Actor":"DaKoala","Number":"9858","RawContent":null,"Title":"docs(contributing): fix a grammar error","State":"closed","Body":"**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [x] Other, please describe: Document\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\nFix a grammar error.","Url":"https://github.com/vuejs/vue/pull/9858","RelatedDescription":"Closed or merged PR \"docs(contributing): fix a grammar error\" (#9858)"},{"Id":"431430318","IsPullRequest":true,"CreatedAt":"2019-04-10T10:39:26","Actor":"underfin","Number":"9857","RawContent":null,"Title":"fix(types): $refs maybe undefined (#9856)","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [ ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/9857","RelatedDescription":"Open PR \"fix(types): $refs maybe undefined (#9856)\" (#9857)"},{"Id":"431429040","IsPullRequest":false,"CreatedAt":"2019-04-10T10:36:36","Actor":"underfin","Number":"9856","RawContent":null,"Title":"The $refs maybe undefined","State":"open","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/embed/3q34mqqwxm](https://codesandbox.io/embed/3q34mqqwxm)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. In the template not ref use.\r\n2. In the ts use `readonly $refs!: { div: Element };`\r\n3. In the runtime `this.div.xx` will throw error.\r\n\r\n\r\n### What is expected?\r\nThrow error in compiler-time.\r\n\r\n### What is actually happening?\r\nThrow error in runtime.\r\n\r\n---\r\nwe can use `readonly $refs!: { div: Element | undefined };` and  `this.div!.xx` .\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9856","RelatedDescription":"Open issue \"The $refs maybe undefined\" (#9856)"},{"Id":"431406685","IsPullRequest":false,"CreatedAt":"2019-04-10T10:08:15","Actor":"trenyture","Number":"9855","RawContent":null,"Title":"Make something like :class for dataset","State":"closed","Body":"### What problem does this feature solve?\r\nI am using a lot the dataset of html and I know I could use :data-something=\"value\" to bind value on the HTML element. But, as you cannot make a `for` inside the html element (for example to iterate the keys of an object and put it in datas), it could be great to use the same as `:class` to put datas in the HTML element...\r\n\r\n### What does the proposed API look like?\r\nFor example, you could do something like this : \r\n\r\n```html\r\n<div :data=\"{id: 2, userId: 5, :userName: 'John Doe', userAge: null}\">\r\n```\r\n\r\nWould render in pure HTML like this :\r\n\r\n```html\r\n<div data-id=\"2\" data-user-id=\"5\" data-user-name=\"John Doe\">\r\n```\r\n\r\nAnd so you can access this datas in the `.dataset` of JavaScript or `.data()` of jQuery.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9855","RelatedDescription":"Closed issue \"Make something like :class for dataset\" (#9855)"},{"Id":"431333313","IsPullRequest":false,"CreatedAt":"2019-04-10T07:56:41","Actor":"wendt88","Number":"9853","RawContent":null,"Title":"Vue.merge, reactive deep merge of objects","State":"closed","Body":"### What problem does this feature solve?\r\nI want to merge two or more objects like `_.merge`, `$.extend` or `Object.assign`, but I can't get the changes outside the component, becoause this methods does not call the `Vue.set`.\r\nI created a custom method like below, but it would be nice to have this feature out of the box\r\n\r\n### What does the proposed API look like?\r\n```\r\nVue.prototype.$merge = (baseValue, value) => {\r\n    // merge arrays\r\n    if (\r\n        Array.isArray(baseValue)\r\n        && Array.isArray(value)\r\n    ) {\r\n        for (let i = 0; i < value.length; i  ) {\r\n            let val = Vue.prototype.$merge(baseValue[i], value[i]);\r\n            if (val === undefined)\r\n                continue;\r\n            if (baseValue[i])\r\n                Vue.set(baseValue, i, val);\r\n            else\r\n                baseValue.push(val);\r\n        }\r\n    }\r\n    // merge objects\r\n    else if (\r\n        value\r\n        && baseValue\r\n        && typeof value === 'object'\r\n        && typeof object === 'object'\r\n    ) {\r\n        for (let key of Object.keys(value)) {\r\n            let val = Vue.prototype.$merge(baseValue[key], value[key]);\r\n            if (val === undefined)\r\n                continue;\r\n            Vue.set(baseValue, key, val);\r\n        }\r\n    }\r\n    // return value\r\n    else if (value !== undefined)\r\n        return value;\r\n    else\r\n        return baseValue;\r\n};\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9853","RelatedDescription":"Closed issue \"Vue.merge, reactive deep merge of objects\" (#9853)"},{"Id":"431341224","IsPullRequest":false,"CreatedAt":"2019-04-10T07:16:56","Actor":"terrymun","Number":"9854","RawContent":null,"Title":"Typings for $refs should also include Component | Component[]","State":"open","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/p7krpry9vm](https://codesandbox.io/s/p7krpry9vm)\r\n\r\n### Steps to reproduce\r\n1. Assign a component a `ref` attribute, say, `<my-component ref=\"myComponent\" />`\r\n2. Import the typings for component  from vue, i.e. `import { Component as VueComponent } from 'vue';` (the aliasing is needed because I am also using `vue-property-decorator`'s `Component` module, but that is not relevant to the question)\r\n3. Declare the types for `$refs` when composing a component, i.e. `public readonly $refs!: { myComponent: VueComponent }`\r\n\r\n\r\n### What is expected?\r\nI expect the `Component` type to be accepted in the `$refs` definition.\r\n\r\n### What is actually happening?\r\nI get a message that the type of `this.$refs.myComponent` is incompatible with the pre-existing type declared for `this.$refs.<key>`.\r\n\r\nHere is a screenshot of the actual error I am getting in production code:\r\n\r\n![Code_2019-04-10_09-16-25](https://user-images.githubusercontent.com/5593067/55858998-5f4fad00-5b71-11e9-9e5a-d2806b67d4ef.png)\r\n\r\n---\r\nThis issue came across because I need to access a nested element within a Vue component when writing in TypeScript. In native JS, I can simply query the DOM of the Vue component using `this.$refs.myComponent.$el.querySelector(...)` without an issue. However, in TypeScript, I get a warning because I need to pre-declare the typings for `$refs` at the top of the component, i.e.:\r\n\r\n```\r\npublic readonly $refs!: {\r\n  myComponent: VueComponent\r\n}\r\n```\r\n\r\nWhen you log `this.$refs.myComponent` when the parent/consuming component is mounted to the console, you will see that it returns a Vue component instance. This is incompatible with the pre-existing typings for `$refs`, which only allows the following types: `Vue | Element | Vue[] | Element[]`. \r\n\r\nI propose that the typings for `$refs` by extended to:\r\n\r\n```\r\n{ [key: string]: Vue | Element | Component | Vue[] | Element[] | Component[] }\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9854","RelatedDescription":"Open issue \"Typings for $refs should also include Component | Component[]\" (#9854)"},{"Id":"430452705","IsPullRequest":true,"CreatedAt":"2019-04-10T02:51:24","Actor":"vue-bot","Number":"9846","RawContent":null,"Title":"[automated] Patreon sponsors update","State":"closed","Body":"This is an automated pull request.","Url":"https://github.com/vuejs/vue/pull/9846","RelatedDescription":"Closed or merged PR \"[automated] Patreon sponsors update\" (#9846)"},{"Id":"431041408","IsPullRequest":false,"CreatedAt":"2019-04-10T01:00:20","Actor":"cameronhimself","Number":"9852","RawContent":null,"Title":"Proposal: Multiple components in .vue files","State":"closed","Body":"### What problem does this feature solve?\r\nOther frontend frameworks, notably React, make it quick and easy to create many small components in a single file. This pattern promotes code reuse, component composition, and DRYness.\r\n\r\nWhile Vue has this ability, it [feels hacky](https://codewithhugo.com/writing-multiple-vue-components-in-a-single-file/) and sacrifices much of the clarity and usability that .vue files provide.\r\n\r\nThis aim of this proposal is to define a clear and intuitive API for defining multiple components in a single .vue file.\r\n\r\n### What does the proposed API look like?\r\n#### `<component>`\r\nThe `<component>` element is the building block of multi-component .vue files. Used as a top-level tag in .vue files, it's effectively a self-contained \"single-file component\", and it can contain anything that is valid in single-file components as they're currently defined. A .vue file can contain any number of `<component>` elements. They are evaluated from top to bottomâ€”no hoisting. The element accepts two properties that control its availability to other parts of the code:\r\n\r\n- `name` (string, no default)\r\n\r\n  The name of the variable that the component is assigned to. Components defined lower in the file can reference this component by its name. Additionally, if the component is exported (see below), this is the name under which it will be exported.\r\n\r\n- `export` (boolean, default `false`)\r\n\r\n  Whether or not the component is exported. If a component is exported, but doesn't have a `name`, it will be the default export. More than one exported component without a name would create multiple default exports, and is therefore an error. All components must have either `name` or `export` or both.\r\n\r\nBy using the `<component>` element, individual .vue files gain a great deal more flexibility and power. They can compose a single exported component from many small child components, they can export many small components used throughout an application, they can export a main default component and less frequently used named components, and so on.\r\n\r\n#### Examples\r\n\r\n##### An isolated component (`Foo`) only used by another component in the same file:\r\n```vue\r\n<component name=\"Foo\">...</component>\r\n<component export>\r\n    <script>export default { components: { Foo } };</script>\r\n    <template><foo /></template>\r\n</component>\r\n```\r\n\r\n##### Named and default exports:\r\n```vue\r\n<component export name=\"Foo\">...</component>\r\n<component export name=\"Bar\">...</component>\r\n<component export>...</component>\r\n```\r\n\r\nThese would be imported in another file with `import Baz, { Foo, Bar } from './Baz.vue';`\r\n\r\n##### An illegal file due to multiple default exports\r\n```vue\r\n<component export>...</component>\r\n<component export>...</component>\r\n```\r\n\r\n##### An illegal file, because it combines the multi-component format and the single-component format\r\n```vue\r\n<component name=\"Foo\">...</component>\r\n<script>export default { components: { Foo } };</script>\r\n<template><foo /></template>\r\n```\r\n\r\n### Backwards compatibility\r\n\r\nThe addition of the `<component>` element would not be a breaking changeâ€”single-file components with no top-level `<component>` tags would continue to function exactly as they do today. As mentioned in the example above, combining the single-component format with the multi-component format is an error.\r\n\r\nA potential point of conflict is the existing `<component>` tag than can be used in templates. I don't foresee this being a problem, since the usage of `<component>` as a top-level tag in .vue files is well defined, but I can't say for sure.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9852","RelatedDescription":"Closed issue \"Proposal: Multiple components in .vue files\" (#9852)"},{"Id":"430964836","IsPullRequest":false,"CreatedAt":"2019-04-09T13:22:27","Actor":"jmdhagz","Number":"9851","RawContent":null,"Title":"Dynamic v-show","State":"closed","Body":"Hello everyone! I'm new in Vue.js. My problem is, is it possible to make v-show dynamic? I have a loop of checklist then I want to add items on it by clicking the add button that contains `v-show=\"newChecklistItemHidden\"` and the hidden is `v-show=\"!newChecklistItemHidden\"` but it will display all hidden checklist. I just want to trigger only the selected checklist then the rest will remain hidden. ","Url":"https://github.com/vuejs/vue/issues/9851","RelatedDescription":"Closed issue \"Dynamic v-show\" (#9851)"},{"Id":"430937356","IsPullRequest":false,"CreatedAt":"2019-04-09T12:42:18","Actor":"shoung6","Number":"9850","RawContent":null,"Title":"@keydown.enteråœ¨ä¸­æ–‡è¾“å…¥æ³•è¾“å…¥å­—æ¯å‡ºç°å€™é€‰å­—æ—¶æŒ‰enteré”®ä¼šè§¦å‘keydownäº‹ä»¶ï¼ŒåŸç”Ÿçš„.onkeydownæ­¤æ—¶å¹¶ä¸ä¼šè§¦å‘","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/c6gufhno/](https://jsfiddle.net/c6gufhno/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1.å…‰æ ‡èšç„¦åœ¨input1é‡Œï¼Œç¡®ä¿åˆ‡æ¢åˆ°ä¸­æ–‡è¾“å…¥æ³•ï¼Œéšä¾¿è¾“å…¥å‡ ä¸ªå­—æ¯å‡ºç°ä¸­æ–‡å€™é€‰å­—ã€‚æ­¤æ—¶æŒ‰enteré”®æŠŠå­—æ¯ç›´æ¥è¾“å…¥è¡¨å•ï¼Œä¼šè§¦å‘ç»‘å®šçš„keydownäº‹ä»¶\r\n2.åŒæ ·æ­¥éª¤åœ¨input2é‡Œï¼Œä¸ä¼šè§¦å‘keydownäº‹ä»¶\r\n\r\n### What is expected?\r\nç”¨vueçš„@keydown.enterè¡¨ç°ä¸åŸç”Ÿçš„ç»‘å®šäº‹ä»¶æ–¹å¼çš„è¡¨ç°ä¸€è‡´\r\n\r\n### What is actually happening?\r\nä¸ä¸€è‡´\r\n\r\n---\r\nvue2.5.13å¹¶ä¸ä¼šå‡ºç°è¿™ä¸ªæƒ…å†µã€‚\r\nä¸šåŠ¡åœºæ™¯ï¼šè¡¨å•æœ‰æŒ‰enteré”®æäº¤çš„åŠŸèƒ½ã€‚å¦‚æœåœ¨ä¸­æ–‡è¾“å…¥æ³•ä¸‹è¾“å…¥äº†å­—æ¯ï¼Œç„¶åæƒ³ç”¨enteré”®æŠŠå­—æ¯è¾“å…¥åˆ°è¡¨å•é‡Œï¼Œå°±ä¼šå‡ºç°ç›´æ¥æäº¤è¡¨å•çš„æƒ…å†µã€‚ç”¨æˆ·å®é™…åªæ˜¯æƒ³æŠŠå­—æ¯è¾“å…¥åˆ°è¡¨å•é‡Œï¼Œå¹¶ä¸æƒ³æäº¤è¡¨å•ã€‚\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9850","RelatedDescription":"Closed issue \"@keydown.enteråœ¨ä¸­æ–‡è¾“å…¥æ³•è¾“å…¥å­—æ¯å‡ºç°å€™é€‰å­—æ—¶æŒ‰enteré”®ä¼šè§¦å‘keydownäº‹ä»¶ï¼ŒåŸç”Ÿçš„.onkeydownæ­¤æ—¶å¹¶ä¸ä¼šè§¦å‘\" (#9850)"},{"Id":"430822104","IsPullRequest":false,"CreatedAt":"2019-04-09T08:23:28","Actor":"patriciussanctus","Number":"9849","RawContent":null,"Title":"template compiler ignores pug whitespace control?","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/825v44246j](https://codesandbox.io/s/825v44246j)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\ni want in markup ```<span>1</span> <span>2</span>``` in pug\r\n\r\n### What is expected?\r\nexpected whitespaces appear in DOM\r\n\r\n### What is actually happening?\r\nmy markup sticks together\r\n\r\n---\r\ncompiler ignores pug recommended solutions of whitespace control https://pugjs.org/language/plain-text.html#whitespace-control\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9849","RelatedDescription":"Closed issue \"template compiler ignores pug whitespace control?\" (#9849)"},{"Id":"430582967","IsPullRequest":true,"CreatedAt":"2019-04-08T18:06:48","Actor":"DaKoala","Number":"9848","RawContent":null,"Title":"docs(contributing): add instruction to install yarn","State":"closed","Body":"**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [x] Other, please describe: Document\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\nSome contributors new to this project do not have `yarn` on their machines. The contributing document may confuse them when they install dependencies, so I add the instruction on how to install `yarn` if they only have `npm` installed on their machines.","Url":"https://github.com/vuejs/vue/pull/9848","RelatedDescription":"Closed or merged PR \"docs(contributing): add instruction to install yarn\" (#9848)"},{"Id":"430551595","IsPullRequest":false,"CreatedAt":"2019-04-08T16:44:29","Actor":"maoberlehner","Number":"9847","RawContent":null,"Title":"[template-renderer] Make it possible to not automatically render used async scripts","State":"open","Body":"### What problem does this feature solve?\r\nIn oder to make https://github.com/maoberlehner/vue-lazy-hydration more useful it would be great if we could prevent the template renderer from automatically injecting async scripts. The way vue-lazy-hydration works is, that it behaves differently on the server than it does on the client. On the server the script (of an async component) is loaded immediately so the template renderer correctly detects that it is used. But on the client the script might not be needed at all but because the template renderer has already injected it it is immediately loaded on page load.\r\n\r\nThere is currently kind of a backlash against loading huge amounts of JavaScript. vue-lazy-hydration can help with removing a lot of unnecessary JavaScript on server side rendered, mostly static sites like blogs and documentation. But currently it can't completely prevent loading all of the unnecessary JavaScript because of the way how template renderer works.\r\n\r\nHere is the relevant line in the code: https://github.com/vuejs/vue/blob/dev/src/server/template-renderer/index.js#L226\r\n\r\n### What does the proposed API look like?\r\nI propose to make this configurable:\r\n\r\n```js\r\nconst renderer = createBundleRenderer(serverBundle, {\r\n  template,\r\n  renderUsedAsyncScripts: false,\r\n});\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9847","RelatedDescription":"Open issue \"[template-renderer] Make it possible to not automatically render used async scripts\" (#9847)"},{"Id":"430444649","IsPullRequest":true,"CreatedAt":"2019-04-08T13:15:00","Actor":"vue-bot","Number":"9845","RawContent":null,"Title":"[automated] Patreon sponsors update","State":"closed","Body":"This is an automated pull request.","Url":"https://github.com/vuejs/vue/pull/9845","RelatedDescription":"Closed or merged PR \"[automated] Patreon sponsors update\" (#9845)"},{"Id":"430192302","IsPullRequest":false,"CreatedAt":"2019-04-07T21:54:36","Actor":"halfpastfive","Number":"9844","RawContent":null,"Title":"assetsPath config option ignored when building with --watch ","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://github.com/halfpastfive/assetspath](https://github.com/halfpastfive/assetspath)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nin the example project, outputDir and assetsDir are defined in vue.config.js\r\n\r\n1. build the project with `npm run build` and browse the `web` directory:  js files are copied in the `assets/` subdirectory\r\n\r\n2. build the project with `npm run watch` (which is only an alias for `vue-cli-service build --watch` in the package.json)  and browse the `web` directory: js files are copied at the root of the directory, ignoring the `assetsPath` option of the vue.config.js \r\n\r\n### What is expected?\r\nassets are copied in the directory defined by the `assetsPath` option from the vue.config.js file\r\n\r\n### What is actually happening?\r\nassets are copied in the directory defined by the outputPath directory, ignoring the `assetsPath` option\r\n\r\n---\r\nIn my real-world use case, the html files are templates for a server-side application. In this application, assets need to be in a subfolder in order to be considered as assets by our server. \r\n\r\nWithout it, I need to build for production, making debugging more difficult.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9844","RelatedDescription":"Closed issue \"assetsPath config option ignored when building with --watch \" (#9844)"},{"Id":"430166253","IsPullRequest":false,"CreatedAt":"2019-04-07T18:15:51","Actor":"johannes-z","Number":"9843","RawContent":null,"Title":"Passed attributes without a value should have undefined value in $attrs","State":"closed","Body":"### What problem does this feature solve?\r\nRight now, Vue `$attrs` does not differentiate if you pass an attribute with a value or without. For example all of these three options `<some-component checked checked=\"\" :checked=\"''\"/>` provide the same `$attrs` object: `{ \"checked\": \"\" }`. This makes it impossible for higher order components to differentiate between an attribute that's supposed to have a value, and an attribute that simple acts like a switch (e.g. disabled or checked). \r\n\r\nSee the repro: https://codesandbox.io/s/130p8ry4nj\r\n\r\n### What does the proposed API look like?\r\nInstead of assigning a default value, `\"\"` to it, the value should simply be `undefined` (`null` wouldn't work, since non-required props can be passed `null` to).\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->\r\n\r\nEdit: I know that per definition there is no way of determining if an attribute is a boolean attribute or not.  Maybe this would have to be done by the vue compiler?","Url":"https://github.com/vuejs/vue/issues/9843","RelatedDescription":"Closed issue \"Passed attributes without a value should have undefined value in $attrs\" (#9843)"},{"Id":"430147996","IsPullRequest":false,"CreatedAt":"2019-04-07T13:50:03","Actor":"Aaron-Bird","Number":"9842","RawContent":null,"Title":"Memory leak when using \"transition\" and \"keep-alive\"","State":"open","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://codepen.io/aaronbird/pen/JVRKwa](https://codepen.io/aaronbird/pen/JVRKwa)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nI wrote a demo:  \r\n```html\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"UTF-8\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\r\n    <title>demo</title>\r\n    <style>\r\n      .link {\r\n        cursor: pointer;\r\n        user-select: none;\r\n      }\r\n    </style>\r\n  </head>\r\n  <body>\r\n    <script src=\"https://unpkg.com/vue/dist/vue.js\"></script>\r\n\r\n    <div id=\"app\">\r\n      <transition>\r\n        <keep-alive include=\"foo\">\r\n          <component :is=\"target\" @change=\"onChange\"></component>\r\n        </keep-alive>\r\n      </transition>\r\n    </div>\r\n    <script>\r\n      const Foo = {\r\n        name: \"foo\",\r\n        template: `<div class=\"link\" @click=\"$emit('change', 'bar')\">Go to Bar</div>`\r\n      };\r\n      const Bar = {\r\n        name: \"bar\",\r\n        template: `<div class=\"link\" @click=\"$emit('change', 'foo')\">Go to Foo</div>`\r\n      };\r\n      Vue.component(\"foo\", Foo);\r\n      Vue.component(\"bar\", Bar);\r\n      const app = new Vue({\r\n        data: {\r\n          target: \"foo\"\r\n        },\r\n        methods: {\r\n          onChange(target) {\r\n            this.target = target;\r\n          }\r\n        }\r\n      }).$mount(\"#app\");\r\n    </script>\r\n  </body>\r\n</html>\r\n```\r\n\r\nThe debugging process is as follows:  \r\n1 Click \"Collect garbage\" and \"Take heap snapshot\"(snapshot 1)  \r\n2 Click the routing button on the left 10 times, then click \"Collect garbage\" and \"Take heap snapshot\"(snapshot 2)   \r\n3 Click the routing button on the left 10 times, then click \"Collect garbage\" and \"Take heap snapshot\"(snapshot 3)   \r\n![](https://i.imgur.com/FCe40P6.gif)  \r\n\r\nThe generated \"snapshot\" is as follows:\r\n\r\nsnapshot 1:\r\n![](https://i.imgur.com/S49oSJo.png)  \r\nsnapshot 2:\r\n![](https://i.imgur.com/X1bbOgU.png)  \r\nsnapshot 3:\r\n![](https://i.imgur.com/lLD8z7Y.png)\r\nAfter clicking 100 times:  \r\n![](https://i.imgur.com/E0bjppJ.png)  \r\n\r\nVueComponent is not being recycled, is this a bug?  \r\n\r\n### What is expected?\r\nWhy is this happening, is this a bug?\r\n\r\n### What is actually happening?\r\nComponent will not be cleared when switching components.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9842","RelatedDescription":"Open issue \"Memory leak when using \"transition\" and \"keep-alive\"\" (#9842)"},{"Id":"430146782","IsPullRequest":false,"CreatedAt":"2019-04-07T13:37:57","Actor":"adityaraval","Number":"9841","RawContent":null,"Title":"Style not getting updated after computed property is called next time","State":"closed","Body":"We want the background-image of a cover to be updated after an api call.\r\n\r\nBelow is the code for template :\r\n\r\n`<div class=\"hero-image\" v-bind:style=\"{ 'background-image': 'url(' + getPhotoUrl + ')' }\">\r\n      <div class=\"trailer\" v-if=\"movie.TrailerLink\">\r\n        <a href>\r\n          <img src=\"static/images/trailer-btn.png\" alt>\r\n        </a>\r\n      </div>\r\n      <div class=\"image-overlay\"></div>\r\n    </div>`\r\n\r\nBelow is the code for computed api and computed :\r\n\r\n```<script>\r\nimport instance from \"../../api/axios-config\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"Details\",\r\n  data() {\r\n    return {\r\n      imageUrl: null,\r\n      movie: {\r\n        PeopleInMovies: []\r\n      },\r\n      index: 0,\r\n      selected: {}\r\n    };\r\n  },\r\n\r\n  computed: { \r\n    getPhotoUrl() {\r\n        let result = this.movie && this.movie.Photos ? this.GOOGLE_BUCKET_ENDPOINT + this.movie.Photos[0] : '';\r\n        return result\r\n    }\r\n  },\r\n\r\n  created() {\r\n    instance\r\n      .get(\"api/getmovie/?movieId=\" + this.$route.params.id)\r\n      .then(movie => {\r\n        this.movie = movie.data;\r\n      });\r\n  }\r\n};\r\n<script>````\r\n\r\nEven computed is called after api call but the result is not getting reflected in dom and background-image isn't set.","Url":"https://github.com/vuejs/vue/issues/9841","RelatedDescription":"Closed issue \"Style not getting updated after computed property is called next time\" (#9841)"},{"Id":"430142283","IsPullRequest":false,"CreatedAt":"2019-04-07T12:50:20","Actor":"Aaron-Bird","Number":"9840","RawContent":null,"Title":"Memory leak when using \"transition\" and \"keep-alive\"","State":"closed","Body":"Why are some \"Vue Component\" not cleared when using \"transition\" and \"keep-alive\"?\r\n\r\nI wrote a demo:\r\n```html\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"UTF-8\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\r\n    <title>demo</title>\r\n  </head>\r\n  <body>\r\n    <script src=\"https://unpkg.com/vue/dist/vue.js\"></script>\r\n    <script src=\"https://unpkg.com/vue-router/dist/vue-router.js\"></script>\r\n\r\n    <div id=\"app\">\r\n      <transition>\r\n        <keep-alive include=\"foo\">\r\n          <router-view></router-view>\r\n        </keep-alive>\r\n      </transition>\r\n    </div>\r\n    <script>\r\n      const Foo = {\r\n        name: \"foo\",\r\n        template: `<div><router-link to=\"/bar\">Go to Bar</router-link></div>`\r\n      };\r\n      const Bar = {\r\n        name: \"bar\",\r\n        template: `<div><router-link to=\"/foo\">Go to Foo</router-link></div>`\r\n      };\r\n      const routes = [\r\n        { path: \"/foo\", component: Foo, alias: \"/\" },\r\n        { path: \"/bar\", component: Bar }\r\n      ];\r\n      const router = new VueRouter({\r\n        routes\r\n      });\r\n      const app = new Vue({\r\n        router\r\n      }).$mount(\"#app\");\r\n    </script>\r\n  </body>\r\n</html>\r\n```\r\nThe debugging process is as follows:  \r\n1 Click \"Collect garbage\" and \"take heap snapshot\"(snapshot 1)  \r\n2 Click the routing button on the left 10 times, then click \"Collect garbage\" and \"take heap snapshot\"(snapshot 2)  \r\n3 Click the routing button on the left 10 times, then click \"Collect garbage\" and \"take heap snapshot\"(snapshot 3)  \r\n![](https://i.imgur.com/Kk8LhAK.gif)  \r\n\r\nThe generated \"snapshot\" is as follows:\r\n\r\nsnapshot 1:\r\n![](https://i.imgur.com/9iO7gqD.png)  \r\nsnapshot 2:\r\n![](https://i.imgur.com/CvkAGS6.png)  \r\nsnapshot 3:\r\n![](https://i.imgur.com/HURrvNz.png)  \r\n\r\nVueComponent is not being recycled, is this a bug?","Url":"https://github.com/vuejs/vue/issues/9840","RelatedDescription":"Closed issue \"Memory leak when using \"transition\" and \"keep-alive\"\" (#9840)"},{"Id":"430051629","IsPullRequest":false,"CreatedAt":"2019-04-07T12:28:28","Actor":"d-ph","Number":"9838","RawContent":null,"Title":"$watch an Object using strict equality","State":"closed","Body":"### What problem does this feature solve?\r\nHi,\r\n\r\nI'd like to request a new option to the $watch() function that, in case of watching an instance of an Object or an Array, would make the watch callback be called only when the old instance is strictly unequal the new instance. This would offer an alternative to the current behaviour of always calling the watch callback when watching a non-primitive variable ([as per the following comment](https://github.com/vuejs/vue/blob/4f111f9225f938f7a2456d341626dbdfd210ff0c/src/core/observer/watcher.js#L184)).\r\n\r\nThe new option might be called something like: `strictObjectComparison: boolean;`.\r\n\r\nThe use case is a situation when a dev knows exactly what they're doing (i.e. watching an instance of a value object) and they want their watch callbacks to be called only if the instance changes.\r\n\r\nThis is somewhat related to this bug report: #6616. By adding the requested feature, the problem wouldn't occur. Frankly, I'm also affected by this idiosyncrasy of the framework and would really appreciate if I could just tell the framework that I know what I'm doing and that I'd like the watched Object to be compared strictly (i.e. with `===`) and nothing more.\r\n\r\nThank you.\r\n\r\n### What does the proposed API look like?\r\n```javascript\r\nclass Person {\r\n  constructor(name) {\r\n    this.name = name;\r\n  }\r\n}\r\n\r\nconst vm = new Vue({\r\n  data: {\r\n    people: [\r\n      new Person('Phil'),\r\n      new Person('Rob'),\r\n      new Person('Tom'),\r\n    ],\r\n    selectedPerson: null,\r\n  }\r\n});\r\n\r\nvm.$watch(\r\n  'selectedPerson', \r\n  () => { console.log(vm.selectedPerson); }, \r\n  { strictObjectCompare: true }\r\n);\r\n\r\n// should trigger the watch callback\r\nvm.selectedPerson = vm.people[0];\r\n\r\n// should not trigger the watch callback\r\nvm.selectedPerson = vm.people[0];\r\n\r\n// should trigger the watch callback\r\nvm.selectedPerson = vm.people[1];\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9838","RelatedDescription":"Closed issue \"$watch an Object using strict equality\" (#9838)"},{"Id":"430049178","IsPullRequest":false,"CreatedAt":"2019-04-07T11:08:56","Actor":"d-ph","Number":"9837","RawContent":null,"Title":"Shallow $watch()","State":"closed","Body":"### What problem does this feature solve?\r\nHi,\r\n\r\nI'd like to request a new option for the $watch() function: `shallow: boolean;`. This option would make watch callback function fire only if any of the first level values in an Array (a tuple) or on Object change. This would offer an alternative to the current behaviour of always calling the watch callback when watching a non-primitive variable (as per [the following comment](https://github.com/vuejs/vue/blob/4f111f9225f938f7a2456d341626dbdfd210ff0c/src/core/observer/watcher.js#L184)). It would also be a natural expansion of the `deep: boolean;` option.\r\n\r\nMoreover, the first level properties of the watched Arrays and Objects would _always_ be compared used strict equality comparison `===`, regardless of whether they are primitive values or Arrays/Objects. This is so that the same instances of a class would not trigger the watch callback, as nothing has changed (the use case is: observing an immutable value object).\r\n\r\nUse case 1: Watching a tuple, aka. watching many variables and having a single callback when any of the variables change. With the `shallow: true` option, it would be a very clean solution to current necessity of having to hash the tuple somehow (the easiest way is to `.join(',')` the tuple to produce a string, but not all tuples are made of primitive values, so that's not always this easy). Two tuples should evaluate equal, when all indexes of the old tuple are set to the same values in the new tuple, under the same indexes. It'd be a simple for-each loop that short-circuits on the first inequality in the old and the new tuple.\r\n\r\nUse case 2: Watching all keys in an Object. This is a very common use case and using `deep: true` for it is very often not ideal (especially, if the values in the watched Object are also Objects). As in use case 1, here the old and the new Objects would evaluate unequal (and therefore trigger the watch callback), when any of the keys in the old Object doesn't strict-equal the same key in the new Object. Also, if keys are missing or there are extra keys in the new Object, this should also be treated as a change and therefore trigger the watch callback. A common context for this use case is when the watched Object is a hashmap behaving as a \"form\", whose keys are form keys and values are either primitive variables or value objects. Watching such a hashmap with the proposed `shallow: true` option would be _a massive_ convenience (e.g. to run validation on every change in the form and enable/disable the submit button).\r\n\r\nIn angular 1, this feature is called [$watchCollection](https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$watchCollection).\r\n\r\nThank you.\r\n\r\n### What does the proposed API look like?\r\n```javascript\r\nclass Person {\r\n  constructor(name) {\r\n    this.name = name;\r\n  }\r\n}\r\n\r\nconst vm = new Vue({\r\n  data: {\r\n    dataHashmap: {\r\n      bartender: new Person('Phil'),\r\n      bouncer: new Person('Rob'),\r\n      janitor: new Person('Tom'),\r\n    }\r\n  }\r\n});\r\n\r\nvm.$watch(\r\n  'dataHashmap', \r\n  () => { console.log(vm.dataHashmap); }, \r\n  { shallow: true }\r\n);\r\n\r\nvm.$watch(\r\n  (vm) => { return [vm.dataHashmap.bartender, vm.dataHashmap.janitor]; }, \r\n  () => { console.log(vm.dataHashmap); }, \r\n  { shallow: true }\r\n);\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9837","RelatedDescription":"Closed issue \"Shallow $watch()\" (#9837)"},{"Id":"430075495","IsPullRequest":false,"CreatedAt":"2019-04-06T21:39:25","Actor":"fancydev18","Number":"9839","RawContent":null,"Title":"Please support \"productionTip\" in vue.config.js too","State":"closed","Body":"### What problem does this feature solve?\r\n Please support \"productionTip\" in vue.config.js too. Now it gives:\r\n\r\n ERROR  Invalid options in vue.config.js: \"productionTip\" is not allowed\r\n\r\nRelated issue: https://github.com/vuejs/vue/issues/7562\r\n\r\n### What does the proposed API look like?\r\nvue.config.js new property\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9839","RelatedDescription":"Closed issue \"Please support \"productionTip\" in vue.config.js too\" (#9839)"},{"Id":"430018175","IsPullRequest":false,"CreatedAt":"2019-04-06T12:39:43","Actor":"rightaway","Number":"9836","RawContent":null,"Title":"document.activeElement is wrong","State":"closed","Body":"### Version\r\n2.6.0\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/ktsLp3n0/](https://jsfiddle.net/ktsLp3n0/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nGo to the fiddle and open the console, and click between the form inputs and the page body.\r\n\r\n### What is expected?\r\nAnytime the blur event happens the console will show which element is active by printing `A` or `B` for the two form fields or `nothing` when the page body is active. The fiddle shows correct behavior because it's using Vue 2.5.22\r\n\r\n### What is actually happening?\r\nChange 2.5.22 to 2.6.0 in the `script` tag and you'll see the console always prints `nothing` which is incorrect.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9836","RelatedDescription":"Closed issue \"document.activeElement is wrong\" (#9836)"},{"Id":"429996573","IsPullRequest":false,"CreatedAt":"2019-04-06T04:39:56","Actor":"unickhow","Number":"9835","RawContent":null,"Title":"Is any possible to add mounted access in beforeMount ?","State":"closed","Body":"### What problem does this feature solve?\r\nI fetch api mostly in 'created' hook, but sometimes it took times while the DOM has already rendered, therefore I have to set a boolean data to determine whether the promise done (and v-if on the DOM ofc), so I wonder is there any way like vue router doning the beforeEach method, I have to next() once I set the beforeEach, otherwise I can't enter the router, just curious is there any concern or side effect this way ?\r\n\r\n### What does the proposed API look like?\r\nwithout beforeMount: \r\ncreated (fetch api) => mounted (no matter if the api done)\r\n\r\nwith beforeMount: \r\ncreated (do something else but fetch api) => beforeMount (fetch api and then call a function something like next()) => mounted (start render DOM after the promise done)\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9835","RelatedDescription":"Closed issue \"Is any possible to add mounted access in beforeMount ?\" (#9835)"}],"ResultType":"GitHubIssue"},"Router-Issues":{"Issues":[{"Id":"431989120","IsPullRequest":false,"CreatedAt":"2019-04-11T12:15:57","Actor":"frlinw","Number":"2707","RawContent":null,"Title":"router-link-active class is removed if the route is not exact","State":"closed","Body":"### Version\r\n3.0.3\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/embed/zrjv12l0rp](https://codesandbox.io/embed/zrjv12l0rp)\r\n\r\n### Steps to reproduce\r\n- Click on Home\r\n- Click on Nested 2\r\n\r\n### What is expected?\r\nHome should have `router-link-active` class\r\n\r\n### What is actually happening?\r\n`router-link-active` is removed from Home on route change\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2707","RelatedDescription":"Closed issue \"router-link-active class is removed if the route is not exact\" (#2707)"},{"Id":"431733330","IsPullRequest":true,"CreatedAt":"2019-04-11T11:19:08","Actor":"719media","Number":"2704","RawContent":null,"Title":"Update route.js","State":"closed","Body":"Use a more accurate START path to prevent routing problems when using router.push before vue-router has fully resolved the initially loaded path\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/2704","RelatedDescription":"Closed or merged PR \"Update route.js\" (#2704)"},{"Id":"431732918","IsPullRequest":false,"CreatedAt":"2019-04-11T11:18:51","Actor":"719media","Number":"2703","RawContent":null,"Title":"vue-router current path invalid for a short time when loading async component","State":"closed","Body":"### Version\r\n3.0.3\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/y32jkmjr7v](https://codesandbox.io/s/y32jkmjr7v)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nUsing vue and vue-router, create a route that requires a component (componentAsync) that is async loaded from the main component (componentApp).\r\n\r\nDo something that uses router.push or router.go inside of `mounted()` of the componentApp without a path or name.\r\nFor example, `router.push({query: { test: 'foo' }})`\r\n\r\nThe redirected route will just use path: '/' instead of the actual path you used to initially hit the page.\r\n\r\nFor example, if you hit `domain.com/about`, you will wind up at `domain.com/?test=foo`, instead of `domain.com/about?test=foo`\r\n\r\n### What is expected?\r\nvue-router would use the current window location\r\n\r\n### What is actually happening?\r\nvue-router is using /\r\n\r\n---\r\nThis is because the async component makes the confirmTransaction callback take longer than the mounted() call to router.push, so the route inside router is still the one with the wrong path.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2703","RelatedDescription":"Closed issue \"vue-router current path invalid for a short time when loading async component\" (#2703)"},{"Id":"431940959","IsPullRequest":true,"CreatedAt":"2019-04-11T10:11:43","Actor":"posva","Number":"2706","RawContent":null,"Title":"fix(router): prevent memory leaks by removing app references","State":"open","Body":"Fix #2639\r\n\r\nHey, @tmorehouse, I refactored the tests and reverted the code added to the if because I couldn't see why we would override the main app. Could you take a look please?\r\n","Url":"https://github.com/vuejs/vue-router/pull/2706","RelatedDescription":"Open PR \"fix(router): prevent memory leaks by removing app references\" (#2706)"},{"Id":"431772902","IsPullRequest":true,"CreatedAt":"2019-04-11T01:49:13","Actor":"zigomir","Number":"2705","RawContent":null,"Title":"feat(esm build): build ES modules for browser","State":"closed","Body":"fixes https://github.com/vuejs/vue-router/issues/2589\r\nReviving https://github.com/vuejs/vue-router/pull/2590 (I deleted fork already)\r\n\r\nFor build size references:\r\n\r\nOld build output\r\n\r\n```\r\nCircular dependency: src/util/push-state.js -> src/util/scroll.js -> src/util/push-state.js\r\ndist/vue-router.js 64.41kb\r\nCircular dependency: src/util/push-state.js -> src/util/scroll.js -> src/util/push-state.js\r\ndist/vue-router.min.js 23.74kb (gzipped: 8.36kb)\r\nCircular dependency: src/util/push-state.js -> src/util/scroll.js -> src/util/push-state.js\r\ndist/vue-router.common.js 64.76kb\r\nCircular dependency: src/util/push-state.js -> src/util/scroll.js -> src/util/push-state.js\r\ndist/vue-router.esm.js 64.74kb\r\n```\r\n\r\nvs \r\n\r\nnew build output\r\n\r\n```sh\r\nCircular dependency: src/util/push-state.js -> src/util/scroll.js -> src/util/push-state.js\r\ndist/vue-router.js 64.41kb\r\nCircular dependency: src/util/push-state.js -> src/util/scroll.js -> src/util/push-state.js\r\ndist/vue-router.min.js 23.81kb (gzipped: 8.37kb)\r\nCircular dependency: src/util/push-state.js -> src/util/scroll.js -> src/util/push-state.js\r\ndist/vue-router.common.js 64.76kb\r\nCircular dependency: src/util/push-state.js -> src/util/scroll.js -> src/util/push-state.js\r\ndist/vue-router.esm.js 64.74kb\r\nCircular dependency: src/util/push-state.js -> src/util/scroll.js -> src/util/push-state.js\r\ndist/vue-router.esm.browser.js 60.45kb\r\nCircular dependency: src/util/push-state.js -> src/util/scroll.js -> src/util/push-state.js\r\ndist/vue-router.esm.browser.min.js 21.96kb (gzipped: 8.12kb)\r\n```","Url":"https://github.com/vuejs/vue-router/pull/2705","RelatedDescription":"Closed or merged PR \"feat(esm build): build ES modules for browser\" (#2705)"},{"Id":"431299229","IsPullRequest":false,"CreatedAt":"2019-04-10T08:45:44","Actor":"afabros","Number":"2701","RawContent":null,"Title":"Array from query","State":"closed","Body":"### Version\r\n3.0.3\r\n\r\n### Reproduction link\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nhttps//www.websitename.com?x%5B%5D=1&x%5B%5D=2\r\n\r\n\r\n\r\n### What is expected?\r\nthis.$route.query.x[]\r\nshould return an array.\r\n\r\n### What is actually happening?\r\ncorrectly inspected by browser:  \u2028x[]: Array[2]\u20280: â€œ1â€\u20281: â€œ2â€\r\nbut when getting this array,\u2028this line is not compiled:\u2028this.$route.query.x[]\r\nERROR: Unexpected token \r\n\r\n---\r\nIs it possible to get array from this.$route.query\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2701","RelatedDescription":"Closed issue \"Array from query\" (#2701)"},{"Id":"431335116","IsPullRequest":false,"CreatedAt":"2019-04-10T08:40:03","Actor":"Pinegin","Number":"2702","RawContent":null,"Title":"Strange behavior @click.stop","State":"closed","Body":"### Version\r\n3.0.3\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/rmy08k3u/1/](https://jsfiddle.net/rmy08k3u/1/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nGood day.\r\n\r\nFaced a problem, can anyone be able to help.\r\n\r\nWhen placing a block in the router-link with the attribute @click.prevent.stop, clicking on the block does not make the transition. But placed in the input-checkbox block does not work.\r\n\r\nWhen placing a block in the router-link with the @click.stop attribute, clicking on the block makes the transition. And located in the input-checkbox block, it works.\r\n\r\n### What is expected?\r\nWhen placing a block in a router-link with the @click.stop attribute, a click on the block should not make a transition, and placed in the input-checkbox block should work.\r\n\r\n### What is actually happening?\r\nWhen placing a block in the router-link with the @click.stop attribute, clicking on the block makes the transition. And located in the input-checkbox block, it works.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2702","RelatedDescription":"Closed issue \"Strange behavior @click.stop\" (#2702)"},{"Id":"431293896","IsPullRequest":false,"CreatedAt":"2019-04-10T04:03:35","Actor":"afabros","Number":"2700","RawContent":null,"Title":"test","State":"closed","Body":"","Url":"https://github.com/vuejs/vue-router/issues/2700","RelatedDescription":"Closed issue \"test\" (#2700)"},{"Id":"431236328","IsPullRequest":false,"CreatedAt":"2019-04-09T23:18:16","Actor":"JivanRoquet","Number":"2699","RawContent":null,"Title":"[Docs/Examples] Fetch-Before-Navigation example when using Vuex","State":"open","Body":"### Version\r\n3.0.3\r\n\r\n### Reproduction link\r\n[https://router.vuejs.org/guide/advanced/data-fetching.html#fetching-before-navigation](https://router.vuejs.org/guide/advanced/data-fetching.html#fetching-before-navigation)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n- visit https://router.vuejs.org/guide/advanced/data-fetching.html#fetching-before-navigation\r\n- reproduce the example shown\r\n- try to adapt them to a component having its state managed by Vuex (and accessing it through `mapState`)\r\n- observe that adapting these examples is not a trivial matter\r\n- in particular, naive adaptations tend to result in a situation where the component gets disconnected from the state after going through the `beforeRouteUpdate()` hook.\r\n\r\n### What is expected?\r\nSeeing examples with both internally-managed state (via component's `data` attribute) and Vuex-managed state (via store)\r\n\r\n### What is actually happening?\r\nOnly examples with internally-managed state appear\r\n\r\n---\r\n\r\nThe examples provided in the fetch-before-navigation section focus exclusively on using the component's own `data` attribute\r\n\r\nA quite standard way of fetching data before navigation while using Vuex-managed components probably exists out there, and it would probably be a useful addition to mention it in the examples provided.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2699","RelatedDescription":"Open issue \"[Docs/Examples] Fetch-Before-Navigation example when using Vuex\" (#2699)"},{"Id":"431036144","IsPullRequest":false,"CreatedAt":"2019-04-09T15:35:33","Actor":"leonel1524","Number":"2698","RawContent":null,"Title":"Is it possible to create a parameter with a default value in the route definition?","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vue-router\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\nI need to access a dynamic route with parameters but in case the parameter is not sent dynamically, assign a default value\r\nI have this path: 'my-path/:param'\r\nI would like to assign a default value to :param for example zero\r\n","Url":"https://github.com/vuejs/vue-router/issues/2698","RelatedDescription":"Closed issue \"Is it possible to create a parameter with a default value in the route definition?\" (#2698)"},{"Id":"430730366","IsPullRequest":false,"CreatedAt":"2019-04-09T07:25:34","Actor":"pot-code","Number":"2697","RawContent":null,"Title":"[Docs/zh] å¯¼èˆªå®ˆå«è§£ææµç¨‹çš„è¯­ä¹‰æè¿°é—®é¢˜","State":"closed","Body":"### Version\r\n3.0.3\r\n\r\n### Reproduction link\r\n[https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E5%AE%8C%E6%95%B4%E7%9A%84%E5%AF%BC%E8%88%AA%E8%A7%A3%E6%9E%90%E6%B5%81%E7%A8%8B](https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E5%AE%8C%E6%95%B4%E7%9A%84%E5%AF%BC%E8%88%AA%E8%A7%A3%E6%9E%90%E6%B5%81%E7%A8%8B)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nNone\r\n\r\n### What is expected?\r\n12. è°ƒç”¨ beforeRouteEnter å®ˆå«ä¸­ä¼ ç»™ next çš„å›è°ƒå‡½æ•°ï¼Œç”¨åˆ›å»ºå¥½çš„ç»„ä»¶å®ä¾‹ä½œä¸ºå›è°ƒå‡½æ•°çš„å‚æ•°ä¼ å…¥\r\n\r\n### What is actually happening?\r\n12. ç”¨åˆ›å»ºå¥½çš„å®ä¾‹è°ƒç”¨ beforeRouteEnter å®ˆå«ä¸­ä¼ ç»™ next çš„å›è°ƒå‡½æ•°ã€‚\r\n\r\n\r\n---\r\nè¿™é‡Œçš„â€œç”¨åˆ›å»ºå¥½çš„å®ä¾‹â€ï¼Œæ˜¯ä¸ªå¾ˆæœ‰æ­§ä¹‰çš„æè¿°ï¼Œæ˜¯åˆ›å»ºå¥½çš„ç»„ä»¶å®ä¾‹ï¼Œè¿˜æ˜¯è·¯ç”±å®ä¾‹ï¼Ÿ\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2697","RelatedDescription":"Closed issue \"[Docs/zh] å¯¼èˆªå®ˆå«è§£ææµç¨‹çš„è¯­ä¹‰æè¿°é—®é¢˜\" (#2697)"},{"Id":"430278102","IsPullRequest":false,"CreatedAt":"2019-04-08T07:10:27","Actor":"ademyalcin27","Number":"2696","RawContent":null,"Title":"I cant use ':,;' this characters","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n\r\n### Steps to reproduce\r\nI want to use ';:' characters in my URL but it's updating after the query  push URL;\r\nis there any way how to fix it ?\r\n\r\n\r\n\r\n### What is expected?\r\nhttp://localhost:8080/balbal?checkin=2019-04-24&checkout=2019-04-30&pax=2&filters=konaklama_tipi:ultra-hersey-dahil,kahvalti-ingiliz-tarz;tesis_tipi:su-parki\r\n\r\n\r\n### What is actually happening?\r\nhttp://localhost:8080/antalya-bolge-kemer-otelleri?checkin=2019-04-24&checkout=2019-04-30&pax=2&filters=konaklama_tipi%3Aultra-hersey-dahil,kahvalti-ingiliz-tarzi%3Btesis_tipi%3Asu-parki\r\n\r\n\r\nis there any way how to fix it ?\r\n\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2696","RelatedDescription":"Closed issue \"I cant use ':,;' this characters\" (#2696)"},{"Id":"430275410","IsPullRequest":false,"CreatedAt":"2019-04-08T06:25:58","Actor":"ademyalcin27","Number":"2695","RawContent":null,"Title":"I cant use ':,;' this characters","State":"closed","Body":"Hello,\r\nI want to make my URL like this.\r\n`http://localhost:8080/balbal?checkin=2019-04-24&checkout=2019-04-30&pax=2&filters=konaklama_tipi:ultra-hersey-dahil,kahvalti-ingiliz-tarz;tesis_tipi:su-parki\r\n`\r\nafter I pushed this URL  to query it changed like this \r\n\r\n`http://localhost:8080/antalya-bolge-kemer-otelleri?checkin=2019-04-24&checkout=2019-04-30&pax=2&filters=konaklama_tipi%3Aultra-hersey-dahil,kahvalti-ingiliz-tarzi%3Btesis_tipi%3Asu-parki`\r\n\r\n\r\nis there any way how to fix it ? \r\n\r\nthank you","Url":"https://github.com/vuejs/vue-router/issues/2695","RelatedDescription":"Closed issue \"I cant use ':,;' this characters\" (#2695)"},{"Id":"429297868","IsPullRequest":false,"CreatedAt":"2019-04-04T14:03:06","Actor":"surplus-cat","Number":"2694","RawContent":null,"Title":"è·¯ç”±é‡‡ç”¨requireæ–¹å¼å¼•å…¥æ­£å¸¸æ˜¾ç¤ºï¼Œä½†æ˜¯é‡‡ç”¨æ‡’åŠ è½½çš„å½¢å¼å¼•å…¥ï¼Œç»„ä»¶æ— æ³•æ˜¾ç¤ºåœ¨é¡µé¢ã€‚","State":"closed","Body":"HomeMain: require('@/views/index/mainIndex.vue'), è¿™ç§å½¢å¼å¼•å…¥å¯ä»¥æ­£å¸¸è®¿é—®ï¼›\r\n\r\nconst view = (path) => {\r\n  return r => require.ensure([], () => r(require(`@/views/${path}.vue`)), 'thunk')\r\n}ï¼›\r\n\r\nAddArticle: view('article/addArticle'), è€Œè¿™ç§ç±»å‹çš„å¼•å…¥ å´æ— æ³•æ˜¾ç¤ºï¼Œé€šè¿‡å¼€å‘è€…å·¥å…·æŸ¥çœ‹æ— Domå…ƒç´ \r\n\r\n\r\n","Url":"https://github.com/vuejs/vue-router/issues/2694","RelatedDescription":"Closed issue \"è·¯ç”±é‡‡ç”¨requireæ–¹å¼å¼•å…¥æ­£å¸¸æ˜¾ç¤ºï¼Œä½†æ˜¯é‡‡ç”¨æ‡’åŠ è½½çš„å½¢å¼å¼•å…¥ï¼Œç»„ä»¶æ— æ³•æ˜¾ç¤ºåœ¨é¡µé¢ã€‚\" (#2694)"},{"Id":"429168317","IsPullRequest":false,"CreatedAt":"2019-04-04T09:18:22","Actor":"sarkiroka","Number":"2693","RawContent":null,"Title":"How can I use multiple, or parameterized baseurl?","State":"closed","Body":"### What problem does this feature solve?\r\nI have a page with many many (near 100) routes, and every route depends on a parameter. So my router config something like that:\r\n\r\nbase: '/static'\r\n...\r\npath: '/:productId/x' -> for module x\r\npath: '/:productId/y' -> for module y\r\n...\r\nCan I use the base for store parameter?\r\nFor example something like this:\r\n\r\nbase: '/static/:productId'\r\n...\r\npath: '/x' -> for module x\r\npath: '/y' -> for module y\r\n...\r\nBecause less code less errors :)\r\n\r\n### What does the proposed API look like?\r\n```\r\n{\r\n...\r\nbase: '/static/:productId'\r\n...\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2693","RelatedDescription":"Closed issue \"How can I use multiple, or parameterized baseurl?\" (#2693)"},{"Id":"429143387","IsPullRequest":false,"CreatedAt":"2019-04-04T08:20:57","Actor":"sarkiroka","Number":"2692","RawContent":null,"Title":"How can I use multiple, or parameterized baseurl?","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vue-router\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\nI have a page with many many (near 100) routes, and every route depends on a parameter. So my router config something like that:\r\n```\r\nbase: '/static'\r\n...\r\npath: '/:productId/x' -> for module x\r\npath: '/:productId/y' -> for module y\r\n...\r\n```\r\nCan I use the base for store parameter?\r\nFor example something like this:\r\n```\r\nbase: '/static/:productId'\r\n...\r\npath: '/x' -> for module x\r\npath: '/y' -> for module y\r\n...\r\n```\r\nBecause less code less errors :)\r\n","Url":"https://github.com/vuejs/vue-router/issues/2692","RelatedDescription":"Closed issue \"How can I use multiple, or parameterized baseurl?\" (#2692)"},{"Id":"427593960","IsPullRequest":false,"CreatedAt":"2019-04-01T09:13:09","Actor":"jacobp100","Number":"2691","RawContent":null,"Title":"[Docs/Examples] Data Fetching Example has Race Condition","State":"open","Body":"### Version\r\n3.0.2\r\n\r\n### Reproduction link\r\n[https://router.vuejs.org/guide/advanced/data-fetching.html#fetching-after-navigation](https://router.vuejs.org/guide/advanced/data-fetching.html#fetching-after-navigation)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nLoad the page with `?id=abc`\r\nHave the initial `getPost` request take 3 seconds to complete\r\nAfter 1 second, navigate to the page again, but with `?id=def`\r\nHave the subsequent `getPost` request take 1 second to complete\r\nWait 2 seconds\r\n\r\n### What is expected?\r\nWe show the data for id=def\r\n\r\n### What is actually happening?\r\nWe show the data for id=abc\r\n\r\n---\r\nI'm not sure what the correct fix is\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2691","RelatedDescription":"Open issue \"[Docs/Examples] Data Fetching Example has Race Condition\" (#2691)"},{"Id":"427499160","IsPullRequest":false,"CreatedAt":"2019-04-01T07:08:22","Actor":"trandaison","Number":"2690","RawContent":null,"Title":"Expose a way to get route string from a router object.","State":"closed","Body":"### What problem does this feature solve?\r\nI think it would be nice if there is a helper function that parse an object to an URL based on matched route from routers list. \r\n\r\nCurrently, we have to use `<router-link>` and bind that object to `:to`, but what if I want to bind a `<a :href=\"\">`?\r\n\r\n```html\r\n<a :href=\"`/video/${video.id}`?t=${video.t}`\">\r\n```\r\nThis is ok. However, sometimes, the route path changes (for example: `/videos` instead of `/video`), in that case we have to find all the `<a>` and replace with the new path, I don't think it's a good idea.\r\n\r\nBut if we use the route name instead of the path, it will work despite of changing route path.\r\n\r\n### What does the proposed API look like?\r\n```js\r\nthis.$router.parseURL({ name: 'Video', params: { id: 'funny-video' }, query: { t: 200 } })\r\n\r\n// /video/funny-video?t=200\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2690","RelatedDescription":"Closed issue \"Expose a way to get route string from a router object.\" (#2690)"},{"Id":"427248544","IsPullRequest":true,"CreatedAt":"2019-03-30T06:13:24","Actor":"zrh122","Number":"2689","RawContent":null,"Title":"fix(router-view): register instance in init hook (fix #2561)","State":"open","Body":"close #2561\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/2689","RelatedDescription":"Open PR \"fix(router-view): register instance in init hook (fix #2561)\" (#2689)"},{"Id":"426632596","IsPullRequest":false,"CreatedAt":"2019-03-28T17:58:02","Actor":"posva","Number":"2688","RawContent":null,"Title":"Support array syntax for guards","State":"open","Body":"### What problem does this feature solve?\r\nThis will allow splitting guard logic in smaller functions and making it easy to chain them. It's similar to express middlewares\r\n\r\n### What does the proposed API look like?\r\n```js\r\n{ path: '/some', beforeEach: [authGuard, adminGuard], afterEach: [after1, after2] }\r\n\r\n// in component\r\nbeforeRouteEnter: [authGuard, adminGuard],\r\nbeforeRouteUpdate: [authGuard, adminGuard],\r\nbeforeRouteLeave: [confirmGuard, doubleConfirmGuard]\r\n```\r\n\r\ncurrent solution to this: https://www.npmjs.com/package/vue-router-multiguard\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2688","RelatedDescription":"Open issue \"Support array syntax for guards\" (#2688)"},{"Id":"426630857","IsPullRequest":false,"CreatedAt":"2019-03-28T17:54:19","Actor":"ColinLaws","Number":"2687","RawContent":null,"Title":"Multiple guards on one route","State":"closed","Body":"### What problem does this feature solve?\r\nMy application contains routes that require multiple layers of validation to run before proceeding to them. Some of my routes must have an 'Organization' selected. If a user attempts to hit the route without having an organization selected, they are redirected to another route to set up an organization. All of my routes require that a user is authenticated, or else they are redirected to my auth server.\r\n\r\nI understand that it is possible to nest each of my guards in one single guard; however, I have unique combinations of guards per route (not all routes have the same guards), which makes it difficult to express the requirements of a route without writing a guard to contain each guard the route requires (versus something easier and more expressive, such as an array).\r\n\r\nIn my opinion, this is clearly a responsibility of the framework to support this. I have heard the arguments that you can write one guard that contains each guard inside of it, but is that really a solution when we have multiple people asking for this feature? If many consumers of Vue require this feature, and they're all writing their own implementations to support this functionality, it should be absorbed into the framework.\r\n\r\nThe problem is common enough to justify given the strong support demonstrated by Issue #721\r\n\r\n### What does the proposed API look like?\r\n```\r\nlet router = new VueRouter({\r\n    routes: [\r\n        {\r\n            path: '/dashboard',\r\n            name: 'dashboard',\r\n            component: ...,\r\n            beforeEach: [guard1, guard2],    // Each guard is a function accepting (to, from, next)\r\n        }\r\n});\r\n```","Url":"https://github.com/vuejs/vue-router/issues/2687","RelatedDescription":"Closed issue \"Multiple guards on one route\" (#2687)"},{"Id":"426629856","IsPullRequest":false,"CreatedAt":"2019-03-28T17:52:08","Actor":"ColinLaws","Number":"2686","RawContent":null,"Title":"Feature request: Multiple Route Guards","State":"closed","Body":"What problem does this feature solve?\r\nMy application contains routes that require multiple layers of validation to run before proceeding to them. Some of my routes must have an 'Organization' selected. If a user attempts to hit the route without having an organization selected, they are redirected to another route to set up an organization. All of my routes require that a user is authenticated, or else they are redirected to my auth server.\r\n\r\nI understand that it is possible to nest each of my guards in one single guard; however, I have unique combinations of guards per route (not all routes have the same guards), which makes it difficult to express the requirements of a route without writing a guard to contain each guard the route requires (versus something easier and more expressive, such as an array).\r\n\r\nIn my opinion, this is clearly a responsibility of the framework to support this. I have heard the arguments that you can write one guard that contains each guard inside of it, but is that really a solution when we have multiple people asking for this feature? If many consumers of Vue require this feature, and they're all writing their own implementations to support this functionality, it should be absorbed into the framework.\r\n\r\nThe problem is common enough to justify given the strong support demonstrated by Issue #721\r\n\r\nWhat does the proposed API look like?\r\n```\r\nlet router = new VueRouter({\r\n    routes: [\r\n        {\r\n            path: '/dashboard',\r\n            name: 'dashboard',\r\n            component: ...,\r\n            beforeEach: [guard1, guard2],    // Each guard is a function accepting (to, from, next)\r\n        }\r\n});\r\n```","Url":"https://github.com/vuejs/vue-router/issues/2686","RelatedDescription":"Closed issue \"Feature request: Multiple Route Guards\" (#2686)"},{"Id":"426629377","IsPullRequest":false,"CreatedAt":"2019-03-28T17:50:58","Actor":"ColinLaws","Number":"2685","RawContent":null,"Title":"Feature request: Multiple Route Guards","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  \r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/issues/2685","RelatedDescription":"Closed issue \"Feature request: Multiple Route Guards\" (#2685)"},{"Id":"426266910","IsPullRequest":true,"CreatedAt":"2019-03-28T08:28:18","Actor":"songzeng2016","Number":"2681","RawContent":null,"Title":"docs(zn): fix wrong characters in","State":"closed","Body":"fix wrong characters in zh-cn doc.\r\n","Url":"https://github.com/vuejs/vue-router/pull/2681","RelatedDescription":"Closed or merged PR \"docs(zn): fix wrong characters in\" (#2681)"},{"Id":"426348821","IsPullRequest":false,"CreatedAt":"2019-03-28T07:57:59","Actor":"tanglianghong","Number":"2684","RawContent":null,"Title":"How to cache iframe for emergency help <keep-alive>?","State":"closed","Body":"This is one of my iframe components. When I switch to other tabs, I load iframe again when I switch back. How can I not load it?\r\n\r\n![20190328155535](https://user-images.githubusercontent.com/23239894/55140098-3ba06600-5172-11e9-987f-5bc075e8593b.png)\r\n","Url":"https://github.com/vuejs/vue-router/issues/2684","RelatedDescription":"Closed issue \"How to cache iframe for emergency help <keep-alive>?\" (#2684)"},{"Id":"426346570","IsPullRequest":false,"CreatedAt":"2019-03-28T07:51:46","Actor":"tanglianghong","Number":"2683","RawContent":null,"Title":"ç´§æ€¥æ±‚åŠ© <keep-alive> æ€ä¹ˆç¼“å­˜iframe?","State":"closed","Body":"<template>\r\n  <keep-alive>\r\n    <iframe id=\"show-iframe\" width='100%' frameborder=0 name=\"showHere\" scrolling=auto :src='src'></iframe>\r\n  </keep-alive>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      src: '@/FS_WEB_AGENT/test_foss.html?workno=1036&pwd=123456&isOpen=developmentTest'\r\n    }\r\n  },\r\n  mounted() {\r\n    const oIframe = document.getElementById('show-iframe')\r\n    const deviceHeight = document.documentElement.clientHeight\r\n    oIframe.style.height = (deviceHeight - 88) + 'px'\r\n  }\r\n}\r\n</script>\r\n\r\nè¿™æ˜¯æˆ‘æŸä¸ªiframeç»„ä»¶ã€‚å½“æˆ‘åˆ‡æ¢åˆ°å…¶ä»–tabçš„æ—¶å€™ï¼Œå†åˆ‡æ¢å›æ¥ åˆä¼šåŠ è½½ä¸€éiframeï¼Œæ€ä¹ˆæ ·ä¸åŠ è½½å‘¢","Url":"https://github.com/vuejs/vue-router/issues/2683","RelatedDescription":"Closed issue \"ç´§æ€¥æ±‚åŠ© <keep-alive> æ€ä¹ˆç¼“å­˜iframe?\" (#2683)"},{"Id":"426332498","IsPullRequest":false,"CreatedAt":"2019-03-28T07:09:42","Actor":"cyanwin","Number":"2682","RawContent":null,"Title":"Vue Router History mode can't save query params","State":"closed","Body":"Some router path use query params.\r\nFor example 'localhost: 8080?aaa=1' it can't work, refresh page query will be empty","Url":"https://github.com/vuejs/vue-router/issues/2682","RelatedDescription":"Closed issue \"Vue Router History mode can't save query params\" (#2682)"},{"Id":"426263940","IsPullRequest":true,"CreatedAt":"2019-03-28T02:26:44","Actor":"songzeng2016","Number":"2680","RawContent":null,"Title":" fix wrong characters in zh-cn doc.","State":"closed","Body":"fix wrong characters in zh-cn doc.\r\n","Url":"https://github.com/vuejs/vue-router/pull/2680","RelatedDescription":"Closed or merged PR \" fix wrong characters in zh-cn doc.\" (#2680)"},{"Id":"426067373","IsPullRequest":false,"CreatedAt":"2019-03-27T17:01:29","Actor":"claudiolcastro","Number":"2679","RawContent":null,"Title":"Error on decoding ISO-8859-1 words","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://codepen.io/anon/pen/ZPdOxa?editors=1010](https://codepen.io/anon/pen/ZPdOxa?editors=1010)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nFirst click on the \"Test Ok\" link and see the route populate the $this.route.query.q. Then, click on the \"Test fail\" and see the route chash and not populate the $this.route.query.q.\r\n\r\n### What is expected?\r\nIt was expected that the router converted the \"test%E9\" to \"testÃ©\" and populate the this.$route.query.q. \r\n\r\n### What is actually happening?\r\nVue-router is failing to populate the this.$route.query.q.\r\n\r\n---\r\nBy debugging the code,  I realized  that the `decodeURIComponent` does not work properly with  ISO-8859-1 words. In other hand, the `unescape` method works well.\r\n\r\nExample below:\r\n\r\n```\r\ntext = 'test%E9'\r\n> \"test%E9\"\r\n\r\ndecodeURIComponent(text)\r\n> VM568:1 Uncaught URIError: URI malformed\r\n    at decodeURIComponent (<anonymous>)\r\n    at <anonymous>:1:1\r\n\r\nunescape(text)\r\n> \"testÃ©\"\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2679","RelatedDescription":"Closed issue \"Error on decoding ISO-8859-1 words\" (#2679)"},{"Id":"426045309","IsPullRequest":false,"CreatedAt":"2019-03-27T15:58:00","Actor":"claudiolcastro","Number":"2678","RawContent":null,"Title":"Error on decoding ISO-8859-1 words","State":"closed","Body":"Hey,\r\n\r\nI'm having an error when a pass a word encoded in  ISO-8859-1 as query to the router.\r\n\r\nIt's seems that `var decode = decodeURIComponent;` can not handle iso words. It's crash the entire route, and does not return any error.\r\n\r\nBy debbunging the code i saw that the `decodeURIComponent` return `\"Uncaught URIError: URI malformed\"`\r\n\r\nA solution for this, i think would be replace the `decodeURIComponent`  for `unescape` method, that i've tested and it worked well. **But i realise that `unescape` method is deprecated**\r\n\r\nSo, anyone have any idea how to solve this problem?\r\n\r\nThanks\r\n\r\nhttps://github.com/vuejs/vue-router/blob/b8e7b7a7bc61d853c581af5541925e388f36fcd0/src/util/query.js#L46","Url":"https://github.com/vuejs/vue-router/issues/2678","RelatedDescription":"Closed issue \"Error on decoding ISO-8859-1 words\" (#2678)"}],"ResultType":"GitHubIssue"},"Vuex-Issues":{"Issues":[{"Id":"431819945","IsPullRequest":false,"CreatedAt":"2019-04-11T10:31:33","Actor":"yangfei4913438","Number":"1534","RawContent":null,"Title":"The submodule is called in the same way as the JS module.","State":"closed","Body":"### What problem does this feature solve?\r\nLet the IDE prompt you correctly.\r\n\r\n### What does the proposed API look like?\r\nSubmodule calls can be called like js modules.\r\nFor example: this.$store.module.state\r\nThe calling method of the js module allows the IDE to recognize it correctly.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1534","RelatedDescription":"Closed issue \"The submodule is called in the same way as the JS module.\" (#1534)"},{"Id":"431778873","IsPullRequest":true,"CreatedAt":"2019-04-11T01:48:37","Actor":"zigomir","Number":"1533","RawContent":null,"Title":"feat(esm build): build ES modules for browser","State":"closed","Body":"Fixes https://github.com/vuejs/vuex/issues/1247 \r\n\r\nAdds minified build which is missing in https://github.com/vuejs/vuex/pull/1401\r\n\r\nSimilar effort as in https://github.com/vuejs/vue-router/pull/2705","Url":"https://github.com/vuejs/vuex/pull/1533","RelatedDescription":"Closed or merged PR \"feat(esm build): build ES modules for browser\" (#1533)"},{"Id":"430740938","IsPullRequest":true,"CreatedAt":"2019-04-09T15:32:28","Actor":"zhaosaisai","Number":"1532","RawContent":null,"Title":"Use find to replace filter","State":"closed","Body":"It is more suitable to use `Array.prototype.find` to replace `Array.prototype.filter`.","Url":"https://github.com/vuejs/vuex/pull/1532","RelatedDescription":"Closed or merged PR \"Use find to replace filter\" (#1532)"},{"Id":"430629516","IsPullRequest":true,"CreatedAt":"2019-04-08T19:54:32","Actor":"jmplahitko","Number":"1531","RawContent":null,"Title":"Allow action subscribers to catch rejections.","State":"open","Body":"Enhancement request to allow Vuex plugins to subscribe to rejected action promises.","Url":"https://github.com/vuejs/vuex/pull/1531","RelatedDescription":"Open PR \"Allow action subscribers to catch rejections.\" (#1531)"},{"Id":"429592125","IsPullRequest":true,"CreatedAt":"2019-04-05T05:46:49","Actor":"wjw99830","Number":"1530","RawContent":null,"Title":"Genericity for mutations and actions.","State":"open","Body":"Add genericity for mutations and actions to hint the commit and dispatch methods.","Url":"https://github.com/vuejs/vuex/pull/1530","RelatedDescription":"Open PR \"Genericity for mutations and actions.\" (#1530)"},{"Id":"424233038","IsPullRequest":true,"CreatedAt":"2019-03-25T12:47:59","Actor":"brunossn","Number":"1527","RawContent":null,"Title":"CorreÃ§Ã£o de erro de digitaÃ§Ã£o","State":"closed","Body":"MudanÃ§a de \"argumetos\" para \"argumentos\"","Url":"https://github.com/vuejs/vuex/pull/1527","RelatedDescription":"Closed or merged PR \"CorreÃ§Ã£o de erro de digitaÃ§Ã£o\" (#1527)"},{"Id":"424461016","IsPullRequest":true,"CreatedAt":"2019-03-25T12:45:48","Actor":"tomouchi","Number":"1528","RawContent":null,"Title":"docs(ja): Fix code part","State":"closed","Body":"ã‚³ãƒ¼ãƒ‰éƒ¨åˆ†ãŒé–“é•ã£ã¦ã„ã‚‹ã‚ˆã†ã ã£ãŸã®ã§ä»–ã®è¨€èªã¨åŒã˜ããªã‚‹ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã—ãŸã€‚","Url":"https://github.com/vuejs/vuex/pull/1528","RelatedDescription":"Closed or merged PR \"docs(ja): Fix code part\" (#1528)"},{"Id":"424779602","IsPullRequest":true,"CreatedAt":"2019-03-25T12:44:05","Actor":"Jinjiang","Number":"1529","RawContent":null,"Title":"docs(zh): updated","State":"closed","Body":"Ref: https://github.com/vuejs/vuex/compare/665455f...b58d3d6\r\n/ping @justineo\r\nThanks.","Url":"https://github.com/vuejs/vuex/pull/1529","RelatedDescription":"Closed or merged PR \"docs(zh): updated\" (#1529)"},{"Id":"410145165","IsPullRequest":true,"CreatedAt":"2019-03-25T12:31:54","Actor":"parth67","Number":"1508","RawContent":null,"Title":"Fixed issue#1507 : Memory leak happening while using registerModule/uâ€¦","State":"closed","Body":"Fixes #1507 \r\n\r\nClosure function was fixed with helper function partial which doesn't retain oldVm in environment.","Url":"https://github.com/vuejs/vuex/pull/1508","RelatedDescription":"Closed or merged PR \"Fixed issue#1507 : Memory leak happening while using registerModule/uâ€¦\" (#1508)"},{"Id":"409797501","IsPullRequest":false,"CreatedAt":"2019-03-25T12:31:54","Actor":"skkart","Number":"1507","RawContent":null,"Title":"Memory leak happening while using registerModule/unregisterModule.","State":"closed","Body":"### Version\r\n3.1.0\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/mrj8spu0/](https://jsfiddle.net/mrj8spu0/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n\r\n1. Open the JSFiddle link mentioned as part of this issue.\r\n2. Check and record the heap memory in the browser on initial stage.\r\n3. Click on the \"Register\" button to dynamically register Module B 100 times\r\n4. Now we will see an increase in heap memory on account of registering module 100 times.\r\n5. Click on \"Un-Register\" button to dynamically un-register Module B 100 times\r\n6. Check the heap memory again, at this point will see an jump in memory usage on account of un-registering 100 module. \r\n\r\n### What is expected?\r\nHeap memory generated on step 3 & 5 must be cleared after step 6. (Final stage)\r\n\r\n### What is actually happening?\r\nHeap memory of the browser is not getting cleared.\r\n\r\n---\r\nWe are observing memory leak of Store._vm while using registerModule/unregisterModule extensively.\r\nOn heap profiling we found that the oldVm instance is not getting garbage collected.\r\n\r\nProbable Solution:\r\nDe-reference the oldVm instance on the same function scope where its getting instantiated (i.e. resetStoreVM() )\r\n\r\nThe above can be achieved by adding following code inside resetStoreVM function.\r\n\r\noldVm.$destroy(); \r\noldVm = null; // This is the missing code\r\n\r\nAttached google chrome (V 72.0.3626.96) heap snapshot and file.\r\n![heapsnapshot](https://user-images.githubusercontent.com/38841241/52727462-4ac0bf80-2fdb-11e9-91ce-7dd012cba4b5.png)\r\n\r\n[Heap-20190213T220212.heaptimeline.zip](https://github.com/vuejs/vuex/files/2861246/Heap-20190213T220212.heaptimeline.zip)\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1507","RelatedDescription":"Closed issue \"Memory leak happening while using registerModule/unregisterModule.\" (#1507)"},{"Id":"422808526","IsPullRequest":false,"CreatedAt":"2019-03-19T15:46:29","Actor":"FlorentinBurgeat","Number":"1526","RawContent":null,"Title":"Unused callback parameter in registerAction method causing trouble when testing mapActions","State":"open","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vuex/blob/4c0d0ae0abcd48f1df2c0c263402a94a214168b2/src/store.js#L434](https://github.com/vuejs/vuex/blob/4c0d0ae0abcd48f1df2c0c263402a94a214168b2/src/store.js#L434)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Create a component with method using mapActions\r\n2. Test call of the method\r\n3. Notice that the store action is called with 3 parameters: the store, the payload, and a unused callback always set to undefined.\r\n\r\n### What is expected?\r\nThe action must be called with only the 2 first parameters.\r\n\r\n### What is actually happening?\r\nThe action is called with a third parameters (cb) set to undefined.\r\n\r\n---\r\nI think this is an error. I don't see where it can be used.\r\nI did not do a JSFiddle but linked you directly to the line where the potentially unused callback is.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1526","RelatedDescription":"Open issue \"Unused callback parameter in registerAction method causing trouble when testing mapActions\" (#1526)"},{"Id":"422588972","IsPullRequest":true,"CreatedAt":"2019-03-19T13:40:45","Actor":"Styx11","Number":"1524","RawContent":null,"Title":"docs(zh): fixed a sentence into bold","State":"closed","Body":"there is a sentence which should be bold instead of wrapping with double asterisk\r\n\r\nä¸­æ–‡æ–‡æ¡£çš„ *ä¸¥æ ¼æ¨¡å¼* ä¸€ç« æœ‰ä¸ªå¥å­åº”è¯¥æ˜¯åŠ ç²—æ ¼å¼ï¼Œä½†å®ƒæ˜¾ç¤ºä¸ºè¢«åŒæ˜Ÿå·åŒ…è£¹ã€‚","Url":"https://github.com/vuejs/vuex/pull/1524","RelatedDescription":"Closed or merged PR \"docs(zh): fixed a sentence into bold\" (#1524)"},{"Id":"422698596","IsPullRequest":true,"CreatedAt":"2019-03-19T13:39:44","Actor":"banderson623","Number":"1525","RawContent":null,"Title":"docs(en) Small phrase improvement: silly","State":"closed","Body":"Replace \"dumb\" with \"silly\", since dumb [is defined as mute or unable to speak](https://www.dictionary.com/browse/dumb). Let's clarify this a bit, what the doc is implying is this function call may seem to be a bit extra and non obvious at first glance. \r\n\r\nThe whimsical word \"silly\" is a nice stand in for this.\r\n\r\n![](https://media0.giphy.com/media/ujzJFRYbyjZe0/giphy.gif)","Url":"https://github.com/vuejs/vuex/pull/1525","RelatedDescription":"Closed or merged PR \"docs(en) Small phrase improvement: silly\" (#1525)"},{"Id":"421852602","IsPullRequest":true,"CreatedAt":"2019-03-17T04:44:46","Actor":"dollinad","Number":"1523","RawContent":null,"Title":"Fix minor errors in README.md","State":"closed","Body":"Changes involve:\r\n- Removal of dead links: data flow.png and vuex.png\r\n- Removal of discourse markers (although, also, in addition) to make sentences precise","Url":"https://github.com/vuejs/vuex/pull/1523","RelatedDescription":"Closed or merged PR \"Fix minor errors in README.md\" (#1523)"},{"Id":"420554353","IsPullRequest":true,"CreatedAt":"2019-03-13T15:10:35","Actor":"duyanpeng","Number":"1522","RawContent":null,"Title":"Add  subscribeAction  unit","State":"open","Body":"Add  subscribeAction api unit\r\nthank you","Url":"https://github.com/vuejs/vuex/pull/1522","RelatedDescription":"Open PR \"Add  subscribeAction  unit\" (#1522)"},{"Id":"420548516","IsPullRequest":true,"CreatedAt":"2019-03-13T15:06:18","Actor":"duyanpeng","Number":"1521","RawContent":null,"Title":"add subscribeAction unit","State":"closed","Body":"add subscribeAction api unit ","Url":"https://github.com/vuejs/vuex/pull/1521","RelatedDescription":"Closed or merged PR \"add subscribeAction unit\" (#1521)"},{"Id":"418608570","IsPullRequest":false,"CreatedAt":"2019-03-10T18:15:17","Actor":"zzzgit","Number":"1518","RawContent":null,"Title":"Why canâ€™t I assign a socketio object to state in strict mode? ","State":"closed","Body":"### Version\r\n3.1.0\r\n\r\n### Reproduction link\r\n\r\n\r\n### Steps to reproduce\r\n![image](https://user-images.githubusercontent.com/1060733/54004291-023a9300-4190-11e9-8112-17f8814c1fd1.png)\r\n![image](https://user-images.githubusercontent.com/1060733/54004314-154d6300-4190-11e9-808f-b28bf5396181.png)\r\n![image](https://user-images.githubusercontent.com/1060733/54004330-226a5200-4190-11e9-896e-765daa3626c8.png)\r\n\r\n\r\n### What is expected?\r\n\r\n\r\n### What is actually happening?\r\nin strict mode, I can't assign socket object to state.\r\nis there a solution?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1518","RelatedDescription":"Closed issue \"Why canâ€™t I assign a socketio object to state in strict mode? \" (#1518)"},{"Id":"418332613","IsPullRequest":true,"CreatedAt":"2019-03-10T13:44:16","Actor":"davidsandoz","Number":"1517","RawContent":null,"Title":"Make mutation and action payload optional in definition file","State":"closed","Body":"When testing a mutation without payload in TypeScript, it complains that about the missing payload, even though it's not mandatory.\r\n\r\nThis PR simply makes the payload optional.\r\n\r\nFixes #1491","Url":"https://github.com/vuejs/vuex/pull/1517","RelatedDescription":"Closed or merged PR \"Make mutation and action payload optional in definition file\" (#1517)"},{"Id":"418852210","IsPullRequest":false,"CreatedAt":"2019-03-08T16:11:11","Actor":"jcupps","Number":"1520","RawContent":null,"Title":"Feature Request: Private State","State":"open","Body":"### What problem does this feature solve?\r\nI would like the ability to make certain state private to the store, i.e. accessible within store getters, actions, and mutations, but not directly accessible by consumers (e.g. components). This would prevent unintended reading or manipulation of state which should be done through getters or actions/mutations respectively. As far as I know, there is no good way to achieve this today in Vuex.\r\n\r\n### What does the proposed API look like?\r\nThe API could look something like this:\r\n\r\nA store:\r\n```javascript\r\n{\r\n  state() {\r\n    return {\r\n      somethingPublic: ''\r\n    };\r\n  },\r\n\r\n  privateState() {\r\n    return {\r\n      somethingPrivate: []\r\n    };\r\n  },\r\n\r\n  getters: {\r\n    filtered: (state, getters, privateState) => privateState.somethingPrivate.filter(...)\r\n  }\r\n}\r\n```\r\n\r\nIn a component:\r\n```javascript\r\n// works:\r\nthis.$store.state.somethingPublic\r\nthis.$store.getters.filtered\r\n// doesn't work:\r\nthis.$store.state.somethingPrivate\r\nthis.$store.privateState.somethingPrivate\r\n```\r\n\r\nThanks.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1520","RelatedDescription":"Open issue \"Feature Request: Private State\" (#1520)"},{"Id":"418840190","IsPullRequest":true,"CreatedAt":"2019-03-08T15:42:49","Actor":"vaga","Number":"1519","RawContent":null,"Title":"docs(fr): Fix typo","State":"open","Body":"","Url":"https://github.com/vuejs/vuex/pull/1519","RelatedDescription":"Open PR \"docs(fr): Fix typo\" (#1519)"},{"Id":"413266987","IsPullRequest":true,"CreatedAt":"2019-03-07T18:10:47","Actor":"jennyliang220","Number":"1514","RawContent":null,"Title":"doc: change ECMASCript into ECMAScript","State":"closed","Body":"![image](https://user-images.githubusercontent.com/8498677/53224814-fa1f2580-36b0-11e9-8f4c-28f387d6161b.png)\r\n","Url":"https://github.com/vuejs/vuex/pull/1514","RelatedDescription":"Closed or merged PR \"doc: change ECMASCript into ECMAScript\" (#1514)"},{"Id":"418113903","IsPullRequest":false,"CreatedAt":"2019-03-07T03:36:37","Actor":"zzzgit","Number":"1516","RawContent":null,"Title":"Why canâ€™t I assign a socketio object to state in strict mode","State":"closed","Body":"```javacript\r\nexport default {\r\n\tstate: {\r\n\t\tsocket: null,\r\n\t},\r\n\tmutations: {\r\n\t\tkeepSocket: (state, payload)=>{\r\n\t\t\tstate.socket = payload\r\n\t\t},\r\n\t},\r\n\tactions: {\r\n\t}\r\n}\r\n```\r\n\r\nI am using `vuex`, if I try to set a [socket-io](https://socket.io/) client object to state in strict mode, I will get an error like this:\r\n\r\n![image](https://user-images.githubusercontent.com/1060733/53930690-35681e00-40cd-11e9-966f-33e86f37044f.png)\r\n","Url":"https://github.com/vuejs/vuex/issues/1516","RelatedDescription":"Closed issue \"Why canâ€™t I assign a socketio object to state in strict mode\" (#1516)"},{"Id":"417789787","IsPullRequest":false,"CreatedAt":"2019-03-06T12:56:21","Actor":"hezhuojie","Number":"1515","RawContent":null,"Title":"Bug: getters of a dynamic module will lose after unregistering other module","State":"open","Body":"### Version\r\n3.1.0\r\n\r\n### Reproduction link\r\n[https://jsbin.com/bejenutewi/edit?js,console](https://jsbin.com/bejenutewi/edit?js,console)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\njust one the page [https://jsbin.com/bejenutewi/edit?js,console](https://jsbin.com/bejenutewi/edit?js,console)\r\n\r\n### What is expected?\r\nresult of `store.getters['mod/getOne']` should always be 1\r\n\r\n### What is actually happening?\r\ngetter `mod/getOne` is missing, return `undefined`\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1515","RelatedDescription":"Open issue \"Bug: getters of a dynamic module will lose after unregistering other module\" (#1515)"},{"Id":"410330210","IsPullRequest":false,"CreatedAt":"2019-02-23T15:17:55","Actor":"djam90","Number":"1509","RawContent":null,"Title":"Unit tests do not run when importing router into store and store into router","State":"closed","Body":"### Version\r\n3.1.0\r\n\r\n### Reproduction link\r\n[https://github.com/djam90/vuex-vue-router-issue](https://github.com/djam90/vuex-vue-router-issue)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nRun `npm run test:unit` and see the failure. To get the tests to run again, do not import the store into the router and the router into the store.\r\n\r\n### What is expected?\r\nThe tests should run fine and circular imports should work. They *DO* work in the browser just not in Mocha testing environment. \r\n\r\n### What is actually happening?\r\nError as follows:\r\n\r\n```\r\nTypeError: Cannot read property 'getters' of undefined\r\n    at /home/dan/code/vuex-router-issue/dist/webpack:/node_modules/vuex/dist/vuex.esm.js:261:1\r\n    at Array.forEach (<anonymous>)\r\n    at assertRawModule (/home/dan/code/vuex-router-issue/dist/webpack:/node_modules/vuex/dist/vuex.esm.js:260:1)\r\n    at ModuleCollection.register (/home/dan/code/vuex-router-issue/dist/webpack:/node_modules/vuex/dist/vuex.esm.js:186:1)\r\n    at /home/dan/code/vuex-router-issue/dist/webpack:/node_modules/vuex/dist/vuex.esm.js:200:1\r\n    at /home/dan/code/vuex-router-issue/dist/webpack:/node_modules/vuex/dist/vuex.esm.js:75:1\r\n    at Array.forEach (<anonymous>)\r\n    at forEachValue (/home/dan/code/vuex-router-issue/dist/webpack:/node_modules/vuex/dist/vuex.esm.js:75:1)\r\n    at ModuleCollection.register (/home/dan/code/vuex-router-issue/dist/webpack:/node_modules/vuex/dist/vuex.esm.js:199:1)\r\n    at new ModuleCollection (/home/dan/code/vuex-router-issue/dist/webpack:/node_modules/vuex/dist/vuex.esm.js:160:1)\r\n    at new Store (/home/dan/code/vuex-router-issue/dist/webpack:/node_modules/vuex/dist/vuex.esm.js:311:1)\r\n```\r\n\r\n---\r\nMy VueX store needs to be able to import the router so it can do routing things like navigate to another page.\r\nMy router needs to be able to access state from VueX to determine what to do in a `router.beforeEach` handler.\r\n\r\nI have asked for help on Stack Overflow:\r\nhttps://stackoverflow.com/questions/54691789/unable-to-import-vuex-store-into-router-and-router-into-store-in-mocha-tests\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1509","RelatedDescription":"Closed issue \"Unit tests do not run when importing router into store and store into router\" (#1509)"},{"Id":"412632780","IsPullRequest":true,"CreatedAt":"2019-02-21T19:16:28","Actor":"perborgen","Number":"1512","RawContent":null,"Title":"Added Scrimba lessons","State":"closed","Body":"Here are the Scrimba lessons localized and with an `override.styl` file for the styling. Did I do it right?","Url":"https://github.com/vuejs/vuex/pull/1512","RelatedDescription":"Closed or merged PR \"Added Scrimba lessons\" (#1512)"},{"Id":"412637975","IsPullRequest":false,"CreatedAt":"2019-02-20T21:31:16","Actor":"tleeaf","Number":"1513","RawContent":null,"Title":"Naming store state array 'queue' results in one dropped array member","State":"closed","Body":"I named one of my store state members 'queue', which resulted in unexpected behavior, namely that one member of the array would disappear when testing the app in-browser. This occurs independently of any other actions or mutations. I confirmed this by checking the result in vue devtools for chrome, in the vuex tab, and also by adding a v-for that produced simple tags dependent on the data in the 'queue' array.\r\n\r\n`export const store = new Vuex.Store({\r\n  state: {\r\n     queue: [ \r\n      {id: 1333333333}, //one of these members will be dropped \r\n      {id: 1222222222},\r\n      {id: 1111111111}\r\n    ],\r\n    vocabulary: [],\r\n    lessons: [],    \r\n  },\r\n  mutations, actions, getters\r\n})`","Url":"https://github.com/vuejs/vuex/issues/1513","RelatedDescription":"Closed issue \"Naming store state array 'queue' results in one dropped array member\" (#1513)"},{"Id":"409173630","IsPullRequest":false,"CreatedAt":"2019-02-18T18:56:17","Actor":"visualjerk","Number":"1505","RawContent":null,"Title":"Infinite Loop With Error Handler And Vuex","State":"closed","Body":"### Version\r\n2.5.0\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/z6ww1zp2q4](https://codesandbox.io/s/z6ww1zp2q4)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n- open browser console\r\n\r\n### What is expected?\r\nNot getting an infinite render loop:\r\n[Vue warn]: You may have an infinite update loop in a component render function.\r\n\r\n### What is actually happening?\r\nGetting an infinite render loop\r\n\r\n---\r\nThis happens when you handle an error that was caused during rendering and try to commit it to the store.\r\n\r\nIt looks like a component that throws an error tries to rerender after the store is updated, even so it doesn't use the store's state.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1505","RelatedDescription":"Closed issue \"Infinite Loop With Error Handler And Vuex\" (#1505)"},{"Id":"411557104","IsPullRequest":true,"CreatedAt":"2019-02-18T17:28:27","Actor":"Jinjiang","Number":"1511","RawContent":null,"Title":"docs(zh): update","State":"closed","Body":"Ref: https://github.com/vuejs/vuex/compare/a6973fa...31e4fbc\r\n/ping @Justineo","Url":"https://github.com/vuejs/vuex/pull/1511","RelatedDescription":"Closed or merged PR \"docs(zh): update\" (#1511)"},{"Id":"411250556","IsPullRequest":true,"CreatedAt":"2019-02-17T23:34:11","Actor":"brophdawg11","Number":"1510","RawContent":null,"Title":"Add support for namespace functions in mapXXX helpers","State":"open","Body":"This is a stab at adding the functionality requested by https://github.com/vuejs/vuex/issues/863.\r\n\r\nI also noticed that there was another attempt at this in https://github.com/vuejs/vuex/pull/924, but the diff seems to be beyond the scope of just the change.\r\n\r\nUnit tests have been added, but no changes have yet been made to TypeScript types or documentation, etc.","Url":"https://github.com/vuejs/vuex/pull/1510","RelatedDescription":"Open PR \"Add support for namespace functions in mapXXX helpers\" (#1510)"},{"Id":"409792179","IsPullRequest":false,"CreatedAt":"2019-02-13T12:56:14","Actor":"skkart","Number":"1506","RawContent":null,"Title":"Memory leak happening while using registerModule/unregisterModule.","State":"closed","Body":"We are observing memory leak of Store._vm while using registerModule/unregisterModule.\r\nOn heap profiling we found that the oldVm instance is not getting garbage collected.\r\n\r\nI have created an demo link to illustrate the above mentioned problem\r\n[jsFiddle link](https://jsfiddle.net/mrj8spu0/)\r\n\r\nProbable Solution:\r\nDe-reference the oldVm instance on the same function scope where its getting instantiated (i.e. resetStoreVM() )\r\n\r\nThe above can be achieved by adding following code inside resetStoreVM function.\r\n**_oldVm.$destroy(); \r\noldVm = null;      // This is the missing code_**\r\n```\r\nfunction resetStoreVM (store, state, hot) {\r\n    var oldVm = store._vm;\r\n\r\n    ...\r\n\t...\r\n\r\n    if (oldVm) {\r\n      if (hot) {\r\n        // dispatch changes in all subscribed watchers\r\n        // to force getter re-evaluation for hot reloading.\r\n        store._withCommit(function () {\r\n          oldVm._data.$$state = null;\r\n        });\r\n      }\r\n\r\n      // Existing Code\r\n      Vue.nextTick(function () { return oldVm.$destroy(); });\r\n       \r\n      // The OldVm Object is still in heap even after destroy\r\n      // Appropriate Code\r\n      oldVm.$destroy(); \r\n      oldVm = null;\r\n    }\r\n  }\r\n```\r\n\r\nAttached google chrome (V 72.0.3626.96) heap snapshot and file.\r\n![heapsnapshot](https://user-images.githubusercontent.com/38841241/52712275-1983c780-2fba-11e9-8c67-43b24afe56e1.png)\r\n\r\n[Heap-20190213T172945.heapsnapshot.zip](https://github.com/vuejs/vuex/files/2860354/Heap-20190213T172945.heapsnapshot.zip)\r\n\r\n","Url":"https://github.com/vuejs/vuex/issues/1506","RelatedDescription":"Closed issue \"Memory leak happening while using registerModule/unregisterModule.\" (#1506)"}],"ResultType":"GitHubIssue"}},"RunOn":"2019-04-12T05:30:45.1273494Z","RunDurationInMilliseconds":1479}