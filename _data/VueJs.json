{"Data":{"Vue-Issues":{"Issues":[{"Id":"774616100","IsPullRequest":true,"CreatedAt":"2020-12-25T03:40:22","Actor":"yuanoook","Number":"11840","RawContent":null,"Title":"Improve readability for release.sh, pair up ( & )","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [x] Code style update\r\n- [ ] Refactor\r\n- [x] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n\r\nIt confused me a little bit while I was reading it, hope the change could make it better.","Url":"https://github.com/vuejs/vue/pull/11840","RelatedDescription":"Open PR \"Improve readability for release.sh, pair up ( & )\" (#11840)"},{"Id":"773692202","IsPullRequest":false,"CreatedAt":"2020-12-23T11:39:32","Actor":"xtoolkit","Number":"11839","RawContent":null,"Title":"click handle problem in Tizen Tv 2.4","State":"open","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/flamboyant-hopper-tg554](https://codesandbox.io/s/flamboyant-hopper-tg554)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. click `toggle` botton\r\n2. click `test` botton\r\n\r\n### What is expected?\r\ncall `clickHandle` method and show `clicked` alert;\r\n\r\n### What is actually happening?\r\nin samsung smart tv (tizen os 2.4) when we set click event to a child element in condition element (v-if) and run steps to reproduce, `clickHandle` method not fire.\r\n\r\n---\r\n`clickHandle` method not fire, because that element has child. when `open` data set true, @click simulated to @click.self.\r\nand we have to fix this problem use css z-index...\r\n\r\nsry 4 my bad english\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11839","RelatedDescription":"Open issue \"click handle problem in Tizen Tv 2.4\" (#11839)"},{"Id":"772776305","IsPullRequest":false,"CreatedAt":"2020-12-22T11:00:44","Actor":"linghuam","Number":"11838","RawContent":null,"Title":"In the following scenario，When the array data is changed responsively,  the view cannot be updated normally","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/youthful-khayyam-4kid1?fontsize=14&hidenavigation=1&theme=dark](https://codesandbox.io/s/youthful-khayyam-4kid1?fontsize=14&hidenavigation=1&theme=dark)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n## step1: I defined a contextMenu component，in this component，i append the `$el` element to body in `mounted` hook。\r\n```vue\r\n<template>\r\n  <div>I am ContextMenu.</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  mounted() {\r\n    document.body.appendChild(this.$el);\r\n  },\r\n};\r\n</script>\r\n```\r\n## step2： In App.vue，i render a list，and the list data is obtained asynchronously。\r\n```html\r\n<template>\r\n  <div id=\"app\">\r\n    <div v-for=\"item in list\" :key=\"item.id\">\r\n      {{ item.id }}\r\n    </div>\r\n    <ContextMenu />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ContextMenu from \"./components/ContextMenu\";\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: {\r\n    ContextMenu,\r\n  },\r\n  data() {\r\n    return {\r\n      list: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.list = [{ id: 1 }, { id: 2 }, { id: 3 }, { id: 4 }];\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  margin-top: 60px;\r\n}\r\n</style>\r\n```\r\n## step3: the question is，when  i change the list data,  the view is not update yet.\r\n\r\n### What is expected?\r\nI hope to see is:  When the list data is updated, the view is updated。\r\n\r\n### What is actually happening?\r\nthe view is not update yet.\r\n\r\n---\r\nI try some methods to avoid this question, such as:\r\n1. wrap  ContextMenu or list in a  div element.\r\n2. init the list at least one data.\r\n\r\nbut I don't kown why,  and I really hope you can tell me why. \r\n\r\nthank you very much!\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11838","RelatedDescription":"Closed issue \"In the following scenario，When the array data is changed responsively,  the view cannot be updated normally\" (#11838)"},{"Id":"772276216","IsPullRequest":false,"CreatedAt":"2020-12-21T16:04:57","Actor":"realityfilter","Number":"11837","RawContent":null,"Title":"SSR: missing class and style attributes with dynamic async components","State":"open","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://github.com/realityfilter/bugreport-dynamic-components-ssr](https://github.com/realityfilter/bugreport-dynamic-components-ssr)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n- clone the repository: https://github.com/realityfilter/bugreport-dynamic-components-ssr\r\n- `npm install`\r\n- `npm run dev`\r\n\r\n### What is expected?\r\nAll class and style attributes set on dynamic async components are present in server side generated html.\r\n\r\n### What is actually happening?\r\nThe generated html is missing style and class attributes set on parent components.\r\n\r\nThe generated html should look like ![correct](https://github.com/realityfilter/bugreport-dynamic-components-ssr/blob/master/static/correct.png?raw=true)\r\n\r\nBut the generated html is missing class and style attributes and actually looks like: ![ssr](https://github.com/realityfilter/bugreport-dynamic-components-ssr/blob/master/static/ssr.png?raw=true)\r\n\r\n\r\n---\r\nThis is a test case derived from a nuxt project.\r\n\r\n- We use global objects to be able to use them dynamically.\r\n\r\n- Nuxt loads them asynchronously under the hood via `() => import('~/components/global/Component.vue')`\r\n\r\n\r\nThe parent component sets classes and styles:\r\n\r\n```vue\r\n<template>\r\n  <div>\r\n    <h2>Container</h2>\r\n    <DynamicComponent\r\n      v-for=\"blok in body\"\r\n      :key=\"blok.id\"\r\n      :blok=\"blok\"\r\n      class=\"child\"\r\n      style=\"border: 1px solid black\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  inheritAttrs: false,\r\n  props: {\r\n    body: Array\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.child {\r\n  background-color: red;\r\n}\r\n</style>\r\n```\r\n\r\nWith DynamicComponent:\r\n\r\n```vue\r\n<template>\r\n  <component :is=\"blok.component\" v-bind=\"blok\" :blok=\"blok\"></component>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  inheritAttrs: false,\r\n  props: {\r\n    blok: Object\r\n  }\r\n};\r\n</script>\r\n```\r\n\r\nThere are some workarounds for this issue:\r\n\r\n- avoiding async components via manual registering the components in a plugin\r\n- wrapping the DynamicComponent with a div\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11837","RelatedDescription":"Open issue \"SSR: missing class and style attributes with dynamic async components\" (#11837)"},{"Id":"771632577","IsPullRequest":false,"CreatedAt":"2020-12-20T18:24:21","Actor":"dmitrymaslov99","Number":"11835","RawContent":null,"Title":"Yandex.Maps and many other libraries does not work in version 3!","State":"closed","Body":"### Version\r\n3.0.0\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/patient-dust-2q9bj?file=/src/components/Maps.vue](https://codesandbox.io/s/patient-dust-2q9bj?file=/src/components/Maps.vue)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. We connect the library https://yandex.ru/dev/maps/jsapi/doc/2.1/quick-start/index.html/?from=techmapsmain\r\n2. Add a point to the map\r\nThis library (https://vue-yandex-maps.github.io/guide/) and a number of others also stopped working. The release of version 3 messed up a lot. \r\nhttps://github.com/PNKBizz/vue-yandex-map/issues/275\r\n\r\n### What is expected?\r\nPoint added\r\n\r\n### What is actually happening?\r\nNumerous errors in the console: https://imgur.com/a/VElaZ4G\r\n\r\n---\r\nSandbox link 2 version: https://codesandbox.io/s/charming-haibt-06w4x?file=/src/components/Maps.vue:0-1186\r\nSandbox link version 3: https://codesandbox.io/s/patient-dust-2q9bj?file=/src/components/Maps.vue\r\nWe use vue 3 versions for ionic, but due to compatibility problems we cannot finish our projects.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11835","RelatedDescription":"Closed issue \"Yandex.Maps and many other libraries does not work in version 3!\" (#11835)"},{"Id":"771549953","IsPullRequest":false,"CreatedAt":"2020-12-20T09:34:19","Actor":"justfn","Number":"11834","RawContent":null,"Title":"关于vue2 编写代码模式的的一些提案","State":"closed","Body":"### What problem does this feature solve?\r\n增加命名空间的形式以解决一个组件代码松散不好维护的情况  \r\n```\r\n// 一个单文件组件 \r\n<template lang=\"html\"> \r\n<section class=\"pageA\">\r\n  <div class=\"\">\r\n    {{ key01 }}\r\n  </div>\r\n  \r\n  <div class=\"partOne\">\r\n    {{ PartOne.key11 }}\r\n    <button @click=\"PartOne_aaaFn()\">test1</button>\r\n    <button @click=\"cccFn()\">test2</button>\r\n  </div> \r\n  \r\n  <div class=\"partTwo\">\r\n    \r\n  </div>\r\n</section> \r\n</template> \r\n\r\n<script> \r\nimport dealVueOptions from \"./dealVueOptions.js\";\r\nconst options = {\r\n  components: {\r\n    // \r\n  },\r\n  data(){ \r\n    // let vm = this; // 不要这样使用, 目前使用 dealVueOptions 方法处理存在问题\r\n    return {\r\n      key01: 'a01',\r\n      \r\n    };\r\n  },\r\n  computed: { \r\n    // \r\n  },\r\n  watch: {\r\n    // \r\n  },\r\n  created(){ \r\n    // this.PartOne.aaaFn();  // 设想的使用形式 \r\n  },\r\n  methods: {\r\n    // 扩展使用对象形式，从而支持命名空间化 \r\n    // aaa: {\r\n    //   bbb: ()=>{\r\n    //     console.log(this);\r\n    //   },\r\n    // },\r\n    cccFn(){\r\n      this.PartOne.key11 = 333;\r\n    },\r\n  },\r\n  \r\n  // 命名空间模式 \r\n  PartOne: {\r\n    // 自动合并到顶层 data 中, \r\n    // 设想：命名空间内 this.xx 访问，其他命名空间或上层 this.spaceName.xxx 访问  \r\n    data: {\r\n      key11: 111,\r\n    },\r\n    // 以下选项同 data 的处理逻辑 \r\n    computed: { },\r\n    watch: { },\r\n    methods: { \r\n      aaaFn(){  // 注意此处不可使用箭头函数 \r\n        this.PartOne.key11 = 222;\r\n        // this.key11 // 设想的使用形式 \r\n      }\r\n    },\r\n    // 生命周期函数则不需要，顶层中调用该命名空间内的方法即可 \r\n  },\r\n  \r\n  PartTwo: {\r\n    // ... \r\n  },\r\n};\r\nexport default dealVueOptions(options);\r\n</script> \r\n\r\n<style lang=\"less\" scoped> \r\n</style> \r\n<style lang=\"less\"> \r\n</style> \r\n\r\n// 处理函数   暂且为之 ------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n/** 处理vue的选项配置，改造成按模块、命名空间划分的形式  \r\n* @params  option  obj,待处理的vue配置选项\r\n* @return  option  obj,标准vue可识别的配置选项 \r\n* -----------------------------\r\n* @author  fsl \r\n* @time    2020.12.20 \r\n* -----------------------------\r\n* @detail  \r\n- 01 详细说明1 \r\n* -----------------------------\r\n* @todo  \r\n- 1 代办事项1 \r\n*/\r\n\r\nexport default function(option){\r\n  let result = {}\r\n  for (let key in option) {\r\n    let val = option[key];\r\n    // 不以大写字母开头则不处理  \r\n    if (!/^[A-Z]/.test(key)) { \r\n      result[key] = val\r\n      continue;\r\n    }\r\n    \r\n    // 此处需要优化，暂且为之  \r\n    result = {\r\n      ...result,\r\n      ...dealVal(key,option),\r\n    }\r\n  }\r\n  \r\n  return result;\r\n}\r\nfunction dealVal(key,opt){\r\n  let res = {};\r\n  let obj = opt[key];\r\n  for(let k in obj){\r\n    let v = obj[k];\r\n    if (k==='data') {\r\n      opt.data = opt.data || (()=>({}));\r\n      res.data = ()=>{\r\n        return {\r\n          ...opt.data(),\r\n          [key]: { ...v, },\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      let currentV = {};\r\n      for(var _v in v){\r\n        // 暂时的解决办法，使用： 命名空间_方法名 \r\n        // 待其他选项支持对象模式后可改成 命名空间.方法名的形式 来进行访问调用 \r\n        currentV[`${key}_${_v}`] = v[_v]; \r\n      };\r\n      res[k] = {\r\n        ...opt[k],\r\n        // todo \r\n        ...currentV,\r\n      }\r\n    }\r\n  };\r\n  return res;\r\n} \r\n```\r\n\r\n\r\n\r\n\r\n### What does the proposed API look like?\r\n类似于vuex的命名空间化\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11834","RelatedDescription":"Closed issue \"关于vue2 编写代码模式的的一些提案\" (#11834)"},{"Id":"771372801","IsPullRequest":false,"CreatedAt":"2020-12-19T15:16:35","Actor":"Chantal5","Number":"11833","RawContent":null,"Title":"Unable to register on Vue forum. Not receiving verification email. Can't find out how to contact anyone at vue for help.","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://forum.vuejs.org/](https://forum.vuejs.org/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nRegistered a new account. Waited for the verification email. Registerd both an @outlook and a @gmail emailadress, same result.\r\n\r\n### What is expected?\r\nReceiving the verification email so I can start using the forum\r\n\r\n### What is actually happening?\r\nNothing\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11833","RelatedDescription":"Closed issue \"Unable to register on Vue forum. Not receiving verification email. Can't find out how to contact anyone at vue for help.\" (#11833)"},{"Id":"770833068","IsPullRequest":false,"CreatedAt":"2020-12-18T12:08:45","Actor":"alaroma","Number":"11832","RawContent":null,"Title":"Slot content is not rendered in foreginObject, when forigenObject is root tag of separate component","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/epic-neumann-m8hqz](https://codesandbox.io/s/epic-neumann-m8hqz)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nOpen link\r\n\r\n### What is expected?\r\nShould display button under the text\r\n\r\n### What is actually happening?\r\nButton is not displayed\r\n\r\n---\r\nI try to add separate vue component in svg. This component has foreginObject tag as root and contains button, wich was inserted thorought slot in another component. It do not work, I mean button is hidden in browser. However the button exist in DOM, more over has sizes\r\n\r\nAt the same time if forigenObject tag is declared in component with svg it is work. I can see button.\r\nexample: https://codesandbox.io/s/inspiring-mclaren-t1z09\r\n\r\nI supose, there is porblem with slot content rendering in foreginObject, when forigenObject is root tag of separate component\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11832","RelatedDescription":"Closed issue \"Slot content is not rendered in foreginObject, when forigenObject is root tag of separate component\" (#11832)"},{"Id":"770633634","IsPullRequest":true,"CreatedAt":"2020-12-18T07:25:19","Actor":"linxz-coder","Number":"11831","RawContent":null,"Title":"test","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [ ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/11831","RelatedDescription":"Closed or merged PR \"test\" (#11831)"},{"Id":"770029218","IsPullRequest":true,"CreatedAt":"2020-12-17T13:27:20","Actor":"javoski","Number":"11830","RawContent":null,"Title":"feat(v-model): add lazy modifier for v-model on components(close #6914)","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [x] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\n**Other information:**\r\nclose #6914.","Url":"https://github.com/vuejs/vue/pull/11830","RelatedDescription":"Open PR \"feat(v-model): add lazy modifier for v-model on components(close #6914)\" (#11830)"},{"Id":"769084714","IsPullRequest":false,"CreatedAt":"2020-12-17T10:25:49","Actor":"yazfield","Number":"11827","RawContent":null,"Title":"Throw error when props validation fails","State":"closed","Body":"### What problem does this feature solve?\r\nCurrently props validation only issues a warning in non production environment.\r\n\r\nI was trying to create a component like react's error-boundary to handle invalid props and show fallback componentsusing `errorCaptured` but it is unfortunately not possible.\r\n\r\n### What does the proposed API look like?\r\nsomething like a callback to be called when validating props\r\n```\r\nVue.config.assertPropsHandler: Function;\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11827","RelatedDescription":"Closed issue \"Throw error when props validation fails\" (#11827)"},{"Id":"769732581","IsPullRequest":true,"CreatedAt":"2020-12-17T09:06:24","Actor":"katarzyna-stachura-orba","Number":"11829","RawContent":null,"Title":"fix(ssr): prevent rendering duplicate css references","State":"open","Body":"There is a chance that the same css file is included in initial and async array, causing a <link>\r\nelement pointing to the same stylesheet to be included multiple times. This fix ensures that cannot\r\nhappen. Since multiple build systems exist, this defensive approach avoids any issues with how files\r\nare generated regardless of which one is being used by a given project.\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/11829","RelatedDescription":"Open PR \"fix(ssr): prevent rendering duplicate css references\" (#11829)"},{"Id":"769237629","IsPullRequest":false,"CreatedAt":"2020-12-16T20:08:49","Actor":"privatenumber","Number":"11828","RawContent":null,"Title":"Building to Vue 2 and 3: Version mismatch error from vue-template-compiler","State":"open","Body":"### What problem does this feature solve?\r\n`vue-template-compiler` runs a version check against the `vue` specifier Node.js resolves as soon as it's imported [here](https://github.com/vuejs/vue/blob/dev/packages/vue-template-compiler/index.js).\r\n\r\nBecause of this:\r\n1. I'm getting a vue-loader recommendation in a rollup build\r\n2. I can't have a setup that builds to both Vue 2 and 3. I think it's important to support this use-case for the eco-system as more apps migrate to Vue 3.\r\n\r\nI'm interested in building a component to both Vue 2 and 3, but the version mismatch error from above gets thrown as soon as `rollup-plugin-vue@5` is imported.\r\n\r\n\r\n<img width=\"824\" alt=\"Screen Shot 2020-12-16 at 3 06 55 PM\" src=\"https://user-images.githubusercontent.com/1075694/102400783-666ac780-3fb0-11eb-9d02-d2aa217f6929.png\">\r\n\r\n\r\n\r\nMy `package.json` looks like this:\r\n\r\n```json5\r\n{\r\n  ...,\r\n  \"devDependencies\": {\r\n    \"@vue/compiler-sfc\": \"^3.0.4\",\r\n    \"rollup\": \"^2.35.1\",\r\n    \"rollup-plugin-vue2\": \"npm:rollup-plugin-vue@^5.1.9\",\r\n    \"rollup-plugin-vue3\": \"npm:rollup-plugin-vue@^6.0.0\",\r\n    \"vue\": \"^3.0.4\",\r\n    \"vue-template-compiler\": \"^2.6.12\",\r\n    \"vue2\": \"npm:vue@^2.6.12\"\r\n  }\r\n}\r\n```\r\n\r\nMy `rollup.config.js` looks like this:\r\n\r\n```js\r\nimport vue2 from 'rollup-plugin-vue2';\r\nimport vue3 from 'rollup-plugin-vue3';\r\n\r\nconst rollupConfig = [\r\n    {\r\n        input: 'src/MyComponent.vue',\r\n        plugins: [\r\n            vue3(),\r\n        ],\r\n        output: {\r\n            format: 'es',\r\n            file: 'dist/my-component.vue3.esm.js',\r\n        },\r\n    },\r\n    {\r\n        input: 'src/MyComponent.vue',\r\n        plugins: [\r\n            vue2(),\r\n        ],\r\n        output: {\r\n            format: 'es',\r\n            file: 'dist/my-component.vue2.esm.js',\r\n        },\r\n    },\r\n];\r\n\r\nexport default rollupConfig;\r\n```\r\n\r\n\r\n### What does the proposed API look like?\r\nWondering if this can be changed to a run-time check or moved to the appropriate loader/plugin.\r\n\r\nA run-time check might be a good idea as I'm sure a lot of people may be accidentally trying to import Vue 2 components into a Vue 3 app and vice-versa.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11828","RelatedDescription":"Open issue \"Building to Vue 2 and 3: Version mismatch error from vue-template-compiler\" (#11828)"},{"Id":"768823885","IsPullRequest":true,"CreatedAt":"2020-12-16T12:42:52","Actor":"blake-newman","Number":"11826","RawContent":null,"Title":"feat(ssr): add csp nonce to all elements","State":"open","Body":"\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [x] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\n**Other information:**\r\n\r\n[CSPv3](https://csp.withgoogle.com/docs/strict-csp.html)  allows simple nonce based policies and directives such as `stict-dynamic`. Declaring a policy such as:\r\n\r\n```\r\nContent-Security-Policy:\r\n  object-src 'none';\r\n  script-src 'nonce-{random}' 'unsafe-inline' 'unsafe-eval' 'strict-dynamic' https: http:;\r\n  base-uri 'none';\r\n  report-uri https://your-report-collector.example.com/\r\n```\r\n\r\nWould not work with current nonce support with features such as resource hints. This policy creates errors such as \r\n\r\n```\r\nRefused to load the script 'http://localhost:8082/manifest.js' because it violates the following Content Security Policy directive: \"script-src 'self' 'nonce-68f9bed4d31fcde221e7b5e871860ff2' 'unsafe-inline' 'unsafe-eval' 'strict-dynamic' http:\". 'strict-dynamic' is present, so host-based allowlisting is disabled. Note that 'script-src-elem' was not explicitly set, so 'script-src' is used as a fallback.\r\n```\r\n\r\nThis is because not all rendered elements have an associated nonce. \r\n\r\nTo support stricter policies that only work scripts / resource hinting add `nonce` attribute to all element that could be affected via a nonce based policy. \r\n","Url":"https://github.com/vuejs/vue/pull/11826","RelatedDescription":"Open PR \"feat(ssr): add csp nonce to all elements\" (#11826)"},{"Id":"768815589","IsPullRequest":true,"CreatedAt":"2020-12-16T12:32:58","Actor":"vue-bot","Number":"11825","RawContent":null,"Title":"[automated] Patreon sponsors update","State":"open","Body":"This is an automated pull request.","Url":"https://github.com/vuejs/vue/pull/11825","RelatedDescription":"Open PR \"[automated] Patreon sponsors update\" (#11825)"},{"Id":"767816107","IsPullRequest":false,"CreatedAt":"2020-12-15T22:08:33","Actor":"kswizzlek","Number":"11824","RawContent":null,"Title":"In vue template lazy evaluation functions","State":"closed","Body":"### What problem does this feature solve?\r\nin a vue template using {{removeCertainElemntsFrom(addElementTo(originalDataSource))}} vs. {{modifiedVersionOfOriginalDataSource}} allows a more pure way of modifying our data for our view. My request is to have Pure functions in the view that are only re-rendered when the parameters for the function are changed. This will lead to less code to maintain as well as allowing for test cases on the way our data gets parsed for the view and ultimately less bugs.\r\n\r\n### What does the proposed API look like?\r\nI use typescript with vue-property decorators so it would look like:\r\n```\r\n@Pure()\r\nprivate combineFirstAndLastName(first: string, last: string) {\r\n      // You will not be allowed to access outside variables from this function, if you do an error will be thrown(\"pure functions must be pure\"))\r\n   return `${first} ${last}`\r\n}\r\n```\r\nWhen used in the html this function will only get called when the parameters passed into it change\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11824","RelatedDescription":"Closed issue \"In vue template lazy evaluation functions\" (#11824)"},{"Id":"767091624","IsPullRequest":true,"CreatedAt":"2020-12-15T02:30:49","Actor":"teach-tian","Number":"11823","RawContent":null,"Title":"2002a","State":"closed","Body":"来测试一下，\r\n","Url":"https://github.com/vuejs/vue/pull/11823","RelatedDescription":"Closed or merged PR \"2002a\" (#11823)"},{"Id":"766378802","IsPullRequest":false,"CreatedAt":"2020-12-14T21:54:06","Actor":"DebaPrasad14","Number":"11822","RawContent":null,"Title":"new content are not getting loaded without hard reload and empty cache in the browser after new deployment","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://Notavailable](https://Notavailable)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. create an app\r\n2. deploy that\r\n3. check the content\r\n4. make some changes\r\n5. again deploy the app\r\n6. now reload the page in the browser ( the new contents wouldn't be available)\r\n7. do empty cache and hard reload in the browser then new contents will be available\r\n\r\n### What is expected?\r\nafter the new deployment, the new contents should be available to the users once they reload the page in the browser.\r\n\r\n### What is actually happening?\r\nafter the new deployment, we are telling users to do a hard reload and empty cache in the browser to get the new contents of our application which is not good, what I want is if a user reloads their page after deployment then they should see the new contents of our Vue app.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11822","RelatedDescription":"Closed issue \"new content are not getting loaded without hard reload and empty cache in the browser after new deployment\" (#11822)"},{"Id":"765490376","IsPullRequest":false,"CreatedAt":"2020-12-13T15:59:38","Actor":"jiaolong1021","Number":"11821","RawContent":null,"Title":"vue","State":"closed","Body":"","Url":"https://github.com/vuejs/vue/issues/11821","RelatedDescription":"Closed issue \"vue\" (#11821)"},{"Id":"764553003","IsPullRequest":true,"CreatedAt":"2020-12-12T23:12:49","Actor":"kevinlens","Number":"11820","RawContent":null,"Title":"Update README.md","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [ ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/11820","RelatedDescription":"Closed or merged PR \"Update README.md\" (#11820)"},{"Id":"762138159","IsPullRequest":true,"CreatedAt":"2020-12-11T09:29:12","Actor":"dependabot[bot]","Number":"11819","RawContent":null,"Title":"build(deps): bump ini from 1.3.5 to 1.3.7","State":"open","Body":"Bumps [ini](https://github.com/isaacs/ini) from 1.3.5 to 1.3.7.\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/npm/ini/commit/c74c8af35f32b801a7e82a8309eab792a95932f6\"><code>c74c8af</code></a> 1.3.7</li>\n<li><a href=\"https://github.com/npm/ini/commit/024b8b55ac1c980c6225607b007714c54eb501ba\"><code>024b8b5</code></a> update deps, add linting</li>\n<li><a href=\"https://github.com/npm/ini/commit/032fbaf5f0b98fce70c8cc380e0d05177a9c9073\"><code>032fbaf</code></a> Use Object.create(null) to avoid default object property hazards</li>\n<li><a href=\"https://github.com/npm/ini/commit/2da90391ef70db41d10f013e3a87f9a8c5d01a72\"><code>2da9039</code></a> 1.3.6</li>\n<li><a href=\"https://github.com/npm/ini/commit/cfea636f534b5ca7550d2c28b7d1a95d936d56c6\"><code>cfea636</code></a> better git push script, before publish instead of after</li>\n<li><a href=\"https://github.com/npm/ini/commit/56d2805e07ccd94e2ba0984ac9240ff02d44b6f1\"><code>56d2805</code></a> do not allow invalid hazardous string as section name</li>\n<li>See full diff in <a href=\"https://github.com/isaacs/ini/compare/v1.3.5...v1.3.7\">compare view</a></li>\n</ul>\n</details>\n<details>\n<summary>Maintainer changes</summary>\n<p>This version was pushed to npm by <a href=\"https://www.npmjs.com/~isaacs\">isaacs</a>, a new releaser for ini since your current version.</p>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=ini&package-manager=npm_and_yarn&previous-version=1.3.5&new-version=1.3.7)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language\n- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language\n- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language\n- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language\n\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/vuejs/vue/network/alerts).\n\n</details>","Url":"https://github.com/vuejs/vue/pull/11819","RelatedDescription":"Open PR \"build(deps): bump ini from 1.3.5 to 1.3.7\" (#11819)"},{"Id":"761949613","IsPullRequest":true,"CreatedAt":"2020-12-11T08:42:37","Actor":"Pabitra-26","Number":"11818","RawContent":null,"Title":"Update README.md","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [ ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/11818","RelatedDescription":"Closed or merged PR \"Update README.md\" (#11818)"},{"Id":"760515760","IsPullRequest":true,"CreatedAt":"2020-12-09T17:16:59","Actor":"vue-bot","Number":"11817","RawContent":null,"Title":"[automated] Patreon sponsors update","State":"open","Body":"This is an automated pull request.","Url":"https://github.com/vuejs/vue/pull/11817","RelatedDescription":"Open PR \"[automated] Patreon sponsors update\" (#11817)"},{"Id":"760189668","IsPullRequest":false,"CreatedAt":"2020-12-09T11:28:45","Actor":"Jemory-git","Number":"11816","RawContent":null,"Title":"a bug for cached page instance or the component(keep-alive) --- $destory","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[http://thisIssueNeednotLink.com](http://thisIssueNeednotLink.com)\r\n\r\n\r\nthis is another same issue : https://github.com/vuejs/vue/issues/6509#issuecomment-347787474\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1、use <keep-alive> cache pages \r\n2、click btn to close the page， and destory the instance\r\n3、when reopen the page ，it will never be cached\r\n\r\n### What is expected?\r\nit is the most elegant method to cache pages with tab-tags。\r\nbut can not achieve cause this bug\r\n\r\n### What is actually happening?\r\nrepair\r\n\r\n---\r\nrepair\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11816","RelatedDescription":"Closed issue \"a bug for cached page instance or the component(keep-alive) --- $destory\" (#11816)"},{"Id":"760166673","IsPullRequest":false,"CreatedAt":"2020-12-09T09:36:55","Actor":"Jemory-git","Number":"11815","RawContent":null,"Title":"after cached page instance exec $destory,the page will never be cached; this bug existing many years??","State":"closed","Body":"看到$destroy这个方法，我觉得这就是正确的用法，通过组件里不同的用户行为决定离开页面时是否缓存组件。\r\n（比如一个留言组件，留言提交成功后这个组件应该销毁，如果没有提交，则应该保留缓存，让用户下次进来继续。）\r\n然而，destroy之后，再次重复进入这个组件会出现奇怪的结果，组件不能再被缓存了，我觉得这是bug吧。\r\n\r\n_Originally posted by @wanyaxing in https://github.com/vuejs/vue/issues/6509#issuecomment-347787474_","Url":"https://github.com/vuejs/vue/issues/11815","RelatedDescription":"Closed issue \"after cached page instance exec $destory,the page will never be cached; this bug existing many years??\" (#11815)"},{"Id":"759946153","IsPullRequest":false,"CreatedAt":"2020-12-09T08:42:50","Actor":"lynn-Chin","Number":"11813","RawContent":null,"Title":"Get same value on several items in a v-for loop","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codepen.io/lynn-chin/pen/xxEEZgR](https://codepen.io/lynn-chin/pen/xxEEZgR)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nI have an object array like this: [ { name: '01.jpg', id: 1234, url: '/example/01.jpg' }, { name: '02.jpg', id: 2345, url: '/example/02.jpg' } ];\r\nWhen I use v-for to render HTML structure, items in the object got same value for item.id:\r\n\r\nMy HTML structure is:\r\n           <div\r\n                class=\"single_image\"\r\n                v-for=\"(item, index) in images\"\r\n                :key=\"index\"\r\n              >\r\n                <img :src=\"item.url\" alt=\"\" />\r\n                <div class=\"image_title\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    @change=\"checkboxChange($event, item)\"\r\n                    ref=\"imgCheckBox\"\r\n                  />\r\n                  {{ item.name }}\r\n                </div>\r\n              </div>\r\nThe result of console.log(item.id, item.name) for each item:\r\n          12345678987654324  \"02.jpg\"    (wrong id)\r\n          12345678987654324  \"03.jpg\"    (wrong id)\r\n          12345678987654324  \"04.jpg\"\r\n          12345678987654326  \"05.jpg\"\r\n          12345678987654328  \"06.jpg\"    (wrong id)\r\n          12345678987654328  \"07.jpg\"    (wrong id)\r\n\r\nIf I change item.id's type from Number to String, this will not happen.\r\nI wanna know what is happen and how can I avoid this situation.  Does that mean I cannot use Number values in a v-for loop?\r\n\r\n### What is expected?\r\nI expect each item got its right id value.\r\n\r\n### What is actually happening?\r\nMost values for item.id are wrong.\r\n\r\n---\r\nMy Vue version is 2.6.12, but there's not such a choice.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11813","RelatedDescription":"Closed issue \"Get same value on several items in a v-for loop\" (#11813)"},{"Id":"760028517","IsPullRequest":true,"CreatedAt":"2020-12-09T06:01:42","Actor":"lduoduo","Number":"11814","RawContent":null,"Title":"fix: make ssr-build-plugin compatible with webpack4/5 (fix #11718)","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\nfixed issue [here](https://github.com/vuejs/vue/issues/11718)\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [ ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/11814","RelatedDescription":"Open PR \"fix: make ssr-build-plugin compatible with webpack4/5 (fix #11718)\" (#11814)"},{"Id":"759428039","IsPullRequest":false,"CreatedAt":"2020-12-08T14:25:53","Actor":"gh-xiaoxiao","Number":"11812","RawContent":null,"Title":"\"watch\" always listen for an unchanged array !","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codepen.io/gh-xiaoxiao/pen/ExgyewZ](https://codepen.io/gh-xiaoxiao/pen/ExgyewZ)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nEnter text1 or text2, and then view the print information\r\n\r\n### What is expected?\r\nPrint \"form.text1\" or \"form.text2\" only\r\n\r\n### What is actually happening?\r\n\"form.arr\" is also printed out\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11812","RelatedDescription":"Closed issue \"\"watch\" always listen for an unchanged array !\" (#11812)"},{"Id":"758778857","IsPullRequest":false,"CreatedAt":"2020-12-07T20:22:16","Actor":"StefanCardnell","Number":"11811","RawContent":null,"Title":"Default slots using functional components still call functional's render() when something else is slotted.","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/happy-pascal-reiyx?fontsize=14&hidenavigation=1&theme=dark](https://codesandbox.io/s/happy-pascal-reiyx?fontsize=14&hidenavigation=1&theme=dark)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1.  Please see linked minimal example.\r\n2. Create a component A which uses a functional component B inside a default slot.\r\n3. Use Component A, but slot in something else so the functional component B does not appear.\r\n\r\n### What is expected?\r\nThe render() function of the functional component should not be called. As it does not appear, I shouldn't expect its render function to be called.\r\n\r\n### What is actually happening?\r\nThe render() function is called, as seen by the console output which logs when the function is called.\r\n\r\n---\r\nIssues:\r\n    I encountered this when I was creating a table with 10,000 cells and each \\<\\td\\> was a functional component. However the table was able to slot in its own component over the \\<\\td\\>. Doing so meant the slotted clotted was created along with 10,000 unnecessary renders() from the functional component. This added about ~1s load time.\r\n\r\nWorkarounds:\r\n    Don't put the functional component inside the slot. Instead, the functional component should be used outside and have a v-if on it checking if the slot has not been used. It is the same end result, but render() is not called.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11811","RelatedDescription":"Closed issue \"Default slots using functional components still call functional's render() when something else is slotted.\" (#11811)"},{"Id":"758697253","IsPullRequest":false,"CreatedAt":"2020-12-07T17:58:00","Actor":"jrgleason","Number":"11810","RawContent":null,"Title":"Getting \"Uncaught DOMException: Operation is not supported\" when using Web Component inside Vue Component using ESM and Browser.","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://github.com/jrgleason/jrg/blob/EXAMPLES_FRAMEWORK_INT/jrg-ui/examples/vue/index.html](https://github.com/jrgleason/jrg/blob/EXAMPLES_FRAMEWORK_INT/jrg-ui/examples/vue/index.html)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nThis is a basic HTML page and should \"just work\". What would be expected is that the web component is embedded in the Vue Component, however, only the vue on renders. If I move the Web Component outside of the Vue component it renders as expected. \r\n\r\n### What is expected?\r\nThe custom element (web component) renders inside the Vue component.\r\n\r\n### What is actually happening?\r\nI get \"Uncaught DOMException: Operation is not supported\"\r\n\r\n---\r\nSO Available here https://stackoverflow.com/questions/65182891/how-do-i-use-a-non-vue-custom-web-component-in-a-vue-component-without-webpack. Answer does not solve the issues as can be seen by my updated version.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11810","RelatedDescription":"Closed issue \"Getting \"Uncaught DOMException: Operation is not supported\" when using Web Component inside Vue Component using ESM and Browser.\" (#11810)"}],"ResultType":"GitHubIssue"},"Router-Issues":{"Issues":[{"Id":"774932279","IsPullRequest":true,"CreatedAt":"2020-12-26T20:58:40","Actor":"ontl","Number":"3432","RawContent":null,"Title":"Add sample html5 history mode config for Vercel","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3432","RelatedDescription":"Open PR \"Add sample html5 history mode config for Vercel\" (#3432)"},{"Id":"774753104","IsPullRequest":false,"CreatedAt":"2020-12-25T17:47:05","Actor":"adamprocter","Number":"3431","RawContent":null,"Title":"ForceUpdate or forceRerender cause iOS to page refresh with History mode","State":"closed","Body":"### Version\r\n3.4.9\r\n\r\n### Reproduction link\r\n[https://alpha.nodenogg.in](https://alpha.nodenogg.in)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nI think have tracked the issue down as to when you use ForceUpdate or force rerendner to get updated data then the page will keep refreshing on iOS and fail with the error a problem repeatably occured. Will try to make a better MVP\r\n\r\n### What is expected?\r\nPage should load with updated data\r\n\r\n### What is actually happening?\r\npage crashed on iOS\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3431","RelatedDescription":"Closed issue \"ForceUpdate or forceRerender cause iOS to page refresh with History mode\" (#3431)"},{"Id":"774603775","IsPullRequest":false,"CreatedAt":"2020-12-25T02:28:11","Actor":"WorkaholicYuHao","Number":"3430","RawContent":null,"Title":"修改本地任意代码热重载后F5刷新页面会触发多次beforeEach","State":"closed","Body":"[<!--](url)\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vue-router\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n![image](https://user-images.githubusercontent.com/44229696/103114963-c5f56100-469b-11eb-8c3e-f89c72a8db12.png)\r\n\r\nbeforeEach页面处理代码：\r\nrouter.beforeEach((to,from,next)=>{\r\n  NProgress.start()\r\n  if(to.path != '/'){\r\n    console.log(to.path)\r\n    store.dispatch('menuList/getMenuList') \r\n    next()\r\n  }else{\r\n    next()\r\n  }\r\n})\r\n\r\n","Url":"https://github.com/vuejs/vue-router/issues/3430","RelatedDescription":"Closed issue \"修改本地任意代码热重载后F5刷新页面会触发多次beforeEach\" (#3430)"},{"Id":"774512819","IsPullRequest":false,"CreatedAt":"2020-12-24T17:29:34","Actor":"adamprocter","Number":"3429","RawContent":null,"Title":"iOS safari causing browser to refresh and fails to load","State":"closed","Body":"### Version\r\n3.4.9\r\n\r\n### Reproduction link\r\n[https://alpha.nodenogg.in](https://alpha.nodenogg.in\r\n\r\n\r\n### Steps to reproduce\r\nThis issue has come back to me this week and only happens on the real devices, I had managed to a work around I believe before however this may have just been a fluke and perhaps an updated vuex actually fixed something not sure if vuex had updated again between my last testing. Trying to use mobile safari plugged into mac to debug.\r\n\r\nvisit https://alpha.nodenogg.in - type in a device name and then a microcosm name on iOS device, page will then get stuck refreshing and crash, no issues on android or desktop browsers\r\n\r\nturning off History mode fixes the issue\r\n\r\n### What is expected?\r\npage should load the correct data\r\n\r\n### What is actually happening?\r\npage just refreshes until it crashes\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3429","RelatedDescription":"Closed issue \"iOS safari causing browser to refresh and fails to load\" (#3429)"},{"Id":"774500805","IsPullRequest":false,"CreatedAt":"2020-12-24T16:21:10","Actor":"adamprocter","Number":"3428","RawContent":null,"Title":"iOS safari causing browser to refresh and fails to load","State":"closed","Body":"### Version\r\n3.4.9\r\n\r\n### Reproduction link\r\n[https://alpha.nodenogg.in](https://alpha.nodenogg.in)\r\n\r\n\r\n### Steps to reproduce\r\nThis issue has come back to me this week and only happens on the real devices, I had managed to a work around I believe before however this may have just been a fluke and perhaps an updated vuex actually fixed something not sure if vuex had updated again between my last testing. Trying to use mobile safari plugged into mac to debug.\r\n\r\nvisit https://alpha.nodenogg.in - type in a device name and then a microcosm name on iOS device, page will then get stuck refreshing and crash, no issues on android or desktop browsers\r\n\r\n### What is expected?\r\npage should load the correct data\r\n\r\n### What is actually happening?\r\npage just refreshes until it crashes\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3428","RelatedDescription":"Closed issue \"iOS safari causing browser to refresh and fails to load\" (#3428)"},{"Id":"774500257","IsPullRequest":false,"CreatedAt":"2020-12-24T16:08:35","Actor":"adamprocter","Number":"3427","RawContent":null,"Title":"iOS Safari triggers page refresh","State":"closed","Body":"This issue has come back to me this week and only happens on the real devices, I had managed to a work around I believe before however this may have just been a fluke and perhaps an updated vuex actually fixed something not sure if vuex had updated again between my last testing. Trying to use mobile safari plugged into mac to debug. \r\n\r\nvisit https://alpha.nodenogg.in - type in a device name and then a microcosm name on iOS device, page will then get stuck refreshing and crash, no issues on android or desktop browsers","Url":"https://github.com/vuejs/vue-router/issues/3427","RelatedDescription":"Closed issue \"iOS Safari triggers page refresh\" (#3427)"},{"Id":"773601756","IsPullRequest":false,"CreatedAt":"2020-12-23T09:06:09","Actor":"Epic-Deno","Number":"3426","RawContent":null,"Title":"how to use  path-to-regexp","State":"closed","Body":"vue-router official documents recommend me to use uses path-to-regexp as its path matching engine,but i can not find any example about using it, colud you privide me some examples?","Url":"https://github.com/vuejs/vue-router/issues/3426","RelatedDescription":"Closed issue \"how to use  path-to-regexp\" (#3426)"},{"Id":"772584740","IsPullRequest":false,"CreatedAt":"2020-12-22T02:16:25","Actor":"yinglight","Number":"3425","RawContent":null,"Title":"router.go(-3) not working","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vue-router\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\nversion: \"vue-router\": \"^4.0.1\"\r\n\r\nI use 'this.$router.go(-2);' , but the page cannot be updated.\r\n\r\n\r\n\r\n","Url":"https://github.com/vuejs/vue-router/issues/3425","RelatedDescription":"Closed issue \"router.go(-3) not working\" (#3425)"},{"Id":"771970642","IsPullRequest":true,"CreatedAt":"2020-12-21T09:07:12","Actor":"joriewong","Number":"3421","RawContent":null,"Title":"Update navigation-guards.md","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3421","RelatedDescription":"Closed or merged PR \"Update navigation-guards.md\" (#3421)"},{"Id":"771987397","IsPullRequest":false,"CreatedAt":"2020-12-21T09:03:10","Actor":"wall-git","Number":"3424","RawContent":null,"Title":"When the scroll bar appears in the first page, the window scroll event is automatically triggered after the route jump. vue 3.0","State":"closed","Body":"### Version\r\n3.4.9\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/chrisvfritz/50wL7mdz/](https://jsfiddle.net/chrisvfritz/50wL7mdz/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nWhen the scroll bar appears in the first page, the window scroll event is automatically triggered after the route jump.\r\nfirst:（This problem occurs only when the scroll bar appears on the first page）----------\r\n~~~vue\r\n<template>\r\n  <img src=\"../assets/images/jzsq.png\" @click=\"topage({ url: 'ClassSign' })\" />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport router from '@/router';\r\nimport { defineComponent } from 'vue';\r\n\r\nexport default defineComponent({\r\n  name: 'Home',\r\n  components: {},\r\n  setup() {\r\n    const topage = (params: any) => {\r\n      router.push({\r\n        path: params.url\r\n      });\r\n    }\r\n    return {\r\n      topage\r\n    };\r\n  }\r\n});\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n\r\n~~~\r\n~~~vue\r\npush page-------------\r\n\r\n<template></template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, onMounted, reactive, ref } from 'vue';\r\nexport default defineComponent({\r\n  name: 'ClassSign',\r\n  components: {},\r\n  setup() {\r\n    window.addEventListener(\r\n      'scroll',\r\n      function () {\r\n        console.log('why do this ???');\r\n      },\r\n      { capture: false, passive: false }\r\n    );\r\n    return {};\r\n  }\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n~~~\r\nrouter\r\n~~~ts--------------\r\nconst routes: Array<RouteRecordRaw> = [\r\n  {\r\n    path: '/home',\r\n    name: 'Home',\r\n    component: Home\r\n  },\r\n  {\r\n    path: '/ClassSign',\r\n    name: 'ClassSign',\r\n    component: () => import('@/views/ClassSign.vue')\r\n  }\r\n];\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.VUE_APP_BASE_DIR),\r\n  routes \r\n});\r\n\r\n~~~\r\n\r\n### What is expected?\r\ndon't call the scroll event\r\n\r\n### What is actually happening?\r\nWhen the scroll bar appears in the first page, the window scroll event is automatically triggered after the route jump.vue 3.0\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3424","RelatedDescription":"Closed issue \"When the scroll bar appears in the first page, the window scroll event is automatically triggered after the route jump. vue 3.0\" (#3424)"},{"Id":"771983037","IsPullRequest":false,"CreatedAt":"2020-12-21T08:49:36","Actor":"wall-git","Number":"3423","RawContent":null,"Title":"When the scroll bar appears in the first page, the window scroll event is automatically triggered after the route jump.","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vue-router\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\nWhen the scroll bar appears in the first page, the window scroll event is automatically triggered after the route jump.\r\nfirst:（This problem occurs only when the scroll bar appears on the first page）\r\n~~~vue\r\n<template>\r\n  <img src=\"../assets/images/jzsq.png\" @click=\"topage({ url: 'ClassSign' })\" />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport router from '@/router';\r\nimport { defineComponent } from 'vue';\r\n\r\nexport default defineComponent({\r\n  name: 'Home',\r\n  components: {},\r\n  setup() {\r\n    const topage = (params: any) => {\r\n      router.push({\r\n        path: params.url\r\n      });\r\n    }\r\n    return {\r\n      topage\r\n    };\r\n  }\r\n});\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n\r\n~~~\r\n~~~vue\r\npush page\r\n\r\n<template></template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, onMounted, reactive, ref } from 'vue';\r\nexport default defineComponent({\r\n  name: 'ClassSign',\r\n  components: {},\r\n  setup() {\r\n    window.addEventListener(\r\n      'scroll',\r\n      function () {\r\n        console.log('why do this ???');\r\n      },\r\n      { capture: false, passive: true }\r\n    );\r\n    return {};\r\n  }\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n~~~","Url":"https://github.com/vuejs/vue-router/issues/3423","RelatedDescription":"Closed issue \"When the scroll bar appears in the first page, the window scroll event is automatically triggered after the route jump.\" (#3423)"},{"Id":"771979232","IsPullRequest":false,"CreatedAt":"2020-12-21T08:44:00","Actor":"wall-git","Number":"3422","RawContent":null,"Title":"When the scroll bar appears in the first interface, the window scroll event is automatically triggered after the route jump","State":"closed","Body":"When the scroll bar appears in the first page, the window scroll event is automatically triggered after the route jump.\r\nfirst:（This problem occurs only when the scroll bar appears on the first page）\r\n~~~vue\r\n<template>\r\n  <img src=\"../assets/images/jzsq.png\" @click=\"topage({ url: 'ClassSign' })\" />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport router from '@/router';\r\nimport { defineComponent } from 'vue';\r\n\r\nexport default defineComponent({\r\n  name: 'Home',\r\n  components: {},\r\n  setup() {\r\n    const topage = (params: any) => {\r\n      router.push({\r\n        path: params.url\r\n      });\r\n    }\r\n    return {\r\n      topage\r\n    };\r\n  }\r\n});\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n\r\n~~~\r\npush page\r\n~~~vue\r\n<template></template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, onMounted, reactive, ref } from 'vue';\r\nexport default defineComponent({\r\n  name: 'ClassSign',\r\n  components: {},\r\n  setup() {\r\n    window.addEventListener(\r\n      'scroll',\r\n      function () {\r\n        console.log('why do this ???');\r\n      },\r\n      { capture: false, passive: true }\r\n    );\r\n    return {};\r\n  }\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n\r\n~~~","Url":"https://github.com/vuejs/vue-router/issues/3422","RelatedDescription":"Closed issue \"When the scroll bar appears in the first interface, the window scroll event is automatically triggered after the route jump\" (#3422)"},{"Id":"771589116","IsPullRequest":false,"CreatedAt":"2020-12-20T13:34:55","Actor":"niubaobaozsy","Number":"3420","RawContent":null,"Title":"Why route { path: '/a//', component: a } can match '/a'","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vue-router\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n`route.js ` defined\r\n```\r\nconst routes = {\r\n  // 一共四个路由，分别对应着什么\r\n  // 我的红包+订单，提现，提现规则\r\n  '/': OrderList,\r\n  '/revenues//': Revenues,\r\n  '/withdraw/': Withdraw,\r\n  '/withdraw_rule/': WithdrawRule,\r\n};\r\n\r\n//------------------\r\n// 下面代码别动\r\n\r\nVue.use(VueRouter);\r\n\r\n\r\nconst router = new VueRouter({\r\n  mode: 'history',\r\n  base: `/activity/h5/${PROJECT_NAME}/`,\r\n  routes: Object.keys(routes).map(path => ({ path, component: routes[path] })),\r\n});\r\n```\r\n<img width=\"1390\" alt=\"截屏2020-12-20 下午9 31 31\" src=\"https://user-images.githubusercontent.com/22836707/102714646-115de700-430b-11eb-8200-2689b6ee3573.png\">\r\nWhy '/revenues//' can match '/revenues'","Url":"https://github.com/vuejs/vue-router/issues/3420","RelatedDescription":"Closed issue \"Why route { path: '/a//', component: a } can match '/a'\" (#3420)"},{"Id":"771505060","IsPullRequest":false,"CreatedAt":"2020-12-20T09:30:15","Actor":"darkylmnx","Number":"3419","RawContent":null,"Title":"route.query & route.meta empty on created in the root component having router-view","State":"closed","Body":"### Version\r\n3.4.9\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-router-routes-empty-on-load-jyl0y?file=/src/App.vue](https://codesandbox.io/s/vue-router-routes-empty-on-load-jyl0y?file=/src/App.vue)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Go to the reproduction link\r\n2. After load, check the console\r\n\r\n### What is expected?\r\nI was expecting the current route's values to be filled, so as to do conditionnal stuff based on it.\r\n\r\n### What is actually happening?\r\n- On created it's empty\r\n- On update it get's filled\r\n\r\nMy guess is, it's filled only when router-view is resolved.\r\nThis makes conditionnals based on route.meta or route.query impossible in the root component holding the router-view.\r\n\r\n![image](https://user-images.githubusercontent.com/1426357/102704585-a61a0380-427d-11eb-9883-99d630aab784.png)\r\n\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3419","RelatedDescription":"Closed issue \"route.query & route.meta empty on created in the root component having router-view\" (#3419)"},{"Id":"767931895","IsPullRequest":true,"CreatedAt":"2020-12-18T08:49:58","Actor":"champkeh","Number":"3416","RawContent":null,"Title":"docs(zh): translate navigation-failures.md to chinese.","State":"closed","Body":"","Url":"https://github.com/vuejs/vue-router/pull/3416","RelatedDescription":"Closed or merged PR \"docs(zh): translate navigation-failures.md to chinese.\" (#3416)"},{"Id":"768294496","IsPullRequest":false,"CreatedAt":"2020-12-16T12:49:28","Actor":"martinmckenna","Number":"3417","RawContent":null,"Title":"Recognize Props Passed to router-view As Reactive","State":"closed","Body":"### What problem does this feature solve?\r\nCurrently having an issue where I want to\r\n\r\n1. Create a nested router-view\r\n2. Do some API fetching in the parent\r\n3. Pass down data to all the children components\r\n4. Have the children re-render when the reactive values update\r\n\r\nWhat I tried was this\r\n\r\n```vue\r\n/* my-view.vue */\r\n\r\n<template>\r\n  <router-view\r\n    :data=\"data\"\r\n    :loading=\"loading\"\r\n    :error=\"error\"\r\n    :lastUpdated=\"lastUpdated\"\r\n  />\r\n</template>\r\n\r\n<script>\r\nimport { useAPIRequest } from '@/hooks/useAPIRequest';\r\n\r\nexport default {\r\n  setup() {\r\n   /* this will make the API request on mount and update the appropriate values on resolve/reject */\r\n    const {\r\n      data,\r\n      loading,\r\n      error,\r\n      lastUpdated,\r\n    } = useAPIRequest(\r\n      () => Promise.resolve([]),\r\n    );\r\n\r\n    return {\r\n      data,\r\n      loading,\r\n      error,\r\n      lastUpdated,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n```\r\n\r\n```js\r\n/* useAPIRequest.js */\r\n\r\nimport { ref } from '@vue/composition-api';\r\n/**\r\n *\r\n * @param { () => Promise<any> } request\r\n * @param { any } initialData\r\n *\r\n * @returns {\r\n *  loading: boolean;\r\n *  error: any;\r\n *  lastUpdated: number;\r\n *  data: any;\r\n * }\r\n */\r\nexport const useAPIRequest = (\r\n  request,\r\n  initialData,\r\n) => {\r\n  const data = ref(initialData || null);\r\n  const loading = ref(true);\r\n  const error = ref(null);\r\n  const lastUpdated = ref(0);\r\n\r\n  const handleRequest = () => {\r\n    if (!request) {\r\n      return Promise.resolve();\r\n    }\r\n\r\n    if (lastUpdated.value === 0) {\r\n      loading.value = true;\r\n    }\r\n    return request()\r\n      .then((response) => {\r\n        data.value = response;\r\n        loading.value = false;\r\n        lastUpdated.value = Date.now();\r\n        error.value = null;\r\n      })\r\n      .catch((err) => {\r\n        error.value = err;\r\n        loading.value = false;\r\n      });\r\n  };\r\n\r\n  handleRequest();\r\n\r\n  return {\r\n    data,\r\n    loading,\r\n    error,\r\n    lastUpdated,\r\n    update: handleRequest,\r\n  };\r\n};\r\n\r\nexport default useAPIRequest;\r\n```\r\n\r\nBut this doesn't work because the components that are rendered in the nested routes have access to these values through `attrs.data`, `attrs.loading`, `attrs.lastUpdated`, etc. They are not reactive and the children components don't re-render when these values change\r\n\r\nWhat ended up working for me was passing the values down as refs, like so\r\n\r\n```vue\r\n/* my-view.vue */\r\n\r\n<template>\r\n  <router-view\r\n    :data=\"data\"\r\n    :loading=\"loading\"\r\n    :error=\"error\"\r\n    :lastUpdated=\"lastUpdated\"\r\n  />\r\n</template>\r\n\r\n<script>\r\nimport { computed } from '@vue/composition-api';\r\nimport { useAPIRequest } from '@/hooks/useAPIRequest';\r\n\r\nexport default {\r\n  setup() {\r\n    const {\r\n      data,\r\n      loading,\r\n      error,\r\n      lastUpdated,\r\n    } = useAPIRequest(\r\n      () => Promise.resolve([]),\r\n    );\r\n\r\n    return {\r\n      data: computed(() => data),\r\n      loading: computed(() => loading),\r\n      error: computed(() => error),\r\n      lastUpdated: computed(() => lastUpdated),\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n```\r\n\r\nBut I'm assuming passing down refs is an anti-pattern and probably isn't recommended.\r\n\r\nMy ask is that I want the ability to pass down reactive values to `<router-view />` children and have them re-render when these values change\r\n\r\n### What does the proposed API look like?\r\nPossibly `<router-view render=\"(Component => <Component myProp=\"something\" />)\" />`\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3417","RelatedDescription":"Closed issue \"Recognize Props Passed to router-view As Reactive\" (#3417)"},{"Id":"768735562","IsPullRequest":true,"CreatedAt":"2020-12-16T11:19:55","Actor":"baranelitez","Number":"3418","RawContent":null,"Title":"Update dynamic-matching.md. Adding optional parameters example.","State":"closed","Body":"The docs never mention optional parameters for paths. This PR adds an example.\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3418","RelatedDescription":"Closed or merged PR \"Update dynamic-matching.md. Adding optional parameters example.\" (#3418)"},{"Id":"767110580","IsPullRequest":false,"CreatedAt":"2020-12-15T08:50:39","Actor":"dshvv","Number":"3415","RawContent":null,"Title":"chrome-headless(chromeDriver) mode，Abnormal performance","State":"closed","Body":"### Version\r\n3.2.0\r\n\r\n### Reproduction link\r\n[https://router.vuejs.org/zh/](https://router.vuejs.org/zh/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n无头浏览器模式下，官方demo的history模式路由，会被重定向，并且自动添加“#”\r\nIn chrome-headless(chromeDriver) mode, \r\nthe history mode route of the official demo-- will be redirected, --and the \"#\" will be automatically added\r\n![history-model](https://user-images.githubusercontent.com/18003391/102161354-25948500-3ec2-11eb-9280-c6fcef7c152f.gif)\r\n\r\n\r\n### What is expected?\r\nnormal using\r\n\r\n### What is actually happening?\r\n will be redirected, --and the \"#\" will be automatically added\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3415","RelatedDescription":"Closed issue \"chrome-headless(chromeDriver) mode，Abnormal performance\" (#3415)"},{"Id":"767107517","IsPullRequest":false,"CreatedAt":"2020-12-15T02:49:50","Actor":"dshvv","Number":"3414","RawContent":null,"Title":"chrome-headless(chromeDriver) mode","State":"closed","Body":"### Version\r\n3.2.0\r\n\r\n### What is actually happening?\r\n无头浏览器模式下，官方demo的history模式路由，会被重定向，并且自动添加“#”\r\nIn chrome-headless(chromeDriver) mode, \r\nthe history mode route of the official demo-- will be redirected, --and the \"#\" will be automatically added\r\n![history-model](https://user-images.githubusercontent.com/18003391/102161354-25948500-3ec2-11eb-9280-c6fcef7c152f.gif)\r\n\r\n### What is expected?\r\nnormal useing\r\n","Url":"https://github.com/vuejs/vue-router/issues/3414","RelatedDescription":"Closed issue \"chrome-headless(chromeDriver) mode\" (#3414)"},{"Id":"767106048","IsPullRequest":false,"CreatedAt":"2020-12-15T02:46:56","Actor":"dshvv","Number":"3413","RawContent":null,"Title":"chrome-headless(chromeDriver) mode","State":"closed","Body":"Version\r\n3.2.0\r\n\r\n无头浏览器模式下，官方demo的history模式路由，会被重定向，并且自动添加“#”\r\nIn chrome-headless(chromeDriver) mode, \r\nthe history mode route of the official demo-- will be redirected, --and the \"#\" will be automatically added\r\n![history-model](https://user-images.githubusercontent.com/18003391/102161354-25948500-3ec2-11eb-9280-c6fcef7c152f.gif)\r\n\r\n","Url":"https://github.com/vuejs/vue-router/issues/3413","RelatedDescription":"Closed issue \"chrome-headless(chromeDriver) mode\" (#3413)"},{"Id":"767104257","IsPullRequest":false,"CreatedAt":"2020-12-15T02:43:19","Actor":"dshvv","Number":"3412","RawContent":null,"Title":" chrome-headless(chromeDriver) mode","State":"closed","Body":"无头浏览器模式下，官方demo的history模式路由，会被重定向，并且自动添加“#”\r\nIn chrome-headless(chromeDriver) mode, \r\nthe history mode route of the official demo-- will be redirected, --and the \"#\" will be automatically added\r\n![history-model](https://user-images.githubusercontent.com/18003391/102161354-25948500-3ec2-11eb-9280-c6fcef7c152f.gif)\r\n\r\n","Url":"https://github.com/vuejs/vue-router/issues/3412","RelatedDescription":"Closed issue \" chrome-headless(chromeDriver) mode\" (#3412)"},{"Id":"767102032","IsPullRequest":false,"CreatedAt":"2020-12-15T02:39:17","Actor":"dshvv","Number":"3411","RawContent":null,"Title":"chrome-headless&&history-model","State":"closed","Body":"无头浏览器模式下，官方demo的history模式路由，会被重定向，并且自动添加“#”\r\nIn chrome-headless(chromeDriver) mode, \r\nthe history mode route of the official demo-- will be redirected, --and the \"#\" will be automatically added\r\n![history-model](https://user-images.githubusercontent.com/18003391/102161354-25948500-3ec2-11eb-9280-c6fcef7c152f.gif)\r\n","Url":"https://github.com/vuejs/vue-router/issues/3411","RelatedDescription":"Closed issue \"chrome-headless&&history-model\" (#3411)"},{"Id":"765181931","IsPullRequest":false,"CreatedAt":"2020-12-13T08:22:32","Actor":"ThanhTruc3294","Number":"3410","RawContent":null,"Title":"how can i cccess VueRouter outside Vue components in vue 3","State":"closed","Body":"interceptor.ts\r\n`import CommonService from '@/services/CommonService';\r\nimport axios from \"axios\";\r\nimport RoutePath from '@/commons/RoutePath';\r\nimport router from '@/presentation/router/index';\r\n\r\nconst axiosApiInstance = axios.create();\r\n// Request interceptor for API calls\r\naxiosApiInstance.interceptors.request.use(\r\n    async config => {\r\n\r\n        config.headers = {\r\n            \"Content-type\": \"application/json; charset=UTF-8\",\r\n            Accept: \"application/json\",\r\n            lang: \"ja\"\r\n        };\r\n        return config;\r\n    },\r\n    error => {\r\n        Promise.reject(error);\r\n    }\r\n);\r\n\r\n// Response interceptor for API calls\r\naxiosApiInstance.interceptors.response.use(\r\n    response => {\r\n        router.push(RoutePath.TIME_OUT);\r\n        return response.data;\r\n    },\r\n    async function(error) {\r\n        const BAD_REQUEST = 400;\r\n        const UNAUTHORIZED = 401;\r\n        const FORBIDDEN = 403;\r\n        const NOT_FOUND = 404;\r\n        const SERVER_ERROR = 500;\r\n        const response = error.response;\r\n        if (response.status === BAD_REQUEST) {\r\n            return Promise.reject(response.data);\r\n        }\r\n        if (response.status === FORBIDDEN) {\r\n            return Promise.reject(response.data);\r\n        }\r\n        if (response.status === UNAUTHORIZED) {\r\n            if (response.request.responseURL.includes(\"/auth/check\")) {\r\n                return Promise.reject(response.data);\r\n            }\r\n            CommonService.deleteCookie(\"is_login\");\r\n            CommonService.deleteCookie(\"user\");\r\n            CommonService.deleteCookie(\"user_roles\");\r\n            localStorage.removeItem(\"accountName\");\r\n        }\r\n        if (response.status === NOT_FOUND) {\r\n            return Promise.reject(response.data);\r\n        }\r\n        if (response.status === SERVER_ERROR) {\r\n            return Promise.reject(response);\r\n        }\r\n        return Promise.reject(response);\r\n    }\r\n);\r\n\r\nexport default axiosApiInstance;\r\n`\r\nhow can i use router in this file? ","Url":"https://github.com/vuejs/vue-router/issues/3410","RelatedDescription":"Closed issue \"how can i cccess VueRouter outside Vue components in vue 3\" (#3410)"},{"Id":"763954978","IsPullRequest":false,"CreatedAt":"2020-12-12T15:25:18","Actor":"ivanjaros","Number":"3409","RawContent":null,"Title":"Router link access","State":"closed","Body":"I am trying to add access control to links. I can do some basic control in router.beforeEach but that does not prevent links to be rendered. So I need to hook into links and prevent them from being rendered if some conditions are not met. In order to do that I need some way into the router link component + access to the params/props being passed to it.\r\n\r\nIs that possible somehow or do I have to create some sort of wrapper component and put the logic in there?","Url":"https://github.com/vuejs/vue-router/issues/3409","RelatedDescription":"Closed issue \"Router link access\" (#3409)"},{"Id":"761850126","IsPullRequest":true,"CreatedAt":"2020-12-11T03:29:56","Actor":"dependabot[bot]","Number":"3408","RawContent":null,"Title":"build(deps): bump ini from 1.3.5 to 1.3.7","State":"open","Body":"Bumps [ini](https://github.com/isaacs/ini) from 1.3.5 to 1.3.7.\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/npm/ini/commit/c74c8af35f32b801a7e82a8309eab792a95932f6\"><code>c74c8af</code></a> 1.3.7</li>\n<li><a href=\"https://github.com/npm/ini/commit/024b8b55ac1c980c6225607b007714c54eb501ba\"><code>024b8b5</code></a> update deps, add linting</li>\n<li><a href=\"https://github.com/npm/ini/commit/032fbaf5f0b98fce70c8cc380e0d05177a9c9073\"><code>032fbaf</code></a> Use Object.create(null) to avoid default object property hazards</li>\n<li><a href=\"https://github.com/npm/ini/commit/2da90391ef70db41d10f013e3a87f9a8c5d01a72\"><code>2da9039</code></a> 1.3.6</li>\n<li><a href=\"https://github.com/npm/ini/commit/cfea636f534b5ca7550d2c28b7d1a95d936d56c6\"><code>cfea636</code></a> better git push script, before publish instead of after</li>\n<li><a href=\"https://github.com/npm/ini/commit/56d2805e07ccd94e2ba0984ac9240ff02d44b6f1\"><code>56d2805</code></a> do not allow invalid hazardous string as section name</li>\n<li>See full diff in <a href=\"https://github.com/isaacs/ini/compare/v1.3.5...v1.3.7\">compare view</a></li>\n</ul>\n</details>\n<details>\n<summary>Maintainer changes</summary>\n<p>This version was pushed to npm by <a href=\"https://www.npmjs.com/~isaacs\">isaacs</a>, a new releaser for ini since your current version.</p>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=ini&package-manager=npm_and_yarn&previous-version=1.3.5&new-version=1.3.7)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language\n- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language\n- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language\n- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language\n\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/vuejs/vue-router/network/alerts).\n\n</details>","Url":"https://github.com/vuejs/vue-router/pull/3408","RelatedDescription":"Open PR \"build(deps): bump ini from 1.3.5 to 1.3.7\" (#3408)"},{"Id":"758828259","IsPullRequest":true,"CreatedAt":"2020-12-07T20:34:37","Actor":"Roriz","Number":"3407","RawContent":null,"Title":"docs(dynamic-matching): add optional param on docs","State":"open","Body":"## Motivation\r\nMake explicit the optional condition to params on path.\r\nThis behavior already is explicit on examples: https://github.com/vuejs/vue-router/blob/dev/examples/route-matching/app.js","Url":"https://github.com/vuejs/vue-router/pull/3407","RelatedDescription":"Open PR \"docs(dynamic-matching): add optional param on docs\" (#3407)"},{"Id":"758817835","IsPullRequest":false,"CreatedAt":"2020-12-07T20:25:49","Actor":"FluencyMatt","Number":"3406","RawContent":null,"Title":"Make RouterLink a functional component","State":"closed","Body":"### What problem does this feature solve?\r\nWhen there are hundreds of RouterLink components on a page (in table columns for instance), page performance suffers due to the overhead of maintaining all those instances. In our app, Vue dev tools Performance tab puts RouterLink at or near the top of the list. This feature will significantly reduce the render cost of RouterLink. \r\n\r\n### What does the proposed API look like?\r\nSwitching RouterLink to `functional: true` should be backwards compatible without adding anything to the API. I propose something like the following. My initial testing is promising. Happy to submit the PR.\r\n\r\n    functional: true,\r\n    render: function render (h, context) {\r\n        const router = context.parent.$router\r\n        const current = context.parent.$route\r\n        ... <etc. following all the functional component rules>\r\n        const data: any = { class: [classes, context.data.staticClass, context.data.class] }\r\n        ...\r\n        return h(context.props.tag, data, context.$slots.default)\r\n    }\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3406","RelatedDescription":"Closed issue \"Make RouterLink a functional component\" (#3406)"},{"Id":"758565587","IsPullRequest":false,"CreatedAt":"2020-12-07T15:01:33","Actor":"ivanushkaPr","Number":"3404","RawContent":null,"Title":"exports is not defined","State":"closed","Body":"### Version\r\n4.0.0-0\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-router-nodod?file=/src/App.vue](https://codesandbox.io/s/vue-router-nodod?file=/src/App.vue)\r\n\r\n### Steps to reproduce\r\nI have this file structure and files on my local computer - https://codesandbox.io/s/vue-router-nodod?file=/src/App.vue\r\nUnfortunately, this files work only in codesanbox. If start dev build via npm run serve on local computer, i get a following error in browser console:\r\n\r\nUncaught ReferenceError: exports is not defined\r\n    at Module.eval (vue-router.esm-bundler.js?6c02:2306)\r\n    at eval (vue-router.esm-bundler.js:3375)\r\n    at Module../node_modules/vue-router/dist/vue-router.esm-bundler.js (chunk-vendors.js:1247)\r\n    at __webpack_require__ (app.js:849)\r\n    at fn (app.js:151)\r\n    at eval (main.js:11)\r\n    at Module../src/main.js (app.js:1513)\r\n    at __webpack_require__ (app.js:849)\r\n    at fn (app.js:151)\r\n    at Object.1 (app.js:1526)\r\n\r\n\r\n\r\n\r\n\r\n\r\n### What is expected?\r\nexpecting the program to run correctly\r\n\r\n### What is actually happening?\r\nvue router doesnt work correctly\r\n\r\n---\r\nCan it be because i have old version of webpack or typescript installed globally on local machine? \r\nIf yes, why vue cli working correctly, but not vue-router.\r\nThis is my repository with all the files https://github.com/ivanushkaPr/vueRouting\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3404","RelatedDescription":"Closed issue \"exports is not defined\" (#3404)"},{"Id":"758578260","IsPullRequest":false,"CreatedAt":"2020-12-07T14:49:45","Actor":"Menna-Elgohary","Number":"3405","RawContent":null,"Title":"How to create sitemap file to my Vue application?","State":"closed","Body":"How to create sitemap file to my Vue application?","Url":"https://github.com/vuejs/vue-router/issues/3405","RelatedDescription":"Closed issue \"How to create sitemap file to my Vue application?\" (#3405)"},{"Id":"758542545","IsPullRequest":false,"CreatedAt":"2020-12-07T14:17:06","Actor":"huajianreno","Number":"3403","RawContent":null,"Title":"The callback passed to next is executed before mounted","State":"closed","Body":"### Version\r\n3.4.6\r\n\r\n### Reproduction link\r\nno link\r\n\r\n\r\n### Steps to reproduce\r\n1. have beforeRouteEnter and mounted hooks in a component\r\n2. have next() with callback in beforeRouteEnter\r\n3. use different version of vue-router before(3.4.5 or other) and after 3.4.6\r\n\r\n### What is expected?\r\nThe callback passed to next in beforeRouteEnter is executed after mounted.\r\n\r\n### What is actually happening?\r\nThe callback passed to next in beforeRouteEnter is executed before mounted.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3403","RelatedDescription":"Closed issue \"The callback passed to next is executed before mounted\" (#3403)"}],"ResultType":"GitHubIssue"},"Vuex-Issues":{"Issues":[{"Id":"774914362","IsPullRequest":false,"CreatedAt":"2020-12-26T18:22:25","Actor":"jguillod","Number":"1918","RawContent":null,"Title":"ShoppingCart.vue : incorrect usage of :key attribute","State":"open","Body":"### What problem does this feature solve?\r\nThis following correction will help developers better understand your example and eliminates confusion.\r\n\r\n### What does the proposed API look like?\r\nLine 6 to 8 of `ShoppingCart.vue` file is :\r\n\r\n```\r\n      <li\r\n        v-for=\"product in products\"\r\n        :key=\"product.id\">\r\n```\r\n\r\nbut since `product.id` is undefined in result of computed getters `cartProducts` the `:key` attribute should be dropped. Code should simply be written:\r\n\r\n```\r\n      <li\r\n        v-for=\"product in products\">\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1918","RelatedDescription":"Open issue \"ShoppingCart.vue : incorrect usage of :key attribute\" (#1918)"},{"Id":"774493405","IsPullRequest":false,"CreatedAt":"2020-12-24T15:44:41","Actor":"utnaf","Number":"1917","RawContent":null,"Title":"No idea why this is open...","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vuex\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n","Url":"https://github.com/vuejs/vuex/issues/1917","RelatedDescription":"Closed issue \"No idea why this is open...\" (#1917)"},{"Id":"773516514","IsPullRequest":true,"CreatedAt":"2020-12-23T12:28:31","Actor":"tongtannan","Number":"1915","RawContent":null,"Title":"1.js","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1915","RelatedDescription":"Closed or merged PR \"1.js\" (#1915)"},{"Id":"773567409","IsPullRequest":true,"CreatedAt":"2020-12-23T08:03:24","Actor":"peter50216","Number":"1916","RawContent":null,"Title":"docs(typescript-support): fix .js in comment","State":"open","Body":"The extension should be .ts instead of .js, since the file is in TypeScript.","Url":"https://github.com/vuejs/vuex/pull/1916","RelatedDescription":"Open PR \"docs(typescript-support): fix .js in comment\" (#1916)"},{"Id":"773358093","IsPullRequest":false,"CreatedAt":"2020-12-23T01:46:07","Actor":"Alanscut","Number":"1914","RawContent":null,"Title":"When not in the ci environment, puppeteerOptions will be set to empty, causing the test case to fail under Windows.","State":"open","Body":"### Version\r\n3.6.0\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vuex](https://github.com/vuejs/vuex)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nnpm install<br >\r\nnpm run test:e2e\r\n\r\n### What is expected?\r\nTest case of e2e passed.\r\n\r\n### What is actually happening?\r\nshow error like this:\r\n```shell\r\n FAIL  test/e2e/chat.spec.js (13.559 s)\r\n  ● e2e/chat › chat app\r\n\r\n    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.\r\n\r\n      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)\r\n\r\n  ● e2e/chat › chat app\r\n\r\n    TypeError: Cannot read property 'goto' of undefined\r\n\r\n       5 | \r\n       6 |   test('chat app', async () => {\r\n    >  7 |     await page().goto('http://localhost:8080/chat/')\r\n         |               ^\r\n       8 | \r\n       9 |     expect(await text('.thread-count')).toContain('Unread threads: 2')\r\n      10 |     expect(await count('.thread-list-item')).toBe(3)\r\n\r\n      at _callee$ (test/e2e/chat.spec.js:7:15)\r\n      at tryCatch (node_modules/regenerator-runtime/runtime.js:63:40)\r\n      at Generator.invoke [as _invoke] (node_modules/regenerator-runtime/runtime.js:293:22)     \r\n      at Generator.next (node_modules/regenerator-runtime/runtime.js:118:21)\r\n      at asyncGeneratorStep (test/e2e/chat.spec.js:5:103)\r\n      at _next (test/e2e/chat.spec.js:7:194)\r\n      at test/e2e/chat.spec.js:7:364\r\n      at Object.<anonymous> (test/e2e/chat.spec.js:7:97)\r\n...\r\n```\r\n\r\n---\r\nIf `puppeteerOptions` is set to `{ args: ['--no-sandbox', '--disable-setuid-sandbox'] }` in the local environment, the test cases of e2e can pass.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1914","RelatedDescription":"Open issue \"When not in the ci environment, puppeteerOptions will be set to empty, causing the test case to fail under Windows.\" (#1914)"},{"Id":"773211434","IsPullRequest":true,"CreatedAt":"2020-12-22T20:02:48","Actor":"dependabot[bot]","Number":"1913","RawContent":null,"Title":"build(deps): bump node-notifier from 8.0.0 to 8.0.1","State":"open","Body":"Bumps [node-notifier](https://github.com/mikaelbr/node-notifier) from 8.0.0 to 8.0.1.\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/mikaelbr/node-notifier/blob/v8.0.1/CHANGELOG.md\">node-notifier's changelog</a>.</em></p>\n<blockquote>\n<h3><code>v8.0.1</code></h3>\n<ul>\n<li>fixes possible injection issue for notify-send</li>\n</ul>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/mikaelbr/node-notifier/commit/5d62799dab88505a709cd032653b2320c5813fce\"><code>5d62799</code></a> v8.0.1</li>\n<li><a href=\"https://github.com/mikaelbr/node-notifier/commit/0c4a80df9a3b5015cd1e1ab858e008be3fece082\"><code>0c4a80d</code></a> chore: adds changelog</li>\n<li><a href=\"https://github.com/mikaelbr/node-notifier/commit/f5a7bc647589fc89ac64b0f1d259a853fcf057bc\"><code>f5a7bc6</code></a> fix: test cases</li>\n<li><a href=\"https://github.com/mikaelbr/node-notifier/commit/b9d148d697d3db807f653e2e6953c3de57dfeb8a\"><code>b9d148d</code></a> patch: fixes possible injection issue for notify-send</li>\n<li>See full diff in <a href=\"https://github.com/mikaelbr/node-notifier/compare/v8.0.0...v8.0.1\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=node-notifier&package-manager=npm_and_yarn&previous-version=8.0.0&new-version=8.0.1)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language\n- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language\n- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language\n- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language\n\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/vuejs/vuex/network/alerts).\n\n</details>","Url":"https://github.com/vuejs/vuex/pull/1913","RelatedDescription":"Open PR \"build(deps): bump node-notifier from 8.0.0 to 8.0.1\" (#1913)"},{"Id":"773061201","IsPullRequest":true,"CreatedAt":"2020-12-22T16:08:52","Actor":"Xenonym","Number":"1912","RawContent":null,"Title":"docs: fix broken anchor link","State":"open","Body":"","Url":"https://github.com/vuejs/vuex/pull/1912","RelatedDescription":"Open PR \"docs: fix broken anchor link\" (#1912)"},{"Id":"772728492","IsPullRequest":true,"CreatedAt":"2020-12-22T07:54:37","Actor":"SkyLin0909","Number":"1911","RawContent":null,"Title":"Update .gitignore","State":"open","Body":"","Url":"https://github.com/vuejs/vuex/pull/1911","RelatedDescription":"Open PR \"Update .gitignore\" (#1911)"},{"Id":"772135636","IsPullRequest":true,"CreatedAt":"2020-12-21T12:34:21","Actor":"Alanscut","Number":"1910","RawContent":null,"Title":"fix #1909: single quotes cannot be identified in package.json of the Windows OS","State":"open","Body":"Fix #1909 ","Url":"https://github.com/vuejs/vuex/pull/1910","RelatedDescription":"Open PR \"fix #1909: single quotes cannot be identified in package.json of the Windows OS\" (#1910)"},{"Id":"772133480","IsPullRequest":false,"CreatedAt":"2020-12-21T12:30:52","Actor":"Alanscut","Number":"1909","RawContent":null,"Title":"Single quotes cannot be identified in package.json of the Windows operating system.","State":"open","Body":"### Version\r\n4.0.0-rc.2\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vuex/blob/c9dbb13d4138d0e7d82d103dd3275fc18fa72d28/package.json#L33](https://github.com/vuejs/vuex/blob/c9dbb13d4138d0e7d82d103dd3275fc18fa72d28/package.json#L33)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nyarn run test:e2e\r\n\r\n### What is expected?\r\nAll tests pass\r\n\r\n### What is actually happening?\r\nConsoling an error: ''jest' is not an internal or external command, nor is it an executable program or batch.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1909","RelatedDescription":"Open issue \"Single quotes cannot be identified in package.json of the Windows operating system.\" (#1909)"},{"Id":"772127042","IsPullRequest":true,"CreatedAt":"2020-12-21T12:20:57","Actor":"Alanscut","Number":"1908","RawContent":null,"Title":"fix #1899: todomvc case failed in windows and some linux os","State":"open","Body":"As `clear-completed button`  is part of `footer`, although we expect `await click('footer')` will trigger the `footer` element, however it actually triggered the `clear-completed button`, so the next asserts will failed. 4.0 branch has the same problem.\r\nhttps://github.com/vuejs/vuex/blob/c9dbb13d4138d0e7d82d103dd3275fc18fa72d28/test/e2e/todomvc.spec.js#L123-L125\r\n\r\nchange click `footer` to `.todo-count` will make sure test cases pass, which could fix #1899.","Url":"https://github.com/vuejs/vuex/pull/1908","RelatedDescription":"Open PR \"fix #1899: todomvc case failed in windows and some linux os\" (#1908)"},{"Id":"771006334","IsPullRequest":true,"CreatedAt":"2020-12-18T16:15:21","Actor":"fangbinwei","Number":"1907","RawContent":null,"Title":"fix: webpack bundle with 'vuex.esm-bundler.js'","State":"open","Body":"fixes #1906","Url":"https://github.com/vuejs/vuex/pull/1907","RelatedDescription":"Open PR \"fix: webpack bundle with 'vuex.esm-bundler.js'\" (#1907)"},{"Id":"770995445","IsPullRequest":false,"CreatedAt":"2020-12-18T15:59:52","Actor":"fangbinwei","Number":"1906","RawContent":null,"Title":"tree shaking not work because of vuex.mjs","State":"open","Body":"### Version\r\n4.0.0-rc.2\r\n\r\n### Reproduction link\r\n[https://github.com/fangbinwei/vuex-next-issue](https://github.com/fangbinwei/vuex-next-issue)\r\n\r\n### Steps to reproduce\r\n1. yarn build\r\n2. search `prev state` in dist/main.js to validate if bundle contains `createLogger`\r\n\r\nhttps://github.com/vuejs/vuex/blob/bb7885700d7bd7afd4d12fc8be7f5b3eeaa58b0e/src/plugins/logger.js#L33\r\n\r\n**main.js**\r\n```js\r\n// tree shaking not work because of vuex.mjs\r\nimport {Store} from 'vuex'\r\n\r\nconsole.log(Store)\r\n```\r\noutput(external vue)\r\n```bash\r\n[webpack-cli] Compilation finished\r\nasset main.js 12.1 KiB [emitted] [minimized] (name: main) 2 related assets\r\norphan modules 400 bytes [orphan] 1 module\r\nruntime modules 221 bytes 1 module\r\nbuilt modules 35.6 KiB [built]\r\n  ./src/index.js   1 modules 567 bytes [built] [code generated]\r\n  ./node_modules/vuex/dist/vuex.cjs.js 35 KiB [built] [code generated]\r\n  external \"Vue\" 42 bytes [built] [code generated]\r\nwebpack 5.11.0 compiled successfully in 713 ms\r\n✨  Done in 3.59s.\r\n```\r\n\r\n**main.js**\r\n```js\r\n// tree shaking work\r\nimport {Store} from 'vuex/dist/vuex.esm-bundler.js'\r\n\r\nconsole.log(Store)\r\n```\r\noutput(external vue)\r\n\r\n```bash\r\n[webpack-cli] Compilation finished\r\nasset main.js 9.8 KiB [emitted] [minimized] (name: main) 2 related assets\r\norphan modules 35.1 KiB [orphan] 2 modules\r\nruntime modules 221 bytes 1 module\r\n./src/index.js   2 modules 35.3 KiB [not cacheable] [built] [code generated]\r\nwebpack 5.11.0 compiled successfully in 797 ms\r\n✨  Done in 2.47s.\r\n```\r\n\r\n### What is expected?\r\n drop `createLogger` from the bundle\r\n\r\n### What is actually happening?\r\nbundle contains `createLogger`\r\n\r\n---\r\nI think tree shaking not work because of  two reasons, (I know vuex.mjs wrap vuex.cjs.js because of some rules in node)\r\n\r\n1. vuex.mjs use `default import`\r\n2. vuex.mjs import CommonJS(vuex.cjs.js) \r\n\r\nMaybe we can do like below\r\n```diff\r\n  \"exports\": {\r\n    \".\": {\r\n+      \"module\": \"./dist/vuex.esm-bundler.js\",\r\n      \"require\": \"./dist/vuex.cjs.js\",\r\n      \"import\": \"./dist/vuex.mjs\"\r\n    },\r\n    \"./\": \"./\"\r\n  },\r\n```\r\n\r\nnodejs don't support `module` in `exports`, so it can execute `dist/vuex.mjs`\r\n\r\n[webpack support `module` in `exports`](https://webpack.js.org/guides/package-exports/#conditions), it will use `dist/vuex.esm-bundler.js` first if it is valid, since the order of `\"module\"` is in front of the `\"import\"`\r\n\r\n### Moreover\r\nsince `vuex.mjs` wrap CommonJS which contains `require('vue')` and it let vuex doesn't compatiable with [webpack externals script](https://webpack.js.org/configuration/externals/#script), check [this issue](https://github.com/vuejs/vue-cli/issues/6149). [Reproduction link](https://github.com/fangbinwei/vuex-next-issue-external-script)\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1906","RelatedDescription":"Open issue \"tree shaking not work because of vuex.mjs\" (#1906)"},{"Id":"769800857","IsPullRequest":false,"CreatedAt":"2020-12-18T02:19:37","Actor":"uinio","Number":"1903","RawContent":null,"Title":"StoreApp and Namespace","State":"closed","Body":"### What problem does this feature solve?\r\nstoreApp\r\n```ts\r\nimport { App } from 'vue';\r\nimport { Store } from 'vuex';\r\n\r\nexport interface StoreAppOptions<S = any> {\r\n  stores: Store<S>[];\r\n}\r\n\r\nexport class StoreApp<S = any> {\r\n  readonly stores: Store<S>[];\r\n\r\n  constructor(stores: StoreAppOptions) {\r\n    this.stores = stores.stores;\r\n  }\r\n  install(app: App): void {\r\n    this.stores.forEach((store) => store.install(app));\r\n  }\r\n}\r\n\r\nexport function createStoreApp(app: StoreAppOptions): StoreApp {\r\n  return new StoreApp(app);\r\n}\r\n\r\n```\r\nnamespace\r\n```ts\r\nexport function createNamespace<S>(): InjectionKey<Store<S>> {\r\n  return Symbol('vuex');\r\n}\r\nexport interface StoreOptions<S> {\r\n  namespace: InjectionKey<Store<S>>;\r\n  state: S | (() => S);\r\n  getters?: GetterTree<S, S>;\r\n  actions?: ActionTree<S, S>;\r\n  mutations?: MutationTree<S>;\r\n  plugins?: Plugin<S>[];\r\n  strict?: boolean;\r\n  devtools?: boolean;\r\n}\r\n\r\nexport class Store<S> {\r\n   readonly namespace: InjectionKey<Store<S>>;\r\n   ...\r\n  install(app: App): void {\r\n    app.provide(this.namespace, this);\r\n  }\r\n}\r\n\r\nexport function useStore<S>(store: InjectionKey<Store<S>>): Store<S>;\r\n```\r\n\r\n\r\n### What does the proposed API look like?\r\nstoreApp can be split into multiple independent stores (remove RootState)\r\nnamespace better ts inference\r\n\r\n```ts\r\nexport interface CountState {\r\n  count: boolean;\r\n}\r\nexport const  COUNT_STORE = createNamespace<CountState >();\r\n\r\nexport default createStore({\r\n  namespace: COUNT_STORE ,\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions,\r\n});\r\n```\r\n\r\n```ts\r\nimport count from './count';\r\nimport { createStoreApp } from 'vuex';\r\n\r\nconst store = createStoreApp({\r\n  stores: [count],\r\n});\r\nexport default store;\r\n```\r\n```ts\r\nimport { useStore } from 'vuex';\r\nimport  {COUNT_STORE } from './count';\r\nconst store=useStore(COUNT_STORE);\r\nstore.useActions();\r\nstore.useState();\r\nstore.useGetter();\r\n....\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1903","RelatedDescription":"Closed issue \"StoreApp and Namespace\" (#1903)"},{"Id":"770361044","IsPullRequest":false,"CreatedAt":"2020-12-17T20:54:42","Actor":"hackel","Number":"1905","RawContent":null,"Title":"feat: Allow plugins in modules","State":"open","Body":"### What problem does this feature solve?\r\nCurrently plugins are only loaded in the root store instance and are silently ignored in modules.  It would be convenient and consistent to be able to register plugins within a module.  The plugin should receive a store with module-scoped state, getters, rootState, etc. just like an action.  This would allow for better separation of concerns and avoid having to modify the root store for things that are specific to a single module.\r\n\r\n### What does the proposed API look like?\r\nContrived example:\r\n```js\r\nconst store = new Vuex.Store({\r\n  modules: {\r\n    Module: {\r\n      namespaced: true,\r\n      state: { count: 0, countPlusOne: 1 },\r\n      mutations: {\r\n        setCountPlusOne: (state, count) => (state.countPlusOne = count),\r\n      },\r\n      plugins: [\r\n        store => {\r\n          store.watch(\r\n            (state, getters) => state.count,\r\n            (newVal, oldVal) => store.commit('setCountPlusOne', newVal)\r\n          );\r\n        },\r\n      ],\r\n    },\r\n  },\r\n});\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1905","RelatedDescription":"Open issue \"feat: Allow plugins in modules\" (#1905)"},{"Id":"769824040","IsPullRequest":true,"CreatedAt":"2020-12-17T10:21:14","Actor":"JASONPANGGO","Number":"1904","RawContent":null,"Title":"fix a little typo in the comment","State":"open","Body":"anthor params => another params","Url":"https://github.com/vuejs/vuex/pull/1904","RelatedDescription":"Open PR \"fix a little typo in the comment\" (#1904)"},{"Id":"769755460","IsPullRequest":false,"CreatedAt":"2020-12-17T09:24:44","Actor":"uinio","Number":"1902","RawContent":null,"Title":"store splits a single node","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/issues/1902","RelatedDescription":"Closed issue \"store splits a single node\" (#1902)"},{"Id":"769589045","IsPullRequest":false,"CreatedAt":"2020-12-17T06:37:13","Actor":"uinio","Number":"1901","RawContent":null,"Title":"vue3 design reference","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/issues/1901","RelatedDescription":"Closed issue \"vue3 design reference\" (#1901)"},{"Id":"767223376","IsPullRequest":false,"CreatedAt":"2020-12-15T06:21:17","Actor":"tobiberlin","Number":"1900","RawContent":null,"Title":"Vuex - check if data really can be stored in localstorage","State":"open","Body":"### What problem does this feature solve?\r\nWe run into the following issue: \r\n\r\n - An app built with Vue/ vuex works fine\r\n - The issue appears when the app is embedded into another third party page with an iframe\r\n - when the user configured the browser to reject third party cookies the browser also rejects third parties (our app) from saving data in localstorage\r\n - this leads to an error in browser's console and the app is not rendered, the iframe stays empty\r\n\r\nIs there a way to check if localstorage can be used by the app? It would be helpful to avoid vuex to try to use the localstorage before really saving anything to it to avoid such problems.\r\n\r\n### What does the proposed API look like?\r\nNo idea\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1900","RelatedDescription":"Open issue \"Vuex - check if data really can be stored in localstorage\" (#1900)"},{"Id":"767132090","IsPullRequest":false,"CreatedAt":"2020-12-15T03:29:18","Actor":"Alanscut","Number":"1899","RawContent":null,"Title":"The test case fails to pass the test in the local environment.","State":"open","Body":"### Version\r\n4.0.0-rc.2\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vuex/tree/v4.0.0-rc.2](https://github.com/vuejs/vuex/tree/v4.0.0-rc.2)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. `npm install` \r\n2. `npm run test:e2e`  or   `yarn test:e2e`\r\n\r\n### What is expected?\r\nAll test cases pass in local environment.\r\n\r\n### What is actually happening?\r\ntest case todomvc failed\r\n\r\n---\r\nENV: <br >Ubuntu 18.04.5 LTS<br >\r\n          node: v12.20.0<br >\r\n          npm: v6.14.8<br >\r\n          yarn: 1.22.10<br >\r\n\r\nit's show failed by this:\r\n```shell\r\nFAIL test/e2e/todomvc.spec.js\r\n          e2e/todomvc > todomvc app\r\n          expect(received).toBe(expected) //  Object.is equality\r\n\r\n          Expect: \"edited!\"\r\n          Received: \"test\"\r\n\r\n               123 |            await click('footer') //  blur\r\n               124 |            expect(await count(' .todo.editing')).toBe(0)\r\n               125 |            expect(await text('.todo:nth-child(1) label')).toBe('edited')\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1899","RelatedDescription":"Open issue \"The test case fails to pass the test in the local environment.\" (#1899)"},{"Id":"763289638","IsPullRequest":false,"CreatedAt":"2020-12-12T19:19:51","Actor":"millansingh","Number":"1898","RawContent":null,"Title":"Vuex fails to update state object with new object","State":"closed","Body":"### Version\r\n3.5.1\r\n\r\n### Reproduction link\r\n[https://codepen.io/millansingh/pen/dypOBjb](https://codepen.io/millansingh/pen/dypOBjb)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nJust hit the button to run the mutation, but nothing will change which is the issue.\r\n\r\n### What is expected?\r\nThe mutation should change the object in store, making the \"output\" div show 3 instead of 1.\r\n\r\n### What is actually happening?\r\nNothing changes.\r\n\r\n---\r\nIn my personal project, the state itself is unchanged, rather than a reactivity issue. I couldn't open the Vue dev tools on Codepen to check this, but I think the same thing is happening. I would expect the object in the state to be replaced with the new object, but instead it doesn't change. I've tried the Object.assign method, object destructuring, and a simple stateObj = newObj type statement. All do nothing.\r\n\r\nNote that I can effectively get around this by looping through Object.keys of the state object and replacing them with the new object keys, but this should be possible by just replacing the object instead of using my workaround.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1898","RelatedDescription":"Closed issue \"Vuex fails to update state object with new object\" (#1898)"},{"Id":"761884373","IsPullRequest":true,"CreatedAt":"2020-12-11T04:28:49","Actor":"dependabot[bot]","Number":"1897","RawContent":null,"Title":"build(deps): bump ini from 1.3.5 to 1.3.7","State":"open","Body":"Bumps [ini](https://github.com/isaacs/ini) from 1.3.5 to 1.3.7.\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/npm/ini/commit/c74c8af35f32b801a7e82a8309eab792a95932f6\"><code>c74c8af</code></a> 1.3.7</li>\n<li><a href=\"https://github.com/npm/ini/commit/024b8b55ac1c980c6225607b007714c54eb501ba\"><code>024b8b5</code></a> update deps, add linting</li>\n<li><a href=\"https://github.com/npm/ini/commit/032fbaf5f0b98fce70c8cc380e0d05177a9c9073\"><code>032fbaf</code></a> Use Object.create(null) to avoid default object property hazards</li>\n<li><a href=\"https://github.com/npm/ini/commit/2da90391ef70db41d10f013e3a87f9a8c5d01a72\"><code>2da9039</code></a> 1.3.6</li>\n<li><a href=\"https://github.com/npm/ini/commit/cfea636f534b5ca7550d2c28b7d1a95d936d56c6\"><code>cfea636</code></a> better git push script, before publish instead of after</li>\n<li><a href=\"https://github.com/npm/ini/commit/56d2805e07ccd94e2ba0984ac9240ff02d44b6f1\"><code>56d2805</code></a> do not allow invalid hazardous string as section name</li>\n<li>See full diff in <a href=\"https://github.com/isaacs/ini/compare/v1.3.5...v1.3.7\">compare view</a></li>\n</ul>\n</details>\n<details>\n<summary>Maintainer changes</summary>\n<p>This version was pushed to npm by <a href=\"https://www.npmjs.com/~isaacs\">isaacs</a>, a new releaser for ini since your current version.</p>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=ini&package-manager=npm_and_yarn&previous-version=1.3.5&new-version=1.3.7)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language\n- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language\n- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language\n- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language\n\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/vuejs/vuex/network/alerts).\n\n</details>","Url":"https://github.com/vuejs/vuex/pull/1897","RelatedDescription":"Open PR \"build(deps): bump ini from 1.3.5 to 1.3.7\" (#1897)"},{"Id":"760995269","IsPullRequest":true,"CreatedAt":"2020-12-10T07:40:57","Actor":"mat813","Number":"1896","RawContent":null,"Title":"Add a generic type for getters too.","State":"open","Body":"This allows you to write something like this, for example, in a vuex\r\nmodule, that lives in a subdirectory of the store, where it is most\r\ninteresting:\r\n\r\n```ts\r\nimport { GetterTree } from 'vuex';\r\n\r\nimport type { State as RootState, Getters as RootGetters } from '../';\r\nimport type { State } from './state';\r\n\r\nexport type Getters = {\r\n  loggedIn: boolean;\r\n  roles: string[];\r\n  isAdmin: boolean;\r\n};\r\n\r\nexport const getters: GetterTree<State, RootState, Getters, RootGetters> = {\r\n```\r\n\r\nAnd you get correct type inference in your editor.","Url":"https://github.com/vuejs/vuex/pull/1896","RelatedDescription":"Open PR \"Add a generic type for getters too.\" (#1896)"},{"Id":"760326276","IsPullRequest":false,"CreatedAt":"2020-12-09T13:23:20","Actor":"Slender1808","Number":"1895","RawContent":null,"Title":"bug store typescript","State":"open","Body":"### Version\r\n4.0.0-rc.2\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/romantic-margulis-hq4nb?file=/src/main.js](https://codesandbox.io/s/romantic-margulis-hq4nb?file=/src/main.js)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n```\r\nimport { MutationTree } from 'vuex'\r\nimport { State } from './type'\r\n\r\nconst mutations: MutationTree<State> = {\r\n  search(state, payload: any) {\r\n    state.search = payload;\r\n  },\r\n}\r\n```\r\n\r\n### What is expected?\r\nstate.search is equal to payload\r\n\r\n### What is actually happening?\r\nstate.search remains the same\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1895","RelatedDescription":"Open issue \"bug store typescript\" (#1895)"},{"Id":"760321195","IsPullRequest":false,"CreatedAt":"2020-12-09T13:16:56","Actor":"Slender1808","Number":"1894","RawContent":null,"Title":"bug store typescript","State":"closed","Body":"I'm not able to change the status of my store\r\n```\r\nimport { MutationTree } from 'vuex'\r\nimport { State } from './type'\r\n\r\nconst mutations: MutationTree<State> = {\r\n  search(state, payload: any) {\r\n    state.search = payload;\r\n  },\r\n}\r\n```\r\n","Url":"https://github.com/vuejs/vuex/issues/1894","RelatedDescription":"Closed issue \"bug store typescript\" (#1894)"},{"Id":"760092068","IsPullRequest":true,"CreatedAt":"2020-12-09T07:47:57","Actor":"royhuang813","Number":"1893","RawContent":null,"Title":"Update getters.md","State":"open","Body":"缺少一个`return`","Url":"https://github.com/vuejs/vuex/pull/1893","RelatedDescription":"Open PR \"Update getters.md\" (#1893)"},{"Id":"757966318","IsPullRequest":true,"CreatedAt":"2020-12-06T16:37:07","Actor":"huaxhe","Number":"1892","RawContent":null,"Title":"docs(zh): add vuex translations for vuex 4","State":"open","Body":"1. Translated into Chinese based on previous version of the document.\r\n2. Add menu configuration.","Url":"https://github.com/vuejs/vuex/pull/1892","RelatedDescription":"Open PR \"docs(zh): add vuex translations for vuex 4\" (#1892)"},{"Id":"755102771","IsPullRequest":false,"CreatedAt":"2020-12-02T09:31:34","Actor":"gyjtiancai","Number":"1891","RawContent":null,"Title":"how to use the mapGetters, mapActions, mapMutations in vue3.0 setup()","State":"closed","Body":"### Version  \r\n\"vuex\": \"^4.0.0-0\",\r\n\r\n```javascript\r\nimport { mapGetters, useStore } from \"vuex\";\r\nexport default defineComponent({\r\n  name: \"vuex\",\r\n  setup(props, context) {\r\n    const store = useStore();\r\n    //  ok\r\n    console.log('userInfo',store.getters.userInfo);\r\n   \r\n   //how to use the mapGetters\r\n\r\n    return {\r\n      store,\r\n    };\r\n  },\r\n});\r\n```","Url":"https://github.com/vuejs/vuex/issues/1891","RelatedDescription":"Closed issue \"how to use the mapGetters, mapActions, mapMutations in vue3.0 setup()\" (#1891)"},{"Id":"751525209","IsPullRequest":false,"CreatedAt":"2020-11-26T11:43:50","Actor":"songololo","Number":"1890","RawContent":null,"Title":"v4 reactive getters behaviour appears to have changed for nested methods?","State":"open","Body":"### What problem does this feature solve?\r\nI used to be able to apply a reactive getter to a nested method inside an object instance stored in my v3 `vuex` state, but this doesn't appear to work anymore in v4.\r\n\r\nIn my case it was a `mapbox` instance which was created and then stored inside the `vuex` v3 store's state. I could then share this instance amongst various components and could also watch the instance for changes via reactive getters.\r\n\r\nFor example:\r\n```js\r\nstate: {\r\n  mapInstance: null, // <- gets assigned with a mapbox instance\r\n  // mapInstance contains a method called \"getZoom()\"\r\n},\r\ngetters: {\r\n  zoom: (state) => (state.mapInstance ? state.mapInstance.getZoom() : null),\r\n}\r\n```\r\n\r\nThe same approach no longer works in `vuex` v4.\r\n\r\n### What does the proposed API look like?\r\nI'm assuming something has changed in the internals of `vuex` v3 vs. v4: is there a way to deliberately expose certain nested properties or methods to reactive getters in `vuex` v4? Or else to enable the previous functionality?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1890","RelatedDescription":"Open issue \"v4 reactive getters behaviour appears to have changed for nested methods?\" (#1890)"},{"Id":"751221578","IsPullRequest":false,"CreatedAt":"2020-11-26T08:16:27","Actor":"aleksey-hoffman","Number":"1889","RawContent":null,"Title":"Mutation handlers need some serious re-evaluation 🐒","State":"closed","Body":"### What problem does this feature solve?\r\nHey guys, can we discuss Vuex mutation handlers - arguably the most nonsensical thing in Vuex?\r\n\r\nI've been developing a big complex app for 2+ years with Vue and I still haven't found good reasons to keep using mutation handlers. According to Vuex docs and my experience, the only thing they do is make debugging a little bit easier in some situations, while over-complicating the codebase and making development process undoubtedly a lot more annoying for no good reason.\r\n\r\n### Examples: \r\nCompare the 2 examples demonstrated below, look at how much less code it takes to open a dialog and to change some of its properties by using the 1st method, compared to the 2nd method.\r\n\r\n## Method 1: direct mutation\r\nThis method achieves the same thing as the 2nd method, but requires **hundreds of times** less code (when app has a lot of components), which in itself makes code cleaner and less susceptible to bugs, which results in much more enjoyable development experience.\r\n\r\n### `App.vue`\r\n\r\n```html\r\n<v-btn @click=\"createNewItem({ type: 'file', extension: 'txt' })\">\r\n  Create new item\r\n</v-btn>\r\n```\r\n```js\r\nwatch: {\r\n  // Creating a global store watcher that handles actions, required for specific store properties\r\n  dialogs () {\r\n    handler (value) {\r\n      const propertyShouldBeWrittenToDrive = ...\r\n      if (propertyShouldBeWrittenToDrive) {\r\n        this.$store.dispatch('WRITE_TO_DRIVE', propertyShouldBeWrittenToDrive)\r\n      }\r\n    },\r\n    deep: true\r\n  }\r\n},\r\nmethods: {\r\n  createNewItem (params) {\r\n    // Set dialog data\r\n    this.$store.state.dialogs.createNewItemDialog.data = { \r\n      ...this.$store.state.dialogs.createNewItemDialog.data,\r\n      ...params \r\n    }\r\n    // Open dialog\r\n    this.$store.state.dialogs.createNewItemDialog.isOpened = true\r\n  }\r\n}\r\n```\r\n\r\n### `Dialogs.vue`\r\n```html\r\n<v-dialog v-model=\"$store.state.dialogs.createNewItemDialog.isOpened\">\r\n  <div class=\"title\">\r\n    Create new {{$store.state.dialogs.createNewItemDialog.data.type}}\r\n  </div>\r\n  <v-text-field\r\n    v-model=\"createNewItemDialog.data.name\"\r\n  />\r\n  <v-btn @click=\"$store.state.dialogs.createNewItemDialog.isOpened = false\">\r\n    close dialog\r\n  </v-btn>\r\n</v-dialog>\r\n```\r\n```js\r\n// NO COMPUTED PROPERTIES NEEDED\r\n```\r\n\r\n### `store.js`\r\n```js\r\nstate = {\r\n  dialogs: {\r\n    createNewItemDialog: {\r\n      value: false,\r\n      data: {\r\n        type: 'file',\r\n        name: '',\r\n        extension: ''\r\n      }\r\n    } \r\n  }\r\n}\r\n\r\n// NO MUTATIONS AND ACTIONS NEEDED\r\n```\r\n\r\nI know this method might, in theory, make it more difficult to track down the source of errors, but in practice, if there's only 3-5 functions that change a specific state property, it's pretty easy to determine which one of them caused the error by following the event logic. Mutations are always caused by some sort of known event (button press, input change, etc), so when an error appears during a specific event, it's not that difficult to track down the function that caused it, without using mutation handlers anyway.\r\n\r\n## Method 2: mutation handlers\r\n\r\nThis method is considered to be \"the best practice\" just because it improves debugging, while requiring a ton more work. Here's all the code you will need to set up the same dialog using this method.\r\n\r\nThis example is written with the official Vuex guidelines in mind (create getters, setters, create a separate action and mutation for each property, etc) to additionally demonstrate the absurdity of the current Vuex implementation.\r\n\r\n### `App.vue`\r\n\r\n```html\r\n<v-btn @click=\"createNewItem({ type: 'file', extension: 'txt' })\">\r\n  Create new item\r\n</v-btn>\r\n```\r\n\r\n```js\r\ncomputed: {\r\n  createNewItemDialogIsOpened: {\r\n    get () {\r\n      return this.$store.state.dialogs.createNewItemDialog.isOpened\r\n    },\r\n    set (value) {\r\n      this.$store.dispatch('SET_DIALOGS_CREATE_NEW_ITEM_DIALOG_IS_OPENED', value)\r\n    }\r\n  },\r\n  createNewItemDialogData: {\r\n    get () {\r\n      return this.$store.state.dialogs.createNewItemDialog.data\r\n    },\r\n    set (value) {\r\n      this.$store.dispatch('SET_DIALOGS_CREATE_NEW_ITEM_DIALOG_DATA', value)\r\n    }\r\n  },\r\n  // 100 more similar computed properties for all the baseline properties of the other 50 dialogs\r\n  // ... {1,000 lines of code} ...\r\n},\r\nmethods: {\r\n  createNewItem (params) {\r\n    // Set dialog data\r\n    this.createNewItemDialogData = { ...this.createNewItemDialogData, ...params }\r\n    // Open dialog\r\n    this.createNewItemDialogIsOpened = true\r\n  }\r\n}\r\n```\r\n\r\n### `Dialogs.vue`\r\n\r\n```html\r\n<v-dialog v-model=\"createNewItemDialogIsOpened\">\r\n  <div class=\"title\">\r\n    Create new {{createNewItemDialogDataType}}\r\n  </div>\r\n  <v-text-field\r\n    v-model=\"createNewItemDialogDataName\"\r\n  />\r\n  <v-text-field\r\n    v-model=\"createNewItemDialogDataExtension\"\r\n  />\r\n  <v-btn @click=\"createNewItemDialogIsOpened = false\">\r\n    close dialog\r\n  </v-btn>\r\n</v-dialog>\r\n```\r\n\r\n```js\r\ncomputed: {\r\n  createNewItemDialogIsOpened: {\r\n    get () {\r\n      return this.$store.state.dialogs.createNewItemDialog.isOpened\r\n    },\r\n    set (value) {\r\n      this.$store.dispatch('SET_DIALOGS_CREATE_NEW_ITEM_DIALOG_IS_OPENED', value)\r\n    }\r\n  },\r\n  createNewItemDialogDataType: {\r\n    get () {\r\n      return this.$store.state.dialogs.createNewItemDialog.data.type\r\n    },\r\n    set (value) {\r\n      this.$store.dispatch('SET_DIALOGS_CREATE_NEW_ITEM_DIALOG_DATA_TYPE', value)    \r\n    }\r\n  },\r\n  createNewItemDialogDataName: {\r\n    get () {\r\n      return this.$store.state.dialogs.createNewItemDialog.data.name\r\n    },\r\n    set (value) {\r\n      this.$store.dispatch('SET_DIALOGS_CREATE_NEW_ITEM_DIALOG_DATA_NAME', value)\r\n    }\r\n  },\r\n  createNewItemDialogDataExtension: {\r\n    get () {\r\n      return this.$store.state.dialogs.createNewItemDialog.data.extension\r\n    },\r\n    set (value) {\r\n       this.$store.dispatch('SET_DIALOGS_CREATE_NEW_ITEM_DIALOG_DATA_EXTENSION', value)\r\n    }\r\n  },\r\n  // 300 more similar computed properties for all the properties of the other 50 dialogs\r\n  // ... {3,000 lines of code} ...\r\n}\r\n```\r\n\r\n### `store.js`\r\n```js\r\nconst state = {\r\n  dialogs: {\r\n    createNewItemDialog: {\r\n      value: false,\r\n      data: {\r\n        type: 'file',\r\n        name: '',\r\n        extension: ''\r\n      }\r\n    } \r\n  }\r\n}\r\n\r\nmutations: {\r\n  SET_DIALOGS_CREATE_NEW_ITEM_DIALOG_IS_OPENED (state, value) {\r\n    state.dialogs.createNewItemDialog.isOpened = value\r\n  },\r\n  SET_DIALOGS_CREATE_NEW_ITEM_DIALOG_DATA (state, value) {\r\n    state.dialogs.createNewItemDialog.data = value\r\n  },\r\n  SET_DIALOGS_CREATE_NEW_ITEM_DIALOG_DATA_TYPE (state, value) {\r\n    state.dialogs.createNewItemDialog.data.type = value\r\n  },\r\n  SET_DIALOGS_CREATE_NEW_ITEM_DIALOG_DATA_NAME (state, value) {\r\n    state.dialogs.createNewItemDialog.data.name= value\r\n  },\r\n  SET_DIALOGS_CREATE_NEW_ITEM_DIALOG_DATA_EXTENSION (state, value) {\r\n    state.dialogs.createNewItemDialog.data.extension= value\r\n  },\r\n  // 5000 more similar Vuex mutations for all the properties of the other 50 dialogs and other components\r\n  // ... {50,000 lines of code} ...\r\n},\r\nactions: {\r\n  WRITE_TO_DRIVE (state, params) {\r\n    ...\r\n  },\r\n  SET_DIALOGS_CREATE_NEW_ITEM_DIALOG_IS_OPENED ({state, dispatch}, value) {\r\n    commit('SET_DIALOGS_CREATE_NEW_ITEM_DIALOG_IS_OPENED', value)\r\n    dispatch('WRITE_TO_DRIVE', value)\r\n  },\r\n  SET_DIALOGS_CREATE_NEW_ITEM_DIALOG_DATA ({state, dispatch}, value) {\r\n    commit('SET_DIALOGS_CREATE_NEW_ITEM_DIALOG_DATA', value)\r\n  },\r\n  SET_DIALOGS_CREATE_NEW_ITEM_DIALOG_DATA_TYPE ({state, dispatch}, value) {\r\n    commit('SET_DIALOGS_CREATE_NEW_ITEM_DIALOG_DATA_TYPE ', value)\r\n  }, \r\n  SET_DIALOGS_CREATE_NEW_ITEM_DIALOG_DATA_NAME ({state, dispatch}, value) {\r\n    commit('SET_DIALOGS_CREATE_NEW_ITEM_DIALOG_DATA_NAME ', value)\r\n  }, \r\n  SET_DIALOGS_CREATE_NEW_ITEM_DIALOG_DATA_EXTENSION ({state, dispatch}, value) {\r\n    commit('SET_DIALOGS_CREATE_NEW_ITEM_DIALOG_DATA_EXTENSION', value)\r\n  }, \r\n  // 5000 more similar Vuex actions for all the properties of the other 50 dialogs and other components\r\n  // ... {50,000 lines of code} ...\r\n}\r\n```\r\n\r\nAnd you have to do this for every single component of the app.\r\n\r\nAdd to that the inability to mutate properties from within a Vuex action and the fact that direct mutations are 10 - 500 times faster than the mutation handlers in cases where properties is mutated rapidly (once every few milliseconds), e.g. a slider without a debouncer / throttle, and it becomes clear that this insanity needs a re-evaluation.\r\n\r\nIn the real code, I managed to reduce the amount of computed properties by generating them dynamically for every nested property in `beforeCreated` hook of every component, and reduced the amount of mutations by creating a single generalized custom mutation function that sets specified deep properties automatically from the specified `'dot.notation.property.path'` string. But if this kind of heavy lifting is supposed be implemented manually by every developer for every new project, Vuex shouldn't really be considered a library then.\r\n\r\n### What does the proposed API look like?\r\nAnything but this. Surely there is a better / smarter / simpler way to do traceable mutations.\r\n\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1889","RelatedDescription":"Closed issue \"Mutation handlers need some serious re-evaluation 🐒\" (#1889)"}],"ResultType":"GitHubIssue"}},"RunOn":"2020-12-28T05:30:41.5145712Z","RunDurationInMilliseconds":1545}