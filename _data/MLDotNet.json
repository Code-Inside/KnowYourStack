{"Data":{"GitHub":{"Issues":[{"Id":"491868237","IsPullRequest":false,"CreatedAt":"2019-09-10T19:59:12","Actor":"CESARDELATORRE","Number":"4200","RawContent":null,"Title":"[DNN Image Classification] Add the LoadFromDirectory() as convenient API","State":"open","Body":"We actually have a convenient _custom_ method named LoadFromDirectory() in sample apps which loads the images in a folder with one sub-folder per class (image type) so it is very straight forward for users to create/load the images with their related labels into a DataSet. See sample here:\r\n\r\nhttps://github.com/dotnet/machinelearning-samples/blob/master/samples/csharp/getting-started/DeepLearning_ImageClassification_Training/ImageClassification.Train/Program.cs#L129 \r\n\r\nThis method should work integrated with the upcoming approach that images themselves need also to be loaded as in-memory objects into a DataView, so the pipeline will train with in-memory images and when scoring with the generated model and using a PredictionEngine the user will also be able to classify an in-memory image. \r\n\r\nUser's feedback:\r\n\r\n_\"A couple of methods such as LoadFromDirectory are so useful that they may actually be candidates to include in the framework. I actually have a specific use case, with the same approach, where I don't supply meta-data but use the folder structure for labels instead\"_","Url":"https://github.com/dotnet/machinelearning/issues/4200","RelatedDescription":"Open issue \"[DNN Image Classification] Add the LoadFromDirectory() as convenient API\" (#4200)"},{"Id":"491818341","IsPullRequest":false,"CreatedAt":"2019-09-10T18:01:57","Actor":"lisahua","Number":"4199","RawContent":null,"Title":"How to handle columns with mix DateTime and numeric values","State":"open","Body":"### System information\r\n\r\n- **OS version/distro**: .Net 4.6\r\n- **.NET Version (eg., dotnet --info)**:  ML.Net 1.1.0\r\n\r\n### Issue\r\n\r\n- **What did you do?** We have a column with mix DateTime and numeric values\r\n- **What happened?**  The [PrimitiveDataViewType](https://docs.microsoft.com/en-us/dotnet/api/microsoft.ml.data.primitivedataviewtype?view=ml-dotnet) does not have a type to specify our column type \r\n- **What did you expect?** Have a way to represent both `DateTime` and numeric values with a dateView type, most like a primitive data type.\r\n\r\n### Source code / logs\r\n\r\nPlease paste or attach the code or logs or traces that would be helpful to diagnose the issue you are reporting.\r\n\r\nWe want to have a DataViewType to represent a column with a mix of DateTime and numeric types.\r\n             ","Url":"https://github.com/dotnet/machinelearning/issues/4199","RelatedDescription":"Open issue \"How to handle columns with mix DateTime and numeric values\" (#4199)"},{"Id":"491527109","IsPullRequest":false,"CreatedAt":"2019-09-10T08:31:04","Actor":"Lelelo1","Number":"4198","RawContent":null,"Title":"Process memory limit when using Scda trainer with regression task?","State":"open","Body":"### System information\r\n\r\n- **OS version/distro**: Windows 10 Pro\r\n- **.NET Version (eg., dotnet --info)**: .NET Core SDK (reflecting any global.json):\r\n Version:   2.2.401\r\n Commit:    729b316c13\r\n\r\nRuntime Environment:\r\n OS Name:     Windows\r\n OS Version:  10.0.17763\r\n OS Platform: Windows\r\n RID:         win10-x64\r\n Base Path:   C:\\Program Files\\dotnet\\sdk\\2.2.401\\\r\n\r\nHost (useful for support):\r\n  Version: 2.2.6\r\n  Commit:  7dac9b1b51\r\n\r\n.NET Core SDKs installed:\r\n  2.1.801 [C:\\Program Files\\dotnet\\sdk]\r\n  2.2.401 [C:\\Program Files\\dotnet\\sdk]\r\n\r\n.NET Core runtimes installed:\r\n  Microsoft.AspNetCore.All 2.1.12 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.All 2.2.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.App 2.1.12 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 2.2.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.NETCore.App 2.1.12 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.2.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n\r\nTo install additional .NET Core runtimes or SDKs:\r\n  https://aka.ms/dotnet-download\r\n\r\n### Issue\r\n\r\n- **What did you do?**\r\nI started training a model with scda trainer - part of regression task.\r\n- **What happened?**\r\nIt is taking very long time and process memory seem to be fixed to...:\r\n\r\n![VIsualStudio](https://user-images.githubusercontent.com/42244983/64596652-98a47700-d3b4-11e9-8d61-dd2d71b9e3d0.png)\r\n\r\n165 MB - while the machine has 8 gb of ram.\r\n\r\n- **What did you expect?**\r\n\r\nI am expecting the process to take more ram.\r\n\r\n### Source code / logs\r\n.\r\n\r\nConclusions:\r\nAs it is now the training will not go much faster using a computer with better hardware (ram and cpu) - since trainer seem to be limited to 50% cpu and 165MB RAM?","Url":"https://github.com/dotnet/machinelearning/issues/4198","RelatedDescription":"Open issue \"Process memory limit when using Scda trainer with regression task?\" (#4198)"},{"Id":"491434433","IsPullRequest":true,"CreatedAt":"2019-09-10T03:49:31","Actor":"yamachu","Number":"4197","RawContent":null,"Title":"Fix relation between IsSavedModel and isFrozen in DnnRetrainTransformer.SaveModel","State":"open","Body":"Fix: https://github.com/dotnet/machinelearning/issues/4191\r\n\r\nIsSavedModel returns true when loaded model is an-frozen model \r\nhttps://github.com/dotnet/machinelearning/blob/1503b0aa9cac997cff8b8bc7e2075eb23d61ad81/src/Microsoft.ML.Dnn/DnnUtils.cs#L137-L143\r\n\r\nbut now isFrozen variable is set true in spite of an-frozen model.\r\n\r\nhttps://github.com/dotnet/machinelearning/blob/3c02da5d75534265223e56aee9c5d2da53ea4b99/src/Microsoft.ML.Dnn/DnnRetrainTransform.cs#L681\r\n\r\n---\r\n\r\nChecks\r\n\r\n- [x] There's a descriptive title that will make sense to other developers some time from now. \r\n- [x] There's associated issues. All PR's should have issue(s) associated - unless a trivial self-evident change such as fixing a typo. You can use the format `Fixes #nnnn` in your description to cause GitHub to automatically close the issue(s) when your PR is merged.\r\n- [x] Your change description explains what the change does, why you chose your approach, and anything else that reviewers should know.\r\n- [ ] You have included any necessary tests in the same PR.\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/4197","RelatedDescription":"Open PR \"Fix relation between IsSavedModel and isFrozen in DnnRetrainTransformer.SaveModel\" (#4197)"},{"Id":"491298821","IsPullRequest":false,"CreatedAt":"2019-09-09T20:05:19","Actor":"nilimb2000","Number":"4196","RawContent":null,"Title":"Automl: feature importance for regression models ","State":"open","Body":"### System information\r\n\r\n- **OS version/distro**:\r\n- **.NET Version (eg., dotnet --info)**: \r\n\r\n### Issue\r\n\r\nHow do i extract the feature importances for the regression models that automl builds. Something similar to automlexplainer in azure maybe?\r\n### Source code / logs\r\n\r\nPlease paste or attach the code or logs or traces that would be helpful to diagnose the issue you are reporting.\r\n","Url":"https://github.com/dotnet/machinelearning/issues/4196","RelatedDescription":"Open issue \"Automl: feature importance for regression models \" (#4196)"},{"Id":"490039346","IsPullRequest":true,"CreatedAt":"2019-09-09T16:31:36","Actor":"LittleLittleCloud","Number":"4179","RawContent":null,"Title":"pack CodeGen into mlnet","State":"closed","Body":"","Url":"https://github.com/dotnet/machinelearning/pull/4179","RelatedDescription":"Closed or merged PR \"pack CodeGen into mlnet\" (#4179)"},{"Id":"491121315","IsPullRequest":false,"CreatedAt":"2019-09-09T14:11:17","Actor":"luisquintanilla","Number":"4195","RawContent":null,"Title":"[DatabaseLoader] Error when using attributes (i.e ColumnName)","State":"open","Body":"### System information\r\n\r\n- **OS version/distro**: Windows 10 18362\r\n- **.NET Version (eg., dotnet --info)**:  .NET Core 2.2\r\n\r\n### Issue\r\n\r\n- **What did you do?**\r\n\r\nTried to use `ColumnName` attribute in class that defines IDataView schema.  \r\n\r\n- **What happened?**\r\n\r\nWhen operating on the IDataView, I received the following error\r\n\r\n```text\r\nSystem.Reflection.TargetInvocationException: 'Exception has been thrown by the target of an invocation.'\r\n \r\nInner Exception\r\nIndexOutOfRangeException: Features\r\n```\r\n\r\n- **What did you expect?**\r\n\r\nNo error.\r\n\r\n### Source code / logs\r\n\r\nGiven the following data stored in a SQL Server DB\r\n\r\n![image](https://user-images.githubusercontent.com/46974588/64536954-fb7c0c80-d2e7-11e9-8a5b-531ddd267aa8.png)\r\n\r\nThe data schema is defined as such\r\n\r\n```csharp\r\npublic class HouseData\r\n{\r\n    public float Size { get; set; }\r\n\r\n    public float Price { get; set; }\r\n}\r\n```\r\n\r\nThe following code works:\r\n\r\n```csharp\r\nstring connectionString = @\"Connection-String\";\r\n\r\nstring sqlCommand = \"SELECT Size,Price FROM House\";\r\n\r\nMLContext mlContext = new MLContext();\r\n\r\nDatabaseLoader loader = mlContext.Data.CreateDatabaseLoader<HouseData>();\r\n\r\nDatabaseSource dbSource = new DatabaseSource(SqlClientFactory.Instance,connectionString,sqlCommand);\r\n\r\nIDataView data = loader.Load(dbSource);\r\n\r\n// Test Code\r\nIEnumerable<HouseData> housingData = mlContext.Data.CreateEnumerable<HouseData>(data, reuseRowObject: true);\r\n\r\nforeach (HouseData house in housingData)\r\n{\r\n    Console.WriteLine($\"{house.Size} costs {house.Price}\");\r\n}\r\n\r\nConsole.ReadKey();\r\n```\r\n\r\nHowever, when attributes are added to the schema class, it produces an error.\r\n\r\n```csharp\r\npublic class HouseData\r\n{\r\n    [ColumnName(\"Features\")]\r\n    public float Size { get; set; }\r\n\r\n    [ColumnName(\"Label\")]\r\n    public float Price { get; set; }\r\n}\r\n```","Url":"https://github.com/dotnet/machinelearning/issues/4195","RelatedDescription":"Open issue \"[DatabaseLoader] Error when using attributes (i.e ColumnName)\" (#4195)"},{"Id":"489653381","IsPullRequest":false,"CreatedAt":"2019-09-09T07:23:04","Actor":"larsbeck","Number":"4178","RawContent":null,"Title":"TfIdf setting in ProduceNGrams throws Exception","State":"closed","Body":"### System information\r\n\r\n- **OS version/distro**: Windows 10 Pro\r\n- **.NET Version (eg., dotnet --info)**: 3.0.0-preview8-28405-07\r\n\r\n### Issue\r\nProduceNGrams throws an InvalidOperationException \"The specified documents are all empty in column 'Tokens'\"\r\n\r\n- **What did you do?**\r\nChanged the parameter setting 'weighting' of type 'WeightingCriteria' from the standard 'WeightingCriteria.Tf' to 'WeightingCriteria.TfIdf' and then ran the code again.\r\n\r\n- **What happened?**\r\nThe exception gets thrown as described above\r\n\r\n- **What did you expect?**\r\nThe code, specifically the line 'var transformer = pipeline.Fit(dataview);' to run just as it did with setting WeightingCriteria.Tf.\r\n\r\n### Source code / logs\r\n\r\n```\r\nvar pipeline = _mlContext.Transforms.Text.NormalizeText(nameof(TransformedTextData.NormalizedText),\r\n                nameof(Profile.Text))\r\n                .Append(_mlContext.Transforms.Text.TokenizeIntoWords(nameof(TransformedTextData.Words),\r\n                    nameof(TransformedTextData.NormalizedText)))\r\n                .Append(_mlContext.Transforms.Text.RemoveDefaultStopWords(nameof(TransformedTextData.Words), nameof(TransformedTextData.Words), StopWordsRemovingEstimator.Language.German))\r\n                .Append(_mlContext.Transforms.Text.RemoveStopWords(nameof(TransformedTextData.Words), null, \"kontext\", \"&\"))\r\n                .Append(_mlContext.Transforms.Conversion.MapValueToKey(nameof(TransformedTextData.Tokens), nameof(TransformedTextData.Words)))\r\n                .Append(_mlContext.Transforms.Text.ProduceNgrams(nameof(TransformedTextData.Tokens), weighting: NgramExtractingEstimator.WeightingCriteria.TfIdf))\r\n                .Append(_mlContext.Transforms.Text.LatentDirichletAllocation(\r\n                    nameof(TransformedTextData.Features), nameof(TransformedTextData.Tokens), numberOfTopics: 10, numberOfSummaryTermsPerTopic:10));\r\n\r\n            // Fit to data.\r\n            var transformer = pipeline.Fit(dataview);\r\n```\r\n\r\nDoes ProduceNGrams not support the setting TfIdf as weighting? If it doesn't, which Transformer would one use to generate NGrams for LatentDirichletAllocation ?","Url":"https://github.com/dotnet/machinelearning/issues/4178","RelatedDescription":"Closed issue \"TfIdf setting in ProduceNGrams throws Exception\" (#4178)"},{"Id":"490809421","IsPullRequest":true,"CreatedAt":"2019-09-08T21:37:29","Actor":"harishsk","Number":"4194","RawContent":null,"Title":"Added onnx export functionality for MissingValueIndicatorTransformer","State":"open","Body":"Fixes #4192","Url":"https://github.com/dotnet/machinelearning/pull/4194","RelatedDescription":"Open PR \"Added onnx export functionality for MissingValueIndicatorTransformer\" (#4194)"},{"Id":"490805334","IsPullRequest":true,"CreatedAt":"2019-09-08T21:37:03","Actor":"harishsk","Number":"4193","RawContent":null,"Title":"Added onnx export functionality for MissingValueIndicatorTransformer","State":"closed","Body":"Fixes #4192 ","Url":"https://github.com/dotnet/machinelearning/pull/4193","RelatedDescription":"Closed or merged PR \"Added onnx export functionality for MissingValueIndicatorTransformer\" (#4193)"},{"Id":"490805302","IsPullRequest":false,"CreatedAt":"2019-09-08T20:55:14","Actor":"harishsk","Number":"4192","RawContent":null,"Title":"MissingValueIndicatorTransformer does not support exporting to onnx","State":"open","Body":"- **What did you do?**\r\nCreated a pipeline from with MissingValueIndicatorTransformer and tried to export it to Onnx with ConvertToOnnxProtobuf.\r\n\r\n- **What happened?**\r\nThe transform wasn't saved in the onnx graph\r\n\r\n- **What did you expect?**\r\nThe transform should be saved in the onnx graph\r\n","Url":"https://github.com/dotnet/machinelearning/issues/4192","RelatedDescription":"Open issue \"MissingValueIndicatorTransformer does not support exporting to onnx\" (#4192)"},{"Id":"490774573","IsPullRequest":false,"CreatedAt":"2019-09-08T16:32:57","Actor":"yamachu","Number":"4191","RawContent":null,"Title":"[DNN Training] Failed save model in Microsoft.ML.Transforms.DnnTransformer.SaveModel","State":"open","Body":"### System information\r\n\r\n- **OS version/distro**: maxOS 10.14.6\r\n- **.NET Version (eg., dotnet --info)**: 3.0.100-preview9-014004\r\n\r\n### Issue\r\n\r\n- **What did you do?**\r\n\r\n  * Use `RetrainDnnModel` for training regression-based deep-neural-network model\r\n  * Try to save trained model\r\n\r\n- **What happened?**\r\n\r\nApplication throw unhandled exception: System.ArgumentNullException and crash\r\n\r\n- **What did you expect?**\r\n\r\nWe could save trained model\r\n\r\n### Source code / logs\r\n\r\n```\r\nUnhandled exception. System.ArgumentNullException: Value cannot be null. (Parameter 'value')\r\n   at System.IO.BinaryWriter.Write(String value)\r\n   at Microsoft.ML.Transforms.DnnTransformer.SaveModel(ModelSaveContext ctx)\r\n   at Microsoft.ML.Data.RowToRowTransformerBase.Microsoft.ML.ICanSaveModel.Save(ModelSaveContext ctx)\r\n   at Microsoft.ML.ModelSaveContext.SaveModel[T](RepositoryWriter rep, T value, String path)\r\n   at Microsoft.ML.ModelOperationsCatalog.Save(ITransformer model, DataViewSchema inputSchema, Stream stream)\r\n   at Microsoft.ML.ModelOperationsCatalog.Save(ITransformer model, DataViewSchema inputSchema, String filePath)\r\n   at VoiceConversionStarter.Console.Program.Train(TrainMcapOptions opts) in /Users/yamachu/Projects/github.com/yamachu/VoiceConversionStarter/VoiceConversionStarter.Console/Program.cs:line 100\r\n   at VoiceConversionStarter.Console.Program.<>c.<Main>b__2_0(TrainMcapOptions opts) in /Users/yamachu/Projects/github.com/yamachu/VoiceConversionStarter/VoiceConversionStarter.Console/Program.cs:line 118\r\n   at CommandLine.ParserResultExtensions.MapResult[TSource,TResult](ParserResult`1 result, Func`2 parsedFunc, Func`2 notParsedFunc)\r\n   at VoiceConversionStarter.Console.Program.Main(String[] args) in /Users/yamachu/Projects/github.com/yamachu/VoiceConversionStarter/VoiceConversionStarter.Console/Program.cs:line 116\r\n```\r\n\r\nI think this issue is not to check null in this line\r\n\r\nhttps://github.com/dotnet/machinelearning/blob/8d51eee8047842ae72f5521bd55a9bec51460859/src/Microsoft.ML.Dnn/DnnTransform.cs#L1118-L1119\r\n\r\nThat field in my trained model is null\r\n<img width=\"548\" alt=\"„Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà 2019-09-09 1 21 42\" src=\"https://user-images.githubusercontent.com/1955233/64491256-3e66c180-d2a1-11e9-967d-5501d6315d61.png\">\r\n\r\nfull source code: https://github.com/yamachu/VoiceConversionStarter/tree/pkg-update\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/issues/4191","RelatedDescription":"Open issue \"[DNN Training] Failed save model in Microsoft.ML.Transforms.DnnTransformer.SaveModel\" (#4191)"},{"Id":"490764734","IsPullRequest":true,"CreatedAt":"2019-09-08T15:01:04","Actor":"yaeldekel","Number":"4190","RawContent":null,"Title":"Svmlight loader and saver","State":"open","Body":"Fixes #4014 .","Url":"https://github.com/dotnet/machinelearning/pull/4190","RelatedDescription":"Open PR \"Svmlight loader and saver\" (#4190)"},{"Id":"490662881","IsPullRequest":false,"CreatedAt":"2019-09-07T17:56:20","Actor":"CESARDELATORRE","Number":"4189","RawContent":null,"Title":"[DNN Training] Add API/support for Model Interpretability of DNNs","State":"open","Body":"Once we have the foundational DNN training API stabilized, we should add DNN Model Interpretability APIs such as methods of type Saliency Methods and Feature Attribution (FA). \r\n\r\nFor further details, this is a high level summary:\r\nhttps://towardsdatascience.com/interpretability-of-deep-learning-models-9f52e54d72ab","Url":"https://github.com/dotnet/machinelearning/issues/4189","RelatedDescription":"Open issue \"[DNN Training] Add API/support for Model Interpretability of DNNs\" (#4189)"},{"Id":"490566509","IsPullRequest":true,"CreatedAt":"2019-09-07T00:14:25","Actor":"harishsk","Number":"4188","RawContent":null,"Title":"Added Onnx export functionality to PCATransformer","State":"open","Body":"Fixes #4186 ","Url":"https://github.com/dotnet/machinelearning/pull/4188","RelatedDescription":"Open PR \"Added Onnx export functionality to PCATransformer\" (#4188)"},{"Id":"490566314","IsPullRequest":true,"CreatedAt":"2019-09-07T00:13:06","Actor":"bpstark","Number":"4187","RawContent":null,"Title":"Modified how DataViewTypes are registered","State":"open","Body":"The DataViewManager registers DataViewTypes to determine how to\r\nrepresent the the data within ML.Net. However, there was a bug in how\r\ntypes were being queried. Types that were being registered via an\r\nAttribute were being added to the manager with only that Attribute.\r\nHowever, when queried from the manager all custom Attributes were being\r\npassed.\r\nTo solve this we need to only pass custom Attributes that are relevant\r\nto the Manager. All Type attributes now inherit from a single\r\nTypeAttribute class such that we can filter custom attributes for\r\nrelevant types.\r\n\r\nFixes #4121\r\n","Url":"https://github.com/dotnet/machinelearning/pull/4187","RelatedDescription":"Open PR \"Modified how DataViewTypes are registered\" (#4187)"},{"Id":"490566177","IsPullRequest":false,"CreatedAt":"2019-09-07T00:12:00","Actor":"harishsk","Number":"4186","RawContent":null,"Title":"PCA Transformer does not support exporting to Onnx","State":"open","Body":"- **What did you do?**\r\nCreated a pipeline from with PCATranfsform and tried to export it to Onnx with - ConvertToOnnxProtobuf.\r\n\r\n- **What happened?**\r\nThe transform wasn't saved in the onnx graph\r\n\r\n- **What did you expect?**\r\nThe transform should be saved in the onnx graph\r\n","Url":"https://github.com/dotnet/machinelearning/issues/4186","RelatedDescription":"Open issue \"PCA Transformer does not support exporting to Onnx\" (#4186)"},{"Id":"490490534","IsPullRequest":false,"CreatedAt":"2019-09-06T19:36:54","Actor":"nicolehaugen","Number":"4185","RawContent":null,"Title":"Checkpoint method should be renamed to SaveCheckpoint","State":"open","Body":"ML.NET 1.3\r\n\r\nWhen working with Time Series\\SSA Forecasting, the method that is used for saving a model is called \"Checkpoint\":\r\n\r\n```Csharp\r\nforecastEngine.CheckPoint(mlContext, outputModelPath);\r\n```\r\n\r\nInstead, this method would be more intuitive if it were named according to a verb\\action - such as SaveCheckpoint().\r\n\r\nNote that this is also feedback from Cesar.","Url":"https://github.com/dotnet/machinelearning/issues/4185","RelatedDescription":"Open issue \"Checkpoint method should be renamed to SaveCheckpoint\" (#4185)"},{"Id":"490486888","IsPullRequest":false,"CreatedAt":"2019-09-06T19:26:45","Actor":"nicolehaugen","Number":"4184","RawContent":null,"Title":"Time Series - SSA Forecasting: Need to add API for performing calculations for comparing real vs. forecasted values","State":"open","Body":"ML.NET 1.3\r\n\r\nCurrently ML.NET doesn't provide any methods in the API for calculating accuracy of forecasted values compared to real observed values - this is when doing Time Series forecasting using SSA.\r\n\r\nIn looking at the [existing TLC documentation](https://microsoft.sharepoint.com/teams/TLC/SitePages/Time-series/Methodology.aspx), it provided the following calculations - ML.NET should do something similar:\r\n\r\n‚ÄãError Calculat‚Äãor\r\nOnce the expected value is produced by the time-series modeler component, it is compared against the actual observed value for the series at the time step to compute the amount of deviation. This calculation is done by the error calculator component and the result is called the Raw Score. The implicit assumption here is that the higher the absolute value of raw score at a timestamp, the more likely it is that the time-series is exhibiting an anomalous behavior at that timestamp. In TLC, we have implemented 5 error calculation functions that can be chosen by the user depending on the application.‚Äã‚Äã\r\n\r\nSigned Difference\r\nThe difference between the expected value and the observed value (this is the default error calculation function).\r\n \r\nAbsolute Difference\r\nThe absolute difference between the expected value and the observed value.\r\n\r\nSigned Proportion\r\nThe proportional difference between the expected value and the observed value.\r\n\r\nAbsolute Proportion\r\nThe absolute proportional difference between the expected value and the observed value.\r\n\r\nSquared Difference\r\nThe squared difference between the expected value and the observed value.\r\n","Url":"https://github.com/dotnet/machinelearning/issues/4184","RelatedDescription":"Open issue \"Time Series - SSA Forecasting: Need to add API for performing calculations for comparing real vs. forecasted values\" (#4184)"},{"Id":"490440860","IsPullRequest":false,"CreatedAt":"2019-09-06T17:50:27","Actor":"aslotte","Number":"4183","RawContent":null,"Title":"Forced shutdown during DNN training","State":"closed","Body":"### System information\r\n\r\n- **OS version/distro**: Windows 10 version 1803\r\n- **.NET Version (eg., dotnet --info)**: .NET Core v2.2\r\n\r\n### Issue\r\nWhen training a DNN on classifying sounds based on audio spectrograms, with the Resetnet architecture, my computer shutdown. This has happened twice, but not every time I'm training the model. I have a Dell XPS15 with 32 gb of RAM. The only thing I can think of is that my fan cannot keep up (CPU is hitting 100% for 20 min), but I wanted to log it here as an issue in case this is a theme.\r\n\r\n- **What did you do?** I was training a DNN using the MultiClassifier with the Resnet architecture of audio spectrograms\r\n- **What happened?** My computer shutdown (twice)\r\n- **What did you expect?** My computer not to shutdown\r\n\r\n### Source code / logs\r\n\r\nPlease paste or attach the code or logs or traces that would be helpful to diagnose the issue you are reporting.\r\n","Url":"https://github.com/dotnet/machinelearning/issues/4183","RelatedDescription":"Closed issue \"Forced shutdown during DNN training\" (#4183)"},{"Id":"490440587","IsPullRequest":false,"CreatedAt":"2019-09-06T17:32:15","Actor":"CESARDELATORRE","Number":"4182","RawContent":null,"Title":"[DatabaseLoader] Create higher level convenient methods for DatabaseLoader","State":"open","Body":"As mentioned by Diego, these additions would help by simplifying the API usage for users even further and it should be pretty easy to implement for us: üëç \r\n\r\n@divega commented: https://github.com/dotnet/machinelearning-samples/pull/617#pullrequestreview-284597248\r\n\r\n@CESARDELATORRE, I did a deferred review. The experience seems pretty good. \r\n\r\n1:\r\nAnd I agree with you that it could be even better with some sugar method that loads directly from the arguments of DatabaseSource.\r\n\r\n2:\r\nI can also see other possible shortcuts of similar nature. For example, although DbProviderFactory is the all encompassing root concept if you need everything from an ADO.NET provider, a DbConnection can give you everything but DbConnectionStringBuilder, and it is a much more familiar abstraction for most users than the DbProviderFactory. So, unless you need to manipulate connection strings in a provider agnostic way (not commonly an useful thing to do), you could make the sugar Load method generic on the provider's DbConnection type.\r\nAll in all, I would would love to meet with you and the devs and walk trough the product code and API. It is likely that more things like this will come up.\r\n ","Url":"https://github.com/dotnet/machinelearning/issues/4182","RelatedDescription":"Open issue \"[DatabaseLoader] Create higher level convenient methods for DatabaseLoader\" (#4182)"},{"Id":"490155239","IsPullRequest":false,"CreatedAt":"2019-09-06T06:52:10","Actor":"crperez5","Number":"4181","RawContent":null,"Title":"Provided label column 'Status' was of type Single, but only type Boolean is allowed.","State":"closed","Body":"Hi,\r\n\r\nI'm using AutoML to auto-generate a model.\r\n\r\nInput file looks like the following:\r\n\"V1\",\"V2\",\"V3\",\"V4\",\"Status\"\r\n-86,-66,-66,4,0\r\n-84,-78,-61,65,0\r\n...\r\n\r\nOutput:\r\nFor further learning check: https://aka.ms/mlnet-cli\r\n|     Trainer                              Accuracy      AUC    AUPRC  F1-score  Duration #Iteration             |\r\n[Source=AutoML, Kind=Trace] Channel started\r\nException occured while exploring pipelines:\r\nProvided label column 'Status' was of type Single, but only type Boolean is allowed.\r\nSystem.ArgumentException: Provided label column 'Status' was of type Single, but only type Boolean is allowed.\r\n   at Microsoft.ML.CLI.CodeGenerator.CodeGenerationHelper.GenerateCode()\r\n   at Microsoft.ML.CLI.Program.<>c__DisplayClass1_0.<Main>b__0(NewCommandSettings options)\r\nPlease see the log file for more info.\r\nExiting ...\r\n\r\n\r\nIs this a bug?","Url":"https://github.com/dotnet/machinelearning/issues/4181","RelatedDescription":"Closed issue \"Provided label column 'Status' was of type Single, but only type Boolean is allowed.\" (#4181)"},{"Id":"490129313","IsPullRequest":false,"CreatedAt":"2019-09-06T04:55:46","Actor":"CESARDELATORRE","Number":"4180","RawContent":null,"Title":"[Clustering] Create/Add an additional trainer for Clustering: Affinity Propagation","State":"open","Body":"In ML.NET we currently only have the [KMeansTrainer](https://docs.microsoft.com/en-us/dotnet/machine-learning/resources/tasks#clustering).\r\n\r\nThe main challenge with that clustering trainer is that you need to provide the number of clusters to use (numberOfClusters param also known as k), and that's a very difficult number to figure out. THere are methods that can help, like the Elbow method, but still it is a challenge.\r\n\r\nThere are other clustering algorithms that doesn‚Äôt require in input the number of expected clusters like the **Affinity Propagation** algorithm. \r\nIt is relatively new (Presented in 2007) and it works by measuring the affinity between data items.\r\n\r\nFurther info about it:\r\nhttps://towardsdatascience.com/unsupervised-machine-learning-affinity-propagation-algorithm-explained-d1fef85f22c8 \r\n\r\nThe function that measures affinity between data items is one of the hyperparameters of the algorithm. \r\n\r\n**Affinity Propagation is an unsupervised machine learning algorithm that is particularly well suited for problems where we don‚Äôt know the optimal number of clusters.**\r\n\r\nAs an additional note, consider that K-means was first proposed for application in the field of statistics back in 1955.\r\n\r\nI suggest that, when possible, we implement and offer this additional clustering algorithm, especially when we currently just have one algorithm for Clustering (KMeansTrainer).","Url":"https://github.com/dotnet/machinelearning/issues/4180","RelatedDescription":"Open issue \"[Clustering] Create/Add an additional trainer for Clustering: Affinity Propagation\" (#4180)"},{"Id":"488745561","IsPullRequest":false,"CreatedAt":"2019-09-05T13:24:50","Actor":"dradoaica","Number":"4172","RawContent":null,"Title":"MulticlassClassification: different predict results depending on the environment the train took place","State":"closed","Body":"### System information\r\n\r\n- **OS version/distro**: Windows 10/Azure\r\n- **.NET Version (eg., dotnet --info)**: .NET Core v2.1\r\n\r\n### Issue\r\n\r\n- **What did you do?**\r\nI extracted the code from the MulticlassClassification-GitHubLabeler into a Azure WebJob\r\n- **What happened?**\r\nFirst I run it on my local machine (Windows 10) and after I run it in an app service in Azure\r\n- **What did you expect?**\r\nEven though the \"seed\" param of the \"MLContext\" class is set, the predict results are not the same. The model trained on Windows 10 should be the same with the model trained in Azure. ML.NET takes decisions based on the environment (ProcessorCount , Is64BitProcess, etc.)? \r\n### Source code / logs\r\n\r\n[dotnet/machinelearning-samples MulticlassClassification-GitHubLabeler\r\n](https://github.com/dotnet/machinelearning-samples/blob/master/samples/csharp/end-to-end-apps/MulticlassClassification-GitHubLabeler/GitHubLabeler/GitHubLabelerConsoleApp/Program.cs)","Url":"https://github.com/dotnet/machinelearning/issues/4172","RelatedDescription":"Closed issue \"MulticlassClassification: different predict results depending on the environment the train took place\" (#4172)"},{"Id":"489648560","IsPullRequest":false,"CreatedAt":"2019-09-05T09:51:37","Actor":"yaeldekel","Number":"4177","RawContent":null,"Title":"Change the DnnImageFeaturizers packages to use models from the ONNX model zoo","State":"open","Body":"We should use the models from the [model zoo](https://github.com/onnx/models) to ensure compatibility with future versions of ONNX runtime.\r\n\r\nWe should also add tests for these packages, to ensure they work correctly.\r\n\r\n‚Ä¢\tAlexNet\r\n‚Ä¢\tResNet101\r\n‚Ä¢\tResNet50\r\n‚Ä¢\tResNet18\r\n","Url":"https://github.com/dotnet/machinelearning/issues/4177","RelatedDescription":"Open issue \"Change the DnnImageFeaturizers packages to use models from the ONNX model zoo\" (#4177)"},{"Id":"489282428","IsPullRequest":false,"CreatedAt":"2019-09-04T17:03:46","Actor":"vera-dania","Number":"4176","RawContent":null,"Title":"System.AccessViolationException -- Loading tensorflow model","State":"open","Body":"### System information\r\n\r\n- **Windows 10 Pro for Workstations - 1809**:\r\n- **3.0.100-preview3-010431**: \r\n\r\n### Issue\r\n\r\n- **What did you do?**\r\nI am loading a tensorflow model using ML.NET Model.LoadTensorFlowModel method.\r\nReceived this exception:\r\n\r\n- **What happened?**\r\nSystem.AccessViolationException: Attempted to read or write protected memory. This is often an indication that other memory is corrupt. I am unable to locate the source of this exception. I only receive this error when running the application in debug mode.\r\n\r\n- **What did you expect?**\r\nMy model to successfully load and be able to make predictions.\r\n\r\n\r\n### Source code / logs\r\n\r\n      var pipline = context.Transforms.Conversion.MapValueToKey(\"LabelKey\", \"Label\")\r\n        .Append(context.Transforms.LoadImages(\"input\", \"images\", nameof(ImageData.ImagePath)))\r\n        .Append(context.Transforms.ResizeImages(\"input\", GenderSettings.ImageHeight, GenderSettings.ImageWidth, \"input\"))\r\n        .Append(context.Model.LoadTensorFlowModel(\"./modelGender/tensorflow_gender__graph.pb\")\r\n          .ScoreTensorFlowModel(new[] {\"cross_entropy\"}, new[] {\"input\"}, addBatchDimensionInput: true))\r\n        .Append(context.Transforms.Conversion.MapKeyToValue(\"PredictedLabelValue\", \"PredictedLabel\"))\r\n        .AppendCacheCheckpoint(context);\r\n\r\n\r\nIt is not showing any stacktrace or log.\r\n","Url":"https://github.com/dotnet/machinelearning/issues/4176","RelatedDescription":"Open issue \"System.AccessViolationException -- Loading tensorflow model\" (#4176)"},{"Id":"488769998","IsPullRequest":false,"CreatedAt":"2019-09-04T06:18:51","Actor":"LittleLittleCloud","Number":"4173","RawContent":null,"Title":"Should use dll location instead of app domain in ResNet18/50/128 packages","State":"closed","Body":"We find out that in  `Resnet18Extension.cs`, It uses `AppDomain.CurrentDomain` to get the DLL location, which could causes some unexpected behavior in Vsix packaging. (in Vsix AppDomain.CurrentDomain returns VS executables, which is `C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Preview\\Common7\\IDE`, so it won't be able to find the right onnx file). It's better to use `GetAssembly.Loaction` to get the DLL location. You can see the following PR to see the suggest fix\r\n\r\n#4174 ","Url":"https://github.com/dotnet/machinelearning/issues/4173","RelatedDescription":"Closed issue \"Should use dll location instead of app domain in ResNet18/50/128 packages\" (#4173)"},{"Id":"488770734","IsPullRequest":true,"CreatedAt":"2019-09-04T06:18:40","Actor":"LittleLittleCloud","Number":"4174","RawContent":null,"Title":"Using `GetAssembly` to get DLL loaction in ResNet18","State":"closed","Body":"","Url":"https://github.com/dotnet/machinelearning/pull/4174","RelatedDescription":"Closed or merged PR \"Using `GetAssembly` to get DLL loaction in ResNet18\" (#4174)"},{"Id":"488860362","IsPullRequest":false,"CreatedAt":"2019-09-03T22:54:37","Actor":"MattGal","Number":"4175","RawContent":null,"Title":"Don't create local SQL Database files inside the build workspace","State":"open","Body":"Code like this: https://github.com/dotnet/machinelearning/blob/master/test/Microsoft.ML.Tests/DatabaseLoaderTests.cs#L170\r\n\r\n(where you're running tests as part of the build) has been leading to, when the build machine is reused, errors like:\r\n```\r\nMsg 5120, Level 16, State 101, Server <machine name>\\LOCALDB#<somehex>, Line 1\r\nUnable to open the physical file \"F:\\workspace.7\\_work\\1\\s\\bin\\AnyCPU.Release-netcoreapp3_0\\Microsoft.ML.Tests\\netcoreapp3.0\\TestDatabases\\iris.mdf\". Operating system error 3: \"3(The system cannot find the path specified.)\".\r\n```\r\n... this is because workspaces are automatically cleaned up (by deletion) but this leaves SQL server in a bad state.  Ideally this shouldn't happen at all, but if it must it'd be good to use the current user's profile directory;  I don't care where other than the workspace folder is not a good place for it.  This happens even to other teams' builds who also test using local SQL DBs \r\n\r\n### System information\r\n\r\n- **OS version/distro**:  Windows Client and Server\r\n- **.NET Version (eg., dotnet --info)**:  All (test bug)\r\n\r\n### Issue\r\n\r\n- **What did you do?** : Talk to other teams who need local SQL DBs to work\r\n- **What happened?** : I found the code creating MDF files in a guaranteed-to-be-deleted place\r\n- **What did you expect?** : Testing should occur outside builds.  Failing that, invariant cleanup should happen.  Failing that, put the files outside the workspace directory.\r\n\r\n### Source code / logs\r\n\r\nSee https://github.com/dotnet/machinelearning/blob/master/test/Microsoft.ML.Tests/DatabaseLoaderTests.cs#L170.  When run as part of the build, the path this resolves is `bin\\Arch.Config-TargetFramework\\Microsoft.ML.Tests\\netcoreapp3.0\\TestDatabases\\iris.mdf` inside the workspace. ","Url":"https://github.com/dotnet/machinelearning/issues/4175","RelatedDescription":"Open issue \"Don't create local SQL Database files inside the build workspace\" (#4175)"},{"Id":"488435937","IsPullRequest":false,"CreatedAt":"2019-09-03T07:24:19","Actor":"jankozeleny","Number":"4171","RawContent":null,"Title":"Error in Microsoft.ML.Extensions (Attempted to divide by zero.) when running in Azure","State":"open","Body":"### System information\r\n\r\n- Azure AppService\r\n- .NET Core 2.2, 64-bit\r\n\r\n### Issue\r\n\r\nDeploy the unmodified E2E sample https://github.com/dotnet/machinelearning-samples/tree/v1.2/samples/csharp/end-to-end-apps/DeepLearning_ObjectDetection_Onnx\r\ninto Azure AppService.\r\nNote that you must switch to 64-bit because the AppService will not even start (I suppose that this is a problem with Core 2.2 in-process hosting but I am not sure).\r\nAlso you must modifiy the relative path in the Get action in the ObjectDetectionController\r\n`string imageFileRelativePath = @\"assets\" + url;`\r\n\r\n**The code stops at the unhandled division by zero exception** (\"Attempted to divide by zero.\") at line:\r\n`            var probs = model.Predict(imageInputData).PredictedLabels;`\r\nin the ObjectDetectionService in the DetectObjectsUsingModel method.\r\n\r\n**The application runs without problem when running locally.**\r\n\r\nStack trace:\r\n\r\n```\r\n   at Microsoft.ML.OnnxRuntime.NativeMethods.OrtRun(IntPtr session, IntPtr runOptions, String[] inputNames, IntPtr[] inputValues, UInt64 inputCount, String[] outputNames, UInt64 outputCount, IntPtr[] outputValues)\r\n   at Microsoft.ML.OnnxRuntime.InferenceSession.Run(IReadOnlyCollection`1 inputs, IReadOnlyCollection`1 outputNames, RunOptions options)\r\n   at Microsoft.ML.OnnxRuntime.InferenceSession.Run(IReadOnlyCollection`1 inputs, IReadOnlyCollection`1 outputNames)\r\n   at Microsoft.ML.OnnxRuntime.InferenceSession.Run(IReadOnlyCollection`1 inputs)\r\n   at Microsoft.ML.Transforms.Onnx.OnnxTransformer.Mapper.UpdateCacheIfNeeded(Int64 position, INamedOnnxValueGetter[] srcNamedOnnxValueGetters, String[] activeOutputColNames, OnnxRuntimeOutputCacher outputCache)\r\n   at Microsoft.ML.Transforms.Onnx.OnnxTransformer.Mapper.<>c__DisplayClass11_0`1.<MakeTensorGetter>b__0(VBuffer`1& dst)\r\n   at Microsoft.ML.Data.TypedCursorable`1.TypedRowBase.<>c__DisplayClass8_0`1.<CreateDirectVBufferSetter>b__0(TRow row)\r\n   at Microsoft.ML.Data.TypedCursorable`1.TypedRowBase.FillValues(TRow row)\r\n   at Microsoft.ML.PredictionEngineBase`2.Predict(TSrc example)\r\n   at Microsoft.Extensions.ML.PredictionEnginePoolExtensions.Predict[TData,TPrediction](PredictionEnginePool`2 predictionEnginePool, String modelName, TData example)\r\n   at OnnxObjectDetectionE2EAPP.Services.ObjectDetectionService.DetectObjectsUsingModel(ImageInputData imageInputData) in C:\\p\\test\\DeepLearning_ObjectDetection_Onnx\\OnnxObjectDetectionE2EAPP\\Services\\ObjectDetectionService.cs:line 29\r\n   at OnnxObjectDetectionE2EAPP.Controllers.ObjectDetectionController.DetectAndPaintImage(ImageInputData imageInputData, String imageFilePath) in C:\\p\\test\\DeepLearning_ObjectDetection_Onnx\\OnnxObjectDetectionE2EAPP\\Controllers\\ObjectDetectionController.cs:line 125\r\n   at OnnxObjectDetectionE2EAPP.Controllers.ObjectDetectionController.Get(String url) in C:\\p\\test\\DeepLearning_ObjectDetection_Onnx\\OnnxObjectDetectionE2EAPP\\Controllers\\ObjectDetectionController.cs:line 59\r\n```\r\n\r\nI am now clueless and I even don't know how .NET DivideByZeroException can be raised in the C interop call. Where does it come from?\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/issues/4171","RelatedDescription":"Open issue \"Error in Microsoft.ML.Extensions (Attempted to divide by zero.) when running in Azure\" (#4171)"}],"ResultType":"GitHubIssue"}},"RunOn":"2019-09-11T05:30:44.8852426Z","RunDurationInMilliseconds":977}