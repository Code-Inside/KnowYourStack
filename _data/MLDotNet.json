{"Data":{"GitHub":{"Issues":[{"Id":"760833760","IsPullRequest":true,"CreatedAt":"2020-12-10T02:44:44","Actor":"frank-dong-ms","Number":"5545","RawContent":null,"Title":"Add back missing test project from running on arcade","State":"open","Body":"1. add back missing test projects from running on arcade\r\n2. Correct test result publish so we can view test results on build pipeline\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5545","RelatedDescription":"Open PR \"Add back missing test project from running on arcade\" (#5545)"},{"Id":"760773467","IsPullRequest":true,"CreatedAt":"2020-12-10T02:34:00","Actor":"michaelgsharp","Number":"5544","RawContent":null,"Title":"Changes to onnx export.","State":"closed","Body":"Removed more old pkg references.\r\n\r\nAdded new way to export onnx models without only certain outputs.\r\n\r\nNow pass in the list of active columns to ORT when it runs.","Url":"https://github.com/dotnet/machinelearning/pull/5544","RelatedDescription":"Closed or merged PR \"Changes to onnx export.\" (#5544)"},{"Id":"758947802","IsPullRequest":true,"CreatedAt":"2020-12-10T01:19:09","Actor":"antoniovs1029","Number":"5539","RawContent":null,"Title":"[Debug] Sdca exception","State":"closed","Body":"...\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5539","RelatedDescription":"Closed or merged PR \"[Debug] Sdca exception\" (#5539)"},{"Id":"760712652","IsPullRequest":true,"CreatedAt":"2020-12-09T22:14:35","Actor":"harishsk","Number":"5543","RawContent":null,"Title":"Created release notes for v1.5.3","State":"open","Body":"There is still a TODO for the PR for the new Onnx API. I will update the PR when that is ready. Until then, please review the rest.","Url":"https://github.com/dotnet/machinelearning/pull/5543","RelatedDescription":"Open PR \"Created release notes for v1.5.3\" (#5543)"},{"Id":"760161649","IsPullRequest":false,"CreatedAt":"2020-12-09T09:29:54","Actor":"mentorfloat","Number":"5542","RawContent":null,"Title":"ConvertToOnnx with LightGbm Model Throws KeyNotFoundException","State":"open","Body":"### System information\r\n\r\n- **OS version**: 10.0.19041\r\n- **.NET SDKs**: 3.1.402, 5.0.100-preview.7.20366.6\r\n\r\n### Issue\r\n\r\n- **What did you do?**\r\nAttempted to convert a trained ML.Net LightGbm model to ONNX model with ConvertToOnnx.\r\n\r\n- **What happened?**\r\n```\r\nException thrown: 'System.Collections.Generic.KeyNotFoundException' in System.Private.CoreLib.dll\r\nAn unhandled exception of type 'System.Collections.Generic.KeyNotFoundException' occurred in System.Private.CoreLib.dll\r\nThe given key 'Mates4_TextNormalizer' was not present in the dictionary.\r\n```\r\n\r\n- **What did you expect?**\r\nONNX model converted and saved to file without errors.\r\n\r\n### Source code\r\n\r\nModel was trained with LightGbm, evaluated and tested working before conversion is applied.\r\n\r\nTried two versions: 1. loading a saved model and apply conversion; 2. end-to-end (train, evaluate and apply conversion). Both threw the same exception.\r\n\r\nThere's nothing with 'TextNormalizer' anywhere during training but there is a string named 'Mates4' in the `ItemRating` class, which was featurized during training with `Transforms.Text.FeaturizeText`. This could be related.\r\n\r\n```cs\r\nMLContext mlContext = new MLContext();\r\n\r\nvar data = mlContext.Data.LoadFromTextFile<ItemRating>(path: TrainingDataLocation, hasHeader: true, separatorChar: ',');\r\n\r\nvar trainTestData = mlContext.Data.TrainTestSplit(data, testFraction: 0.1);\r\nvar trainingDataView = trainTestData.TrainSet;\r\n\r\ntrainingDataView = mlContext.Data.Cache(trainingDataView);\r\n\r\nITransformer trainedModel;\r\nusing (FileStream stream = new FileStream(ModelPath, FileMode.Open, FileAccess.Read, FileShare.Read))\r\n{\r\n    trainedModel = mlContext.Model.Load(stream, out var modelInputSchema);\r\n}\r\nusing (FileStream streamfile = File.Create(onnxModelPath))\r\n{\r\n    mlContext.Model.ConvertToOnnx(trainedModel, trainingDataView, streamfile);\r\n}\r\n```","Url":"https://github.com/dotnet/machinelearning/issues/5542","RelatedDescription":"Open issue \"ConvertToOnnx with LightGbm Model Throws KeyNotFoundException\" (#5542)"},{"Id":"755539672","IsPullRequest":true,"CreatedAt":"2020-12-09T06:23:26","Actor":"LeoGaunt","Number":"5524","RawContent":null,"Title":"Fixed Spelling on stopwords","State":"closed","Body":"Fixes #5514\r\n\r\nChanges stopwrods -> stopwords within the StopWordsRemovingTransformer.cs\r\nFixed the spelling  \r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5524","RelatedDescription":"Closed or merged PR \"Fixed Spelling on stopwords\" (#5524)"},{"Id":"758898484","IsPullRequest":true,"CreatedAt":"2020-12-09T00:35:57","Actor":"michaelgsharp","Number":"5537","RawContent":null,"Title":"Removed the rest of the old pkg references:","State":"closed","Body":"Removed the rest of the old pkg references from the ML.Net solution file.","Url":"https://github.com/dotnet/machinelearning/pull/5537","RelatedDescription":"Closed or merged PR \"Removed the rest of the old pkg references:\" (#5537)"},{"Id":"758427711","IsPullRequest":true,"CreatedAt":"2020-12-08T22:12:06","Actor":"mstfbl","Number":"5534","RawContent":null,"Title":"Updated build instructions","State":"closed","Body":"Updated ML.NET build instructions for our latest Arcade SDK upgrade.\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5534","RelatedDescription":"Closed or merged PR \"Updated build instructions\" (#5534)"},{"Id":"759037135","IsPullRequest":true,"CreatedAt":"2020-12-08T19:41:08","Actor":"frank-dong-ms","Number":"5541","RawContent":null,"Title":"Fix warnings from CI Build","State":"closed","Body":"Fix/suppress all warnings from CI build:\r\n1. Skip some dll copy at build stage on CI build, this copy is only necessary for official build\r\n2. Suppress NU5118 warning for all projects that generating nuget packages. mlnet has its own logo file and the warning is complaining about mlnet logo file and the default logo file shares same PackagePath, we can just ignore this warning.\r\n3. Suppress NU5127 and NU5128 for Microsoft.ML project. These warnings are complaining about missing some default folder structure or file from Microsoft.ML nuget package. Microsoft.ML package is built from several projects and these missing default folder and file are actually present but nuget seems not able to correctly see this condition so ignore these warnings.\r\n4. Remove unnecessary stage from CI pipeline.","Url":"https://github.com/dotnet/machinelearning/pull/5541","RelatedDescription":"Closed or merged PR \"Fix warnings from CI Build\" (#5541)"},{"Id":"758983328","IsPullRequest":true,"CreatedAt":"2020-12-08T02:40:55","Actor":"antoniovs1029","Number":"5540","RawContent":null,"Title":"Updated prerelease label","State":"closed","Body":"Forgot to add this on my PR #5538\r\n\r\nUsing \"preview\" as prerelease label instead of \"dev\" matches what is found on arcade's docs:\r\nhttps://github.com/dotnet/arcade/blob/master/Documentation/CorePackages/Versioning.md#package-version\r\n\r\nSince the \"dev\" label is meant to signify builds made locally on the dev's machine, whereas \"preview\" is for the nightly nugets.","Url":"https://github.com/dotnet/machinelearning/pull/5540","RelatedDescription":"Closed or merged PR \"Updated prerelease label\" (#5540)"},{"Id":"758930461","IsPullRequest":true,"CreatedAt":"2020-12-08T00:55:54","Actor":"antoniovs1029","Number":"5538","RawContent":null,"Title":"Fix publishing problems","State":"closed","Body":"This PR fixes 3 problems:\r\n\r\n1. Removed our dependency to BuildTools by using the NugetCommand Azure Task.\r\n2. We should publish a nuget named \"SampleUtils\", but we were publishing it with the name \"SamplesUtils\"\r\n3. The naming conventions of our published nugets didn't match the ones described on arcade's docs: [Versioning.md](https://github.com/dotnet/arcade/blob/master/Documentation/CorePackages/Versioning.md#package-version). I've also added the option so that when queuing the publishing build, we can pass the VERSIONKIND variable with value \"release\", so that it produces the nugets with arcade's conventions for \"Release official build\" nugets (as opposed to the \"Daily official build\" naming convention that's going to be used now by our CI that publishes nightly nugets).\r\n\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5538","RelatedDescription":"Closed or merged PR \"Fix publishing problems\" (#5538)"},{"Id":"758816752","IsPullRequest":true,"CreatedAt":"2020-12-07T23:18:38","Actor":"harishsk","Number":"5535","RawContent":null,"Title":"Removed CODEOWNERS file to unify review process","State":"closed","Body":"","Url":"https://github.com/dotnet/machinelearning/pull/5535","RelatedDescription":"Closed or merged PR \"Removed CODEOWNERS file to unify review process\" (#5535)"},{"Id":"755796602","IsPullRequest":true,"CreatedAt":"2020-12-07T22:37:40","Actor":"antoniovs1029","Number":"5526","RawContent":null,"Title":"[Draft] Investigate NugetRestorePath","State":"closed","Body":"...","Url":"https://github.com/dotnet/machinelearning/pull/5526","RelatedDescription":"Closed or merged PR \"[Draft] Investigate NugetRestorePath\" (#5526)"},{"Id":"758853916","IsPullRequest":false,"CreatedAt":"2020-12-07T21:15:23","Actor":"Yuzabotov","Number":"5536","RawContent":null,"Title":"Small bug in AutoMl \"Value prediction\" scenario input","State":"open","Body":"### System information\r\n\r\n(should be irrelevant)\r\n- Windows 10, build 2004\r\n- .net core 3.1\r\n\r\n### Issue\r\n\r\nAutoMl has a scenario for regression, based on values from a txt or csv file. (named \"Value prediction\")\r\nIf you give it a text file, with a bunch of columns at tell it to predict one of them, there is a bug with the input.\r\nIf the column you are trying to predict, is only 1 or 0,\r\nit will think that the column represents strings, while the column actually represents floats.\r\nIt then gives an issue that only shorts (floats) can be in the column\r\n\r\nfor example given the file:\r\n\r\n0.1,  0.3,   1\r\n0.6,  0.23, 1\r\n0.8,  0.3,   0\r\n\r\nand told to predict column 3, it will fail since it thinks the column holds strings instead of numbers\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/issues/5536","RelatedDescription":"Open issue \"Small bug in AutoMl \"Value prediction\" scenario input\" (#5536)"},{"Id":"757369759","IsPullRequest":true,"CreatedAt":"2020-12-07T19:37:00","Actor":"Lynx1820","Number":"5528","RawContent":null,"Title":"Fixes Code Coverage in Arcade","State":"closed","Body":"","Url":"https://github.com/dotnet/machinelearning/pull/5528","RelatedDescription":"Closed or merged PR \"Fixes Code Coverage in Arcade\" (#5528)"},{"Id":"758144004","IsPullRequest":true,"CreatedAt":"2020-12-07T04:52:01","Actor":"codemzs","Number":"5533","RawContent":null,"Title":"Dispose ONNX Runtime outputs/native references.","State":"closed","Body":"Fixes memory leaks in ONNX Transfomer:\r\n\r\n**Before**\r\n![image](https://user-images.githubusercontent.com/1211949/101309376-2150d380-3801-11eb-9334-086ebfe081d5.png)\r\n\r\n**After**\r\n![image](https://user-images.githubusercontent.com/1211949/101309610-a936dd80-3801-11eb-9162-d98a0219ba29.png)\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5533","RelatedDescription":"Closed or merged PR \"Dispose ONNX Runtime outputs/native references.\" (#5533)"},{"Id":"757496136","IsPullRequest":true,"CreatedAt":"2020-12-06T06:02:18","Actor":"michaelgsharp","Number":"5531","RawContent":null,"Title":"removed old build stuff","State":"closed","Body":"Removed old build files no longer used as well as references to pkg folder.","Url":"https://github.com/dotnet/machinelearning/pull/5531","RelatedDescription":"Closed or merged PR \"removed old build stuff\" (#5531)"},{"Id":"757465918","IsPullRequest":true,"CreatedAt":"2020-12-05T05:24:03","Actor":"frank-dong-ms","Number":"5530","RawContent":null,"Title":"fix benchmark test timeout issue","State":"closed","Body":"1. fix benchmark test timeout, increase timeout to 5 minutes.\r\n2. remove unnecessary Target from PerformanceTest project, this target is already exist in build.proj.\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5530","RelatedDescription":"Closed or merged PR \"fix benchmark test timeout issue\" (#5530)"},{"Id":"757510409","IsPullRequest":false,"CreatedAt":"2020-12-05T02:00:37","Actor":"justinormont","Number":"5532","RawContent":null,"Title":"Verify word embedding model downloader","State":"open","Body":"Internal user reported a stall during the .Fit() of the word embedding transform.\r\n\r\nOn first use of the word embedding transform, it downloads the word embedding model from the CDN. \r\n\r\nTo test:\r\n1. Clear any copies of the fastText300D word embedding file from local machine <br/>Check local folder, and ~/.local/share/mlnet-resources/WordVectors/ for a file named `wiki.en.vec`\r\n2. Create example code using the FastTextWikipedia300D (6.6GB) in the word embedding transform\r\n3. Time how long it takes to download (or fail)\r\n\r\nExample code:\r\n```C#\r\nvar featurizeTextOptions = new TextFeaturizingEstimator.Options()\r\n{\r\n    // Produce cleaned tokens for input to the word embedding transform\r\n    OutputTokensColumnName = \"OutputTokens\", \r\n\r\n    // Text cleaning (not shown is stop word removal)\r\n    KeepDiacritics = true, // Non-default\r\n    KeepPunctuations = false,\r\n    KeepNumbers = false, // Non-default\r\n    CaseMode = TextNormalizingEstimator.CaseMode.Lower,\r\n\r\n    // Row-wise normalization (see: NormalizeLpNorm)\r\n    Norm = TextFeaturizingEstimator.NormFunction.L2,\r\n\r\n    // Use ML.NET's built-in stop word remover (non-default)\r\n    StopWordsRemoverOptions = new StopWordsRemovingEstimator.Options() { Language = TextFeaturizingEstimator.Language.English },\r\n\r\n    // ngram options\r\n    WordFeatureExtractor = new WordBagEstimator.Options()\r\n    {\r\n        NgramLength = 2,\r\n        UseAllLengths = true, // Produce both unigrams and bigrams\r\n        Weighting = NgramExtractingEstimator.WeightingCriteria.Tf, // Can also use TF-IDF  or IDF\r\n    },\r\n\r\n    // chargram options\r\n    CharFeatureExtractor = new WordBagEstimator.Options()\r\n    {\r\n        NgramLength = 3,\r\n        UseAllLengths = false, // Produce only tri-chargrams and not single/double characters\r\n        Weighting = NgramExtractingEstimator.WeightingCriteria.Tf, // Can also use TF-IDF  or IDF\r\n    },\r\n};\r\n\r\n// Featurization pipeline\r\nvar pipeline = mlContext.Transforms.Conversion.MapValueToKey(\"Label\", \"Label\") // Needed for multi-class to convert string labels to the Key type\r\n    \r\n    // Create ngrams, and cleaned tokens for the word embedding\r\n    .Append(mlContext.Transforms.Text.FeaturizeText(\"FeaturesText\", featurizeTextOptions, new[] { \"InputText\" })) // Use above options object\r\n\r\n    // Word embedding transform reads in the cleaned tokens from the text featurizer\r\n    .Append(mlContext.Transforms.Text.ApplyWordEmbedding(\"FeaturesWordEmbedding\", \r\n        \"OutputTokens\", WordEmbeddingEstimator.PretrainedModelKind.FastTextWikipedia300D))\r\n\r\n    // Feature vector is the concatenation of the ngrams from the text transform, and the word embeddings\r\n    .Append(mlContext.Transforms.Concatenate(\"Features\", new[] { \"FeaturesText\", \"FeaturesWordEmbedding\" }))\r\n\r\n    // Enable if numeric features are also included. Normalization is generally unneeded if only using the output from FeaturizeText as it's row-wise normalized w/ a L2-norm; word embeddings are also well behaved.\r\n    //.Append(mlContext.Transforms.NormalizeMinMax(\"Features\", \"Features\"))\r\n\r\n    // Cache the featurized dataset in memory for added speed\r\n    .AppendCacheCheckpoint(mlContext);\r\n\r\n// Trainer \r\nvar trainer = mlContext.MulticlassClassification.Trainers.OneVersusAll(mlContext.BinaryClassification.Trainers.AveragedPerceptron(labelColumnName: \"Label\", numberOfIterations: 10, featureColumnName: \"Features\"), labelColumnName: \"Label\")\r\n    .Append(mlContext.Transforms.Conversion.MapKeyToValue(\"PredictedLabel\", \"PredictedLabel\"));\r\n\r\nvar trainingPipeline = pipeline.Append(trainer);\r\n```\r\n\r\nThe code here shows a full example of the `FeaturizeText` for use with the `ApplyWordEmbedding`. Specifically, it creates the tokens for the `ApplyWordEmbedding` by removing numbers, keeping diacritics, and lowercases to match how the fastText model was created. The text cleaning reduces the out-of-vocabulary (OOV) issue in the word embedding. For any specific dataset, these options can be tested.\r\n\r\nSide note:\r\nWe should make a sample of `FeaturizeText` with `ApplyWordEmbedding`. I wrote the above since I couldn't locate one to link-to in this issue.\r\n\r\nAdditional user report: https://github.com/dotnet/machinelearning/issues/5450#issuecomment-714930905 ","Url":"https://github.com/dotnet/machinelearning/issues/5532","RelatedDescription":"Open issue \"Verify word embedding model downloader\" (#5532)"},{"Id":"757426942","IsPullRequest":true,"CreatedAt":"2020-12-04T21:44:26","Actor":"antoniovs1029","Number":"5529","RawContent":null,"Title":"[Test] Run tests with onnx 1.6 prerelease","State":"open","Body":"...\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5529","RelatedDescription":"Open PR \"[Test] Run tests with onnx 1.6 prerelease\" (#5529)"},{"Id":"757076450","IsPullRequest":false,"CreatedAt":"2020-12-04T12:46:17","Actor":"khteh","Number":"5527","RawContent":null,"Title":"How to reopen the ML.NET Model Builder window?","State":"open","Body":"### System information\r\n\r\n- **OS version/distro**: Windows 10\r\n- **.NET Version (eg., dotnet --info)**: \r\n```\r\n>dotnet --info\r\n.NET SDK (reflecting any global.json):\r\n Version:   5.0.100\r\n Commit:    5044b93829\r\n\r\nRuntime Environment:\r\n OS Name:     Windows\r\n OS Version:  10.0.18363\r\n OS Platform: Windows\r\n RID:         win10-x64\r\n Base Path:   C:\\Program Files\\dotnet\\sdk\\5.0.100\\\r\n\r\nHost (useful for support):\r\n  Version: 5.0.0\r\n  Commit:  cf258a14b7\r\n\r\n.NET SDKs installed:\r\n  1.0.0-preview1-002702 [C:\\Program Files\\dotnet\\sdk]\r\n  1.0.0-preview2-003121 [C:\\Program Files\\dotnet\\sdk]\r\n  1.0.0-preview2-003131 [C:\\Program Files\\dotnet\\sdk]\r\n  2.0.2 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.2 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.4 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.200 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.202 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.302 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.400 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.401 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.402 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.403 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.602 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.700-preview-009597 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.700-preview-009601 [C:\\Program Files\\dotnet\\sdk]\r\n  2.2.202 [C:\\Program Files\\dotnet\\sdk]\r\n  2.2.203 [C:\\Program Files\\dotnet\\sdk]\r\n  2.2.300-preview-010046 [C:\\Program Files\\dotnet\\sdk]\r\n  2.2.300-preview-010050 [C:\\Program Files\\dotnet\\sdk]\r\n  2.2.300 [C:\\Program Files\\dotnet\\sdk]\r\n  2.2.401 [C:\\Program Files\\dotnet\\sdk]\r\n  3.0.100 [C:\\Program Files\\dotnet\\sdk]\r\n  3.1.101 [C:\\Program Files\\dotnet\\sdk]\r\n  5.0.100 [C:\\Program Files\\dotnet\\sdk]\r\n\r\n.NET runtimes installed:\r\n  Microsoft.AspNetCore.All 2.1.2 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.All 2.1.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.All 2.1.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.All 2.1.9 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.All 2.1.23 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.All 2.2.3 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.All 2.2.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.All 2.2.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.All 2.2.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.App 2.1.2 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 2.1.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 2.1.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 2.1.9 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 2.1.23 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 2.2.3 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 2.2.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 2.2.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 2.2.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 3.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 3.1.1 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 3.1.9 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 5.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.NETCore.App 1.0.0-rc2-3002702 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 1.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 1.0.1 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.0.3 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.0.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.0.7 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.0.9 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.1.2 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.1.3-servicing-26724-03 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.1.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.1.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.1.9 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.1.23 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.2.3 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.2.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.2.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.2.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.1.1 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.1.9 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 5.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.WindowsDesktop.App 3.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n  Microsoft.WindowsDesktop.App 3.1.1 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n  Microsoft.WindowsDesktop.App 3.1.9 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n  Microsoft.WindowsDesktop.App 5.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n\r\nTo install additional .NET runtimes or SDKs:\r\n  https://aka.ms/dotnet-download\r\n```\r\n\r\n### Issue\r\n\r\n- **What did you do?** Close / restart Visual Studio 2019\r\n- **What happened?** How to reopen the ML.NET Model Builder window?\r\n- **What did you expect?** An easy way to open the ML.NET Model Builder window.\r\n\r\n### Source code / logs\r\n\r\nPlease paste or attach the code or logs or traces that would be helpful to diagnose the issue you are reporting.\r\n","Url":"https://github.com/dotnet/machinelearning/issues/5527","RelatedDescription":"Open issue \"How to reopen the ML.NET Model Builder window?\" (#5527)"},{"Id":"755640168","IsPullRequest":true,"CreatedAt":"2020-12-03T01:13:27","Actor":"harishsk","Number":"5525","RawContent":null,"Title":"Merge arcade to master","State":"closed","Body":"Merging Arcade to Master.\r\nThe branch is mostly stable. The following issues are being tracked and the rest of the work will be completed in master.\r\n* Failure in benchmark tests\r\n* Code coverage builds not yet working\r\n* Some warnings associated with nuget packages","Url":"https://github.com/dotnet/machinelearning/pull/5525","RelatedDescription":"Closed or merged PR \"Merge arcade to master\" (#5525)"},{"Id":"755526139","IsPullRequest":true,"CreatedAt":"2020-12-02T21:46:26","Actor":"harishsk","Number":"5523","RawContent":null,"Title":"[Draft] Testing arcade branch merge to master","State":"closed","Body":"This is a draft pull request to prepare merging arcade to master. I may abandon this PR and redo it once the remaining fixes are in. \r\nThis is a test.","Url":"https://github.com/dotnet/machinelearning/pull/5523","RelatedDescription":"Closed or merged PR \"[Draft] Testing arcade branch merge to master\" (#5523)"},{"Id":"754934613","IsPullRequest":true,"CreatedAt":"2020-12-02T20:32:19","Actor":"harishsk","Number":"5521","RawContent":null,"Title":"Fixed leak in object pool","State":"closed","Body":"I noticed this issue when running `OneHotHashEncodingOnnxConversionTest` for several iterations. Even after the Onnx related memory leaks were fixed, memory usage kept increasing at each iteration. When I took memory snapshots at the beginning of each iteration I noticed that about 1400 `Single[]` objects were being leaked (amounting to about 180MB). \r\nThe allocation of these objects can be traced to the object pool implemented using `ConcurrentBag`. It appears that the `ConcurrentBag` objects stay on in memory associated with the threads. (I haven't figured how these should be disposed off correctly yet). But removing the objects in the pool gets rid of those objects from the managed heap by the start of the second iteration and memory usage remains far more stable across iterations.\r\n\r\nThis also fixes memory leaks in my local x86 builds.\r\n\r\nSince this is part of core ML.NET code that has been untouched for a long time, it is possible I may have overlooked something. Please review this.\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5521","RelatedDescription":"Closed or merged PR \"Fixed leak in object pool\" (#5521)"},{"Id":"754973123","IsPullRequest":false,"CreatedAt":"2020-12-02T06:05:44","Actor":"khteh","Number":"5522","RawContent":null,"Title":"Taxi Fare value prediction tutorial ModelOutput does not have the prediction value property!","State":"open","Body":"### System information\r\n\r\n- **OS version/distro**: Windows 10\r\n- **.NET Version (eg., dotnet --info)**:\r\n```\r\nC:\\>dotnet --info\r\n.NET SDK (reflecting any global.json):\r\n Version:   5.0.100\r\n Commit:    5044b93829\r\n\r\nRuntime Environment:\r\n OS Name:     Windows\r\n OS Version:  10.0.18363\r\n OS Platform: Windows\r\n RID:         win10-x64\r\n Base Path:   C:\\Program Files\\dotnet\\sdk\\5.0.100\\\r\n\r\nHost (useful for support):\r\n  Version: 5.0.0\r\n  Commit:  cf258a14b7\r\n\r\n.NET SDKs installed:\r\n  1.0.0-preview1-002702 [C:\\Program Files\\dotnet\\sdk]\r\n  1.0.0-preview2-003121 [C:\\Program Files\\dotnet\\sdk]\r\n  1.0.0-preview2-003131 [C:\\Program Files\\dotnet\\sdk]\r\n  2.0.2 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.2 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.4 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.200 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.202 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.302 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.400 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.401 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.402 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.403 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.602 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.700-preview-009597 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.700-preview-009601 [C:\\Program Files\\dotnet\\sdk]\r\n  2.2.202 [C:\\Program Files\\dotnet\\sdk]\r\n  2.2.203 [C:\\Program Files\\dotnet\\sdk]\r\n  2.2.300-preview-010046 [C:\\Program Files\\dotnet\\sdk]\r\n  2.2.300-preview-010050 [C:\\Program Files\\dotnet\\sdk]\r\n  2.2.300 [C:\\Program Files\\dotnet\\sdk]\r\n  2.2.401 [C:\\Program Files\\dotnet\\sdk]\r\n  3.0.100 [C:\\Program Files\\dotnet\\sdk]\r\n  3.1.101 [C:\\Program Files\\dotnet\\sdk]\r\n  5.0.100 [C:\\Program Files\\dotnet\\sdk]\r\n\r\n.NET runtimes installed:\r\n  Microsoft.AspNetCore.All 2.1.2 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.All 2.1.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.All 2.1.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.All 2.1.9 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.All 2.1.23 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.All 2.2.3 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.All 2.2.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.All 2.2.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.All 2.2.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.App 2.1.2 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 2.1.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 2.1.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 2.1.9 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 2.1.23 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 2.2.3 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 2.2.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 2.2.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 2.2.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 3.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 3.1.1 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 3.1.9 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 5.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.NETCore.App 1.0.0-rc2-3002702 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 1.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 1.0.1 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.0.3 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.0.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.0.7 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.0.9 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.1.2 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.1.3-servicing-26724-03 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.1.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.1.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.1.9 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.1.23 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.2.3 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.2.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.2.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.2.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.1.1 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.1.9 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 5.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.WindowsDesktop.App 3.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n  Microsoft.WindowsDesktop.App 3.1.1 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n  Microsoft.WindowsDesktop.App 3.1.9 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n  Microsoft.WindowsDesktop.App 5.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n\r\nTo install additional .NET runtimes or SDKs:\r\n  https://aka.ms/dotnet-download\r\n```\r\n\r\n### Issue\r\n\r\n- **What did you do?**\r\nI try to create a Value Prediction for taxi fare based on https://dotnet.microsoft.com/learn/ml-dotnet/get-started-tutorial/next\r\n- **What happened?**\r\nGenerated `ModelOutput` class does not have the `fare_amount` property which is the predicted value. It only contains the `Score` property.\r\n- **What did you expect?**\r\n`ModelOutput` class should contain the `fare_amount` property which is the predicted taxi fare value.\r\n### Source code / logs\r\n\r\nNo source code. It's very straight forward from following the tutorial steps and you will see it immediately at the `Coding` stage of the pipeline.","Url":"https://github.com/dotnet/machinelearning/issues/5522","RelatedDescription":"Open issue \"Taxi Fare value prediction tutorial ModelOutput does not have the prediction value property!\" (#5522)"},{"Id":"754639718","IsPullRequest":true,"CreatedAt":"2020-12-02T04:31:58","Actor":"harishsk","Number":"5518","RawContent":null,"Title":"Fixed memory leaks from OnnxTransformer","State":"closed","Body":"This PR fixes memory leaks originating from the OnnxTransformer. \r\n\r\nThe NamedOnnxValue objects returned from the Run call of InferenceSession were being leaked. To fix, the caching mechanism had to be fixed as well. Briefly, we need to use a single `OnnxRuntimeOutputCacher` when the getters are created for an input row. Only that would allow us to cache the results of executing inference on an input row. The earlier code was creating an `OnnxRuntimeOutputCacher` for each column and that was not really doing any caching. \r\n\r\nIn order to do that, OnnxTransformer needed to implement `IRowMapper` directly instead of inhering from `MapperBase` because we need to override `CreateGetters` and store the `OnnxRuntimeOutputCacher`. The bulk of the changes in this PR are due to this refactor.   \r\n\r\nAlso, from the same getter, multiple rows of can be inferenced. So we need to dispose off the previous results before caching the next results. This PR takes care of both.\r\nIt also fixes a couple of build strips to support testing on x86 from Visual Studio.\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5518","RelatedDescription":"Closed or merged PR \"Fixed memory leaks from OnnxTransformer\" (#5518)"},{"Id":"754608782","IsPullRequest":true,"CreatedAt":"2020-12-01T23:41:01","Actor":"michaelgsharp","Number":"5517","RawContent":null,"Title":"fixes ort memory leak","State":"closed","Body":"Fixes the ORT memory leak by disposing of the NamedOnnxValues and makes the OnnxRuntimeOutputCacher disposable and adds a finalizer.","Url":"https://github.com/dotnet/machinelearning/pull/5517","RelatedDescription":"Closed or merged PR \"fixes ort memory leak\" (#5517)"},{"Id":"754697272","IsPullRequest":true,"CreatedAt":"2020-12-01T23:14:00","Actor":"antoniovs1029","Number":"5519","RawContent":null,"Title":"[Draft] Debug Mkl not found on CodeGenerator tests error","State":"closed","Body":"Debugging error","Url":"https://github.com/dotnet/machinelearning/pull/5519","RelatedDescription":"Closed or merged PR \"[Draft] Debug Mkl not found on CodeGenerator tests error\" (#5519)"},{"Id":"754747726","IsPullRequest":true,"CreatedAt":"2020-12-01T22:47:36","Actor":"frank-dong-ms","Number":"5520","RawContent":null,"Title":"fix code generator tests failure","State":"closed","Body":"we are seeing below error after fix mkl components nuget issue:\r\n\r\nmlnet.Tests.TransformGeneratorTests.OneHotHashEncodingTest [FAIL]\r\nSystem.TypeInitializationException : The type initializer for 'Microsoft.ML.TestFramework.BaseTestClass' threw an exception.\r\n---- System.DllNotFoundException : Unable to load shared library 'MklImports' or one of its dependencies. In order to help diagnose loading problems, consider setting the DYLD_PRINT_LIBRARIES environment variable: dlopen(libMklImports, 1): image not found\r\n\r\nadd NativeAssemblyReference to MklImports so MklImports.dll will be copy to output dir of code generator tests project and resolve the dependency failure.","Url":"https://github.com/dotnet/machinelearning/pull/5520","RelatedDescription":"Closed or merged PR \"fix code generator tests failure\" (#5520)"},{"Id":"753881813","IsPullRequest":false,"CreatedAt":"2020-11-30T23:36:38","Actor":"nnoradie","Number":"5516","RawContent":null,"Title":"Unexpected anomalies detected","State":"open","Body":"### System information\r\n\r\n- **OS version/distro**:\r\n- **.NET Version (eg., dotnet --info)**: \r\n![image](https://user-images.githubusercontent.com/69877427/100674957-e3dcd980-331a-11eb-8995-e1ecb7af17d6.png)\r\n\r\n### Issue\r\n\r\n- **What did you do?**\r\nDetect anomalies on data with obvious anomalies and mostly flat data everywhere else\r\n\r\n- **What happened?**\r\nMany unexpected anomalies were detected (two in image, more in output data in zip attached)\r\n![image](https://user-images.githubusercontent.com/69877427/100677778-9fecd300-3320-11eb-8e90-b09b3735fc7c.png)\r\n\r\n- **What did you expect?**\r\nOnly the obvious anomalies in the middle to be detected\r\n\r\n### Source code / logs\r\n[testdata.zip](https://github.com/dotnet/machinelearning/files/5619308/testdata.zip) \r\n\r\nContents:\r\n1. odd_anomalies_data.csv (input)\r\n2. test_date_out.csv (anomaly detection results using code [here](https://github.com/dotnet/machinelearning/issues/5491#issuecomment-729338262) with edited options below)\r\n\r\n![image](https://user-images.githubusercontent.com/69877427/100677614-3b317880-3320-11eb-8b24-586848d59c98.png)\r\n\r\n\r\nPlease paste or attach the code or logs or traces that would be helpful to diagnose the issue you are reporting.\r\n","Url":"https://github.com/dotnet/machinelearning/issues/5516","RelatedDescription":"Open issue \"Unexpected anomalies detected\" (#5516)"}],"ResultType":"GitHubIssue"}},"RunOn":"2020-12-10T05:30:34.4319478Z","RunDurationInMilliseconds":617}