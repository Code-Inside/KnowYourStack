{"Data":{"GitHub":{"Issues":[{"Id":"2911960925","IsPullRequest":true,"CreatedAt":"2025-03-12T01:16:00","Actor":"stephentoub","Number":"7414","RawContent":null,"Title":"Update to M.E.AI 9.3.0-preview.1.25161.3","State":"closed","Body":"","Url":"https://github.com/dotnet/machinelearning/pull/7414","RelatedDescription":"Closed or merged PR \"Update to M.E.AI 9.3.0-preview.1.25161.3\" (#7414)"},{"Id":"2912292019","IsPullRequest":false,"CreatedAt":"2025-03-12T01:15:20","Actor":"ericstj","Number":"7419","RawContent":null,"Title":"TestAppendMany_SizeMoreThanMaxBufferCapacity triggers OOM killer","State":"open","Body":"## Build Information\nBuild: https://dev.azure.com/dnceng-public/cbb18261-c48f-4abb-8651-8cdcb5474649/_build/results?buildId=976255\nBuild error leg or test failing: Microsoft.Data.Analysis.Tests.WorkItemExecution\nPull request: https://github.com/dotnet/machinelearning/pull/7414\n<!-- Error message template  -->\n## Error Message\n\nFill the error message using [step by step known issues guidance](https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssueJsonStepByStep.md).\n\n<!-- Use ErrorMessage for String.Contains matches. Use ErrorPattern for regex matches (single line/no backtracking). Set BuildRetry to `true` to retry builds with this error. Set ExcludeConsoleLog to `true` to skip helix logs analysis. -->\n\n```json\n{\n  \"ErrorMessage\": [\"TestAppendMany_SizeMoreThanMaxBufferCapacity\", \"exit code 137\"],\n  \"ErrorPattern\": \"\",\n  \"BuildRetry\": false,\n  \"ExcludeConsoleLog\": false\n}\n```\n\n\r\n<!-- Known issue validation start -->\r\n ### Known issue validation\r\n**Build: :mag_right:** https://dev.azure.com/dnceng-public/public/_build/results?buildId=976255\r\n**Error message validated:** `[TestAppendMany_SizeMoreThanMaxBufferCapacity exit code 137`]\r\n**Result validation:** :white_check_mark: Known issue matched with the provided build.\r\n**Validation performed at:** 3/12/2025 1:15:35 AM UTC\r\n<!-- Known issue validation end -->\r\n<!--Known issue error report start -->\r\n\r\n### Report\r\n\r\n|Build|Definition|Test|Pull Request|\r\n|---|---|---|---|\r\n|[976255](https://dev.azure.com/dnceng-public/public/_build/results?buildId=976255)|dotnet/machinelearning|[Microsoft.Data.Analysis.Tests.WorkItemExecution](https://dev.azure.com/dnceng-public/public/_build/results?buildId=976255&view=ms.vss-test-web.build-test-results-tab&runId=26013420&resultId=101661)|dotnet/machinelearning#7414|\r\n#### Summary\r\n|24-Hour Hit Count|7-Day Hit Count|1-Month Count|\r\n|---|---|---|\r\n|1|1|1|\r\n<!--Known issue error report end -->","Url":"https://github.com/dotnet/machinelearning/issues/7419","RelatedDescription":"Open issue \"TestAppendMany_SizeMoreThanMaxBufferCapacity triggers OOM killer\" (#7419)"},{"Id":"2912288730","IsPullRequest":false,"CreatedAt":"2025-03-12T01:13:28","Actor":"ericstj","Number":"7418","RawContent":null,"Title":"AutoMLExperiment_return_current_best_trial_when_ct_is_canceled_with_trial_completed_Async fails in CI","State":"open","Body":"## Build Information\nBuild: https://dev.azure.com/dnceng-public/cbb18261-c48f-4abb-8651-8cdcb5474649/_build/results?buildId=976255\nBuild error leg or test failing: Microsoft.ML.AutoML.Test.AutoMLExperimentTests.AutoMLExperiment_return_current_best_trial_when_ct_is_canceled_with_trial_completed_Async\nPull request: https://github.com/dotnet/machinelearning/pull/7414\n<!-- Error message template  -->\n## Error Message\n\nFill the error message using [step by step known issues guidance](https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssueJsonStepByStep.md).\n\n<!-- Use ErrorMessage for String.Contains matches. Use ErrorPattern for regex matches (single line/no backtracking). Set BuildRetry to `true` to retry builds with this error. Set ExcludeConsoleLog to `true` to skip helix logs analysis. -->\n\n```json\n{\n  \"ErrorMessage\": \"AutoMLExperiment_return_current_best_trial_when_ct_is_canceled_with_trial_completed_Async\",\n  \"ErrorPattern\": \"\",\n  \"BuildRetry\": false,\n  \"ExcludeConsoleLog\": false\n}\n```\n\nError:\n```\nStarting test: Microsoft.ML.AutoML.Test.AutoMLExperimentTests.AutoMLExperiment_Taxi_Fare_CV_5_Test\n    Microsoft.ML.AutoML.Test.AutoMLExperimentTests.AutoMLExperiment_return_current_best_trial_when_ct_is_canceled_with_trial_completed_Async [FAIL]\n[31;1m[m[37m      Expected value to be less than or equal to 2500L, but found 3236L (difference of 736).\n[m[30;1m      Stack Trace:\n[m[37m           at FluentAssertions.Execution.XUnit2TestFramework.Throw(String message)\n[m[37m           at FluentAssertions.Execution.TestFrameworkProvider.Throw(String message)\n[m[37m           at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)\n[m[37m           at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)\n[m[37m           at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)\n[m[37m           at FluentAssertions.Execution.AssertionScope.FailWith(String message, Object[] args)\n[m[37m           at FluentAssertions.Numeric.NumericAssertions`2.BeLessThanOrEqualTo(T expected, String because, Object[] becauseArgs)\n[m[37m           at FluentAssertions.Numeric.NumericAssertions`2.BeLessOrEqualTo(T expected, String because, Object[] becauseArgs)\n[m[37m        /__w/1/s/test/Microsoft.ML.AutoML.Tests/AutoMLExperimentTests.cs(146,0): at Microsoft.ML.AutoML.Test.AutoMLExperimentTests.AutoMLExperiment_return_current_best_trial_when_ct_is_canceled_with_trial_completed_Async()\n[m[37m        --- End of stack trace from previous location ---\n```\n\n\r\n<!-- Known issue validation start -->\r\n ### Known issue validation\r\n**Build: :mag_right:** https://dev.azure.com/dnceng-public/public/_build/results?buildId=976255\r\n**Error message validated:** `[AutoMLExperiment_return_current_best_trial_when_ct_is_canceled_with_trial_completed_Async`]\r\n**Result validation:** :white_check_mark: Known issue matched with the provided build.\r\n**Validation performed at:** 3/12/2025 1:13:43 AM UTC\r\n<!-- Known issue validation end -->\r\n<!--Known issue error report start -->\r\n\r\n### Report\r\n\r\n|Build|Definition|Test|Pull Request|\r\n|---|---|---|---|\r\n|[976255](https://dev.azure.com/dnceng-public/public/_build/results?buildId=976255)|dotnet/machinelearning|[Microsoft.ML.AutoML.Test.AutoMLExperimentTests.AutoMLExperiment_return_current_best_trial_when_ct_is_canceled_with_trial_completed_Async](https://dev.azure.com/dnceng-public/public/_build/results?buildId=976255&view=ms.vss-test-web.build-test-results-tab&runId=26013420&resultId=100951)|dotnet/machinelearning#7414|\r\n#### Summary\r\n|24-Hour Hit Count|7-Day Hit Count|1-Month Count|\r\n|---|---|---|\r\n|1|1|1|\r\n<!--Known issue error report end -->","Url":"https://github.com/dotnet/machinelearning/issues/7418","RelatedDescription":"Open issue \"AutoMLExperiment_return_current_best_trial_when_ct_is_canceled_with_trial_completed_Async fails in CI\" (#7418)"},{"Id":"2912281928","IsPullRequest":false,"CreatedAt":"2025-03-12T01:10:28","Actor":"ericstj","Number":"7417","RawContent":null,"Title":"Code coverage build fails to instrument file in use","State":"open","Body":"## Build Information\nBuild: https://dev.azure.com/dnceng-public/cbb18261-c48f-4abb-8651-8cdcb5474649/_build/results?buildId=976256&view=logs&j=12b34f85-96db-5b04-05cf-faf2be278867\nBuild error leg or test failing: Windows_x64 / Windows_x64 Build_Debug / Run All Tests.\nPull request: https://github.com/dotnet/machinelearning/pull/7414\n<!-- Error message template  -->\n## Error Message\n\nFill the error message using [step by step known issues guidance](https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssueJsonStepByStep.md).\n\n<!-- Use ErrorMessage for String.Contains matches. Use ErrorPattern for regex matches (single line/no backtracking). Set BuildRetry to `true` to retry builds with this error. Set ExcludeConsoleLog to `true` to skip helix logs analysis. -->\n\n```json\n{\n  \"ErrorMessage\": \"\",\n  \"ErrorPattern\": \" The process cannot access the file .*\\\\Microsoft.ML.TestFramework.pdb' because it is being used by another process.\",\n  \"BuildRetry\": false,\n  \"ExcludeConsoleLog\": false\n}\n```\n\n\r\n<!-- Known issue validation start -->\r\n ### Known issue validation\r\n**Build: :mag_right:** \r\n**Result validation:** :x: There was a problem creating a known issue. Check the exception message and proceed accordingly: `Invalid pattern ' The process cannot access the file .*\\Microsoft.ML.TestFramework.pdb' because it is being used by another process.' at offset 40. Unrecognized escape sequence \\\\M.`\r\n**Validation performed at:** 3/12/2025 1:10:33 AM UTC\r\n<!-- Known issue validation end -->\r\n<!--Known issue error report start -->\r\n\r\n### Report\r\n#### Summary\r\n|24-Hour Hit Count|7-Day Hit Count|1-Month Count|\r\n|---|---|---|\r\n|0|0|0|\r\n<!--Known issue error report end -->","Url":"https://github.com/dotnet/machinelearning/issues/7417","RelatedDescription":"Open issue \"Code coverage build fails to instrument file in use\" (#7417)"},{"Id":"2912189585","IsPullRequest":true,"CreatedAt":"2025-03-12T00:12:42","Actor":"LittleLittleCloud","Number":"7416","RawContent":null,"Title":"update torchsharp to 0.105.0","State":"open","Body":"We are excited to review your PR.\r\n\r\nSo we can do the best job, please check:\r\n\r\n- [x] There's a descriptive title that will make sense to other developers some time from now. \r\n- [ ] There's associated issues. All PR's should have issue(s) associated - unless a trivial self-evident change such as fixing a typo. You can use the format `Fixes #nnnn` in your description to cause GitHub to automatically close the issue(s) when your PR is merged.\r\n- [x] Your change description explains what the change does, why you chose your approach, and anything else that reviewers should know.\r\n- [ ] You have included any necessary tests in the same PR.\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/7416","RelatedDescription":"Open PR \"update torchsharp to 0.105.0\" (#7416)"},{"Id":"2912187676","IsPullRequest":true,"CreatedAt":"2025-03-12T00:11:07","Actor":"michaelgsharp","Number":"7415","RawContent":null,"Title":"Add deterministic option for LightGBM","State":"open","Body":"Fixes #7326.\r\n\r\nAdds the LightGBM deterministic option to the LightGBM Options.","Url":"https://github.com/dotnet/machinelearning/pull/7415","RelatedDescription":"Open PR \"Add deterministic option for LightGBM\" (#7415)"},{"Id":"2890540670","IsPullRequest":false,"CreatedAt":"2025-03-10T07:40:40","Actor":"zgx","Number":"7407","RawContent":null,"Title":"DataFrame.Join hangs indefinitely with small dataset","State":"closed","Body":"Description:\n\nWhen using Microsoft.Data.Analysis DataFrame's Join method, the operation hangs indefinitely even with a very small dataset. This happens with a simple inner join operation.\n\nReproduction steps:\n\n1. Create two small DataFrames:\n```csharp\nvar df1 = new DataFrame(\n    new StringDataFrameColumn(\"Symbol\", new[] { \"MSFT\", \"AAPL\", \"GOOGL\" }),\n    new PrimitiveDataFrameColumn<double>(\"Price\", new[] { 100.5, 150.2, 200.8 })\n);\n\nvar df2 = new DataFrame(\n    new StringDataFrameColumn(\"Symbol\", new[] { \"MSFT\", \"AAPL\", \"META\" }),\n    new PrimitiveDataFrameColumn<long>(\"Volume\", new[] { 1000L, 1500L, 800L })\n);\n```\n\n2. Attempt to perform an inner join:\n```csharp\nvar joinedDf = df1.Join(df2, \"Symbol\", \"Symbol\", JoinAlgorithm.Inner);\n```\n\nExpected behavior:\nThe join operation should complete quickly and return a new DataFrame containing the matched rows.\n\nActual behavior:\nThe Join operation hangs indefinitely without returning or throwing an exception.\n\nEnvironment:\n- OS: Windows 10\n- .NET Version: 8.0.100\n- Microsoft.Data.Analysis Version: 0.22.2\n\nAdditional notes:\n- The dataset is very small (only 3 rows in each DataFrame)\n- Both DataFrames have a common key column (\"Symbol\") with matching values\n- Memory usage appears normal during the hang","Url":"https://github.com/dotnet/machinelearning/issues/7407","RelatedDescription":"Closed issue \"DataFrame.Join hangs indefinitely with small dataset\" (#7407)"},{"Id":"2873860401","IsPullRequest":true,"CreatedAt":"2025-03-10T07:24:20","Actor":"dotnet-maestro[bot]","Number":"7397","RawContent":null,"Title":"[main] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\n\n[marker]: <> (Begin:c692823c-b896-437f-4f57-08dc434cc8f6)\n## From https://github.com/dotnet/arcade\n- **Subscription**: c692823c-b896-437f-4f57-08dc434cc8f6\n- **Build**: [20250307.1](https://dev.azure.com/dnceng/internal/_build/results?buildId=2657653)\n- **Date Produced**: March 7, 2025 2:22:20 PM UTC\n- **Commit**: [1ec6078c26e4a60b77d8fe64881491cd28335a08](https://github.com/dotnet/arcade/commit/1ec6078c26e4a60b77d8fe64881491cd28335a08)\n- **Branch**: refs/heads/main\n\n[DependencyUpdate]: <> (Begin)\n\n- **Updates**:\n  - **Microsoft.DotNet.Arcade.Sdk**: [from 10.0.0-beta.25113.2 to 10.0.0-beta.25157.1][4]\n  - **Microsoft.DotNet.Build.Tasks.Feed**: [from 10.0.0-beta.25113.2 to 10.0.0-beta.25157.1][4]\n  - **Microsoft.DotNet.Helix.Sdk**: [from 10.0.0-beta.25113.2 to 10.0.0-beta.25157.1][4]\n  - **Microsoft.DotNet.SignTool**: [from 10.0.0-beta.25113.2 to 10.0.0-beta.25157.1][4]\n  - **Microsoft.DotNet.SwaggerGenerator.MSBuild**: [from 10.0.0-beta.25113.2 to 10.0.0-beta.25157.1][4]\n  - **Microsoft.DotNet.XliffTasks**: [from 10.0.0-beta.25113.2 to 10.0.0-beta.25157.1][4]\n  - **Microsoft.DotNet.XUnitExtensions**: [from 10.0.0-beta.25113.2 to 10.0.0-beta.25157.1][4]\n\n[4]: https://github.com/dotnet/arcade/compare/ea0a0a28cc...1ec6078c26\n\n[DependencyUpdate]: <> (End)\n\n\n[marker]: <> (End:c692823c-b896-437f-4f57-08dc434cc8f6)\n\n\n\n\n\n\n\n\n\n\n\n\n\n","Url":"https://github.com/dotnet/machinelearning/pull/7397","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/arcade\" (#7397)"},{"Id":"2899102935","IsPullRequest":true,"CreatedAt":"2025-03-07T21:48:33","Actor":"carlossanlop","Number":"7412","RawContent":null,"Title":"Update dependencies from maintenance-packages","State":"closed","Body":"System.Memory and System.Runtime.CompilerServices.Unsafe\r\n\r\nTemporarily using the release feed until we push to nuget: https://dnceng.visualstudio.com/public/_artifacts/feed/darc-pub-dotnet-maintenance-packages-ab95a1f1 ","Url":"https://github.com/dotnet/machinelearning/pull/7412","RelatedDescription":"Closed or merged PR \"Update dependencies from maintenance-packages\" (#7412)"},{"Id":"2897783476","IsPullRequest":true,"CreatedAt":"2025-03-07T05:28:28","Actor":"ericstj","Number":"7410","RawContent":null,"Title":"Update Helix ubuntu arm32 container","State":"closed","Body":"Looks like the 18.04 containers were removed in https://github.com/dotnet/dotnet-buildtools-prereqs-docker/commit/fd83c7a43e15e40343d7c47903e0b5b7ed3ac702#diff-575b0b833a9ff8e4d19b4197fd33b06ba348c24a137f7313fb9be82c8e3feb10\r\n\r\nWe're now seeing helix failures running tests.  Let's update to fix those.\r\n\r\nSeeing other usage of 18.04 in our build containers as well, but these aren't failing right now.  Also couldn't find the same [cross](https://github.com/dotnet/dotnet-buildtools-prereqs-docker/commit/fd83c7a43e15e40343d7c47903e0b5b7ed3ac702#diff-0ccd41350f1358f322af9b2b8a61ecc1b32e360db4e56907936a134235d7df04L338-L353) images in the [new set](https://github.com/dotnet/dotnet-buildtools-prereqs-docker/blob/7ecba794252e0f3883a48b440e85d2b0ecf9f36a/src/ubuntu/manifest.json) - and changing build container can result in dropping support for those older versions, so we should make sure we do the right thing.","Url":"https://github.com/dotnet/machinelearning/pull/7410","RelatedDescription":"Closed or merged PR \"Update Helix ubuntu arm32 container\" (#7410)"},{"Id":"2892531311","IsPullRequest":false,"CreatedAt":"2025-03-06T19:46:54","Actor":"MaxAkbar","Number":"7408","RawContent":null,"Title":"Feature Request: Add Support for Phi-4 Multimodal-Instruct","State":"closed","Body":"**Is your feature request related to a problem? Please describe.**\nCurrently, the project lacks support for Phi-4 Multimodal-Instruct, which is a powerful small-scale multimodal model capable of handling text and vision-based tasks efficiently. This limitation restricts the usability of the tool for users who require lightweight yet effective multimodal reasoning capabilities.\n\n**Describe the solution you'd like**\nI propose integrating Phi-4 Multimodal-Instruct as an option in the model selection pipeline. This would allow users to leverage its capabilities for multimodal tasks, improving flexibility and expanding the range of supported use cases, including image, audio, video slicing and language translation.\n\n**Describe alternatives you've considered**\nCreating a python server with OpenAI standard api and using c# to access the service.\n\n**Additional context**\nNope\n","Url":"https://github.com/dotnet/machinelearning/issues/7408","RelatedDescription":"Closed issue \"Feature Request: Add Support for Phi-4 Multimodal-Instruct\" (#7408)"},{"Id":"2900547512","IsPullRequest":false,"CreatedAt":"2025-03-06T14:18:59","Actor":"chaojian-zhang","Number":"7413","RawContent":null,"Title":"Update to latest version of SkiaSharp","State":"open","Body":"**System Information (please complete the following information):**\n - OS & Version: Windows 10\n - ML.NET Version: ML.NET v4.0.2\n - .NET Version: .NET 8.0\n\n**Describe the bug**\n\nIn https://github.com/dotnet/machinelearning-samples, open `ObjectDetection` project, explicitly depend on `SkiaSharp` package **_3.116.1_**, run, and observe failure:\n\n```\n=====Identify the objects in the images=====\n\nSystem.InvalidOperationException: Splitter/consolidator worker encountered exception while consuming source data\n ---> System.MissingMethodException: Method not found: 'System.ReadOnlySpan`1<Byte> SkiaSharp.SKBitmap.GetPixelSpan()'.\n   at Microsoft.ML.Data.MLImage.get_Pixels()\n   at Microsoft.ML.Transforms.Image.ImagePixelExtractingTransformer.Mapper.<>c__DisplayClass5_0`1.<GetGetterCore>b__1(VBuffer`1& dst)\n   at Microsoft.ML.Transforms.Onnx.OnnxTransformer.Mapper.NamedOnnxValueGetterVec`1.GetNamedOnnxValueCore()\n   at Microsoft.ML.Transforms.Onnx.OnnxTransformer.Mapper.NamedOnnxValueGetterVec`1.GetNamedOnnxValueKnownSize()\n   at Microsoft.ML.Transforms.Onnx.OnnxTransformer.Mapper.NamedOnnxValueGetterVec`1.GetNamedOnnxValue()\n   at Microsoft.ML.Transforms.Onnx.OnnxTransformer.Mapper.UpdateCacheIfNeeded(Int64 position, INamedOnnxValueGetter[] srcNamedOnnxValueGetters, List`1 activeOutputColNames, OnnxRuntimeOutputCacher outputCache)\n   at Microsoft.ML.Transforms.Onnx.OnnxTransformer.Mapper.<>c__DisplayClass14_0`1.<MakeTensorGetter>b__0(VBuffer`1& dst)\n   at Microsoft.ML.Data.DataViewUtils.Splitter.InPipe.Impl`1.Fill()\n   at Microsoft.ML.Data.DataViewUtils.Splitter.<>c__DisplayClass7_1.<ConsolidateCore>b__2()\n   --- End of inner exception stack trace ---\n   at Microsoft.ML.Data.DataViewUtils.Splitter.Batch.SetAll(OutPipe[] pipes)\n   at Microsoft.ML.Data.DataViewUtils.Splitter.Cursor.MoveNextCore()\n   at Microsoft.ML.Data.RootCursorBase.MoveNext()\n   at Microsoft.ML.Data.ColumnCursorExtensions.GetColumnArrayDirect[T](IDataView data, Int32 col)+MoveNext()\n   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()\n   at System.Linq.Enumerable.TryGetElement[TSource](IEnumerable`1 source, Int32 index, TSource& element)\n   at System.Linq.Enumerable.ElementAt[TSource](IEnumerable`1 source, Int32 index)\n   at ObjectDection.Program.Main(String[] args) in C:\\Projects\\Intermediate\\machinelearning-samples\\samples\\csharp\\getting-started\\DeepLearning_ObjectDetection_Onnx\\ObjectDetectionConsoleApp\\Program.cs:line 43\n========= End of Process..Hit any Key ========\n```\n\nRoot cause is [ImageAnalytics](https://www.nuget.org/packages/Microsoft.ML.ImageAnalytics/).\n\n**To Reproduce**\nSteps to reproduce the behavior:\n1. Download and use https://github.com/dotnet/machinelearning-samples\n2. Open `samples\\csharp\\getting-started\\DeepLearning_ObjectDetection_Onnx\\ObjectDetectionConsoleApp.ObjectDetection.csproj`\n3. Use NuGet to explicitly install `SkiaSharp` version 3.116.1\n4. Run\n5. Fail\n\n**Expected behavior**\n\nShouldn't fail or are there alternatively/ways to configure?\nAlso the package dependency of ML.Net.ImageAnalytics claims **SkiaSharp >2.88**\n\n**Screenshots, Code, Sample Projects**\nSee log error above.\n\n**Additional context**\nI am using ML.Net in a project that already depends on SkiaSharp explicitly.\n","Url":"https://github.com/dotnet/machinelearning/issues/7413","RelatedDescription":"Open issue \"Update to latest version of SkiaSharp\" (#7413)"},{"Id":"2897832500","IsPullRequest":false,"CreatedAt":"2025-03-05T16:38:34","Actor":"ericstj","Number":"7411","RawContent":null,"Title":"Update build containers","State":"open","Body":"It looks like we're using ubuntu 18.04 build containers which are no longer built / supported.\n\nWe should update to some version that's in support and ensure it doesn't result in changing our product support pre-requisites.\n\nSeems that .NET 8.0 is using azurelinux here, maybe we could do the same.  We'd need to build new containers in https://github.com/dotnet/dotnet-buildtools-prereqs-docker\n\nWe should do the same for both official and PR validation builds.\n\n@michaelgsharp  @MichaelSimons ","Url":"https://github.com/dotnet/machinelearning/issues/7411","RelatedDescription":"Open issue \"Update build containers\" (#7411)"},{"Id":"2895309023","IsPullRequest":true,"CreatedAt":"2025-03-05T01:39:45","Actor":"tarekgh","Number":"7409","RawContent":null,"Title":"Unigram tokenizer fixes","State":"closed","Body":"","Url":"https://github.com/dotnet/machinelearning/pull/7409","RelatedDescription":"Closed or merged PR \"Unigram tokenizer fixes\" (#7409)"},{"Id":"2889253156","IsPullRequest":true,"CreatedAt":"2025-03-02T01:06:07","Actor":"LittleLittleCloud","Number":"7406","RawContent":null,"Title":"[GenAI] Use BitsAndBytes for 4bit quantization.","State":"open","Body":"We are excited to review your PR.\r\n\r\nSo we can do the best job, please check:\r\n\r\n- [x] There's a descriptive title that will make sense to other developers some time from now. \r\n- [x] There's associated issues. All PR's should have issue(s) associated - unless a trivial self-evident change such as fixing a typo. You can use the format `Fixes #nnnn` in your description to cause GitHub to automatically close the issue(s) when your PR is merged.\r\n- [x] Your change description explains what the change does, why you chose your approach, and anything else that reviewers should know.\r\n- [x] You have included any necessary tests in the same PR.\r\n\r\nThis PR uses the 4bit quantization method from [`bitsandbytes`](https://github.com/bitsandbytes-foundation/bitsandbytes) library to quantize linear layer into 4 bits.\r\n\r\n## What's bitsandbytes\r\n`bitsandbytes` is a library used by huggingface transformer to provide support for 4bit and 8bit quantization and operation.\r\n\r\nThe `bitsandbytes` is written in cuda, and we provide a C# binding library `LittleLittleCloud.TorchSharp.BitsAndBytes` to enable easy leverage with torchsharp library.\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/7406","RelatedDescription":"Open PR \"[GenAI] Use BitsAndBytes for 4bit quantization.\" (#7406)"},{"Id":"2885708309","IsPullRequest":true,"CreatedAt":"2025-02-27T22:07:47","Actor":"michaelgsharp","Number":"7405","RawContent":null,"Title":"Updated preview release notes.","State":"closed","Body":"Updated preview release notes.","Url":"https://github.com/dotnet/machinelearning/pull/7405","RelatedDescription":"Closed or merged PR \"Updated preview release notes.\" (#7405)"},{"Id":"2883270876","IsPullRequest":true,"CreatedAt":"2025-02-27T21:42:09","Actor":"tarekgh","Number":"7403","RawContent":null,"Title":"Create SentencePieceTokenizer from options object","State":"closed","Body":"We have extended support for the SentencePiece tokenizer, which traditionally uses a protobuf data file (`tokenizer.model`). This update introduces the ability to create a tokenizer object by passing an options object containing tokenizer data such as vocabulary and normalization. With this change, users can initialize a tokenizer without loading a protobuf file, enabling them to source tokenizer data from formats like JSON files and other alternatives.","Url":"https://github.com/dotnet/machinelearning/pull/7403","RelatedDescription":"Closed or merged PR \"Create SentencePieceTokenizer from options object\" (#7403)"},{"Id":"2885525568","IsPullRequest":false,"CreatedAt":"2025-02-27T20:17:56","Actor":"luisquintanilla","Number":"7404","RawContent":null,"Title":"Add GPT 4.5 to Tiktoken Tokenizer","State":"open","Body":"OpenAI introduced [GPT 4.5](https://openai.com/index/introducing-gpt-4-5/).\n\nIt's not clear yet what the tokenizer used for it is but when that's known, updates need to be made to TikToken Tokenizer.\n\n[System Card](https://cdn.openai.com/gpt-4-5-system-card.pdf)\n\nRelated to issue: openai/tiktoken#385\n\n\n","Url":"https://github.com/dotnet/machinelearning/issues/7404","RelatedDescription":"Open issue \"Add GPT 4.5 to Tiktoken Tokenizer\" (#7404)"},{"Id":"2880814642","IsPullRequest":true,"CreatedAt":"2025-02-26T17:06:06","Actor":"michaelgsharp","Number":"7402","RawContent":null,"Title":"version bump to 4.0.3","State":"closed","Body":"Bump version after servicing release.","Url":"https://github.com/dotnet/machinelearning/pull/7402","RelatedDescription":"Closed or merged PR \"version bump to 4.0.3\" (#7402)"},{"Id":"2880809247","IsPullRequest":true,"CreatedAt":"2025-02-26T16:35:05","Actor":"github-actions[bot]","Number":"7401","RawContent":null,"Title":"[main] Added 4.0.2 servicing release notes","State":"closed","Body":"Backport of #7399 to main\n\n/cc @michaelgsharp\n\n## Customer Impact\n\n## Testing\n\n## Risk\n","Url":"https://github.com/dotnet/machinelearning/pull/7401","RelatedDescription":"Closed or merged PR \"[main] Added 4.0.2 servicing release notes\" (#7401)"},{"Id":"2879350381","IsPullRequest":true,"CreatedAt":"2025-02-25T20:28:44","Actor":"michaelgsharp","Number":"7399","RawContent":null,"Title":"Added 4.0.2 servicing release notes","State":"closed","Body":"4.0.2 servicing release notes.","Url":"https://github.com/dotnet/machinelearning/pull/7399","RelatedDescription":"Closed or merged PR \"Added 4.0.2 servicing release notes\" (#7399)"},{"Id":"2879389548","IsPullRequest":true,"CreatedAt":"2025-02-25T20:28:25","Actor":"michaelgsharp","Number":"7400","RawContent":null,"Title":"Added in 5.0 preview 1 release notes","State":"closed","Body":"Added in 5.0 preview 1 release notes","Url":"https://github.com/dotnet/machinelearning/pull/7400","RelatedDescription":"Closed or merged PR \"Added in 5.0 preview 1 release notes\" (#7400)"},{"Id":"2861539983","IsPullRequest":true,"CreatedAt":"2025-02-25T00:04:40","Actor":"tarekgh","Number":"7390","RawContent":null,"Title":"Introducing SentencePiece Unigram Tokenizer Model","State":"closed","Body":"Fixes https://github.com/dotnet/machinelearning/issues/7186\r\n\r\nWe have been supporting SentencePiece Bpe model for a while, the change here is introducing the support to the SentencePiece Unigram tokenizer model.  \r\n\r\nUsers can create a tokenizer instance by using a code like the following:\r\n\r\n```C#\r\n// download the tokenizer.model from the LLM model site like the following:            \r\n// @\"https://huggingface.co/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2/resolve/main/sentencepiece.bpe.model?download=true\";\r\nusing Stream remoteStream = File.OpenRead(path/to/the/tokenizer/model/file);\r\nSentencePieceTokenizer tokenizer = SentencePieceTokenizer.Create(remoteStream);\r\n```\r\n\r\n## Notes around the change \r\n- Have done some refactoring code existed in the `SentencePieceToknizer.cs` file into a newly introduced file `SentencePieceBaseModel.cs` and `SentencePieceBpeModel.cs`. Most of the code in the newly introduced files are mostly not changed.\r\n- Added the new Unigram implementation into the `SentencePieceUnigramModel.cs` file.\r\n- Changed `SentencePieceTokenizer.cs` to work with the model abstraction and automatically handle both models Bpe and Unigram.\r\n- The change shouldn't introduce any behavior change to the existing model (i.e Bpe).","Url":"https://github.com/dotnet/machinelearning/pull/7390","RelatedDescription":"Closed or merged PR \"Introducing SentencePiece Unigram Tokenizer Model\" (#7390)"},{"Id":"2862728909","IsPullRequest":true,"CreatedAt":"2025-02-24T20:38:01","Actor":"pgroene","Number":"7392","RawContent":null,"Title":"Add maxTokenCount parameter to CountTokens method","State":"closed","Body":"Updated the CountTokens method in Tokenizer.cs to include a maxTokenCount parameter for limiting token counts. Added tests in TiktokenTests.cs and TokenizerTests.cs to verify the new functionality and ensure correct behavior with the maximum token count.\r\n\r\nWe are excited to review your PR.\r\n\r\nSo we can do the best job, please check:\r\n\r\n- [x] There's a descriptive title that will make sense to other developers some time from now. \r\n- [x] There's associated issues. All PR's should have issue(s) associated - unless a trivial self-evident change such as fixing a typo. You can use the format `Fixes #nnnn` in your description to cause GitHub to automatically close the issue(s) when your PR is merged.\r\n- [x] Your change description explains what the change does, why you chose your approach, and anything else that reviewers should know.\r\n- [x] You have included any necessary tests in the same PR.\r\n\r\nfixes #7391","Url":"https://github.com/dotnet/machinelearning/pull/7392","RelatedDescription":"Closed or merged PR \"Add maxTokenCount parameter to CountTokens method\" (#7392)"},{"Id":"2875889458","IsPullRequest":false,"CreatedAt":"2025-02-24T19:00:15","Actor":"superichmann","Number":"7398","RawContent":null,"Title":"Fix FastForest documentation about having a probability column.","State":"open","Body":"why no Probability?\n\npolyglot vscode c# notebook:\n```\n#r \"nuget:Microsoft.ML\"\n#r \"nuget:Microsoft.ML.LightGbm\"\n#r \"nuget:Microsoft.ML.FastTree\"\nusing System;\nusing System.Linq;\nusing Microsoft.ML;\nusing Microsoft.ML.Data;\n\npublic class ModelInput\n{\npublic float Feature1 { get; set; }\npublic float Feature2 { get; set; }\npublic bool Label { get; set; }\n}\n\n\n// Create a new MLContext\nvar mlContext = new MLContext();\n\n// Define the training data schema\nvar data = new[]\n{\n    new ModelInput { Feature1 = 1f, Feature2 = 2f, Label = true },\n    new ModelInput { Feature1 = 3f, Feature2 = 4f, Label = false },\n    new ModelInput { Feature1 = 5f, Feature2 = 6f, Label = true },\n    new ModelInput { Feature1 = 7f, Feature2 = 8f, Label = false },\n    new ModelInput { Feature1 = 9f, Feature2 = 10f, Label = true }\n};\n\n// Load the training data\nvar trainData = mlContext.Data.LoadFromEnumerable(data);\n\n// Define the LightGBM binary classification trainer\nvar trainer = mlContext.BinaryClassification.Trainers.FastForest();\n\n// Train the model\nvar pipeline = mlContext.Transforms.Concatenate(\"Features\", nameof(ModelInput.Feature1), nameof(ModelInput.Feature2))\n    .Append(trainer);\n\nvar model = pipeline.Fit(trainData);\n\n// Define new data points for prediction\nvar newData = new[]\n{\n    new ModelInput { Feature1 = 2f, Feature2 = 3f },\n    new ModelInput { Feature1 = 4f, Feature2 = 5f },\n    new ModelInput { Feature1 = 6f, Feature2 = 7f },\n    new ModelInput { Feature1 = 8f, Feature2 = 9f },\n    new ModelInput { Feature1 = 10f, Feature2 = 11f }\n};\n\n// Load the new data\nvar newDataView = mlContext.Data.LoadFromEnumerable(newData);\n\n// Make predictions on the new data\nvar transformedNewData = model.Transform(newDataView);\n\n// Extract the Probability column\nvar probabilities = transformedNewData.GetColumn<float>(\"Probability\").ToArray();\n\n// Extract the Feature1 and Feature2 columns\nvar feature1 = newData.Select(x => x.Feature1).ToArray();\nvar feature2 = newData.Select(x => x.Feature2).ToArray();\n\n// Print the Probability scores for each prediction\nfor (int i = 0; i < probabilities.Length; i++)\n{\n    Console.WriteLine($\"Feature1: {feature1[i]}, Feature2: {feature2[i]}, Probability: {probabilities[i]}\");\n}\n```\n\n_Error: System.ArgumentOutOfRangeException: Column 'Probability' not found (Parameter 'name')\nat Microsoft.ML.DataViewSchema.get_Item(String name)\nat Microsoft.ML.Data.ColumnCursorExtensions.GetColumn[T](IDataView data, String columnName)\nat Submission#18.<<Initialize>>d__0.MoveNext()\n--- End of stack trace from previous location ---\nat Microsoft.CodeAnalysis.Scripting.ScriptExecutionState.RunSubmissionsAsync[TResult](ImmutableArray`1 precedingExecutors, Func`2 currentExecutor, StrongBox`1 exceptionHolderOpt, Func`2 catchExceptionOpt, CancellationToken cancellationToken)_\n\n[Documentation says yes have probability. why not have?](https://learn.microsoft.com/en-us/dotnet/api/microsoft.ml.trainers.fasttree.fastforestbinarytrainer?view=ml-dotnet)","Url":"https://github.com/dotnet/machinelearning/issues/7398","RelatedDescription":"Open issue \"Fix FastForest documentation about having a probability column.\" (#7398)"},{"Id":"2872882834","IsPullRequest":true,"CreatedAt":"2025-02-23T18:19:57","Actor":"tarekgh","Number":"7396","RawContent":null,"Title":"Phi-4 Tokenizer Support","State":"closed","Body":"Fixes https://github.com/dotnet/machinelearning/issues/7337\r\n\r\nPhi-4 model is using the Tiktoken tokenizer with the Cl100K_Base encoding file (like gpt-4 tokenizer). It uses different special tokens though `<|im_start|>`, `<|im_end|>`, and `<|im_sep|>`. \r\n\r\nThe tokenizer can be created by:\r\n\r\n```C#\r\nTiktokenTokenizer tokenizer = TiktokenTokenizer.CreateForModel(\"phi-4\");\r\n\r\nstring text = $\"Hello, World!\";\r\nIReadOnlyList<int> encoded = tokenizer.EncodeToIds(text);\r\n```\r\n\r\n> [!NOTE]\r\n> The Phi-4 model on Hugging Face (https://huggingface.co/microsoft/phi-4/tree/main) converts the CL100K_Base encoding vocabulary into `vocab.json` and `merges.txt`, which are compatible with the `GPT2TokenizerFast` tokenizer in Python. This is likely intended for users who are not using the Tiktoken tokenizer, though both should generally produce the same results.\r\n","Url":"https://github.com/dotnet/machinelearning/pull/7396","RelatedDescription":"Closed or merged PR \"Phi-4 Tokenizer Support\" (#7396)"},{"Id":"2867661329","IsPullRequest":true,"CreatedAt":"2025-02-21T15:40:21","Actor":"github-actions[bot]","Number":"7395","RawContent":null,"Title":"[release/4.0] Support O3 OpenAI model mapping","State":"closed","Body":"Backport of #7394 to release/4.0\r\n\r\n/cc @tarekgh\r\n\r\n## Customer Impact\r\n\r\nUsers will be able to create a tokenizer object for the OpenAI o1 and o3 models.\r\n\r\n## Testing\r\n\r\nManually tested it and added a test specific to these models.\r\n\r\n## Risk\r\n\r\nVery low. No real code change, only allow accepting the model names \"o1\" and \"o3\" to create the tokenizer instance.\r\n","Url":"https://github.com/dotnet/machinelearning/pull/7395","RelatedDescription":"Closed or merged PR \"[release/4.0] Support O3 OpenAI model mapping\" (#7395)"},{"Id":"2867650451","IsPullRequest":true,"CreatedAt":"2025-02-21T01:19:36","Actor":"tarekgh","Number":"7394","RawContent":null,"Title":"Support O3 OpenAI model mapping","State":"closed","Body":"Fixes https://github.com/dotnet/machinelearning/issues/7375","Url":"https://github.com/dotnet/machinelearning/pull/7394","RelatedDescription":"Closed or merged PR \"Support O3 OpenAI model mapping\" (#7394)"},{"Id":"2867049743","IsPullRequest":false,"CreatedAt":"2025-02-20T19:12:11","Actor":"ericstj","Number":"7393","RawContent":null,"Title":"Resource contention in tests DownloadImageSet","State":"open","Body":"Multiple tests can run concurrently and try to download this resource to the same folder. \n\n## Build Information\nBuild: https://dev.azure.com/dnceng-public/cbb18261-c48f-4abb-8651-8cdcb5474649/_build/results?buildId=954239\nBuild error leg or test failing: Microsoft.ML.AutoML.Test.AutoFeaturizerTests.AutoFeaturizer_image_test\nPull request: https://github.com/dotnet/machinelearning/pull/7388\n<!-- Error message template  -->\n## Error Message\n\nFill the error message using [step by step known issues guidance](https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssueJsonStepByStep.md).\n\n<!-- Use ErrorMessage for String.Contains matches. Use ErrorPattern for regex matches (single line/no backtracking). Set BuildRetry to `true` to retry builds with this error. Set ExcludeConsoleLog to `true` to skip helix logs analysis. -->\n\n```json\n{\n  \"ErrorMessage\": \"flower_photos_tiny_set_for_unit_tests.zip' because it is being used by another process\",\n  \"ErrorPattern\": \"\",\n  \"BuildRetry\": false,\n  \"ExcludeConsoleLog\": true\n}\n```\n\n\r\n<!-- Known issue validation start -->\r\n ### Known issue validation\r\n**Build: :mag_right:** https://dev.azure.com/dnceng-public/public/_build/results?buildId=954239\r\n**Error message validated:** `[flower_photos_tiny_set_for_unit_tests.zip' because it is being used by another process`]\r\n**Result validation:** :white_check_mark: Known issue matched with the provided build.\r\n**Validation performed at:** 2/20/2025 7:12:33 PM UTC\r\n<!-- Known issue validation end -->\r\n<!--Known issue error report start -->\r\n\r\n### Report\r\n\r\n|Build|Definition|Test|Pull Request|\r\n|---|---|---|---|\r\n|[954239](https://dev.azure.com/dnceng-public/public/_build/results?buildId=954239)|dotnet/machinelearning|[Microsoft.ML.AutoML.Test.AutoFeaturizerTests.AutoFeaturizer_image_test](https://dev.azure.com/dnceng-public/public/_build/results?buildId=954239&view=ms.vss-test-web.build-test-results-tab&runId=25376176&resultId=101891)|dotnet/machinelearning#7388|\r\n#### Summary\r\n|24-Hour Hit Count|7-Day Hit Count|1-Month Count|\r\n|---|---|---|\r\n|0|0|1|\r\n<!--Known issue error report end -->","Url":"https://github.com/dotnet/machinelearning/issues/7393","RelatedDescription":"Open issue \"Resource contention in tests DownloadImageSet\" (#7393)"},{"Id":"2862725686","IsPullRequest":false,"CreatedAt":"2025-02-19T09:26:07","Actor":"pgroene","Number":"7391","RawContent":null,"Title":"Add max number of token to count to the TokenCount function","State":"open","Body":"Is your feature request related to a problem? Please describe.\n\nWhen processing large inputs, I need to count the tokens to ensure they do not exceed the maximum allowed for my request before sending it. Currently, the existing interfaces require counting all tokens in the input, even if I only need to know if the count exceeds a specific number. This results in unnecessary processing. It would be more efficient to have the ability to stop counting once a certain threshold is reached.\n\nDescribe the solution you'd like\n\nIntroduce an optional parameter in the CountTokens method that allows setting a maximum number of tokens to count. This way, the counting process can terminate early if the specified limit is reached, saving processing time and resources. This parameter should be added to the existing parameters for the counting method\n\n**Describe alternatives you've considered**\n\n**Additional context**\n\n\n","Url":"https://github.com/dotnet/machinelearning/issues/7391","RelatedDescription":"Open issue \"Add max number of token to count to the TokenCount function\" (#7391)"}],"ResultType":"GitHubIssue"}},"RunOn":"2025-03-12T03:30:19.0289093Z","RunDurationInMilliseconds":507}