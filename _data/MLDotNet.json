{"Data":{"GitHub":{"Issues":[{"Id":"658646323","IsPullRequest":false,"CreatedAt":"2020-07-16T23:02:08","Actor":"ganik","Number":"5309","RawContent":null,"Title":"Entrypoints for RobustScaler, ToString removed","State":"open","Body":"ML.NET 1.5.1 breaking changes for NimbusML.\r\nEntrypoints RobustScaler, ToString and CategoryImputer removed.\r\nThe PR was #5209 \r\nNimbusML can do changes for CategoryImputer to use ReplaceMissingValues entrypoint\r\nWe need to expose TypeConvertingTransformer  and NormalizingEstimator as entrypoints\r\n","Url":"https://github.com/dotnet/machinelearning/issues/5309","RelatedDescription":"Open issue \"Entrypoints for RobustScaler, ToString removed\" (#5309)"},{"Id":"657106630","IsPullRequest":false,"CreatedAt":"2020-07-16T15:44:59","Actor":"masayakitazawasan","Number":"5307","RawContent":null,"Title":"how to work 2 inputs to loading ONNX model by ML.NET","State":"closed","Body":"### Question\r\nI built a ONNX model with 2 inputs in python.\r\nONNX with 2 inputs works in python.\r\nBut I can't find any sample code in ML.NET with multiple inputs.\r\nCould you tell me how to build pipline with two inputs in ML.NET ?\r\n\r\n## ONNX Infomation ##\r\n[INPUTNAME]\r\n   input_1 ['None', 224, 224, 3]\r\n   input_2 ['None', 18]\r\n[OUTPUTNAME]\r\n   dense_3 ['None', 5]\r\n\r\n### Source code \r\n##################################################\r\n# ML.NET\r\n##################################################\r\npipeline=imageLoader.Append(imageResizer).Append(pixelExtractor).Append(onnxEstimator);\r\nmodel = pipeline.Fit(data);\r\n* The size of imageResizer is [224,224,3] \r\n\r\n\r\n\r\n##################################################\r\n# Python (2 inputs onnx works)\r\n##################################################\r\n## Prediction Process ##\r\n   x1 = x1.astype(np.float16)\r\n   x2 = x2.astype(np.float16)\r\n   predict = SESS.run([\"dense_3\"],{\"input_1\":x1,\"input_2\":x2})[0]","Url":"https://github.com/dotnet/machinelearning/issues/5307","RelatedDescription":"Closed issue \"how to work 2 inputs to loading ONNX model by ML.NET\" (#5307)"},{"Id":"657943987","IsPullRequest":false,"CreatedAt":"2020-07-16T07:45:34","Actor":"hejingkan2005","Number":"5308","RawContent":null,"Title":"Unable to load DLL 'FastTreeNative' in Azure Function ","State":"open","Body":"### System information\r\n\r\n- **OS version/distro**: win10 (10.0.19041 Build 19041)\r\n- **.NET Version (eg., dotnet --info)**: .net core 3.1\r\n\r\n### Issue\r\n\r\n- **What did you do?**\r\nML.net 1.5.1\r\n- **What happened?**\r\nIt is no issue to run sample code in console app, but it's repeatedly reporting below error when run CreateModel() from a testing azure function:\r\n=============== Training  model ===============\r\n[7/16/2020 7:41:11 AM] Executed 'NormalizeFunction' (Failed, Id=64d8e39f-5a8b-40e9-b335-3cf2cbf4ce45)\r\n[7/16/2020 7:41:11 AM] System.Private.CoreLib: Exception while executing function: NormalizeFunction. System.Private.CoreLib: One or more errors occurred. (Unable to load DLL 'FastTreeNative' or one of its dependencies: The specified module could not be found. (Exception from HRESULT: 0x8007007E)). Microsoft.ML.FastTree: Unable to load DLL 'FastTreeNative' or one of its dependencies: The specified module could not be found. (Exception from HRESULT: 0x8007007E).\r\n- **What did you expect?**\r\nIt should run without exception as it did in console app\r\n\r\n### Source code / logs\r\n\r\nPlease paste or attach the code or logs or traces that would be helpful to diagnose the issue you are reporting.\r\n","Url":"https://github.com/dotnet/machinelearning/issues/5308","RelatedDescription":"Open issue \"Unable to load DLL 'FastTreeNative' in Azure Function \" (#5308)"},{"Id":"653098668","IsPullRequest":false,"CreatedAt":"2020-07-15T07:37:08","Actor":"UlrichSuess","Number":"5293","RawContent":null,"Title":"Opaque disruptive handling of variable axes of ONNX-models","State":"closed","Body":"**### System information**\r\n- Win 10, 1903\r\n- .NET 4.7.2\r\n\r\n**### Issue**\r\nremark: I do have a functional workaround solution, but it requires quite some nasty additional code and probably is a bit slower than optimal.\r\n\r\nThe main point of critique here concerns the OnnxTransform class.\r\n\r\n**What did you do?**\r\nTried to do inference with an ONNX-model for sequence labeling with two variable input axes (batch and sequence).\r\n\r\nThe whole input (3 dimensions: batch, sequence, features) were put into one big float[]. Still not sure whether this is really the correct way. All attempts to use multidimensional input fields failed.\r\n\r\n**What happened?**\r\nAs stated in source code (OnnxTransform.MakeRowMapper(...), see below), dimensions of variable input axes were set to 1, resulting in incorrect batches and sequences of size 1 each, regardless of specified DataView.\r\n\r\nThere is no explicit hint leading to the dimensionality reduction, however. The problem is documented, but that's in a private method. You only get an exception when feeding your whole sequence (as stated as one big float[]), because due to the dimension reduction the set up model expects length 1 * 1 * FeatureLength, and the input vector gets is large for that. At least that exception tells you that the product of the dimensions is relevant.\r\n\r\nThe workaround consists of setting up the \"model\" for each sequence by using the ApplyOnnxModel-overload with the input size dictionary \"shapesDictionary\". The documentation for that overload method is a bit cryptic, though (see below). It does allow to override the reduction to 1 of the variable axes (and only for those!) by using the values in the dictionary, but I learned that from the source code, not from the documentation.\r\n\r\nThe DataView has to be reset for each sequence, too, of course, to contain the specific sequence length.\r\n\r\nTook unnecessarily long to find the source of the problem and the workaround solution.\r\n\r\n**What did you expect?**\r\nBest case: Full support for variable input dimensions, which should extend to the DataView and the model.\r\n\r\n2nd best: Even for my chosen workaround of adjusting everything for each sequence to contain specific sequence length, the model-row-mapper should infer the correct dimensions instead of reducing them to 1 (there IS a todo comment for that). Fortunately, the time for the resets still make the workaround kind of usable. (although at batch size 1, so far, for more padding will probably be necessary, the effect of which remains to be checked)\r\n\r\nAt least: Output some kind of hint that the reduction takes place, at least in the public documentation for ApplyOnnxModel(...) or with further information in the exception when the sizes don't fit.\r\n\r\n\r\n### Source code / logs\r\nFrom OnnxTransform.cs:\r\n\r\n```\r\n        private protected override IRowMapper MakeRowMapper(DataViewSchema inputSchema) => new Mapper(this, inputSchema);\r\n\r\n        /// <summary>\r\n        /// This design assumes that all unknown dimensions are 1s. It also convert scalar shape [] in ONNX to [1].\r\n        /// [TODO] We should infer the unknown shape from input data instead of forcing them to be 1.\r\n        /// </summary>\r\n        private static IEnumerable<int> AdjustDimensions(OnnxShape shape)\r\n        {\r\n            if (shape.Count > 0)\r\n            {\r\n                return shape.Select(x => (x <= 0) ? 1 : x);\r\n            }\r\n            return new[] { 1 };\r\n        }\r\n```\r\n\r\nFrom OnnxCatalog.ApplyOnnxModel(...) not too helpful documentation:\r\n```\r\n        /// <param name=\"shapeDictionary\">ONNX shape should be used to over those loaded from <paramref name=\"modelFile\"/>.</param>\r\n```\r\nsuggestion:\r\n```\r\n        /// <param name=\"shapeDictionary\">Variable dimension sizes as stated in the loaded <paramref name=\"modelFile\"/> are replaced by dimension sizes from this dictionary. All dimensions, also nonvariable, have to be given, though. For keys use names as stated in the ONNX model, e.g. \"input\"</param>\r\n```","Url":"https://github.com/dotnet/machinelearning/issues/5293","RelatedDescription":"Closed issue \"Opaque disruptive handling of variable axes of ONNX-models\" (#5293)"},{"Id":"654938281","IsPullRequest":false,"CreatedAt":"2020-07-14T19:26:47","Actor":"emilylawton","Number":"5299","RawContent":null,"Title":"Unable to load shared library 'CpuMathNative' or one of its dependencies.","State":"closed","Body":"### System information\r\n\r\n- **.NET Version (eg., dotnet --info)**: 3.1\r\n\r\n### Issue\r\n\r\n- **What did you do?**\r\nRan the following command from a published AML experiment pipeline:\r\n`maml.exe TrainTest test=inputs/test.tsv tr=LogisticRegression scorer=BinaryClassifierScorer eval=BinaryClassifierEvaluator norm=No cache=+ dout=outputs/pred.tsv loader=TextLoader{col=Name:TX:3 col=Features:R4:4-222 col=Label:R4:0 header=+} data=inputs/train.tsv out=outputs/model.zip seed=137`\r\n\r\n- **What happened?**\r\n```\r\n(1) Unexpected exception: One or more errors occurred. (Unable to load shared library 'CpuMathNative' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libCpuMathNative: cannot open shared object file: No such file or directory) (Unable to load shared library 'CpuMathNative' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libCpuMathNative: cannot open shared object file: No such file or directory) (Unable to load shared library 'CpuMathNative' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libCpuMathNative: cannot open shared object file: No such file or directory) (Unable to load shared library 'CpuMathNative' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libCpuMathNative: cannot open shared object file: No such file or directory) (Unable to load shared library 'CpuMathNative' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libCpuMathNative: cannot open shared object file: No such file or directory) (Unable to load shared library 'CpuMathNative' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libCpuMathNative: cannot open shared object file: No such file or directory) (Unable to load shared library 'CpuMathNative' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libCpuMathNative: cannot open shared object file: No such file or directory) (Unable to load shared library 'CpuMathNative' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libCpuMathNative: cannot open shared object file: No such file or directory) (Unable to load shared library 'CpuMathNative' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libCpuMathNative: cannot open shared object file: No such file or directory) (Unable to load shared library 'CpuMathNative' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libCpuMathNative: cannot open shared object file: No such file or directory) (Unable to load shared library 'CpuMathNative' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libCpuMathNative: cannot open shared object file: No such file or directory) (Unable to load shared library 'CpuMathNative' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libCpuMathNative: cannot open shared object file: No such file or directory) (Unable to load shared library 'CpuMathNative' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libCpuMathNative: cannot open shared object file: No such file or directory) (Unable to load shared library 'CpuMathNative' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libCpuMathNative: cannot open shared object file: No such file or directory) (Unable to load shared library 'CpuMathNative' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libCpuMathNative: cannot open shared object file: No such file or directory) (Unable to load shared library 'CpuMathNative' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libCpuMathNative: cannot open shared object file: No such file or directory) (Unable to load shared library 'CpuMathNative' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libCpuMathNative: cannot open shared object file: No such file or directory) (Unable to load shared library 'CpuMathNative' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libCpuMathNative: cannot open shared object file: No such file or directory) (Unable to load shared library 'CpuMathNative' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libCpuMathNative: cannot open shared object file: No such file or directory) (Unable to load shared library 'CpuMathNative' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libCpuMathNative: cannot open shared object file: No such file or directory), 'System.AggregateException'\r\n   at System.Threading.Tasks.TaskReplicator.Run[TState](ReplicatableUserAction`1 action, ParallelOptions options, Boolean stopOnFirstFailure)\r\n   at System.Threading.Tasks.Parallel.ForWorker[TLocal](Int32 fromInclusive, Int32 toExclusive, ParallelOptions parallelOptions, Action`1 body, Action`2 bodyWithState, Func`4 bodyWithLocal, Func`1 localInit, Action`1 localFinally)\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Threading.Tasks.Parallel.ThrowSingleCancellationExceptionOrOtherException(ICollection exceptions, CancellationToken cancelToken, Exception otherException)\r\n   at System.Threading.Tasks.Parallel.ForWorker[TLocal](Int32 fromInclusive, Int32 toExclusive, ParallelOptions parallelOptions, Action`1 body, Action`2 bodyWithState, Func`4 bodyWithLocal, Func`1 localInit, Action`1 localFinally)\r\n   at System.Threading.Tasks.Parallel.For(Int32 fromInclusive, Int32 toExclusive, Action`1 body)\r\n   at Microsoft.ML.Trainers.LbfgsTrainerBase`3.DifferentiableFunctionMultithreaded(VBuffer`1& xDense, VBuffer`1& gradient, IProgressChannel pch) in /machinelearning/src/Microsoft.ML.StandardTrainers/Standard/LogisticRegression/LbfgsPredictorBase.cs:line 698\r\n   at Microsoft.ML.Trainers.LbfgsTrainerBase`3.DifferentiableFunction(VBuffer`1& x, VBuffer`1& gradient, IProgressChannelProvider progress) in /machinelearning/src/Microsoft.ML.StandardTrainers/Standard/LogisticRegression/LbfgsPredictorBase.cs:line 641\r\n   at Microsoft.ML.Numeric.L1Optimizer.L1OptimizerState.EvalCore(VBuffer`1& input, VBuffer`1& gradient, IProgressChannelProvider progress) in /machinelearning/src/Microsoft.ML.StandardTrainers/Optimizer/L1Optimizer.cs:line 119\r\n   at Microsoft.ML.Numeric.Optimizer.OptimizerState.Init() in /machinelearning/src/Microsoft.ML.StandardTrainers/Optimizer/Optimizer.cs:line 241\r\n   at Microsoft.ML.Numeric.L1Optimizer.MakeState(IChannel ch, IProgressChannelProvider progress, DifferentiableFunction function, VBuffer`1& initial) in /machinelearning/src/Microsoft.ML.StandardTrainers/Optimizer/L1Optimizer.cs:line 59\r\n   at Microsoft.ML.Numeric.Optimizer.Minimize(DifferentiableFunction function, VBuffer`1& initial, ITerminationCriterion term, VBuffer`1& result, Single& optimum) in /machinelearning/src/Microsoft.ML.StandardTrainers/Optimizer/Optimizer.cs:line 611\r\n   at Microsoft.ML.Trainers.LbfgsTrainerBase`3.TrainCore(IChannel ch, RoleMappedData data) in /machinelearning/src/Microsoft.ML.StandardTrainers/Standard/LogisticRegression/LbfgsPredictorBase.cs:line 573\r\n   at Microsoft.ML.Trainers.LbfgsTrainerBase`3.TrainModelCore(TrainContext context) in /machinelearning/src/Microsoft.ML.StandardTrainers/Standard/LogisticRegression/LbfgsPredictorBase.cs:line 433\r\n   at Microsoft.ML.Trainers.TrainerEstimatorBase`2.Microsoft.ML.ITrainer<Microsoft.ML.IPredictor>.Train(TrainContext context) in /machinelearning/src/Microsoft.ML.Data/Training/TrainerEstimatorBase.cs:line 100\r\n   at Microsoft.ML.Data.TrainUtils.TrainCore(IHostEnvironment env, IChannel ch, RoleMappedData data, ITrainer trainer, RoleMappedData validData, IComponentFactory`1 calibrator, Int32 maxCalibrationExamples, Nullable`1 cacheData, IPredictor inputPredictor, RoleMappedData testData) in /machinelearning/src/Microsoft.ML.Data/Commands/TrainCommand.cs:line 280\r\n   at Microsoft.ML.Data.TrainTestCommand.RunCore(IChannel ch, String cmd) in /machinelearning/src/Microsoft.ML.Data/Commands/TrainTestCommand.cs:line 186\r\n   at Microsoft.ML.Data.TrainTestCommand.Run() in /machinelearning/src/Microsoft.ML.Data/Commands/TrainTestCommand.cs:line 108\r\n   at Microsoft.ML.Tools.Maml.MainCore(IHostEnvironment env, String args, Boolean alwaysPrintStacktrace) in /machinelearning/src/Microsoft.ML.Maml/MAML.cs:line 142\r\n```\r\n\r\n- **What did you expect?**\r\nWe expect a trained model, not this error. \r\n\r\n### Source code / logs\r\n\r\nPlease paste or attach the code or logs or traces that would be helpful to diagnose the issue you are reporting.\r\nDocker file: \r\n```\r\nFROM mcr.microsoft.com/dotnet/core/sdk:3.1 AS builder\r\n\r\nRUN apt-get update \r\nRUN apt-get install -y git cmake clang-3.9 libomp-dev\r\nRUN git clone https://github.com/dotnet/machinelearning.git\r\n\r\nRUN cd /machinelearning &&\\\r\n    git submodule update --init &&\\\r\n    bash build.sh -release\r\n\r\n\r\nRUN mkdir /mlnet_ &&\\\r\n    dotnet publish -c Release --no-build  machinelearning/src/Microsoft.ML.Console --output mlnet_ --self-contained false\r\n\r\nRUN mkdir /mlnet &&\\\r\n    cp -RL /mlnet_/* /mlnet/\r\n\r\n# RUN cp -r /mlnet /mlnet_all\r\n\r\nRUN rm -rf /mlnet/runtimes/osx-x64 &&\\\r\n    rm -rf /mlnet/runtimes/win &&\\\r\n    rm -rf /mlnet/runtimes/win-x64 &&\\\r\n    rm -rf /mlnet/runtimes/win-x86\r\n\r\n\r\n\r\nFROM mcr.microsoft.com/azureml/o16n-sample-user-base/ubuntu-miniconda\r\n\r\nRUN apt-get update &&\\\r\n    apt-get install -y apt-transport-https fuse\r\n\r\nRUN wget -qO- https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > microsoft.asc.gpg\r\nRUN mv microsoft.asc.gpg /etc/apt/trusted.gpg.d/\r\nRUN chown root:root /etc/apt/trusted.gpg.d/microsoft.asc.gpg\r\n\r\nRUN wget -q https://packages.microsoft.com/config/debian/10/prod.list\r\nRUN mv prod.list /etc/apt/sources.list.d/microsoft-prod.list\r\nRUN chown root:root /etc/apt/sources.list.d/microsoft-prod.list\r\n\r\nRUN apt-get update &&\\\r\n    apt-get install -y dotnet-runtime-2.1\r\n\r\nCOPY --from=builder /mlnet /mlnet/.\r\n\r\nRUN ldconfig -n /mlnet\r\nENV LD_LIBRARY_PATH=/mlnet/runtimes/linux-x64/native:/mlnet/runtimes/unix/lib/netcoreapp2.0:$LD_LIBRARY_PATH\r\n```","Url":"https://github.com/dotnet/machinelearning/issues/5299","RelatedDescription":"Closed issue \"Unable to load shared library 'CpuMathNative' or one of its dependencies.\" (#5299)"},{"Id":"655296361","IsPullRequest":false,"CreatedAt":"2020-07-14T13:32:22","Actor":"JuanJimenezR","Number":"5304","RawContent":null,"Title":"Error al llamar \"ITransformer mlModel = mlContext.Model.Load(modelPath, out var modelInputSchema);\"             ","State":"closed","Body":"### System information\r\n\r\n- **OS Microsoft Win 10\r\n- **.NET Version 2019: \r\n\r\n\r\n- **What did you do?**\r\nEstoy generando c贸digo con ML.builder.  De hecho he logrado generar y ejecutar con exito un par de modelos donde el modelo propuesto por ML.Builder fue un fasttree.\r\nPara este nuevo set de datos el modelo generado el  el  ML.Builder fue el OlsRegression . Fue agregado el c贸digo al proyecto.  \r\nHe a actualizado las librerias incluidas a la version 1.0.0 , pues me lo pidi贸 igual que los casos anteriores.\r\n\r\nEstoy cargando con exito los datos en el ModelInput\r\nEstoy llamando a ConsumeModel.Predict ... dando el problema t茅cnico mencionado  en la llamada\r\n\r\nITransformer mlModel = mlContext.Model.Load(modelPath, out var modelInputSchema);\r\n            .\r\nde la clase consumeModel.\r\n\r\nHe vuelto a iniciar de cero, para descartar que por alguna X raz贸n el  modelo .zip estuviese corrupto, PERO tengo el mismo resultado.\r\n\r\n- **What happened?**\r\n\r\n- **What did you expect?**\r\naclaro ya he generado  y utilizado otros modelos, los cuales suelen funcionar luego de hacer las actualizaciones a las librer铆as y los amarres de c贸digo respectivos.  Pero  en este caso ... persiste el  error, en vez de poder hacer UNA prediccion \r\n\r\n### Source code / logs\r\n\r\n### System.InvalidOperationException\r\n  HResult=0x80131509\r\n  Mensaje = Error during class instantiation\r\n  Origen = Microsoft.ML.Core\r\n  Seguimiento de la pila:\r\n   at Microsoft.ML.Runtime.ComponentCatalog.LoadableClassInfo.CreateInstanceCore(Object[] ctorArgs)\r\n   at Microsoft.ML.Runtime.ComponentCatalog.TryCreateInstance[TRes](IHostEnvironment env, Type signatureType, TRes& result, String name, String options, Object[] extra)\r\n   at Microsoft.ML.Runtime.ComponentCatalog.TryCreateInstance[TRes,TSig](IHostEnvironment env, TRes& result, String name, String options, Object[] extra)\r\n   at Microsoft.ML.ModelLoadContext.TryLoadModelCore[TRes,TSig](IHostEnvironment env, TRes& result, Object[] extra)\r\n   at Microsoft.ML.ModelLoadContext.TryLoadModel[TRes,TSig](IHostEnvironment env, TRes& result, RepositoryReader rep, Entry ent, String dir, Object[] extra)\r\n   at Microsoft.ML.ModelLoadContext.LoadModel[TRes,TSig](IHostEnvironment env, TRes& result, RepositoryReader rep, Entry ent, String dir, Object[] extra)\r\n   at Microsoft.ML.ModelLoadContext.LoadModelOrNull[TRes,TSig](IHostEnvironment env, TRes& result, RepositoryReader rep, String dir, Object[] extra)\r\n   at Microsoft.ML.ModelLoadContext.LoadModel[TRes,TSig](IHostEnvironment env, TRes& result, RepositoryReader rep, String dir, Object[] extra)\r\n   at Microsoft.ML.ModelOperationsCatalog.Load(Stream stream, DataViewSchema& inputSchema)\r\n   at Microsoft.ML.ModelOperationsCatalog.Load(String filePath, DataViewSchema& inputSchema)\r\n   at PaLanteML.Model.ConsumeModel.CreatePredictionEngine() in D:\\Toni\\Soluciones\\PaLante\\PaLanteML.Model\\ConsumeModel.cs:line 31\r\n   at System.Lazy`1.CreateValue()\r\n\r\nEsta excepci贸n se gener贸 originalmente en esta pila de llamadas:\r\n    [C贸digo externo]\r\n\r\nExcepci贸n interna 1:\r\nTargetInvocationException: Se produjo una excepci贸n en el destino de la invocaci贸n.\r\n\r\nExcepci贸n interna 2:\r\nInvalidOperationException: Error during class instantiation\r\n\r\nExcepci贸n interna 3:\r\nTargetInvocationException: Se produjo una excepci贸n en el destino de la invocaci贸n.\r\n\r\nExcepci贸n interna 4:\r\nFormatException: Uno de los elementos identificados tiene un formato no v谩lido.\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/issues/5304","RelatedDescription":"Closed issue \"Error al llamar \"ITransformer mlModel = mlContext.Model.Load(modelPath, out var modelInputSchema);\"             \" (#5304)"},{"Id":"656468317","IsPullRequest":false,"CreatedAt":"2020-07-14T09:26:46","Actor":"misaqsaadat","Number":"5306","RawContent":null,"Title":"Index out of range exception in execute","State":"open","Body":"### System information\r\n\r\nwindows 10 version 1803\r\nNET Version (3.1.300): \r\nAutoML version : 0.17.1\r\n(also tested on version 0.14.0)\r\n### Issue\r\n\r\nI am trying to use AutoML for the first time. but I get IndexOutOfRangeException on execute method call.\r\n\r\n### Source code / logs\r\nstatic void Main(string[] args)\r\n\t\t{\r\n\t\t\tMLContext mlContext = new MLContext();\r\n\t\t\tIDataView trainDataView = mlContext.Data.LoadFromTextFile<ModelInput>(\"input.csv\", hasHeader: true);\r\n\t\t\tvar experimentSettings = new RegressionExperimentSettings();\r\n\t\t\texperimentSettings.MaxExperimentTimeInSeconds = 100;\r\n\t\t\tRegressionExperiment experiment = mlContext.Auto().CreateRegressionExperiment(experimentSettings);\r\n\t\t\tExperimentResult<RegressionMetrics> experimentResult = experiment.Execute(trainDataView, \"Withdrawal\");\r\n\t\t\tRegressionMetrics metrics = experimentResult.BestRun.ValidationMetrics;\r\n\t\t\tConsole.WriteLine($\"R-Squared: {metrics.RSquared:0.##}\");\r\n\t\t\tConsole.WriteLine($\"Root Mean Squared Error: {metrics.RootMeanSquaredError:0.##}\");\r\n\t\t}\r\n\r\nError:\r\n\r\nUnhandled exception. System.ArgumentOutOfRangeException: Index was out of range. Must be non-negative and less than the size of the collection. (Parameter 'index')\r\n   at Microsoft.ML.AutoML.CrossValSummaryRunner`1.Run(SuggestedPipeline pipeline, DirectoryInfo modelDirectory, Int32 iterationNum)\r\n   at Microsoft.ML.AutoML.Experiment`2.Execute()\r\n   at Microsoft.ML.AutoML.ExperimentBase`2.Execute(ColumnInformation columnInfo, DatasetColumnInfo[] columns, IEstimator`1 preFeaturizer, IProgress`1 progressHandler, IRunner`1 runner)\r\n   at Microsoft.ML.AutoML.ExperimentBase`2.ExecuteCrossValSummary(IDataView[] trainDatasets, ColumnInformation columnInfo, IDataView[] validationDatasets, IEstimator`1 preFeaturizer, IProgress`1 progressHandler)\r\n   at Microsoft.ML.AutoML.ExperimentBase`2.Execute(IDataView trainData, ColumnInformation columnInformation, IEstimator`1 preFeaturizer, IProgress`1 progressHandler)\r\n   at Microsoft.ML.AutoML.ExperimentBase`2.Execute(IDataView trainData, String labelColumnName, String samplingKeyColumn, IEstimator`1 preFeaturizer, IProgress`1 progressHandler)\r\n   at FunWithMlnet.Program.Main(String[] args) in C:\\Users\\User\\source\\repos\\FunWithWithdrawalsData\\FunWithMlnet\\Program.cs:line 18","Url":"https://github.com/dotnet/machinelearning/issues/5306","RelatedDescription":"Open issue \"Index out of range exception in execute\" (#5306)"},{"Id":"655621175","IsPullRequest":false,"CreatedAt":"2020-07-13T06:42:12","Actor":"horczech","Number":"5305","RawContent":null,"Title":"Length of memory (691200) must match product of dimensions (3).","State":"open","Body":"### System information\r\n\r\n- **OS version/distro**: Windows 10\r\n- **.NET Version (eg., dotnet --info)**: netcoreapp3.1\r\n\r\n### Issue\r\n\r\n- **What did you do?** I loaded an ONNX model to ML.NET and tried to run it.\r\n- **What happened?** I am getting this exception when trying to do a prediction: \"Length of memory (691200) must match product of dimensions (3)\"\r\n- **What did you expect?** Prediction \r\n\r\n### Source code / logs\r\n\r\nFull error message:\r\n`System.ArgumentException: 'Length of memory (691200) must match product of dimensions (3).'`\r\n\r\nPipeline that I am using:\r\n`            var pipeline = _mlContext.Transforms\r\n                .ResizeImages(\r\n                    outputColumnName: \"resized_image\",\r\n                    imageWidth: 640,\r\n                    imageHeight: 360,\r\n                    inputColumnName: \"image\")\r\n                .Append(_mlContext.Transforms\r\n                    .ExtractPixels(\r\n                        outputColumnName: ModelConfigParameters.InputColumns.First(),\r\n                        outputAsFloatArray: false,\r\n                        colorsToExtract: ImagePixelExtractingEstimator.ColorBits.Rgb,\r\n                        orderOfExtraction: ImagePixelExtractingEstimator.ColorsOrder.ARGB,\r\n                        interleavePixelColors: false,\r\n                        inputColumnName: \"resized_image\"))\r\n                .Append(_mlContext.Transforms\r\n                    .ApplyOnnxModel(\r\n                        modelFile: onnxModelPath,\r\n                        outputColumnNames: ModelConfigParameters.OutputColumns,\r\n                        inputColumnNames: ModelConfigParameters.InputColumns));`\r\n\r\n\r\nInput object to the pipeline:\r\n```\r\npublic class InputImage\r\n{\r\n    [ImageType(width: 640, height: 360)]\r\n    [ColumnName(\"image\")]\r\n    public Bitmap Image { get; set; }\r\n\r\n}\r\n```\r\n\r\nOutput object (predictions):\r\n```\r\npublic class OutputPredictions\r\n{\r\n    [ColumnName(\"detection_scores:0\")]\r\n    public float[] DetectionScores;\r\n\r\n    [ColumnName(\"detection_boxes:0\")]\r\n    public float[] DetectionBoxes;\r\n\r\n    [ColumnName(\"detection_classes:0\")]\r\n    public float[] DetectionClasses;\r\n\r\n    [ColumnName(\"num_detections:0\")]\r\n    public float[] NumDetections;\r\n}\r\n```\r\n\r\n\r\n\r\nThe code that fails on the last line:\r\n```\r\n        var imgPath = @\"some/path/to/image.png\";\r\n        var img = (Bitmap)Image.FromFile(imgPath);\r\n        var inputData = new InputImage() { Image = img };\r\n\r\n        var emptyData = _mlContext.Data.LoadFromEnumerable(new List<InputImage>());\r\n        var model = pipeline.Fit(emptyData);\r\n\r\n        var prediction = _mlContext.Model.CreatePredictionEngine<InputImage, OutputPredictions>(model).Predict(inputData);\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nWhen I inspect pipeline using the var preview = pipeline.Preview(emptyData); I get this scheme:\r\n![img1_scheme](https://user-images.githubusercontent.com/5252663/87278343-80c1e600-c4e4-11ea-8daf-f2cc4ef0eef2.png)\r\n\r\n\r\n\r\nand the input and output of the ONNX model is following:\r\n\r\n![img2_inout](https://user-images.githubusercontent.com/5252663/87278357-8dded500-c4e4-11ea-8f79-2526764ec316.png)\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/issues/5305","RelatedDescription":"Open issue \"Length of memory (691200) must match product of dimensions (3).\" (#5305)"},{"Id":"655122348","IsPullRequest":true,"CreatedAt":"2020-07-11T05:02:45","Actor":"harishsk","Number":"5302","RawContent":null,"Title":"Updated version to 1.5.2","State":"closed","Body":"","Url":"https://github.com/dotnet/machinelearning/pull/5302","RelatedDescription":"Closed or merged PR \"Updated version to 1.5.2\" (#5302)"},{"Id":"654434456","IsPullRequest":true,"CreatedAt":"2020-07-11T02:51:26","Actor":"harishsk","Number":"5297","RawContent":null,"Title":"Release notes for v1.5.1","State":"closed","Body":"","Url":"https://github.com/dotnet/machinelearning/pull/5297","RelatedDescription":"Closed or merged PR \"Release notes for v1.5.1\" (#5297)"},{"Id":"651127529","IsPullRequest":false,"CreatedAt":"2020-07-11T02:50:45","Actor":"petropolitana","Number":"5285","RawContent":null,"Title":"System.MissingMethodException: 'Method not found: 'System.Threading.Tasks.Task`1<ResourceDownloadResults> ","State":"closed","Body":"### System information\r\n\r\n- **OS version/distro**:\r\nWindows 10\r\n- **.NET Version (eg., dotnet --info)**: \r\n.NET Framework 4.7\r\n\r\n### Issue\r\n\r\n- **What did you do?**\r\nTried to train a model with InceptionV3\r\n- **What happened?**\r\nCrashed with MissingMethod\r\n- **What did you expect?**\r\nExpected no errors\r\n\r\n### Source code / logs\r\n\r\n            var options = new ImageClassificationTrainer.Options()\r\n            {\r\n                FeatureColumnName = \"Image\",\r\n                LabelColumnName = \"LabelAsKey\",\r\n                Arch = ImageClassificationTrainer.Architecture.InceptionV3,\r\n                Epoch = 50,       //100\r\n                BatchSize = 10,\r\n                LearningRate = 0.01f,\r\n                MetricsCallback = (metrics) => Console.WriteLine(metrics),\r\n                ValidationSet = testDataView\r\n            };\r\n\r\n\r\nSystem.MissingMethodException: 'Method not found: 'System.Threading.Tasks.Task`1 ResourceDownloadResults Microsoft.ML.Internal.Utilities.ResourceManagerUtils.EnsureResource(Microsoft.ML.Runtime.IHostEnvironment, Microsoft.ML.Runtime.IChannel, System.String, System.String, System.String, Int32)'.'\r\n\r\n\r\nHello, I was tring to train a model with ImageClassificationTrainer and tried to user InceptionV3 in .NetFramework4.7 and it gave me MissingMethodException. \r\nTried the same code in .NetCore 3.1 and the problem wasn't there \r\nIs there a fast WA or a Fix for this kind of problem? Can someone advise?","Url":"https://github.com/dotnet/machinelearning/issues/5285","RelatedDescription":"Closed issue \"System.MissingMethodException: 'Method not found: 'System.Threading.Tasks.Task`1<ResourceDownloadResults> \" (#5285)"},{"Id":"651919403","IsPullRequest":true,"CreatedAt":"2020-07-11T02:21:07","Actor":"mstfbl","Number":"5289","RawContent":null,"Title":"Added ONNX export support and tests for {FixedPlatt, Naive}CalibratorEstimators","State":"closed","Body":"Partial Fix for #5277 \r\nAdded ONNX export support for the Naive calibrator estimator. FixedPlatt calibrator estimator can already be exported as it is deriving from Platt calibrator, which is also already supported.\r\n\r\nAlso added unit tests to check ONNX export for FixedPlatt and Naive calibrator estimators. Specifically, I have consolidated the separate unit tests of calibrators with/without standard date and binary prediction trainers into 1 unit test per calibrator.\r\n\r\nONNX export support for `IsotonicCalibratorEstimator` will come in a separate PR.","Url":"https://github.com/dotnet/machinelearning/pull/5289","RelatedDescription":"Closed or merged PR \"Added ONNX export support and tests for {FixedPlatt, Naive}CalibratorEstimators\" (#5289)"},{"Id":"650141899","IsPullRequest":true,"CreatedAt":"2020-07-11T00:40:55","Actor":"Lynx1820","Number":"5279","RawContent":null,"Title":"StopWordsRemovingEstimator export to Onnx","State":"closed","Body":"- Exporting StopWordsRemovingEstimator/CustomStopWordsRemovingEstimator to Onnx. \r\n- A test which currently fails is the edge case where all the words in the text get removed. While Ml.net produces an empty array, Onnx produces an array of length 1 with the empty string. Suggestions for how handle this case? \r\n\r\nNote: The decision was address the issue mentioned above in another PR. ","Url":"https://github.com/dotnet/machinelearning/pull/5279","RelatedDescription":"Closed or merged PR \"StopWordsRemovingEstimator export to Onnx\" (#5279)"},{"Id":"655059377","IsPullRequest":true,"CreatedAt":"2020-07-11T00:33:31","Actor":"antoniovs1029","Number":"5301","RawContent":null,"Title":"Improve VectorTypeAttribute(dims) docs","State":"closed","Body":"Addresses #5273 : On the confusion of users about how to use the VectorTypeAttribute.\r\n\r\nAs confirmed offline by @yaeldekel , users currently can't provide a multidimensional array with a `VectorTypeAttribute(dims)` . They should flatten their arrays into 1-D arrays and then use the `VectorTypeAttribute(dims)` to describe the shape ML.NET will use internally.\r\n\r\n**Note:** Originally I was planning on throwing a readable exception if the user added the `VectorTypeAttribute` to a multidimensional array, but some discussion would be needed to decide where to do this (either in `InternalSchemaDefinition.Create`, or somewhere else on `InternalSchemaDefinition` or `SchemaDefinition` itself). Furthermore, I'm thinking that maybe there's a bug on these classes, where if a user adds a custom `DataViewType` (see #3263 ) and adds the attribute of this type to an array, then some unexpected behavior will happen as [`InternalSchemaDefinition.GetMappedType()` ](https://github.com/antoniovs1029/machinelearning/blob/bb13d629000c218136e741b643767cf45ae12fc4/src/Microsoft.ML.Data/DataView/InternalSchemaDefinition.cs#L163) assumes that any array (multidimensional or otherwise) is `isVector = true`, and then elsewhere in the code we assume that if a type `isVector == true` then it _should_ be a `VectorDataViewType`. More discussion and inspection would be needed on this regard and it might, or not, affect the decision of where to throw an exception for multidimensionals array with `VectorTypeAttribute`. And these may be addressed on a separate PR.\r\n\r\nSo, for the time being, and the fact that this might not be a common problem anyway, I think that simply changing slightly the docs is the best option for the next release.","Url":"https://github.com/dotnet/machinelearning/pull/5301","RelatedDescription":"Closed or merged PR \"Improve VectorTypeAttribute(dims) docs\" (#5301)"},{"Id":"653856686","IsPullRequest":true,"CreatedAt":"2020-07-10T23:35:10","Actor":"antoniovs1029","Number":"5296","RawContent":null,"Title":"Update OnnxTransformer Docs","State":"closed","Body":"* Address https://github.com/dotnet/machinelearning/issues/5262#issuecomment-650256576 : Users find it confusing not knowing where to find the info related to the dependencies of Onnx and how to make it work on the GPU. So I think it's best to keep this info in the docs of the `OnnxScoringEstimator` and add a note on every `ApplyOnnxModel()` overload and to `OnnxTransformer` pointing to the Estimator's docs.\r\n\r\n* Address #5293 : About the confusing nature of the `shapeDictionary` parameter. I've updated the docs for this parameter based on the explicit suggestion made by the user.\r\n\r\n* Added a couple of details about how the `gpuDeviceId` and `fallbackToCpu` interact with each other.\r\n\r\n**Note:** As stated in https://github.com/dotnet/machinelearning/issues/5262#issuecomment-650256576 for some reason the published docs for [OnnxTransformer](https://docs.microsoft.com/en-us/dotnet/api/microsoft.ml.transforms.onnx.onnxtransformer?view=ml-dotnet) are outdated, and for some reason it includes info that was deleted on the ML.NET 1.5.0 release (or maybe before that). @natke thinks this is a bug in the tools that generate the published docs, and is seeking for help on this, as this tools are outside of the ML.NET repo itself. In the meantime, we'll try to see if updating this docs on this PR will force the tool to actually generate the correct updated docs.\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5296","RelatedDescription":"Closed or merged PR \"Update OnnxTransformer Docs\" (#5296)"},{"Id":"654621086","IsPullRequest":true,"CreatedAt":"2020-07-10T08:45:46","Actor":"mstfbl","Number":"5298","RawContent":null,"Title":"Added IsotonicCalibrator ONNX Export Support","State":"open","Body":"WIP PR to add ONNX export support for the Isotonic Calibrator\r\n\r\nCurrent work remaining is implementing if-then-else conditionals. Intermediate calculations and if-then-else inputs are already implemented.\r\n\r\nI will add tests (first written in this [commit](https://github.com/dotnet/machinelearning/pull/5289/commits/b27d278708beed87d0e7131a58f7fe16abad3f3f)) for validating IsotonicCalibrator with ONNX and merge with upstream once PR #5289 is merged.\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5298","RelatedDescription":"Open PR \"Added IsotonicCalibrator ONNX Export Support\" (#5298)"},{"Id":"653124819","IsPullRequest":false,"CreatedAt":"2020-07-10T00:11:38","Actor":"jwood803","Number":"5294","RawContent":null,"Title":"\"Could not find operation\" Error When Scoring a Tensorflow Model","State":"closed","Body":"### System information\r\n\r\n- **OS version/distro**:\r\nWindows 10 1909 Build \r\n- **.NET Version (eg., dotnet --info)**: \r\n.NET Core SDK (reflecting any global.json):\r\n Version:   3.1.400-preview-015178\r\n Commit:    60cb58d3b1\r\n\r\nRuntime Environment:\r\n OS Name:     Windows\r\n OS Version:  10.0.18363\r\n OS Platform: Windows\r\n RID:         win10-x64\r\n Base Path:   C:\\Program Files\\dotnet\\sdk\\3.1.400-preview-015178\\\r\n\r\nHost (useful for support):\r\n  Version: 3.1.2\r\n  Commit:  916b5cba26\r\n\r\n.NET Core SDKs installed:\r\n  3.0.100-preview8-013656 [C:\\Program Files\\dotnet\\sdk]\r\n  3.1.400-preview-015178 [C:\\Program Files\\dotnet\\sdk]\r\n\r\n.NET Core runtimes installed:\r\n  Microsoft.AspNetCore.App 3.0.0-preview8.19405.7 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 3.1.2 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.DesktopUI.App 3.0.0-alpha-26921-3 [C:\\Program Files\\dotnet\\shared\\Microsoft.DesktopUI.App]\r\n  Microsoft.NETCore.App 3.0.0-preview8-28405-07 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.1.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.1.1 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.1.2 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.WindowsDesktop.App 3.0.0-preview8-28405-07 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n  Microsoft.WindowsDesktop.App 3.1.2 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n\r\n### Issue\r\n\r\n- **What did you do?**\r\nAttempted to load and score a Tensorflow model.\r\n\r\n- **What happened?**\r\nWhen running it gave a 'Could not find operation \"input\" inside graph \"grap-key-1/\".' error.\r\n\r\n### Source code / logs\r\nUsed [this Colab notebook](https://colab.research.google.com/github/tensorflow/docs/blob/master/site/en/tutorials/quickstart/beginner.ipynb) locally and added the `model.save(\"mnist-model.h5\", save_format=\"h5\")` line to save the model to a local file.\r\n\r\nThe model as shown in Netron:\r\n![image](https://user-images.githubusercontent.com/1578160/86899782-719ffa00-c0d8-11ea-9d9d-1363c88daaaa.png)\r\n\r\nUsed the below ML.NET code to load and score the model:\r\n\r\n```csharp\r\npublic class DigitInput\r\n{\r\n    public float[] DigitData { get; set; }\r\n}\r\n\r\nvar context = new MLContext();\r\n\r\nvar emptyData = new List<DigitInput>();\r\n\r\nvar data = context.Data.LoadFromEnumerable(emptyData);\r\n\r\nvar pipeline = context.Model.LoadTensorFlowModel(\"./mnist-model.h5\")\r\n  .ScoreTensorFlowModel(new[] { \"dense_1\" }, new[] { \"input\" }, addBatchDimensionInput: true)\r\n  .Append(context.MulticlassClassification.Trainers.LbfgsMaximumEntropy(\"LabelKey\", \"dense_1\"))\r\n  .Append(context.Transforms.Conversion.MapKeyToValue(\"PredictedLabelValue\", \"PredictedLabel\"));\r\n\r\npipeline.Fit(data);\r\n```\r\n\r\nI'm sure I'm missing something but not sure what that is.  ","Url":"https://github.com/dotnet/machinelearning/issues/5294","RelatedDescription":"Closed issue \"\"Could not find operation\" Error When Scoring a Tensorflow Model\" (#5294)"},{"Id":"652739656","IsPullRequest":true,"CreatedAt":"2020-07-09T21:11:41","Actor":"frank-dong-ms","Number":"5291","RawContent":null,"Title":"throw exception when call AppendCacheCheckPoint on empty estimator chain","State":"closed","Body":"issue #4909 \r\n\r\n\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5291","RelatedDescription":"Closed or merged PR \"throw exception when call AppendCacheCheckPoint on empty estimator chain\" (#5291)"},{"Id":"651371898","IsPullRequest":false,"CreatedAt":"2020-07-08T22:33:59","Actor":"VinuthaRaghavendra","Number":"5286","RawContent":null,"Title":"Input shape mismatch: Input 'image_tensor' has shape (-1, -1, -1, 3), but input data is of length 2160000.'","State":"closed","Body":"### System information\r\n\r\n- **OS version/distro**:\r\nWindows 10\r\n- **.NET Version (eg., dotnet --info)**: \r\n.NET Core 2.1\r\n\r\n### Issue\r\n\r\n- **What did you do?**\r\nI created my own TensorFlow object detection model and tried to load it in a C# console application.\r\n- **What happened?**\r\nWhen I tried to create a model by using pipeline.fit I get this error System.ArgumentOutOfRangeException: System.InvalidOperationException: 'Input shape mismatch: Input 'image_tensor' has shape (-1, -1, -1, 3), but input data is of length 2160000.'\r\n\r\n- **What did you expect?**\r\nI would have been able to create the model and continue to create the prediction engine and test my TensorFlow.\r\n\r\n### Source code / logs\r\n\r\nHere is how I am loading the pipeline\r\n\r\nvar pipeline = mlContext.Transforms\r\n                .LoadImages(\"image_tensor\", @\"E:\\output_original_image\", nameof(ImageData.ImagePath))\r\n                .Append(mlContext.Transforms.ResizeImages(outputColumnName: \"image_tensor\", imageWidth: 1200, imageHeight: 600, inputColumnName: \"image_tensor\"))\r\n                .Append(mlContext.Transforms.ExtractPixels(outputColumnName: \"image_tensor\", interleavePixelColors: true, outputAsFloatArray: false))\r\n                .Append(mlContext.Model.LoadTensorFlowModel(modelLocation)\r\n              .ScoreTensorFlowModel(outputColumnNames: new[] { \"detection_boxes\", \"detection_classes\", \"detection_scores\", \"num_detections\" }, inputColumnNames: new[] { \"image_tensor\" }, addBatchDimensionInput: true));\r\n\r\n\r\n\r\n\r\nWhen I try to load the model inPython like so it works just fine.\r\n\r\nimage_tensor = detection_graph.get_tensor_by_name('image_tensor:0')\r\ndetection_boxes = detection_graph.get_tensor_by_name('detection_boxes:0')\r\ndetection_scores = detection_graph.get_tensor_by_name('detection_scores:0')\r\ndetection_classes = detection_graph.get_tensor_by_name('detection_classes:0')\r\nnum_detections = detection_graph.get_tensor_by_name('num_detections:0')\r\n\r\n\r\nimage = cv2.imread(PATH_TO_IMAGE)\r\nimage_expanded = np.expand_dims(image, axis=0)\r\n\r\nprint(\"going to run the model now\")\r\n\r\n(boxes, scores, classes, num) = sess.run(\r\n    [detection_boxes, detection_scores, detection_classes, num_detections],\r\n    feed_dict={image_tensor: image_expanded})\r\nAny ideas on how to find the input column that ML.NET wants?\r\nPlease paste or attach the code or logs or traces that would be helpful to diagnose the issue you are reporting.","Url":"https://github.com/dotnet/machinelearning/issues/5286","RelatedDescription":"Closed issue \"Input shape mismatch: Input 'image_tensor' has shape (-1, -1, -1, 3), but input data is of length 2160000.'\" (#5286)"},{"Id":"655177865","IsPullRequest":false,"CreatedAt":"2020-07-08T22:28:19","Actor":"jualbina","Number":"5303","RawContent":null,"Title":"Not being able to generate code from model on ML.NET CLI","State":"open","Body":"### System information\r\n\r\n- **OS version/distro**: Running over Azure Machine Learning compute cluster, not completely sure on the OS behind it.\r\n- **.NET Version (eg., dotnet --info)**: .NET Core 2.0, I believe.\r\n\r\n### Issue\r\n\r\n- **What did you do?**\r\nCLI command performed: _saveModel in=inputs/model.zip code=outputs/code.cs_\r\n\r\n- **What happened?**\r\nI've got the following error message:\r\n_Error during class instantiation\r\nOne of the identified items was in an invalid format._\r\n\r\n- **What did you expect?**\r\nTo have the model code generated.\r\n\r\n### Source code / logs\r\nThe library generated a log file, but since I was running over a dynamically generated Azure Machine Learning compute cluster, I was not able to retrieve it.","Url":"https://github.com/dotnet/machinelearning/issues/5303","RelatedDescription":"Open issue \"Not being able to generate code from model on ML.NET CLI\" (#5303)"},{"Id":"652868225","IsPullRequest":true,"CreatedAt":"2020-07-08T17:21:42","Actor":"frank-dong-ms","Number":"5292","RawContent":null,"Title":"Test fix using breastcancel dataset and test cleanup","State":"closed","Body":"this PR is part of below PR, we decide to hold the text loader PR but this test fix can be merged separately:\r\nhttps://github.com/dotnet/machinelearning/pull/5275\r\n\r\n2 fixes in this PR:\r\n1. breastcancel dataset don't have header, fix tests using this dataset with option hasHeader from true to false\r\n2. we already have dataset breastcancel so stop using hardcoded string \"breast-cancer.txt\"\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5292","RelatedDescription":"Closed or merged PR \"Test fix using breastcancel dataset and test cleanup\" (#5292)"},{"Id":"651825022","IsPullRequest":true,"CreatedAt":"2020-07-08T01:53:20","Actor":"wangyems","Number":"5288","RawContent":null,"Title":"[Issue4484] Support specifying command timeout while using the database loader","State":"closed","Body":"fix issue [4484](https://github.com/dotnet/machinelearning/issues/4484)\r\n\r\n-add option to set db command timeout in db loader\r\n-add corresponding test\r\nthis pr partially refers to a hanging [PR](https://github.com/dotnet/machinelearning/pull/4494).\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5288","RelatedDescription":"Closed or merged PR \"[Issue4484] Support specifying command timeout while using the database loader\" (#5288)"},{"Id":"652475718","IsPullRequest":true,"CreatedAt":"2020-07-07T22:28:48","Actor":"michaelgsharp","Number":"5290","RawContent":null,"Title":"Changed default value of RowGroupColumnName from null to GroupId","State":"closed","Body":"This is the final pr to fix issue #4749, changes the default value of RowGroupColumnName from null to GroupId.","Url":"https://github.com/dotnet/machinelearning/pull/5290","RelatedDescription":"Closed or merged PR \"Changed default value of RowGroupColumnName from null to GroupId\" (#5290)"},{"Id":"650129012","IsPullRequest":false,"CreatedAt":"2020-07-06T21:34:10","Actor":"LittleLittleCloud","Number":"5278","RawContent":null,"Title":"Usabilla Feedback: User is facing dependency issue","State":"closed","Body":"@v-mepa commented on [Tue Jun 30 2020](https://github.com/dotnet/machinelearning-modelbuilder/issues/874)\n\n**User Comment:** There is a dependency problem with Microsoft.ML and Microsoft.ML.DataView needing System.Collections.Immutable 1.2.3.0. Not sure how System.Collections.Immutable 1.7 (newest version) got in the packages directory but I can't change it to the old version so can please update Microsoft.ML.DataView and Microsoft.ML to use any version higher than 1.2.3.0?\r\n**URL:** https://dotnet.microsoft.com/apps/machinelearning-ai/ml-dotnet\r\n**OS:** MacOSX\r\n**Browser:** Safari 13.1\r\n**Device:** Desktop\r\n\r\n![image](https://user-images.githubusercontent.com/42360097/86171588-cbe5fd00-bad1-11ea-82ae-caddb4d5e322.png)\r\n\n\n","Url":"https://github.com/dotnet/machinelearning/issues/5278","RelatedDescription":"Closed issue \"Usabilla Feedback: User is facing dependency issue\" (#5278)"},{"Id":"651709754","IsPullRequest":true,"CreatedAt":"2020-07-06T19:29:47","Actor":"frank-dong-ms","Number":"5287","RawContent":null,"Title":"fix test can_reload_model","State":"closed","Body":"Fix below test failure by increase wait time:\r\n\r\nhttps://dev.azure.com/dnceng/public/_build/results?buildId=716174&view=logs&j=41509eb4-74ce-5e57-61b4-bdf74b39e7c1&t=522d178a-829f-5bff-ccb9-04bea054b64d\r\n\r\nerror message is like:\r\n\r\nX Microsoft.Extensions.ML.FileLoaderTests.can_reload_model [2s 11ms]\r\n  Error Message:\r\n   FileLoader ChangeToken didn't fire before the allotted time.\r\n\r\n\r\nthis failure is tracked at #5266\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5287","RelatedDescription":"Closed or merged PR \"fix test can_reload_model\" (#5287)"},{"Id":"651016624","IsPullRequest":false,"CreatedAt":"2020-07-05T07:11:59","Actor":"boyedarat","Number":"5284","RawContent":null,"Title":"ML.NET CLI support for F#","State":"open","Body":"### System information\r\n\r\n- **OS version/distro**: `Microsoft Windows [Version 10.0.19041.329]`\r\n- **.NET Version (eg., dotnet --info)**: \r\n```\r\n.NET Core SDK (reflecting any global.json):\r\n Version:   3.1.301\r\n Commit:    7feb845744\r\n\r\nRuntime Environment:\r\n OS Name:     Windows\r\n OS Version:  10.0.19041\r\n OS Platform: Windows\r\n RID:         win10-x64\r\n Base Path:   C:\\Program Files\\dotnet\\sdk\\3.1.301\\\r\n\r\nHost (useful for support):\r\n  Version: 3.1.5\r\n  Commit:  65cd789777\r\n\r\n.NET Core SDKs installed:\r\n  3.1.301 [C:\\Program Files\\dotnet\\sdk]\r\n\r\n.NET Core runtimes installed:\r\n  Microsoft.AspNetCore.App 3.1.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.NETCore.App 3.1.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.WindowsDesktop.App 3.1.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n\r\nTo install additional .NET Core runtimes or SDKs:\r\n  https://aka.ms/dotnet-download\r\n```\r\n### Issue\r\n\r\n- **What did you do?**\r\nTried to generate F# project using mlnet CLI tool.\r\n- **What happened?**\r\nNo such option, only C# projects.\r\n- **What did you expect?**\r\nAn option to generate F# code.\r\n\r\n### Source code / logs\r\n```\r\nmlnet --version\r\n16.1.1+acd4a98c2ef0dd6575de234c00ddc4f48d1d4f75\r\n```\r\nPlease paste or attach the code or logs or traces that would be helpful to diagnose the issue you are reporting.\r\n","Url":"https://github.com/dotnet/machinelearning/issues/5284","RelatedDescription":"Open issue \"ML.NET CLI support for F#\" (#5284)"},{"Id":"650751508","IsPullRequest":false,"CreatedAt":"2020-07-03T23:53:51","Actor":"darren-zdc","Number":"5283","RawContent":null,"Title":"Averaged Perceptron in MultiClass classification","State":"closed","Body":"Hi,\r\n\r\nI am trying to use the AveragedPerceptron trainer in a multiclass scenario with labeled columns like \"1\", \"2\" or \"3\", but I only found an example in a binary classification problem, which is not what I want.\r\n\r\nIs there a document mentioned AveragedPerceptron in Multiclass problem? \r\nOr how can I approach it?\r\n\r\nI originally used the ModelBuilder to training my multiclass data, and I got an AveragedPerceptron model. Now, I want to customize the training process.\r\n\r\nThanks\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/issues/5283","RelatedDescription":"Closed issue \"Averaged Perceptron in MultiClass classification\" (#5283)"},{"Id":"650436345","IsPullRequest":true,"CreatedAt":"2020-07-03T18:17:12","Actor":"mstfbl","Number":"5280","RawContent":null,"Title":"Properly normalize column names in Utils.GetSampleData() for duplicate cases","State":"closed","Body":"Fix #5267 \r\n\r\nThis PR fixes the bug where columns generated from inline data were normalized directly through `Utils.Normalize()`, which only fixes the naming of a given column name, but **does not** take into account duplicate column names that may exist in a dataset.\r\n\r\nPR #5177 introduced a way to fix these duplicate column names by adding the differentiator suffix '_col_x' where 'x' represents the the dataset load order for a given column. In this PR I have separated this generation of distinct and unique column names from `Utils.GenerateClassLabels()` and made it into its own function to `Utils.GenerateColumnNames()`. This is so that this generation of distinct and unique column names can also be used in `Utils.GenerateSampleData`, which before this PR resulted in exceptions. Now, column names from inline data are properly normalized, and duplicate column names are handled.\r\n\r\nThis PR also adds a unit test to test the case of duplicate column names with `Utils.GenerateSampleData`.","Url":"https://github.com/dotnet/machinelearning/pull/5280","RelatedDescription":"Closed or merged PR \"Properly normalize column names in Utils.GetSampleData() for duplicate cases\" (#5280)"},{"Id":"650497540","IsPullRequest":false,"CreatedAt":"2020-07-03T10:15:14","Actor":"ErwanL08","Number":"5281","RawContent":null,"Title":"Request : Apply Lemma / stemming in FeaturizeText options ","State":"open","Body":"Hi\r\nFirst Thank you for all the work done, i know that FeaturizeText apply NLP preprocessing like skipword with a specifique language : \r\n![image](https://user-images.githubusercontent.com/16559628/86459192-bddcea00-bd26-11ea-8274-d3ad23a55eeb.png)\r\n\r\nBut is there a way to apply lemma / stemming in this function ? \r\n","Url":"https://github.com/dotnet/machinelearning/issues/5281","RelatedDescription":"Open issue \"Request : Apply Lemma / stemming in FeaturizeText options \" (#5281)"},{"Id":"650115290","IsPullRequest":false,"CreatedAt":"2020-07-02T18:04:57","Actor":"mstfbl","Number":"5277","RawContent":null,"Title":"No ONNX model export support for {FixedPlatt, Isotonic, Naive}CalibratorEstimator(s)","State":"open","Body":"For tracking purposes. The following CalibratorEstimators do not have ONNX model conversion support:\r\n- `FixedPlattCalibratorEstimator`\r\n- `IsotonicCalibratorEstimator`\r\n- `NaiveCalibratorEstimator`\r\n\r\n`PlattCalibratorEstimator` does have ONNX export support. This issue will be closed when the remaining calibrator estimators have ONNX export support, and are being tested for ONNX conversion in the manner below as `PlattCalibratorEstimator` is being tested: \r\nhttps://github.com/dotnet/machinelearning/blob/81357ba85f1410d81f92e8b1e0632e41a0f10b02/test/Microsoft.ML.Tests/OnnxConversionTest.cs#L265-L300\r\n","Url":"https://github.com/dotnet/machinelearning/issues/5277","RelatedDescription":"Open issue \"No ONNX model export support for {FixedPlatt, Isotonic, Naive}CalibratorEstimator(s)\" (#5277)"}],"ResultType":"GitHubIssue"}},"RunOn":"2020-07-17T05:30:37.6330658Z","RunDurationInMilliseconds":692}