{"Data":{"GitHub":{"Issues":[{"Id":"2645169297","IsPullRequest":false,"CreatedAt":"2024-11-17T21:50:48","Actor":"KasperNissen1997","Number":"7294","RawContent":null,"Title":"Tokenizer for SentencePiece Unigram models","State":"closed","Body":"Hi all,\nIs support planned for Tokenizers for SentencePiece models using the Unigram algorithm?\nIf I've checked correctly, I see that there's an Tokenizer implementation for SentencePiece models coming in the 4.0 release, but it seems to be limited to only supporting BPE models, in the form of `LlamaTokenizer`.\n\nSpecifically, I'd like to create a tokenizer for the Helsinki-NLP/opus-mt-xx-xx models from HuggingFace, but I am having difficulty creating tokenizers for those models.","Url":"https://github.com/dotnet/machinelearning/issues/7294","RelatedDescription":"Closed issue \"Tokenizer for SentencePiece Unigram models\" (#7294)"},{"Id":"2662147965","IsPullRequest":true,"CreatedAt":"2024-11-15T14:33:52","Actor":"razshare","Number":"7314","RawContent":null,"Title":"Expose Encoder and Decoder in TiktokenTokenizer","State":"open","Body":"Fixes #7313\r\n\r\nWe are excited to review your PR.\r\n\r\nSo we can do the best job, please check:\r\n\r\n- [x] There's a descriptive title that will make sense to other developers some time from now. \r\n- [x] There's associated issues. All PR's should have issue(s) associated - unless a trivial self-evident change such as fixing a typo. You can use the format `Fixes #nnnn` in your description to cause GitHub to automatically close the issue(s) when your PR is merged.\r\n- [x] Your change description explains what the change does, why you chose your approach, and anything else that reviewers should know.\r\n- [x] You have included any necessary tests in the same PR.\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/7314","RelatedDescription":"Open PR \"Expose Encoder and Decoder in TiktokenTokenizer\" (#7314)"},{"Id":"2662144352","IsPullRequest":false,"CreatedAt":"2024-11-15T14:32:08","Actor":"razshare","Number":"7313","RawContent":null,"Title":"Expose Encoder in TiktokenTokenizer","State":"open","Body":"Hello, first of all thank your very much for this project!\n\n**Is your feature request related to a problem? Please describe.**\nYes, it is.\nSome of our clients may have outdated encodings on their client application.\nWe still want our clients to have access to new encodings even if their client application is not up to date, hence we want to serve the encoder dictionary from a server endpoint.\n\n**A clear and concise description of what the problem is.**\nThe problem is that, currently, the Encoder property in TiktokenTokenizer is internal.\n\nhttps://github.com/dotnet/machinelearning/blob/509032755b912e7bb0dd50c10a3172ead57965f3/src/Microsoft.ML.Tokenizers/Model/TiktokenTokenizer.cs#L998-L1001\n\n**Describe the solution you'd like**\nI would like to expose this Encoder property.\nThere seems to be the intent to expose this property at some point in the future.\nhttps://github.com/dotnet/machinelearning/blob/509032755b912e7bb0dd50c10a3172ead57965f3/test/Microsoft.ML.Tokenizers.Tests/TiktokenTests.cs#L732-L740\n\nMaybe this is the time to do it, what do you think?\n\n\n**Describe alternatives you've considered**\nMaybe a separate method that does exactly what that test from above does using reflection.\nSounds like overkill and a lot of overhead though.\nExposing the property is probably the best way to deal with this.\n\n**Additional context**\nI'm sending a PR your way with the changes, feel free to ask for/make any modifications you think are necessary.\n","Url":"https://github.com/dotnet/machinelearning/issues/7313","RelatedDescription":"Open issue \"Expose Encoder in TiktokenTokenizer\" (#7313)"},{"Id":"2659925109","IsPullRequest":true,"CreatedAt":"2024-11-14T20:04:17","Actor":"ericstj","Number":"7312","RawContent":null,"Title":"Update version to 4.0.1","State":"open","Body":"","Url":"https://github.com/dotnet/machinelearning/pull/7312","RelatedDescription":"Open PR \"Update version to 4.0.1\" (#7312)"},{"Id":"2659799205","IsPullRequest":true,"CreatedAt":"2024-11-14T19:14:56","Actor":"ericstj","Number":"7311","RawContent":null,"Title":"Update version for 5.0","State":"open","Body":"","Url":"https://github.com/dotnet/machinelearning/pull/7311","RelatedDescription":"Open PR \"Update version for 5.0\" (#7311)"},{"Id":"2657077805","IsPullRequest":true,"CreatedAt":"2024-11-14T01:19:01","Actor":"github-actions[bot]","Number":"7310","RawContent":null,"Title":"[release/4.0] Fixing tokenizers version","State":"closed","Body":"Backport of #7309 to release/4.0\n\n/cc @michaelgsharp\n\n## Customer Impact\n\n## Testing\n\n## Risk\n","Url":"https://github.com/dotnet/machinelearning/pull/7310","RelatedDescription":"Closed or merged PR \"[release/4.0] Fixing tokenizers version\" (#7310)"},{"Id":"2656637624","IsPullRequest":true,"CreatedAt":"2024-11-13T23:16:30","Actor":"michaelgsharp","Number":"7309","RawContent":null,"Title":"Fixing tokenizers version","State":"closed","Body":"Fixing tokenizers version.","Url":"https://github.com/dotnet/machinelearning/pull/7309","RelatedDescription":"Closed or merged PR \"Fixing tokenizers version\" (#7309)"},{"Id":"2656318848","IsPullRequest":true,"CreatedAt":"2024-11-13T22:54:04","Actor":"tarekgh","Number":"7308","RawContent":null,"Title":"Fix Pre-Release package version","State":"closed","Body":"","Url":"https://github.com/dotnet/machinelearning/pull/7308","RelatedDescription":"Closed or merged PR \"Fix Pre-Release package version\" (#7308)"},{"Id":"2654760876","IsPullRequest":true,"CreatedAt":"2024-11-13T09:07:04","Actor":"michaelgsharp","Number":"7307","RawContent":null,"Title":"Suppress nuget preview warning","State":"closed","Body":"Temporarily suppressing the nuget warning since we need to have a dependency on the preview package.","Url":"https://github.com/dotnet/machinelearning/pull/7307","RelatedDescription":"Closed or merged PR \"Suppress nuget preview warning\" (#7307)"},{"Id":"2654427060","IsPullRequest":true,"CreatedAt":"2024-11-13T06:49:03","Actor":"michaelgsharp","Number":"7306","RawContent":null,"Title":"Suppress warning","State":"closed","Body":"Suppress a warning that shows up in the official build but not CI so that we can release.","Url":"https://github.com/dotnet/machinelearning/pull/7306","RelatedDescription":"Closed or merged PR \"Suppress warning\" (#7306)"},{"Id":"2653759876","IsPullRequest":true,"CreatedAt":"2024-11-13T04:18:39","Actor":"michaelgsharp","Number":"7305","RawContent":null,"Title":"Backport of MP Updates","State":"closed","Body":"Backport of MP updates from main to release/4.0","Url":"https://github.com/dotnet/machinelearning/pull/7305","RelatedDescription":"Closed or merged PR \"Backport of MP Updates\" (#7305)"},{"Id":"2653596427","IsPullRequest":true,"CreatedAt":"2024-11-13T00:39:12","Actor":"michaelgsharp","Number":"7304","RawContent":null,"Title":"Maintenance package version updates.","State":"closed","Body":"Updates to new stable maintenance package versions.","Url":"https://github.com/dotnet/machinelearning/pull/7304","RelatedDescription":"Closed or merged PR \"Maintenance package version updates.\" (#7304)"},{"Id":"2653229179","IsPullRequest":true,"CreatedAt":"2024-11-12T20:25:19","Actor":"github-actions[bot]","Number":"7303","RawContent":null,"Title":"[release/4.0] 4.0 release notes","State":"closed","Body":"Backport of #7302 to release/4.0\n\n/cc @michaelgsharp\n\n## Customer Impact\n\n## Testing\n\n## Risk\n","Url":"https://github.com/dotnet/machinelearning/pull/7303","RelatedDescription":"Closed or merged PR \"[release/4.0] 4.0 release notes\" (#7303)"},{"Id":"2653193725","IsPullRequest":true,"CreatedAt":"2024-11-12T20:19:14","Actor":"michaelgsharp","Number":"7302","RawContent":null,"Title":"4.0 release notes","State":"closed","Body":"Adding in release notes for 4.0 release.","Url":"https://github.com/dotnet/machinelearning/pull/7302","RelatedDescription":"Closed or merged PR \"4.0 release notes\" (#7302)"},{"Id":"2650718778","IsPullRequest":true,"CreatedAt":"2024-11-12T05:23:47","Actor":"carlossanlop","Number":"7301","RawContent":null,"Title":"Update dependencies from maintenance-packages to latest versions","State":"closed","Body":"The latest prerelease versions can be found here: https://dnceng.visualstudio.com/public/_artifacts/feed/dotnet-libraries\r\n\r\nTomorrow we can update to the stable versions after they get published to nuget.","Url":"https://github.com/dotnet/machinelearning/pull/7301","RelatedDescription":"Closed or merged PR \"Update dependencies from maintenance-packages to latest versions\" (#7301)"},{"Id":"2650579551","IsPullRequest":true,"CreatedAt":"2024-11-12T05:23:24","Actor":"github-actions[bot]","Number":"7300","RawContent":null,"Title":"[release/4.0] Fixing native lookup","State":"closed","Body":"Backport of #7282 to release/4.0\n\n/cc @michaelgsharp\n\n## Customer Impact\n\n## Testing\n\n## Risk\n","Url":"https://github.com/dotnet/machinelearning/pull/7300","RelatedDescription":"Closed or merged PR \"[release/4.0] Fixing native lookup\" (#7300)"},{"Id":"2650425461","IsPullRequest":true,"CreatedAt":"2024-11-11T23:57:44","Actor":"github-actions[bot]","Number":"7299","RawContent":null,"Title":"[release/4.0] Updated remote executor","State":"closed","Body":"Backport of #7295 to release/4.0\n\n/cc @michaelgsharp\n\n## Customer Impact\n\n## Testing\n\n## Risk\n","Url":"https://github.com/dotnet/machinelearning/pull/7299","RelatedDescription":"Closed or merged PR \"[release/4.0] Updated remote executor\" (#7299)"},{"Id":"2650204813","IsPullRequest":true,"CreatedAt":"2024-11-11T22:47:37","Actor":"michaelgsharp","Number":"7298","RawContent":null,"Title":"Backport GenAI","State":"closed","Body":"â€¦270)\r\n\r\n* leverage MEAI abstraction\r\n\r\n* Update src/Microsoft.ML.GenAI.LLaMA/Llama3CausalLMChatClient.cs\r\n\r\n\r\n\r\n* Update src/Microsoft.ML.GenAI.LLaMA/Llama3CausalLMChatClient.cs\r\n\r\n\r\n\r\n* Update src/Microsoft.ML.GenAI.Phi/Phi3/Phi3CausalLMChatClient.cs\r\n\r\n\r\n\r\n* fix comments\r\n\r\n* Update Microsoft.ML.GenAI.Core.csproj\r\n\r\n---------\r\n\r\nWe are excited to review your PR.\r\n\r\nSo we can do the best job, please check:\r\n\r\n- [ ] There's a descriptive title that will make sense to other developers some time from now. \r\n- [ ] There's associated issues. All PR's should have issue(s) associated - unless a trivial self-evident change such as fixing a typo. You can use the format `Fixes #nnnn` in your description to cause GitHub to automatically close the issue(s) when your PR is merged.\r\n- [ ] Your change description explains what the change does, why you chose your approach, and anything else that reviewers should know.\r\n- [ ] You have included any necessary tests in the same PR.\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/7298","RelatedDescription":"Closed or merged PR \"Backport GenAI\" (#7298)"},{"Id":"2645175351","IsPullRequest":true,"CreatedAt":"2024-11-11T21:25:02","Actor":"michaelgsharp","Number":"7295","RawContent":null,"Title":"Updated remote executor","State":"closed","Body":"Updates remote executor so that we can update the maintenance packages.","Url":"https://github.com/dotnet/machinelearning/pull/7295","RelatedDescription":"Closed or merged PR \"Updated remote executor\" (#7295)"},{"Id":"2648829644","IsPullRequest":false,"CreatedAt":"2024-11-11T10:09:14","Actor":"sportbilly21","Number":"7297","RawContent":null,"Title":"Microsoft.ML.OnnxTransformer asking for wrong Microsoft.ML.OnnxRuntime version","State":"open","Body":"**System Information (please complete the following information):**\n - OS & Version: 10\n - ML.NET Version: 3.01\n - ML.OnnxTransformer 3.01\n - .NET Version: Framework 4.7\n\n**Describe the bug**\nI have updated all nuget packages to the latest versions, include Microsoft.ML.OnnxRuntime.Gpu which I now you are not managing version of the package is 1.20 and the version of the produced dll of that package Microsoft.ML.OnnxRuntime is again 1.20.\nWhen I running a unit test I am getting the following error System.IO.FileLoadException: Could not load file or assembly 'Microsoft.ML.OnnxRuntime, Version=0.0.0.0, which comes from the Microsoft.ML.OnnxTransformer nuget package.\n Microsoft.ML.OnnxRuntime.Gpu, before version 1.19, was producing the Microsoft.ML.OnnxRuntime.dll with the version 0.0.0.0 which was a bug from their side, This has been corrected from their side and now it updates the version in the dll. \nThe issue is that ML.OnnxTransforme still needs the 0.0.0.0 so it cannot be used with any of the newests  versions of Microsoft.ML.OnnxRuntime.Gpu \nCan you please advise?\n\n\n**Screenshots, Code, Sample Projects**\n![Image](https://github.com/user-attachments/assets/e5115309-5be6-45e1-865c-35c832198e9a)\n\n\nMany thanks\nVasilis\n","Url":"https://github.com/dotnet/machinelearning/issues/7297","RelatedDescription":"Open issue \"Microsoft.ML.OnnxTransformer asking for wrong Microsoft.ML.OnnxRuntime version\" (#7297)"},{"Id":"2644975582","IsPullRequest":true,"CreatedAt":"2024-11-08T23:30:11","Actor":"github-actions[bot]","Number":"7293","RawContent":null,"Title":"[release/4.0] Update To MacOS 13","State":"closed","Body":"Backport of #7285 to release/4.0\n\n/cc @michaelgsharp\n\n## Customer Impact\n\n## Testing\n\n## Risk\n","Url":"https://github.com/dotnet/machinelearning/pull/7293","RelatedDescription":"Closed or merged PR \"[release/4.0] Update To MacOS 13\" (#7293)"},{"Id":"2645348106","IsPullRequest":false,"CreatedAt":"2024-11-08T23:18:31","Actor":"tonyqus","Number":"7296","RawContent":null,"Title":"Implement DataFrame.Shape method","State":"open","Body":"The dataframe in Python supports shape method. It returns the dimensionality of the DataFrame. \nDoc: https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.shape.html\n\nDo you have plan to implement this method?\n\n","Url":"https://github.com/dotnet/machinelearning/issues/7296","RelatedDescription":"Open issue \"Implement DataFrame.Shape method\" (#7296)"},{"Id":"2644909662","IsPullRequest":true,"CreatedAt":"2024-11-08T21:31:10","Actor":"tarekgh","Number":"7292","RawContent":null,"Title":"Backport tokenizer changes to Release/4.0","State":"closed","Body":"","Url":"https://github.com/dotnet/machinelearning/pull/7292","RelatedDescription":"Closed or merged PR \"Backport tokenizer changes to Release/4.0\" (#7292)"},{"Id":"2635373350","IsPullRequest":false,"CreatedAt":"2024-11-08T20:07:20","Actor":"mehdihadeli","Number":"7286","RawContent":null,"Title":"Using pre-train huggingface tokenizers","State":"closed","Body":"Hi,\nIs it possible using pre-train huggingface tokenizers with ML.Net Tokenizer like this?\n\n``` python\nTokenizer.from_pretrained(\"Xenova/llama-3-tokenizer\")\n```","Url":"https://github.com/dotnet/machinelearning/issues/7286","RelatedDescription":"Closed issue \"Using pre-train huggingface tokenizers\" (#7286)"},{"Id":"2642492166","IsPullRequest":true,"CreatedAt":"2024-11-08T18:37:27","Actor":"tarekgh","Number":"7291","RawContent":null,"Title":"Final tokenizer's cleanup","State":"closed","Body":"","Url":"https://github.com/dotnet/machinelearning/pull/7291","RelatedDescription":"Closed or merged PR \"Final tokenizer's cleanup\" (#7291)"},{"Id":"2642047855","IsPullRequest":false,"CreatedAt":"2024-11-07T20:00:56","Actor":"jackpotcityco","Number":"7290","RawContent":null,"Title":"How to cancel an Experiment. I don't get that to work.","State":"open","Body":"Hello,\n\nRAM: 64 GB\nCPU: i7-12800h\n\nI am trying to understand how to Cancel an experiment but just can't make it work. I have tried both below lines **(One at a time, not both at the same time)** when: `if (modelsLISTtemp.Count >= 3)`\n\n`MLContextExtensions.CancelExecution(mlContext); //Cancel experiment using \"Microsoft.ML.Experimental`\n`cancellationTokenSource.Cancel();               // Cancel the task running the experiment using: CancellationToken = cts `\n\n1. The first is using `.CancelExecution` from Microsoft.ML.Experimental but the experiment never stops and continues to the end which is more than 4 minutes after the `.CancelExecution` attempt.\n\n2. The second is trying the `CancellationToken = cts` but exactly as in above it never stops and continues to the end which is more than 4 minutes after the `cancellationTokenSource.Cancel();` attempt.\n\nIn both, the experiment continues to return 10,20,30+ models during those 4 minutes.\n\nHow would it be possible to actually cancel the Experiment on demand to not be stuck with the 300 seconds the experiment runs? (MaxExperimentTimeInSeconds = (uint)300)\n\n**_trainData and hold_out_data are populated with data for training when passed to function: testExperiment_**\n\n```\n        void testExperiment(IDataView trainData, IDataView hold_out_data)\n        {\n            Random random = new Random();\n            var mlContext = new MLContext(seed: random.Next());\n            var cancellationTokenSource = new CancellationTokenSource();\n            var cts = new CancellationToken();\n            object obj = new object();\n            var modelsLISTtemp = new List<(string trainerName, object validationMetrics, ITransformer model)>();\n\n            ExperimentBase<RegressionMetrics, RegressionExperimentSettings> regression_Experiment = null;\n            regression_Experiment = mlContext.Auto().CreateRegressionExperiment(new RegressionExperimentSettings\n            {\n                MaxExperimentTimeInSeconds = (uint)300,\n                CacheBeforeTrainer = CacheBeforeTrainer.Off,\n                CacheDirectoryName = \"C:/Aintelligence/temp/cache\",\n                MaximumMemoryUsageInMegaByte = 16384,\n                OptimizingMetric = RegressionMetric.RSquared,\n                CancellationToken = cts\n            });\n\n\n            // Progress handler for regression\n            var regressionProgressHandler = new Progress<RunDetail<RegressionMetrics>>(ph =>\n            {\n                if (ph.ValidationMetrics != null && !ph.TrainerName.Contains(\"FastForest\")) { progress(Math.Round(ph.ValidationMetrics.RSquared, 3), ph.TrainerName, ph.ValidationMetrics, ph.Model); }\n            });\n            void progress(double metricValue, string TrainerName, object ValidationMetrics, ITransformer Model)\n            {\n                    lock (obj) { modelsLISTtemp.Add((TrainerName, ValidationMetrics, Model)); }\n                    if (modelsLISTtemp.Count >= 3)\n                    {\n                        MLContextExtensions.CancelExecution(mlContext); //Cancel experiment using \"Microsoft.ML.Experimental\n                        cancellationTokenSource.Cancel();               // Cancel the task running the experiment using: CancellationToken = cts \n                    }\n            }\n\n            //Execute experiment\n            var results = regression_Experiment.Execute(trainData, hold_out_data, labelColumnName: \"Label\", progressHandler: regressionProgressHandler);\n\n        }\n```\n","Url":"https://github.com/dotnet/machinelearning/issues/7290","RelatedDescription":"Open issue \"How to cancel an Experiment. I don't get that to work.\" (#7290)"},{"Id":"2641365689","IsPullRequest":false,"CreatedAt":"2024-11-07T15:27:00","Actor":"tappanajmera","Number":"7289","RawContent":null,"Title":"Periodicity detection accuracy is very low","State":"open","Body":"**System Information (please complete the following information):**\n - OS & Version: Windows 11\n - ML.NET Version: [e.g. ML.NET v1.5.5]\n - .NET Version: [e.g. .NET 5.0]\n\n**Description**\nThis is probably a question and not a bug.\nWe tested periodicity detection from ML .Net and compared against other approaches. The accuracy is very low.\n![Image](https://github.com/user-attachments/assets/8b9ee337-aa75-472f-8212-0c575705c85c)\n\nAccuracy selected means \"accuracy on those where it gave an answer\". So ML.NET gives a periodicity only on 28% of cases, and on those 28% it's 85% accurate. Kusto gives an answer on 94% of cases, and is 78% accurate on that.\n\nIs this expected behavior?\n","Url":"https://github.com/dotnet/machinelearning/issues/7289","RelatedDescription":"Open issue \"Periodicity detection accuracy is very low\" (#7289)"},{"Id":"2638750356","IsPullRequest":false,"CreatedAt":"2024-11-06T17:26:34","Actor":"LittleLittleCloud","Number":"7288","RawContent":null,"Title":"[WIP] [GenAI] Lora Finetune","State":"open","Body":"Lora fine-tuning is an adapter-based technique to fine-tune an LLM. It changes LLM model architecture by adding learnable lora layers to transformers. During fine-tuning, only lora weights are adjustable and the LLM weights are frozen, so it requires much less GPU memory comparing to a full-layer fine-tuning. Based on [this table](https://github.com/hiyouga/LLaMA-Factory#hardware-requirement), it requires 16GB memory to fine-tuning a 7B size model in 16bits, which can be fit in rtx 3090, 4080 and 4090. A wider range of GPUs can be fit on 3.8B LLMs like phi-3.5-mini\n\n## API design (wip)\n\n### Package: `Microsoft.ML.GenAI.Lora`\n\n```csharp\ninterface ICausalLMLoraPipeline {} // pipeline for loading causal LM + lora layers\n\nclass LoraConfiguration // lora configuration\n```\n\n","Url":"https://github.com/dotnet/machinelearning/issues/7288","RelatedDescription":"Open issue \"[WIP] [GenAI] Lora Finetune\" (#7288)"},{"Id":"2638700351","IsPullRequest":false,"CreatedAt":"2024-11-06T17:01:17","Actor":"LittleLittleCloud","Number":"7287","RawContent":null,"Title":"[WIP][GenAI] Finetune","State":"open","Body":"Enable fine-tune support for MLNet GenAI CausalLM models","Url":"https://github.com/dotnet/machinelearning/issues/7287","RelatedDescription":"Open issue \"[WIP][GenAI] Finetune\" (#7287)"},{"Id":"2634134651","IsPullRequest":true,"CreatedAt":"2024-11-05T00:41:25","Actor":"michaelgsharp","Number":"7285","RawContent":null,"Title":"Update To MacOS 13","State":"closed","Body":"Updates MacOS queues and VMs to use version 13.","Url":"https://github.com/dotnet/machinelearning/pull/7285","RelatedDescription":"Closed or merged PR \"Update To MacOS 13\" (#7285)"}],"ResultType":"GitHubIssue"}},"RunOn":"2024-11-18T03:30:18.8269495Z","RunDurationInMilliseconds":548}