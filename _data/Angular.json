{"Data":{"Angular-Issues":{"Issues":[{"Id":"1053956951","IsPullRequest":false,"CreatedAt":"2021-11-16T00:48:37","Actor":"DislayPS","Number":"44178","RawContent":null,"Title":"Lazy loading with two named router outlet","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nrouter\n\n### Is this a regression?\n\nNo\n\n### Description\n\nA route with two named router-outlet is hard to initialize with lazy loading in place (eg: /lazyroute/(outlet1:list, outlet2: details)\r\nWe would like to initialize the bare /lazyroute to display the list in outlet1\r\n\r\nMinimal reproduction is available here: https://stackblitz.com/edit/angular-ivy-vahsaa\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://stackblitz.com/edit/angular-ivy-vahsaa\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in\n\n_No response_\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/44178","RelatedDescription":"Closed issue \"Lazy loading with two named router outlet\" (#44178)"},{"Id":"1054167393","IsPullRequest":true,"CreatedAt":"2021-11-15T22:19:29","Actor":"AndrewKushnir","Number":"44183","RawContent":null,"Title":"fix(forms): make the `FormControlStatus` available as a public API","State":"open","Body":"This commit makes the `FormControlStatus` symbol available as a public API. The symbol itself\r\nwas intended to become a part of the public API, but due to the missing re-export, the symbol\r\nremains private.\r\n\r\nFixes #44176.\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [x] Bugfix\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/44183","RelatedDescription":"Open PR \"fix(forms): make the `FormControlStatus` available as a public API\" (#44183)"},{"Id":"1054088432","IsPullRequest":false,"CreatedAt":"2021-11-15T21:15:02","Actor":"iuliust","Number":"44182","RawContent":null,"Title":"[Bug & Proposal] can't set the \"control\" property of <label> elements (it's not recognized by the compiler)","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nplatform-browser\n\n### Is this a regression?\n\nNo\n\n### Description\n\nHi everyone!\r\nI recently discovered that one can link a <label> to a checkbox without using any id.\r\nAccording to [the W3C's own documentation](https://html.spec.whatwg.org/multipage/forms.html#the-label-element), since 2016, the HTMLLabelElement has an optional \"control\" property which allows a developer to link a <label> element to any HTML element in the page by its DOM reference instead of using its ID.\r\n\r\nHowever, Angular's template typechecker does NOT recognize that property:\r\n```html\r\n<input #checkboxRef type=\"checkbox\">\r\n<label [control]=\"checkboxRef\">check me</label>\r\n```\r\ntriggers the following error:\r\n```\r\nError: src/app/site/demos/translation-system/translation-system.page.html:98:8 - error NG8002: Can't bind to 'control' since it isn't a known property of 'label'.\r\n\r\n98 <label [control]=\"checkboxRef\">\r\n          ~~~~~~~~~~~~~~~~~~~~~~~\r\n```\r\n\r\nI think that solving this bug could also simplify a problem that I've often encountered while making web apps: if it were not for this \"control\" property, we have to always create a unique Id and then reference it in the html, which is quite cumbersome and always complicates the typescript code just a bit more (provided one wants to avoid having duplicate ids).\r\n\r\nI think it should be quite quick & easy to fix and it would have a good added benefit.\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\nError: src/app/site/demos/translation-system/translation-system.page.html:98:8 - error NG8002: Can't bind to 'control' since it isn't a known property of 'label'.\r\n\r\n98 <label [control]=\"checkboxRef\">\r\n```\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 13.0.1\r\nNode: 16.13.0\r\nPackage Manager: yarn 3.1.0\r\nOS: linux x64\r\n\r\nAngular: 13.0.0\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... localize, material, platform-browser\r\n... platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1300.1\r\n@angular-devkit/build-angular   13.0.1\r\n@angular-devkit/core            13.0.1\r\n@angular-devkit/schematics      13.0.1\r\n@angular/cli                    13.0.1\r\n@schematics/angular             13.0.1\r\nrxjs                            7.4.0\r\ntypescript                      4.4.4\n```\n\n\n### Anything else?\n\nI'm not accustomed to Angular's code base, but I could maybe I could make a pull request, provided I get just enough help to know which file I should change in the project.","Url":"https://github.com/angular/angular/issues/44182","RelatedDescription":"Closed issue \"[Bug & Proposal] can't set the \"control\" property of <label> elements (it's not recognized by the compiler)\" (#44182)"},{"Id":"1054036893","IsPullRequest":true,"CreatedAt":"2021-11-15T19:46:13","Actor":"dgp1130","Number":"44181","RawContent":null,"Title":"docs: add dynamic `import()` ES module change to v13 release notes","State":"open","Body":"Closes angular/angular-cli#22159.\r\n\r\nSee: https://github.com/angular/angular-cli/issues/22159#issuecomment-969251924\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [X] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [X] Tests for the changes have been added (for bug fixes / features)\r\n- [X] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [X] Documentation content changes\r\n\r\n## What is the current behavior?\r\n\r\nv13 introduced a small change by requiring that dynamic `import()` statements are actual ES modules and executed with strict mode. It has always been expected that such scripts would be ES modules, but it wasn't enforced until v13.\r\n\r\n## What is the new behavior?\r\n\r\nDynamic `import()` scripts are now treated as real ES modules and executed in strict mode.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [X] No\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/44181","RelatedDescription":"Open PR \"docs: add dynamic `import()` ES module change to v13 release notes\" (#44181)"},{"Id":"1054032918","IsPullRequest":false,"CreatedAt":"2021-11-15T19:40:32","Actor":"kseamon","Number":"44180","RawContent":null,"Title":"feat(compiler): Add ngProjectAs to Directive and Component metadata","State":"open","Body":"### Which @angular/* package(s) are relevant/releated to the feature request?\r\n\r\ncompiler\r\n\r\n### Description\r\n\r\nPresently we can specify ngProjectAs on an element to trick ViewChild and <ng-container> into picking it up.\r\n\r\nExample:\r\n\r\n<mat-form-field>\r\n  <my-bundle-o-errors ngProjectAs=\"mat-error\">\r\n  </my-bundle-o-errors>\r\n</mat-form-field>\r\n\r\nHowever, this requires correctly repeating ngProjectAs=\"mat-error\" on every invocation of that component.\r\n\r\n### Proposed solution\r\n\r\nBy adding ngProjectAs to Directive, we can allow the renamed projection to work for every instance of a component or directive.\r\n\r\nThe behavior would be the same as when it appears on an element (effectively setting ngProjectAs on the host element at compile time).\r\n\r\n### Alternatives considered\r\n\r\nIf desired, this could be limited to Component rather than Directive metadata.\r\n\r\nThe code snipped above can be augmented with runtime assertions that ensure ngProjectAs is present:\r\n\r\n```\r\n@Input() ngProjectAs?: string;\r\n\r\nngOnInit() {\r\n  if (this.ngProjectAs !== 'mat-error') throw new Error('ngProjectAs=\"mat-error\" is required');\r\n}\r\n```\r\n\r\nStill not as nice as being able to include it in the component's own definition.","Url":"https://github.com/angular/angular/issues/44180","RelatedDescription":"Open issue \"feat(compiler): Add ngProjectAs to Directive and Component metadata\" (#44180)"},{"Id":"1054002045","IsPullRequest":true,"CreatedAt":"2021-11-15T19:22:00","Actor":"josephperrott","Number":"44179","RawContent":null,"Title":"ci: remove `cla: yes` from required labels","State":"closed","Body":"Remove `cla: yes` from the require labels for merging as the CLACheck\r\ntool no longer relies on labels.\r\n\r\nEnforcement of the CLA being signed is still enforced by the status check\r\nwhich is visible both in Github as well as checked by merge tooling.\r\n\r\n","Url":"https://github.com/angular/angular/pull/44179","RelatedDescription":"Closed or merged PR \"ci: remove `cla: yes` from required labels\" (#44179)"},{"Id":"1051992116","IsPullRequest":false,"CreatedAt":"2021-11-15T19:21:17","Actor":"Airblader","Number":"44158","RawContent":null,"Title":"Bug Report issue template doesn't say how to get environment information","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\nDon't known / other\r\n\r\n### Is this a regression?\r\n\r\nYes\r\n\r\n### Description\r\n\r\nWhen using the GitHub issue template to report a bug, users are asked to provide environment information. However, it doesn't say _how_ one can obtain this information (= by running `ng --version`).\r\n\r\n![screenshot-2021-11-12_14-54-48](https://user-images.githubusercontent.com/2392216/141478238-45d1152d-cc18-4fb5-b467-6c976c8aef3b.png)\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n### Please provide the environment you discovered this bug in\r\n\r\n_No response_\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/44158","RelatedDescription":"Closed issue \"Bug Report issue template doesn't say how to get environment information\" (#44158)"},{"Id":"1052014308","IsPullRequest":true,"CreatedAt":"2021-11-15T19:21:16","Actor":"petebacondarwin","Number":"44159","RawContent":null,"Title":"build: add instructions for getting Angular version for bug report","State":"closed","Body":"The template asked for the Angular version but did not say how to get it.\r\n\r\nCloses #44158\r\n\r\n","Url":"https://github.com/angular/angular/pull/44159","RelatedDescription":"Closed or merged PR \"build: add instructions for getting Angular version for bug report\" (#44159)"},{"Id":"1051232619","IsPullRequest":true,"CreatedAt":"2021-11-15T19:19:17","Actor":"josephperrott","Number":"44150","RawContent":null,"Title":"build: update to yarn v1.22.17","State":"closed","Body":"Update to the latest version of yarn, 1.22.17.","Url":"https://github.com/angular/angular/pull/44150","RelatedDescription":"Closed or merged PR \"build: update to yarn v1.22.17\" (#44150)"},{"Id":"1052105850","IsPullRequest":false,"CreatedAt":"2021-11-15T19:05:19","Actor":"sfragis","Number":"44160","RawContent":null,"Title":"Cannot add @angular/elements with Angular 13","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nelements, Don't known / other\n\n### Is this a regression?\n\nYes\n\n### Description\n\nInstalling Angular Elements on a fresh new Angular project (version 13) doesn't work:\r\n\r\n```\r\n$ ng new test\r\n[output omitted for brevity]\r\n$ cd test\r\n$ ng add @angular/elements\r\nℹ Using package manager: npm\r\n✔ Found compatible package version: @angular/elements@13.0.1.\r\n✔ Package information loaded.\r\n\r\nThe package @angular/elements@13.0.1 will be installed and executed.\r\nWould you like to proceed? Yes\r\n✔ Package successfully installed.\r\nAn unhandled exception occurred: Collection \"/Users/fast/test/node_modules/@angular/elements/schematics/collection.json\" cannot be resolved.\r\nSee \"/private/var/folders/ht/t8mxy07x6m102vgzy2xkw5s80000gn/T/ng-GV5Ld1/angular-errors.log\" for further details.\r\n```\r\n\r\nThis works fine with Angular 12 instead.\r\n\r\n\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\n[error] Error: Collection \"/Users/fast/test/node_modules/@angular/elements/schematics/collection.json\" cannot be resolved.\r\n    at SchematicEngineHost.resolve (/Users/fast/test/node_modules/@angular-devkit/schematics/tools/node-module-engine-host.js:75:19)\r\n    at SchematicEngineHost.resolve (/Users/fast/test/node_modules/@angular-devkit/schematics/tools/node-module-engine-host.js:55:35)\r\n    at SchematicEngineHost._resolveCollectionPath (/Users/fast/test/node_modules/@angular-devkit/schematics/tools/node-module-engine-host.js:80:37)\r\n    at SchematicEngineHost.createCollectionDescription (/Users/fast/test/node_modules/@angular-devkit/schematics/tools/file-system-engine-host-base.js:118:27)\r\n    at SchematicEngine._createCollectionDescription (/Users/fast/test/node_modules/@angular-devkit/schematics/src/engine/engine.js:162:40)\r\n    at SchematicEngine.createCollection (/Users/fast/test/node_modules/@angular-devkit/schematics/src/engine/engine.js:155:43)\r\n    at AddCommand.getCollection (/Users/fast/test/node_modules/@angular/cli/models/schematic-command.js:143:35)\r\n    at AddCommand.runSchematic (/Users/fast/test/node_modules/@angular/cli/models/schematic-command.js:336:50)\r\n    at AddCommand.executeSchematic (/Users/fast/test/node_modules/@angular/cli/commands/add-impl.js:263:31)\r\n    at AddCommand.run (/Users/fast/test/node_modules/@angular/cli/commands/add-impl.js:208:21)\n```\n\n\n### Please provide the environment you discovered this bug in\n\n```true\nAngular CLI: 13.0.2\r\nNode: 16.13.0\r\nPackage Manager: npm 8.1.0\r\nOS: darwin x64\r\n\r\nAngular: 13.0.1\r\n... animations, common, compiler, compiler-cli, core, elements\r\n... forms, platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1300.2\r\n@angular-devkit/build-angular   13.0.2\r\n@angular-devkit/core            13.0.2\r\n@angular-devkit/schematics      13.0.2\r\n@angular/cli                    13.0.2\r\n@schematics/angular             13.0.2\r\nng-packagr                      13.0.3\r\nrxjs                            7.4.0\r\ntypescript                      4.4.4\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/44160","RelatedDescription":"Closed issue \"Cannot add @angular/elements with Angular 13\" (#44160)"},{"Id":"1053722092","IsPullRequest":false,"CreatedAt":"2021-11-15T16:16:11","Actor":"aishwaryasharma14","Number":"44174","RawContent":null,"Title":"Ivy compiler doesn't build library with secondary entry points. Gives unable to write reference error.","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\ncompiler\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nI have a library with secondary entry points and has following structure.\r\n\r\n```\r\nprojects\r\n|____components\r\n       |     package.json\r\n       |     ng-package.json\r\n       |____editable-grid //secondary entry point\r\n       |       |____src\r\n       |               package.json\r\n       |               ng-package.json\r\n       |               public-api.ts\r\n       |               // ...other components files and folder\r\n       |____src // primary entry point\r\n              |    public-api.ts\r\n              |____lib\r\n                     |____modules\r\n                            |____grid\r\n                                    grid.models.d.ts\r\n                                    // ...other components files and folder\r\n```\r\n\r\n\r\nIt builds successfully if I set `enableIvy: false` in tsconfig.lib.json. But when I use Ivy compilation, the primary entry point is built successfully, but it gives error for the secondary entry point as given below -\r\n\r\n✖ Compiling with Angular sources in Ivy full compilation mode.\r\nAn unhandled exception occurred: Unable to write a reference to ContextMenuItemModel in C:/source/project-folder/dist/components/lib/modules/grid/grid.models.d.ts from c:/source/project-folder/projects/components/editable-grid/src/editable-grid.component.ngtypecheck.ts \r\nSee \"C:\\Users\\www33\\AppData\\Local\\Temp\\ng-tisOKv\\angular-errors.log\" for further details.\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\n✖ Compiling with Angular sources in Ivy full compilation mode.\r\nAn unhandled exception occurred: Unable to write a reference to ContextMenuItemModel in C:/source/project-folder/dist/components/lib/modules/grid/grid.models.d.ts from c:/source/project-folder/projects/components/editable-grid/src/editable-grid.component.ngtypecheck.ts \r\nSee \"C:\\Users\\www33\\AppData\\Local\\Temp\\ng-tisOKv\\angular-errors.log\" for further details.\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in\r\n\r\n```true\r\nAngular CLI: 12.2.13\r\nNode version: 14.x\r\n\r\n\"dependencies\": {\r\n    \"@angular-devkit/schematics\": \"^12.2.5\",\r\n    \"@angular/animations\": \"^12.2.5\",\r\n    \"@angular/cdk\": \"^12.2.5\",\r\n    \"@angular/cdk-experimental\": \"^12.2.5\",\r\n    \"@angular/common\": \"^12.2.5\",\r\n    \"@angular/compiler\": \"^12.2.5\",\r\n    \"@angular/core\": \"^12.2.5\",\r\n    \"@angular/forms\": \"^12.2.5\",\r\n    \"@angular/localize\": \"^12.2.5\",\r\n    \"@angular/platform-browser\": \"^12.2.5\",\r\n    \"@angular/platform-browser-dynamic\": \"^12.2.5\",\r\n    \"@angular/router\": \"^12.2.5\",\r\n},\r\n  \"devDependencies\": {\r\n    \"@angular-devkit/build-angular\": \"^12.2.12\",\r\n    \"@angular-devkit/build-ng-packagr\": \"~0.1002.0\",\r\n    \"@angular-eslint/builder\": \"0.8.0-beta.3\",\r\n    \"@angular-eslint/eslint-plugin\": \"0.8.0-beta.3\",\r\n    \"@angular-eslint/eslint-plugin-template\": \"0.8.0-beta.3\",\r\n    \"@angular-eslint/schematics\": \"^12.6.1\",\r\n    \"@angular-eslint/template-parser\": \"0.8.0-beta.3\",\r\n    \"@angular/cli\": \"^12.2.5\",\r\n    \"@angular/compiler-cli\": \"^12.2.5\",\r\n    \"@angular/language-service\": \"^12.2.5\",\r\n}\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\ntsconfig.lib.json looks like this -\r\n```\r\n{\r\n    \"compilerOptions\": {\r\n    \"outDir\": \"../../out-tsc/lib\",\r\n    \"target\": \"es2015\",\r\n    \"module\": \"es2015\",\r\n    \"moduleResolution\": \"node\",\r\n    \"declaration\": true,\r\n    \"sourceMap\": true,\r\n    \"inlineSources\": true,\r\n    \"emitDecoratorMetadata\": true,\r\n    \"experimentalDecorators\": true,\r\n    \"importHelpers\": true,\r\n    \"types\": [],\r\n    \"strict\": false,\r\n    \"lib\": [\r\n      \"dom\",\r\n      \"es2015\"\r\n    ]\r\n  },\r\n  \"angularCompilerOptions\": {\r\n    \"skipTemplateCodegen\": true,\r\n    \"strictMetadataEmit\": true,\r\n    \"fullTemplateTypeCheck\": true,\r\n    \"strictInjectionParameters\": true,\r\n    \"flatModuleId\": \"AUTOGENERATED\",\r\n    \"flatModuleOutFile\": \"AUTOGENERATED\",\r\n    \"enableIvy\": true\r\n  }\r\n}\r\n```\r\n\r\nAnd ng-package.json for the secondary endpoint looks like this -\r\n`{\r\n  \"$schema\": \"../../../../node_modules/ng-packagr/ng-package.schema.json\",\r\n  \"dest\": \"../../dist/components/editable-grid\",\r\n  \"lib\": {\r\n    \"entryFile\": \"public-api.ts\"\r\n  }\r\n}\r\n`\r\nWhile ng-package.json for the primary endpoint looks like this -\r\n`{\r\n  \"$schema\": \"../../node_modules/ng-packagr/ng-package.schema.json\",\r\n  \"dest\": \"../../dist/components\",\r\n  \"deleteDestPath\": false,\r\n  \"lib\": {\r\n    \"entryFile\": \"src/public_api.ts\"\r\n  }\r\n}\r\n`","Url":"https://github.com/angular/angular/issues/44174","RelatedDescription":"Closed issue \"Ivy compiler doesn't build library with secondary entry points. Gives unable to write reference error.\" (#44174)"},{"Id":"1053748237","IsPullRequest":true,"CreatedAt":"2021-11-15T14:46:33","Actor":"yelhouti","Number":"44177","RawContent":null,"Title":"fix(http): split headers by comma","State":"open","Body":"to match rfc7230 3.2.2 header fields with same name are split by \",\"\r\n\r\nCloses fixes #44149\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [X] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [X] Tests for the changes have been added (for bug fixes / features)\r\n- [X] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [X] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: #44149 \r\n\r\n\r\n## What is the new behavior?\r\nHeaders are split by \",\" to match spec\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [X] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/44177","RelatedDescription":"Open PR \"fix(http): split headers by comma\" (#44177)"},{"Id":"1053740447","IsPullRequest":false,"CreatedAt":"2021-11-15T14:38:53","Actor":"penfold","Number":"44176","RawContent":null,"Title":"Unable into import FormControlStatus","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\nforms\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nI have a method like:\r\n\r\n```\r\nprotected waitForAsyncValidators$(): Observable<FormControlStatus> {\r\n        return this.form.statusChanges\r\n            .pipe(\r\n                startWith(this.form.status),\r\n                tap(status => {\r\n                    this.logService.debug(`Form status: ${status}`);\r\n                }),\r\n                filter(status => status !== FormControlStatus.Pending),\r\n                take(1)\r\n            );\r\n    }\r\n```\r\nThat is being reworked for ng 13 using the new FormControlStatus type.\r\n\r\nI'm unable to import the FormControlStatus type. Where am I going wrong?\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nerror TS2304: Cannot find name 'FormControlStatus'.\r\n\r\nfilter(status => status !== FormControlStatus.Pending),\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in\r\n\r\n```true\r\nAngular 13.0.x\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/44176","RelatedDescription":"Open issue \"Unable into import FormControlStatus\" (#44176)"},{"Id":"1053736179","IsPullRequest":true,"CreatedAt":"2021-11-15T14:34:41","Actor":"gagern","Number":"44175","RawContent":null,"Title":"refactor(router): add type annotation for UrlSegment.parameterMap","State":"open","Body":"Having the type specified explicitly makes the API reference more readable.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] ~Tests for the changes have been added~ (for bug fixes / features)\r\n- [ ] ~Docs have been added / updated~ (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [x] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\nPlease double-check my choice.\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\nReading https://angular.io/api/router/UrlSegment, the type of `parameterMap` is unclear. I had to dig through code to work it out.\r\n\r\n## What is the new behavior?\r\n\r\nThe type is fully annotated so documentation can reference it clearly.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n<!-- ## Other information -->\r\n","Url":"https://github.com/angular/angular/pull/44175","RelatedDescription":"Open PR \"refactor(router): add type annotation for UrlSegment.parameterMap\" (#44175)"},{"Id":"1053418425","IsPullRequest":true,"CreatedAt":"2021-11-15T09:38:17","Actor":"renovate[bot]","Number":"44173","RawContent":null,"Title":"build: lock file maintenance","State":"open","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Update | Change |\n|---|---|\n| lockFileMaintenance | All locks refreshed |\n\n🔧 This Pull Request updates lock files to use the latest dependency versions.\n\n---\n\n### Configuration\n\n📅 **Schedule**: \"before 5am on monday\" in timezone America/Tijuana.\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/renovatebot/renovate/discussions) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular).","Url":"https://github.com/angular/angular/pull/44173","RelatedDescription":"Open PR \"build: lock file maintenance\" (#44173)"},{"Id":"1053046549","IsPullRequest":false,"CreatedAt":"2021-11-14T21:51:09","Actor":"spock123","Number":"44171","RawContent":null,"Title":"Ng13 upgrade -> build issue","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nDon't known / other\n\n### Is this a regression?\n\nYes\n\n### Description\n\nAfter upgrading from v12 to v13, I'm getting errors when making a build.\r\n\r\n\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\n[error] Error: Cannot find module 'webpack-sources'\r\nRequire stack:\r\n- /Users/lrj/project/fastorder/admin/node_modules/license-webpack-plugin/dist/WebpackAssetManager.js\r\n- /Users/lrj/project/fastorder/admin/node_modules/license-webpack-plugin/dist/LicenseWebpackPlugin.js\r\n- /Users/lrj/project/fastorder/admin/node_modules/license-webpack-plugin/dist/index.js\r\n- /Users/lrj/project/fastorder/admin/node_modules/@angular-devkit/build-angular/src/webpack/configs/common.js\r\n- /Users/lrj/project/fastorder/admin/node_modules/@angular-devkit/build-angular/src/webpack/configs/index.js\r\n- /Users/lrj/project/fastorder/admin/node_modules/@angular-devkit/build-angular/src/builders/browser/index.js\r\n- /Users/lrj/project/fastorder/admin/node_modules/@angular-devkit/architect/node/node-modules-architect-host.js\r\n- /Users/lrj/project/fastorder/admin/node_modules/@angular-devkit/architect/node/index.js\r\n- /Users/lrj/project/fastorder/admin/node_modules/@angular/cli/models/architect-command.js\r\n- /Users/lrj/project/fastorder/admin/node_modules/@angular/cli/commands/build-impl.js\r\n- /Users/lrj/project/fastorder/admin/node_modules/@angular-devkit/schematics/tools/export-ref.js\r\n- /Users/lrj/project/fastorder/admin/node_modules/@angular-devkit/schematics/tools/index.js\r\n- /Users/lrj/project/fastorder/admin/node_modules/@angular/cli/utilities/json-schema.js\r\n- /Users/lrj/project/fastorder/admin/node_modules/@angular/cli/models/command-runner.js\r\n- /Users/lrj/project/fastorder/admin/node_modules/@angular/cli/lib/cli/index.js\r\n- /Users/lrj/project/fastorder/admin/node_modules/@angular/cli/lib/init.js\r\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:885:15)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:730:27)\r\n    at Module.require (internal/modules/cjs/loader.js:957:19)\r\n    at require (internal/modules/cjs/helpers.js:88:18)\r\n    at Object.<anonymous> (/Users/lrj/project/fastorder/admin/node_modules/license-webpack-plugin/dist/WebpackAssetManager.js:4:25)\r\n    at Module._compile (internal/modules/cjs/loader.js:1068:30)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1097:10)\r\n    at Module.load (internal/modules/cjs/loader.js:933:32)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:774:14)\r\n    at Module.require (internal/modules/cjs/loader.js:957:19)\r\n    at require (internal/modules/cjs/helpers.js:88:18)\r\n    at Object.<anonymous> (/Users/lrj/project/fastorder/admin/node_modules/license-webpack-plugin/dist/LicenseWebpackPlugin.js:12:29)\r\n    at Module._compile (internal/modules/cjs/loader.js:1068:30)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1097:10)\r\n    at Module.load (internal/modules/cjs/loader.js:933:32)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:774:14)\n```\n\n\n### Please provide the environment you discovered this bug in\n\n```true\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1300.2\r\n@angular-devkit/build-angular   13.0.2\r\n@angular-devkit/core            13.0.2\r\n@angular-devkit/schematics      13.0.2\r\n@angular/cli                    13.0.2\r\n@angular/fire                   6.1.5\r\n@schematics/angular             13.0.2\r\nrxjs                            6.5.5\r\ntypescript                      4.4.4\n```\n\n\n### Anything else?\n\nUpgrade process seemed to work fine and went without apparent issues.\r\nI've also re-installed all node_modules\r\n\r\n","Url":"https://github.com/angular/angular/issues/44171","RelatedDescription":"Closed issue \"Ng13 upgrade -> build issue\" (#44171)"},{"Id":"1052960667","IsPullRequest":true,"CreatedAt":"2021-11-14T14:59:57","Actor":"ramthir","Number":"44170","RawContent":null,"Title":"test: type spy objects in test example.","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\nSpy objects in the test example are not typed.\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\nSpy objects in the test example are typed.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/44170","RelatedDescription":"Open PR \"test: type spy objects in test example.\" (#44170)"},{"Id":"1052849095","IsPullRequest":false,"CreatedAt":"2021-11-14T12:55:32","Actor":"XsongyangX","Number":"44166","RawContent":null,"Title":"Reduce the size of each new Angular project, notably the size of node_modules","State":"closed","Body":"### Which @angular/* package(s) are relevant/releated to the feature request?\n\n_No response_\n\n### Description\n\nI just tried the Angular tutorial on Tour of Heroes. The resulting project size is over 300+ MB. Most of the space is taken up by `node_modules`. When I make a new empty Angular project, it also starts at 300 MB. \r\n\r\nCould this repetitive minimum size be made global? Each project could then start around a few MB in size. And save me some disk space and new project generation time. :)\n\n### Proposed solution\n\nCentralize in one place the minimum `node_modules` required to begin an empty project.\n\n### Alternatives considered\n\nNot really. Just be careful each time you `ng add` something. I use `npm uninstall` to remove the added library. Unless there is an equivalent in `ng`?","Url":"https://github.com/angular/angular/issues/44166","RelatedDescription":"Closed issue \"Reduce the size of each new Angular project, notably the size of node_modules\" (#44166)"},{"Id":"1052930264","IsPullRequest":false,"CreatedAt":"2021-11-14T12:47:14","Actor":"dilanthas","Number":"44169","RawContent":null,"Title":"Can't import the named export from non EcmaScript module","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nelements\n\n### Is this a regression?\n\nNo\n\n### Description\n\nHi,\r\nI have install @angular/elements to my project and when i do a `ng build` im getting the below error. \n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\nError: ./node_modules/@angular/elements/fesm2015/elements.mjs 328:49-63\r\nCan't import the named export 'ApplicationRef' from non EcmaScript module (only default export is available)\r\n    at HarmonyImportSpecifierDependency._getErrors (/Users/Development/form-test/node_modules/webpack/lib/dependencies/HarmonyImportSpecifierDependency.js:88:6)\r\n    at HarmonyImportSpecifierDependency.getErrors (/Users/Development/form-test/node_modules/webpack/lib/dependencies/HarmonyImportSpecifierDependency.js:68:16)\r\n    at Compilation.reportDependencyErrorsAndWarnings (/Users/Development/form-test/node_modules/webpack/lib/Compilation.js:1463:22)\r\n    at /Users/Development/form-test/node_modules/webpack/lib/Compilation.js:1258:10\r\n    at _next0 (eval at create (/Users/Development/form-test/node_modules/webpack/node_modules/tapable/lib/HookCodeFactory.js:33:10), <anonymous>:32:1)\r\n    at eval (eval at create (/Users/Development/form-test/node_modules/webpack/node_modules/tapable/lib/HookCodeFactory.js:33:10), <anonymous>:45:1)\r\n    at runMicrotasks (<anonymous>)\r\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)\r\n @ ./src/app/app.module.ts\r\n @ ./src/main.ts\r\n @ multi ./src/main.ts\r\n\r\nError: ./node_modules/@angular/elements/fesm2015/elements.mjs 323:68-85\r\nCan't import the named export 'ChangeDetectorRef' from non EcmaScript module (only default export is available)\r\n    at HarmonyImportSpecifierDependency._getErrors (/Users/Development/form-test/node_modules/webpack/lib/dependencies/HarmonyImportSpecifierDependency.js:88:6)\r\n    at HarmonyImportSpecifierDependency.getErrors (/Users/Development/form-test/node_modules/webpack/lib/dependencies/HarmonyImportSpecifierDependency.js:68:16)\r\n    at Compilation.reportDependencyErrorsAndWarnings (/Users/Development/form-test/node_modules/webpack/lib/Compilation.js:1463:22)\r\n    at /Users/Development/form-test/node_modules/webpack/lib/Compilation.js:1258:10\r\n    at _next0 (eval at create (//Users/Development/form-test/node_modules/webpack/node_modules/tapable/lib/HookCodeFactory.js:33:10), <anonymous>:32:1)\r\n    at eval (eval at create (/Users/Development/form-test/node_modules/webpack/node_modules/tapable/lib/HookCodeFactory.js:33:10), <anonymous>:45:1)\r\n    at runMicrotasks (<anonymous>)\r\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)\r\n @ ./src/app/app.module.ts\r\n @ ./src/main.ts\r\n @ multi ./src/main.ts\n```\n\n\n### Please provide the environment you discovered this bug in\n\n```true\nAngular CLI: 11.1.4\r\nNode: 14.15.4\r\nOS: darwin x64\r\n\r\nAngular: 11.1.2\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1101.4\r\n@angular-devkit/build-angular   0.1101.4\r\n@angular-devkit/core            11.1.4\r\n@angular-devkit/schematics      11.1.4\r\n@angular/cli                    11.1.4\r\n@angular/elements               13.0.1\r\n@schematics/angular             11.1.4\r\n@schematics/update              0.1101.4\r\nrxjs                            6.6.7\r\ntypescript                      4.1.6\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/44169","RelatedDescription":"Closed issue \"Can't import the named export from non EcmaScript module\" (#44169)"},{"Id":"1052907422","IsPullRequest":true,"CreatedAt":"2021-11-14T10:51:38","Actor":"dario-piotrowicz","Number":"44168","RawContent":null,"Title":"docs(animations): improve wording for animation example","State":"open","Body":"improve the wording of the text explaining an animation\r\ncode snippet as that can be misinterpreted\r\n\r\nresolves #43952\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\nThe code snippet is explained in an unclear (and in my opinion wrong) way:\r\n\r\n![Screenshot at 2021-11-14 10-42-51](https://user-images.githubusercontent.com/61631103/141677701-060c31e3-4dd6-42a6-8592-541485f4a0c7.png)\r\n\r\n## What is the new behavior?\r\n\r\nThe text is simplified and clearer:\r\n\r\n![Screenshot at 2021-11-14 10-48-53](https://user-images.githubusercontent.com/61631103/141677860-645286ae-15d5-4bbf-9a6c-9f6154a30f6f.png)\r\n\r\n> Note that animations are applied to html elements, not components, so that's why I believe \"component\" is wrong there and I substituted it with \"element\"\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n","Url":"https://github.com/angular/angular/pull/44168","RelatedDescription":"Open PR \"docs(animations): improve wording for animation example\" (#44168)"},{"Id":"1052882378","IsPullRequest":true,"CreatedAt":"2021-11-14T08:36:24","Actor":"crisbeto","Number":"44167","RawContent":null,"Title":"fix(compiler-cli): interpret string concat calls","State":"open","Body":"These changes add support for interpreting `String.prototype.concat` calls. We need to support it, because in TypeScript 4.5 string template expressions are transpiled to `concat` calls, rather than string concatenations. See https://github.com/microsoft/TypeScript/pull/45304.","Url":"https://github.com/angular/angular/pull/44167","RelatedDescription":"Open PR \"fix(compiler-cli): interpret string concat calls\" (#44167)"},{"Id":"1052676984","IsPullRequest":false,"CreatedAt":"2021-11-13T13:05:26","Actor":"JiaHongL","Number":"44165","RawContent":null,"Title":"Module '\"@angular/core/testing\"' has no exported member 'waitForAsync'","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nNo\n\n### Description\n\n![image](https://user-images.githubusercontent.com/6601449/141644680-b0bf4d38-1ec5-43c1-9dc8-02da8f10d140.png)\r\n\r\n![image](https://user-images.githubusercontent.com/6601449/141644661-653f3f56-ee84-4238-95ee-9eb378ef9867.png)\r\n\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in\n\n```true\nAngular CLI: 8.3.29\r\nNode: 16.13.0\r\nOS: darwin x64\r\nAngular: 8.2.14\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.803.29\r\n@angular-devkit/build-angular     0.803.29\r\n@angular-devkit/build-optimizer   0.803.29\r\n@angular-devkit/build-webpack     0.803.29\r\n@angular-devkit/core              8.3.29\r\n@angular-devkit/schematics        8.3.29\r\n@angular/cli                      8.3.29\r\n@ngtools/webpack                  8.3.29\r\n@schematics/angular               8.3.29\r\n@schematics/update                0.803.29\r\nrxjs                              6.4.0\r\ntypescript                        3.5.3\r\nwebpack                           4.39.2\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/44165","RelatedDescription":"Closed issue \"Module '\"@angular/core/testing\"' has no exported member 'waitForAsync'\" (#44165)"},{"Id":"1052636486","IsPullRequest":true,"CreatedAt":"2021-11-13T09:12:51","Actor":"crisbeto","Number":"44164","RawContent":null,"Title":"feat(core): support TypeScript 4.5","State":"open","Body":"**Note:** this is blocked until the 4.5 final version is released.\r\n\r\nAdds support for TypeScript 4.5. Includes the following changes:\r\n* Bumping the package versions.\r\n* Fixing a few calls to `createExportSpecifier` and `createImportSpecifier` that require an extra parameter.\r\n* Adding some missing methods to the TS compiler hosts.\r\n* Fixing an issue in the TS mocks for the ngcc tests where a regex was too agressive and was trying to match a path like `/node_modules/@typescript/lib-es5`.\r\n* Accounting for type-only import specifiers when reporting DI errors (see #43620).\r\n\r\nFixes #43620.","Url":"https://github.com/angular/angular/pull/44164","RelatedDescription":"Open PR \"feat(core): support TypeScript 4.5\" (#44164)"},{"Id":"1052566320","IsPullRequest":false,"CreatedAt":"2021-11-13T07:15:20","Actor":"Airblader","Number":"44163","RawContent":null,"Title":"File structure lists no longer generated TSLint file","State":"open","Body":"### Description\n\nThe table on the file structure page has an entry for the `tslint.json`, however this file is no longer generated by the CLI.\n\n### What is the affected URL?\n\nhttps://angular.io/guide/file-structure#workspace-configuration-files\n\n### Please provide the steps to reproduce the issue\n\n_No response_\n\n### Please provide the expected behavior vs the actual behavior you encountered\n\n_No response_\n\n### Please provide a screenshot if possible\n\n![screenshot-2021-11-13_08-15-10](https://user-images.githubusercontent.com/2392216/141609794-d940d435-befd-4185-92f0-62658a6679cb.png)\r\n\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Is this a browser-specific issue? If so, please specify the device, browser, and version.\n\n_No response_","Url":"https://github.com/angular/angular/issues/44163","RelatedDescription":"Open issue \"File structure lists no longer generated TSLint file\" (#44163)"},{"Id":"1052557260","IsPullRequest":true,"CreatedAt":"2021-11-13T06:16:45","Actor":"iRealNirmal","Number":"44162","RawContent":null,"Title":"refactor(forms): update required validator and checkbox validator to inherit abstractValidator","State":"open","Body":"\r\nModified required validator and checkbox validator to inherit abstractValidator.\r\n\r\nFor every validato type different PR will be raised as discussed in #42378.\r\n\r\nCloses #42267\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [x] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: #42378\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/44162","RelatedDescription":"Open PR \"refactor(forms): update required validator and checkbox validator to inherit abstractValidator\" (#44162)"},{"Id":"1052485315","IsPullRequest":true,"CreatedAt":"2021-11-12T23:55:00","Actor":"devversion","Number":"44161","RawContent":null,"Title":"build: switch integration tests to rule from shared dev-infra package ","State":"open","Body":"WIP","Url":"https://github.com/angular/angular/pull/44161","RelatedDescription":"Open PR \"build: switch integration tests to rule from shared dev-infra package \" (#44161)"},{"Id":"1051989463","IsPullRequest":false,"CreatedAt":"2021-11-12T13:52:48","Actor":"Airblader","Number":"44157","RawContent":null,"Title":"Compiler doesn't compile when using exactOptionalPropertyTypes","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\ncompiler\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nWhen bootstrapping a new project and setting `\"exactOptionalPropertyTypes\": true` in the TypeScript configuration, the project will not compile.\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nError: node_modules/@angular/compiler/src/render3/view/template.d.ts:229:22 - error TS2420: Class 'BindingScope' incorrectly implements interface 'LocalResolver'.\r\n  Types of property 'globals' are incompatible.\r\n    Type 'Set<string> | undefined' is not assignable to type 'Set<string>'.\r\n      Type 'undefined' is not assignable to type 'Set<string>'.\r\n\r\n229 export declare class BindingScope implements LocalResolver {\r\n                         ~~~~~~~~~~~~\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in\r\n\r\n```true\r\nAngular CLI: 13.0.1\r\nNode: 16.11.0\r\nPackage Manager: npm 7.21.0\r\nOS: linux x64\r\n\r\nAngular: \r\n... \r\n\r\nPackage                      Version\r\n------------------------------------------------------\r\n@angular-devkit/architect    0.1300.1 (cli-only)\r\n@angular-devkit/core         13.0.1 (cli-only)\r\n@angular-devkit/schematics   13.0.1 (cli-only)\r\n@schematics/angular          13.0.1 (cli-only)\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/44157","RelatedDescription":"Open issue \"Compiler doesn't compile when using exactOptionalPropertyTypes\" (#44157)"},{"Id":"1051868427","IsPullRequest":true,"CreatedAt":"2021-11-12T12:21:13","Actor":"Rambou","Number":"44154","RawContent":null,"Title":"build: adding locales path to exports in package.json","State":"closed","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [x] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\nAllow locales to be dynamically imported.\r\n\r\nIssue Number: [N/A](https://github.com/angular/angular/issues/44153)\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/44154","RelatedDescription":"Closed or merged PR \"build: adding locales path to exports in package.json\" (#44154)"},{"Id":"1051441874","IsPullRequest":true,"CreatedAt":"2021-11-11T23:25:55","Actor":"renovate[bot]","Number":"44152","RawContent":null,"Title":"build: update all non-major dependencies","State":"open","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [@bazel/concatjs](https://togithub.com/bazelbuild/rules_nodejs) | [`4.4.2` -> `4.4.5`](https://renovatebot.com/diffs/npm/@bazel%2fconcatjs/4.4.2/4.4.5) | [![age](https://badges.renovateapi.com/packages/npm/@bazel%2fconcatjs/4.4.5/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@bazel%2fconcatjs/4.4.5/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@bazel%2fconcatjs/4.4.5/compatibility-slim/4.4.2)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@bazel%2fconcatjs/4.4.5/confidence-slim/4.4.2)](https://docs.renovatebot.com/merge-confidence/) |\n| [@bazel/esbuild](https://togithub.com/bazelbuild/rules_nodejs) | [`4.4.2` -> `4.4.5`](https://renovatebot.com/diffs/npm/@bazel%2fesbuild/4.4.2/4.4.5) | [![age](https://badges.renovateapi.com/packages/npm/@bazel%2fesbuild/4.4.5/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@bazel%2fesbuild/4.4.5/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@bazel%2fesbuild/4.4.5/compatibility-slim/4.4.2)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@bazel%2fesbuild/4.4.5/confidence-slim/4.4.2)](https://docs.renovatebot.com/merge-confidence/) |\n| [@bazel/jasmine](https://togithub.com/bazelbuild/rules_nodejs) | [`4.4.2` -> `4.4.5`](https://renovatebot.com/diffs/npm/@bazel%2fjasmine/4.4.2/4.4.5) | [![age](https://badges.renovateapi.com/packages/npm/@bazel%2fjasmine/4.4.5/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@bazel%2fjasmine/4.4.5/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@bazel%2fjasmine/4.4.5/compatibility-slim/4.4.2)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@bazel%2fjasmine/4.4.5/confidence-slim/4.4.2)](https://docs.renovatebot.com/merge-confidence/) |\n| [@bazel/protractor](https://togithub.com/bazelbuild/rules_nodejs) | [`4.4.2` -> `4.4.5`](https://renovatebot.com/diffs/npm/@bazel%2fprotractor/4.4.2/4.4.5) | [![age](https://badges.renovateapi.com/packages/npm/@bazel%2fprotractor/4.4.5/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@bazel%2fprotractor/4.4.5/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@bazel%2fprotractor/4.4.5/compatibility-slim/4.4.2)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@bazel%2fprotractor/4.4.5/confidence-slim/4.4.2)](https://docs.renovatebot.com/merge-confidence/) |\n| [@bazel/rollup](https://togithub.com/bazelbuild/rules_nodejs) | [`4.4.2` -> `4.4.5`](https://renovatebot.com/diffs/npm/@bazel%2frollup/4.4.2/4.4.5) | [![age](https://badges.renovateapi.com/packages/npm/@bazel%2frollup/4.4.5/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@bazel%2frollup/4.4.5/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@bazel%2frollup/4.4.5/compatibility-slim/4.4.2)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@bazel%2frollup/4.4.5/confidence-slim/4.4.2)](https://docs.renovatebot.com/merge-confidence/) |\n| [@bazel/runfiles](https://togithub.com/bazelbuild/rules_nodejs) | [`4.4.2` -> `4.4.5`](https://renovatebot.com/diffs/npm/@bazel%2frunfiles/4.4.2/4.4.5) | [![age](https://badges.renovateapi.com/packages/npm/@bazel%2frunfiles/4.4.5/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@bazel%2frunfiles/4.4.5/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@bazel%2frunfiles/4.4.5/compatibility-slim/4.4.2)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@bazel%2frunfiles/4.4.5/confidence-slim/4.4.2)](https://docs.renovatebot.com/merge-confidence/) |\n| [@bazel/terser](https://togithub.com/bazelbuild/rules_nodejs) | [`4.4.2` -> `4.4.5`](https://renovatebot.com/diffs/npm/@bazel%2fterser/4.4.2/4.4.5) | [![age](https://badges.renovateapi.com/packages/npm/@bazel%2fterser/4.4.5/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@bazel%2fterser/4.4.5/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@bazel%2fterser/4.4.5/compatibility-slim/4.4.2)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@bazel%2fterser/4.4.5/confidence-slim/4.4.2)](https://docs.renovatebot.com/merge-confidence/) |\n| [@bazel/typescript](https://togithub.com/bazelbuild/rules_nodejs) | [`4.4.2` -> `4.4.5`](https://renovatebot.com/diffs/npm/@bazel%2ftypescript/4.4.2/4.4.5) | [![age](https://badges.renovateapi.com/packages/npm/@bazel%2ftypescript/4.4.5/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@bazel%2ftypescript/4.4.5/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@bazel%2ftypescript/4.4.5/compatibility-slim/4.4.2)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@bazel%2ftypescript/4.4.5/confidence-slim/4.4.2)](https://docs.renovatebot.com/merge-confidence/) |\n| [@typescript-eslint/eslint-plugin](https://togithub.com/typescript-eslint/typescript-eslint) | [`5.3.1` -> `5.4.0`](https://renovatebot.com/diffs/npm/@typescript-eslint%2feslint-plugin/5.3.1/5.4.0) | [![age](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2feslint-plugin/5.4.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2feslint-plugin/5.4.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2feslint-plugin/5.4.0/compatibility-slim/5.3.1)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2feslint-plugin/5.4.0/confidence-slim/5.3.1)](https://docs.renovatebot.com/merge-confidence/) |\n| [@typescript-eslint/parser](https://togithub.com/typescript-eslint/typescript-eslint) | [`5.3.1` -> `5.4.0`](https://renovatebot.com/diffs/npm/@typescript-eslint%2fparser/5.3.1/5.4.0) | [![age](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2fparser/5.4.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2fparser/5.4.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2fparser/5.4.0/compatibility-slim/5.3.1)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2fparser/5.4.0/confidence-slim/5.3.1)](https://docs.renovatebot.com/merge-confidence/) |\n| [build_bazel_rules_nodejs](https://togithub.com/bazelbuild/rules_nodejs) | [`4.4.4` -> `4.4.5`](https://renovatebot.com/diffs/npm/build_bazel_rules_nodejs/4.4.4/4.4.5) | [![age](https://badges.renovateapi.com/packages/github-releases/build_bazel_rules_nodejs/4.4.5/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/github-releases/build_bazel_rules_nodejs/4.4.5/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/github-releases/build_bazel_rules_nodejs/4.4.5/compatibility-slim/4.4.4)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/github-releases/build_bazel_rules_nodejs/4.4.5/confidence-slim/4.4.4)](https://docs.renovatebot.com/merge-confidence/) |\n| [rollup](https://rollupjs.org/) ([source](https://togithub.com/rollup/rollup)) | [`~2.59.0` -> `~2.60.0`](https://renovatebot.com/diffs/npm/rollup/2.59.0/2.60.0) | [![age](https://badges.renovateapi.com/packages/npm/rollup/2.60.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/rollup/2.60.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/rollup/2.60.0/compatibility-slim/2.59.0)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/rollup/2.60.0/confidence-slim/2.59.0)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>bazelbuild/rules_nodejs</summary>\n\n### [`v4.4.5`](https://togithub.com/bazelbuild/rules_nodejs/blob/master/CHANGELOG.md#&#8203;445-httpsgithubcombazelbuildrulesnodejscompare444445-2021-11-11)\n\n[Compare Source](https://togithub.com/bazelbuild/rules_nodejs/compare/4.4.2...4.4.5)\n\n##### Bug Fixes\n\n-   **builtin:** handle external repository file paths in js_library strip_prefix check ([c6ba226](https://togithub.com/bazelbuild/rules_nodejs/commit/c6ba226))\n-   **builtin:** provide a DeclarationInfo from js_library is any input files are directories (TreeArtifacts) ([0b247c3](https://togithub.com/bazelbuild/rules_nodejs/commit/0b247c3))\n-   **typescript:** don't set resolveJsonModule in generated tsconfig if tsconfig is dict and resolve_json_module is unset ([e026387](https://togithub.com/bazelbuild/rules_nodejs/commit/e026387))\n\n##### Features\n\n-   **esbuild:** add option to disable metafile generation ([#&#8203;3066](https://togithub.com/bazelbuild/rules_nodejs/issues/3066)) ([2960f54](https://togithub.com/bazelbuild/rules_nodejs/commit/2960f54))\n\n</details>\n\n<details>\n<summary>typescript-eslint/typescript-eslint</summary>\n\n### [`v5.4.0`](https://togithub.com/typescript-eslint/typescript-eslint/blob/master/packages/parser/CHANGELOG.md#&#8203;540-httpsgithubcomtypescript-eslinttypescript-eslintcomparev531v540-2021-11-15)\n\n[Compare Source](https://togithub.com/typescript-eslint/typescript-eslint/compare/v5.3.1...v5.4.0)\n\n**Note:** Version bump only for package [@&#8203;typescript-eslint/parser](https://togithub.com/typescript-eslint/parser)\n\n#### [5.3.1](https://togithub.com/typescript-eslint/typescript-eslint/compare/v5.3.0...v5.3.1) (2021-11-08)\n\n**Note:** Version bump only for package [@&#8203;typescript-eslint/parser](https://togithub.com/typescript-eslint/parser)\n\n</details>\n\n<details>\n<summary>rollup/rollup</summary>\n\n### [`v2.60.0`](https://togithub.com/rollup/rollup/blob/master/CHANGELOG.md#&#8203;2600)\n\n[Compare Source](https://togithub.com/rollup/rollup/compare/v2.59.0...v2.60.0)\n\n*2021-11-11*\n\n##### Features\n\n-   Add `this.load` context function to load, transform and parse modules without adding them to the graph ([#&#8203;4234](https://togithub.com/rollup/rollup/issues/4234))\n-   Sanitize non-url-safe characters in generated chunk names by default ([#&#8203;4262](https://togithub.com/rollup/rollup/issues/4262))\n-   Support ESM plugins via command line ([#&#8203;4265](https://togithub.com/rollup/rollup/issues/4265))\n\n##### Pull Requests\n\n-   [#&#8203;4234](https://togithub.com/rollup/rollup/pull/4234): Plugin context function for pre-loading modules ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n-   [#&#8203;4262](https://togithub.com/rollup/rollup/pull/4262): exclude invalid URL chars ([@&#8203;danielroe](https://togithub.com/danielroe))\n-   [#&#8203;4265](https://togithub.com/rollup/rollup/pull/4265): support loading ESM plugins from the CLI via --plugin ([@&#8203;kzc](https://togithub.com/kzc))\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: \"after 1am on Thursday\" in timezone America/Tijuana.\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/renovatebot/renovate/discussions) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular).","Url":"https://github.com/angular/angular/pull/44152","RelatedDescription":"Open PR \"build: update all non-major dependencies\" (#44152)"},{"Id":"1051334052","IsPullRequest":true,"CreatedAt":"2021-11-11T20:27:07","Actor":"dario-piotrowicz","Number":"44151","RawContent":null,"Title":"docs(core): improve viewEncapsulation documentation","State":"open","Body":"Slighlty improve the `viewEncapsulation` documentation (both in code\r\ncomments and content files) to make it more clear and understandable.\r\n\r\nSee https://github.com/angular/angular/pull/44099#discussion_r745890903\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n@AndrewKushnir as promised :slightly_smiling_face:","Url":"https://github.com/angular/angular/pull/44151","RelatedDescription":"Open PR \"docs(core): improve viewEncapsulation documentation\" (#44151)"}],"ResultType":"GitHubIssue"},"AngularCli-Issues":{"Issues":[{"Id":"1054275754","IsPullRequest":true,"CreatedAt":"2021-11-16T00:09:02","Actor":"clydin","Number":"22172","RawContent":null,"Title":"feat(@angular-devkit/build-angular): add estimated transfer size to build output report","State":"open","Body":"When optimizations are enabled (either scripts or styles), an additional column will now be present in the output report shown in the console for an application build. This additonal column will display the estimated transfer size for each file as well as the total initial estimated transfer size for the initial files. The estimated transfer size is determined by calculating the compressed size of the file using brotli's default settings. In a development configuration (a configuration with optimizations disabled), the calculations are not performed to avoid any potential increase in rebuild speed due to the large size of unoptimized files.\r\n\r\nCloses: #21394","Url":"https://github.com/angular/angular-cli/pull/22172","RelatedDescription":"Open PR \"feat(@angular-devkit/build-angular): add estimated transfer size to build output report\" (#22172)"},{"Id":"1054176614","IsPullRequest":false,"CreatedAt":"2021-11-15T22:27:19","Actor":"twerske","Number":"22171","RawContent":null,"Title":"v13 modern namespace eslint error in `src/test.ts`","State":"open","Body":"# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [x] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [x] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Is this a regression?\r\n\r\nSort of, new lint error introduced in the `ng update` or `ng new` in v13.\r\n\r\n```\r\ndeclare const require: {\r\n  context(path: string, deep?: boolean, filter?: RegExp): {\r\n    keys(): string[];\r\n    <T>(id: string): T;\r\n  };\r\n};\r\n```\r\n\r\nshould be \r\n\r\n```\r\ndeclare const require: {\r\n  context(path: string, deep?: boolean, filter?: RegExp): {\r\n    <T>(id: string): T;\r\n    keys(): string[];\r\n  };\r\n};\r\n```","Url":"https://github.com/angular/angular-cli/issues/22171","RelatedDescription":"Open issue \"v13 modern namespace eslint error in `src/test.ts`\" (#22171)"},{"Id":"1054123469","IsPullRequest":false,"CreatedAt":"2021-11-15T21:38:12","Actor":"twerske","Number":"22170","RawContent":null,"Title":"v13 ng update only adds `.angular/.cache` not `.angular` to `.gitignore`","State":"open","Body":"# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [x] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Description\r\n\r\n`ng update` introduces caching files and the `.angular` file and in updating we only ignore the `.angular/.cache/` which may lead to people checking in many empty `.angular` folders by mistake. I think we shoud change the .gitignore to `.angular`","Url":"https://github.com/angular/angular-cli/issues/22170","RelatedDescription":"Open issue \"v13 ng update only adds `.angular/.cache` not `.angular` to `.gitignore`\" (#22170)"},{"Id":"1054013979","IsPullRequest":true,"CreatedAt":"2021-11-15T19:15:36","Actor":"alan-agius4","Number":"22169","RawContent":null,"Title":"build: update `webpack` to `5.64.1`","State":"open","Body":"This contains several fixes that have been reported in the CLI repo.","Url":"https://github.com/angular/angular-cli/pull/22169","RelatedDescription":"Open PR \"build: update `webpack` to `5.64.1`\" (#22169)"},{"Id":"1054002435","IsPullRequest":true,"CreatedAt":"2021-11-15T19:02:41","Actor":"josephperrott","Number":"22168","RawContent":null,"Title":"ci: remove `cla: yes` from required labels","State":"open","Body":"Remove `cla: yes` from the require labels for merging as the CLACheck\r\ntool no longer relies on labels.\r\n\r\nEnforcement of the CLA being signed is still enforced by the status check\r\nwhich is visible both in Github as well as checked by merge tooling.","Url":"https://github.com/angular/angular-cli/pull/22168","RelatedDescription":"Open PR \"ci: remove `cla: yes` from required labels\" (#22168)"},{"Id":"1053928896","IsPullRequest":true,"CreatedAt":"2021-11-15T17:40:22","Actor":"alan-agius4","Number":"22167","RawContent":null,"Title":"feat(@schematics/angular): add VS Code configurations when generating a new workspace","State":"open","Body":"\r\n\r\nWhen generating a new workspace we now generate several VS Code configurations.\r\n\r\n- extensions: we added config to recommand to use official VS Code extensions.\r\n- launch: added run and debug launch scripts for `ng test` and `ng serve`\r\n- tasks: configured `npm start` and `npm test` to better support the launch scripts\r\n\r\nMore information about each files can be found\r\n- extensions: https://go.microsoft.com/fwlink/?linkid=827846\r\n- launch: https://go.microsoft.com/fwlink/?linkid=830387\r\n- tasks: https://go.microsoft.com/fwlink/?LinkId=733558\r\n\r\nCloses #2672","Url":"https://github.com/angular/angular-cli/pull/22167","RelatedDescription":"Open PR \"feat(@schematics/angular): add VS Code configurations when generating a new workspace\" (#22167)"},{"Id":"1053481346","IsPullRequest":true,"CreatedAt":"2021-11-15T10:24:51","Actor":"alan-agius4","Number":"22166","RawContent":null,"Title":"feat(@schematics/angular): loosen project name validation","State":"open","Body":"With this change we update the validation of the libraries and application projects names to fully allow characters that make a valid NPM package name. http://json.schemastore.org/package has been used as reference.\r\n\r\nWe also remove validators that are no longer needed.\r\n\r\nCloses #11051","Url":"https://github.com/angular/angular-cli/pull/22166","RelatedDescription":"Open PR \"feat(@schematics/angular): loosen project name validation\" (#22166)"},{"Id":"1053387222","IsPullRequest":false,"CreatedAt":"2021-11-15T09:32:52","Actor":"mpalourdio","Number":"22164","RawContent":null,"Title":"Reconsidering the deprecation (and removal) of deployUrl","State":"closed","Body":"Hello,\r\n\r\nI'm opening this issue about the deprecation, and soon removal, of the `deployUrl` support.\r\n\r\nI have make a quick [explanation](https://github.com/angular/angular-cli/issues/22113#issuecomment-964125948) on how it will impact us. We have tested the mix of `baseHref` and `APP_BASE_HREF` which will not work in our case.\r\n\r\nAlso, I just cannot see how one would handle the possibility to deploy generated scripts, css, and assets on CDN, like it's possible today. Or using a reverse proxy to serve scripts, like we're doing today.\r\n\r\nMy question is, would it possible to keep this optional, or is the removal definitive ? And apart using `APP_BASE_HREF` (which does not suit all the needs), how could we implement such a feature if we accept the penalty of build time.\r\n\r\nI can understand the need of removal this feature, but I hope we could find a durable alternative.\r\n\r\nThanks, and keep up the awesome work. ","Url":"https://github.com/angular/angular-cli/issues/22164","RelatedDescription":"Closed issue \"Reconsidering the deprecation (and removal) of deployUrl\" (#22164)"},{"Id":"1053390902","IsPullRequest":true,"CreatedAt":"2021-11-15T09:11:00","Actor":"renovate[bot]","Number":"22165","RawContent":null,"Title":"build: lock file maintenance","State":"open","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Update | Change |\n|---|---|\n| lockFileMaintenance | All locks refreshed |\n\n🔧 This Pull Request updates lock files to use the latest dependency versions.\n\n---\n\n### Configuration\n\n📅 **Schedule**: \"before 5am on monday\" in timezone America/Tijuana.\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/renovatebot/renovate/discussions) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/22165","RelatedDescription":"Open PR \"build: lock file maintenance\" (#22165)"},{"Id":"1053373844","IsPullRequest":false,"CreatedAt":"2021-11-15T08:38:54","Actor":"Wenrong108","Number":"22163","RawContent":null,"Title":"[ng13]  ng serve auto compiling infinitely without any changes","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\ncompiler\r\n\r\n### Is this a regression?\r\n\r\nYes\r\n\r\n### Description\r\n\r\nHi, after upgrading ng13 from ng12, I got this issue. It worked well in ng v12.\r\n \r\n![image](https://user-images.githubusercontent.com/57497730/141749109-fcf86bf8-2a4a-4ef1-8f41-05fe140fec04.png)\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n### Please provide the environment you discovered this bug in\r\n\r\n```true\r\nAngular CLI: 13.0.1\r\nAngular Core: 13.0.0\r\nNode: 14.17.3\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular-cli/issues/22163","RelatedDescription":"Open issue \"[ng13]  ng serve auto compiling infinitely without any changes\" (#22163)"},{"Id":"1052098944","IsPullRequest":false,"CreatedAt":"2021-11-15T08:00:43","Actor":"thre3eye","Number":"22156","RawContent":null,"Title":"Angular 13 build fails in webpack-sources - Maximum call stack size exceeded","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [x] build\r\n- [x] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\nNo issues in Angular 12\r\n\r\n### Description\r\n\r\nAugular 13 builds break with sourceMap=true.\r\nThis has been discussed with quite some detail in the webpack-sources repo and seems to affect in particular Angular 13.\r\n\r\nhttps://github.com/webpack/webpack-sources/issues/131\r\n\r\nStack trace below\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\nPlease see the discussion in the webpack-sources repo https://github.com/webpack/webpack-sources/issues/131\r\n\r\n## 🔥 Exception or Error\r\n\r\n<pre><code>\r\n<e> [webpack-dev-middleware] HookWebpackError: Maximum call stack size exceeded\r\n<e>     at makeWebpackError (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack\\lib\\HookWebpackError.js:48:9)\r\n<e>     at C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack\\lib\\Compilation.js:3043:12\r\n<e>     at eval (eval at create (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\tapable\\lib\\HookCodeFactory.js:33:10), <anonymous>:111:1)\r\n<e>     at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n<e> -- inner error --\r\n<e> RangeError: Maximum call stack size exceeded\r\n<e>     at String.match (<anonymous>)\r\n<e>     at OriginalSource.streamChunks (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\OriginalSource.js:64:32)\r\n<e>     at module.exports (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\helpers\\streamChunks.js:13:17)\r\n<e>     at ReplaceSource.streamChunks (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\ReplaceSource.js:175:44)\r\n<e>     at module.exports (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\helpers\\streamChunks.js:13:17)\r\n<e>     at streamAndGetSourceAndMap (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\helpers\\streamAndGetSourceAndMap.js:27:53)\r\n<e>     at CachedSource.streamChunks (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\CachedSource.js:208:35)\r\n<e>     at module.exports (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\helpers\\streamChunks.js:13:17)\r\n<e>     at module.exports (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\helpers\\streamChunks.js:13:17)\r\n<e>     at ConcatSource.streamChunks (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\ConcatSource.js:112:55)\r\n<e>     at module.exports (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\helpers\\streamChunks.js:13:17)\r\n<e>     at streamAndGetSourceAndMap (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\helpers\\streamAndGetSourceAndMap.js:27:53)\r\n<e>     at CachedSource.streamChunks (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\CachedSource.js:208:35)\r\n<e>     at module.exports (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\helpers\\streamChunks.js:13:17)\r\n<e>     at ConcatSource.streamChunks (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\ConcatSource.js:112:55)\r\n<e> caused by plugins in Compilation.hooks.processAssets\r\n<e> RangeError: Maximum call stack size exceeded\r\n<e>     at String.match (<anonymous>)\r\n<e>     at OriginalSource.streamChunks (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\OriginalSource.js:64:32)\r\n<e>     at module.exports (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\helpers\\streamChunks.js:13:17)\r\n<e>     at ReplaceSource.streamChunks (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\ReplaceSource.js:175:44)\r\n<e>     at module.exports (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\helpers\\streamChunks.js:13:17)\r\n<e>     at streamAndGetSourceAndMap (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\helpers\\streamAndGetSourceAndMap.js:27:53)\r\n<e>     at CachedSource.streamChunks (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\CachedSource.js:208:35)\r\n<e>     at module.exports (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\helpers\\streamChunks.js:13:17)\r\n<e>     at ReplaceSource.streamChunks (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\ReplaceSource.js:175:44)\r\n<e>     at module.exports (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\helpers\\streamChunks.js:13:17)\r\n<e>     at ConcatSource.streamChunks (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\ConcatSource.js:112:55)\r\n<e>     at module.exports (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\helpers\\streamChunks.js:13:17)\r\n<e>     at streamAndGetSourceAndMap (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\helpers\\streamAndGetSourceAndMap.js:27:53)\r\n<e>     at CachedSource.streamChunks (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\CachedSource.js:208:35)\r\n<e>     at module.exports (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\helpers\\streamChunks.js:13:17)\r\n<e>     at ConcatSource.streamChunks (C:\\Dev\\workspace\\myapp\\myapp-web-13\\node_modules\\webpack-sources\\lib\\ConcatSource.js:112:55)\r\n</code></pre>\r\n\r\n## 🌍 Your Environment\r\n\r\n<pre><code>\r\nAngular CLI: 13.0.2\r\nNode: 16.13.0\r\nPackage Manager: npm 8.1.3\r\nOS: win32 x64\r\n\r\nAngular: 13.0.1\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... language-service, material, platform-browser\r\n... platform-browser-dynamic, router, service-worker\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1300.2\r\n@angular-devkit/build-angular   13.0.2\r\n@angular-devkit/core            13.0.2\r\n@angular-devkit/schematics      13.0.2\r\n@angular/cli                    13.0.2\r\n@schematics/angular             13.0.2\r\nrxjs                            6.6.7\r\ntypescript                      4.4.4\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/22156","RelatedDescription":"Closed issue \"Angular 13 build fails in webpack-sources - Maximum call stack size exceeded\" (#22156)"},{"Id":"1053063740","IsPullRequest":false,"CreatedAt":"2021-11-14T22:53:54","Actor":"ericeslinger","Number":"22162","RawContent":null,"Title":"ng update deletes node_modules before ensuring it will succeed","State":"open","Body":"# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n`ng update @angular/cli @angular/cdk ...`\r\n\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [x] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Is this a regression?\r\n\r\nNot sure. Might be half bug, half feature request.\r\n\r\n### Description\r\n\r\nWhen updating from angular 12 to 13, the following sequence of events happened:\r\n\r\n1. `ng update` to determine dependencies\r\n2. `ng update ...` \r\n  1. after determining dependencies and updating my package.json file, the script seems to delete node_modules\r\n  2. the `npm install` step triggered by `ng update` fails due to a peer dependency conflict \r\n  3. *this is the FR/bug* this part of the script should do a dry run and abort *before* deleting `node_modules` if the `npm install` with the updated package.json file will fail. Ideally add more details and suggestions here, and roll back the change to `package.json`.\r\n3. Now re-running `ng update` a second time will note no installed dependencies, because apparently the script checks `node_modules` and not `package.json`. \r\n4. The actual fix for the deeper bug is some conflict in peer dependencies between the older 12 installation of architect and build-angular and the updated `package.json` file. Reverting `package.json` to head (the 12 installation), running `npm install` to re-install the now-missing `node_modules` directory, then deleting `package-lock.json`, will allow the `ng update` command to run to completion. If this is a common issue, adding some help text in that regard would be nice.\r\n\r\n## 🌍 Your Environment\r\n\r\n*NOTE* this is post-upgrade, the bug happened during a 12->13 upgrade.\r\n\r\n<pre><code>\r\nAngular CLI: 13.0.2\r\nNode: 16.10.0\r\nPackage Manager: npm 7.24.0\r\nOS: linux x64\r\n\r\nAngular: 13.0.1\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... material, platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1300.2\r\n@angular-devkit/build-angular   13.0.2\r\n@angular-devkit/core            13.0.2\r\n@angular-devkit/schematics      13.0.2\r\n@angular/cli                    13.0.2\r\n@angular/fire                   7.2.0\r\n@schematics/angular             13.0.2\r\nrxjs                            6.6.7\r\ntypescript                      4.4.4\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n\r\n","Url":"https://github.com/angular/angular-cli/issues/22162","RelatedDescription":"Open issue \"ng update deletes node_modules before ensuring it will succeed\" (#22162)"},{"Id":"1052710589","IsPullRequest":false,"CreatedAt":"2021-11-13T15:53:27","Actor":"simplejason","Number":"22161","RawContent":null,"Title":"angular 13: --code-coverage prints Coverage summary with Unknown%","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [x] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> Yes, the previous version in which this bug was not present was: \r\n`^12.1.0`\r\nUpdated: It work well in new project with v13(even they use same karma.config.js, it still failed in older project, upgrade from 12 to 13), I'm checking the differences.\r\n### Description\r\n\r\n<!-- ✍️--> A clear and concise description of the problem...\r\n```bash\r\n$ ng test --no-watch --no-progress --browsers=ChromeHeadlessCI --code-coverage\r\n// in 13.0.2, it will print messages below but it works well under angular v12.x\r\n// I'm not sure if something wrong I configured or just some break changes happened in v13.x :(\r\n=============================== Coverage summary ===============================\r\nStatements   : Unknown% ( 0/0 )\r\nBranches     : Unknown% ( 0/0 )\r\nFunctions    : Unknown% ( 0/0 )\r\nLines        : Unknown% ( 0/0 )\r\n================================================================================\r\n```\r\n```javascript\r\n// karma.config.js\r\n// Karma configuration file, see link for more information\r\n// https://karma-runner.github.io/1.0/config/configuration-file.html\r\n\r\nconst tags = process.env && process.env['NG_TEST_TAGS'];\r\nconst processENV = require('process');\r\nprocessENV.env.CHROME_BIN = require('puppeteer').executablePath();\r\n\r\nmodule.exports = function(config) {\r\n  config.set({\r\n    basePath: '',\r\n    frameworks: ['jasmine', '@angular-devkit/build-angular', 'viewport'],\r\n    plugins: [\r\n      require('karma-jasmine'),\r\n      require('karma-chrome-launcher'),\r\n      require('karma-spec-reporter'),\r\n      require('karma-jasmine-html-reporter'),\r\n      require('karma-coverage'),\r\n      require('karma-junit-reporter'),\r\n      require('@angular-devkit/build-angular/plugins/karma'),\r\n      require('karma-viewport')\r\n    ],\r\n    client: {\r\n      jasmine: {\r\n        random: false\r\n      },\r\n      clearContext: true, // leave Jasmine Spec Runner output visible in browser\r\n      ...tags && { args: [tags] }\r\n    },\r\n    coverageReporter: {\r\n      subdir: '.',\r\n      dir: require('path').join(__dirname, '../coverage-report'),\r\n      reporters: [\r\n        { type: 'html' },\r\n        { type: 'text-summary' },\r\n        { type: 'lcovonly' },\r\n        { type: 'cobertura' },\r\n      ],\r\n    },\r\n    reporters: ['progress', 'kjhtml', 'spec', 'junit'],\r\n    junitReporter: {\r\n      outputDir: '../junit'\r\n    },\r\n    specReporter: {\r\n      maxLogLines: 5,\r\n      suppressErrorSummary: true,\r\n      suppressFailed: false,\r\n      suppressPassed: false,\r\n      suppressSkipped: true,\r\n      showSpecTiming: false\r\n    },\r\n    port: 9876,\r\n    colors: true,\r\n    logLevel: config.LOG_INFO,\r\n    autoWatch: true,\r\n    browsers: ['Chrome'],\r\n    customLaunchers: {\r\n      ChromeHeadlessCI: {\r\n        base: 'ChromeHeadless',\r\n        flags: ['--no-sandbox']\r\n      }\r\n    },\r\n    singleRun: false,\r\n    browserNoActivityTimeout: 1000 * 60 // (Default: 10000)\r\n  });\r\n};\r\n```\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem.\r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n## 🔥 Exception or Error\r\n\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ✍️-->...\r\nChrome Headless 88.0.4298.0 (Mac OS 11.0.0): Executed 1827 of 1831 (skipped 4) SUCCESS (54.073 secs / 37.689 secs)\r\nTOTAL: 1827 SUCCESS\r\n\r\n\r\n=============================== Coverage summary ===============================\r\nStatements   : Unknown% ( 0/0 )\r\nBranches     : Unknown% ( 0/0 )\r\nFunctions    : Unknown% ( 0/0 )\r\nLines        : Unknown% ( 0/0 )\r\n================================================================================\r\n\r\n</code></pre>\r\n\r\n## 🌍 Your Environment\r\n\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\nAngular CLI: 13.0.2\r\nNode: 14.17.5\r\nPackage Manager: npm 6.14.14\r\nOS: darwin x64\r\n\r\nAngular: 13.0.1\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... platform-server, router, service-worker\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1300.2\r\n@angular-devkit/build-angular   13.0.2\r\n@angular-devkit/core            13.0.2\r\n@angular-devkit/schematics      13.0.2\r\n@angular/cli                    13.0.2\r\n@nguniversal/builders           13.0.1\r\n@nguniversal/express-engine     13.0.1\r\n@schematics/angular             13.0.2\r\nng-packagr                      13.0.3\r\nrxjs                            6.6.7\r\ntypescript                      4.4.4\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/22161","RelatedDescription":"Open issue \"angular 13: --code-coverage prints Coverage summary with Unknown%\" (#22161)"},{"Id":"1052475286","IsPullRequest":true,"CreatedAt":"2021-11-12T23:24:05","Actor":"clydin","Number":"22160","RawContent":null,"Title":"feat(@angular-devkit/build-angular): support JSON comments in dev-server proxy configuration file","State":"open","Body":"The `proxyConfig` option for the `dev-server` builder now supports JSON files containing comments and trailing commas.\r\nSeveral additional tests regarding the use of ESM and CommonJS JavaScript configuration files were also added to reduce the likelihood of future regressions.\r\n\r\nCloses: #21862","Url":"https://github.com/angular/angular-cli/pull/22160","RelatedDescription":"Open PR \"feat(@angular-devkit/build-angular): support JSON comments in dev-server proxy configuration file\" (#22160)"},{"Id":"1052408862","IsPullRequest":false,"CreatedAt":"2021-11-12T21:08:02","Actor":"artu-ole","Number":"22159","RawContent":null,"Title":"Script imports are modules by default","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [x] build\r\n- [x] serve\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> Yes, the previous version in which this bug was not present was: 12.2.13\r\n\r\n### Description\r\n\r\n<!-- ✍️-->\r\nNow that dynamic imports are of `type=\"module\"` by default this breaks imports of legacy libraries that were not built with strict mode in mind. \r\nWe are using [calentim datepicker](https://rettica.com/calentim/docs/readme.html) in a lazy loaded module(also loading the library with dynamic import) in the project and with the transition to angular 13 and specifically with the change of default webpack output to produce script tags with the type module in https://github.com/angular/angular-cli/commit/f53bf9dc21ee9aa8a682b8a82ee8a9870fa859e1 the library breaks as it is not written in strict mode. \r\nI understand the desire to move to modules by default, but would like to have an option to import legacy code as `'text/javascript'`.\r\nThis feels like a breaking change that didn't get a mention in [https://update.angular.io](https://update.angular.io/?l=3&v=12.0-13.0) notes either.\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\n`await import('./legacy/library.js')`\r\nUsing the library will brake during runtime if it violates strict mode.\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem.\r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n\r\n## 🌍 Your Environment\r\n<details>\r\n\r\n<summary><code>ng version</code></summary>\r\n\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\nAngular CLI: 13.0.2\r\nNode: 16.13.0\r\nPackage Manager: npm 8.1.0\r\nOS: win32 x64\r\n\r\nAngular: 13.0.1\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router, service-worker\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1300.2\r\n@angular-devkit/build-angular   13.0.2\r\n@angular-devkit/core            13.0.2\r\n@angular-devkit/schematics      13.0.2\r\n@angular/cli                    13.0.2\r\n@schematics/angular             13.0.2\r\nrxjs                            6.6.7\r\ntypescript                      4.4.4\r\n\r\n</code></pre>\r\n</details>\r\n\r\n**Anything else relevant?**\r\nI understand the ability to provide custom builder in angular.json, but would like to avoid it as it is a large undertaking to keep it updated between angular releases than being able to configure this some other way.\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/22159","RelatedDescription":"Open issue \"Script imports are modules by default\" (#22159)"},{"Id":"1052199248","IsPullRequest":false,"CreatedAt":"2021-11-12T17:31:15","Actor":"ffadikhan","Number":"22158","RawContent":null,"Title":"Updating angular app from version 12 to version 13","State":"closed","Body":"@Sarah-JJ Hi,\r\n\r\nHow you solved this issue. I have same type of issue. That solution did not work for me. I am currently using version 12.0.2 and want to migrate into latest version 13.0.1. I did also install angular globally. it did not change anything, the error was still there.\r\n\r\nKindly see mentioned below issue.\r\nhttps://github.com/angular/angular-cli/issues/22143","Url":"https://github.com/angular/angular-cli/issues/22158","RelatedDescription":"Closed issue \"Updating angular app from version 12 to version 13\" (#22158)"},{"Id":"1052188097","IsPullRequest":false,"CreatedAt":"2021-11-12T17:15:24","Actor":"ffadikhan","Number":"22157","RawContent":null,"Title":"Updating angular app from version 12 to version 13","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/issues/22157","RelatedDescription":"Closed issue \"Updating angular app from version 12 to version 13\" (#22157)"},{"Id":"1051974544","IsPullRequest":false,"CreatedAt":"2021-11-12T14:51:30","Actor":"bitforcesrl","Number":"22155","RawContent":null,"Title":"Failed to compile after migration to v13","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nDon't known / other\n\n### Is this a regression?\n\nNo\n\n### Description\n\nI've updated my application from v12 to v13 following the [official guide](https://update.angular.io/?l=3&v=12.0-13.0).\r\nStarting my local environment the compilation has been failed with some errors reporting the following message: \r\n**Support for the experimental syntax '****' isn't currently enabled**\r\n\r\nThis is my tsconfig.json\r\n```\r\n{\r\n  \"compileOnSave\": false,\r\n  \"compilerOptions\": {\r\n    \"outDir\": \"./dist/out-tsc\",\r\n    \"sourceMap\": true,\r\n    \"declaration\": false,\r\n    \"module\": \"es2020\",\r\n    \"moduleResolution\": \"node\",\r\n    \"emitDecoratorMetadata\": true,\r\n    \"experimentalDecorators\": true,\r\n    \"baseUrl\": \"./src\",\r\n    \"target\": \"es2015\",\r\n    \"typeRoots\": [\"node_modules/@types\"],\r\n    \"lib\": [\"es2018\", \"dom\"],\r\n    \"paths\": {}\r\n  },\r\n  \"angularCompilerOptions\": {\r\n    \"preserveWhitespaces\": false,\r\n    \"strictTemplates\": true\r\n  }\r\n}\r\n```\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\nSyntaxError: /angular-boilerplate/node_modules/@angular/router/fesm2020/router.mjs: Support for the experimental syntax 'nullishCoalescingOperator' isn't currently enabled (2751:48)\r\n\r\nSyntaxError: /angular-boilerplate/node_modules/@angular/material/fesm2020/tooltip.mjs: Support for the experimental syntax 'optionalChaining' isn't currently enabled (178:38):\n```\n\n\n### Please provide the environment you discovered this bug in\n\n```true\n@angular/cli: 13.0.2,\r\nnpm: v8.1.0\r\nnode: v16.13.0\r\nOS: MacOsx 11.6\r\n\r\nAnuglar core 13.0.1\n```\n\n\n### Anything else?\n\nLet me know if you need more information in order to investigate about this issue. \r\nThank you","Url":"https://github.com/angular/angular-cli/issues/22155","RelatedDescription":"Closed issue \"Failed to compile after migration to v13\" (#22155)"},{"Id":"1051914679","IsPullRequest":false,"CreatedAt":"2021-11-12T12:21:53","Actor":"Rambou","Number":"22154","RawContent":null,"Title":"Dynamic import of locales not available in Angular 13","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\ncommon\r\n\r\n### Is this a regression?\r\n\r\nYes\r\n\r\n### Description\r\n\r\nWhile in a previous version of angular, you could import locales and their extra's dynamically, it is impossible in angular 13. Below there is a sample of code with Webpack magic comments that lazy-load of locales was possible.\r\n```\r\nimport(\r\n  /* webpackExclude: /\\.d\\.ts$/ */\r\n  /* webpackMode: \"lazy-once\" */\r\n  /* webpackChunkName: \"i18n-base\" */\r\n  `@angular/common/locales/${id}.mjs`)\r\n.then(m => m.default)\r\n.catch(error => {\r\n   .....\r\n});\r\n```\r\nNow Webpack throws an error because `exports` attribute seems to be misconfigured in `package.json`\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nError: Module not found: Error: Package path ./locales is not exported from package .../node_modules/@angular/common (see exports field in .../node_modules/@angular/common/package.json)\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in\r\n\r\n```true\r\nAngular CLI: 13.0.1\r\nNode: 12.22.6\r\nPackage Manager: yarn 1.22.15\r\nOS: linux x64\r\n\r\nAngular: 13.0.0\r\n... animations, cdk, common, compiler, compiler-cli, core\r\n... elements, forms, language-service, material\r\n... material-moment-adapter, platform-browser\r\n... platform-browser-dynamic, router, service-worker\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1300.1\r\n@angular-devkit/build-angular   13.0.1\r\n@angular-devkit/core            13.0.1\r\n@angular-devkit/schematics      13.0.1\r\n@angular/cli                    13.0.1\r\n@schematics/angular             13.0.1\r\nng-packagr                      13.0.3\r\nrxjs                            7.4.0\r\ntypescript                      4.4.4\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular-cli/issues/22154","RelatedDescription":"Closed issue \"Dynamic import of locales not available in Angular 13\" (#22154)"},{"Id":"1051232559","IsPullRequest":true,"CreatedAt":"2021-11-12T10:59:12","Actor":"josephperrott","Number":"22147","RawContent":null,"Title":"build: update to yarn v1.22.17","State":"closed","Body":"Update to the latest version of yarn, 1.22.17.","Url":"https://github.com/angular/angular-cli/pull/22147","RelatedDescription":"Closed or merged PR \"build: update to yarn v1.22.17\" (#22147)"},{"Id":"1051824182","IsPullRequest":false,"CreatedAt":"2021-11-12T10:45:16","Actor":"Cephyric-gh","Number":"22153","RawContent":null,"Title":"license-webpack-plugin 3.0.0 causes prod builds to fail","State":"open","Body":"# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Is this a regression?\r\n\r\nPossibly. It didn't exist in angular 11 (which is what I upgraded from), but cannot say if it was a thing in 12 or not.\r\n\r\n### Description\r\n\r\nIn angular 13 when I try and build prod (`ng build project --configuration production`) it fails because it cannot find the module `webpack-sources`. This is caused by license-webpack-plugin, and has been fixed in 4.0.0  (https://github.com/xz64/license-webpack-plugin/issues/107), which fixed the issue for my project after I manually installed 4.0.0 as a devDependency of the project\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\nAnnoyingly it seems to not happen all the time, as I tried a fresh install (with all the same deps as my existing project) and the default angular project seemed to work.\r\n\r\n## 🔥 Exception or Error\r\n\r\n<pre><code>\r\nAn unhandled exception occurred: Cannot find module 'webpack-sources'\r\nRequire stack:\r\n- /folder/path/node_modules/license-webpack-plugin/dist/WebpackAssetManager.js\r\n- /folder/path/node_modules/license-webpack-plugin/dist/LicenseWebpackPlugin.js\r\n- /folder/path/node_modules/license-webpack-plugin/dist/index.js\r\n- /folder/path/node_modules/@angular-devkit/build-angular/src/webpack/configs/common.js\r\n- /folder/path/node_modules/@angular-devkit/build-angular/src/webpack/configs/index.js\r\n- /folder/path/node_modules/@angular-devkit/build-angular/src/builders/browser/index.js\r\n- /folder/path/node_modules/@angular-devkit/architect/node/node-modules-architect-host.js\r\n- /folder/path/node_modules/@angular-devkit/architect/node/index.js\r\n- /folder/path/node_modules/@angular/cli/models/architect-command.js\r\n- /folder/path/node_modules/@angular/cli/commands/build-impl.js\r\n- /folder/path/node_modules/@angular-devkit/schematics/tools/export-ref.js\r\n- /folder/path/node_modules/@angular-devkit/schematics/tools/index.js\r\n- /folder/path/node_modules/@angular/cli/utilities/json-schema.js\r\n- /folder/path/node_modules/@angular/cli/models/command-runner.js\r\n- /folder/path/node_modules/@angular/cli/lib/cli/index.js\r\n- /folder/path/node_modules/@angular/cli/lib/init.js\r\nSee \"/private/var/folders/ll/v61c3w290mbdnsykh39v8h080000gn/T/ng-TVWIIk/angular-errors.log\" for further details.\r\n\r\n</code></pre>\r\n\r\n## 🌍 Your Environment\r\n\r\n<pre><code>\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n\r\n\r\nAngular CLI: 13.0.2\r\nNode: 16.13.0\r\nPackage Manager: npm 8.1.0\r\nOS: darwin x64\r\n\r\nAngular: 13.0.1\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... language-service, localize, material\r\n... material-moment-adapter, platform-browser\r\n... platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1300.2\r\n@angular-devkit/build-angular   13.0.2\r\n@angular-devkit/core            13.0.2\r\n@angular-devkit/schematics      13.0.2\r\n@angular/cli                    13.0.2\r\n@angular/youtube-player         12.2.12\r\n@schematics/angular             13.0.2\r\nng-packagr                      13.0.3\r\nrxjs                            7.4.0\r\ntypescript                      4.4.4\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/22153","RelatedDescription":"Open issue \"license-webpack-plugin 3.0.0 causes prod builds to fail\" (#22153)"},{"Id":"1051792438","IsPullRequest":false,"CreatedAt":"2021-11-12T10:07:36","Actor":"Platonn","Number":"22152","RawContent":null,"Title":"After upgrading to Angular 13, calling `scheduleBuilder` fails with Error: \"The builder requires a target.\"","State":"open","Body":"# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\nYes, the previous version in which this bug was not present was: Angular 12\r\n\r\n### Description\r\n\r\n<!-- ✍️--> After upgrading to Angular 13, my custom builder that called `scheduleBuilder('@angular-devkit/build-angular:ng-packagr')` started to fail with Error: \"The builder requires a target\".\r\n\r\nThe reason is the commit introduced in Angular 13 https://github.com/angular/angular-cli/commit/5904afd1de3ffa0bb6cd1757795ba9abfce9e523 , now it throws the error, when there is no target https://github.com/angular/angular-cli/blob/5904afd1de3ffa0bb6cd1757795ba9abfce9e523/packages/angular_devkit/build_angular/src/builders/ng-packagr/index.ts#L34-L37\r\n\r\nWorkaround: thanks to the another commit in Angular 13 https://github.com/angular/angular-cli/commit/51622bdeaff12e1e3109143f9ae28a02ae5ba2fe, now I'm able to fix myself the problem and pass a new option `target` in the 3rd argument of `scheduleBuilder()` function.\r\n\r\nThe point is, it would be nice to add a schematics migration in v13 to pass the original `target` to the calls of   `scheduleBuilder`. Or at least document it in the [breaking changes section of the package `@angular-devkit/build-angular`](https://github.com/angular/angular-cli/blob/master/CHANGELOG.md#1300-2021-11-03)\r\n## 🔬 Minimal Reproduction\r\n\r\nUsing Angular 12, create a custom builder that calls inside: `scheduleBuilder('@angular-devkit/build-angular:ng-packagr')`. Then upgrade to Angular 13, run your builder and observe the build error: \"The builder requires a target\".\r\n\r\n## 🔥 Exception or Error\r\n\r\n<pre><code>\"The builder requires a target\"</code></pre>\r\n\r\n## 🌍 Your Environment\r\n\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\nAngular CLI: 13.0.1\r\nNode: 16.13.0\r\nPackage Manager: yarn 1.22.10\r\nOS: darwin arm64\r\n\r\nAngular: 13.0.0\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... platform-server, router, service-worker\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1300.1\r\n@angular-devkit/build-angular   13.0.1\r\n@angular-devkit/core            13.0.1\r\n@angular-devkit/schematics      13.0.1\r\n@angular/cli                    13.0.1\r\n@angular/pwa                    13.0.1\r\n@nguniversal/builders           13.0.0\r\n@nguniversal/express-engine     13.0.0\r\n@schematics/angular             13.0.1\r\nng-packagr                      13.0.3\r\nrxjs                            6.6.3\r\ntypescript                      4.4.4\r\n</code></pre>\r\n","Url":"https://github.com/angular/angular-cli/issues/22152","RelatedDescription":"Open issue \"After upgrading to Angular 13, calling `scheduleBuilder` fails with Error: \"The builder requires a target.\"\" (#22152)"},{"Id":"1051751836","IsPullRequest":true,"CreatedAt":"2021-11-12T09:23:04","Actor":"renovate[bot]","Number":"22151","RawContent":null,"Title":"build: update dependency license-webpack-plugin to v4","State":"open","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [license-webpack-plugin](https://togithub.com/xz64/license-webpack-plugin) | [`3.0.0` -> `4.0.0`](https://renovatebot.com/diffs/npm/license-webpack-plugin/3.0.0/4.0.0) | [![age](https://badges.renovateapi.com/packages/npm/license-webpack-plugin/4.0.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/license-webpack-plugin/4.0.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/license-webpack-plugin/4.0.0/compatibility-slim/3.0.0)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/license-webpack-plugin/4.0.0/confidence-slim/3.0.0)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>xz64/license-webpack-plugin</summary>\n\n### [`v4.0.0`](https://togithub.com/xz64/license-webpack-plugin/blob/master/CHANGELOG.md#&#8203;400---2021-11-11)\n\n[Compare Source](https://togithub.com/xz64/license-webpack-plugin/compare/v3.0.0...v4.0.0)\n\n##### Fixed\n\n-   Fix `TypeError: item.node is not a function` errors by including `webpack-sources@^3.0.0` as direct dependency.\n\n##### Removed\n\n-   Remove support for webpack versions less than 5. Only webpack 5 is supported as of this version.\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n🔕 **Ignore**: Close this PR and you won't be reminded about these updates again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/22151","RelatedDescription":"Open PR \"build: update dependency license-webpack-plugin to v4\" (#22151)"},{"Id":"1051751280","IsPullRequest":true,"CreatedAt":"2021-11-12T09:22:30","Actor":"renovate[bot]","Number":"22150","RawContent":null,"Title":"build: update all non-major dependencies","State":"open","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [@bazel/jasmine](https://togithub.com/bazelbuild/rules_nodejs) | [`4.4.2` -> `4.4.5`](https://renovatebot.com/diffs/npm/@bazel%2fjasmine/4.4.2/4.4.5) | [![age](https://badges.renovateapi.com/packages/npm/@bazel%2fjasmine/4.4.5/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@bazel%2fjasmine/4.4.5/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@bazel%2fjasmine/4.4.5/compatibility-slim/4.4.2)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@bazel%2fjasmine/4.4.5/confidence-slim/4.4.2)](https://docs.renovatebot.com/merge-confidence/) |\n| [@bazel/typescript](https://togithub.com/bazelbuild/rules_nodejs) | [`4.4.2` -> `4.4.5`](https://renovatebot.com/diffs/npm/@bazel%2ftypescript/4.4.2/4.4.5) | [![age](https://badges.renovateapi.com/packages/npm/@bazel%2ftypescript/4.4.5/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@bazel%2ftypescript/4.4.5/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@bazel%2ftypescript/4.4.5/compatibility-slim/4.4.2)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@bazel%2ftypescript/4.4.5/confidence-slim/4.4.2)](https://docs.renovatebot.com/merge-confidence/) |\n| [@typescript-eslint/eslint-plugin](https://togithub.com/typescript-eslint/typescript-eslint) | [`5.3.1` -> `5.4.0`](https://renovatebot.com/diffs/npm/@typescript-eslint%2feslint-plugin/5.3.1/5.4.0) | [![age](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2feslint-plugin/5.4.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2feslint-plugin/5.4.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2feslint-plugin/5.4.0/compatibility-slim/5.3.1)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2feslint-plugin/5.4.0/confidence-slim/5.3.1)](https://docs.renovatebot.com/merge-confidence/) |\n| [@typescript-eslint/parser](https://togithub.com/typescript-eslint/typescript-eslint) | [`5.3.1` -> `5.4.0`](https://renovatebot.com/diffs/npm/@typescript-eslint%2fparser/5.3.1/5.4.0) | [![age](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2fparser/5.4.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2fparser/5.4.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2fparser/5.4.0/compatibility-slim/5.3.1)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2fparser/5.4.0/confidence-slim/5.3.1)](https://docs.renovatebot.com/merge-confidence/) |\n| [ajv](https://ajv.js.org) ([source](https://togithub.com/ajv-validator/ajv)) | [`8.7.1` -> `8.8.0`](https://renovatebot.com/diffs/npm/ajv/8.7.1/8.8.0) | [![age](https://badges.renovateapi.com/packages/npm/ajv/8.8.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/ajv/8.8.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/ajv/8.8.0/compatibility-slim/8.7.1)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/ajv/8.8.0/confidence-slim/8.7.1)](https://docs.renovatebot.com/merge-confidence/) |\n| [build_bazel_rules_nodejs](https://togithub.com/bazelbuild/rules_nodejs) | [`4.4.4` -> `4.4.5`](https://renovatebot.com/diffs/npm/build_bazel_rules_nodejs/4.4.4/4.4.5) | [![age](https://badges.renovateapi.com/packages/github-releases/build_bazel_rules_nodejs/4.4.5/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/github-releases/build_bazel_rules_nodejs/4.4.5/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/github-releases/build_bazel_rules_nodejs/4.4.5/compatibility-slim/4.4.4)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/github-releases/build_bazel_rules_nodejs/4.4.5/confidence-slim/4.4.4)](https://docs.renovatebot.com/merge-confidence/) |\n| [copy-webpack-plugin](https://togithub.com/webpack-contrib/copy-webpack-plugin) | [`9.0.1` -> `9.1.0`](https://renovatebot.com/diffs/npm/copy-webpack-plugin/9.0.1/9.1.0) | [![age](https://badges.renovateapi.com/packages/npm/copy-webpack-plugin/9.1.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/copy-webpack-plugin/9.1.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/copy-webpack-plugin/9.1.0/compatibility-slim/9.0.1)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/copy-webpack-plugin/9.1.0/confidence-slim/9.0.1)](https://docs.renovatebot.com/merge-confidence/) |\n| [loader-utils](https://togithub.com/webpack/loader-utils) | [`3.1.3` -> `3.2.0`](https://renovatebot.com/diffs/npm/loader-utils/3.1.3/3.2.0) | [![age](https://badges.renovateapi.com/packages/npm/loader-utils/3.2.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/loader-utils/3.2.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/loader-utils/3.2.0/compatibility-slim/3.1.3)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/loader-utils/3.2.0/confidence-slim/3.1.3)](https://docs.renovatebot.com/merge-confidence/) |\n| [terser](https://terser.org) ([source](https://togithub.com/terser/terser)) | [`5.9.0` -> `5.10.0`](https://renovatebot.com/diffs/npm/terser/5.9.0/5.10.0) | [![age](https://badges.renovateapi.com/packages/npm/terser/5.10.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/terser/5.10.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/terser/5.10.0/compatibility-slim/5.9.0)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/terser/5.10.0/confidence-slim/5.9.0)](https://docs.renovatebot.com/merge-confidence/) |\n| [webpack](https://togithub.com/webpack/webpack) | [`5.63.0` -> `5.64.1`](https://renovatebot.com/diffs/npm/webpack/5.63.0/5.64.1) | [![age](https://badges.renovateapi.com/packages/npm/webpack/5.64.1/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/webpack/5.64.1/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/webpack/5.64.1/compatibility-slim/5.63.0)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/webpack/5.64.1/confidence-slim/5.63.0)](https://docs.renovatebot.com/merge-confidence/) |\n| [webpack-dev-server](https://togithub.com/webpack/webpack-dev-server) | [`4.4.0` -> `4.5.0`](https://renovatebot.com/diffs/npm/webpack-dev-server/4.4.0/4.5.0) | [![age](https://badges.renovateapi.com/packages/npm/webpack-dev-server/4.5.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/webpack-dev-server/4.5.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/webpack-dev-server/4.5.0/compatibility-slim/4.4.0)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/webpack-dev-server/4.5.0/confidence-slim/4.4.0)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>bazelbuild/rules_nodejs</summary>\n\n### [`v4.4.5`](https://togithub.com/bazelbuild/rules_nodejs/blob/master/CHANGELOG.md#&#8203;445-httpsgithubcombazelbuildrulesnodejscompare444445-2021-11-11)\n\n[Compare Source](https://togithub.com/bazelbuild/rules_nodejs/compare/4.4.2...4.4.5)\n\n##### Bug Fixes\n\n-   **builtin:** handle external repository file paths in js_library strip_prefix check ([c6ba226](https://togithub.com/bazelbuild/rules_nodejs/commit/c6ba226))\n-   **builtin:** provide a DeclarationInfo from js_library is any input files are directories (TreeArtifacts) ([0b247c3](https://togithub.com/bazelbuild/rules_nodejs/commit/0b247c3))\n-   **typescript:** don't set resolveJsonModule in generated tsconfig if tsconfig is dict and resolve_json_module is unset ([e026387](https://togithub.com/bazelbuild/rules_nodejs/commit/e026387))\n\n##### Features\n\n-   **esbuild:** add option to disable metafile generation ([#&#8203;3066](https://togithub.com/bazelbuild/rules_nodejs/issues/3066)) ([2960f54](https://togithub.com/bazelbuild/rules_nodejs/commit/2960f54))\n\n</details>\n\n<details>\n<summary>typescript-eslint/typescript-eslint</summary>\n\n### [`v5.4.0`](https://togithub.com/typescript-eslint/typescript-eslint/blob/master/packages/parser/CHANGELOG.md#&#8203;540-httpsgithubcomtypescript-eslinttypescript-eslintcomparev531v540-2021-11-15)\n\n[Compare Source](https://togithub.com/typescript-eslint/typescript-eslint/compare/v5.3.1...v5.4.0)\n\n**Note:** Version bump only for package [@&#8203;typescript-eslint/parser](https://togithub.com/typescript-eslint/parser)\n\n#### [5.3.1](https://togithub.com/typescript-eslint/typescript-eslint/compare/v5.3.0...v5.3.1) (2021-11-08)\n\n**Note:** Version bump only for package [@&#8203;typescript-eslint/parser](https://togithub.com/typescript-eslint/parser)\n\n</details>\n\n<details>\n<summary>ajv-validator/ajv</summary>\n\n### [`v8.8.0`](https://togithub.com/ajv-validator/ajv/releases/v8.8.0)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v8.7.1...v8.8.0)\n\nFix browser bundles in cdnjs\n`regExp` option allowing to specify alternative RegExp engine, e.g. re2 ([@&#8203;efebarlas](https://togithub.com/efebarlas))\n\n</details>\n\n<details>\n<summary>webpack-contrib/copy-webpack-plugin</summary>\n\n### [`v9.1.0`](https://togithub.com/webpack-contrib/copy-webpack-plugin/blob/master/CHANGELOG.md#&#8203;910-httpsgithubcomwebpack-contribcopy-webpack-plugincomparev901v910-2021-11-11)\n\n[Compare Source](https://togithub.com/webpack-contrib/copy-webpack-plugin/compare/v9.0.1...v9.1.0)\n\n##### Features\n\n-   output helpful descriptions and links on errors ([#&#8203;625](https://togithub.com/webpack-contrib/copy-webpack-plugin/issues/625)) ([396bed6](https://togithub.com/webpack-contrib/copy-webpack-plugin/commit/396bed6a8ad12cea344e988fefb9a554bb9c7b1a))\n\n##### Bug Fixes\n\n-   compatibility with Node.js 17 ([20af0c7](https://togithub.com/webpack-contrib/copy-webpack-plugin/commit/20af0c7f1b06a7e597e6b498dbc2b432a4a6d0de))\n\n##### [9.0.1](https://togithub.com/webpack-contrib/copy-webpack-plugin/compare/v9.0.0...v9.0.1) (2021-06-25)\n\n##### Chore\n\n-   update `serialize-javascript`\n\n</details>\n\n<details>\n<summary>webpack/loader-utils</summary>\n\n### [`v3.2.0`](https://togithub.com/webpack/loader-utils/blob/master/CHANGELOG.md#&#8203;320-httpsgithubcomwebpackloader-utilscomparev313v320-2021-11-11)\n\n[Compare Source](https://togithub.com/webpack/loader-utils/compare/v3.1.3...v3.2.0)\n\n##### Features\n\n-   hash uniformity for base digests ([451858b](https://togithub.com/webpack/loader-utils/commit/451858b0bb33911d52d2f03a6470fd2b86493b84))\n\n##### [3.1.3](https://togithub.com/webpack/loader-utils/compare/v3.1.2...v3.1.3) (2021-11-04)\n\n##### Bug Fixes\n\n-   crash with md4 hash ([#&#8203;198](https://togithub.com/webpack/loader-utils/issues/198)) ([ef084d4](https://togithub.com/webpack/loader-utils/commit/ef084d43ba29ebf3c3c0ea0939a5c58adad0bba2))\n\n##### [3.1.2](https://togithub.com/webpack/loader-utils/compare/v3.1.1...v3.1.2) (2021-11-04)\n\n##### Bug Fixes\n\n-   bug with unicode characters ([#&#8203;196](https://togithub.com/webpack/loader-utils/issues/196)) ([0426405](https://togithub.com/webpack/loader-utils/commit/04264056f951514955af7302510631f942276eec))\n\n##### [3.1.1](https://togithub.com/webpack/loader-utils/compare/v3.1.0...v3.1.1) (2021-11-04)\n\n##### Bug Fixes\n\n-   base64 and unicode characters ([02b1f3f](https://togithub.com/webpack/loader-utils/commit/02b1f3fe6d718870b5ee7abc64519a1b2b5b8531))\n\n</details>\n\n<details>\n<summary>terser/terser</summary>\n\n### [`v5.10.0`](https://togithub.com/terser/terser/blob/master/CHANGELOG.md#v5100)\n\n[Compare Source](https://togithub.com/terser/terser/compare/v5.9.0...v5.10.0)\n\n-   Massive optimization to max_line_len ([#&#8203;1109](https://togithub.com/terser/terser/issues/1109))\n-   Basic support for import assertions\n-   Marked ES2022 Object.hasOwn as a pure function\n-   Fix `delete optional?.property`\n-   New CI/CD pipeline with github actions ([#&#8203;1057](https://togithub.com/terser/terser/issues/1057))\n-   Fix reordering of switch branches ([#&#8203;1092](https://togithub.com/terser/terser/issues/1092)), ([#&#8203;1084](https://togithub.com/terser/terser/issues/1084))\n-   Fix error when creating a class property called `get`\n-   Acorn dependency is now an optional peerDependency\n-   Fix mangling collision with exported variables ([#&#8203;1072](https://togithub.com/terser/terser/issues/1072))\n-   Fix an issue with `return someVariable = (async () => { ... })()` ([#&#8203;1073](https://togithub.com/terser/terser/issues/1073))\n\n</details>\n\n<details>\n<summary>webpack/webpack</summary>\n\n### [`v5.64.1`](https://togithub.com/webpack/webpack/releases/v5.64.1)\n\n[Compare Source](https://togithub.com/webpack/webpack/compare/v5.64.0...v5.64.1)\n\n### Bugfixes\n\n-   fix regexp in managedPaths to exclude additional slash\n-   make module.accept errorHandler optional in typings\n-   correctly create an async chunk when using a `require(...).property` in `require.ensure`\n-   fix cleaning of symlinks in `output.clean: true`\n-   fix change detection with `unsafeCache` within `managedPaths` (node_modules)\n-   bump webpack-sources for Stack Overflow bugfix\n\n### [`v5.64.0`](https://togithub.com/webpack/webpack/releases/v5.64.0)\n\n[Compare Source](https://togithub.com/webpack/webpack/compare/v5.63.0...v5.64.0)\n\n### Features\n\n-   add `asyncChunks: boolean` option to disable creation of async chunks\n\n### Bugfixes\n\n-   fix ProfilingPlugin for `experiments.backCompat: false`\n\n### Performance\n\n-   avoid running regexp twice over the file list\n\n</details>\n\n<details>\n<summary>webpack/webpack-dev-server</summary>\n\n### [`v4.5.0`](https://togithub.com/webpack/webpack-dev-server/blob/master/CHANGELOG.md#&#8203;450-httpsgithubcomwebpackwebpack-dev-servercomparev440v450-2021-11-13)\n\n[Compare Source](https://togithub.com/webpack/webpack-dev-server/compare/v4.4.0...v4.5.0)\n\n##### Features\n\n-   add `--web-socket-server-type` option for CLI ([#&#8203;4001](https://togithub.com/webpack/webpack-dev-server/issues/4001)) ([17c390a](https://togithub.com/webpack/webpack-dev-server/commit/17c390a04e474a675255eb25132b423e0614253f))\n-   show deprecation warning for `https`/`http2` option, [migration guide for `https`](https://togithub.com/webpack/webpack-dev-server/tree/master/examples/server/https) and [migration guide for `http2`](https://togithub.com/webpack/webpack-dev-server/tree/master/examples/server/spdy) (because we use [`spdy`](https://togithub.com/spdy-http2/node-spdy) for http2 due `express` doesn't support http2) ([#&#8203;4003](https://togithub.com/webpack/webpack-dev-server/issues/4003)) ([521cf85](https://togithub.com/webpack/webpack-dev-server/commit/521cf852a81c5913e17cf36c90140c566d4218e5))\n\n##### Bug Fixes\n\n-   infinity refresh on warnings ([#&#8203;4006](https://togithub.com/webpack/webpack-dev-server/issues/4006)) ([10da223](https://togithub.com/webpack/webpack-dev-server/commit/10da2238b0fce26973160ef03ba0dd35d5bc0568))\n-   invalid host message is missing on client with https ([#&#8203;3997](https://togithub.com/webpack/webpack-dev-server/issues/3997)) ([#&#8203;3998](https://togithub.com/webpack/webpack-dev-server/issues/3998)) ([ff0869c](https://togithub.com/webpack/webpack-dev-server/commit/ff0869cb08cd886ed5b1f8265736d514358c7305))\n-   remove process listeners after stopping the server ([#&#8203;4013](https://togithub.com/webpack/webpack-dev-server/issues/4013)) ([d198e4e](https://togithub.com/webpack/webpack-dev-server/commit/d198e4e138c194427af596663c129515353db9c4))\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/renovatebot/renovate/discussions) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/22150","RelatedDescription":"Open PR \"build: update all non-major dependencies\" (#22150)"},{"Id":"1051543312","IsPullRequest":false,"CreatedAt":"2021-11-12T03:15:15","Actor":"rahadianaulia","Number":"22149","RawContent":null,"Title":"disabling **inlineCritical** style optimization allows the build to succeed. The following config works for me however I'd like to now exactly why:","State":"closed","Body":"disabling **inlineCritical** style optimization allows the build to succeed. The following config works for me however I'd like to now exactly why:\r\n`\r\n              \"optimization\": {\r\n                \"scripts\": true,\r\n                \"fonts\": {\r\n                  \"inline\": true\r\n                },\r\n                \"styles\": {\r\n                  \"minify\": true,\r\n                  \"inlineCritical\": false\r\n                }\r\n              },\r\n`\r\n\r\n_Originally posted by @mtinnes in https://github.com/angular/angular-cli/issues/20804#issuecomment-850937763_","Url":"https://github.com/angular/angular-cli/issues/22149","RelatedDescription":"Closed issue \"disabling **inlineCritical** style optimization allows the build to succeed. The following config works for me however I'd like to now exactly why:\" (#22149)"},{"Id":"1051498795","IsPullRequest":false,"CreatedAt":"2021-11-12T01:34:28","Actor":"crh225","Number":"22148","RawContent":null,"Title":"--output-hashing=js only and not the css files","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n# 🚀 Feature request\r\n\r\n### Command (mark with an `x`)\r\n\r\n<!-- Can you pin-point the command or commands that are relevant for this feature request? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [ X] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Description\r\n\r\n<!-- ✍️--> A clear and concise description of the problem or missing capability...\r\n\r\nI would like to run `ng build --output-hashing` and it not has the css, but has all the JavaScript\r\n\r\nthe company logrocket.com says \r\n![image](https://user-images.githubusercontent.com/19475195/141393511-2c4c299c-dad7-4b9e-b172-46fef84e438b.png)\r\n\r\nso I am looking for a workaround. I would still like the ts/js files hashed.\r\n\r\n### Describe the solution you'd like\r\n\r\n<!-- ✍️--> If you have a solution in mind, please describe it.\r\n\r\n### Describe alternatives you've considered\r\n\r\n<!-- ✍️--> Have you considered any alternative solutions or workarounds?\r\n","Url":"https://github.com/angular/angular-cli/issues/22148","RelatedDescription":"Open issue \"--output-hashing=js only and not the css files\" (#22148)"},{"Id":"1051158711","IsPullRequest":false,"CreatedAt":"2021-11-11T18:48:52","Actor":"Hypocrissy","Number":"22146","RawContent":null,"Title":"[Angular 13] persistent build cache is dependent on absolute folder path of the project","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\n- When any parent folder of a project is renamed, the angular persistent build cache is recreated and will no longer use any \"old\" data\r\n- This makes the cache basically non-existent in any CI scenario where the workspace folder is generated on demand (e.g. DroneCI on Windows)\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\n- Folder: **C:\\angular**\r\n- ng new app\r\n- ng build \r\n<pre>Build at: 2021-11-11T15:53:43.980Z - Hash: d4f16607c301d89a - Time: 16540ms</pre>\r\n- ng build \r\n<pre>Build at: 2021-11-11T15:53:59.406Z - Hash: d4f16607c301d89a - Time: 4076ms</pre>\r\n- Rename: **C:\\angular** --> **C:\\angular2**\r\n- ng build \r\n<pre>Build at: 2021-11-11T15:55:55.631Z - Hash: d4f16607c301d89a - Time: 13954ms</pre>\r\n- ng build \r\n<pre>Build at: 2021-11-11T15:56:08.950Z - Hash: d4f16607c301d89a - Time: 4124ms</pre>\r\n\r\n## 🌍 Your Environment\r\n\r\n<pre><code>\r\nAngular CLI: 13.0.2\r\nNode: 16.13.0\r\nPackage Manager: npm 8.1.0\r\nOS: win32 x64\r\n\r\nAngular: 13.0.1\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1300.2\r\n@angular-devkit/build-angular   13.0.2\r\n@angular-devkit/core            13.0.2\r\n@angular-devkit/schematics      13.0.2\r\n@angular/cli                    13.0.2\r\n@schematics/angular             13.0.2\r\nrxjs                            7.4.0\r\ntypescript                      4.4.4\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/22146","RelatedDescription":"Closed issue \"[Angular 13] persistent build cache is dependent on absolute folder path of the project\" (#22146)"},{"Id":"1050886656","IsPullRequest":false,"CreatedAt":"2021-11-11T12:08:50","Actor":"Sureshc32","Number":"22144","RawContent":null,"Title":"Node-modules\\@ionic-native\\network\\index.js depends on ‘rxjs/add/observable/merge’. CommonJS or AMD dependencies can cause optimization bailouts","State":"closed","Body":"node modules\\ @ionic-native\\network\\index.js depends on ‘rxjs/add/observable/merge’. CommonJS or AMD dependencies can cause optimization bailouts.\r\n\r\nHow to overcome this issue?\r\nI am getting this issue on upgrade to Angular 10. Any suggestions?\r\n\r\nPlacing like this in angular.json clears warning message but How to resolve the actual issue.\r\n“build”: {\r\n“builder”: “@angular-devkit/build-angular:browser”,\r\n“options”: {\r\n“allowedCommonJsDependencies”: [\r\n“rxjs/add/observable/merge”\r\n]","Url":"https://github.com/angular/angular-cli/issues/22144","RelatedDescription":"Closed issue \"Node-modules\\@ionic-native\\network\\index.js depends on ‘rxjs/add/observable/merge’. CommonJS or AMD dependencies can cause optimization bailouts\" (#22144)"},{"Id":"1050676033","IsPullRequest":false,"CreatedAt":"2021-11-11T05:23:45","Actor":"ffadikhan","Number":"22143","RawContent":null,"Title":"Updating angular app from version 12 to version 13.","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncompiler-cli, upgrade\n\n### Is this a regression?\n\nNo\n\n### Description\n\nHi team #angular-cli #nodejs, I am updating my large application from angular 12 to angular 13.\r\nUpdate node version from 14.18.0 to 16.13.0 through nvm. \r\nWhen I excecute command.\r\n**ng update @angular/cli @angular/core --force**\r\nit give mentioned below error.\r\n\r\n **```\r\nPackage successfully installed.\r\nnode:internal/modules/cjs/loader:936\r\n  throw err;\r\n  ^\r\n\r\nError: Cannot find module 'C:\\Users\\Fahad\\AppData\\Local\\Temp\\angular-cli-packages-PAYCCt\\node_modules\\@angular\\cli\\bin\\ng.js''\r\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:933:15)\r\n    at Function.Module._load (node:internal/modules/cjs/loader:778:27)\r\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)\r\n    at node:internal/main/run_main_module:17:47 {\r\n  code: 'MODULE_NOT_FOUND',\r\n  requireStack: []\r\n}\r\n```**\r\nI updated cache  using mentioned below commands but nothing is progress.\r\n\r\n**npm cache verify\r\nnpm cache clean --force**\r\n\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in\n\n```true\nAngular CLI: 13.0.1\r\nNode: 16.13.0\r\nPackage Manager: npm 8.1.0\r\nOS: win32 x64\r\n\r\nAngular:\r\n...\r\n\r\nPackage                      Version\r\n------------------------------------------------------\r\n@angular-devkit/architect    0.1300.1 (cli-only)\r\n@angular-devkit/core         13.0.1 (cli-only)\r\n@angular-devkit/schematics   13.0.1 (cli-only)\r\n@schematics/angular          13.0.1 (cli-only)\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/22143","RelatedDescription":"Open issue \"Updating angular app from version 12 to version 13.\" (#22143)"},{"Id":"1050451665","IsPullRequest":true,"CreatedAt":"2021-11-11T01:10:13","Actor":"josephperrott","Number":"22142","RawContent":null,"Title":"Bump version to \"v13.1.0-next.1\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/22142","RelatedDescription":"Closed or merged PR \"Bump version to \"v13.1.0-next.1\" with changelog.\" (#22142)"}],"ResultType":"GitHubIssue"},"material2-Issues":{"Issues":[{"Id":"1054001590","IsPullRequest":true,"CreatedAt":"2021-11-15T19:30:56","Actor":"josephperrott","Number":"23968","RawContent":null,"Title":"ci: remove `cla: yes` from required labels","State":"closed","Body":"Remove `cla: yes` from the require labels for merging as the CLACheck\r\ntool no longer relies on labels.\r\n\r\nEnforcement of the CLA being signed is still enforced by the status check\r\nwhich is visible both in Github as well as checked by merge tooling.","Url":"https://github.com/angular/components/pull/23968","RelatedDescription":"Closed or merged PR \"ci: remove `cla: yes` from required labels\" (#23968)"},{"Id":"1051415362","IsPullRequest":true,"CreatedAt":"2021-11-15T19:30:40","Actor":"dario-piotrowicz","Number":"23958","RawContent":null,"Title":"refactor(multiple): add non-null assertions first and last","State":"closed","Body":"Angular's QueryList first and last can actually be `undefined`,\r\nalthough this is not reflected by their type\r\n(this is a current bug in Angular: angular/angular#42563)\r\nthis commit adds non-null assertions to first and last references within the codebase\r\nin preparation for solving the Angular bug without causing too many breaking changes\r\n\r\nFor more information see: angular/angular#43604","Url":"https://github.com/angular/components/pull/23958","RelatedDescription":"Closed or merged PR \"refactor(multiple): add non-null assertions first and last\" (#23958)"},{"Id":"1051232697","IsPullRequest":true,"CreatedAt":"2021-11-15T19:30:22","Actor":"josephperrott","Number":"23955","RawContent":null,"Title":"build: update to yarn v1.22.17","State":"closed","Body":"Update to the latest version of yarn, 1.22.17.","Url":"https://github.com/angular/components/pull/23955","RelatedDescription":"Closed or merged PR \"build: update to yarn v1.22.17\" (#23955)"},{"Id":"1051992053","IsPullRequest":true,"CreatedAt":"2021-11-15T19:27:16","Actor":"crisbeto","Number":"23960","RawContent":null,"Title":"refactor(multiple): clean up more ViewEngine-specific code","State":"closed","Body":"Cleans up a bunch of workarounds and docs that were specific to ViewEngine. There are still more places to clean up, but I'm trying to make it easier to track down any potential failures.","Url":"https://github.com/angular/components/pull/23960","RelatedDescription":"Closed or merged PR \"refactor(multiple): clean up more ViewEngine-specific code\" (#23960)"},{"Id":"1053963619","IsPullRequest":true,"CreatedAt":"2021-11-15T18:13:12","Actor":"arturovt","Number":"23967","RawContent":null,"Title":"perf(cdk/a11y): tree-shake warnings in production","State":"open","Body":"","Url":"https://github.com/angular/components/pull/23967","RelatedDescription":"Open PR \"perf(cdk/a11y): tree-shake warnings in production\" (#23967)"},{"Id":"1053296154","IsPullRequest":true,"CreatedAt":"2021-11-15T07:16:50","Actor":"crisbeto","Number":"23966","RawContent":null,"Title":"fix(cdk/drag-drop): remove boundary error","State":"open","Body":"When the boundaries were added to the `drag-drop` module, I assumed that users would always want the element to be contained inside the boundary, but it looks like there are some cases where that's not the case. These changes remove the error.\r\n\r\nFixes #23767.","Url":"https://github.com/angular/components/pull/23966","RelatedDescription":"Open PR \"fix(cdk/drag-drop): remove boundary error\" (#23966)"},{"Id":"1053089185","IsPullRequest":true,"CreatedAt":"2021-11-15T00:31:23","Actor":"arturovt","Number":"23965","RawContent":null,"Title":"perf(material/bottom-sheet): do not run change detection when focusing element","State":"open","Body":"Currently, Angular runs change detection each time the microtask is resolved within the `_savePreviouslyFocusedElement`. It runs `element.focus()` after the microtask is resolved, which is a native DOM API and doesn't require Angular to run `tick()`.","Url":"https://github.com/angular/components/pull/23965","RelatedDescription":"Open PR \"perf(material/bottom-sheet): do not run change detection when focusing element\" (#23965)"},{"Id":"1052964973","IsPullRequest":false,"CreatedAt":"2021-11-14T15:17:30","Actor":"ckorherr","Number":"23964","RawContent":null,"Title":"bug(mat-tab-nav-bar): Having mat-tab-nav-bar on the page breaks harnesses if browser is not visible","State":"open","Body":"### Is this a regression?\r\n\r\n- [ ] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\nI already had the problem with Angular 12, but then couldn't find the reason. \r\n\r\n### Description\r\n\r\nHaving mat-tab-nav-bar on the page breaks harnesses if browser is not visible.\r\n\r\n### Reproduction\r\n\r\nCreating a stackblitz for this problem didn't work, I tried to make the problem locally reproducible as easily as possible:\r\n\r\nSteps to reproduce:\r\n1. create a new Angular project and add Angular Material:\r\n```\r\nng new tabs-test --routing=false --style=scss\r\ncd tabs-test\r\nng add @angular/material\r\n```\r\n\r\n2. add MatTabsModule to app.module.ts\r\n\r\n3. change app.component.html to:\r\n```\r\n<nav mat-tab-nav-bar>\r\n  <a mat-tab-link>\r\n      Test\r\n  </a>\r\n</nav>\r\n```\r\n\r\n\r\n4. create file: app.component.harness.ts with following content:\r\n```\r\nimport { ComponentHarness } from '@angular/cdk/testing';\r\n\r\nexport class AppComponentHarness extends ComponentHarness {\r\n  static readonly hostSelector = 'app-root';\r\n}\r\n```\r\n5. change the content of app.component.spec.ts to:\r\n```\r\nimport { TestbedHarnessEnvironment } from '@angular/cdk/testing/testbed';\r\nimport { TestBed } from '@angular/core/testing';\r\nimport { MatTabsModule } from '@angular/material/tabs';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { NoopAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { AppComponent } from './app.component';\r\nimport { AppComponentHarness } from './app.component.harness';\r\n\r\ndescribe('AppComponent', () => {\r\n  beforeEach(async () => {\r\n    await TestBed.configureTestingModule({\r\n      declarations: [\r\n        AppComponent,\r\n      ],\r\n      imports: [\r\n        BrowserModule,\r\n        NoopAnimationsModule,\r\n        MatTabsModule\r\n      ],\r\n    }).compileComponents();\r\n  });\r\n\r\n  fit('should create the app', async () => {\r\n    const fixture = TestBed.createComponent(AppComponent);\r\n    const harness = await TestbedHarnessEnvironment.harnessForFixture(fixture, AppComponentHarness);\r\n    expect(harness).toBeTruthy();\r\n  });\r\n});\r\n\r\n```\r\n6. run tests\r\n```\r\nng test\r\n```\r\nBy default the browser will pop up and be visible and the test will execute without a problem.\r\n\r\n7. Click refresh on the browser and minimize it or make sure the browser is not visible by hiding it behind another window like vscode\r\n\r\nnow the test will fail with following error:\r\n`Error: Timeout - Async function did not complete within 5000ms (set by jasmine.DEFAULT_TIMEOUT_INTERVAL)`\r\n\r\n### Expected Behavior\r\n\r\nThe tests will succeed even if the browser is not visible.\r\n\r\n### Actual Behavior\r\n\r\nIf the browser is not visible the test will fail with following error:\r\n`Error: Timeout - Async function did not complete within 5000ms (set by jasmine.DEFAULT_TIMEOUT_INTERVAL)`\r\n\r\n### Environment\r\n\r\n- Angular: 13.0.1\r\n- CDK/Material: 13.0.1\r\n- Browser(s): Chrome 95.0.4638.69 (64-Bit)\r\n- Operating System: Windows 10\r\n","Url":"https://github.com/angular/components/issues/23964","RelatedDescription":"Open issue \"bug(mat-tab-nav-bar): Having mat-tab-nav-bar on the page breaks harnesses if browser is not visible\" (#23964)"},{"Id":"1052900561","IsPullRequest":false,"CreatedAt":"2021-11-14T10:14:58","Actor":"mkarg","Number":"23963","RawContent":null,"Title":"feat(theming): Gradients, Static Background Images and Shaders for Themes","State":"open","Body":"### Feature Description\n\nCSS allows to set not only a background color but also a background gradient or image. WebGL allows to even write shaders. The theming API unfortunately does not yet support either. It would be great if theming would not just cover colors, but also would allow to write Angular Themes which set a background image (like a rusty metal surface) or even set a background shader (like floating water). That would make Angular applications look much more modern and cool than just setting a color.\n\n### Use Case\n\nCool applications need to be able to use cool themes.","Url":"https://github.com/angular/components/issues/23963","RelatedDescription":"Open issue \"feat(theming): Gradients, Static Background Images and Shaders for Themes\" (#23963)"},{"Id":"1052845036","IsPullRequest":true,"CreatedAt":"2021-11-14T04:42:51","Actor":"arturovt","Number":"23962","RawContent":null,"Title":"perf(cdk/overlay): add event listeners for overlay dispatchers outside of zone","State":"open","Body":"The `OverlayKeyboardDispatcher` adds a `keydown` event listener, which causes Angular to run change detections on any `keydown` event, tho its listener may behave as a \"noop\" (e.g. if there're no `keydownEvents` observers).\r\n\r\nWith these changes, the Angular zone will be re-entered only if there're any `keydownEvents` listeners.","Url":"https://github.com/angular/components/pull/23962","RelatedDescription":"Open PR \"perf(cdk/overlay): add event listeners for overlay dispatchers outside of zone\" (#23962)"},{"Id":"1052789673","IsPullRequest":false,"CreatedAt":"2021-11-13T22:33:01","Actor":"DerYeger","Number":"23961","RawContent":null,"Title":"bug(scss): import paths have changed","State":"open","Body":"### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\nv12\n\n### Description\n\nIn v12, I used the following import in SCSS files `@use \"~@angular/material\" as mat;`.\r\n\r\nAfter migrating to Angular v13, only the following import works `@use \"@angular/material\" as mat;`.\r\nHowever, Webstorm does not recognize the import.\r\n\n\n### Reproduction\n\nSteps to reproduce:\r\n1.  Migrate to Angular (Material) v13\r\n2.  Use `@use \"~@angular/material\" as mat;`\r\n\n\n### Expected Behavior\n\nOld imports work as expected.\n\n### Actual Behavior\n\nI had to change the import to `@use \"@angular/material\" as mat;`, which causes IDE warnings.\n\n### Environment\n\n- Angular:\r\n- CDK/Material: 13.0.0\r\n- Browser(s): any\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows 11, macOS Monterey\r\n","Url":"https://github.com/angular/components/issues/23961","RelatedDescription":"Open issue \"bug(scss): import paths have changed\" (#23961)"},{"Id":"1051450393","IsPullRequest":true,"CreatedAt":"2021-11-12T00:28:09","Actor":"amysorto","Number":"23959","RawContent":null,"Title":"Bump version to \"v13.1.0-next.1\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/23959","RelatedDescription":"Closed or merged PR \"Bump version to \"v13.1.0-next.1\" with changelog.\" (#23959)"},{"Id":"1051261334","IsPullRequest":true,"CreatedAt":"2021-11-11T18:59:48","Actor":"amysorto","Number":"23957","RawContent":null,"Title":"docs: release notes for the v13.0.1 release","State":"closed","Body":"Cherry-picks the changelog from the \"13.0.x\" branch to the next branch (master).","Url":"https://github.com/angular/components/pull/23957","RelatedDescription":"Closed or merged PR \"docs: release notes for the v13.0.1 release\" (#23957)"},{"Id":"1051246089","IsPullRequest":true,"CreatedAt":"2021-11-11T18:36:28","Actor":"amysorto","Number":"23956","RawContent":null,"Title":"Bump version to \"v13.0.1\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/23956","RelatedDescription":"Closed or merged PR \"Bump version to \"v13.0.1\" with changelog.\" (#23956)"},{"Id":"1050212855","IsPullRequest":true,"CreatedAt":"2021-11-11T18:16:37","Actor":"amysorto","Number":"23941","RawContent":null,"Title":"Bump version to \"v13.0.1\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/23941","RelatedDescription":"Closed or merged PR \"Bump version to \"v13.0.1\" with changelog.\" (#23941)"},{"Id":"1051198128","IsPullRequest":false,"CreatedAt":"2021-11-11T17:18:54","Actor":"isaacguo","Number":"23954","RawContent":null,"Title":"bug(COMPONENT): Table border offsets when scrolling up and down","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nWhen scrolling down the table, table offsets 1px up\r\n![2021-11-11 12 01 08](https://user-images.githubusercontent.com/6295535/141340996-1d54b985-4eca-4847-b8c7-ca1c1fdc8f82.gif)\r\n\r\n\n\n### Reproduction\n\nSteps to reproduce:\r\n1. Go to https://material.angular.io/components/table/examples\r\n2. Locate Table with sticky header\r\n3. Set the table css in DevTools `border: 1px solid red` so that it is easier to notice the issue\r\n4. Scroll down\r\n5. Notice that the table top border also moves up 1px.\r\n6 Scroll all the way down to the bottom\r\n7. Scroll up\r\n8. Notice that the table bottom border also moves down 1px\r\n\n\n### Expected Behavior\n\nTable border should never offset \n\n### Actual Behavior\n\nBorder top and bottom offsets 1px down and up along with the scrolling up and down\r\n\n\n### Environment\n\n- Angular:\r\n- CDK/Material:\r\n- Browser(s):\r\n- Operating System (e.g. Windows, macOS, Ubuntu):\r\n","Url":"https://github.com/angular/components/issues/23954","RelatedDescription":"Open issue \"bug(COMPONENT): Table border offsets when scrolling up and down\" (#23954)"},{"Id":"1051189421","IsPullRequest":false,"CreatedAt":"2021-11-11T17:08:47","Actor":"elenachiosa","Number":"23953","RawContent":null,"Title":"feat(MatSelect): Active state should take into account keyboard versus mouse interaction","State":"open","Body":"### Feature Description\r\n\r\nHello,\r\nWe would like to fully implement accessibility in terms of good color contrast and visible focus states ([WCAG Focus Visible](https://www.w3.org/WAI/WCAG21/Understanding/focus-visible.html)).\r\nWhat we use right now to achieve this is the \":focus-visible\" selector. We also use FocusMonitor from the A11yModule of CDK to create accessible keyboard interaction. FocusMonitor has a neat feature - it adds classes specific to the interaction type that the user uses (e.g. on keyboard interaction, the currently focused item has the \".cdk-keyboard-focus\" class).\r\n\r\nWhat I'd suggest as an improvement to the Select component is to have this difference illustrated in the component, out of the box. At the moment we are styling the \".mat-active\" class in order to have a visible focus state for keyboard users but this looks very odd for mouse users.\r\n\r\n### Use Case\r\n\r\nCurrently, the Select component looks exactly the same for both mouse and keyboard interaction.\r\nStackblitz link with current behavior: https://stackblitz.com/edit/angular-7779kz?file=src%2Fapp%2Fselect-overview-example.html\r\n\r\nWhat we would like to see in the future is the following:\r\nKeyboard interaction with visible outline:\r\n![image](https://user-images.githubusercontent.com/17402311/141339214-746b81b4-785f-45b8-a4a8-28c2d91d7dcb.png)\r\nMouse interaction:\r\n![image](https://user-images.githubusercontent.com/17402311/141339235-d851d543-1c73-4226-ba57-4c90848e581d.png)\r\n","Url":"https://github.com/angular/components/issues/23953","RelatedDescription":"Open issue \"feat(MatSelect): Active state should take into account keyboard versus mouse interaction\" (#23953)"},{"Id":"1051036692","IsPullRequest":true,"CreatedAt":"2021-11-11T16:59:48","Actor":"devversion","Number":"23951","RawContent":null,"Title":"fix(multiple): update to angular v13.0.1 to emit proper partial compilation output","State":"closed","Body":"Updates to Angular v13.0.1 which fixes the partial compilation output\r\nfor `forwardRef` usages in queries. The fixed partial compilation output\r\nwill ensure that Angular CDK/Material works with JIT linking at runtime,\r\nas done in e.g. Jest.\r\n\r\nFix upstream in framework: https://github.com/angular/angular/pull/44113.\r\n\r\nWe will add some testing for the JIT linker to the `angular/components`\r\nrepository with: https://github.com/angular/components/pull/23882. That should help ensuring JIT linking does\r\nnot regress.\r\n\r\nFixes #23907.","Url":"https://github.com/angular/components/pull/23951","RelatedDescription":"Closed or merged PR \"fix(multiple): update to angular v13.0.1 to emit proper partial compilation output\" (#23951)"},{"Id":"1051170527","IsPullRequest":false,"CreatedAt":"2021-11-11T16:47:09","Actor":"paulaustin-automutatio","Number":"23952","RawContent":null,"Title":"MatSelect: Doesn't close on selection change or .close()","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n12.2.12\n\n### Description\n\nWhen clicking on an item in a MatSelect it triggers a selectionChange event. Then normally it closed the overlay panel.\r\n\r\nIn 12.2.13 it doesn't close the overlay panel.\r\n\r\nI added a select.close() to see if manually closing the panel and it doesn't work.\n\n### Reproduction\n\nSteps to reproduce:\r\n1. \r\n2. \r\n\n\n### Expected Behavior\n\n-\n\n### Actual Behavior\n\n-\n\n### Environment\n\n- Angular: 12.2.13\r\n- CDK/Material:12.2.13\r\n- Browser(s):Edge \r\n- Operating System (e.g. Windows, macOS, Ubuntu):Windows\r\n","Url":"https://github.com/angular/components/issues/23952","RelatedDescription":"Open issue \"MatSelect: Doesn't close on selection change or .close()\" (#23952)"},{"Id":"1050721741","IsPullRequest":false,"CreatedAt":"2021-11-11T14:06:37","Actor":"vijhhh2","Number":"23950","RawContent":null,"Title":"feat(DatePicker): Include Timepicker","State":"closed","Body":"### Feature Description\n\nHi Team,\r\nAdd Time picker component to the component list.\r\nCurrent Issue is we need to reach out third party package for TimePicker with material design which is no guarantee when they will stop maintaining the project one I am using is stopped maintain and because of that one component its difficult for to update the my angular projects.\n\n### Use Case\n\nTime picker is used to pick time along with date picker component which eliminates the third party dependency for that particular component","Url":"https://github.com/angular/components/issues/23950","RelatedDescription":"Closed issue \"feat(DatePicker): Include Timepicker\" (#23950)"},{"Id":"1050699180","IsPullRequest":true,"CreatedAt":"2021-11-11T08:27:16","Actor":"crisbeto","Number":"23949","RawContent":null,"Title":"fix(material/form-field): outline gap not recalculated when switching to empty label","State":"open","Body":"We had a condition where `updateOutlineGap` wouldn't do anything if the label is empty. The problem is that the label could start off with content and then switch to being empty.\r\n\r\nThese changes set the gap labels to zero width if the gap element is empty.\r\n\r\nFixes #23943.","Url":"https://github.com/angular/components/pull/23949","RelatedDescription":"Open PR \"fix(material/form-field): outline gap not recalculated when switching to empty label\" (#23949)"},{"Id":"1050677095","IsPullRequest":true,"CreatedAt":"2021-11-11T07:57:21","Actor":"JiriBalcar","Number":"23948","RawContent":null,"Title":"feat(material-luxon-adapter): add option to set first day of week","State":"open","Body":"Add firstDayOfWeek option to be able to change first day of week behaviour through MAT_LUXON_DATE_ADAPTER_OPTIONS","Url":"https://github.com/angular/components/pull/23948","RelatedDescription":"Open PR \"feat(material-luxon-adapter): add option to set first day of week\" (#23948)"},{"Id":"1050452780","IsPullRequest":true,"CreatedAt":"2021-11-11T00:51:06","Actor":"amysorto","Number":"23947","RawContent":null,"Title":"docs: release notes for the v12.2.13 release","State":"closed","Body":"Cherry-picks the changelog from the \"12.2.x\" branch to the next branch (master).","Url":"https://github.com/angular/components/pull/23947","RelatedDescription":"Closed or merged PR \"docs: release notes for the v12.2.13 release\" (#23947)"},{"Id":"1050429211","IsPullRequest":true,"CreatedAt":"2021-11-11T00:21:21","Actor":"amysorto","Number":"23946","RawContent":null,"Title":"Bump version to \"v12.2.13\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/23946","RelatedDescription":"Closed or merged PR \"Bump version to \"v12.2.13\" with changelog.\" (#23946)"},{"Id":"1050413768","IsPullRequest":true,"CreatedAt":"2021-11-10T23:49:52","Actor":"amysorto","Number":"23945","RawContent":null,"Title":"Revert \"Bump version to \"v12.2.13\" with changelog.\"","State":"closed","Body":"Reverts angular/components#23942\r\n\r\nI'll redo the release after this PR is reverted","Url":"https://github.com/angular/components/pull/23945","RelatedDescription":"Closed or merged PR \"Revert \"Bump version to \"v12.2.13\" with changelog.\"\" (#23945)"},{"Id":"1050387826","IsPullRequest":true,"CreatedAt":"2021-11-10T23:25:22","Actor":"josephperrott","Number":"23944","RawContent":null,"Title":"build: update to latest @angular/dev-infra-private to address issues related to verifying environment","State":"closed","Body":"Update to the latest package which properly checks if the running version of ng-dev is the version\r\ndescribed in yarn lock.","Url":"https://github.com/angular/components/pull/23944","RelatedDescription":"Closed or merged PR \"build: update to latest @angular/dev-infra-private to address issues related to verifying environment\" (#23944)"},{"Id":"1050286536","IsPullRequest":false,"CreatedAt":"2021-11-10T20:36:07","Actor":"ko-tori","Number":"23943","RawContent":null,"Title":"bug(mat-form-field): updateOutlineGap does not recalculate when label is changed to be empty","State":"open","Body":"### Description\r\n\r\nSome logic in [updateOutlineGap](https://github.com/angular/components/blob/1267263a83d039a62011ac189cdf81b772a39310/src/material/form-field/form-field.ts#L553-L557) skips recalculation when the label content is falsy. This prevents the outlineGap from updating when the label is cleared. It seems like the same logic also prevents the outline gap from updating when the label is removed altogether. In these cases, instead of just returning, the outline should be restored to default.\r\n\r\n### Reproduction\r\n\r\nhttps://stackblitz.com/edit/angular-nmdjyj\r\n\r\nSteps to reproduce:\r\n1. Have a form-field with appearance=\"outline\" and a mat-label\r\n2. After loading and outline gap is calculated, set the contents of the mat-label to \"\"\r\n\r\n### Expected Behavior\r\n\r\nFocusing the form-field should show no outline gap\r\n\r\n### Actual Behavior\r\n\r\nFocusing the form-field should shows an outline gap\r\n\r\n### Environment\r\n\r\n- Angular:\r\n- CDK/Material:\r\n- Browser(s):\r\n- Operating System (e.g. Windows, macOS, Ubuntu):\r\n","Url":"https://github.com/angular/components/issues/23943","RelatedDescription":"Open issue \"bug(mat-form-field): updateOutlineGap does not recalculate when label is changed to be empty\" (#23943)"},{"Id":"1050224870","IsPullRequest":true,"CreatedAt":"2021-11-10T20:00:18","Actor":"amysorto","Number":"23942","RawContent":null,"Title":"Bump version to \"v12.2.13\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/23942","RelatedDescription":"Closed or merged PR \"Bump version to \"v12.2.13\" with changelog.\" (#23942)"},{"Id":"1050116306","IsPullRequest":true,"CreatedAt":"2021-11-10T19:35:04","Actor":"devversion","Number":"23939","RawContent":null,"Title":"Test partial compilation forwardRef changes","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/23939","RelatedDescription":"Closed or merged PR \"Test partial compilation forwardRef changes\" (#23939)"},{"Id":"1050121506","IsPullRequest":false,"CreatedAt":"2021-11-10T17:43:39","Actor":"elias89","Number":"23940","RawContent":null,"Title":"help(form-field): Scaling on the floating label","State":"open","Body":"### What are you trying to do?\r\n\r\nCustomize the size of the angular material form field labels. \r\n\r\nI've noticed that Angular Material uses transform scale to change form field labels which might be annoying since if you set a custom font-size from the implementation side it won't reflect the real size you set since it's scaled. \r\nIs there a proper way to customize that and avoid having to override the scale or use a bigger font-size? I'm just trying to understand the reasons why Material uses scaling to change the font-size. \r\n\r\nIt's here: https://github.com/angular/components/blob/40f0674e3959d53cd6413cf3a5c30053ca0973d9/src/material/form-field/_form-field-theme.scss#L142\r\n\r\nUsed from:\r\nhttps://github.com/angular/components/blob/40f0674e3959d53cd6413cf3a5c30053ca0973d9/src/material/form-field/_form-field-theme.scss#L127\r\nhttps://github.com/angular/components/blob/40f0674e3959d53cd6413cf3a5c30053ca0973d9/src/material/form-field/_form-field-theme.scss#L203\r\n\r\n### What troubleshooting steps have you tried?\r\n\r\nChanging labels size via font-size\r\n\r\n### Reproduction\r\n\r\nSteps to reproduce:\r\n1. Inspect the material form field labels.\r\n\r\n\r\n### Environment\r\n\r\n- Angular Material: Latest","Url":"https://github.com/angular/components/issues/23940","RelatedDescription":"Open issue \"help(form-field): Scaling on the floating label\" (#23940)"}],"ResultType":"GitHubIssue"}},"RunOn":"2021-11-16T05:30:07.2845342Z","RunDurationInMilliseconds":2002}