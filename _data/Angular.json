{"Data":{"Angular-Issues":{"Issues":[{"Id":"742850142","IsPullRequest":false,"CreatedAt":"2020-11-13T23:32:14","Actor":"mhevery","Number":"39684","RawContent":null,"Title":"`@Input`/`@Output` prevents property tree shaking in Ivy and Closure Compiler","State":"open","Body":"HackMD doc: [@Input/@Output prevents tree shaking in Ivy](https://hackmd.io/@mhevery/Hkk6KtrED)\r\n\r\nNOTE: to keep it simple we will be discussing `@Input` only, but all of these statements will apply to `@Output` equally\r\n\r\n## Problem Statement\r\n\r\n`@Input` creates non-tree shakable code in Ivy. Assume this:\r\n\r\n```typescript=\r\n@Directive({\r\n  selector: [`[greet]`]\r\n})\r\nclass MyDir {\r\n\r\n  @Input('name') _name: string;\r\n  @Input('title') set salutation(value: string) {\r\n    this._salutation = value;\r\n  }\r\n}\r\n```\r\n\r\nWill result in:\r\n```typescript=\r\nclass MyDir {\r\n  static ɵdir = defineDirective({\r\n    ...\r\n    inputs: {\r\n      _name: 'name',\r\n      salutation: 'title',\r\n    }\r\n  });\r\n}\r\n```\r\n\r\nWhen closure-compiler see the `input: {_name..., salutation}` it sees it defined as `any` and so it is forced to assume that the `_name` and `salutation` symbols are defined and therefore could be used to read `MyDir._name` (or `MyDir.salutation`), which is exactly what the Ivy run-time does. For this reason closure-compiler can not remove these properties. Because the properties can be getters/setters there could be quite a lot of code which can be retained even if no one is using it.\r\n\r\n### Why not a problem in ViewEngine.\r\n\r\nIn ViewEngine this was not an issue because the compiler would generate direct access code. Assume usage like so:\r\n```\r\n<div greet [name]=\"exp\">\r\n```\r\n\r\nIn ViweEngine we would generate something like this:\r\n```typescript=\r\nconst myDir:MyDir = ...;\r\n// Notice that `[name]` binding gets translated to `_name`\r\nmyDir._name = exp;\r\n```\r\n\r\nNotice:\r\n- That the `[name]` binding get translated to `._name` assignment. No mapping objects is needed.\r\n- That there is no `.salutation` and therefore closure-compiler can safely remove the the `salutation` getter.\r\n\r\n\r\n# Proposed Solution for Ivy\r\n\r\nReplace the `inputs` property with facade which provides support for public/private name impedance matching. \r\n\r\nAssuming usage:\r\n```\r\n<div greet [name]=\"exp\">\r\n```\r\n\r\nthe generated code is\r\n\r\n```\r\nɵɵproperty('name', exp);\r\n```\r\n\r\nNotice:\r\n- The `'name'` string literal. This prevents:\r\n  1. Tree-shaking as closure compiler can't see that `'name'` string literal is mapped to `MyDir._name`. \r\n  2. Property mangling as closure does not know that `'name'` string literal can be mangled.\r\n  3. Performance as internally Ivy has to run `dir['_name'] = exp` which is megamorphic read/write.\r\n\r\nInstead we should generate this code:\r\n\r\n```typescript=\r\nɵɵbindingCtx().name = exp;\r\n\r\n```\r\nNotice:\r\n- No string literals are generated, allowing for full tree shaking and property mangling.\r\n- `name` is the public API name (not `_name`); (This requires public/private name matching);\r\n\r\nThe above code requires that we generate a facade in `defineDirective` like so:\r\n```typescript=\r\nclass MyDir {\r\n  static ɵdir = defineDirective({\r\n    ...,\r\n    facade: class extends ɵFacade {\r\n      set name(v: typeof MyDir._name) {this.ɵ._name = v;}\r\n      set title(v: typeof MyDir.salutation) {this.ɵ.salutation = v;}\r\n      // If we would have `@Output` then we would have to generate getters for `@Output`.\r\n    } \r\n  });\r\n}\r\n```\r\n\r\nThe purpose of the facade is to translate the public API with internal API, so that the locality can be preserved as property renaming will become implementation detail of the directive.\r\n\r\nNOTE: The `facade` does not need to be generated if the public API and private APIs match (There is no `@Inpupt`, `@Output` renaming, which is the most common case). [Providing further size savings.]\r\n\r\n## Complications\r\n\r\nThe above is simplified / idealized version of the run-time. There are few complications which should be taken into considerations. These are:\r\n- Binding to element when no property is present. \r\n- Merging when more than one directive is present.\r\n- Handling unmangled names in `ngOnChanges`.\r\n\r\nFor the next examples assume these directives:\r\n\r\n```typescript=\r\n@Directive({selector: ['dirId']})\r\nclass DirId {\r\n  @Input() id: string;\r\n}\r\n\r\n@Directive({selector: ['dirIdTitle']})\r\nclass DirIdTitle {\r\n  @Input() id: string;\r\n  @Input() title: string;\r\n}\r\n```\r\n\r\n### Element disambiguation \r\n\r\nConsider: `<div id=\"abc\" [title]=\"exp\">`. With no directives present the template function may looks something like this:\r\n\r\n```typescript=\r\n// create\r\nɵelement(0, 'div', ['id', 'abc'])\r\n\r\n// update\r\nɵproperty(0, 'title', exp);\r\n```\r\n\r\nNow consider the same DOM with directive present: `<div dirId  id=\"abc\" [title]=\"exp\">`\r\n```typescript=\r\n// create\r\nɵelement(0, 'div', ['id', 'abc'])\r\n// The issue is that we can't write into `DriId.id` beacause we don't have\r\n// `id` as a symbol. We only have `'id'` as a string literal. Which means \r\n// that we can't do `dirId['id']` as this will not survive closure \r\n// property renaming. We need to do `dirId.id` instead, but we don't have \r\n// `id` as symbol. (Closure could have renamed `id` to `f` in which caes \r\n// `dirId['id']` would cause wrong runtime behavior)\r\n\r\n\r\n// update\r\nɵproperty(0, 'title', exp);\r\n```\r\n\r\nThere really is no easy way to resolve this issue with the current runtime / code generation. The only way is to change the code generate so that we perform directive resolution at compile instead. This has already been discussed and is something which we want to do. So let's look at what the generated code should be so that we can handle the above case properly.\r\n\r\nLet's assume `<div dirIdTitle id=\"abc\" [title]=\"exp\">`:\r\n\r\n```typescript=\r\n// create\r\nɵelementStart(0, 'div', ['id', 'abc'])\r\n  ɵdirective(1, DirIdTitle).id = 'abc';\r\nɵelementEnd();\r\n\r\n// update\r\n// Supressed because DirIdTitle shadows this binding\r\n// ɵproperty(0, 'title', exp); // NOT GENERATED\r\nɵbind(tmp = exp) && ɵdirective(1).title = tmp;\r\n```\r\n\r\n### Merge Facade\r\n\r\nNow let's assume that we have two directives like so: `<div dirId dirIdTitle [id]=\"exp1\" [title]=\"exp2\">`\r\n\r\nThe generated code needs to be:\r\n\r\n```typescript=\r\nɵelementStart(0, 'div')\r\n  ɵdirective(1, DirId);\r\n  ɵdirective(2, DirIdTitle);\r\nɵelementEnd();\r\n\r\n// update\r\nɵbind(tmp = exp1) && ɵdirective(1).id = ɵdirective(2).id = tmp;\r\nɵbind(tmp = exp2) && ɵdirective(2).title = tmp;\r\n```\r\n\r\nNotice:\r\n- We rely on the compiler to tell the runtime where all of the bindings end up. This removes a lot of logic from the runtime which will improve size and runtime performance.\r\n- The directives shadow the property writes.\r\n\r\nIt is important to understand the the compiler is already resolving all of the directives. This most be so for the purposes of type checking.  So writing this information out will in no way change the current locality constraints. If the compiler will resolve all write destinations than we can rewrite the simple case of writing to DOM properties in this way\r\n\r\nGiven: `<div id=\"abc\" [title]=\"exp\">`\r\n\r\ngenerated code:\r\n```typescript=\r\n// create\r\nɵelement(0, 'div', ['id', 'abc'])\r\n\r\n// update\r\nɵbind(tmp = exp) && ɵelement(0).title = tmp;\r\n```\r\n\r\nNotice:\r\n- The above bindings in now consistent with the way directives are bound\r\n- The new biding is now monomorphic further increasing the runtime performance. \r\n\r\n\r\n### `ngOnChanges` Facade\r\n\r\nAssume:\r\n```typescript=\r\n@Directive({selector: 'dir'})\r\nclass Dir {\r\n  @Input() name;\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    // WRONG: This is the wrong way to read `SimpleChanges` because \r\n    // closure compiler may rename `name` symbol.\r\n    console.log(changes.name);\r\n    \r\n    // WRONG: This is the correct way to read `SimpleChanges` because \r\n    // closure compiler will not rename `name` symbol.\r\n    console.log(changes['name']);\r\n  }\r\n}\r\n```\r\n\r\nIn the above case the `SimpleChanges` reads must not be mangled. (This was a design mistake, but we are stuck with it now.) In the above generated code we need a mapping from the symbol to string literal. This can be achieved with facade like so:\r\n\r\n```typescript=\r\nclass Dir {\r\n  static ɵdir = defineDirective({\r\n    ...\r\n    facade: class extends ɵFacade {\r\n      set name(v: typeof MyDir.name) {\r\n        ɵngOnChangesSet(this, 'name', this.ɵ.name = v);\r\n      }\r\n    } \r\n  });\r\n}\r\n```\r\n\r\nThe `ɵset()` method can be used to bring back the `'name'` string literal while at the same time not breaking tree shaking for closure.\r\n\r\n\r\n### Circular dependency problem\r\nSee [The Cycle Problem](https://hackmd.io/Odw80D0pR6yfsOjg_7XCJg?view). That problem will have to be solved before this issue can be resolved. The solution seems to be to just store directives in the `const` array and refer to them by index. This solution is outside of the scope of this issue.\r\n\r\n\r\n### Selectors\r\n\r\nBecause we are letting the compiler resolve where the directives are located, we no longer need to serialize the selectors into runtime. Resulting in further size savings (both variable as well as fixed) as well as runtime resolution saving.\r\n\r\n### Remove `ɵadvance` instruction\r\n\r\nBecause we can now refer to elements and directives with `ɵelement` and `ɵdirective` we no longer need to use `ɵadvance` instruction, as it can now be implicitly included.\r\n\r\n## Work breakdown \r\n\r\n- [ ] Compiler\r\n    - [ ] Fix the [The Cycle Problem](https://hackmd.io/@alx/SJvoyZctI)\r\n    - [ ] Have compiler match directives (this should already be done because compiler does type checking)\r\n    - [ ] Have compiler generate new instructions which explicitly deal with correct bindings.\r\n- [ ] Runtime\r\n    - [ ] Introduce `ɵelement` and `ɵdirective` instructions to retrieve existing element/directives respectively.\r\n    - [ ] Break `ɵelementStart` into instruction which creates an element and instruction which allocates directive as we no longer need to do runtime directive / selector resolution. \r\n    - [ ] Refactor to take advantage of the facades as proposed.\r\n\r\n\r\n## Can we have a partial solution?\r\n\r\nThe above is non-trivial amount of work. The question arises if we could have some partial solution which would allow us to fix the tree-shaking without doing all of the work to the compiler. Unfortunately the answer is no, because without the compiler to resolve which binding goes where it is not possible at runtime to determine the routing. The only way the runtime can do routing of properties is if it knows about all of the properties which in turn will prevent closure compiler from tree shaking. So this seems to be all or nothing proposition. \r\n\r\n\r\n----\r\nplayground: https://stackblitz.com/edit/angular-ivy-rvzvyg\r\n","Url":"https://github.com/angular/angular/issues/39684","RelatedDescription":"Open issue \"`@Input`/`@Output` prevents property tree shaking in Ivy and Closure Compiler\" (#39684)"},{"Id":"742830196","IsPullRequest":false,"CreatedAt":"2020-11-13T22:52:11","Actor":"xiaoxiangmoe","Number":"39682","RawContent":null,"Title":"Support Control flow analysis in angular template","State":"closed","Body":"\r\n\r\n```ts\r\nimport { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  template: `\r\n    <ng-container *ngIf=\"field.type === 'string'; else elseTemplate\">\r\n      {{ field.value }}\r\n    </ng-container>\r\n    <ng-template #elseTemplate>\r\n      {{ field.value }}\r\n    </ng-template>\r\n    `,\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n  field:\r\n  | {\r\n    type: 'number',\r\n    value: number,\r\n  }\r\n  | {\r\n    type: 'string',\r\n    value: string,\r\n  } = {\r\n    type: 'string',\r\n    value: 'str',\r\n  };\r\n}\r\n```\r\n\r\nThe first `field.value` should have type `string` and the last should have type `number`. But in `angular.ng-template v0.1000.1`  both of these have type `string | number`","Url":"https://github.com/angular/angular/issues/39682","RelatedDescription":"Closed issue \"Support Control flow analysis in angular template\" (#39682)"},{"Id":"741832437","IsPullRequest":true,"CreatedAt":"2020-11-13T21:40:35","Actor":"josephperrott","Number":"39655","RawContent":null,"Title":"ci: update angular-robot config for L2 triage of PRs","State":"closed","Body":"With the update to our labeling scheme across the repository, the L2 triage\r\nlabels for PRs needs to be updated to no longer require a label type which\r\ndoesn't exist: `type: *`\r\n","Url":"https://github.com/angular/angular/pull/39655","RelatedDescription":"Closed or merged PR \"ci: update angular-robot config for L2 triage of PRs\" (#39655)"},{"Id":"742797805","IsPullRequest":true,"CreatedAt":"2020-11-13T21:24:53","Actor":"kapunahelewong","Number":"39681","RawContent":null,"Title":"docs: edit getting started start-forms.md","State":"open","Body":"Copy edits of  `start-forms.md`.","Url":"https://github.com/angular/angular/pull/39681","RelatedDescription":"Open PR \"docs: edit getting started start-forms.md\" (#39681)"},{"Id":"741956318","IsPullRequest":true,"CreatedAt":"2020-11-13T19:57:32","Actor":"alxhub","Number":"39662","RawContent":null,"Title":"fix(compiler-cli): setComponentScope should only list used components/pipes","State":"closed","Body":"ngtsc will avoid emitting generated imports that would create an import\r\ncycle in the user's program. The main way such imports can arise is when\r\na component would ordinarily reference its dependencies in its component\r\ndefinition `directiveDefs` and `pipeDefs`. This requires adding imports,\r\nwhich run the risk of creating a cycle.\r\n\r\nWhen ngtsc detects that adding such an import would cause this to occur, it\r\ninstead falls back on a strategy called \"remote scoping\", where a side-\r\neffectful call to `setComponentScope` in the component's NgModule file is\r\nused to patch `directiveDefs` and `pipeDefs` onto the component. Since the\r\nNgModule file already imports all of the component's dependencies (to\r\ndeclare them in the NgModule), this approach does not risk adding a cycle.\r\nIt has several large downsides, however:\r\n\r\n1. it breaks under `sideEffects: false` logic in bundlers including the CLI\r\n2. it breaks tree-shaking for the given component and its dependencies\r\n\r\nIn particular, the impact on tree-shaking was exacerbated by the naive logic\r\nngtsc used to employ here. When this feature was implemented, at the time of\r\ngenerating the side-effectful `setComponentScope` call, the compiler did not\r\nknow which of the component's declared dependencies were actually used in\r\nits template. This meant that unlike the generation of `directiveDefs` in\r\nthe component definition itself, `setComponentScope` calls had to list the\r\n_entire_ compilation scope of the component's NgModule, including directives\r\nand pipes which were not actually used in the template. This made the tree-\r\nshaking impact much worse, since if the component's NgModule made use of any\r\nshared NgModules (e.g. `CommonModule`), every declaration therein would\r\nbecome un-treeshakable.\r\n\r\nToday, ngtsc does have the information on which directives/pipes are\r\nactually used in the template, but this was not being used during the remote\r\nscoping operation. This commit modifies remote scoping to take advantage of\r\nthe extra context and only list used dependencies in `setComponentScope`\r\ncalls, which should ameliorate the tree-shaking impact somewhat.\r\n","Url":"https://github.com/angular/angular/pull/39662","RelatedDescription":"Closed or merged PR \"fix(compiler-cli): setComponentScope should only list used components/pipes\" (#39662)"},{"Id":"742272954","IsPullRequest":true,"CreatedAt":"2020-11-13T19:25:47","Actor":"yallen011","Number":"39670","RawContent":null,"Title":"docs(docs-infra): remove link to constructor article","State":"closed","Body":"remove the link to the article called Flaw: Constructor does real work by Misko\r\n\r\nFixes #39106\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\nWhen you click on the link, you are directed to http://misko.hevery.com/code-reviewers-guide/flaw-constructor-does-real-work/  where you will see an error that says \"Error establishing a database connection\"\r\n\r\nIssue Number: #39106 \r\n\r\n## What is the new behavior? \r\nThe link and verbiage has been removed completely as per @aikidave instruction\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/39670","RelatedDescription":"Closed or merged PR \"docs(docs-infra): remove link to constructor article\" (#39670)"},{"Id":"742646746","IsPullRequest":true,"CreatedAt":"2020-11-13T17:42:42","Actor":"codef0rmer","Number":"39680","RawContent":null,"Title":"docs: Angular + NgRx book by the asian BPB Publications","State":"open","Body":"Beginners, as well as Experienced Angular developers who want to write sustainable Angular applications over time, will benefit from this book. This book is for anyone interested in State Management with NgRx in Angular.\r\n\r\n","Url":"https://github.com/angular/angular/pull/39680","RelatedDescription":"Open PR \"docs: Angular + NgRx book by the asian BPB Publications\" (#39680)"},{"Id":"742636156","IsPullRequest":true,"CreatedAt":"2020-11-13T17:30:47","Actor":"ayazhafiz","Number":"39679","RawContent":null,"Title":"Compiler \"neverEmit\" mode for faster turnarounds on external template updates","State":"open","Body":"See individual commits for details, and https://docs.google.com/document/d/1l1UUMC4vzrIqY1-S_jJ-LT-iJJWEVZcDhcUP8yJlubg/edit?usp=sharing.\r\n\r\nPart one of streamlining incremental builds + diagnostics for the language service, and sunsetting `overrideTemplate` on the template typechecker.","Url":"https://github.com/angular/angular/pull/39679","RelatedDescription":"Open PR \"Compiler \"neverEmit\" mode for faster turnarounds on external template updates\" (#39679)"},{"Id":"742594050","IsPullRequest":false,"CreatedAt":"2020-11-13T16:58:46","Actor":"pauldraper","Number":"39678","RawContent":null,"Title":"Untyped compilation (transpileModule equivalent)","State":"closed","Body":"\r\n# 🚀 feature request\r\n\r\n### Relevant Package\r\n\r\n@angular/core\r\n\r\n### Description\r\n\r\nAngular compilation is slow. Make it faster.\r\n\r\n### Describe the solution you'd like\r\n\r\nBoth TypeScript and React (TSX) can compile much, much faster (like 10x) with ts.transpileModule.\r\n\r\nThis just transpiles, without loading other modules or running type verification.\r\n\r\nAFAIK, no similar feature exists for Angular.\r\n\r\n### Describe alternatives you've considered\r\n\r\nWaiting for the compiler to finish.","Url":"https://github.com/angular/angular/issues/39678","RelatedDescription":"Closed issue \"Untyped compilation (transpileModule equivalent)\" (#39678)"},{"Id":"742006501","IsPullRequest":false,"CreatedAt":"2020-11-13T12:51:22","Actor":"crh225","Number":"39663","RawContent":null,"Title":"angular upgrade website doesnt have the material upgrade command","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n# 📚 Docs or angular.io bug report\r\n\r\n### Description\r\n\r\n<!-- ✍️edit:--> A clear and concise description of the problem...\r\nIf I go here https://update.angular.io/?v=10.0-11.0 and tick I use angular material I dont see the upgrade command for material to angular 11\r\n\r\n## 🔬 Minimal Reproduction\r\n go here https://update.angular.io/?v=10.0-11.0 and tick I use angular material\r\n### What's the affected URL?**\r\n<!-- ✍️edit:--> https://angular.io/...\r\nhttps://update.angular.io/?v=10.0-11.0\r\n### Reproduction Steps**\r\n<!-- If applicable please list the steps to take to reproduce the issue -->\r\n<!-- ✍️edit:-->\r\nIf I go here https://update.angular.io/?v=10.0-11.0 and tick I use angular material I dont see the upgrade command for material to angular 11\r\n### Expected vs Actual Behavior**\r\n<!-- If applicable please describe the difference between the expected and actual behavior after following the repro steps. -->\r\n<!-- ✍️edit:-->\r\na command that says ng upgrade @angular/material\r\n\r\n## 📷Screenshot\r\n<!-- Often a screenshot can help to capture the issue better than a long description. -->\r\n<!-- ✍️upload a screenshot:-->\r\n![image](https://user-images.githubusercontent.com/19475195/99009259-540ef100-250d-11eb-9406-ef67c5b18800.png)\r\n\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ✍️-->\r\n\r\n</code></pre>\r\n\r\n\r\n## 🌍  Your Environment\r\n\r\n### Browser info\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the device, browser, and version. -->\r\n\r\n### Anything else relevant?\r\n<!-- ✍️Please provide additional info if necessary. -->\r\n","Url":"https://github.com/angular/angular/issues/39663","RelatedDescription":"Closed issue \"angular upgrade website doesnt have the material upgrade command\" (#39663)"},{"Id":"742417258","IsPullRequest":false,"CreatedAt":"2020-11-13T12:32:56","Actor":"AziAli181","Number":"39675","RawContent":null,"Title":"Azo","State":"closed","Body":"🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑\n\nPlease read https://angular.io/guide/security#report-issues on how to disclose security related issues.\n\n🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑","Url":"https://github.com/angular/angular/issues/39675","RelatedDescription":"Closed issue \"Azo\" (#39675)"},{"Id":"742384389","IsPullRequest":false,"CreatedAt":"2020-11-13T11:45:59","Actor":"jayjupdhig","Number":"39674","RawContent":null,"Title":"S1086: An accessor cannot be declared in an ambient context.","State":"closed","Body":"Hi there!!\r\n\r\nI try to build an ngx-admin-based angular web app that was created by one of your former employee. The time he has developed that project was from March 2019 to April 2019.\r\n\r\nSo i think he used Node.JS v10.x. \r\n\r\nAnd, so i saw, the 10.x Version of NodeJS is still supported & developed, last version is from October 2020:\r\nhttps://nodejs.org/en/download/releases/\r\n\r\nAnd that's the version i tried to build with - without any success.\r\n\r\n\r\n\r\nMy steps:\r\n\r\nBefore uninstalling the current version (it tried ALL of them, not just v10.x -> v11.x, v12.x, v13.x, v14.x, v15.x), i genereally execute that windows batches:\r\n\r\nall.bat:\r\n\r\n```\r\n@echo on\r\n\r\ncall clean_before_uninstall.bat\r\ncall npm_uninstall.bat\r\n\r\nrunas /profile /savecred /env /user:WORKGROUP\\user1 \"C:\\Tools\\NPM_clean\\clean_after_uninstall.bat\"\r\n```\r\n\r\n\r\nclean_before_uninstall.bat\r\n\r\n```\r\n@echo on\r\ncls\r\n\r\n@echo off\r\nrem call npm_function.bat npm uninstall cordova-plugin-build-architecture\r\nrem timeout /T 2 /nobreak > nul 2>&1\r\n\r\nrem call npm_function.bat npm uninstall -g native-run\r\nrem timeout /T 2 /nobreak > nul 2>&1\r\n\r\nrem call npm_function.bat npm uninstall -g cordova\r\nrem timeout /T 2 /nobreak > nul 2>&1\r\n\r\nrem call npm_function.bat npm uninstall -g @ionic/cli\r\nrem timeout /T 2 /nobreak > nul 2>&1\r\n@echo on\r\n\r\n\r\ncall npm_function.bat npm cache clean --force > nul 2>&1\r\ntimeout /T 2 /nobreak > nul 2>&1\r\n\r\ncall npm_function.bat npm uninstall -g windows-build-tools > nul 2>&1\r\ntimeout /T 2 /nobreak > nul 2>&1\r\n\r\ncall npm_function.bat npm uninstall -g @angular/cli > nul 2>&1\r\ntimeout /T 2 /nobreak > nul 2>&1\r\n\r\ncall delete_npm_directories.bat\r\n```\r\n\r\n\r\n\r\ndelete_npm_directories.bat:\r\n\r\n```\r\n@echo on\r\n\r\nrd /s /q \"C:\\Users\\%USERNAME%\\AppData\\Roaming\\npm\" > nul 2>&1\r\ntimeout /T 2 /nobreak > nul 2>&1\r\n\r\nrd /s /q \"C:\\Users\\%USERNAME%\\AppData\\Roaming\\npm-cache\" > nul 2>&1\r\ntimeout /T 2 /nobreak > nul 2>&1\r\n\r\ndel /f /q \"C:\\Users\\%USERNAME%\\AppData\\Local\\Temp\\npm-*\" > nul 2>&1\r\n\r\nif exist \"C:\\Users\\%USERNAME%\\.windows-build-tools\" (\r\n  timeout /T 2 /nobreak > nul 2>&1\r\n  rd /s /q \"C:\\Users\\%USERNAME%\\.windows-build-tools\" > nul 2>&1\r\n)\r\n\r\npause\r\n```\r\n\r\n\r\nnpm_uninstall.bat (depends what version is installed), which uninstalls node.js:\r\n\r\n```\r\n@echo on\r\n\r\nMsiExec.exe /i {43342FBE-702A-4921-B19C-131087A3264B} > nul 2>&1\r\nMsiExec.exe /i {86D77F05-3A56-4240-B704-128C4B5E73FD} > nul 2>&1\r\nMsiExec.exe /i {6483D1C8-84CF-4BDE-8CFA-F1B11D7FE1E6} > nul 2>&1\r\n\r\npause\r\n```\r\n\r\n\r\n\r\nafter node.js uninstall, i also run clean_after_uninstall.bat:\r\n\r\n```\r\n@echo on\r\ncls\r\n\r\ndel /f /q /s \"C:\\Program Files\\nodejs\\*.*\" > nul 2>&1\r\ntimeout /T 2 /nobreak > nul 2>&1\r\n\r\nrmdir /q /s \"C:\\Program Files\\nodejs\" > nul 2>&1\r\n\r\npause\r\n```\r\n\r\n\r\n\r\nThen i installed many different NodeJS versions (almost everything, as already said).\r\n\r\nAfter that i do that standard steps:\r\n\r\n```\r\n1.) npm install -g npm\r\n2.) npm install -g @angular/cli\r\n3.) cd PROJECT_FOLDER\r\n4.) npm install\r\n5.) ng build\r\n```\r\n\r\n\r\nThen i get that errors in red font in console:\r\n\r\n1.) ERROR in node_modules/ng2-ckeditor/ckeditor.component.d.ts(34,9): error TS1086: An accessor cannot be declared in an ambient context.\r\n2.) node_modules/ng2-ckeditor/ckeditor.component.d.ts(35,9): error TS1086: An accessor cannot be declared in an ambient context.\r\n\r\nThank you for your feedbacks.\r\n\r\n\r\nI just want to change a (one) resource text entry - but i'm on that issue since monday. Now, it's firday and my chief gets insane soon...\r\n\r\nThank you for your feedbacks.\r\n\r\n\r\nWith best regards from Switzerland,\r\nJan","Url":"https://github.com/angular/angular/issues/39674","RelatedDescription":"Closed issue \"S1086: An accessor cannot be declared in an ambient context.\" (#39674)"},{"Id":"742370300","IsPullRequest":false,"CreatedAt":"2020-11-13T11:13:49","Actor":"Hasnainkhankqs","Number":"39673","RawContent":null,"Title":"angular build not working properly with flexLayout or angular Material","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ✍️edit: --> The issue is caused by package @angular/....\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> Yes, the previous version in which this bug was not present was: ....\r\n\r\n\r\n### Description\r\n\r\n<!-- ✍️--> A clear and concise description of the problem...\r\n\r\n\r\n## 🔬 Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-ivy\r\n-->\r\n<!-- ✍️--> https://stackblitz.com/...\r\n\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem.\r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ✍️-->\r\n\r\n</code></pre>\r\n\r\n\r\n## 🌍  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular/issues/39673","RelatedDescription":"Closed issue \"angular build not working properly with flexLayout or angular Material\" (#39673)"},{"Id":"742355098","IsPullRequest":false,"CreatedAt":"2020-11-13T10:45:12","Actor":"regnete","Number":"39672","RawContent":null,"Title":"IE11 - Function.prototype.toString: 'this' is not a Function object","State":"open","Body":"This issue is pending since a long time and I know that support for IE 11 is not in your primary focus. But this issue is a showstoper for angular on IE 11.\r\n\r\nThe issue occurs whenever window is extended.\r\n\r\nThe steps to reproduce were _Originally posted by @hansmaad in https://github.com/angular/angular/issues/31678#issuecomment-622976785_\r\n\r\nI shifted them up to the current level:\r\n\r\nFollow these steps to reproduce:\r\n\r\n```\r\nnpm i @angular/cli\r\nng new repro --directory .\r\n```\r\n\r\nadd IE 11 to browserlist\r\n\r\nAdd a module:\r\n```\r\nng g m test\r\n```\r\nDefine the module as:\r\n\r\n```\r\nimport {Injectable, ModuleWithProviders, NgModule} from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nInjectable()\r\nexport class WindowWrapper extends Window {\r\n}\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [],\r\n})\r\nexport class TestModule {\r\n  static forRoot(): ModuleWithProviders<any> {\r\n    return {\r\n      ngModule: TestModule,\r\n      providers: [\r\n        {\r\n          provide: WindowWrapper,\r\n          useValue: window\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\nImport the module in AppModule (just add the following line ad the end)\r\n\r\n```\r\nTestModule.forRoot()\r\n```\r\n\r\n```\r\nnpm run build\r\nnpx live-server ./dist/repro\r\n```\r\n\r\nopen in IE 11\r\n\r\n\r\nSystem Info:\r\n\r\nAngular CLI: 11.0.1\r\nNode: 10.21.0\r\nOS: win32 x64\r\n\r\nAngular: 11.0.0\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1100.1\r\n@angular-devkit/build-angular   0.1100.1\r\n@angular-devkit/core            11.0.1\r\n@angular-devkit/schematics      11.0.1\r\n@angular/cli                    11.0.1\r\n@schematics/angular             11.0.1\r\n@schematics/update              0.1100.1\r\nrxjs                            6.6.3\r\ntypescript                      4.0.5\r\n\r\n\r\n\r\nIt would be great if someone could provide a solution or workarround for this.","Url":"https://github.com/angular/angular/issues/39672","RelatedDescription":"Open issue \"IE11 - Function.prototype.toString: 'this' is not a Function object\" (#39672)"},{"Id":"742350495","IsPullRequest":false,"CreatedAt":"2020-11-13T10:37:41","Actor":"kamilchlebek","Number":"39671","RawContent":null,"Title":"ng extract-i18n extracts incorrect `equiv-text` value","State":"open","Body":"# 🐞 bug report\r\n\r\n### Affected Package\r\nThe issue is caused by package @angular/localize\r\n\r\n\r\n### Is this a regression?\r\n\r\nYes, the previous version in which this bug was not present was: v10\r\n\r\n\r\n### Description\r\n\r\nComponent template (it's usually formatted like this by prettier):\r\n```\r\n<div i18n>\r\n  test {{ title }}\r\n</div>\r\n```\r\n\r\nRunning `ng xi18n` in angular v10, produced output that contained `source` element that looked:\r\n```\r\n<source>\r\n   test <x id=\"INTERPOLATION\" equiv-text=\"{{ title }}\"/>\r\n</source> \r\n```\r\n\r\nNow after running `ng extract-i18n` it's:\r\n```\r\n<source> test <x id=\"INTERPOLATION\" equiv-text=\"t {{ title \"/>\r\n</source>\r\n```\r\n\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\nhttps://github.com/kamilchlebek/equiv-text-angular11 (see `messages.xlf`)\r\n\r\n\r\n## 🌍  Your Environment \r\n\r\n(it's a brand new project created using `ng new`)\r\n\r\n**Angular Version:**\r\n<pre><code>Angular CLI: 11.0.1\r\nNode: 12.16.1\r\nOS: linux x64\r\n\r\nAngular: 11.0.0\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... localize, platform-browser, platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1100.1\r\n@angular-devkit/build-angular   0.1100.1\r\n@angular-devkit/core            11.0.1\r\n@angular-devkit/schematics      11.0.1\r\n@angular/cli                    11.0.1\r\n@schematics/angular             11.0.1\r\n@schematics/update              0.1100.1\r\nrxjs                            6.6.3\r\ntypescript                      4.0.5\r\n</code></pre>\r\n\r\n\r\n","Url":"https://github.com/angular/angular/issues/39671","RelatedDescription":"Open issue \"ng extract-i18n extracts incorrect `equiv-text` value\" (#39671)"},{"Id":"742249010","IsPullRequest":true,"CreatedAt":"2020-11-13T08:09:42","Actor":"petebacondarwin","Number":"39669","RawContent":null,"Title":"refactor(core): remove isObservable TODO","State":"open","Body":"This commit removes the TODO comment that proposed\r\nthat we use the built-in RxJS `isObservable()` function.\r\n\r\nThis is not a viable approach since the built-in function\r\nrequires that the `obj` contains additional methods that\r\nour \"observable\" types (such as `EventEmitter`) do not\r\nnecessarily have.\r\n\r\nSee #39643 for more information.\r\n","Url":"https://github.com/angular/angular/pull/39669","RelatedDescription":"Open PR \"refactor(core): remove isObservable TODO\" (#39669)"},{"Id":"742020959","IsPullRequest":true,"CreatedAt":"2020-11-13T00:53:25","Actor":"atscott","Number":"39666","RawContent":null,"Title":"ci: fix payload size","State":"closed","Body":"caused by merging that PR to the patch branch:\r\nhttps://app.circleci.com/pipelines/github/angular/angular/24532/workflows/418c0d30-a281-472c-8517-a5248ad94a38/jobs/856574\r\n","Url":"https://github.com/angular/angular/pull/39666","RelatedDescription":"Closed or merged PR \"ci: fix payload size\" (#39666)"},{"Id":"742025992","IsPullRequest":true,"CreatedAt":"2020-11-13T00:25:31","Actor":"josephperrott","Number":"39667","RawContent":null,"Title":"Bump version to \"v11.0.1\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular/pull/39667","RelatedDescription":"Closed or merged PR \"Bump version to \"v11.0.1\" with changelog.\" (#39667)"},{"Id":"742015214","IsPullRequest":true,"CreatedAt":"2020-11-12T23:56:29","Actor":"atscott","Number":"39665","RawContent":null,"Title":"refactor(compiler-cli): Add additional key/value spans to TCB","State":"open","Body":"In order to more accurately map from a node in the TCB to a template position,\r\nwe need to provide more span information in the TCB. These changes are necessary\r\nfor the Language Service to map from a TCB node back to a specific\r\nlocations in the template for actions like \"find references\" and\r\n\"refactor/rename\". After the TS \"find references\" returns results,\r\nincluding those in the TCB, we need to map specifically to the matching\r\nkey/value spans in the template rather than the entire source span.\r\n\r\nThis also has the benefit of producing diagnostics which align more\r\nclosely with what TypeScript produces.\r\nThe following example shows TS code and the diagnostic produced by an invalid assignment to a property:\r\n\r\n```\r\nlet a: {age: number} = {} as any;\r\na.age = 'laksjdf';\r\n^^^^^ <-- Type 'string' is not assignable to type 'number'.\r\n```\r\nA corollary to this in a template file would be [age]=\"'someString'\". The diagnostic we currently produce for this is:\r\n\r\n```\r\nType 'number' is not assignable to type 'string'.\r\n\r\n1 <app-hello [greeting]=\"1\"></app-hello>\r\n             ~~~~~~~~~~~~~~\r\n```\r\nNotice that the underlined text includes the entire span.\r\nIf we included the keySpan for the assignment to the property,\r\nthis diagnostic underline would be more similar to the one produced by TypeScript;\r\nthat is, it would only underline “greeting”.\r\n\r\n[design/discussion doc](https://docs.google.com/document/d/1FtaHdVL805wKe4E6FxVTnVHl38lICoHIjS2nThtRJ6I/edit?usp=sharing)\r\n","Url":"https://github.com/angular/angular/pull/39665","RelatedDescription":"Open PR \"refactor(compiler-cli): Add additional key/value spans to TCB\" (#39665)"},{"Id":"742013225","IsPullRequest":true,"CreatedAt":"2020-11-12T23:51:09","Actor":"Licanueto","Number":"39664","RawContent":null,"Title":"docs: fixes on paragraph","State":"open","Body":"The paragraph titled \"Specifying a component's CSS selector\" is missing a word (I went with \"appear\"), has \"angular\" spelled with lowercase 'a', and has, unnecessary commas.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/39664","RelatedDescription":"Open PR \"docs: fixes on paragraph\" (#39664)"},{"Id":"741840557","IsPullRequest":true,"CreatedAt":"2020-11-12T21:53:21","Actor":"alan-agius4","Number":"39656","RawContent":null,"Title":"docs: clarify what we inline when font optimization is enabled","State":"closed","Body":"Previously it wasn't clear that we only inline CSS definitions and not the resource\r\n","Url":"https://github.com/angular/angular/pull/39656","RelatedDescription":"Closed or merged PR \"docs: clarify what we inline when font optimization is enabled\" (#39656)"},{"Id":"741854084","IsPullRequest":false,"CreatedAt":"2020-11-12T21:47:04","Actor":"LifeIsStrange","Number":"39658","RawContent":null,"Title":"Scoped automatic change detection","State":"closed","Body":"My company and I really want to like angular, to migrate from Vue to Angular but in the migration process we found out an inherent unacceptable flaw in this framework:\r\n\r\nIn Vue when a component has changes (e.g the user click on a button in the component), the reactivity autodetection mechanism will trigger changes on the component and its children/descendants.\r\nThe OnChanges hook and the methods in the templates will be refreshed. \r\n\r\nAngular instead by using Zone.js will trigger all the things that Vue rightfully trigger *but* they will trigger all of the component ancestors too! Up to the root! \r\nThis means two things:\r\n1)\r\nYou can't debug this mess as any method in the template or onchanges hook in the ancestors will be triggered and console.log() so the Devtools are flooded with unrelated changes.\r\nIf you call a Store action on the template the store debugger will be flooded too.\r\n2)\r\nAnd all those calls affect performance dramatically which is pure unwanted nonsense.\r\n\r\nSo to sum it up, because of this behavior we have\r\n1) unacceptable observability/debugability because of a significantly reduced signal to noise ratio in logging.\r\n2) unacceptable performance loss by recomputing things that shouldn't be recomputed \r\n\r\nThis non Scoped reactivity might have usefulness for 0.1% of cases (or for 0%?) but even at best, it should be totally opt-in. \r\nBut the situation is worse, as you cannot opt out. \r\nOr you can, with changedetection.onpush which disable any reactivity (you must manually trigger it in 2020, can you imagine?)\r\n\r\nThis (sorry for the word) nonsense made us forced to stay on Vue until Angular fix this fundamental issue.\r\n\r\nMore on the topic:\r\nhttps://medium.com/@vyaron/point-of-vue-part-2-facing-angular-e4e9ee65161d\r\n\r\nThis seems to me too big to be true so I have hope in your answers.\r\nThanks in advance ","Url":"https://github.com/angular/angular/issues/39658","RelatedDescription":"Closed issue \"Scoped automatic change detection\" (#39658)"},{"Id":"741947165","IsPullRequest":true,"CreatedAt":"2020-11-12T21:41:12","Actor":"petebacondarwin","Number":"39661","RawContent":null,"Title":"test(compiler-cli): migrate initial i18n compliance tests ","State":"open","Body":"Builds on #39617","Url":"https://github.com/angular/angular/pull/39661","RelatedDescription":"Open PR \"test(compiler-cli): migrate initial i18n compliance tests \" (#39661)"},{"Id":"741909588","IsPullRequest":false,"CreatedAt":"2020-11-12T20:47:11","Actor":"joaodforce","Number":"39660","RawContent":null,"Title":"Compilation breaks after update to 11 `Duplicate identifier`","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ✍️edit: --> The issue is caused by package @angular/core or the Angular Compiler\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> Yes, building apps with my library worked normally at least on Angular 9\r\n\r\n\r\n### Description\r\n\r\nBasically what happened is that I updated my own Angular Library to Angular 11, by itself and using the library's built in test project all worked normally. The issue Started happening when I updated the client app that uses this library, I had to update it to Angular 11 as well, all went ok, but after I tried to run it, it started spitting those `Duplicated Identifier` errors.\r\n\r\nAt first I thought the issue was my project, that maybe I screwed something up on the update process, so I created a clean \r\nnew project, just imported my library and did a minimum setup to get it running and right away the same errors appeared.\r\n\r\nI pasted the snippets of the errors happening bellow.\r\n\r\n## 🔬 Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-ivy\r\n-->\r\nhttps://github.com/joaodforce/angular-11-test\r\nI made this simple project that install my Angular Library and imports its module, Simply `npm install` it and `npm start` it, the issue will appear.\r\nConsidering the Lib Itself builds and runs fine on its own I'm pretty confident the issue is related with the compiler on the client Application.\r\n\r\nThere will also be some errors related to some `strings.json` files, but those are unrelated to the matter at hand.\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem.\r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ✍️-->\r\nstatic ɵfac: ɵngcc0.ɵɵFactoryDef<TableBuiderComponent, never>;\r\n              ~~~~\r\nnode_modules/fre-base-components/lib/dynamic-base-builder/dynamic-base-builder.component.d.ts:37:12 - error TS2300: Duplicate identifier 'ɵfac'.\r\n\r\n37     static ɵfac: ɵngcc0.ɵɵFactoryDef<BaseBuiderComponent, never>;39m\r\n              ~~~~\r\nnode_modules/fre-base-components/lib/dynamic-alter-builder/dynamic-alter-builder.component.d.ts:32:12 - error TS2300: Duplicate identifier 'ɵfac'.\r\n\r\n32     static ɵfac: ɵngcc0.ɵɵFactoryDef<AlterBuilderComponent, never>;\r\n              ~~~~\r\nnode_modules/fre-base-components/lib/dynamic-nav-builder/dynamic-nav-builder.component.d.ts:18:12 - error TS2300: Duplicate identifier 'ɵfac'.\r\n\r\n18     static ɵfac: ɵngcc0.ɵɵFactoryDef<NavigationBuilderComponent, never>;\r\n              ~~~~\r\nnode_modules/fre-base-components/lib/dynamic-login-builder/dynamic-login-builder.component.d.ts:21:12 - error TS2300: Duplicate identifier 'ɵfac'.\r\n\r\n21     static ɵfac: ɵngcc0.ɵɵFactoryDef<DynamicLoginBuilderComponent, never>;\r\n              ~~~~\r\nnode_modules/fre-base-components/lib/dynamic-report-builder/dynamic-report-builder.component.d.ts:26:12 - error TS2300: Duplicate identifier 'ɵfac'.\r\n\r\n26     static ɵfac: ɵngcc0.ɵɵFactoryDef<ReportBuilderComponent, never>;\r\n</code></pre>\r\n\r\n\r\n## 🌍  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\nAngular CLI: 11.0.0\r\nNode: 12.16.1\r\nOS: darwin x64\r\n\r\nAngular: 11.0.0\r\n... animations, cdk, cli, common, compiler, compiler-cli, core\r\n... forms, material, material-moment-adapter, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1100.0\r\n@angular-devkit/build-angular   0.1100.0\r\n@angular-devkit/core            11.0.0\r\n@angular-devkit/schematics      11.0.0\r\n@angular/flex-layout            10.0.0-beta.32\r\n@schematics/angular             11.0.0\r\n@schematics/update              0.1100.0\r\nrxjs                            6.6.3\r\ntypescript                      4.0.5\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\nI did some examining on the errors, and noticed something.\r\nAfter I did `NPM Install` The typing files of the library are normal, matching the ones stored on its repository. BUT after I did `npm start` the files were changed. Bellow its the before and after the Angular Compiler touched it.\r\n\r\nBefore `npm start`:\r\n<img width=\"970\" alt=\"Captura de Tela 2020-11-12 às 16 26 35\" src=\"https://user-images.githubusercontent.com/9410916/98992938-8bc96900-250c-11eb-8059-d892786a2499.png\">\r\n\r\nAfter `npm start`:\r\n<img width=\"964\" alt=\"Captura de Tela 2020-11-12 às 16 28 11\" src=\"https://user-images.githubusercontent.com/9410916/98992952-8ec45980-250c-11eb-985b-035f9345a871.png\">\r\n\r\nAlso the closest thing I found that could be related to my issue is this https://github.com/angular/angular/issues/35095 but it is relatively old so it might be an issue that was reintroduced.","Url":"https://github.com/angular/angular/issues/39660","RelatedDescription":"Closed issue \"Compilation breaks after update to 11 `Duplicate identifier`\" (#39660)"},{"Id":"741824161","IsPullRequest":false,"CreatedAt":"2020-11-12T18:22:05","Actor":"julmot","Number":"39654","RawContent":null,"Title":"extract-i18n generates wrong interpolation equiv-text in v11","State":"open","Body":"# 🐞 bug report\r\n\r\n\r\n### Is this a regression?\r\n\r\nThis was working in Angular v10.2.3.\r\n\r\n\r\n### Description\r\n\r\nAngular doesn't seem to generate the correct interpolation `equiv-text` attributes anymore in Angular v11. When running extract-i18n it previously generated for example:\r\n\r\n```xml\r\n<source>(<x id=\"INTERPOLATION\" equiv-text=\"{{ start }}\"/>–<x id=\"INTERPOLATION_1\" equiv-text=\"{{ calculatedEnd }}\"/> / <x id=\"INTERPOLATION_2\" equiv-text=\"{{ totalCount }}\"/> results)</source>\r\n```\r\n\r\nnow it generates:\r\n\r\n```xml\r\n<source>(<x id=\"INTERPOLATION\" equiv-text=\"amMap): void { \"/>–<x id=\"INTERPOLATION_1\" equiv-text=\"usually be a pa\"/> / <x id=\"INTERPOLATION_2\" equiv-text=\"ince it doesn't\"/> results)</source>\r\n```\r\n\r\nI have no clue where e.g. the equiv-text `ince it doesn't` is coming from, that string doesn't even exist in my app at all.\r\n\r\n\r\n\r\n## 🌍  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 11.0.0\r\nNode: 12.16.3\r\nOS: win32 x64\r\n\r\nAngular: 11.0.0\r\n... animations, cli, common, compiler, compiler-cli, core\r\n... elements, forms, language-service, localize\r\n... platform-browser, platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1100.0 (cli-only)\r\n@angular-devkit/build-angular   0.1100.0\r\n@angular-devkit/core            11.0.0 (cli-only)\r\n@angular-devkit/schematics      11.0.0\r\n@schematics/angular             11.0.0\r\n@schematics/update              0.1100.0\r\nng-packagr                      11.0.2\r\nrxjs                            6.6.3\r\ntypescript                      4.0.5\r\n</code></pre>","Url":"https://github.com/angular/angular/issues/39654","RelatedDescription":"Open issue \"extract-i18n generates wrong interpolation equiv-text in v11\" (#39654)"},{"Id":"741796284","IsPullRequest":false,"CreatedAt":"2020-11-12T17:50:18","Actor":"Sam-Lin-MillersLab","Number":"39653","RawContent":null,"Title":"SwUpdate doesn't check update  on each navigation request in chrome","State":"closed","Body":"# 🐞 bug report\r\n\r\n### Affected Package\r\n@angular/pwa\r\n\r\n### Is this a regression?\r\n\r\nnot sure\r\n\r\n### Description\r\nhttps://angular.io/guide/service-worker-communications\r\n\r\nIt states, \r\n\r\n> The service worker checks for updates during initialization and on each navigation request\r\n\r\nIt doesn't work in latest Chrome or Edge \r\n\r\nBut it does work in Firefox\r\n\r\n\r\n## 🌍  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1002.0\r\n@angular-devkit/build-angular   0.1002.0\r\n@angular-devkit/core            10.2.0\r\n@angular-devkit/schematics      10.2.0\r\n@angular/cdk                    10.2.7\r\n@angular/cli                    10.2.0\r\n@angular/material               10.2.7\r\n@schematics/angular             10.2.0\r\n@schematics/update              0.1002.0\r\nrxjs                            6.6.3\r\ntypescript                      4.0.5\r\n</code></pre>\r\n","Url":"https://github.com/angular/angular/issues/39653","RelatedDescription":"Closed issue \"SwUpdate doesn't check update  on each navigation request in chrome\" (#39653)"},{"Id":"741786407","IsPullRequest":false,"CreatedAt":"2020-11-12T17:26:31","Actor":"Sam-Lin-MillersLab","Number":"39652","RawContent":null,"Title":"Service worker doesn't check update on each navigation request","State":"open","Body":"# 🐞 bug report\r\n\r\n### Affected Package\r\n@angular/pwa\r\n\r\n### Is this a regression?\r\n\r\nnot sure\r\n\r\n### Description\r\n\r\nhttps://angular.io/guide/service-worker-communications\r\n\r\nIn the document, it states \r\n\r\n> The service worker checks for updates during initialization and on each navigation request\r\n\r\nHowever, I tested it with \r\nChrome  86.0.4240.183  and Edge 86.0.622.63\r\n\r\nHowever it does work in Firefox 82.0.3\r\n## 🌍  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1002.0\r\n@angular-devkit/build-angular   0.1002.0\r\n@angular-devkit/core            10.2.0\r\n@angular-devkit/schematics      10.2.0\r\n@angular/cdk                    10.2.7\r\n@angular/cli                    10.2.0\r\n@angular/material               10.2.7\r\n@schematics/angular             10.2.0\r\n@schematics/update              0.1002.0\r\nrxjs                            6.6.3\r\ntypescript                      4.0.5\r\n</code></pre>","Url":"https://github.com/angular/angular/issues/39652","RelatedDescription":"Open issue \"Service worker doesn't check update on each navigation request\" (#39652)"},{"Id":"741726958","IsPullRequest":true,"CreatedAt":"2020-11-12T16:08:13","Actor":"gkalpak","Number":"39651","RawContent":null,"Title":"fix(docs-infra): support recovering from unrecoverable SW states","State":"open","Body":"_This sits on top of (and therefore is blocked by) #39600._\r\n\r\n##\r\nOccasionally, the SW would end up in a broken state where some of the eagerly cached resources of an older version were available in the local cache, but others (such as lazy-loaded bundles) were not. This would leave the app in a broken state and a blank screen would be displayed. See #28114 for a more detailed discussion.\r\n\r\nThis commit takes advantage of the newly introduced (in v11) [SwUpdate#unrecoverable][1] API to detect these bad states and recover by doing a full page reload whenever an [UnrecoverableStateEvent][2] is emitted.\r\n\r\nPartially addresses #28114.\r\n\r\nNOTE:\r\nCurrently, `SwUpdate.unrecoverable` only works if the app has already bootstrapped; i.e. if only lazy-loaded bundles have been purged from the cache.\r\nThat should be fine in practice, since the cache entries are removed in least-recently-used order. Thus the eagerly loaded bundles will be the last to be removed from the cache (which rarely happens in practice).\r\n\r\n[1]: https://v11.angular.io/api/service-worker/SwUpdate#unrecoverable\r\n[2]: https://v11.angular.io/api/service-worker/UnrecoverableStateEvent","Url":"https://github.com/angular/angular/pull/39651","RelatedDescription":"Open PR \"fix(docs-infra): support recovering from unrecoverable SW states\" (#39651)"},{"Id":"741724215","IsPullRequest":false,"CreatedAt":"2020-11-12T16:04:45","Actor":"MasDevProject","Number":"39650","RawContent":null,"Title":"Error navigating to secondary router-outlet from lazy loaded module","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 bug report\r\n\r\n### Affected Package\r\nAngular router\r\n\r\n\r\n### Is this a regression?\r\nI don't think so\r\n\r\n\r\n### Description\r\nI'm trying to display at the same time two routes: the primary one and an named router-outlet.\r\nIt work using only eager navigation, but with lazy loaded module it breaks.\r\n\r\n## 🔬 Minimal Reproduction\r\nhttps://stackblitz.com/edit/angular-router-auxilary-issue-6djzwp\r\n\r\n## 🔥 Exception or Error\r\nThe error in described here: https://stackblitz.com/edit/angular-router-auxilary-issue-6djzwp?file=src%2Fapp%2Fhome%2Fhome.module.ts\r\n\r\n\r\n## 🌍  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nI tried on Angular 8, 9, 10\r\n</code></pre>","Url":"https://github.com/angular/angular/issues/39650","RelatedDescription":"Open issue \"Error navigating to secondary router-outlet from lazy loaded module\" (#39650)"},{"Id":"742831204","IsPullRequest":false,"CreatedAt":"2020-02-08T05:38:58","Actor":"johnpapa","Number":"39683","RawContent":null,"Title":"Allow Setting a Breakpoint in templates","State":"open","Body":"","Url":"https://github.com/angular/angular/issues/39683","RelatedDescription":"Open issue \"Allow Setting a Breakpoint in templates\" (#39683)"}],"ResultType":"GitHubIssue"},"AngularCli-Issues":{"Issues":[{"Id":"741859952","IsPullRequest":false,"CreatedAt":"2020-11-14T00:23:39","Actor":"derekkite","Number":"19365","RawContent":null,"Title":"Development websocket failing with complex build environment","State":"closed","Body":"\r\n\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [x] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\nYes, the previous version in which this bug was not present was: < v11. V11 changed in some way that it doesn't work\r\n\r\n\r\n### Description\r\n\r\nng serve directly from the source folder serves and the dev websocket connects without issue.\r\n\r\nI have a docker image that installs @angular/cli, then is configures in docker-compose:\r\n\r\nangular:\r\n    container_name: angular\r\n    build:\r\n      context: .\r\n      dockerfile: Dockerfile.angular\r\n    ports:\r\n      - \"4200\"\r\n    volumes:\r\n      - .:/usr/src/app\r\n    command: ng serve  --host 0.0.0.0\r\n\r\nThen my nginx configuration for  the / path\r\n\r\nlocation / {\r\n        auth_request /oauth2/auth;\r\n      \terror_page 401 = /oauth2/sign_in;\r\n        proxy_set_header Upgrade $http_upgrade;\r\n        proxy_set_header Connection \"upgrade\";\r\n        proxy_set_header Host $host;\r\n        proxy_pass http://angular_cli;\r\n    }\r\n\r\nhttp://angular_cli being\r\n upstream angular_cli {\r\n             server angular:4200;\r\n        }\r\n\r\nWhich has worked very well up to v11. Now I am getting [WDS] Disconnected! error in the browser console.\r\n\r\nAny idea what has changed?\r\n\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\n\r\n\r\n## 🌍 Your Environment\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\nAngular CLI: 11.0.0\r\nNode: 14.5.0\r\nOS: linux x64\r\n\r\nAngular: 11.0.0\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: <error>\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.1001.7\r\n@angular-devkit/build-angular      0.1100.0\r\n@angular-devkit/core               11.0.0\r\n@angular-devkit/schematics         11.0.0\r\n@angular/cdk                       10.2.7\r\n@angular/flex-layout               10.0.0-beta.32\r\n@angular/material                  10.2.7\r\n@angular/material-moment-adapter   10.2.7\r\n@schematics/angular                10.1.7\r\n@schematics/update                 0.1100.0\r\nrxjs                               6.6.3\r\ntypescript                         4.0.3\r\n\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\nuname -a\r\nLinux 122a6c848caa 5.9.0-1-amd64 #1 SMP Debian 5.9.1-1 (2020-10-17) x86_64 GNU/Linux\r\n\r\nhosted on Debian linux.\r\n","Url":"https://github.com/angular/angular-cli/issues/19365","RelatedDescription":"Closed issue \"Development websocket failing with complex build environment\" (#19365)"},{"Id":"742184798","IsPullRequest":true,"CreatedAt":"2020-11-13T23:56:48","Actor":"renovate[bot]","Number":"19368","RawContent":null,"Title":"build: update angular packages","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@angular/animations](https://togithub.com/angular/animations-builds) | dependencies | digest | [`43dba18` -> `c113544`](https://renovatebot.com/diffs/npm/@angular%2fanimations//) |\n| [@angular/cdk](https://togithub.com/angular/cdk-builds) | dependencies | digest | [`bf6c95a` -> `38d4ab2`](https://renovatebot.com/diffs/npm/@angular%2fcdk//) |\n| [@angular/common](https://togithub.com/angular/common-builds) | dependencies | digest | [`a389ba6` -> `b66e271`](https://renovatebot.com/diffs/npm/@angular%2fcommon//) |\n| [@angular/compiler](https://togithub.com/angular/compiler-builds) | dependencies | digest | [`41b4955` -> `986d60a`](https://renovatebot.com/diffs/npm/@angular%2fcompiler//) |\n| [@angular/compiler-cli](https://togithub.com/angular/compiler-cli-builds) | dependencies | digest | [`bbe25bb` -> `8b0ed49`](https://renovatebot.com/diffs/npm/@angular%2fcompiler-cli//) |\n| [@angular/core](https://togithub.com/angular/core-builds) | dependencies | digest | [`0b34bb9` -> `5ae518b`](https://renovatebot.com/diffs/npm/@angular%2fcore//) |\n| [@angular/dev-infra-private](https://togithub.com/angular/dev-infra-private-builds) | devDependencies | digest | [`2e52b55` -> `bcb4760`](https://renovatebot.com/diffs/npm/@angular%2fdev-infra-private//) |\n| [@angular/forms](https://togithub.com/angular/forms-builds) | dependencies | digest | [`f60c704` -> `0335254`](https://renovatebot.com/diffs/npm/@angular%2fforms//) |\n| [@angular/language-service](https://togithub.com/angular/language-service-builds) | dependencies | digest | [`6b4607a` -> `c5f8ddc`](https://renovatebot.com/diffs/npm/@angular%2flanguage-service//) |\n| [@angular/localize](https://togithub.com/angular/localize-builds) | dependencies | digest | [`63b8b57` -> `ae98e50`](https://renovatebot.com/diffs/npm/@angular%2flocalize//) |\n| [@angular/material](https://togithub.com/angular/material2-builds) | dependencies | digest | [`0727c30` -> `ed65ccf`](https://renovatebot.com/diffs/npm/@angular%2fmaterial//) |\n| [@angular/material-moment-adapter](https://togithub.com/angular/material-moment-adapter-builds) | dependencies | digest | [`c637670` -> `2e4d03b`](https://renovatebot.com/diffs/npm/@angular%2fmaterial-moment-adapter//) |\n| [@angular/platform-browser](https://togithub.com/angular/platform-browser-builds) | dependencies | digest | [`0445373` -> `1e9dbea`](https://renovatebot.com/diffs/npm/@angular%2fplatform-browser//) |\n| [@angular/platform-browser-dynamic](https://togithub.com/angular/platform-browser-dynamic-builds) | dependencies | digest | [`7b80c57` -> `c83b1eb`](https://renovatebot.com/diffs/npm/@angular%2fplatform-browser-dynamic//) |\n| [@angular/platform-server](https://togithub.com/angular/platform-server-builds) | dependencies | digest | [`ee8ed0d` -> `221fa5d`](https://renovatebot.com/diffs/npm/@angular%2fplatform-server//) |\n| [@angular/router](https://togithub.com/angular/router-builds) | dependencies | digest | [`ed35c1c` -> `d6d1ba1`](https://renovatebot.com/diffs/npm/@angular%2frouter//) |\n\n:abcd: If you wish to disable git hash updates, add `\":disableDigestUpdates\"` to the extends array in your config.\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:ghost: **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/renovatebot/config-help/issues) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/19368","RelatedDescription":"Closed or merged PR \"build: update angular packages\" (#19368)"},{"Id":"742835734","IsPullRequest":true,"CreatedAt":"2020-11-13T22:51:04","Actor":"mhartington","Number":"19386","RawContent":null,"Title":"fix(@angular-devkit/build-angular): ignore hidden inputs with hmr","State":"open","Body":"Don't query for hidden inputs when using HMR","Url":"https://github.com/angular/angular-cli/pull/19386","RelatedDescription":"Open PR \"fix(@angular-devkit/build-angular): ignore hidden inputs with hmr\" (#19386)"},{"Id":"742825064","IsPullRequest":false,"CreatedAt":"2020-11-13T22:23:20","Actor":"mhartington","Number":"19385","RawContent":null,"Title":"HMR with Ionic causes inputs to not be restored","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [x] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> Yes, the previous version in which this bug was not present was: ....\r\nNo, as HMR did not exist 😄 \r\n\r\n### Description\r\n\r\n<!-- ✍️--> A clear and concise description of the problem...\r\nWhile serving an app with Ionic and HMR enabled, if certain Ionic components are present in the DOM, HMR is not able to save and restore input values. This is because certain ionic components make use of hidden inputs. \r\n\r\n\r\nAs hmr-accept.ts gets updates, it queries for all inputs in the dom, including the hidden ones. After the dom is rebuilt, the hidden input in Ionic is not rendered, causing a mismatch in the old/new inputs.  Since the inputs do not match, it currently just prints a warning to the dev tools\r\n\r\n```\r\n    else if (oldInputs.length) {\r\n        console.warn('[NG HMR] Cannot restore input/textarea values.');\r\n    }\r\n```\r\n\r\n\r\nA PR to address this is on it's way 😬\r\n\r\n## 🔬 Minimal Reproduction\r\nhttps://github.com/mhartington/hrm-ionic-test\r\n\r\n\r\n\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ✍️-->\r\n\r\n</code></pre>\r\n\r\n\r\n## 🌍 Your Environment\r\n<pre><code>\r\n$ ng version\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n\r\n\r\nAngular CLI: 11.0.1\r\nNode: 12.16.1\r\nOS: darwin x64\r\n\r\nAngular: 11.0.0\r\n... common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1100.1\r\n@angular-devkit/build-angular   0.1100.1\r\n@angular-devkit/core            10.0.8\r\n@angular-devkit/schematics      10.0.8\r\n@angular/cli                    11.0.1\r\n@schematics/angular             10.0.8\r\n@schematics/update              0.1100.1\r\nrxjs                            6.5.5\r\ntypescript                      4.0.5\r\n\r\n</code></pre>\r\n\r\n","Url":"https://github.com/angular/angular-cli/issues/19385","RelatedDescription":"Open issue \"HMR with Ionic causes inputs to not be restored\" (#19385)"},{"Id":"742822720","IsPullRequest":false,"CreatedAt":"2020-11-13T22:17:39","Actor":"crfrolik","Number":"19384","RawContent":null,"Title":"Package \"@angular-devkit/build-ng-packagr\" has an incompatible peer dependency to \"ng-packagr\"","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [x] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> Yes, the previous version in which this bug was not present was: ....\r\n\r\nNot sure.\r\n\r\n### Description\r\n\r\n<!-- ✍️--> A clear and concise description of the problem...\r\n\r\n```\r\n$ ng update @angular-devkit/build-angular @angular/cli @angular/core\r\n\r\n                  Package \"@angular-devkit/build-ng-packagr\" has an incompatible peer dependency to \"ng-packagr\" (requires \"^10.0.0\", would install \"11.0.2\").\r\n```\r\n\r\n\r\n## 🌍 Your Environment\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\nAngular CLI: 11.0.1\r\nNode: 14.4.0\r\nOS: win32 x64\r\n\r\nAngular: 11.0.0\r\n... animations, common, compiler, compiler-cli, core, elements\r\n... forms, language-service, platform-browser\r\n... platform-browser-dynamic, platform-server, router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1100.1\r\n@angular-devkit/build-angular   0.1100.1\r\n@angular-devkit/core            11.0.1\r\n@angular-devkit/schematics      11.0.1\r\n@angular/cli                    11.0.1\r\n@schematics/angular             11.0.1\r\n@schematics/update              0.1100.1\r\nng-packagr                      11.0.2\r\nrxjs                            6.6.3\r\ntypescript                      4.0.5\r\nwebpack                         4.44.2\r\n</code></pre>\r\n","Url":"https://github.com/angular/angular-cli/issues/19384","RelatedDescription":"Open issue \"Package \"@angular-devkit/build-ng-packagr\" has an incompatible peer dependency to \"ng-packagr\"\" (#19384)"},{"Id":"742821829","IsPullRequest":true,"CreatedAt":"2020-11-13T22:15:31","Actor":"clydin","Number":"19383","RawContent":null,"Title":"Schematic workflow option transforms improvements","State":"open","Body":"Closes #19363","Url":"https://github.com/angular/angular-cli/pull/19383","RelatedDescription":"Open PR \"Schematic workflow option transforms improvements\" (#19383)"},{"Id":"742438446","IsPullRequest":true,"CreatedAt":"2020-11-13T20:53:16","Actor":"alan-agius4","Number":"19379","RawContent":null,"Title":"fix(@angular-devkit/build-angular) allow json files in fileReplacement","State":"closed","Body":"JSON files a can also be valid fileReplacement when using the `resolveJsonModule` TypeScript feature. This causes JSON files to be resolved as JS modules and hence be part of the TypeScript program.\r\n\r\nCloses #19378","Url":"https://github.com/angular/angular-cli/pull/19379","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular) allow json files in fileReplacement\" (#19379)"},{"Id":"742427936","IsPullRequest":false,"CreatedAt":"2020-11-13T20:53:15","Actor":"mlc-mlapis","Number":"19378","RawContent":null,"Title":"Schema validation rejects *.json files in fileReplacements (Regression in 11.0.0 & 11.0.1)","State":"closed","Body":"# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n- [x] build\r\n- [x] serve\r\n\r\n### Is this a regression?\r\n\r\n<!-- ✍️--> Yes, the previous version in which this bug was not present was: 10.2.3\r\n\r\n### Description\r\n\r\nThere are new changes in files `.\\node_modules\\@angular-devkit\\build-angular\\src\\browser\\schema.json` and `.\\node_modules\\@angular-devkit\\build-angular\\src\\server\\schema.json` that restrict using *.json files in `fileReplacements` operations that were always available in previous versions.\r\n\r\nThese *.json files are normally used as configuration settings in the same way as *.ts files for different environments with the advantage that they are more easily parsable as standard JSON in the different platforms than TS.\r\n\r\nThere are no reasons why the new restriction should exist, and it's also unclear why it was changed at all.\r\n\r\nNew changes are:\r\n```\r\n\"properties\": {\r\n\t\"src\": {\r\n\t\t\"type\": \"string\",\r\n\t\t\"pattern\": \"\\\\.([cm]?j|t)sx?$\"\r\n\t},\r\n\t\"replaceWith\": {\r\n\t\t\"type\": \"string\",\r\n\t\t\"pattern\": \"\\\\.([cm]?j|t)sx?$\"\r\n\t}\r\n}\r\n```\r\n\r\nand previous functional version:\r\n```\r\n\"properties\": {\r\n\t\"src\": {\r\n\t\t\"type\": \"string\"\r\n\t},\r\n\t\"replaceWith\": {\r\n\t\t\"type\": \"string\"\r\n\t}\r\n}\r\n```\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\nSchema validation failed with the following errors:\r\n  Data path \".fileReplacements[0]\" should NOT have additional properties(replace).\r\n  Data path \".fileReplacements[0].replace\" should match pattern \"\\.([cm]?j|t)sx?$\".\r\n  Data path \".fileReplacements[0]\" should match exactly one schema in oneOf.\r\n</code></pre>\r\n\r\n## 🌍 Your Environment\r\n<pre><code>\r\nAngular CLI: 11.0.1\r\nNode: 12.13.1\r\nOS: win32 x64\r\n\r\nAngular: 11.0.0\r\n... animations, cdk, common, compiler, compiler-cli, core\r\n... elements, forms, language-service, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: <error>\r\n\r\nPackage                          Version\r\n----------------------------------------------------------\r\n@angular-devkit/architect 0.1001.7\r\n@angular-devkit/architect-cli 0.1100.1\r\n@angular-devkit/build-angular 0.1100.1\r\n@angular-devkit/core 10.1.7\r\n@angular-devkit/schematics 10.1.7\r\n@angular-devkit/schematics-cli 0.1100.1\r\n@angular/cli 11.0.1\r\n@schematics/angular 10.1.7\r\n@schematics/update 0.1100.1\r\nrxjs 6.6.3\r\ntypescript 4.0.5\r\n</code></pre>\r\n","Url":"https://github.com/angular/angular-cli/issues/19378","RelatedDescription":"Closed issue \"Schema validation rejects *.json files in fileReplacements (Regression in 11.0.0 & 11.0.1)\" (#19378)"},{"Id":"742763887","IsPullRequest":true,"CreatedAt":"2020-11-13T20:21:53","Actor":"clydin","Number":"19382","RawContent":null,"Title":"refactor(@angular-devkit/build-angular): support postcss 8","State":"open","Body":"This change updates the internal postcss plugins to use the postcss 8 API as well as updates the versions of all external plugins to postcss 8 supported versions.","Url":"https://github.com/angular/angular-cli/pull/19382","RelatedDescription":"Open PR \"refactor(@angular-devkit/build-angular): support postcss 8\" (#19382)"},{"Id":"742749049","IsPullRequest":false,"CreatedAt":"2020-11-13T19:57:14","Actor":"dzhavat","Number":"19381","RawContent":null,"Title":"ng update should provide instructions for updating major versions incrementally","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🚀 Feature request\r\n\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are relevant for this feature request? -->\r\n<!-- ✍️edit: -->\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [x] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Description\r\n<!-- ✍️--> A clear and concise description of the problem or missing capability...\r\n\r\nSay I'm on Angular v8.0.0 and run `ng update`. The current instructions displayed in the console shows a list of packages that can be updated together with a command.\r\n\r\nThe suggested command is `ng update @angular/core` (as an example) which always attempts to update Angular to the latest stable version (11 at the time). This goes against the idea of incremental updates (also recommended in the official docs) where one will go from v8 -> v9 -> v10 ... latest.\r\n\r\n### Describe the solution you'd like\r\n<!-- ✍️--> If you have a solution in mind, please describe it.\r\nThe suggested commands should take into consideration the current major project version and the current major stable version and provide appropriate instructions (commands) depending on the version \"jump\". If the difference is just one version then`ng update @angular/core` should be fine. If the jump is bigger, then an incremental update can be recommended.\r\n\r\n### Describe alternatives you've considered\r\n<!-- ✍️--> Have you considered any alternative solutions or workarounds?\r\n","Url":"https://github.com/angular/angular-cli/issues/19381","RelatedDescription":"Open issue \"ng update should provide instructions for updating major versions incrementally\" (#19381)"},{"Id":"741857215","IsPullRequest":false,"CreatedAt":"2020-11-13T19:55:33","Actor":"DavideViolante","Number":"19364","RawContent":null,"Title":"Minor: ng update don't update everything (compared with a CLI generated project)","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 bug report (minor)\r\n\r\n### Description\r\nEverytime I update [my project](https://github.com/DavideViolante/Angular-Full-Stack) using `ng update @angular/core @angular/cli` everything goes fine but the project [is not fully aligned](https://github.com/DavideViolante/Angular-Full-Stack/commit/8902b63c63d4f487ce7527c3a63fc9989c0bdaae) with a new project generated with the Angular CLI.\r\nI'm not sure if this is intended or not, but I'd like to see these files being updated too.\r\nWhat I do as a workaround is to copy files from a new cli project into my project and check for changes (usually in config files and similar like the commit above).\r\n\r\n## 🌍  Your Environment\r\n\r\n**Angular Version:** v11 (it's irrelevant, it happens at any upgrade)","Url":"https://github.com/angular/angular-cli/issues/19364","RelatedDescription":"Closed issue \"Minor: ng update don't update everything (compared with a CLI generated project)\" (#19364)"},{"Id":"742349047","IsPullRequest":true,"CreatedAt":"2020-11-13T19:31:28","Actor":"alan-agius4","Number":"19376","RawContent":null,"Title":"[patch] fix(@angular-devkit/build-angular): rollback css-loader to version 4","State":"closed","Body":"Closes #19374\r\n\r\n(cherry picked from commit 44109481ab3b5b1ae7536962fe590cab3ff2e652)","Url":"https://github.com/angular/angular-cli/pull/19376","RelatedDescription":"Closed or merged PR \"[patch] fix(@angular-devkit/build-angular): rollback css-loader to version 4\" (#19376)"},{"Id":"742186471","IsPullRequest":true,"CreatedAt":"2020-11-13T17:19:21","Actor":"renovate[bot]","Number":"19369","RawContent":null,"Title":"build: update @types/babel__template to version 7.4.0","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@types/babel__template](https://togithub.com/DefinitelyTyped/DefinitelyTyped) | devDependencies | minor | [`7.0.3` -> `7.4.0`](https://renovatebot.com/diffs/npm/@types%2fbabel__template/7.0.3/7.4.0) |\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/19369","RelatedDescription":"Closed or merged PR \"build: update @types/babel__template to version 7.4.0\" (#19369)"},{"Id":"742216199","IsPullRequest":true,"CreatedAt":"2020-11-13T17:19:09","Actor":"renovate[bot]","Number":"19371","RawContent":null,"Title":"build: update mini-css-extract-plugin to version 1.3.1","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [mini-css-extract-plugin](https://togithub.com/webpack-contrib/mini-css-extract-plugin) | dependencies | patch | [`1.3.0` -> `1.3.1`](https://renovatebot.com/diffs/npm/mini-css-extract-plugin/1.3.0/1.3.1) |\n| [mini-css-extract-plugin](https://togithub.com/webpack-contrib/mini-css-extract-plugin) | devDependencies | patch | [`1.3.0` -> `1.3.1`](https://renovatebot.com/diffs/npm/mini-css-extract-plugin/1.3.0/1.3.1) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>webpack-contrib/mini-css-extract-plugin</summary>\n\n### [`v1.3.1`](https://togithub.com/webpack-contrib/mini-css-extract-plugin/blob/master/CHANGELOG.md#&#8203;131-httpsgithubcomwebpack-contribmini-css-extract-plugincomparev130v131-2020-11-12)\n\n[Compare Source](https://togithub.com/webpack-contrib/mini-css-extract-plugin/compare/v1.3.0...v1.3.1)\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about these updates again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/19371","RelatedDescription":"Closed or merged PR \"build: update mini-css-extract-plugin to version 1.3.1\" (#19371)"},{"Id":"742335102","IsPullRequest":true,"CreatedAt":"2020-11-13T17:02:10","Actor":"alan-agius4","Number":"19373","RawContent":null,"Title":"fix(@schematics/angular): add exclude to `.worker.ts` in application tsconfig","State":"closed","Body":"Prior to this change we only added the exclude, when `exclude` property existed.\r\n\r\nCloses #19372","Url":"https://github.com/angular/angular-cli/pull/19373","RelatedDescription":"Closed or merged PR \"fix(@schematics/angular): add exclude to `.worker.ts` in application tsconfig\" (#19373)"},{"Id":"742477521","IsPullRequest":false,"CreatedAt":"2020-11-13T16:43:15","Actor":"piebe","Number":"19380","RawContent":null,"Title":"`ng lint --files` errors  in multi project workspace","State":"closed","Body":"# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [x] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> no\r\n\r\n\r\n### Description\r\n\r\n<!-- ✍️--> \r\nIn a workspace with minimal 1 library and 1 project the command `ng lint`  or `ng lint thelibrary --file a/file/in/the/library.ts` both work as expected. However the command `ng lint --file a/file/in/the/library.ts` throws an exception:\r\n\r\n``` \r\nAn unhandled exception occurred: File \"a/file/in/the/library.ts\" is not part of a TypeScript project 'projects/client/tsconfig.app.json,projects/client/tsconfig.spec.json,projects/client/e2e/tsconfig.json'.\r\n```\r\n\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\n\r\n  1.  ng new lint-issue\r\n   1. cd lint-issue/\r\n 1.   ng g library sample\r\n  1.  touch projects/sample/one.component.ts\r\n  1.  echo \"\" > projects/sample/one.component.ts\r\n  1.  ng lint sample\r\n  1.  ng lint sample -files projects/sample/one.component.ts\r\n  2. ng lint --files projects/sample/one.component.ts\r\n\r\nstep 7 succeeds, but step 8 throws exception\r\n\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ✍️-->\r\n[error] Error: File \"C:\\\\temp\\\\test\\\\lint-issue\\\\projects\\\\sample\\\\src\\\\lib\\\\sample.component.ts\" is not part of a TypeScript project 'tsconfig.app.json,tsconfig.spec.json,e2e/tsconfig.json'.\r\n    at _lint (C:\\temp\\test\\lint-issue\\node_modules\\@angular-devkit\\build-angular\\src\\tslint\\index.js:121:23)\r\n    at _run (C:\\temp\\test\\lint-issue\\node_modules\\@angular-devkit\\build-angular\\src\\tslint\\index.js:51:35)\r\n</code></pre>\r\n\r\n\r\n## 🌍 Your Environment\r\n<pre><code>\r\nAngular CLI: 11.0.1\r\nNode: 13.7.0\r\nOS: win32 x64\r\n\r\nAngular: 11.0.0\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1100.1\r\n@angular-devkit/build-angular   0.1100.1\r\n@angular-devkit/core            11.0.1\r\n@angular-devkit/schematics      11.0.1\r\n@angular/cli                    11.0.1\r\n@schematics/angular             11.0.1\r\n@schematics/update              0.1100.1\r\nng-packagr                      11.0.2\r\nrxjs                            6.6.3\r\ntypescript                      4.0.5\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\nSimilar (but different) issue: https://github.com/angular/angular-cli/issues/13399\r\n","Url":"https://github.com/angular/angular-cli/issues/19380","RelatedDescription":"Closed issue \"`ng lint --files` errors  in multi project workspace\" (#19380)"},{"Id":"742375324","IsPullRequest":false,"CreatedAt":"2020-11-13T11:38:53","Actor":"J4cku","Number":"19377","RawContent":null,"Title":"fileReplacements no longer allow for non js/ts files in Angular 11","State":"closed","Body":"# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n- [x] build\r\n\r\n\r\n### Is this a regression?\r\nWorked fine with 10.0.7\r\n\r\n### Description\r\nIn our angular.json we had section that replaced files:\r\n```\r\n\"fileReplacements\": [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\"replace\": \"src/assets/client-config.json\",\r\n\t\t\t\t\t\t\t\t\t\"with\": \"src/environments/client-config.qa.json\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\"replace\": \"src/environments/environment.ts\",\r\n\t\t\t\t\t\t\t\t\t\"with\": \"src/environments/environment.prod.ts\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\"replace\": \"src/index.html\",\r\n\t\t\t\t\t\t\t\t\t\"with\": \"src/index.build.html\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t],\r\n```\r\nAfter update to 11 it does not allow for anything other than .ts/.js files\r\n\r\n## 🔬 Minimal Reproduction\r\nAs above - just try to replace file different than .ts/.js\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\nSchema validation failed with the following errors:\r\n  Data path \".fileReplacements[0]\" should NOT have additional properties(replace).\r\n  Data path \".fileReplacements[0].replace\" should match pattern \"\\.([cm]?j|t)sx?$\".\r\n  Data path \".fileReplacements[0]\" should match exactly one schema in oneOf.\r\n</code></pre>\r\n\r\n\r\n## 🌍 Your Environment\r\n<pre><code>\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 11.0.1\r\nNode: 12.18.3\r\nOS: darwin x64\r\n\r\nAngular: 11.0.0\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... language-service, material, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1100.1\r\n@angular-devkit/build-angular   0.1100.1\r\n@angular-devkit/core            11.0.1\r\n@angular-devkit/schematics      11.0.1\r\n@angular/cli                    11.0.1\r\n@schematics/angular             11.0.1\r\n@schematics/update              0.1100.1\r\nng-packagr                      11.0.2\r\nrxjs                            6.6.3\r\ntypescript                      4.0.5\r\nwebpack                         4.44.1\r\n\r\n</code></pre>","Url":"https://github.com/angular/angular-cli/issues/19377","RelatedDescription":"Closed issue \"fileReplacements no longer allow for non js/ts files in Angular 11\" (#19377)"},{"Id":"742348626","IsPullRequest":true,"CreatedAt":"2020-11-13T10:34:41","Actor":"alan-agius4","Number":"19375","RawContent":null,"Title":"fix(@angular-devkit/build-angular): rollback css-loader to version 4","State":"open","Body":"Closes #19374","Url":"https://github.com/angular/angular-cli/pull/19375","RelatedDescription":"Open PR \"fix(@angular-devkit/build-angular): rollback css-loader to version 4\" (#19375)"},{"Id":"742336321","IsPullRequest":false,"CreatedAt":"2020-11-13T10:16:30","Actor":"multimike77","Number":"19374","RawContent":null,"Title":"Peer dependency errors for postcss after fresh install or update with version 11","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [x] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> Yes, the previous version in which this bug was not present was: 10.1.x\r\n\r\n\r\n### Description\r\n\r\n<!-- ✍️--> Peer dependency warnings appearing for new created project or as well after updating existing project to v11.\r\n\r\n\r\n## 🔬 Minimal Reproduction\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue. \r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\nCreate a new project using cli 11.0.1 or update existing project to v11.\r\nAfter running npm install, peer dependency warnings are showing, as below.\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ✍️-->\r\nnpm WARN icss-utils@5.0.0 requires a peer of postcss@^8.1.0 but none is installed. You must install peer dependencies yourself.\r\nnpm WARN postcss-modules-extract-imports@3.0.0 requires a peer of postcss@^8.1.0 but none is installed. You must install peer dependencies yourself.\r\nnpm WARN postcss-modules-local-by-default@4.0.0 requires a peer of postcss@^8.1.0 but none is installed. You must install peer dependencies yourself.\r\nnpm WARN postcss-modules-scope@3.0.0 requires a peer of postcss@^8.1.0 but none is installed. You must install peer dependencies yourself.\r\nnpm WARN postcss-modules-values@4.0.0 requires a peer of postcss@^8.1.0 but none is installed. You must install peer dependencies yourself.\r\n</code></pre>\r\n\r\n\r\n## 🌍 Your Environment\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\nAngular CLI: 11.0.1\r\nNode: 12.19.0\r\nOS: darwin x64\r\n\r\nAngular: 11.0.0\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1100.1\r\n@angular-devkit/build-angular   0.1100.1\r\n@angular-devkit/core            11.0.1\r\n@angular-devkit/schematics      11.0.1\r\n@angular/cli                    11.0.1\r\n@schematics/angular             11.0.1\r\n@schematics/update              0.1100.1\r\nrxjs                            6.6.3\r\ntypescript                      4.0.5\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/19374","RelatedDescription":"Open issue \"Peer dependency errors for postcss after fresh install or update with version 11\" (#19374)"},{"Id":"742197679","IsPullRequest":false,"CreatedAt":"2020-11-13T08:11:56","Actor":"jonathanlie","Number":"19370","RawContent":null,"Title":"Lazy loading modules from Angular library does not work correctly","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [x] build\r\n- [x] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\nBefore Ivy (v8), the components are included in the lazy loaded chunks.\r\n\r\n\r\n### Description\r\nLazy loading does not work with feature modules exported from the same library project. Any additions to the feature module result in increase in main.js bundle size, instead of the lazy loaded feature module.\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\nClone this repo: https://github.com/jonathanlie/repro-lazy-loading-issue\r\n\r\n1. `npm install`\r\n2. Run `ng build some-lib --watch` on a tab\r\n3. Run `ng serve some-app` on a separate tab after\r\n4. Verify app is working on `localhost:4200`\r\n5. Remove / add content to `listing.component.scss` in `projects/some-lib/src/lib/lazy/components/listing/listing.component.scss`, and what happens is that the main.js bundle size is the one reduced instead.\r\n\r\n```\r\nBuild at: 2020-11-13T06:22:30.373Z - Hash: c12a866456896e242a74 - Time: 2012ms\r\n\r\n✔ Compiled successfully.\r\n✔ Browser application bundle generation complete.\r\n\r\nInitial Chunk Files | Names |     Size\r\nmain.js             | main  | 16.81 kB\r\n\r\n5 unchanged chunks\r\n\r\nBuild at: 2020-11-13T06:22:39.887Z - Hash: a02cce926638fc0cef6b - Time: 151ms\r\n\r\n✔ Compiled successfully.\r\n✔ Browser application bundle generation complete.\r\n\r\nInitial Chunk Files | Names |     Size\r\nmain.js             | main  | 17.19 kB\r\n```\r\n\r\n## 🌍 Your Environment\r\n<pre><code>\r\nAngular CLI: 11.0.1\r\nNode: 12.14.0\r\nOS: darwin x64\r\n\r\nAngular: 11.0.0\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1100.1\r\n@angular-devkit/build-angular   0.1100.1\r\n@angular-devkit/core            11.0.1\r\n@angular-devkit/schematics      11.0.1\r\n@angular/cli                    11.0.1\r\n@schematics/angular             11.0.1\r\n@schematics/update              0.1100.1\r\nng-packagr                      11.0.2\r\nrxjs                            6.6.3\r\ntypescript                      4.0.5\r\n\r\n</code></pre>","Url":"https://github.com/angular/angular-cli/issues/19370","RelatedDescription":"Closed issue \"Lazy loading modules from Angular library does not work correctly\" (#19370)"},{"Id":"741995811","IsPullRequest":false,"CreatedAt":"2020-11-13T08:10:32","Actor":"harishajdarevic","Number":"19367","RawContent":null,"Title":" No module factory available for dependency type: CssDependency","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [ X ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n\r\n### Description\r\n\r\n<!-- ✍️--> A clear and concise description of the problem...\r\nng build --configuration=production throwing following error:\r\n\r\n```70% building 5/6 modules 1 active ...c/code/client-admin/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--7-1!/Users/Haris.Hajdarevic/code/client-admin/src/set-public-path.jsAn unhandled exception occurred: No module factory available for dependency type: CssDependency\r\nSee \"/private/var/folders/3q/rg85j7dj5dz5g37jk56731f40000gr/T/ng-VCnsDh/angular-errors.log\" for further details.\r\n\r\n\r\n\r\n## 🌍 Your Environment\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\nAngular CLI: 10.1.7\r\nNode: 10.15.3\r\nOS: darwin x64\r\n\r\nAngular: 10.2.0\r\n... animations, common, compiler, core, forms, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1002.0\r\n@angular-devkit/build-angular   0.1002.0\r\n@angular-devkit/core            10.2.0\r\n@angular-devkit/schematics      10.1.7\r\n@angular/cli                    10.1.7\r\n@angular/compiler-cli           10.1.6\r\n@schematics/angular             10.1.7\r\n@schematics/update              0.1001.7\r\nrxjs                            6.5.5\r\ntypescript                      4.0.3\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/19367","RelatedDescription":"Closed issue \" No module factory available for dependency type: CssDependency\" (#19367)"},{"Id":"742307852","IsPullRequest":false,"CreatedAt":"2020-11-13T04:53:43","Actor":"glued","Number":"19372","RawContent":null,"Title":"Angular 11 Web workers build warning \"*.worker.ts is part of the TypeScript compilation but it's unused.\"","State":"open","Body":"\r\n# 🐞 bug report\r\n\r\n### Affected Package\r\nThe issue is caused by package @angular/cli ? \r\n\r\n\r\n### Is this a regression?\r\n\r\n Yes, the previous version in which this bug was not present was 10\r\n\r\n\r\n### Description\r\nAfter upgrading to Angular 11 all of our web workers are reporting this warning.... \r\nSame issue when generating a new worker via `ng g web-worker foo`\r\n```\r\nWarning: /angular-app/src/app/database/workers/offline-diff.worker.ts is part of the TypeScript compilation but it's unused.\r\nAdd only entry points to the 'files' or 'include' properties in your tsconfig.\r\n```\r\n\r\n`tsconfig.worker.json` exists in project directory:\r\n```\r\n{\r\n  \"extends\": \"./tsconfig.json\",\r\n  \"compilerOptions\": {\r\n    \"outDir\": \"./out-tsc/worker\",\r\n    \"lib\": [\"es2018\", \"webworker\"],\r\n    \"types\": []\r\n  },\r\n  \"include\": [\"src/**/*.worker.ts\"]\r\n}\r\n```\r\n\r\nangular.json points to it\r\n```\r\n \"webWorkerTsConfig\": \"tsconfig.worker.json\"\r\n```\r\n\r\n\r\n## 🌍  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 11.0.0\r\nNode: 14.5.0\r\nOS: darwin x64\r\n\r\nAngular: 11.0.0\r\n... animations, cli, common, compiler, compiler-cli, core\r\n... elements, forms, language-service, platform-browser\r\n... platform-browser-dynamic, router, service-worker\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1100.0\r\n@angular-devkit/build-angular   0.1100.0\r\n@angular-devkit/core            11.0.0\r\n@angular-devkit/schematics      11.0.0\r\n@angular/cdk                    10.2.7\r\n@angular/fire                   6.0.5\r\n@angular/material               10.2.7\r\n@schematics/angular             11.0.0\r\n@schematics/update              0.1100.0\r\nng-packagr                      11.0.1\r\nrxjs                            6.6.3\r\ntypescript                      4.0.5\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/19372","RelatedDescription":"Open issue \"Angular 11 Web workers build warning \"*.worker.ts is part of the TypeScript compilation but it's unused.\"\" (#19372)"},{"Id":"741934909","IsPullRequest":false,"CreatedAt":"2020-11-12T21:29:45","Actor":"jasefisher","Number":"19366","RawContent":null,"Title":"ng deploy fails after update to 11.0.0","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [x] deploy\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\nYes, the previous version in which this bug was not present was: 10.2.0\r\n\r\n\r\n### Description\r\n\r\n<!-- ✍️--> ng deploy worked correctly to build and deploy directly to firebase before today's version update, and now it fails before building.\r\n\r\n\r\n## 🔬 Minimal Reproduction\r\n* with Angular CLI 10.20.0, set up an Angular application to utilize the new-ish deploy command\r\n* wire it up to a Firebase hosting account\r\n* verify that it builds and deploys correctly to Firebase Hosting with a simple `ng deploy` command\r\n* update to CLI 11.0.0\r\n* get the following error when running `ng deploy`\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\n[error] TypeError: Cannot read property 'Workspace' of undefined\r\n    at c:\\node\\project\\node_modules\\@angular\\fire\\schematics\\deploy\\builder.js:19:57\r\n    at Generator.next (<anonymous>)\r\n    at c:\\node\\project\\node_modules\\@angular\\fire\\schematics\\deploy\\builder.js:8:71\r\n    at new Promise (<anonymous>)\r\n    at __awaiter (c:\\node\\project\\node_modules\\@angular\\fire\\schematics\\deploy\\builder.js:4:12)\r\n    at c:\\node\\project\\node_modules\\@angular\\fire\\schematics\\deploy\\builder.js:17:67\r\n    at onInput (c:\\node\\project\\node_modules\\@angular-devkit\\architect\\src\\create-builder.js:151:30)\r\n    at SafeSubscriber._next (c:\\node\\project\\node_modules\\@angular-devkit\\architect\\src\\create-builder.js:65:29)\r\n    at SafeSubscriber.__tryOrUnsub (c:\\node\\project\\node_modules\\rxjs\\internal\\Subscriber.js:205:16)\r\n    at SafeSubscriber.next (c:\\node\\project\\node_modules\\rxjs\\internal\\Subscriber.js:143:22)\r\n</code></pre>\r\n\r\n\r\n## 🌍 Your Environment\r\n<pre><code>\r\nAngular CLI: 11.0.0\r\nNode: 14.15.0\r\nOS: win32 x64\r\n\r\nAngular: 11.0.0\r\n... animations, cdk, cli, common, compiler, compiler-cli, core\r\n... forms, material, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1100.0\r\n@angular-devkit/build-angular   0.1100.0\r\n@angular-devkit/core            11.0.0\r\n@angular-devkit/schematics      11.0.0\r\n@angular/fire                   6.0.5\r\n@schematics/angular             11.0.0\r\n@schematics/update              0.1100.0\r\nrxjs                            6.6.3\r\ntypescript                      4.0.5\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/19366","RelatedDescription":"Closed issue \"ng deploy fails after update to 11.0.0\" (#19366)"},{"Id":"741847210","IsPullRequest":true,"CreatedAt":"2020-11-12T19:42:53","Actor":"alan-agius4","Number":"19362","RawContent":null,"Title":"fix(@angular-devkit/build-angular): show missing karma-coverage error…","State":"closed","Body":"… when it's not configured\r\n\r\nThis fixes an issue where previously `karma-coverage must be installed in order to run code coverage` error was shown incorrectly.\r\n\r\nCloses: #19359\r\n(cherry picked from commit 88a379452460ed81a262a952d8a1735ff10f04ec)\r\n\r\nPatch version of https://github.com/angular/angular-cli/pull/19361","Url":"https://github.com/angular/angular-cli/pull/19362","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): show missing karma-coverage error…\" (#19362)"},{"Id":"741775689","IsPullRequest":true,"CreatedAt":"2020-11-12T19:39:27","Actor":"clydin","Number":"19360","RawContent":null,"Title":"fix(@schematics/angular): migrate project dependencies to new project versions","State":"closed","Body":"This change reuses the v10 migration with update package versions to ensure that an updated project matches the development dependency versions of a newly generated project.","Url":"https://github.com/angular/angular-cli/pull/19360","RelatedDescription":"Closed or merged PR \"fix(@schematics/angular): migrate project dependencies to new project versions\" (#19360)"},{"Id":"741792378","IsPullRequest":true,"CreatedAt":"2020-11-12T18:53:21","Actor":"alan-agius4","Number":"19361","RawContent":null,"Title":"fix(@angular-devkit/build-angular): show missing karma-coverage error when it's not configured","State":"closed","Body":"\r\nThis fixes an issue where previously `karma-coverage must be installed in order to run code coverage` error was shown incorrectly.\r\n\r\nCloses: #19359","Url":"https://github.com/angular/angular-cli/pull/19361","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): show missing karma-coverage error when it's not configured\" (#19361)"},{"Id":"741684328","IsPullRequest":false,"CreatedAt":"2020-11-12T18:53:21","Actor":"woteska","Number":"19359","RawContent":null,"Title":"How to run test with teamcity and coverage-istanbul reporters only? (Angular 11)","State":"closed","Body":"I just updated the project to Angular 11. Our builds failed on\r\n\r\n`ng \"test\" \"--watch=false\" \"--code-coverage\" \"--browsers=ChromeHeadless\" \"--reporters=teamcity,coverage-istanbul\"`\r\n\r\n```\r\n[14:32:50][JavaScript Unit Tests] 12 11 2020 14:32:50.669:INFO [karma-server]: Karma v5.1.1 server started at http://localhost:9876/\r\n[14:32:50][JavaScript Unit Tests] 12 11 2020 14:32:50.670:INFO [launcher]: Launching browsers ChromeHeadless with concurrency unlimited\r\n[14:32:50][JavaScript Unit Tests] 12 11 2020 14:32:50.670:ERROR [karma-server]: Error: Found 1 load error\r\n[14:32:50][JavaScript Unit Tests]     at Server.<anonymous> (C:\\TeamCity\\buildAgent\\work\\74e1703a2bfba134\\xxx\\Frontend\\node_modules\\karma\\lib\\server.js:189:27)\r\n[14:32:50][JavaScript Unit Tests]     at Object.onceWrapper (events.js:299:28)\r\n[14:32:50][JavaScript Unit Tests]     at Server.emit (events.js:215:7)\r\n[14:32:50][JavaScript Unit Tests]     at emitListeningNT (net.js:1332:10)\r\n[14:32:50][JavaScript Unit Tests]     at processTicksAndRejections (internal/process/task_queues.js:79:21)\r\n[14:32:50][JavaScript Unit Tests] npm ERR! code ELIFECYCLE\r\n[14:32:50][JavaScript Unit Tests] npm ERR! errno 1\r\n[14:32:50][JavaScript Unit Tests] npm ERR! xxx@1.4.0 ng: `ng \"test\" \"--watch=false\" \"--code-coverage\" \"--browsers=ChromeHeadless\" \"--reporters=teamcity,coverage-istanbul\"`\r\n```\r\n\r\nIt even doesn't work if I modify `coverage-istanbul` reporter to `coverage`.\r\n\r\n```\r\nng \"test\" \"--watch=false\" \"--code-coverage\" \"--browsers=ChromeHeadless\" \"--reporters=teamcity,coverage\"\r\n12 11 2020 16:01:31.036:ERROR [karma-server]: Server start failed on port 9876: Error: karma-coverage must be installed in order to run code coverage\r\n```\r\n\r\nBut `karma-coverage` is installed via the latest CLI:\r\n\r\n```\r\n  \"devDependencies\": {\r\n    \"@angular-devkit/build-angular\": \"~0.1100.0\",\r\n    \"@angular/cli\": \"~11.0.0\",\r\n    \"@angular/compiler-cli\": \"~11.0.0\",\r\n    \"@types/jasmine\": \"~3.6.0\",\r\n    \"@types/node\": \"^12.11.1\",\r\n    \"codelyzer\": \"^6.0.0\",\r\n    \"jasmine-core\": \"~3.6.0\",\r\n    \"jasmine-spec-reporter\": \"~5.0.0\",\r\n    \"karma\": \"~5.1.0\",\r\n    \"karma-chrome-launcher\": \"~3.1.0\",\r\n    \"karma-coverage\": \"~2.0.3\",\r\n    \"karma-jasmine\": \"~4.0.0\",\r\n    \"karma-jasmine-html-reporter\": \"^1.5.0\",\r\n    \"karma-teamcity-reporter\": \"^1.1.0\",\r\n    \"protractor\": \"~7.0.0\",\r\n    \"ts-node\": \"~8.3.0\",\r\n    \"tslint\": \"~6.1.0\",\r\n    \"typescript\": \"~4.0.2\"\r\n  }\r\n```\r\n\r\n**How can I run the tests with the new coverage and teamcity reporters only?**\r\n\r\nProject generated by the latest CLI (v11), it has the default karma configuration + teamcity reporter imported:\r\n\r\n```\r\n// Karma configuration file, see link for more information\r\n// https://karma-runner.github.io/1.0/config/configuration-file.html\r\n\r\nmodule.exports = function (config) {\r\n  config.set({\r\n    basePath: '',\r\n    frameworks: ['jasmine', '@angular-devkit/build-angular'],\r\n    plugins: [\r\n      require('karma-jasmine'),\r\n      require('karma-chrome-launcher'),\r\n      require('karma-jasmine-html-reporter'),\r\n      require('karma-coverage'),\r\n      require('@angular-devkit/build-angular/plugins/karma'),\r\n      require('karma-teamcity-reporter')\r\n    ],\r\n    client: {\r\n      clearContext: false // leave Jasmine Spec Runner output visible in browser\r\n    },\r\n    coverageReporter: {\r\n      dir: require('path').join(__dirname, './coverage/xxx'),\r\n      subdir: '.',\r\n      reporters: [\r\n        { type: 'html' },\r\n        { type: 'text-summary' }\r\n      ],\r\n    },\r\n    reporters: ['progress', 'kjhtml'],\r\n    port: 9876,\r\n    colors: true,\r\n    logLevel: config.LOG_INFO,\r\n    autoWatch: true,\r\n    browsers: ['Chrome'],\r\n    singleRun: false,\r\n    restartOnFileChange: true\r\n  });\r\n};\r\n```\r\n","Url":"https://github.com/angular/angular-cli/issues/19359","RelatedDescription":"Closed issue \"How to run test with teamcity and coverage-istanbul reporters only? (Angular 11)\" (#19359)"},{"Id":"741854858","IsPullRequest":false,"CreatedAt":"2020-11-12T18:49:31","Actor":"nsebs","Number":"19363","RawContent":null,"Title":"`ng generate module` with routing doesn't follow component schematics","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 `ng generate module` with routing doesn't follow component schematics\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\nI believe it is, since this is working correctly on versions before 11.\r\n\r\n### Description\r\n\r\nWhen you create a new lazy loaded module with routing using the cli:\r\n```bash\r\nng generate module home -m app --route 'home' --routing\r\n```\r\nthe generated component doesn't follow the schematics.\r\n\r\n## 🔬 Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-ivy\r\n-->\r\nTo test this you need to\r\n* create a new project\r\n* the component schematics and generate a new lazy loaded module\r\n* check the output\r\n\r\n```bash\r\nnpx -p @angular/cli@11 ng new test --strict --routing --style=scss\r\n\r\ncd test\r\n\r\nng generate module home -m app --route 'home' --routing\r\n```\r\nThe cli will create a `.css` file instead of an `.scss` (and the component will point to this `css` instead of a `scss` file).\r\n\r\nI also modified the `angular.json` manually to add `\"changeDetection\": \"OnPush\"`, and it gets ignored too.\r\n\r\n<!--v\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem.\r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n## 🌍  My Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 11.0.0\r\nNode: 12.18.3\r\nOS: linux x64\r\n\r\nAngular: 11.0.0\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1100.0\r\n@angular-devkit/build-angular   0.1100.0\r\n@angular-devkit/core            11.0.0\r\n@angular-devkit/schematics      11.0.0\r\n@schematics/angular             11.0.0\r\n@schematics/update              0.1100.0\r\nrxjs                            6.6.3\r\ntypescript                      4.0.5\r\n\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n\r\nIs worth mentioning that if you create a new component using the cli, the component will follow the schematics without any problem.","Url":"https://github.com/angular/angular-cli/issues/19363","RelatedDescription":"Open issue \"`ng generate module` with routing doesn't follow component schematics\" (#19363)"},{"Id":"741630106","IsPullRequest":true,"CreatedAt":"2020-11-12T18:16:41","Actor":"cexbrayat","Number":"19358","RawContent":null,"Title":"fix(@schematics/angular): remove trailing comma in karma conf","State":"closed","Body":"We usually don't have trailing commas in the generated code of the CLI (and this one makes the linter/formatter angry).","Url":"https://github.com/angular/angular-cli/pull/19358","RelatedDescription":"Closed or merged PR \"fix(@schematics/angular): remove trailing comma in karma conf\" (#19358)"},{"Id":"741604892","IsPullRequest":true,"CreatedAt":"2020-11-12T13:33:37","Actor":"cexbrayat","Number":"19357","RawContent":null,"Title":"fix(@schematics/angular): allow to set jasmine seed","State":"open","Body":"Currently it can be hard to reproduce a randomly failing test, as the seed changes on every run.\r\n\r\nAdvanced developers may know what to do to set this seed, but adding the necessary setup and a bit of an explanation in the Karma conf may be helpful to beginners.\r\n\r\nThis commit allows to run:\r\n\r\n    JASMINE_SEED=123 ng test\r\n\r\nAnd the seed will be `123` for every test run, allowing to fix the issue.","Url":"https://github.com/angular/angular-cli/pull/19357","RelatedDescription":"Open PR \"fix(@schematics/angular): allow to set jasmine seed\" (#19357)"}],"ResultType":"GitHubIssue"},"material2-Issues":{"Issues":[{"Id":"742853597","IsPullRequest":true,"CreatedAt":"2020-11-13T23:43:35","Actor":"MichaelJamesParsons","Number":"21048","RawContent":null,"Title":"refactor(material/datepicker): expose month view change detector ref","State":"open","Body":"Expose the datepicker month view's `ChangeDetectorRef` as part of its public (internal) API so it can be accessed by other components.","Url":"https://github.com/angular/components/pull/21048","RelatedDescription":"Open PR \"refactor(material/datepicker): expose month view change detector ref\" (#21048)"},{"Id":"742821142","IsPullRequest":false,"CreatedAt":"2020-11-13T22:13:50","Actor":"SolarIceMedia","Number":"21047","RawContent":null,"Title":"'@angular/material/index.d.ts' is not a module ","State":"open","Body":"making this change is stupid. I shouldn't need to bloat my module down with 30 imports.","Url":"https://github.com/angular/components/issues/21047","RelatedDescription":"Open issue \"'@angular/material/index.d.ts' is not a module \" (#21047)"},{"Id":"742808952","IsPullRequest":true,"CreatedAt":"2020-11-13T21:48:55","Actor":"annieyw","Number":"21046","RawContent":null,"Title":"fix(material/button-toggle): fix ChromeVox focus issue on button toggle","State":"open","Body":"Fixes focus issue with Chromevox in which you need to hit arrow key twice to move to the next button-toggle.","Url":"https://github.com/angular/components/pull/21046","RelatedDescription":"Open PR \"fix(material/button-toggle): fix ChromeVox focus issue on button toggle\" (#21046)"},{"Id":"742777174","IsPullRequest":false,"CreatedAt":"2020-11-13T20:41:26","Actor":"Splaktar","Number":"21045","RawContent":null,"Title":"bug(update): Cannot find module '@angular-devkit/core/src/workspace/json/reader'","State":"open","Body":"#### Reproduction\r\n\r\nUse StackBlitz to reproduce your issue: https://stackblitz.com/fork/components-issue\r\n\r\nSteps to reproduce:\r\n1. `ng update @angular/core @angular/cli @angular/material --force`\r\n \r\n \r\n#### Expected Behavior\r\n\r\nWhat behavior were you expecting to see?\r\n- CDK Migrations run w/o exceptions.\r\n\r\n#### Actual Behavior\r\n\r\nWhat behavior did you actually see?\r\n```\r\n[error] Error: Cannot find module '@angular-devkit/core/src/workspace/json/reader'\r\nRequire stack:\r\n- /Users/splaktar/Git/devintent/xlts/xlts.dev/node_modules/@angular/cdk/schematics/utils/project-tsconfig-paths.js\r\n- /Users/splaktar/Git/devintent/xlts/xlts.dev/node_modules/@angular/cdk/schematics/ng-update/devkit-migration-rule.js\r\n- /Users/splaktar/Git/devintent/xlts/xlts.dev/node_modules/@angular/cdk/schematics/ng-update/index.js\r\n- /private/var/folders/mz/pjttw4vs5xs33pzstmq1h7140000gn/T/angular-cli-packages-JfwbdW/node_modules/@angular-devkit/schematics/tools/export-ref.js\r\n- /private/var/folders/mz/pjttw4vs5xs33pzstmq1h7140000gn/T/angular-cli-packages-JfwbdW/node_modules/@angular-devkit/schematics/tools/index.js\r\n- /private/var/folders/mz/pjttw4vs5xs33pzstmq1h7140000gn/T/angular-cli-packages-JfwbdW/node_modules/@angular/cli/utilities/json-schema.js\r\n- /private/var/folders/mz/pjttw4vs5xs33pzstmq1h7140000gn/T/angular-cli-packages-JfwbdW/node_modules/@angular/cli/models/command-runner.js\r\n- /private/var/folders/mz/pjttw4vs5xs33pzstmq1h7140000gn/T/angular-cli-packages-JfwbdW/node_modules/@angular/cli/lib/cli/index.js\r\n- /private/var/folders/mz/pjttw4vs5xs33pzstmq1h7140000gn/T/angular-cli-packages-JfwbdW/node_modules/@angular/cli/lib/init.js\r\n- /private/var/folders/mz/pjttw4vs5xs33pzstmq1h7140000gn/T/angular-cli-packages-JfwbdW/node_modules/@angular/cli/bin/ng\r\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:880:15)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:725:27)\r\n    at Module.require (internal/modules/cjs/loader.js:952:19)\r\n    at require (internal/modules/cjs/helpers.js:88:18)\r\n    at Object.<anonymous> (/Users/splaktar/Git/devintent/xlts/xlts.dev/node_modules/@angular/cdk/schematics/utils/project-tsconfig-paths.js:21:18)\r\n    at Module._compile (internal/modules/cjs/loader.js:1063:30)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1092:10)\r\n    at Module.load (internal/modules/cjs/loader.js:928:32)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:769:14)\r\n    at Module.require (internal/modules/cjs/loader.js:952:19)\r\n    at require (internal/modules/cjs/helpers.js:88:18)\r\n    at Object.<anonymous> (/Users/splaktar/Git/devintent/xlts/xlts.dev/node_modules/@angular/cdk/schematics/ng-update/devkit-migration-rule.js:22:34)\r\n    at Module._compile (internal/modules/cjs/loader.js:1063:30)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1092:10)\r\n    at Module.load (internal/modules/cjs/loader.js:928:32)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:769:14)\r\n```\r\n\r\n#### Environment\r\n\r\n- Browser(s): Chrome 86\r\n- Operating System (e.g. Windows, macOS, Ubuntu): macOS 10.15.7 \r\n\r\nBefore running `ng update @angular/core @angular/cli @angular/material --force`:\r\n```\r\nAngular CLI: 10.1.7\r\nNode: 14.15.0\r\nOS: darwin x64\r\n\r\nAngular: 10.1.6\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1001.7\r\n@angular-devkit/build-angular   0.1001.7\r\n@angular-devkit/core            7.3.10\r\n@angular-devkit/schematics      7.3.10\r\n@angular/cdk                    10.2.7\r\n@angular/cli                    10.1.7\r\n@angular/fire                   6.0.5\r\n@angular/material               10.2.7\r\n@schematics/angular             10.1.7\r\n@schematics/update              0.1001.7\r\nng-packagr                      10.1.2\r\nrxjs                            6.6.3\r\ntypescript                      4.0.5\r\n\r\n```\r\n\r\nAfter running `ng update @angular/core @angular/cli @angular/material --force`:\r\n```\r\nAngular CLI: 11.0.1\r\nNode: 14.15.0\r\nOS: darwin x64\r\n\r\nAngular: 11.0.0\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... language-service, material, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1100.1\r\n@angular-devkit/build-angular   0.1100.1\r\n@angular-devkit/core            7.3.10\r\n@angular-devkit/schematics      7.3.10\r\n@angular/cli                    11.0.1\r\n@angular/fire                   6.0.5\r\n@schematics/angular             11.0.1\r\n@schematics/update              0.1100.1\r\nng-packagr                      11.0.2\r\nrxjs                            6.6.3\r\ntypescript                      4.0.5\r\n```\r\n\r\nThe CLI DevKit versions reported are v7 because of `@schuchard/prettier` and some others are using v8 or v9 versions of CLI DevKit:\r\n```\r\nnpm ls @angular-devkit/core\r\nxlts.dev@0.3.0 /Users/splaktar/Git/devintent/xlts/xlts.dev\r\n├─┬ @angular-devkit/build-angular@0.1001.7\r\n│ ├─┬ @angular-devkit/architect@0.1001.7\r\n│ │ └── @angular-devkit/core@10.1.7 \r\n│ ├─┬ @angular-devkit/build-webpack@0.1001.7\r\n│ │ └── @angular-devkit/core@10.1.7 \r\n│ ├── @angular-devkit/core@10.1.7 \r\n│ └─┬ @ngtools/webpack@10.1.7\r\n│   └── @angular-devkit/core@10.1.7 \r\n├─┬ @angular/cli@10.1.7\r\n│ ├── @angular-devkit/core@10.1.7 \r\n│ ├─┬ @angular-devkit/schematics@10.1.7\r\n│ │ └── @angular-devkit/core@10.1.7  deduped\r\n│ ├─┬ @schematics/angular@10.1.7\r\n│ │ ├── @angular-devkit/core@10.1.7 \r\n│ │ └─┬ @angular-devkit/schematics@10.1.7\r\n│ │   └── @angular-devkit/core@10.1.7  deduped\r\n│ └─┬ @schematics/update@0.1001.7\r\n│   ├── @angular-devkit/core@10.1.7 \r\n│   └─┬ @angular-devkit/schematics@10.1.7\r\n│     └── @angular-devkit/core@10.1.7  deduped\r\n├─┬ @schuchard/prettier@3.1.0\r\n│ ├── @angular-devkit/core@7.3.10 \r\n│ └─┬ @angular-devkit/schematics@7.3.10\r\n│   └── @angular-devkit/core@7.3.10  deduped\r\n└─┬ @scullyio/init@1.0.1\r\n  ├── @angular-devkit/core@9.1.12 \r\n  ├─┬ @angular-devkit/schematics@9.1.12\r\n  │ └── @angular-devkit/core@9.1.12  deduped\r\n  ├─┬ @schematics/angular@9.1.12\r\n  │ └── @angular-devkit/core@9.1.12  deduped\r\n  └─┬ schematics-utilities@2.0.2\r\n    ├── @angular-devkit/core@8.3.29 \r\n    ├─┬ @angular-devkit/schematics@8.3.29\r\n    │ └── @angular-devkit/core@8.3.29  deduped\r\n    ├─┬ @schematics/angular@8.3.29\r\n    │ └── @angular-devkit/core@8.3.29  deduped\r\n    └─┬ @schematics/update@0.803.29\r\n      └── @angular-devkit/core@8.3.29  deduped\r\n```\r\nIt looks like the CDK is accessing the wrong version of the CLI DevKit SDK. I think that we had a similar problem in a previous release.\r\n\r\nCommand output:\r\n```\r\n$ ng update @angular/core @angular/cli @angular/material --allow-dirty --force\r\nThe installed local Angular CLI version is older than the latest stable version.\r\nInstalling a temporary version to perform the update.\r\nInstalling packages for tooling via npm.\r\nInstalled packages for tooling via npm.\r\nUsing package manager: 'npm'\r\nCollecting installed dependencies...\r\nFound 54 dependencies.\r\nFetching dependency metadata from registry...\r\n                  Package \"@angular-devkit/build-angular\" has an incompatible peer dependency to \"karma\" (requires \"~5.1.0\", would install \"5.2.3\")\r\n    Updating package.json with dependency @angular-devkit/build-angular @ \"0.1100.1\" (was \"0.1001.7\")...\r\n    Updating package.json with dependency @angular/cli @ \"11.0.1\" (was \"10.1.7\")...\r\n    Updating package.json with dependency @angular/compiler-cli @ \"11.0.0\" (was \"10.1.6\")...\r\n    Updating package.json with dependency @angular/language-service @ \"11.0.0\" (was \"10.1.6\")...\r\n    Updating package.json with dependency ng-packagr @ \"11.0.2\" (was \"10.1.2\")...\r\n    Updating package.json with dependency @angular/animations @ \"11.0.0\" (was \"10.1.6\")...\r\n    Updating package.json with dependency @angular/cdk @ \"11.0.0\" (was \"10.2.7\")...\r\n    Updating package.json with dependency @angular/common @ \"11.0.0\" (was \"10.1.6\")...\r\n    Updating package.json with dependency @angular/compiler @ \"11.0.0\" (was \"10.1.6\")...\r\n    Updating package.json with dependency @angular/core @ \"11.0.0\" (was \"10.1.6\")...\r\n    Updating package.json with dependency @angular/forms @ \"11.0.0\" (was \"10.1.6\")...\r\n    Updating package.json with dependency @angular/material @ \"11.0.0\" (was \"10.2.7\")...\r\n    Updating package.json with dependency @angular/platform-browser @ \"11.0.0\" (was \"10.1.6\")...\r\n    Updating package.json with dependency @angular/platform-browser-dynamic @ \"11.0.0\" (was \"10.1.6\")...\r\n    Updating package.json with dependency @angular/router @ \"11.0.0\" (was \"10.1.6\")...\r\n  UPDATE package.json (3815 bytes)\r\n✔ Packages installed successfully.\r\n** Executing migrations of package '@angular/cli' **\r\n\r\n❯ Replace deprecated library builder '@angular-devkit/build-ng-packagr'.\r\n  Migration completed.\r\n\r\n❯ Add 'declarationMap' compiler options for non production library builds.\r\n  Migration completed.\r\n\r\n❯ Remove deprecated options from 'angular.json' that are no longer present in v11.\r\n  UPDATE angular.json (9080 bytes)\r\n  Migration completed.\r\n\r\n❯ Update workspace dependencies to match a new v11 project.\r\n  UPDATE package.json (3816 bytes)\r\n✔ Packages installed successfully.\r\n  Migration completed.\r\n\r\nAn unhandled exception occurred: Cannot find module '@angular-devkit/core/src/workspace/json/reader'\r\n```","Url":"https://github.com/angular/components/issues/21045","RelatedDescription":"Open issue \"bug(update): Cannot find module '@angular-devkit/core/src/workspace/json/reader'\" (#21045)"},{"Id":"742749267","IsPullRequest":true,"CreatedAt":"2020-11-13T19:57:37","Actor":"MichaelJamesParsons","Number":"21044","RawContent":null,"Title":"feat(material/core): add date format for month label","State":"open","Body":"- Added `monthLabel` date format\r\n- Updated datepicker month view to use `monthLabel` format if specified\r\n- Added test for `monthLabel`. I grouped the existing tests in a separate `describe` block so I could specify custom providers for the new  test. It's hard to tell from the diff, but aside from shuffling tests around, no existing tests were changed.","Url":"https://github.com/angular/components/pull/21044","RelatedDescription":"Open PR \"feat(material/core): add date format for month label\" (#21044)"},{"Id":"742147254","IsPullRequest":true,"CreatedAt":"2020-11-13T18:43:17","Actor":"dependabot[bot]","Number":"21036","RawContent":null,"Title":"build: bump firebase-tools from 7.6.1 to 8.16.1","State":"closed","Body":"Bumps [firebase-tools](https://github.com/firebase/firebase-tools) from 7.6.1 to 8.16.1.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/firebase/firebase-tools/releases\">firebase-tools's releases</a>.</em></p>\n<blockquote>\n<h2>v8.16.1</h2>\n<ul>\n<li>Fixes issue in setting data in Firebase Realtime Database. (<a href=\"https://github-redirect.dependabot.com/firebase/firebase-tools/issues/2814\">#2814</a>)</li>\n</ul>\n<h2>v8.16.0</h2>\n<ul>\n<li>Adds support for the <code>europe-west1</code> region for Firebase Realtime Database.</li>\n<li>Fixes an issue where the <code>${param:FOO}</code> syntax for Firebase Extensions did not work with the emulator.</li>\n<li>Fixes issue in <code>database:settings:get</code> where the value wasn't being properly displayed.</li>\n<li>Fixes Firebase Console URLs for Firebase Realtime Database <code>database:push</code>, <code>database:set</code>, and <code>database:update</code> commands.</li>\n</ul>\n<h2>v8.15.1</h2>\n<ul>\n<li>Works around Java emulators + WSL connectivity issues.</li>\n<li>Fixes normalization when creating/deploying Firebase Hosting channels.</li>\n<li>Release RTDB emulator 4.7.1 out-of-region request error fix</li>\n</ul>\n<h2>v8.15.0</h2>\n<ul>\n<li>Fixes Cloud Function inspection when using standalone binary release (<a href=\"https://github-redirect.dependabot.com/firebase/firebase-tools/issues/2740\">#2740</a>)</li>\n<li>Fix Database emulator crash on invalid <code>.validate</code> rules (<a href=\"https://github-redirect.dependabot.com/firebase/firebase-tools/issues/2734\">#2734</a>)</li>\n<li>Fix Database emulator rejecting Auth emulator tokens.</li>\n<li>Fixes lookup empty results using Admin SDK in Auth Emulator.</li>\n<li>Automatically connects to other running emulators from the Firebase Hosting emulator.</li>\n</ul>\n<h2>v8.14.1</h2>\n<ul>\n<li>Fixes issue in <code>hosting:channel</code> commands where a Firebase Hosting target may cause configuration parsing issues (<a href=\"https://github-redirect.dependabot.com/firebase/firebase-tools/issues/2746\">#2746</a>).</li>\n</ul>\n<h2>v8.14.0</h2>\n<ul>\n<li>Restores the ability to specify a Hosting <code>site</code> (configured in <code>firebase.json</code>) as a deploy <code>--only</code> target. (<a href=\"https://github-redirect.dependabot.com/firebase/firebase-tools/issues/2731\">#2731</a>)</li>\n<li>Introduces the Firebase Authentication Emulator.</li>\n</ul>\n<h2>v8.13.1</h2>\n<ul>\n<li>Fixes incorrect defaults when using commands from Node.js (<a href=\"https://github-redirect.dependabot.com/firebase/firebase-tools/issues/2672\">#2672</a>)</li>\n<li>Fixes issue where deploys would fail when including both Firebase Hosting and Realtime Database (<a href=\"https://github-redirect.dependabot.com/firebase/firebase-tools/issues/2726\">#2726</a>)</li>\n</ul>\n<h2>v8.13.0</h2>\n<ul>\n<li>Updates the Google Cloud Run proxy API calls to <code>v1</code> (from <code>v1alpha1</code>) (<a href=\"https://github-redirect.dependabot.com/firebase/firebase-tools/issues/2695\">#2695</a>).</li>\n<li>Release RTDB emulator v4.6.0: Get wire protocol with optional query.</li>\n<li>Updates Cloud Functions for Firebase templates to use Node 12 and better support function development.</li>\n<li>Release Firestore emulator v1.11.9: Fixes != and not-in operators.</li>\n<li>Add endpoints to enable/disable background triggers in the Cloud Functions emulator.</li>\n<li>Fixes <code>TypeError</code> that arises when trying to deploy with Firebase Hosting targets that don't exist in the project's firebase.json (<a href=\"https://github-redirect.dependabot.com/firebase/firebase-tools/issues/1232\">#1232</a>).</li>\n<li>Updates <code>firebase hosting:channel:delete</code> to remove the channel from the authorized domains list.</li>\n<li>Add custom claims to auth:export and auth:import.</li>\n<li>Fixes input issue when prompting for a Hosting Channel name.</li>\n<li>Fixes commands that rely on default RTDB instance.</li>\n</ul>\n<h2>v8.12.1</h2>\n<ul>\n<li>Fixes issue where database export does not work if database is empty (<a href=\"https://github-redirect.dependabot.com/firebase/firebase-tools/issues/2634\">#2634</a>).</li>\n<li>Fixes an issue where <code>firebase init hosting:github</code> did not write yml files to the correct location (<a href=\"https://github-redirect.dependabot.com/firebase/firebase-tools/issues/2688\">#2688</a>).</li>\n</ul>\n<h2>v8.12.0</h2>\n<ul>\n<li>Adds the <code>hosting:channel:*</code> commands for interacting with Firebase Hosting Preview Channels.</li>\n</ul>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/firebase/firebase-tools/commit/1af03a94cb2f0f92d8c08d311b16a7510627d573\"><code>1af03a9</code></a> 8.16.1</li>\n<li><a href=\"https://github.com/firebase/firebase-tools/commit/6363784e8448094f8deb41a6c35053097ee5a043\"><code>6363784</code></a> fix database:update (<a href=\"https://github-redirect.dependabot.com/firebase/firebase-tools/issues/2815\">#2815</a>)</li>\n<li><a href=\"https://github.com/firebase/firebase-tools/commit/e567ae99d691ea06d8d90f4891cab88547149320\"><code>e567ae9</code></a> [firebase-release] Removed change log and reset repo after 8.16.0 release</li>\n<li><a href=\"https://github.com/firebase/firebase-tools/commit/3d8b24340f352ff73bfc02fb086cf31a2b89d507\"><code>3d8b243</code></a> 8.16.0</li>\n<li><a href=\"https://github.com/firebase/firebase-tools/commit/f7ae292471738084df0354fc9dbb4374d18c18e8\"><code>f7ae292</code></a> Update authentication documentation in README (<a href=\"https://github-redirect.dependabot.com/firebase/firebase-tools/issues/2792\">#2792</a>)</li>\n<li><a href=\"https://github.com/firebase/firebase-tools/commit/38ec99757916625a65104e1a0ee77b1a6b1759fe\"><code>38ec997</code></a> update database:update to use apiv2 (with streaming request support) (<a href=\"https://github-redirect.dependabot.com/firebase/firebase-tools/issues/2803\">#2803</a>)</li>\n<li><a href=\"https://github.com/firebase/firebase-tools/commit/dde1dbea7d1137f6d842613b0789e1b67c159043\"><code>dde1dbe</code></a> Reveal <code>europe-west1</code> region for RTDB (<a href=\"https://github-redirect.dependabot.com/firebase/firebase-tools/issues/2812\">#2812</a>)</li>\n<li><a href=\"https://github.com/firebase/firebase-tools/commit/f8e0d31bd34da4c501efb035b242ab164043a4cd\"><code>f8e0d31</code></a> Adding support for ${param:FOO} syntax (<a href=\"https://github-redirect.dependabot.com/firebase/firebase-tools/issues/2810\">#2810</a>)</li>\n<li><a href=\"https://github.com/firebase/firebase-tools/commit/57666e5ab66331eea2969d420b72ca565bf603a2\"><code>57666e5</code></a> ts database:profile and use apiv2 (<a href=\"https://github-redirect.dependabot.com/firebase/firebase-tools/issues/2804\">#2804</a>)</li>\n<li><a href=\"https://github.com/firebase/firebase-tools/commit/d305caf2c9ccc6ce9de97658b291fddb53e176bd\"><code>d305caf</code></a> fix database:settings:get/set (<a href=\"https://github-redirect.dependabot.com/firebase/firebase-tools/issues/2811\">#2811</a>)</li>\n<li>Additional commits viewable in <a href=\"https://github.com/firebase/firebase-tools/compare/v7.6.1...v8.16.1\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=firebase-tools&package-manager=npm_and_yarn&previous-version=7.6.1&new-version=8.16.1)](https://docs.github.com/en/github/managing-security-vulnerabilities/configuring-github-dependabot-security-updates)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>","Url":"https://github.com/angular/components/pull/21036","RelatedDescription":"Closed or merged PR \"build: bump firebase-tools from 7.6.1 to 8.16.1\" (#21036)"},{"Id":"742147366","IsPullRequest":true,"CreatedAt":"2020-11-13T18:42:26","Actor":"dependabot[bot]","Number":"21037","RawContent":null,"Title":"build: bump @angular-devkit/build-optimizer from 0.1100.0 to 0.1100.1","State":"closed","Body":"Bumps [@angular-devkit/build-optimizer](https://github.com/angular/angular-cli) from 0.1100.0 to 0.1100.1.\n<details>\n<summary>Commits</summary>\n<ul>\n<li>See full diff in <a href=\"https://github.com/angular/angular-cli/commits\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=@angular-devkit/build-optimizer&package-manager=npm_and_yarn&previous-version=0.1100.0&new-version=0.1100.1)](https://docs.github.com/en/github/managing-security-vulnerabilities/configuring-github-dependabot-security-updates)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>","Url":"https://github.com/angular/components/pull/21037","RelatedDescription":"Closed or merged PR \"build: bump @angular-devkit/build-optimizer from 0.1100.0 to 0.1100.1\" (#21037)"},{"Id":"742146900","IsPullRequest":true,"CreatedAt":"2020-11-13T18:41:54","Actor":"dependabot[bot]","Number":"21035","RawContent":null,"Title":"build: bump minimist from 1.2.3 to 1.2.5","State":"closed","Body":"Bumps [minimist](https://github.com/substack/minimist) from 1.2.3 to 1.2.5.\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/substack/minimist/commit/aeb3e27dae0412de5c0494e9563a5f10c82cc7a9\"><code>aeb3e27</code></a> 1.2.5</li>\n<li><a href=\"https://github.com/substack/minimist/commit/278677b171d956b46613a158c6c486c3ef979b20\"><code>278677b</code></a> 1.2.4</li>\n<li><a href=\"https://github.com/substack/minimist/commit/4cf1354839cb972e38496d35e12f806eea92c11f\"><code>4cf1354</code></a> security notice</li>\n<li><a href=\"https://github.com/substack/minimist/commit/1043d212c3caaf871966e710f52cfdf02f9eea4b\"><code>1043d21</code></a> additional test for constructor prototype pollution</li>\n<li>See full diff in <a href=\"https://github.com/substack/minimist/compare/1.2.3...1.2.5\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=minimist&package-manager=npm_and_yarn&previous-version=1.2.3&new-version=1.2.5)](https://docs.github.com/en/github/managing-security-vulnerabilities/configuring-github-dependabot-security-updates)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>","Url":"https://github.com/angular/components/pull/21035","RelatedDescription":"Closed or merged PR \"build: bump minimist from 1.2.3 to 1.2.5\" (#21035)"},{"Id":"742146847","IsPullRequest":true,"CreatedAt":"2020-11-13T18:41:38","Actor":"dependabot[bot]","Number":"21034","RawContent":null,"Title":"build: bump typescript from 4.0.2 to 4.0.5","State":"closed","Body":"Bumps [typescript](https://github.com/Microsoft/TypeScript) from 4.0.2 to 4.0.5.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/Microsoft/TypeScript/releases\">typescript's releases</a>.</em></p>\n<blockquote>\n<h2>TypeScript 4.0.5</h2>\n<p>For release notes, check out the <a href=\"https://devblogs.microsoft.com/typescript/announcing-typescript-4-0/\">release announcement</a>.</p>\n<p>For the complete list of fixed issues, check out the</p>\n<ul>\n<li><a href=\"https://github.com/Microsoft/TypeScript/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+milestone%3A%22TypeScript+4.0.0%22+is%3Aclosed+\">fixed issues query for TypeScript v4.0.0 (Beta)</a>.</li>\n<li><a href=\"https://github.com/Microsoft/TypeScript/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+milestone%3A%22TypeScript+4.0.1%22+is%3Aclosed+\">fixed issues query for TypeScript v4.0.1 (RC)</a>.</li>\n<li><a href=\"https://github.com/Microsoft/TypeScript/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+milestone%3A%22TypeScript+4.0.2%22+is%3Aclosed+\">fixed issues query for TypeScript v4.0.2</a>.</li>\n<li><a href=\"https://github.com/Microsoft/TypeScript/issues?utf8=%E2%9C%93&amp;q=milestone%3A%22TypeScript+4.0.3%22+is%3Aclosed+\">fixed issues query for TypeScript v4.0.3</a>.</li>\n<li>TypeScript 4.0.4 NOT FOUND</li>\n<li><a href=\"https://github.com/Microsoft/TypeScript/issues?utf8=%E2%9C%93&amp;q=milestone%3A%22TypeScript+4.0.5%22+is%3Aclosed+\">fixed issues query for TypeScript v4.0.5</a>.</li>\n</ul>\n<p>Downloads are available on:</p>\n<ul>\n<li><a href=\"https://www.npmjs.com/package/typescript\">npm</a></li>\n</ul>\n<h2>TypeScript 4.0.3</h2>\n<p>For release notes, check out the <a href=\"https://devblogs.microsoft.com/typescript/announcing-typescript-4-0/\">release announcement</a>.</p>\n<p>For the complete list of fixed issues, check out the</p>\n<ul>\n<li><a href=\"https://github.com/Microsoft/TypeScript/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+milestone%3A%22TypeScript+4.0.0%22+is%3Aclosed+\">fixed issues query for TypeScript v4.0.0 (Beta)</a>.</li>\n<li><a href=\"https://github.com/Microsoft/TypeScript/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+milestone%3A%22TypeScript+4.0.1%22+is%3Aclosed+\">fixed issues query for TypeScript v4.0.1 (RC)</a>.</li>\n<li><a href=\"https://github.com/Microsoft/TypeScript/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+milestone%3A%22TypeScript+4.0.2%22+is%3Aclosed+\">fixed issues query for TypeScript v4.0.2</a>.</li>\n<li><a href=\"https://github.com/Microsoft/TypeScript/issues?utf8=%E2%9C%93&amp;q=milestone%3A%22TypeScript+4.0.3%22+is%3Aclosed+\">fixed issues query for TypeScript v4.0.3</a>.</li>\n</ul>\n<p>Downloads are available on:</p>\n<ul>\n<li><a href=\"https://www.npmjs.com/package/typescript\">npm</a></li>\n<li><a href=\"https://marketplace.visualstudio.com/items?itemName=TypeScriptTeam.TypeScript-40\">Visual Studio 2017/2019</a> (<a href=\"https://github.com/Microsoft/TypeScript/wiki/Updating-TypeScript-in-Visual-Studio-2017\">Select new version in project options</a>)</li>\n<li><a href=\"https://www.nuget.org/packages/Microsoft.TypeScript.MSBuild\">NuGet package</a></li>\n</ul>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/microsoft/TypeScript/commit/524480f2b2d860963b08d6bfe5f0497506182194\"><code>524480f</code></a> Bump version to 4.0.5 and LKG</li>\n<li><a href=\"https://github.com/microsoft/TypeScript/commit/4f783761c2863dd755c8c50314bd413478478248\"><code>4f78376</code></a> Update LKG</li>\n<li><a href=\"https://github.com/microsoft/TypeScript/commit/2c0e96610522a3b9b3e5ecac8673dd1135a3bfcd\"><code>2c0e966</code></a> Pick/41079/release 4.0 (<a href=\"https://github-redirect.dependabot.com/Microsoft/TypeScript/issues/41204\">#41204</a>)</li>\n<li><a href=\"https://github.com/microsoft/TypeScript/commit/cf134778bf131ffd30ea767adb2ef25298ee287c\"><code>cf13477</code></a> Bump version to 4.0.4 and LKG</li>\n<li><a href=\"https://github.com/microsoft/TypeScript/commit/60ad73da1fd828c829c8adf7eec03cc9bc6e550f\"><code>60ad73d</code></a> Cherry-pick PR <a href=\"https://github-redirect.dependabot.com/Microsoft/TypeScript/issues/40880\">#40880</a> into release-4.0 (<a href=\"https://github-redirect.dependabot.com/Microsoft/TypeScript/issues/41107\">#41107</a>)</li>\n<li><a href=\"https://github.com/microsoft/TypeScript/commit/91628ac60ebfba360d136c2fadc2eb5800074405\"><code>91628ac</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/Microsoft/TypeScript/issues/40703\">#40703</a> from amcasey/NpmCi40</li>\n<li><a href=\"https://github.com/microsoft/TypeScript/commit/a76f015f9bc9474e52481640f1f07e3fe89a4314\"><code>a76f015</code></a> Backport package-lock infra changes to 4.0</li>\n<li><a href=\"https://github.com/microsoft/TypeScript/commit/e9d8ccb8b689dd772dcc66388389acd313af2b58\"><code>e9d8ccb</code></a> fix(40640) add missing notApplicableReason in protocol (<a href=\"https://github-redirect.dependabot.com/Microsoft/TypeScript/issues/40680\">#40680</a>) (<a href=\"https://github-redirect.dependabot.com/Microsoft/TypeScript/issues/40688\">#40688</a>)</li>\n<li><a href=\"https://github.com/microsoft/TypeScript/commit/fee3bfbe91b7582f42e2f49814b87353f67e63f4\"><code>fee3bfb</code></a> Bump version to 4.0.3 and LKG</li>\n<li><a href=\"https://github.com/microsoft/TypeScript/commit/2eb5deae4bafe169ec1d2ecf66999003574164bb\"><code>2eb5dea</code></a> Update LKG</li>\n<li>Additional commits viewable in <a href=\"https://github.com/Microsoft/TypeScript/compare/v4.0.2...v4.0.5\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=typescript&package-manager=npm_and_yarn&previous-version=4.0.2&new-version=4.0.5)](https://docs.github.com/en/github/managing-security-vulnerabilities/configuring-github-dependabot-security-updates)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>","Url":"https://github.com/angular/components/pull/21034","RelatedDescription":"Closed or merged PR \"build: bump typescript from 4.0.2 to 4.0.5\" (#21034)"},{"Id":"742146533","IsPullRequest":true,"CreatedAt":"2020-11-13T18:41:22","Actor":"dependabot[bot]","Number":"21033","RawContent":null,"Title":"build: bump @types/parse5 from 5.0.0 to 5.0.3","State":"closed","Body":"Bumps [@types/parse5](https://github.com/DefinitelyTyped/DefinitelyTyped/tree/HEAD/types/parse5) from 5.0.0 to 5.0.3.\n<details>\n<summary>Commits</summary>\n<ul>\n<li>See full diff in <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/commits/HEAD/types/parse5\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=@types/parse5&package-manager=npm_and_yarn&previous-version=5.0.0&new-version=5.0.3)](https://docs.github.com/en/github/managing-security-vulnerabilities/configuring-github-dependabot-security-updates)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>","Url":"https://github.com/angular/components/pull/21033","RelatedDescription":"Closed or merged PR \"build: bump @types/parse5 from 5.0.0 to 5.0.3\" (#21033)"},{"Id":"742622592","IsPullRequest":false,"CreatedAt":"2020-11-13T17:14:33","Actor":"acohenOT","Number":"21043","RawContent":null,"Title":"bug(DATEPICKER): Close calendar button not placed correctly when opened using button click event","State":"open","Body":"#### Reproduction\r\n\r\nStackBlitz: https://stackblitz.com/edit/angular-y4se2w\r\n\r\nSteps to reproduce:\r\n1. Create a button that when clicked, opens the date picker (instead of using `mat-datepicker-toggle` component)\r\n2. Click button to open the date picker (notice UI artifact in the bottom left of the calendar)\r\n3. Tap the TAB key twice (notice the `Close calendar` button is on the inside of the calendar border)\r\n \r\n \r\n#### Expected Behavior\r\n\r\nWhen the picker is open, no UI artifact at the bottom of the calendar\r\n![image](https://user-images.githubusercontent.com/34688558/99100156-6c344e00-25a9-11eb-86d0-9f14357117d7.png)\r\n\r\nWhen you tab to the `Close calendar` button, the button should appear outside of the calendar border\r\n![image](https://user-images.githubusercontent.com/34688558/99100195-7e15f100-25a9-11eb-8c41-a2592c800974.png)\r\n\r\n\r\n#### Actual Behavior\r\n\r\nWhat behavior did you actually see?\r\n\r\nWhen the picker is opened using a button click event, a UI artifact appears at the bottom of the calendar\r\n![image](https://user-images.githubusercontent.com/34688558/99100258-971ea200-25a9-11eb-80f1-1b5bd4867cc9.png)\r\n\r\nWhen you tab the button, the button appears inside the calendar component\r\n![image](https://user-images.githubusercontent.com/34688558/99100299-a69deb00-25a9-11eb-82e2-ed887d78a0d1.png)\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 11.0\r\n- CDK/Material: 11.0\r\n- Browser(s): Chrome 86\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows 10\r\n","Url":"https://github.com/angular/components/issues/21043","RelatedDescription":"Open issue \"bug(DATEPICKER): Close calendar button not placed correctly when opened using button click event\" (#21043)"},{"Id":"742593435","IsPullRequest":true,"CreatedAt":"2020-11-13T16:40:49","Actor":"crisbeto","Number":"21042","RawContent":null,"Title":"fix(material/checkbox): no color assigned if defaults don't have a color","State":"open","Body":"Fixes an issue where a `mat-checkbox` wouldn't have a `color`, if the `MAT_CHECKBOX_DEFAULT_OPTIONS` was provided without one.\r\n\r\nFixes #21031.","Url":"https://github.com/angular/components/pull/21042","RelatedDescription":"Open PR \"fix(material/checkbox): no color assigned if defaults don't have a color\" (#21042)"},{"Id":"742531239","IsPullRequest":false,"CreatedAt":"2020-11-13T15:22:22","Actor":"bollerdominik","Number":"21041","RawContent":null,"Title":"bug(MatSlider): Simple Audio Player not working after updating to Angular 10","State":"open","Body":"#### Reproduction\r\n\r\nSee https://stackblitz.com/edit/components-issue-a8mdh1\r\n Click on Play to start playing the audio file\r\n \r\n \r\n#### Expected Behavior\r\n\r\nWhat behavior were you expecting to see?\r\n\r\nWhen moving the slider the audio should jump to the correct position. This used to be the behaviour on Angular 9.\r\n\r\n\r\n#### Actual Behavior\r\n\r\nWhat behavior did you actually see?\r\n\r\nWhen moving the slider the audio position does not change.\r\n\r\n#### Environment\r\n\r\n- Angular:\r\n- CDK/Material: Does not work with 10 & 11. Works on 9\r\n- Browser(s): Chrome, Firefox\r\n- Operating System: Windows\r\n","Url":"https://github.com/angular/components/issues/21041","RelatedDescription":"Open issue \"bug(MatSlider): Simple Audio Player not working after updating to Angular 10\" (#21041)"},{"Id":"742399073","IsPullRequest":false,"CreatedAt":"2020-11-13T12:00:05","Actor":"Navin-vis","Number":"21040","RawContent":null,"Title":"iframe youtube popup blocker","State":"open","Body":"Can you help me out how can i remove allow attribute from iframe and add sandbox attribute\r\nI am using \"@angular/youtube-player\": \"^11.0.0\",\r\nMy dev devDependencies are as follows\r\n  \"devDependencies\": {\r\n    \"@angular-devkit/build-angular\": \"^0.803.21\",\r\n    \"@angular/cli\": \"^8.3.21\",\r\n    \"@angular/compiler-cli\": \"~8.2.9\",\r\n    \"@angular/language-service\": \"~8.2.9\",\r\n    \"@types/jasmine\": \"~3.3.8\",\r\n    \"@types/jasminewd2\": \"~2.0.3\",\r\n    \"@types/node\": \"^8.9.5\",\r\n    \"codelyzer\": \"^5.2.1\",\r\n    \"jasmine-core\": \"~3.4.0\",\r\n    \"jasmine-spec-reporter\": \"~4.2.1\",\r\n    \"karma\": \"~4.1.0\",\r\n    \"karma-chrome-launcher\": \"~2.2.0\",\r\n    \"karma-coverage-istanbul-reporter\": \"~2.0.1\",\r\n    \"karma-jasmine\": \"~2.0.1\",\r\n    \"karma-jasmine-html-reporter\": \"^1.5.1\",\r\n    \"protractor\": \"~5.4.0\",\r\n    \"ts-node\": \"~7.0.0\",\r\n    \"tslint\": \"~5.15.0\",\r\n    \"typescript\": \"~3.5.3\"\r\n  }\r\n","Url":"https://github.com/angular/components/issues/21040","RelatedDescription":"Open issue \"iframe youtube popup blocker\" (#21040)"},{"Id":"742391534","IsPullRequest":true,"CreatedAt":"2020-11-13T11:45:55","Actor":"mrmokwa","Number":"21039","RawContent":null,"Title":"docs: add typography path in readme","State":"open","Body":"Readme is missing the import to typography that is necessary for @include angular-material-mdc-typography();\r\n\r\nObs: Original was #21003, but I ended up breaking the CI and couldn't get it to work. Resubmitting to see if it works now.\r\nMy bad @jelbourn and @crisbeto ","Url":"https://github.com/angular/components/pull/21039","RelatedDescription":"Open PR \"docs: add typography path in readme\" (#21039)"},{"Id":"742257466","IsPullRequest":false,"CreatedAt":"2020-11-13T08:24:48","Actor":"james-schwartzkopf","Number":"21038","RawContent":null,"Title":"bug(matTooltip): type should not just be string (null | undefined)","State":"open","Body":"#### Reproduction\r\n\r\nAfter updating to Angular 11 we started getting errors with [matTooltip].  Looking at the setter, it checks for != null which should cover both null and undefined, but the type only allows string. \r\n\r\nUse StackBlitz to reproduce your issue: https://stackblitz.com/fork/components-issue\r\n\r\nI tried to reproduce with StackBlitz, but can't seem to replicate the errors there.  Does the strictTemplates flag not work with StackBlitz?\r\n\r\nWith strictNullChecks and strictTemplates set to true in tsconfig.json, we expect this template to compile:\r\n```<div [matTooltip]=\"undefined\">Testing</div>```\r\n \r\n Obviously in our real case we have a property that may or may not have a tooltip depending on the data.\r\n\r\n\r\n#### Expected Behavior\r\n\r\nWe expect tooltips with null/undefined to compile\r\n\r\n#### Actual Behavior\r\nType 'undefined' is not assignable to type 'string'\r\n\r\nErrors compiling the template when using strictTemplates & strictNullChecks\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 11\r\n- CDK/Material: 11\r\n- Browser(s): N/A\r\n- Operating System (e.g. Windows, macOS, Ubuntu): N/A (Windows)\r\n","Url":"https://github.com/angular/components/issues/21038","RelatedDescription":"Open issue \"bug(matTooltip): type should not just be string (null | undefined)\" (#21038)"},{"Id":"741957567","IsPullRequest":true,"CreatedAt":"2020-11-12T21:59:34","Actor":"crisbeto","Number":"21032","RawContent":null,"Title":"refactor(material/core): resolve circular dependency and remove underscores from more imported mixins","State":"open","Body":"Resolves the following issues with our Sass that are errors under the Sass module system:\r\n* There were a handful of mixins with underscores in their name which were imported into other files.\r\n* There was a circular dependency between `density/private` and `theming/all-theme`.","Url":"https://github.com/angular/components/pull/21032","RelatedDescription":"Open PR \"refactor(material/core): resolve circular dependency and remove underscores from more imported mixins\" (#21032)"},{"Id":"741890923","IsPullRequest":false,"CreatedAt":"2020-11-12T20:05:19","Actor":"Eddygn","Number":"21031","RawContent":null,"Title":"MatCheckbox not rendering check for undefined color when using default options","State":"open","Body":"#### Reproduction\r\n\r\nhttps://stackblitz.com/edit/angular-yyan4s?file=src%2Fapp%2Fcheckbox-overview-example.html\r\n\r\nSteps to reproduce:\r\n1.  Adding the default behavior provider ```    {\r\n      provide: MAT_CHECKBOX_DEFAULT_OPTIONS,\r\n      useValue: { clickAction: \"noop\" } as MatCheckboxDefaultOptions\r\n    }```\r\n2. Setting any checkbox via input, for example: ```<mat-checkbox [checked]=\"true\">Checked</mat-checkbox>```\r\n \r\n \r\n#### Expected Behavior\r\n\r\n![image](https://user-images.githubusercontent.com/33177527/98990326-fd1c1280-2532-11eb-89cd-b7e15d90fcb4.png)\r\n\r\n\r\n#### Actual Behavior\r\n\r\nWhat behavior did you actually see?\r\n\r\n![image](https://user-images.githubusercontent.com/33177527/98990370-0ad19800-2533-11eb-82f7-5a0ef36e3d29.png)\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 11\r\n- CDK/Material: 11\r\n- Browser(s): Firefox 82\r\n- Operating System (e.g. Windows, macOS, Ubuntu):  Windows 10\r\n","Url":"https://github.com/angular/components/issues/21031","RelatedDescription":"Open issue \"MatCheckbox not rendering check for undefined color when using default options\" (#21031)"},{"Id":"741812049","IsPullRequest":false,"CreatedAt":"2020-11-12T18:03:29","Actor":"skoropadas","Number":"21030","RawContent":null,"Title":"bug(cdk/testing): sendKeys doesn't watch input selection","State":"open","Body":"#### Reproduction\r\nThis is an issue with TestHarness, I don't know how I can reproduce it with StackBlitz.\r\n\r\nSteps to reproduce:\r\ntry to execute this code for the input element\r\n\r\n```\r\ninput.sendKeys('34')\r\ninput.sendKeys(TestKey.LEFT_ARROW);\r\ninput.sendKeys(TestKey.LEFT_ARROW);\r\ninput.sendKeys('12')\r\n```\r\n \r\n#### Expected Behavior\r\n\r\ninput value will be \"1234\"\r\n\r\n#### Actual Behavior\r\n\r\ninput value will be \"3412\"\r\n\r\n#### Environment\r\n\r\n- Angular: master\r\n- CDK/Material: master\r\n- Browser(s): all\r\n- Operating System (e.g. Windows, macOS, Ubuntu): all\r\n","Url":"https://github.com/angular/components/issues/21030","RelatedDescription":"Open issue \"bug(cdk/testing): sendKeys doesn't watch input selection\" (#21030)"},{"Id":"741799842","IsPullRequest":false,"CreatedAt":"2020-11-12T17:45:31","Actor":"ensnared","Number":"21029","RawContent":null,"Title":"feat(MatCheckboxModule): add an option to toggle() to mark control as dirty/non-pristine","State":"open","Body":"#### Reproduction\r\n\r\nSteps to reproduce:\r\n\r\nProgramatically change a MatCheckbox in the component typescript-file using the toggle() method\r\n\r\nSee https://stackblitz.com/edit/angular-ivy-a5lgux\r\n \r\n \r\n#### Expected Behavior\r\n\r\nThe checkbox (and the form) should be marked as dirty=true and pristine=false.\r\n\r\n\r\n#### Actual Behavior\r\n\r\nThe checkbox (and form) remains unchanged marked as pristine=true and dirty=false.\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 10.2.3\r\n- CDK/Material: 10.2.6 (also tested with 11.0.0)\r\n- Browser(s): Chrome 86.0.4240.193 (64-bit)\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Ubuntu 20.10 WSL in Windows 10\r\n","Url":"https://github.com/angular/components/issues/21029","RelatedDescription":"Open issue \"feat(MatCheckboxModule): add an option to toggle() to mark control as dirty/non-pristine\" (#21029)"},{"Id":"741707554","IsPullRequest":true,"CreatedAt":"2020-11-12T16:39:19","Actor":"jelbourn","Number":"21028","RawContent":null,"Title":"build: correct version for master branch","State":"closed","Body":"The version on the master branch was accidentally lowered from\r\n`11.1.0-next.0` to `11.0.0-rc.2` in 0cd3671a","Url":"https://github.com/angular/components/pull/21028","RelatedDescription":"Closed or merged PR \"build: correct version for master branch\" (#21028)"},{"Id":"741674120","IsPullRequest":false,"CreatedAt":"2020-11-12T15:02:29","Actor":"lschuft","Number":"21027","RawContent":null,"Title":"bug(cdkDrag): Click events don't bubble up from cdkDrag items","State":"open","Body":"#### Reproduction\r\n\r\nStackBlitz: https://stackblitz.com/edit/components-issue-wdnqmc\r\n\r\nSteps to reproduce:\r\n1. Place the [CDK Drag and Drop connected sorting group example](https://stackblitz.com/angular/kbgbenlxerm?file=src%2Fapp%2Fcdk-drag-drop-connected-sorting-group-example.ts) in the page.\r\n2. Subscribe to a [RxJS fromEvent](https://rxjs-dev.firebaseapp.com/api/index/function/fromEvent) that listens for mousedown events. This is used in some third party libraries like NgBootstrap (I included two examples from that library in the StackBlitz for demonstration purposes). You can also use Angular's own [@HostListener](https://angular.io/api/core/HostListener) (left a commented block if someone wants to try it).\r\n3. Click anywhere on the page, and see the click counter rise. \r\n4. Now, click on the enabled cdkDrag items. \r\n \r\n#### Expected Behavior\r\n\r\nThe click counter should detect the clicks. Open dropdowns and popovers should close on clicks outside of them.\r\n\r\n#### Actual Behavior\r\n\r\nThe click counter does not detect the clicks. Open dropdowns and popovers remain open:\r\n\r\n![GIF 11-12-2020 12-01-06 PM](https://user-images.githubusercontent.com/20956972/98956450-d03e1000-24de-11eb-9b14-752ffe94b99a.gif)\r\n\r\n#### Environment\r\n\r\n- Angular: 10.1.1\r\n- CDK/Material: 10.2.1\r\n- Browser(s): Chrome, Firefox, Edge, Chrome for Android.\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows, Android (couldn't check others)\r\n","Url":"https://github.com/angular/components/issues/21027","RelatedDescription":"Open issue \"bug(cdkDrag): Click events don't bubble up from cdkDrag items\" (#21027)"},{"Id":"741497095","IsPullRequest":false,"CreatedAt":"2020-11-12T10:55:09","Actor":"Antoniossss","Number":"21026","RawContent":null,"Title":"mat error message not shown when custom control is in error state using matInput","State":"open","Body":"#### Reproduction\r\n\r\nUse StackBlitz to reproduce your issue:\r\n\r\nhttps://stackblitz.com/edit/angular-w24ch3?file=src%2Fapp%2Fcustominput%2Fcustominput.component.html\r\nSteps to reproduce:\r\n1.  Focus on the input (do not enter anything)\r\n2.  Blur the input (click somewhere)\r\n4.  Focus input again\r\n \r\n \r\n#### Expected Behavior\r\n\r\nError message is shown in the same moment when field enters error state\r\n\r\n\r\n#### Actual Behavior\r\n\r\nI have to focus again into the input to get error message displayed right\r\n\r\n\r\n#### Environment\r\n@angular-devkit/architect          0.1001.5\r\n@angular-devkit/build-angular      0.1001.5\r\n@angular-devkit/build-ng-packagr   0.1001.5\r\n@angular-devkit/core               10.1.5\r\n@angular-devkit/schematics         10.1.5\r\n@angular/cdk                       10.2.4\r\n@angular/material                  10.2.4\r\n@schematics/angular                10.1.5\r\n@schematics/update                 0.1001.5\r\nng-packagr                         10.1.2\r\nrxjs                               6.6.3\r\ntypescript                         4.0.3\r\n\r\nlooks like OS/browser agnostic\r\n","Url":"https://github.com/angular/components/issues/21026","RelatedDescription":"Open issue \"mat error message not shown when custom control is in error state using matInput\" (#21026)"},{"Id":"741200793","IsPullRequest":false,"CreatedAt":"2020-11-12T07:24:01","Actor":"chigix","Number":"21024","RawContent":null,"Title":"bug[mat-icon] unreachable code result from possible spell miss","State":"closed","Body":"https://github.com/angular/components/blob/65e9ad158a0a051b999640ebcb4ef955c9255358/src/material/icon/icon.ts#L256\r\n\r\nBecause `previousValue` is accessible on the `SimpleChanges` event object rather than the `svgIconChanges` that is obtained from [`changes['svgIcon']`](https://github.com/angular/components/blob/65e9ad158a0a051b999640ebcb4ef955c9255358/src/material/icon/icon.ts#L231), the line https://github.com/angular/components/blob/65e9ad158a0a051b999640ebcb4ef955c9255358/src/material/icon/icon.ts#L256 becomes unreachable at present.\r\n\r\nPlease confirm is it an intended design or just a bug ?\r\n\r\nIf it is a bug, would it be a necessity to update testing cases in spec files to reflect this corresponding conditional branch ?","Url":"https://github.com/angular/components/issues/21024","RelatedDescription":"Closed issue \"bug[mat-icon] unreachable code result from possible spell miss\" (#21024)"},{"Id":"741337900","IsPullRequest":false,"CreatedAt":"2020-11-12T07:01:35","Actor":"Eddygn","Number":"21025","RawContent":null,"Title":"docs-bug(checkbox): Documentation use \"MAT_CHECKBOX_CLICK_ACTION\" without notification of deprecation. When MAT_CHECKBOX_DEFAULT_OPTIONS should be used. Errors in v11. ","State":"open","Body":"The checkbox documentation page has a section about the usage of \"MAT_CHECKBOX_CLICK_ACTION\" to define the behavior on clicks. \r\nIt didn't provide any indication that this method is deprecated, nor that it was replaced with  ```{provide: MAT_CHECKBOX_DEFAULT_OPTIONS, useValue: { clickAction: 'noop' } as MatCheckboxDefaultOptions }```\r\n\r\nRunning a project after upgrading the Angular and Material package will produce an error.\r\n\r\n\r\nMigration didn't touch this. I don't know if it was updated in earlier migration, since I've only added the provider a week ago, into v10 project. (no notice of deprecation anywhere I saw)\r\n\r\n\r\n**Affected documentation page:** \r\nhttps://material.angular.io/components/checkbox/overview","Url":"https://github.com/angular/components/issues/21025","RelatedDescription":"Open issue \"docs-bug(checkbox): Documentation use \"MAT_CHECKBOX_CLICK_ACTION\" without notification of deprecation. When MAT_CHECKBOX_DEFAULT_OPTIONS should be used. Errors in v11. \" (#21025)"},{"Id":"741164922","IsPullRequest":true,"CreatedAt":"2020-11-12T02:12:16","Actor":"mmalerba","Number":"21023","RawContent":null,"Title":"release: add 11.0.0 changelog and update packages.bzl","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/21023","RelatedDescription":"Closed or merged PR \"release: add 11.0.0 changelog and update packages.bzl\" (#21023)"},{"Id":"741160993","IsPullRequest":true,"CreatedAt":"2020-11-11T23:59:26","Actor":"mmalerba","Number":"21022","RawContent":null,"Title":"release: collapse down 11.0.0 changelog","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/21022","RelatedDescription":"Closed or merged PR \"release: collapse down 11.0.0 changelog\" (#21022)"},{"Id":"741131069","IsPullRequest":true,"CreatedAt":"2020-11-11T23:08:50","Actor":"mmalerba","Number":"21021","RawContent":null,"Title":"release: bump version to 11.0.0 w/ changelog","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/21021","RelatedDescription":"Closed or merged PR \"release: bump version to 11.0.0 w/ changelog\" (#21021)"},{"Id":"741127807","IsPullRequest":true,"CreatedAt":"2020-11-11T22:59:29","Actor":"mmalerba","Number":"21020","RawContent":null,"Title":"release: update angular version in packages.bzl","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/21020","RelatedDescription":"Closed or merged PR \"release: update angular version in packages.bzl\" (#21020)"},{"Id":"741119781","IsPullRequest":true,"CreatedAt":"2020-11-11T22:52:44","Actor":"mmalerba","Number":"21019","RawContent":null,"Title":"release: bump angular to version 11","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/21019","RelatedDescription":"Closed or merged PR \"release: bump angular to version 11\" (#21019)"}],"ResultType":"GitHubIssue"}},"RunOn":"2020-11-14T05:30:05.1011128Z","RunDurationInMilliseconds":3052}