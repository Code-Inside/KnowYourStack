{"Data":{"Angular-Issues":{"Issues":[{"Id":"2323683754","IsPullRequest":false,"CreatedAt":"2024-05-30T01:54:15","Actor":"spirosdi","Number":"56157","RawContent":null,"Title":"ActivatedRoute in Directive: Snapshot.params are not getting updated","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nYes\n\n### Description\n\nWhen injecting ActivatedRoute in a directive and trying to get the route params calling this.activatedRoute.snapshot.params, the params returned are not the ones of the current route, but the ones from the first route visited. The issue appeared after updating @angular/core and @angular/router from 17.2.2 to 17.3.1. In 17.2.2 it works as expected, the params returned are the ones of the current route.\r\n\r\nI provide a link to a minimal reproduction repo. In order to reproduce the issue is important to follow these steps:\r\n1. Navigate to http://localhost:4200/id-1/child \r\n2. Click the '/id-2' link to route to http://localhost:4200/id-2\r\n3. Click the '/id-2/child' link to route to http://localhost:4200/id-2/child\r\n4. Click the \"Click and check console\" button\r\n5. The params logged in the console are `{id: 'id-1'}` but they should be `{id: 'id-2'}`\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://github.com/spirosdi/activated-route-bug-reproduction\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 17.3.8\r\nNode: 20.9.0\r\nPackage Manager: npm 10.1.0\r\nOS: darwin x64\r\n\r\nAngular: 17.3.2\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... material, platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1703.8\r\n@angular-devkit/build-angular   17.3.8\r\n@angular-devkit/core            17.3.8\r\n@angular-devkit/schematics      17.3.8\r\n@angular/cli                    17.3.8\r\n@schematics/angular             17.3.8\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.6\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/56157","RelatedDescription":"Closed issue \"ActivatedRoute in Directive: Snapshot.params are not getting updated\" (#56157)"},{"Id":"2324413971","IsPullRequest":true,"CreatedAt":"2024-05-30T00:00:29","Actor":"tylertierney","Number":"56173","RawContent":null,"Title":"docs: edit sentence grammar in style-guide","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\nDescription of how to initialize inputs in an Angular component (style-guide.md)\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\nSentence grammar has been edited.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/56173","RelatedDescription":"Open PR \"docs: edit sentence grammar in style-guide\" (#56173)"},{"Id":"2324413041","IsPullRequest":true,"CreatedAt":"2024-05-29T23:59:10","Actor":"iteriani","Number":"56172","RawContent":null,"Title":"refactor(core): Refactor parts of event_replay into a shared library and move stashing function to listening code","State":"open","Body":"\r\n\r\nThis also moves the code that stashes the jsaction more closely to the code that actually sets the event listener. I've considered just moving that code to the listener itself..but it's in a different package. Maybe we need to add another DomEventsPlugin implementation?\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [x] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/56172","RelatedDescription":"Open PR \"refactor(core): Refactor parts of event_replay into a shared library and move stashing function to listening code\" (#56172)"},{"Id":"2324404537","IsPullRequest":true,"CreatedAt":"2024-05-29T23:48:05","Actor":"iteriani","Number":"56171","RawContent":null,"Title":"Refactor event replay code to be shared with global event delegation code. Move the stashing function closer to the event listener addition.","State":"closed","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [x] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/56171","RelatedDescription":"Closed or merged PR \"Refactor event replay code to be shared with global event delegation code. Move the stashing function closer to the event listener addition.\" (#56171)"},{"Id":"2324376937","IsPullRequest":false,"CreatedAt":"2024-05-29T23:11:30","Actor":"johnnygerard","Number":"56170","RawContent":null,"Title":"docs: contradictory guidelines for use of `host`, `@HostListener` and `@HostBinding`","State":"closed","Body":"### Describe the problem that you experienced\n\nThe following guidelines contradict each other:\r\n\r\n[Style 06-03](https://angular.dev/style-guide#style-06-03)\r\n> Consider preferring the @HostListener and @HostBinding to the host property of the @Directive and @Component decorators.\r\n\r\n[The @HostBinding and @HostListener decorators](https://angular.dev/guide/components/host-elements#the-hostbinding-and-hostlistener-decorators)\r\n> Always prefer using the host property over @HostBinding and @HostListener. These decorators exist exclusively for backwards compatibility.\n\n### Enter the URL of the topic with the problem\n\n_No response_\n\n### Describe what you were looking for in the documentation\n\n_No response_\n\n### Describe the actions that led you to experience the problem\n\n_No response_\n\n### Describe what you want to experience that would fix the problem\n\n_No response_\n\n### Add a screenshot if that helps illustrate the problem\n\n_No response_\n\n### If this problem caused an exception or error, please paste it here\n\n_No response_\n\n### If the problem is browser-specific, please specify the device, OS, browser, and version\n\n_No response_\n\n### Provide any additional information here in as much as detail as you can\n\n_No response_","Url":"https://github.com/angular/angular/issues/56170","RelatedDescription":"Closed issue \"docs: contradictory guidelines for use of `host`, `@HostListener` and `@HostBinding`\" (#56170)"},{"Id":"2324339137","IsPullRequest":true,"CreatedAt":"2024-05-29T22:25:05","Actor":"josephperrott","Number":"56169","RawContent":null,"Title":"build: update cross-repo angular dependencies (patch version)","State":"open","Body":"See associated pull request for more information.\r\n","Url":"https://github.com/angular/angular/pull/56169","RelatedDescription":"Open PR \"build: update cross-repo angular dependencies (patch version)\" (#56169)"},{"Id":"2324319716","IsPullRequest":true,"CreatedAt":"2024-05-29T22:04:43","Actor":"angular-robot","Number":"56168","RawContent":null,"Title":"build: update io_bazel_rules_sass digest to 20c8144","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| io_bazel_rules_sass | http_archive | digest | `2907a45` -> `20c8144` |\n\n---\n\n### Configuration\n\nðŸ“… **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\nðŸš¦ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\nâ™» **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\nðŸ”• **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4zNjguMyIsInVwZGF0ZWRJblZlciI6IjM3LjM2OC4zIiwidGFyZ2V0QnJhbmNoIjoibWFpbiIsImxhYmVscyI6WyJhY3Rpb246IG1lcmdlIiwiYXJlYTogYnVpbGQgJiBjaSIsInRhcmdldDogcGF0Y2giXX0=-->\n","Url":"https://github.com/angular/angular/pull/56168","RelatedDescription":"Open PR \"build: update io_bazel_rules_sass digest to 20c8144\" (#56168)"},{"Id":"2322885379","IsPullRequest":true,"CreatedAt":"2024-05-29T21:44:09","Actor":"vidhihattar","Number":"56149","RawContent":null,"Title":"docs: add discord link icon to nav menu","State":"closed","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\nNo discord link in the navigation menu.\r\n\r\nIssue Number: 56097\r\n\r\n\r\n## What is the new behavior?\r\nDiscord icon link added to the navigation menu.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/56149","RelatedDescription":"Closed or merged PR \"docs: add discord link icon to nav menu\" (#56149)"},{"Id":"2324229267","IsPullRequest":true,"CreatedAt":"2024-05-29T20:52:19","Actor":"JeanMeche","Number":"56167","RawContent":null,"Title":"docs(docs-infra): disable the service worker for the v17 docs","State":"open","Body":"This will solve the incompatibities we have between the root of v17.angular.io redirecting to angular.dev and the service worker. ","Url":"https://github.com/angular/angular/pull/56167","RelatedDescription":"Open PR \"docs(docs-infra): disable the service worker for the v17 docs\" (#56167)"},{"Id":"2324221751","IsPullRequest":false,"CreatedAt":"2024-05-29T20:46:49","Actor":"mohammedsahl","Number":"56166","RawContent":null,"Title":"Inconsistent Back/Forward Button behaviour with Angular Fragment Routing","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\nrouter\n\n### Is this a regression?\n\nNo\n\n### Description\n\n### Description\r\nI encounter unexpected behaviour with Angular routing when using anchor tags with fragments (#) for in-page navigation.\r\n\r\n- Using routerLink='.' fragment='fragment-id' allows in-page navigation with fragments, but the browser back button functionality is broken (I think?).\r\n- Navigating directly to a fragment URL (e.g., http:localhost:4200/crisis-list#section1) and then using internal fragment links works as expected (mimics vanilla HTML behaviour).\r\n- The issue lies specifically with navigating between fragments on the same page using internal links when the initial page load includes a fragment and the back/forward button is used. This creates inconsistencies in the Angular router stack.\r\n\r\nIs this expected behaviour?\r\n\r\nHere's a video describing the situation (please excuse the idling ðŸ˜…). The relevant parts are 1:22 onwards where I navigate from /crisis-list#top to /crisis-list#section1 by typing it out and pressing enter and then pressing the back button. But everything before that is important too I guess.\r\n\r\nhttps://github.com/angular/angular/assets/32067562/cd0549da-583d-4ee9-95e6-abc953bf5312\r\n\r\n### Expected Behavior\r\nClicking the back button after navigating between fragments using internal links should return to the previous fragment state.\r\n\r\n### Actual Behavior\r\nClicking the back button after navigating between fragments using internal links results in unexpected behavior and an inconsistent router stack.\r\n\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://github.com/mohammedsahl/angular-routing-sandbox\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 17.3.0\r\nNode: 20.12.1\r\nPackage Manager: npm 10.5.0\r\nOS: darwin x64\r\n\r\nAngular: <error>\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1703.0 (cli-only)\r\n@angular-devkit/build-angular   <error>\r\n@angular-devkit/core            17.3.0 (cli-only)\r\n@angular-devkit/schematics      17.3.0 (cli-only)\r\n@angular/cli                    17.3.0 (cli-only)\r\n@schematics/angular             17.3.0 (cli-only)\r\nrxjs                            7.8.1 (cli-only)\r\ntypescript                      <error>\r\nzone.js                         <error>\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/56166","RelatedDescription":"Open issue \"Inconsistent Back/Forward Button behaviour with Angular Fragment Routing\" (#56166)"},{"Id":"2324103872","IsPullRequest":true,"CreatedAt":"2024-05-29T19:35:40","Actor":"9kubczas4","Number":"56165","RawContent":null,"Title":"fix(docs-infra): prerender tutorials pages","State":"open","Body":"fix(docs-infra): prerender tutorials pages\r\n\r\nPrerendering for tutorial pages didn't work because of `ReferenceError: self is not defined` caused by `xterm` import.\r\n\r\n```\r\n8:57:07 PM [vite] Error when evaluating SSR module /chunk-676W3VFS.mjs:\r\n|- ReferenceError: self is not defined\r\n    at ../node_modules/xterm-addon-fit/lib/xterm-addon-fit.js (adev/.angular/vite-root/angular-dev/chunk-676W3VFS.mjs:6082:7)\r\n```\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/56165","RelatedDescription":"Open PR \"fix(docs-infra): prerender tutorials pages\" (#56165)"},{"Id":"2323995161","IsPullRequest":false,"CreatedAt":"2024-05-29T18:36:16","Actor":"Kumirei","Number":"56164","RawContent":null,"Title":"Enforce self closing tags for components without content projection","State":"open","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\n\ncompiler\n\n### Description\n\nSince version 16 we can use self-closing tags for components that don't need any content projection. This is great. I love it. \r\n\r\nThe next logical step is to enforce self closing tags for components which do not use content projection. This would be great for making it clear to developers which components can and cannot accept content, without having to inspect the component implementation. This would have to check both the template for any `ng-content` tags, as well as the class for any `@ContentChild()`/`@ContentChildren()` decorators.\n\n### Proposed solution\n\nAn error indicating that any component which does not project content has to self-close\n\n### Alternatives considered\n\nA lint rule :(","Url":"https://github.com/angular/angular/issues/56164","RelatedDescription":"Open issue \"Enforce self closing tags for components without content projection\" (#56164)"},{"Id":"2323880946","IsPullRequest":false,"CreatedAt":"2024-05-29T17:56:56","Actor":"mgechev","Number":"56163","RawContent":null,"Title":"Syntax highlighting on angular.dev should have better contrast ","State":"closed","Body":"### Is this a regression?\r\n\r\nYes (regression compared to aio).\r\n\r\n### Description\r\n\r\nHere the string and the expression inside if it have very similar color that doesn't meet contrast standards:\r\n\r\n![unnamed](https://github.com/angular/angular/assets/455023/32a7b7f8-8ba2-485d-9554-c4fe8a69907f)\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps://angular.dev/guide/signals#computed-signal-dependencies-are-dynamic\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n_No response_\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/56163","RelatedDescription":"Closed issue \"Syntax highlighting on angular.dev should have better contrast \" (#56163)"},{"Id":"2323875693","IsPullRequest":false,"CreatedAt":"2024-05-29T17:34:02","Actor":"moueza","Number":"56162","RawContent":null,"Title":"Post V17 deprecations not found","State":"open","Body":"### Describe the problem that you experienced\n\nhttps://angular.dev/guide/deprecations : but this location is 404 error\n\n### Enter the URL of the topic with the problem\n\n_No response_\n\n### Describe what you were looking for in the documentation\n\nI was searching for V18 deprecations. So I found previous https://v17.angular.io/guide/deprecations linking to https://angular.dev/guide/deprecations : but this location is 404 error\n\n### Describe the actions that led you to experience the problem\n\n_No response_\n\n### Describe what you want to experience that would fix the problem\n\n_No response_\n\n### Add a screenshot if that helps illustrate the problem\n\n_No response_\n\n### If this problem caused an exception or error, please paste it here\n\n_No response_\n\n### If the problem is browser-specific, please specify the device, OS, browser, and version\n\n_No response_\n\n### Provide any additional information here in as much as detail as you can\n\n_No response_","Url":"https://github.com/angular/angular/issues/56162","RelatedDescription":"Open issue \"Post V17 deprecations not found\" (#56162)"},{"Id":"2323855672","IsPullRequest":true,"CreatedAt":"2024-05-29T17:26:19","Actor":"iteriani","Number":"56161","RawContent":null,"Title":"refactor(core): Remove lambda from error message.","State":"open","Body":"This should've been in the previous PR, but a bad rebase removed it.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [x] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/56161","RelatedDescription":"Open PR \"refactor(core): Remove lambda from error message.\" (#56161)"},{"Id":"2323835343","IsPullRequest":true,"CreatedAt":"2024-05-29T17:15:47","Actor":"arturovt","Number":"56160","RawContent":null,"Title":"fix(zone.js): store remove abort listener on the scheduled task","State":"open","Body":"Prior to this commit, a memory leak occurred when the `abort` listener was not removed from the `AbortSignal`. We introduced a fix to remove the event listener, but it was erroneously stored on the `taskData`, which is a shared global object. Consequently, when something attempted to remove an event listener, it immediately removed the last stored abort listener. As a result, events would never be canceled.\r\n\r\nWe have now rectified this by storing the remove abort listener function directly on the task itself. This adjustment ensures that the abort listener is tied only to the specific task. When the `abort` function is called, it cancels the task. Therefore, it is safe to associate the cleanup function directly with the task.\r\n\r\nCloses: #56148","Url":"https://github.com/angular/angular/pull/56160","RelatedDescription":"Open PR \"fix(zone.js): store remove abort listener on the scheduled task\" (#56160)"},{"Id":"2323752336","IsPullRequest":true,"CreatedAt":"2024-05-29T16:38:06","Actor":"pkozlowski-opensource","Number":"56159","RawContent":null,"Title":"Bump version to \"v18.1.0-next.0\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular/pull/56159","RelatedDescription":"Closed or merged PR \"Bump version to \"v18.1.0-next.0\" with changelog.\" (#56159)"},{"Id":"2323698480","IsPullRequest":true,"CreatedAt":"2024-05-29T16:13:57","Actor":"pkozlowski-opensource","Number":"56158","RawContent":null,"Title":"docs: release notes for the v18.0.1 release","State":"closed","Body":"Cherry-picks the changelog from the \"18.0.x\" branch to the next branch (main).","Url":"https://github.com/angular/angular/pull/56158","RelatedDescription":"Closed or merged PR \"docs: release notes for the v18.0.1 release\" (#56158)"},{"Id":"2323632420","IsPullRequest":true,"CreatedAt":"2024-05-29T16:05:21","Actor":"pkozlowski-opensource","Number":"56156","RawContent":null,"Title":"Bump version to \"v18.0.1\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular/pull/56156","RelatedDescription":"Closed or merged PR \"Bump version to \"v18.0.1\" with changelog.\" (#56156)"},{"Id":"2323271824","IsPullRequest":false,"CreatedAt":"2024-05-29T13:00:15","Actor":"rainerhahnekamp","Number":"56155","RawContent":null,"Title":"Explicit Tracking for `effect()`: Request for Reconsideration","State":"open","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\n\ncore\n\n### Description\n\nWe have been refactoring an application towards using Angular's Signals. During this process, we observed a recurring pattern where effects inevitably require the use of `untracked`. This pattern has revealed several issues:\r\n\r\n1. **Frequent Use of `untracked`:** Developers frequently need to use `untracked` to prevent unintended side effects in signals, making it a standard practice in our codebase.\r\n2. **Error-Prone Nature:** The necessity of `untracked` is not well-known among developers, leading to common errors when it is omitted.\r\n3. **Maintenance Overhead:** Constantly ensuring that `untracked` is correctly applied adds to the maintenance burden and cognitive load on developers.\r\n\r\nTo address these issues, we propose that Angular effects should adopt an explicit tracking model. \n\n### Proposed solution\n\n1. **Explicit Declaration:** Developers should explicitly declare dependencies within effects, rather than relying on automatic tracking.\r\n2. **Default Non-Tracking:** By default, effects should not track dependencies unless explicitly specified, reducing the need for `untracked`.\r\n\r\n**Example Scenario:**\r\nCurrently, developers write:\r\n\r\n```typescript\r\n\r\nid = input.required<number>();\r\n\r\neffect(() => {\r\n  // Part 1: Tracking\r\n  const id = this.id();\r\n\r\n  // Part 2: Execution\r\n  untracked(() => {\r\n    this.dataService.load(id);\r\n  });\r\n})\r\n```\r\n\r\nWith explicit tracking, it would look like:\r\n\r\n```typescript\r\nid = input.required<number>();\r\n\r\neffect(this.id, (id) => {\r\n  this.dataService.load(id);\r\n});\r\n```\r\n\r\n**Benefits:**\r\n\r\n1. **Reduced Errors:** Explicit tracking minimizes the risk of overlooking `untracked`, leading to more predictable and stable code.\r\n2. **Improved Developer Experience:** Clearer dependency management simplifies understanding and maintaining the code.\r\n3. **Enhanced Performance:** Explicit tracking can optimize performance by avoiding unnecessary re-computations and side effects.\r\n\r\n**Internal API and Library Ecosystem:**\r\nIt is noteworthy that some parts of the internal Angular API already utilize automatic `untracked`. While this is beneficial, other libraries face similar problems and would benefit if the untracking responsibility was handled by the caller. This approach can provide more consistent and error-free usage across different codebases and libraries.\r\n\r\n**Prior Discussion:**\r\nThis issue was previously raised in \r\n- [Issue #54548](https://github.com/angular/angular/issues/54548#issuecomment-1961712985)\r\n- [PR 54614](https://github.com/angular/angular/pull/54614)\r\n\r\n\r\nThank you for considering this enhancement.\n\n### Alternatives considered\n\n- Introducing a fourth \"effect-like\" function with explicit tracking\r\n- Keep it as it is","Url":"https://github.com/angular/angular/issues/56155","RelatedDescription":"Open issue \"Explicit Tracking for `effect()`: Request for Reconsideration\" (#56155)"},{"Id":"2323228865","IsPullRequest":true,"CreatedAt":"2024-05-29T12:41:26","Actor":"crisbeto","Number":"56154","RawContent":null,"Title":"fix(migrations): do not generate aliased variables with the same name","State":"open","Body":"Adds some logic to avoid generating expressions like `let $index = $index` in the control flow migration.\r\n\r\nFixes #56152.","Url":"https://github.com/angular/angular/pull/56154","RelatedDescription":"Open PR \"fix(migrations): do not generate aliased variables with the same name\" (#56154)"},{"Id":"2323178211","IsPullRequest":true,"CreatedAt":"2024-05-29T12:17:09","Actor":"s0h311","Number":"56153","RawContent":null,"Title":"Update creating-libraries.md add language=\"json\"","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/56153","RelatedDescription":"Open PR \"Update creating-libraries.md add language=\"json\"\" (#56153)"},{"Id":"2323127885","IsPullRequest":false,"CreatedAt":"2024-05-29T11:52:01","Actor":"mcalmus","Number":"56152","RawContent":null,"Title":"control-flow migration creates $index variable that will not compile in Angular 18","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\nDon't known / other\n\n### Is this a regression?\n\nYes\n\n### Description\n\nThe control-flow migration changes code like this:\r\n`<div *ngFor=\"let foo of foos; index as $index;\"></div>`\r\ninto:\r\n`@for (foo of foos; track foo; let $index = $index) { <div></div> }`\r\nThis code, while odd, compiled ok in Angular 17. It no longer compiles in Angular 18. The migration should leave off index variables that are aliased to $index.\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n_No response_\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/56152","RelatedDescription":"Open issue \"control-flow migration creates $index variable that will not compile in Angular 18\" (#56152)"},{"Id":"2323005825","IsPullRequest":true,"CreatedAt":"2024-05-29T10:59:00","Actor":"angular-robot","Number":"56151","RawContent":null,"Title":"docs: update Angular CLI help [17.3.x]","State":"closed","Body":"Updated Angular CLI help contents.","Url":"https://github.com/angular/angular/pull/56151","RelatedDescription":"Closed or merged PR \"docs: update Angular CLI help [17.3.x]\" (#56151)"},{"Id":"2322901548","IsPullRequest":false,"CreatedAt":"2024-05-29T09:59:05","Actor":"koesper","Number":"56150","RawContent":null,"Title":"Page with list of built-in pipes is missing (eg keyvalue pipe)","State":"closed","Body":"### Describe the problem that you experienced\n\nOn the page https://angular.dev/guide/pipes, you expect a full list of the available pipes, but some are missing: eg the keyvalue pipe.\r\nBecause this list is incomplete, they the note at the bottom links to https://angular.dev/api/common#pipes \"For a complete list of built-in pipes\"\r\nThat page does not exist on the new domain.\r\nfor v16, it is still available at https://v16.angular.io/api?type=pipe\n\n### Enter the URL of the topic with the problem\n\nhttps://angular.dev/guide/pipes\n\n### Describe what you were looking for in the documentation\n\n_No response_\n\n### Describe the actions that led you to experience the problem\n\n_No response_\n\n### Describe what you want to experience that would fix the problem\n\n_No response_\n\n### Add a screenshot if that helps illustrate the problem\n\n_No response_\n\n### If this problem caused an exception or error, please paste it here\n\n_No response_\n\n### If the problem is browser-specific, please specify the device, OS, browser, and version\n\n_No response_\n\n### Provide any additional information here in as much as detail as you can\n\n_No response_","Url":"https://github.com/angular/angular/issues/56150","RelatedDescription":"Closed issue \"Page with list of built-in pipes is missing (eg keyvalue pipe)\" (#56150)"},{"Id":"2322783374","IsPullRequest":false,"CreatedAt":"2024-05-29T09:06:29","Actor":"jeripeierSBB","Number":"56148","RawContent":null,"Title":"AbortController with zone.js not working anymore","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\nzone.js\r\n\r\n### Is this a regression?\r\n\r\nYes\r\n\r\n### Description\r\n\r\nSince version 0.14.6 of zone.js, the functionality of the AbortController seems broken.\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps://stackblitz.com/edit/stackblitz-starters-dq9ojm?file=src%2Fmain.ts\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nWith zone.js 0.14.5 the AbortController was working correctly, but with 0.14.6 it started to be broken.\r\n\r\nReproduction:\r\n1. Open https://stackblitz.com/edit/stackblitz-starters-dq9ojm?file=src%2Fmain.ts\r\n2. Click on \"Click\" button\r\n3. Alert message is presented\r\n4. Click on \"Abort\" button\r\n5. Click on \"Click\" button and the alert message is still presented, although the abort() method of the AbortController was called.\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: 18.0.1\r\nNode: 18.20.3\r\nPackage Manager: npm 10.2.3\r\nOS: linux x64\r\n\r\nAngular: 18.0.0\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1800.1\r\n@angular-devkit/build-angular   18.0.1\r\n@angular-devkit/core            18.0.1\r\n@angular-devkit/schematics      18.0.1\r\n@angular/cli                    18.0.1\r\n@schematics/angular             18.0.1\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.6\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\nRelated PR which probably broke the behavior: #55339","Url":"https://github.com/angular/angular/issues/56148","RelatedDescription":"Open issue \"AbortController with zone.js not working anymore\" (#56148)"},{"Id":"2322414695","IsPullRequest":false,"CreatedAt":"2024-05-29T08:22:20","Actor":"Char2sGu","Number":"56145","RawContent":null,"Title":"[Docs] Missing Exampes of `@Attribute`","State":"closed","Body":"### Describe the problem that you experienced\n\nExamples are missing, as shown below:\r\n![image](https://github.com/angular/angular/assets/63489409/67090e40-5dbd-4f0f-a933-80c84d7d1a71)\r\n\n\n### Enter the URL of the topic with the problem\n\nhttps://angular.dev/api/core/Attribute?tab=usage-notes\n\n### Describe what you were looking for in the documentation\n\n_No response_\n\n### Describe the actions that led you to experience the problem\n\n_No response_\n\n### Describe what you want to experience that would fix the problem\n\n_No response_\n\n### Add a screenshot if that helps illustrate the problem\n\n_No response_\n\n### If this problem caused an exception or error, please paste it here\n\n_No response_\n\n### If the problem is browser-specific, please specify the device, OS, browser, and version\n\n_No response_\n\n### Provide any additional information here in as much as detail as you can\n\n_No response_","Url":"https://github.com/angular/angular/issues/56145","RelatedDescription":"Closed issue \"[Docs] Missing Exampes of `@Attribute`\" (#56145)"},{"Id":"2322583311","IsPullRequest":false,"CreatedAt":"2024-05-29T07:59:16","Actor":"ahelmel","Number":"56147","RawContent":null,"Title":"Provide JSON.parse reviver and JSON.stringify replacer custom implementation in HttpClient to customize the serialization","State":"closed","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\r\n\r\ncommon\r\n\r\n### Description\r\n\r\nA possibility to provide a custom JSON serialization implementation via an Injection token for the JSON.parse and JSON.stringify methods. This will allow the developers to customize the serialization from Dtos to Doman/Frontend models in Angular:\r\n```\r\ninterface UserDto {\r\n  ...\r\n  createdOn: string;\r\n  ...\r\n}\r\n\r\ninterface User {\r\n  ...\r\n  createdOn: Date;\r\n  ...\r\n}\r\n\r\n...\r\n\r\ngetUsers(): Observable<User[]> {\r\n  return this.http.get<UserDto[]>(...).pipe(...);\r\n}\r\n````\r\n\r\n### Proposed solution\r\n\r\n```\r\nconst HTTP_CLIENT_JSON_PARSE_REVIVER = new InjectionToken('...'); => https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse#reviver\r\nconst HTTP_CLIENT_JSON_STRINGIFY_REPLACER = new InjectionToken('...'); => https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#replacer\r\n```\r\n\r\nSomewhere in HttpClient service:\r\n```\r\n...\r\nJSON.parse(..., jsonParseReviverFn)\r\n...\r\nJSON.stringify(..., jsonStringifyReplacerFn)\r\n...\r\n```\r\n\r\n### Alternatives considered\r\n\r\nI know that this functionality can be achieved using Angular Interceptors but what about this solution?","Url":"https://github.com/angular/angular/issues/56147","RelatedDescription":"Closed issue \"Provide JSON.parse reviver and JSON.stringify replacer custom implementation in HttpClient to customize the serialization\" (#56147)"},{"Id":"2322527143","IsPullRequest":false,"CreatedAt":"2024-05-29T07:13:12","Actor":"jordimarimon","Number":"56146","RawContent":null,"Title":"Support for \"experimentalDecorators: false\" in TypeScript configuration file","State":"closed","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\r\n\r\ncore\r\n\r\n### Description\r\n\r\nI have searched through the issues and I haven't found any issue where this feature is asked. Feel free to close it if it's a duplicate.\r\n\r\nI found [this](https://github.com/angular/angular/issues/48096) but it's not exactly what I'm proposing.\r\n\r\nI wanted to create a new Angular project using the TC39 decorators proposal.\r\n\r\nI wanted to ask if it's possible for Angular to support both type of projects (`experimentalDecorators: true|false`). I don't use parameter decorators, the only decorators that I use are the class based decorators `@Injectable`, `@Component`, `@Directive` and `@Pipe`.\r\n\r\nIn my project I wanted to write some decorators like `@debounce` or `@throttle` and I wanted to write them based on the TC39 proposal as TypeScript and esbuild both have support for them.\r\n\r\nI think it's possible to support projects with `experimentalDecorators: true` and projects with `experimentalDecorators: false`. See lit as an example:\r\n\r\nhttps://github.com/lit/lit/blob/main/packages/reactive-element/src/decorators/property.ts#L198-L226\r\nhttps://github.com/lit/lit/blob/main/packages/reactive-element/src/decorators/custom-element.ts#L46-L62\r\n\r\nI'm aware that parameter decorators are not yet supported and they're part of another proposal that is not yet finalized. But for developers that use Angular without parameter decorators maybe it would be nice to be able to write standard decorators.\r\n\r\nOne nice thing about the TC39 proposal is that one can use the decorators in private class fields.\r\n\r\n### Proposed solution\r\n\r\nI'm proposing doing something like what lit does. Although this implies that projects with `experimentalDecorators: false` won't be able to use parameter decorators.\r\n\r\n### Alternatives considered\r\n\r\nWriting my own class based decorators that replace the Angular ones will be the only alternative that I see.","Url":"https://github.com/angular/angular/issues/56146","RelatedDescription":"Closed issue \"Support for \"experimentalDecorators: false\" in TypeScript configuration file\" (#56146)"},{"Id":"2322351157","IsPullRequest":false,"CreatedAt":"2024-05-29T04:54:04","Actor":"jnizet","Number":"56144","RawContent":null,"Title":"API documentation of FormControl is broken ","State":"open","Body":"### Describe the problem that you experienced\n\nThe API documentation of FormControl on angular.dev shows it as a constant instead of properly documenting the class. angular.io doesn't have this problem.\r\n\r\nHere's the documentation we get on angular.dev:\r\n\r\n<img width=\"630\" alt=\"Capture dâ€™eÌcran 2024-05-29 aÌ€ 06 49 40\" src=\"https://github.com/angular/angular/assets/1608223/ba63d343-ec49-4e96-b9de-bdc2cc78a5cf\">\r\n\n\n### Enter the URL of the topic with the problem\n\nhttps://angular.dev/api/forms/FormControl\n\n### Describe what you were looking for in the documentation\n\nThe complete documentation of the FormControl class, as it was available in the goold old angular.io: https://v17.angular.io/api/forms/FormControl\n\n### Describe the actions that led you to experience the problem\n\nNA\n\n### Describe what you want to experience that would fix the problem\n\nA complete documentation of the FormControl class, with its superclass, methods, properties, etc.\n\n### Add a screenshot if that helps illustrate the problem\n\nSee above\n\n### If this problem caused an exception or error, please paste it here\n\n_No response_\n\n### If the problem is browser-specific, please specify the device, OS, browser, and version\n\n_No response_\n\n### Provide any additional information here in as much as detail as you can\n\n_No response_","Url":"https://github.com/angular/angular/issues/56144","RelatedDescription":"Open issue \"API documentation of FormControl is broken \" (#56144)"}],"ResultType":"GitHubIssue"},"AngularCli-Issues":{"Issues":[{"Id":"2323908864","IsPullRequest":true,"CreatedAt":"2024-05-29T18:25:45","Actor":"alan-agius4","Number":"27746","RawContent":null,"Title":"Bump version to \"v18.1.0-next.0\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/27746","RelatedDescription":"Closed or merged PR \"Bump version to \"v18.1.0-next.0\" with changelog.\" (#27746)"},{"Id":"2323773108","IsPullRequest":true,"CreatedAt":"2024-05-29T17:44:02","Actor":"alan-agius4","Number":"27744","RawContent":null,"Title":"build: update framework packages to 18.1.0-next.0","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/27744","RelatedDescription":"Closed or merged PR \"build: update framework packages to 18.1.0-next.0\" (#27744)"},{"Id":"2323545445","IsPullRequest":false,"CreatedAt":"2024-05-29T17:27:43","Actor":"jonaskuske","Number":"27739","RawContent":null,"Title":"v18.0.1 Rebasing SCSS url() breaks when there are more than two quote characters due to concatenation","State":"closed","Body":"### Command\r\n\r\nbuild\r\n\r\n### Is this a regression?\r\n\r\n- [X] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n17.3.8\r\n\r\n### Description\r\n\r\nWhen the URL of an SCSS asset is made up of multiple concatenated strings, the lexer yields the (partial) URL after it encounters the second quote character, even though the URL might not be done, as ` + \"other/string\"` follows. (https://github.com/angular/angular-cli/blob/main/packages/angular/build/src/tools/sass/lexer.ts#L95)\r\n\r\n<br>\r\n\r\nThis can break URLs, in my case by adding extraneous whitespace:\r\n\r\n`url(\"#{$icons-path}functional/fonts/#{$icon-font-family+ \"-\" + $icon-category}.woff2\")`\r\nâ†“\r\nlexer yields part between the first two `\"`, note the trailing whitespace:\r\n`#{$icons-path}functional/fonts/#{$icon-font-family+ `\r\nâ†“\r\nrebase, [this escapes whitespace](https://github.com/angular/angular-cli/blob/main/packages/angular/build/src/tools/sass/rebasing-importer.ts#L109):\r\n`\"base||file:#{$icons-path}functional/fonts/#{$icon-font-family+\\\\ \"`\r\nâ†“\r\n`\"base||file:#{$icons-path}functional/fonts/#{$icon-font-family+\\\\ \"-\" + $icon-category}.woff2\"`\r\nâ†“\r\n`base||file:@pkg/dir/functional/fonts/solid-24\\\\ -zoom.woff2`\r\n\r\n\r\n### Minimal Reproduction\r\n\r\n```bash\r\nnpx @angular/cli@18.0.1 new --defaults --style scss scss-rebase-bug18 && cd $_\r\nnpm i @db-ui/core\r\necho '@import \"@db-ui/core/sources/css/rollup.assets-paths\";@import \"@db-ui/core/sources/css/enterprise/db-ui-core\";' > src/styles.scss\r\nng build\r\n```\r\n\r\n### Exception or Error\r\n\r\n```\r\nâœ˜ [ERROR] Could not resolve \"@db-ui/core/dist/icons/functional/fonts/icons-64-filled\\\\  -av.woff2?4r2098\" [plugin angular-css-resource]\r\n\r\n    src/styles.scss:4065:11:\r\n      4065 â”‚   src: url(\"../node_modules/@db-ui/core/sources/_patterns/00-bas...\r\n           â•µ            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n\r\n  You can mark the path \"@db-ui/core/dist/icons/functional/fonts/icons-64-filled\\\\  -av.woff2?4r2098\" as external to exclude it from the bundle, which will remove this error and leave the unresolved path in the bundle.\r\n  Preprocessor stylesheets may not show the exact file location of the error.\r\n```\r\n\r\n### Your Environment\r\n\r\n```text\r\n_                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / Ã”Ã»â”‚ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 18.0.1\r\nNode: 20.11.1\r\nPackage Manager: npm 10.2.4\r\nOS: linux x64\r\n\r\nAngular: 18.0.0\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1800.1\r\n@angular-devkit/build-angular   18.0.1\r\n@angular-devkit/core            18.0.1\r\n@angular-devkit/schematics      18.0.1\r\n@angular/cli                    18.0.1\r\n@schematics/angular             18.0.1\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.6\r\n```\r\n\r\n\r\n### Anything else relevant?\r\n\r\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27739","RelatedDescription":"Closed issue \"v18.0.1 Rebasing SCSS url() breaks when there are more than two quote characters due to concatenation\" (#27739)"},{"Id":"2321940823","IsPullRequest":false,"CreatedAt":"2024-05-29T17:27:42","Actor":"tmakin","Number":"27734","RawContent":null,"Title":"v18.0.1 Invalid URL replacement in SCSS @function","State":"closed","Body":"### Command\n\nbuild\n\n### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n17.3.8\n\n### Description\n\nThe SCSS preprocessor matches `url(` in `@function` definitions, which causes SCSS compilation to fail.\r\ne.g.\r\n```scss\r\n@function get-my-url($filename) { \r\n```\r\nis rewritten as\r\n```scss\r\n@function get-my-url(\"/path/to/library||file:#{$filename}\")  {\r\n```\r\nWhich then fails with:\r\n```\r\nâœ˜ [ERROR] expected \")\".\r\n```\r\nSimilar to this recent issue, where the pre-processor is replacing URLs in a way that is not compatible with an external library\r\nhttps://github.com/angular/angular-cli/issues/27688\r\n\r\nI think the problem lies with the lexer which may need to explicitly ignore `@function` calls\r\nhttps://github.com/angular/angular-cli/blob/18.0.x/packages/angular/build/src/tools/sass/lexer.ts#L51C11-L51C14\n\n### Minimal Reproduction\n\nnpx @angular/cli@18.0.1 new --defaults --style scss scss-url-bug18\r\ncd scss-url-bug18\r\nnpm i govuk-frontend\r\necho \"@import 'govuk-frontend/dist/govuk/all';\" > src/styles.scss\r\nng build\n\n### Exception or Error\n\n```text\nApplication bundle generation failed. [2.272 seconds]\r\n\r\nâœ˜ [ERROR] expected \")\".\r\n   â•·\r\n15 â”‚ @function govuk-font-url(\"../node_modules/govuk-frontend/dist/govuk/tools||file:#{$filename}\") {\r\n   â”‚                          ^\r\n   â•µ\r\n  node_modules/govuk-frontend/dist/govuk/tools/_font-url.scss 15:26  @import\r\n  node_modules/govuk-frontend/dist/govuk/tools/_index.scss 2:9       @import\r\n  node_modules/govuk-frontend/dist/govuk/_base.scss 2:9              @import\r\n  node_modules/govuk-frontend/dist/govuk/index.scss 1:9              @import\r\n  node_modules/govuk-frontend/dist/govuk/all.scss 1:9                @import\r\n  src/styles.scss 1:9                                                root stylesheet [plugin angular-sass]\r\n\r\n    angular:styles/global:styles:1:8:\r\n      1 â”‚ @import 'src/styles.scss';\n```\n\n\n### Your Environment\n\n```text\nAngular CLI: 18.0.1\r\nNode: 20.12.1\r\nPackage Manager: npm 10.5.0\r\nOS: darwin arm64\r\n\r\nAngular: 18.0.0\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1800.1\r\n@angular-devkit/build-angular   18.0.1\r\n@angular-devkit/core            18.0.1\r\n@angular-devkit/schematics      18.0.1\r\n@angular/cli                    18.0.1\r\n@schematics/angular             18.0.1\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.6\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27734","RelatedDescription":"Closed issue \"v18.0.1 Invalid URL replacement in SCSS @function\" (#27734)"},{"Id":"2323760227","IsPullRequest":true,"CreatedAt":"2024-05-29T17:27:41","Actor":"clydin","Number":"27743","RawContent":null,"Title":"Sass url rebasing correctness improvements","State":"closed","Body":"See individual commits.","Url":"https://github.com/angular/angular-cli/pull/27743","RelatedDescription":"Closed or merged PR \"Sass url rebasing correctness improvements\" (#27743)"},{"Id":"2323856317","IsPullRequest":true,"CreatedAt":"2024-05-29T17:26:33","Actor":"alan-agius4","Number":"27745","RawContent":null,"Title":"test: remove E2E tests that are covered by integration tests","State":"open","Body":"These tests are redundant since the functionality is already covered by integration tests.\r\n","Url":"https://github.com/angular/angular-cli/pull/27745","RelatedDescription":"Open PR \"test: remove E2E tests that are covered by integration tests\" (#27745)"},{"Id":"2323576145","IsPullRequest":true,"CreatedAt":"2024-05-29T15:11:31","Actor":"alan-agius4","Number":"27742","RawContent":null,"Title":"docs: release notes for the v18.0.2 release","State":"closed","Body":"Cherry-picks the changelog from the \"18.0.x\" branch to the next branch (main).","Url":"https://github.com/angular/angular-cli/pull/27742","RelatedDescription":"Closed or merged PR \"docs: release notes for the v18.0.2 release\" (#27742)"},{"Id":"2323570475","IsPullRequest":true,"CreatedAt":"2024-05-29T15:09:37","Actor":"alan-agius4","Number":"27741","RawContent":null,"Title":"Bump version to \"v18.0.2\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/27741","RelatedDescription":"Closed or merged PR \"Bump version to \"v18.0.2\" with changelog.\" (#27741)"},{"Id":"2323564592","IsPullRequest":true,"CreatedAt":"2024-05-29T15:05:55","Actor":"alan-agius4","Number":"27740","RawContent":null,"Title":"perf(@angular/build): enable dependency prebundling for server dependencies","State":"open","Body":"\r\nWith this commit, we introduce Vite dependencies prebundling for server bundles.\r\n\r\n**Before:**\r\n```\r\nng s\r\nBrowser bundles\r\nInitial chunk files     | Names               |  Raw size\r\npolyfills.js            | polyfills           |  90.87 kB\r\nmain.js                 | main                |  22.71 kB\r\nstyles.css              | styles              |  95 bytes\r\n\r\n                        | Initial total       | 113.67 kB\r\n\r\nServer bundles\r\nInitial chunk files     | Names               |  Raw size\r\nchunk-4EGJGG5L.mjs      | -                   |   1.80 MB\r\npolyfills.server.mjs    | polyfills.server    | 573.58 kB\r\nmain.server.mjs         | main.server         | 224.03 kB\r\nchunk-QDHZVCWX.mjs      | -                   |   2.57 kB\r\nrender-utils.server.mjs | render-utils.server | 423 bytes\r\n\r\nLazy chunk files        | Names               |  Raw size\r\nchunk-XD2MYPRT.mjs      | xhr2                |  40.04 kB\r\n\r\nApplication bundle generation complete. [5.199 seconds]\r\n```\r\n\r\n**Now:**\r\n```\r\nng s\r\nBrowser bundles\r\nInitial chunk files     | Names               |  Raw size\r\npolyfills.js            | polyfills           |  90.87 kB\r\nmain.js                 | main                |  22.71 kB\r\nstyles.css              | styles              |  95 bytes\r\n\r\n                        | Initial total       | 113.67 kB\r\n\r\nServer bundles\r\nInitial chunk files     | Names               |  Raw size\r\npolyfills.server.mjs    | polyfills.server    | 573.58 kB\r\nmain.server.mjs         | main.server         |  23.16 kB\r\nrender-utils.server.mjs | render-utils.server | 472 bytes\r\n\r\nApplication bundle generation complete. [2.880 seconds]\r\n```\r\n","Url":"https://github.com/angular/angular-cli/pull/27740","RelatedDescription":"Open PR \"perf(@angular/build): enable dependency prebundling for server dependencies\" (#27740)"},{"Id":"2322945965","IsPullRequest":true,"CreatedAt":"2024-05-29T10:19:23","Actor":"angular-robot","Number":"27738","RawContent":null,"Title":"build: update angular","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@angular/build-tooling](https://togithub.com/angular/dev-infra-private-build-tooling-builds) | devDependencies | digest | `8b5a565` -> `6dc56ea` |\n| [@angular/cdk](https://togithub.com/angular/cdk-builds) | dependencies | digest | `4e93cc5` -> `8e37ab2` |\n| [@angular/cdk](https://togithub.com/angular/components) | devDependencies | patch | [`18.0.0` -> `18.0.1`](https://renovatebot.com/diffs/npm/@angular%2fcdk/18.0.0/18.0.1) |\n| [@angular/material](https://togithub.com/angular/material-builds) | dependencies | digest | `927b46b` -> `e2185c5` |\n| [@angular/material](https://togithub.com/angular/components) | devDependencies | patch | [`18.0.0` -> `18.0.1`](https://renovatebot.com/diffs/npm/@angular%2fmaterial/18.0.0/18.0.1) |\n| [@angular/material-moment-adapter](https://togithub.com/angular/material-moment-adapter-builds) | dependencies | digest | `b448a9d` -> `e31af5e` |\n| [@angular/ng-dev](https://togithub.com/angular/dev-infra-private-ng-dev-builds) | devDependencies | digest | `c44d21e` -> `68feef7` |\n| angular/dev-infra | action | digest | `239d56b` -> `e805b4c` |\n\nðŸ”¡ If you wish to disable git hash updates, add `\":disableDigestUpdates\"` to the extends array in your config.\n\n---\n\n### Release Notes\n\n<details>\n<summary>angular/components (@&#8203;angular/cdk)</summary>\n\n### [`v18.0.1`](https://togithub.com/angular/components/blob/HEAD/CHANGELOG.md#1801-plastic-baby-2024-05-29)\n\n[Compare Source](https://togithub.com/angular/components/compare/18.0.0...18.0.1)\n\n##### material\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [d96b5e39e0](https://togithub.com/angular/components/commit/d96b5e39e08945b5b4ec92dbc89a7ef44dec1baa) | fix | **core:** M3 themes not inserting loaded marker |\n| [b7c0a6ef56](https://togithub.com/angular/components/commit/b7c0a6ef56ade6d99e9b097e0d616e9e3bb5a9f5) | fix | **form-field:** outline label position ([#&#8203;29123](https://togithub.com/angular/components/pull/29123)) |\n| [24de3d4884](https://togithub.com/angular/components/commit/24de3d4884677c427e036258eb2e999a89da03e5) | fix | **menu:** prevent divider styles from bleeding out ([#&#8203;29111](https://togithub.com/angular/components/pull/29111)) |\n| [2110f2c97e](https://togithub.com/angular/components/commit/2110f2c97ec8d9b84ee4f8bcd47ca7b95d398879) | fix | **tabs:** avoid pagination infinite loop in safari ([#&#8203;29121](https://togithub.com/angular/components/pull/29121)) |\n\n##### youtube-player\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [466e249cd1](https://togithub.com/angular/components/commit/466e249cd1eb4b8ce9dd2f9f74c3f4c3cb33cf65) | fix | error when interacting with the player before the API has been loaded ([#&#8203;29127](https://togithub.com/angular/components/pull/29127)) |\n\n<!-- CHANGELOG SPLIT MARKER -->\n\n</details>\n\n---\n\n### Configuration\n\nðŸ“… **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\nðŸš¦ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\nâ™» **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\nðŸ‘» **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4zNjguMyIsInVwZGF0ZWRJblZlciI6IjM3LjM2OC4zIiwidGFyZ2V0QnJhbmNoIjoibWFpbiIsImxhYmVscyI6WyJhY3Rpb246IG1lcmdlIiwidGFyZ2V0OiBtaW5vciJdfQ==-->\n","Url":"https://github.com/angular/angular-cli/pull/27738","RelatedDescription":"Open PR \"build: update angular\" (#27738)"},{"Id":"2322374745","IsPullRequest":true,"CreatedAt":"2024-05-29T09:55:20","Actor":"angular-robot","Number":"27735","RawContent":null,"Title":"build: update angular","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@angular/cdk](https://togithub.com/angular/cdk-builds) | dependencies | digest | `708b5ac` -> `4e93cc5` |\n| [@angular/material](https://togithub.com/angular/material-builds) | dependencies | digest | `fe092d4` -> `927b46b` |\n| [@angular/material-moment-adapter](https://togithub.com/angular/material-moment-adapter-builds) | dependencies | digest | `dc39a7b` -> `b448a9d` |\n| [@angular/ng-dev](https://togithub.com/angular/dev-infra-private-ng-dev-builds) | devDependencies | digest | `81a8f30` -> `c44d21e` |\n| angular/dev-infra | action | digest | `fdd2de0` -> `239d56b` |\n\nðŸ”¡ If you wish to disable git hash updates, add `\":disableDigestUpdates\"` to the extends array in your config.\n\n---\n\n### Configuration\n\nðŸ“… **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\nðŸš¦ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\nâ™» **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\nðŸ‘» **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4zNjguMyIsInVwZGF0ZWRJblZlciI6IjM3LjM2OC4zIiwidGFyZ2V0QnJhbmNoIjoibWFpbiIsImxhYmVscyI6WyJhY3Rpb246IG1lcmdlIiwidGFyZ2V0OiBtaW5vciJdfQ==-->\n","Url":"https://github.com/angular/angular-cli/pull/27735","RelatedDescription":"Closed or merged PR \"build: update angular\" (#27735)"},{"Id":"2322374940","IsPullRequest":true,"CreatedAt":"2024-05-29T09:55:10","Actor":"angular-robot","Number":"27736","RawContent":null,"Title":"build: update all non-major dependencies","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [aspect_bazel_lib](https://togithub.com/aspect-build/bazel-lib) | http_archive | patch | `v2.7.6` -> `v2.7.7` |\n| [vite](https://vitejs.dev) ([source](https://togithub.com/vitejs/vite/tree/HEAD/packages/vite)) | dependencies | patch | [`5.2.11` -> `5.2.12`](https://renovatebot.com/diffs/npm/vite/5.2.11/5.2.12) |\n| [vite](https://vitejs.dev) ([source](https://togithub.com/vitejs/vite/tree/HEAD/packages/vite)) | devDependencies | patch | [`5.2.11` -> `5.2.12`](https://renovatebot.com/diffs/npm/vite/5.2.11/5.2.12) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>aspect-build/bazel-lib (aspect_bazel_lib)</summary>\n\n### [`v2.7.7`](https://togithub.com/aspect-build/bazel-lib/releases/tag/v2.7.7)\n\n[Compare Source](https://togithub.com/aspect-build/bazel-lib/compare/v2.7.6...v2.7.7)\n\n#### Using Bzlmod with Bazel 6:\n\n1.  Enable with `common --enable_bzlmod` in `.bazelrc`.\n2.  Add to your `MODULE.bazel` file:\n\n```starlark\nbazel_dep(name = \"aspect_bazel_lib\", version = \"2.7.7\")\n```\n\n> Read more about bzlmod: <https://blog.aspect.dev/bzlmod>\n\n#### Using WORKSPACE\n\nPaste this snippet into your `WORKSPACE` file:\n\n```starlark\nload(\"@&#8203;bazel_tools//tools/build_defs/repo:http.bzl\", \"http_archive\")\n\nhttp_archive(\n    name = \"aspect_bazel_lib\",\n    sha256 = \"6d758a8f646ecee7a3e294fbe4386daafbe0e5966723009c290d493f227c390b\",\n    strip_prefix = \"bazel-lib-2.7.7\",\n    url = \"https://github.com/aspect-build/bazel-lib/releases/download/v2.7.7/bazel-lib-v2.7.7.tar.gz\",\n)\n\nload(\"@&#8203;aspect_bazel_lib//lib:repositories.bzl\", \"aspect_bazel_lib_dependencies\", \"aspect_bazel_lib_register_toolchains\")\n\n### Required bazel-lib dependencies\n\naspect_bazel_lib_dependencies()\n\n### Register bazel-lib toolchains\n\naspect_bazel_lib_register_toolchains()\n\n```\n\n#### What's Changed\n\n-   refactor: pre-factors for fix in copy_to_directory by [@&#8203;gregmagolan](https://togithub.com/gregmagolan) in [https://github.com/aspect-build/bazel-lib/pull/858](https://togithub.com/aspect-build/bazel-lib/pull/858)\n-   fix: exclude files in copy_to_directory before checking their realpath by [@&#8203;gregmagolan](https://togithub.com/gregmagolan) in [https://github.com/aspect-build/bazel-lib/pull/857](https://togithub.com/aspect-build/bazel-lib/pull/857)\n\n**Full Changelog**: https://github.com/aspect-build/bazel-lib/compare/v2.7.6...v2.7.7\n\n</details>\n\n<details>\n<summary>vitejs/vite (vite)</summary>\n\n### [`v5.2.12`](https://togithub.com/vitejs/vite/blob/HEAD/packages/vite/CHANGELOG.md#small5212-2024-05-28-small)\n\n[Compare Source](https://togithub.com/vitejs/vite/compare/v5.2.11...v5.2.12)\n\n-   chore: move to eslint flat config ([#&#8203;16743](https://togithub.com/vitejs/vite/issues/16743)) ([8f16765](https://togithub.com/vitejs/vite/commit/8f16765)), closes [#&#8203;16743](https://togithub.com/vitejs/vite/issues/16743)\n-   chore(deps): remove unused deps ([#&#8203;17329](https://togithub.com/vitejs/vite/issues/17329)) ([5a45745](https://togithub.com/vitejs/vite/commit/5a45745)), closes [#&#8203;17329](https://togithub.com/vitejs/vite/issues/17329)\n-   chore(deps): update all non-major dependencies ([#&#8203;16722](https://togithub.com/vitejs/vite/issues/16722)) ([b45922a](https://togithub.com/vitejs/vite/commit/b45922a)), closes [#&#8203;16722](https://togithub.com/vitejs/vite/issues/16722)\n-   fix: mention `build.rollupOptions.output.manualChunks` instead of  `build.rollupOutput.manualChunks` ([89378c0](https://togithub.com/vitejs/vite/commit/89378c0)), closes [#&#8203;16721](https://togithub.com/vitejs/vite/issues/16721)\n-   fix(build): make SystemJSWrapRE match lazy ([#&#8203;16633](https://togithub.com/vitejs/vite/issues/16633)) ([6583ad2](https://togithub.com/vitejs/vite/commit/6583ad2)), closes [#&#8203;16633](https://togithub.com/vitejs/vite/issues/16633)\n-   fix(css): avoid generating empty JS files when JS files becomes empty but has CSS files imported ([#&#8203;1](https://togithub.com/vitejs/vite/issues/1) ([95fe5a7](https://togithub.com/vitejs/vite/commit/95fe5a7)), closes [#&#8203;16078](https://togithub.com/vitejs/vite/issues/16078)\n-   fix(css): handle lightningcss compiled css in Deno ([#&#8203;17301](https://togithub.com/vitejs/vite/issues/17301)) ([8e4e932](https://togithub.com/vitejs/vite/commit/8e4e932)), closes [#&#8203;17301](https://togithub.com/vitejs/vite/issues/17301)\n-   fix(css): only use files the current bundle contains ([#&#8203;16684](https://togithub.com/vitejs/vite/issues/16684)) ([15a6ebb](https://togithub.com/vitejs/vite/commit/15a6ebb)), closes [#&#8203;16684](https://togithub.com/vitejs/vite/issues/16684)\n-   fix(css): page reload was not happening with .css?raw ([#&#8203;16455](https://togithub.com/vitejs/vite/issues/16455)) ([8041846](https://togithub.com/vitejs/vite/commit/8041846)), closes [#&#8203;16455](https://togithub.com/vitejs/vite/issues/16455)\n-   fix(deps): update all non-major dependencies ([#&#8203;16603](https://togithub.com/vitejs/vite/issues/16603)) ([6711553](https://togithub.com/vitejs/vite/commit/6711553)), closes [#&#8203;16603](https://togithub.com/vitejs/vite/issues/16603)\n-   fix(deps): update all non-major dependencies ([#&#8203;16660](https://togithub.com/vitejs/vite/issues/16660)) ([bf2f014](https://togithub.com/vitejs/vite/commit/bf2f014)), closes [#&#8203;16660](https://togithub.com/vitejs/vite/issues/16660)\n-   fix(deps): update all non-major dependencies ([#&#8203;17321](https://togithub.com/vitejs/vite/issues/17321)) ([4a89766](https://togithub.com/vitejs/vite/commit/4a89766)), closes [#&#8203;17321](https://togithub.com/vitejs/vite/issues/17321)\n-   fix(error-logging): rollup errors weren't displaying id and codeframe ([#&#8203;16540](https://togithub.com/vitejs/vite/issues/16540)) ([22dc196](https://togithub.com/vitejs/vite/commit/22dc196)), closes [#&#8203;16540](https://togithub.com/vitejs/vite/issues/16540)\n-   fix(hmr): normalize the path info ([#&#8203;14255](https://togithub.com/vitejs/vite/issues/14255)) ([6a085d0](https://togithub.com/vitejs/vite/commit/6a085d0)), closes [#&#8203;14255](https://togithub.com/vitejs/vite/issues/14255)\n-   fix(hmr): trigger page reload when calling invalidate on root module ([#&#8203;16636](https://togithub.com/vitejs/vite/issues/16636)) ([2b61cc3](https://togithub.com/vitejs/vite/commit/2b61cc3)), closes [#&#8203;16636](https://togithub.com/vitejs/vite/issues/16636)\n-   fix(logger): truncate log over 5000 characters long ([#&#8203;16581](https://togithub.com/vitejs/vite/issues/16581)) ([b0b839a](https://togithub.com/vitejs/vite/commit/b0b839a)), closes [#&#8203;16581](https://togithub.com/vitejs/vite/issues/16581)\n-   fix(optimizer): log dependencies added by plugins ([#&#8203;16729](https://togithub.com/vitejs/vite/issues/16729)) ([f0fb987](https://togithub.com/vitejs/vite/commit/f0fb987)), closes [#&#8203;16729](https://togithub.com/vitejs/vite/issues/16729)\n-   fix(sourcemap): improve sourcemap compatibility for vue2 ([#&#8203;16594](https://togithub.com/vitejs/vite/issues/16594)) ([913c040](https://togithub.com/vitejs/vite/commit/913c040)), closes [#&#8203;16594](https://togithub.com/vitejs/vite/issues/16594)\n-   docs: correct proxy shorthand example ([#&#8203;15938](https://togithub.com/vitejs/vite/issues/15938)) ([abf766e](https://togithub.com/vitejs/vite/commit/abf766e)), closes [#&#8203;15938](https://togithub.com/vitejs/vite/issues/15938)\n-   docs: deprecate server.hot ([#&#8203;16741](https://togithub.com/vitejs/vite/issues/16741)) ([e7d38ab](https://togithub.com/vitejs/vite/commit/e7d38ab)), closes [#&#8203;16741](https://togithub.com/vitejs/vite/issues/16741)\n\n</details>\n\n---\n\n### Configuration\n\nðŸ“… **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\nðŸš¦ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\nâ™» **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\nðŸ‘» **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4zNjguMyIsInVwZGF0ZWRJblZlciI6IjM3LjM2OC4zIiwidGFyZ2V0QnJhbmNoIjoibWFpbiIsImxhYmVscyI6WyJhY3Rpb246IG1lcmdlIiwidGFyZ2V0OiBtaW5vciJdfQ==-->\n","Url":"https://github.com/angular/angular-cli/pull/27736","RelatedDescription":"Closed or merged PR \"build: update all non-major dependencies\" (#27736)"},{"Id":"2322556502","IsPullRequest":false,"CreatedAt":"2024-05-29T08:54:46","Actor":"iraviguggilam","Number":"27737","RawContent":null,"Title":"Routing not working","State":"closed","Body":"### Command\r\n\r\nadd, new\r\n\r\n### Is this a regression?\r\n\r\n- [X] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nRouting not working inside project folder applications\r\nlocalhost:4200/admin/dashboard\r\n\r\n### Minimal Reproduction\r\n\r\nCreate New Project\r\n`ng new <somename>` \r\nCreate new application under projects\r\n`ng g application admin` \r\nAdd route in main app ( file name: app.routes.ts)\r\n```\r\nimport { Routes } from '@angular/router';\r\nimport { AppComponent as AdminAppComponent } from '../../projects/admin/src/app/app.component';\r\nexport const routes: Routes = [\r\n  {\r\n    path: 'voice',\r\n    component: AdminAppComponent,\r\n  },\r\n];\r\n```\r\nCreate component under \r\n`ng g c dashboard`\r\nCreate route under Admin app\r\n```\r\nimport { Routes } from '@angular/router';\r\nimport { AppComponent } from './app.component';\r\nimport { DashboardComponent } from './dashboard/dashboard.component';\r\n\r\nexport const routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AppComponent,\r\n    children: [\r\n      { path: 'dashboard, component: DashboardComponent },\r\n      { path: '**', redirectTo: 'dashboard' },\r\n    ],\r\n  },\r\n];\r\n```\r\n\r\n### Exception or Error\r\n\r\n_No response_\r\n\r\n### Your Environment\r\n\r\n```text\r\nng version\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / â–³ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n\r\n\r\nAngular CLI: 17.3.8\r\nNode: 20.12.0\r\nPackage Manager: npm 10.5.0\r\nOS: win32 x64\r\n\r\nAngular: 17.3.10\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1703.8\r\n@angular-devkit/build-angular   17.3.8\r\n@angular-devkit/core            17.3.8\r\n@angular-devkit/schematics      17.3.8\r\n@angular/cli                    17.3.8\r\n@schematics/angular             17.3.8\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.6\r\n```\r\n\r\n\r\n### Anything else relevant?\r\n\r\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27737","RelatedDescription":"Closed issue \"Routing not working\" (#27737)"},{"Id":"2320775891","IsPullRequest":true,"CreatedAt":"2024-05-28T12:22:30","Actor":"alan-agius4","Number":"27733","RawContent":null,"Title":"build: update angular","State":"closed","Body":"Closes #27690 as a pr takeover\r\n","Url":"https://github.com/angular/angular-cli/pull/27733","RelatedDescription":"Closed or merged PR \"build: update angular\" (#27733)"},{"Id":"2319357132","IsPullRequest":false,"CreatedAt":"2024-05-28T11:03:35","Actor":"Delagen","Number":"27726","RawContent":null,"Title":"No source of warning on SCSS files","State":"closed","Body":"### Command\n\nbuild, serve\n\n### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\nWebpack Builder\n\n### Description\n\nWhen using new ESBuild based builder cannot find source of warning in console\r\n\r\n## ESBuild output\r\n\r\n### For component styles\r\n```\r\n[WARNING] <warning text> [plugin angular-sass]\r\n```\r\n\r\n### For global styles\r\n```\r\n[WARNING] <warning text> [plugin angular-sass]\r\n    angular:styles/global:styles:1:8:\r\n      1 â”‚ @import 'src/styles.scss';\r\n        â•µ         ~~~~~~~~~~~~~~~~~\r\n```\r\n\r\n\r\n## Webpack output\r\n\r\n### For component styles\r\n```\r\n./src/.../some.component.scss?ngResource - Warning: Module Warning (from ./node_modules/sass-loader/dist/cjs.js):\r\n<warning text>\r\n<source file path> <line>:<pos>  context function()\r\n... <all stack>\r\nsrc/.../some.component.scss <line>:<pos>  root stylesheet\r\n```\r\n\r\n### For global styles\r\n```\r\n./src/styles.scss - Warning: Module Warning (from ./node_modules/sass-loader/dist/cjs.js):\r\n<warning text>\r\n<source file path> <line>:<pos> context function()\r\n... <all stack>\r\nsrc/styles.scss <line>:<pos> root stylesheet\r\n```\r\n\r\n\n\n### Minimal Reproduction\n\nAny project with specified build system\r\n\r\nplace anywhere in component stylesheet file or imported file into global stylesheet\r\n```\r\n@warn 'some message';\r\n```\r\n\r\nBuild\n\n### Exception or Error\n\n_No response_\n\n### Your Environment\n\n```text\n_                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / â–³ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 17.3.7\r\nNode: 20.13.1\r\nPackage Manager: npm 10.8.0\r\nOS: win32 x64\r\n\r\nAngular: 17.3.9\r\n... animations, cdk, common, core, elements, forms, localize\r\n... platform-browser, platform-browser-dynamic, platform-server\r\n... router, service-worker\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1703.7\r\n@angular-devkit/build-angular   17.3.7\r\n@angular-devkit/core            17.3.7\r\n@angular-devkit/schematics      17.3.7\r\n@angular/cli                    17.3.7\r\n@angular/pwa                    17.3.7\r\n@schematics/angular             17.3.7\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nwebpack                         5.91.0\r\nzone.js                         0.14.5\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27726","RelatedDescription":"Closed issue \"No source of warning on SCSS files\" (#27726)"},{"Id":"2320620733","IsPullRequest":true,"CreatedAt":"2024-05-28T11:03:34","Actor":"alan-agius4","Number":"27732","RawContent":null,"Title":"fix(@angular/build): print Sass `@warn` location","State":"closed","Body":"When using the `@warn` directive, the `span` entry in the warning object is often undefined. Instead, the `stack` property is populated.\r\n\r\n```js\r\n{\r\n  \"warnings\": [\r\n    {\r\n      \"deprecation\": false,\r\n      \"deprecationType\": null,\r\n      \"span\": undefined,\r\n      \"stack\": \"projects/foo/src/app/app.component.scss 1:1  root stylesheet\\n\",\r\n      \"message\": \"some message\"\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n### Before\r\n```\r\nâ–² [WARNING] some message [plugin angular-sass]\r\n```\r\n\r\n### Now\r\n```\r\nâ–² [WARNING] some message [plugin angular-sass]\r\n\r\n  projects/foo/src/app/app.component.scss 1:1  root stylesheet\r\n```\r\n\r\nCloses: #27726\r\n","Url":"https://github.com/angular/angular-cli/pull/27732","RelatedDescription":"Closed or merged PR \"fix(@angular/build): print Sass `@warn` location\" (#27732)"},{"Id":"2319843869","IsPullRequest":false,"CreatedAt":"2024-05-28T09:15:50","Actor":"gideruette","Number":"27728","RawContent":null,"Title":"[CLI] ng commands could inspect sub-folders to find angular.json file","State":"closed","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\r\n\r\ncompiler-cli\r\n\r\n### Description\r\n\r\nAs a full-stack developer, my workspace contains a folder that includes the angular.json file. However, when I run command line operations, I often get the message `Error: This command is not available when running the Angular CLI outside a workspace` because the IDE opens the cmd/bash terminal at the root level.\r\n\r\n### Proposed solution\r\n\r\nng commands should inspect subfolders to find the angular.json file, and continue deeper if not found. It might be beneficial to set a limit on the depth of the search to avoid excessive processing.\r\n\r\n### Alternatives considered\r\n\r\n`No` is a possible answer","Url":"https://github.com/angular/angular-cli/issues/27728","RelatedDescription":"Closed issue \"[CLI] ng commands could inspect sub-folders to find angular.json file\" (#27728)"},{"Id":"2318347922","IsPullRequest":true,"CreatedAt":"2024-05-28T09:03:46","Actor":"alan-agius4","Number":"27717","RawContent":null,"Title":"fix(@schematics/angular): set builders `assets` option correctly for new applications","State":"closed","Body":"\r\n    \r\nThis commit ensures that the `assets` option value accurately reflects the source location.\r\n    \r\nCloses: #27709","Url":"https://github.com/angular/angular-cli/pull/27717","RelatedDescription":"Closed or merged PR \"fix(@schematics/angular): set builders `assets` option correctly for new applications\" (#27717)"},{"Id":"2318767980","IsPullRequest":false,"CreatedAt":"2024-05-28T09:03:32","Actor":"kai1992cool","Number":"27723","RawContent":null,"Title":"Angular 18 not working with SCSS defined","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\ncore\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nIf I add a single line of scss in the file, angular thows the below errors!\r\n```\r\nInitial chunk files | Names         |  Raw size\r\npolyfills.js        | polyfills     |  88.10 kB | \r\nstyles.css          | styles        |  70.60 kB | \r\nmain.js             | main          |  22.73 kB | \r\n\r\n                    | Initial total | 181.43 kB\r\n\r\nApplication bundle generation complete. [5.259 seconds]\r\n\r\nWatch mode enabled. Watching for file changes...\r\nNOTE: Raw file sizes do not reflect development server per-request transformations.\r\n  âžœ  Local:   http://localhost:4200/\r\n  âžœ  press h + enter to show help\r\nApplication bundle generation failed. [1.385 seconds]\r\n\r\nâœ˜ [ERROR] Unable to deserialize cloned data. [plugin angular-sass]\r\n\r\n  This error came from the \"onLoad\" callback registered here:\r\n\r\n    node_modules/@angular/build/src/tools/esbuild/stylesheets/stylesheet-plugin-factory.js:152:22:\r\n      152 â”‚                 build.onLoad({ filter: language.fileFilter }, (0,...\r\n          â•µ                       ~~~~~~\r\n\r\n    at setup (/home/projects/stackblitz-starters-7slw51/test/node_modules/@angular/build/src/tools/esbuild/stylesheets/stylesheet-plugin-factory.js:152:23)\r\n    at handlePlugins (/home/projects/stackblitz-starters-7slw51/test/node_modules/esbuild/lib/main.js:1138:21)\r\n    at buildOrContextImpl (/home/projects/stackblitz-starters-7slw51/test/node_modules/esbuild/lib/main.js:863:5)\r\n    at Object.buildOrContext (/home/projects/stackblitz-starters-7slw51/test/node_modules/esbuild/lib/main.js:689:5)\r\n    at eval (/home/projects/stackblitz-starters-7slw51/test/node_modules/esbuild/lib/main.js:1828:68)\r\n    at Object.context (/home/projects/stackblitz-starters-7slw51/test/node_modules/esbuild/lib/main.js:1828:27)\r\n    at context (/home/projects/stackblitz-starters-7slw51/test/node_modules/esbuild/lib/main.js:1670:58)\r\n    at #performBundle (/home/projects/stackblitz-starters-7slw51/test/node_modules/@angular/build/src/tools/esbuild/bundler-context.js:158:68)\r\n```\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps://stackblitz.com/edit/stackblitz-starters-7slw51?description=Starter%20project%20for%20Node.js,%20a%20JavaScript%20runtime%20built%20on%20Chrome%27s%20V8%20JavaScript%20engine&file=test%2Fangular.json,test%2Fsrc%2Fapp%2Fapp.component.scss&title=node.new%20Starter\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n_No response_\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27723","RelatedDescription":"Closed issue \"Angular 18 not working with SCSS defined\" (#27723)"},{"Id":"2318959816","IsPullRequest":true,"CreatedAt":"2024-05-28T09:03:31","Actor":"alan-agius4","Number":"27725","RawContent":null,"Title":"fix(@angular/build): disable Worker wait loop for Sass compilations in web containers","State":"closed","Body":"\r\n\r\nThe Sass Worker by default uses an Atomics-based wait loop to improve performance while waiting for messages. This loop relies on the synchronous API `receiveMessageOnPort`. While this works well in Node.js, the web container execution environment does not currently support passing transferable objects via `receiveMessageOnPort`.\r\n\r\nCloses: #27723\r\n","Url":"https://github.com/angular/angular-cli/pull/27725","RelatedDescription":"Closed or merged PR \"fix(@angular/build): disable Worker wait loop for Sass compilations in web containers\" (#27725)"},{"Id":"2320141009","IsPullRequest":true,"CreatedAt":"2024-05-28T09:02:58","Actor":"angular-robot","Number":"27730","RawContent":null,"Title":"build: update all non-major dependencies to v7.11.0","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@typescript-eslint/eslint-plugin](https://typescript-eslint.io/packages/eslint-plugin) ([source](https://togithub.com/typescript-eslint/typescript-eslint/tree/HEAD/packages/eslint-plugin)) | devDependencies | minor | [`7.10.0` -> `7.11.0`](https://renovatebot.com/diffs/npm/@typescript-eslint%2feslint-plugin/7.10.0/7.11.0) |\n| [@typescript-eslint/parser](https://typescript-eslint.io/packages/parser) ([source](https://togithub.com/typescript-eslint/typescript-eslint/tree/HEAD/packages/parser)) | devDependencies | minor | [`7.10.0` -> `7.11.0`](https://renovatebot.com/diffs/npm/@typescript-eslint%2fparser/7.10.0/7.11.0) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>typescript-eslint/typescript-eslint (@&#8203;typescript-eslint/eslint-plugin)</summary>\n\n### [`v7.11.0`](https://togithub.com/typescript-eslint/typescript-eslint/blob/HEAD/packages/eslint-plugin/CHANGELOG.md#7110-2024-05-27)\n\n[Compare Source](https://togithub.com/typescript-eslint/typescript-eslint/compare/v7.10.0...v7.11.0)\n\n##### ðŸš€ Features\n\n-   **eslint-plugin:** deprecate prefer-ts-expect-error in favor of ban-ts-comment\n\n##### ðŸ©¹ Fixes\n\n-   **eslint-plugin:** \\[consistent-type-assertions] prevent syntax errors on arrow functions\n\n##### â¤ï¸  Thank You\n\n-   Abraham Guo\n-   auvred\n-   Dom Armstrong\n-   Kirk Waiblinger\n\nYou can read about our [versioning strategy](https://main--typescript-eslint.netlify.app/users/versioning) and [releases](https://main--typescript-eslint.netlify.app/users/releases) on our website.\n\n</details>\n\n<details>\n<summary>typescript-eslint/typescript-eslint (@&#8203;typescript-eslint/parser)</summary>\n\n### [`v7.11.0`](https://togithub.com/typescript-eslint/typescript-eslint/blob/HEAD/packages/parser/CHANGELOG.md#7110-2024-05-27)\n\n[Compare Source](https://togithub.com/typescript-eslint/typescript-eslint/compare/v7.10.0...v7.11.0)\n\nThis was a version bump only for parser to align it with other projects, there were no code changes.\n\nYou can read about our [versioning strategy](https://main--typescript-eslint.netlify.app/users/versioning) and [releases](https://main--typescript-eslint.netlify.app/users/releases) on our website.\n\n</details>\n\n---\n\n### Configuration\n\nðŸ“… **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\nðŸš¦ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\nâ™» **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\nðŸ”• **Ignore**: Close this PR and you won't be reminded about these updates again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4zNjguMyIsInVwZGF0ZWRJblZlciI6IjM3LjM2OC4zIiwidGFyZ2V0QnJhbmNoIjoibWFpbiIsImxhYmVscyI6WyJhY3Rpb246IG1lcmdlIiwidGFyZ2V0OiBtaW5vciJdfQ==-->\n","Url":"https://github.com/angular/angular-cli/pull/27730","RelatedDescription":"Closed or merged PR \"build: update all non-major dependencies to v7.11.0\" (#27730)"},{"Id":"2319847761","IsPullRequest":false,"CreatedAt":"2024-05-28T08:59:31","Actor":"Zefling","Number":"27729","RawContent":null,"Title":"Keep CSS nesting in styles tags","State":"closed","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\n\n_No response_\n\n### Description\n\nIn Angular 17, it is possible to keep CSS nesting with this config:\r\n\r\n```json\r\n \"optimization\": {\r\n    \"scripts\": true,\r\n    \"styles\": {\r\n      \"minify\": false,\r\n      \"inlineCritical\": true\r\n    },\r\n    \"fonts\": true\r\n  }\r\n```\r\n\r\n![image](https://github.com/angular/angular/assets/3032555/5e26d35e-28c1-42af-a309-748651f992f9)\r\n\r\nWith Angular 18 this is no longer possible.\n\n### Proposed solution\n\nAdd an option that allows you to keep CSS nesting\r\n\r\n```json\r\n      \"CSSnesting\": true,\r\n```\n\n### Alternatives considered\n\nOr other option compilation option.","Url":"https://github.com/angular/angular-cli/issues/27729","RelatedDescription":"Closed issue \"Keep CSS nesting in styles tags\" (#27729)"},{"Id":"2320410834","IsPullRequest":false,"CreatedAt":"2024-05-28T08:08:31","Actor":"LaXiS96","Number":"27731","RawContent":null,"Title":"`ng update` fails with Yarn","State":"open","Body":"### Command\n\nupdate\n\n### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n<14 probably, not sure as it was a long time ago\n\n### Description\n\nWhile updating a v15 application using Yarn (non-PnP), the `ng update` command fails with an unhelpful error.\r\nThe error claims there is no `packageManager` field in package.json, which is not true. Even if the field is really missing, `ng update` adds it but the next run will throw the same error.\r\n\r\nThe only workaround I found is to use npm to do the update (set `packageManager: \"npm@10.7.0\"` in `package.json`, remove `cli.packageManager` from `angular.json`), and then revert to Yarn after the update.\r\n\r\nIt does not look like a Yarn issue, the behavior is the same with 3.4.1 or 4.2.2.\n\n### Minimal Reproduction\n\n1. `corepack enable`\r\n2. `npx --package=@angular/cli@15 ng new ng15 --package-manager=yarn`\r\n3. add `.yarnrc.yml` with content: `nodeLinker: node-modules`\r\n4. `yarn install`\r\n5. `ng update @angular/core@16 @angular/cli@16 --verbose --allow-dirty`\n\n### Exception or Error\n\n```text\nPS > ng update @angular/core@16 --verbose\r\nLocating potential npmrc files:\r\nLocating potential yarnrc files:\r\nTrying 'C:\\Users\\me\\.yarnrc'...found.\r\nTrying 'C:\\Users\\me\\.yarnrc'...found.\r\nThe installed Angular CLI version is outdated.\r\nInstalling a temporary Angular CLI versioned 16.2.14 to perform the update.\r\n! The local project doesn't define a 'packageManager' field. Corepack will now add one referencing yarn@3.4.1+sha512.a333bf9c2557d71f5ba87dd1446cde24bb9c35301ec29dd2baba577b3f9d1ab61348b66a1324de9088c40a996c5b9203794da8bf14cab9fae6a6eccc00cb8078.\r\n! For more details about this field, consult the documentation at https://nodejs.org/api/packages.html#packagemanager\r\n\r\nâœ– Packages installation failed, see above.\n```\n\n\n### Your Environment\n\n```text\nAngular CLI: 15.2.11\r\nNode: 18.20.3\r\nPackage Manager: yarn 3.4.1\r\nOS: win32 x64\r\n\r\nAngular: 15.2.10\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1502.11\r\n@angular-devkit/build-angular   15.2.11\r\n@angular-devkit/core            15.2.11\r\n@angular-devkit/schematics      15.2.11\r\n@angular/cli                    15.2.11\r\n@schematics/angular             15.2.11\r\nrxjs                            7.8.1\r\ntypescript                      4.9.5\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27731","RelatedDescription":"Open issue \"`ng update` fails with Yarn\" (#27731)"},{"Id":"2319803050","IsPullRequest":false,"CreatedAt":"2024-05-28T05:00:13","Actor":"gideruette","Number":"27727","RawContent":null,"Title":"[CLI] @angular-devkit/build-angular:application with dev-server should start ssr server","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\ncompiler-cli\r\n\r\n### Is this a regression?\r\n\r\nYes\r\n\r\n### Description\r\n\r\nWhen starting dev-server with a ssr project, the builder should :\r\n- start ssr server (currently it only generate bundle)\r\n- restart ssr server whenever chunk are re-built (when file changed)\r\n\r\nIt worked very well with `@angular-devkit/build-angular:ssr-dev-server` and `@angular-devkit/build-angular:browser` in default angular 17 configuration\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\nJust run\r\n```true \r\n- ng new ssr-dev-server --ssr\r\n- cd ssr-dev-server\r\n- ng serve\r\n```\r\nThe message `Node Express server listening on http://localhost:4000` doesn't appear -> the ssr server is not started\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular: 18.0.1\r\nNode: 20\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27727","RelatedDescription":"Closed issue \"[CLI] @angular-devkit/build-angular:application with dev-server should start ssr server\" (#27727)"},{"Id":"2318868017","IsPullRequest":false,"CreatedAt":"2024-05-27T11:56:44","Actor":"ilyakonrad","Number":"27724","RawContent":null,"Title":"Cannot find module 'ajv-formats'","State":"closed","Body":"### Command\n\nbuild, serve\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\nNo idea, it's been appearing for more than 2 years.\n\n### Description\n\nIt's been reported multiple times (https://github.com/angular/angular-cli/issues/22780, https://github.com/angular/angular-cli/issues/24291) but the issue comes back over and over.\r\n\r\nWe use Dependabot and in our setup it creates **minor** version upgrade PRs throughout the week and merges all of them every Monday morning, which triggers update of the server.\r\n\r\n_Often_ times it results in the build error `An unhandled exception occurred: Cannot find module 'ajv-formats'`.\r\n\r\nThe way to \"fix\" it is to delete `yarn.lock` locally, reinstall `node_modules` and push the fresh yarn.lock file.\r\n\r\nAfter doing so, with the help of version control system, you can see the \"healing\" changes in `yarn.lock`.\r\n\r\nMy question is why does it happen? Is it because Dependabot merges PRs some time after they were created and not right away?\r\nBut then, why does minor version upgrades break anything in the first place? And why is it always about `ajv-formats`?\r\nIs it because it's alphabetically the first package that angular cli uses or is it the faulty package?\r\n\r\nAnyway, I just don't think everything works perfectly if I have to manually solve random build errors every now and then.\n\n### Minimal Reproduction\n\n-\n\n### Exception or Error\n\n```text\nAn unhandled exception occurred: Cannot find module 'ajv-formats'\n```\n\n\n### Your Environment\n\n```text\nAngular CLI: 17.3.8\r\nNode: 20.10.0\r\nPackage Manager: yarn 1.22.19\r\nOS: win32 x64\r\n\r\nAngular: 17.3.10\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... language-service, material, material-moment-adapter\r\n... platform-browser, platform-browser-dynamic, platform-server\r\n... router, service-worker\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1703.8\r\n@angular-devkit/build-angular   17.3.8\r\n@angular-devkit/core            17.3.8\r\n@angular-devkit/schematics      17.3.8\r\n@angular/cli                    17.3.8\r\n@angular/fire                   17.0.1\r\n@schematics/angular             17.3.8\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nwebpack                         5.91.0\r\nzone.js                         0.14.6\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27724","RelatedDescription":"Closed issue \"Cannot find module 'ajv-formats'\" (#27724)"},{"Id":"2318718901","IsPullRequest":false,"CreatedAt":"2024-05-27T09:09:46","Actor":"weberhofer","Number":"27722","RawContent":null,"Title":"After Upgrade from angular 17 to angular 18 the LOCALE_ID is always en_US","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\nlocalize\n\n### Is this a regression?\n\nYes\n\n### Description\n\nIn an existing project distributed for several locales, we are determining the current locale by:\r\n```\r\nexport class MyClass {\r\n...\r\n\tconstructor(@Inject(LOCALE_ID) locale: string) { }\r\n}\r\n```\r\nUp to angular 17 the value of LOCALE_ID always reflected the locale defined in the i18n section of the project's setting in angular.json; with Angular 18 the locale is always en_US. This is the case for \"ng serve\" builds as well as for distribution builds.\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 18.0.1\r\nNode: 20.12.1\r\nPackage Manager: npm 10.5.0\r\nOS: linux x64\r\n\r\nAngular: 18.0.0\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... localize, material, material-moment-adapter\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1800.1\r\n@angular-devkit/build-angular   18.0.1\r\n@angular-devkit/core            18.0.1\r\n@angular-devkit/schematics      18.0.1\r\n@angular/cli                    18.0.1\r\n@schematics/angular             18.0.1\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.6\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27722","RelatedDescription":"Open issue \"After Upgrade from angular 17 to angular 18 the LOCALE_ID is always en_US\" (#27722)"},{"Id":"2318581940","IsPullRequest":false,"CreatedAt":"2024-05-27T09:04:24","Actor":"sysmat","Number":"27719","RawContent":null,"Title":"ng18: update dependency when creating","State":"closed","Body":"### Command\n\nnew\n\n### Description\n\nit is using old dep:\r\n\r\n```\r\n@types/jasmine   ~5.1.0  â†’   ~5.1.4\r\n jasmine-core     ~5.1.0  â†’   ~5.1.2\r\n karma            ~6.4.0  â†’   ~6.4.3\r\n karma-coverage   ~2.2.0  â†’   ~2.2.1\r\n rxjs             ~7.8.0  â†’   ~7.8.1\r\n tslib            ^2.3.0  â†’   ^2.6.2\r\n typescript       ~5.4.2  â†’   ~5.4.5\r\n zone.js         ~0.14.3  â†’  ~0.14.6\r\n```\n\n### Describe the solution you'd like\n\nto be up to date\n\n### Describe alternatives you've considered\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27719","RelatedDescription":"Closed issue \"ng18: update dependency when creating\" (#27719)"},{"Id":"2318616350","IsPullRequest":false,"CreatedAt":"2024-05-27T09:03:13","Actor":"3dyuval","Number":"27720","RawContent":null,"Title":"Component SCSS Updates without Triggering Full Page Reloads","State":"closed","Body":"### Command\n\nserve\n\n### Description\n\nWhen saving SCSS files on a component level in an Angular project, the entire page reloads instead of just updating the styles. This behavior disrupts the development workflow, as it forces a full page reload rather than a smooth Hot Module Replacement (HMR) update. This issue does not occur when updating `index.scss` files referenced in `angular.json`, which correctly triggers an HMR update without a full reload.\r\n\r\n#### Steps to Reproduce\r\n\r\n1. Set up an Angular project with HMR enabled.\r\n2. Create a component with its own SCSS file (e.g., `app.component.scss`).\r\n3. Make a change to the `app.component.scss` file and save it.\r\n\r\nThe page reloads completely, with the console showing:\r\n\r\n```console\r\nInitial chunk files | Names | Raw size\r\nmain.js             | main  | 22.72 kB | \r\n\r\nApplication bundle generation complete. [0.163 seconds]\r\n```\r\n\r\n\n\n### Describe the solution you'd like\n\nThe Angular CLI should trigger an HMR update that only updates the styles of the component, without reloading the entire page, and show:\r\n\r\n```console\r\n\r\nInitial chunk files | Names  |  Raw size\r\napp.component.scss          | styles | 117 bytes | \r\n\r\nApplication bundle generation complete. [0.146 seconds]\r\n\r\nHMR update sent to client(s).\r\n```\r\n\n\n### Describe alternatives you've considered\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27720","RelatedDescription":"Closed issue \"Component SCSS Updates without Triggering Full Page Reloads\" (#27720)"},{"Id":"2318637314","IsPullRequest":true,"CreatedAt":"2024-05-27T09:02:33","Actor":"alan-agius4","Number":"27721","RawContent":null,"Title":"     fix(@angular/build): address prerendering in-memory ESM resolution in Node.js 22.2.0 and later","State":"open","Body":"    \r\nNode.js 22.2.0 introduced a breaking change affecting custom ESM resolution.\r\n    \r\nFor more context, see: [Node.js issue #53097](https://github.com/nodejs/node/issues/53097)\r\n    \r\nCloses: #27674","Url":"https://github.com/angular/angular-cli/pull/27721","RelatedDescription":"Open PR \"     fix(@angular/build): address prerendering in-memory ESM resolution in Node.js 22.2.0 and later\" (#27721)"},{"Id":"2318427335","IsPullRequest":true,"CreatedAt":"2024-05-27T07:19:45","Actor":"celestius0","Number":"27718","RawContent":null,"Title":"fix: replace aio links -> adev links","State":"open","Body":"## PR Checklist\r\n\r\nPlease check to confirm your PR fulfills the following requirements:\r\n\r\n<!-- Please check all that apply using \"x\". -->\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular-cli/blob/main/CONTRIBUTING.md#-commit-message-guidelines\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n## PR Type\r\n\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] Other... Please describe:\r\n\r\n## What is the current behavior?\r\n\r\nVarious links throughout the codebase are still referencing angular.io \r\n\r\nIssue Number: N/A\r\n\r\n## What is the new behavior?\r\n\r\nUpdated as many links as possible to point to the new locations on angular.dev. Specifically the following items were addressed:\r\n- Update various guide and misc angular.io links\r\n- Update all tutorial links\r\n- Update all schematics links\r\n- Update all security links\r\n- Update all workspace config links\r\n- Update all docs links\r\n- Update all quick start links\r\n- Update all blog links\r\n- Update all cli links\r\n- Update all conduct email links\r\n- Update all optimization configuration links\r\n- Update all browser support links\r\n- Update all license file links\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n## Other information\r\nA few links could not be updated for the following reasons:\r\n\r\n- `material.angular.io` these still appear to be valid for now\r\n- `angular.io/config/tsconfig` there does not appear to be an equivalent resource on the angular.dev site","Url":"https://github.com/angular/angular-cli/pull/27718","RelatedDescription":"Open PR \"fix: replace aio links -> adev links\" (#27718)"}],"ResultType":"GitHubIssue"},"material2-Issues":{"Issues":[{"Id":"2324483688","IsPullRequest":true,"CreatedAt":"2024-05-30T02:17:43","Actor":"andrewseguin","Number":"29145","RawContent":null,"Title":"Bump version to \"v18.1.0-next.0\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/29145","RelatedDescription":"Closed or merged PR \"Bump version to \"v18.1.0-next.0\" with changelog.\" (#29145)"},{"Id":"2324353805","IsPullRequest":true,"CreatedAt":"2024-05-30T01:23:10","Actor":"andrewseguin","Number":"29143","RawContent":null,"Title":"docs: release notes for the v18.0.1 release","State":"closed","Body":"Cherry-picks the changelog from the \"18.0.x\" branch to the next branch (main).","Url":"https://github.com/angular/components/pull/29143","RelatedDescription":"Closed or merged PR \"docs: release notes for the v18.0.1 release\" (#29143)"},{"Id":"2324408823","IsPullRequest":true,"CreatedAt":"2024-05-29T23:53:07","Actor":"mmalerba","Number":"29144","RawContent":null,"Title":"test: Move more CDK tests to zoneless","State":"open","Body":"","Url":"https://github.com/angular/components/pull/29144","RelatedDescription":"Open PR \"test: Move more CDK tests to zoneless\" (#29144)"},{"Id":"2324347816","IsPullRequest":true,"CreatedAt":"2024-05-29T22:39:26","Actor":"andrewseguin","Number":"29142","RawContent":null,"Title":"Bump version to \"v18.0.1\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/29142","RelatedDescription":"Closed or merged PR \"Bump version to \"v18.0.1\" with changelog.\" (#29142)"},{"Id":"2323872919","IsPullRequest":false,"CreatedAt":"2024-05-29T17:32:40","Actor":"cbaskins","Number":"29141","RawContent":null,"Title":"bug(mat-tabs): When clicking to another tab prev tab content is destroyed without calling a components onDestroy","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nIf you have a component in a mat-tab as content when that tab is no longer in focused the body is removed but the components onDestroy method is not called.  You can observe the content is removed in the dom and https://material.angular.io/components/tabs/overview#keeping-the-tab-content-inside-the-dom-while-its-off-screen supports this notion but I was expecting a components onDestroy method to be called when removed for cleanup purposes (resizeObservers et el)\n\n### Reproduction\n\nStackBlitz link: https://stackblitz.com/edit/stackblitz-starters-vntmid?file=src%2Fmain.ts\r\nSteps to reproduce:\r\n1.  Click on any tab.\r\n2. Observe console log not called from the tab one component\r\n\n\n### Expected Behavior\n\nConsole log called indicating the onDestroy method fired.\n\n### Actual Behavior\n\nNA\n\n### Environment\n\nAngular CLI: 18.0.1\r\nNode: 18.20.3\r\nPackage Manager: npm 10.2.3\r\nOS: linux x64\r\n\r\nAngular: 18.0.0\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... material, platform-browser, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1800.1\r\n@angular-devkit/build-angular   18.0.1\r\n@angular-devkit/core            18.0.1\r\n@angular-devkit/schematics      18.0.1\r\n@angular/cli                    18.0.1\r\n@schematics/angular             18.0.1\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.6","Url":"https://github.com/angular/components/issues/29141","RelatedDescription":"Open issue \"bug(mat-tabs): When clicking to another tab prev tab content is destroyed without calling a components onDestroy\" (#29141)"},{"Id":"2322108301","IsPullRequest":true,"CreatedAt":"2024-05-29T16:06:42","Actor":"mmalerba","Number":"29131","RawContent":null,"Title":"test: fix overzealous calls to markForCheck from #29083","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/29131","RelatedDescription":"Closed or merged PR \"test: fix overzealous calls to markForCheck from #29083\" (#29131)"},{"Id":"2323581027","IsPullRequest":false,"CreatedAt":"2024-05-29T15:13:40","Actor":"gkrzysztofbury","Number":"29140","RawContent":null,"Title":"bug(cdkDropList/mat-tab-nav-bar): Wrong container for cdkPlaceHolder/cdkDrag after drag/hover from other list","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nThe issue occurs when a button from the second nav-bar is dragged very slowly into the first one from the right side.\r\n\r\nThis happens because the `mat-tab-nav-bar` is not a single `<div>`, but consists of several layers:\r\n\r\n```html\r\n<div mat-tab-nav-bar cdkDropList>\r\n  <button class=\"mat-mdc-tab-header-pagination-chevron\"></button>\r\n  <div class=\"mat-mdc-tab-link-container\">\r\n    <div class=\"mat-mdc-tab-list\">\r\n      <div class=\"mat-mdc-tab-links\">\r\n        <!-- content, \"Tab 1\", etc -->\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <button class=\"mat-mdc-tab-header-pagination-chevron\"></button>\r\n  <!-- \"Tab 5\" lands here in the video --> \r\n</div>\r\n```\r\n\r\nWhen the dragged button enters another nav-bar, this function is called: [single-axis-sort-strategy.ts#L175](https://github.com/angular/components/blob/main/src/cdk/drag-drop/sorting/single-axis-sort-strategy.ts#L175). Since it does not find `newPositionReference`, the base `cdkDropList` element is used as the parent of the placeholder: [single-axis-sort-strategy.ts#L213](https://github.com/angular/components/blob/main/src/cdk/drag-drop/sorting/single-axis-sort-strategy.ts#L213).\r\n\n\n### Reproduction\n\n**Video:** [YouTube](https://youtu.be/aIcEy0thSfU)  \r\n**StackBlitz:** [Example](https://stackblitz.com/edit/stackblitz-starters-6wobe5?file=src%2Ftabs_container.ng.html)\r\n\n\n### Expected Behavior\n\nDragged button lands along with others \n\n### Actual Behavior\n\nDragged button lands in wrong container\n\n### Environment\n\n- Angular:\r\n- CDK/Material:\r\n- Browser(s):\r\n- Operating System (e.g. Windows, macOS, Ubuntu): all\r\n","Url":"https://github.com/angular/components/issues/29140","RelatedDescription":"Open issue \"bug(cdkDropList/mat-tab-nav-bar): Wrong container for cdkPlaceHolder/cdkDrag after drag/hover from other list\" (#29140)"},{"Id":"2323547615","IsPullRequest":true,"CreatedAt":"2024-05-29T14:58:16","Actor":"konstantindenerz","Number":"29139","RawContent":null,"Title":"feat(material/core): add option to configure prefix of system variables","State":"open","Body":"The component tokens (CSS variables) can reference the system variables abstraction with the configuration use-system-variables at the color and typography options level. \r\n\r\nWith this PR, you can replace the `--sys-` prefix with, for example, `--md-sys-`. This makes it more flexible to adopt your own tokens, which are based on the Material 3 naming scheme but include a custom design system prefix, e.g., `--labs-sys-`. This saves additional mapping.\r\n\r\nDemo configuration:\r\n```scss\r\n// Create a theme with the specified color type and density.\r\n@function create-theme($type: light, $density: 0) {\r\n  @return mat.define-theme((\r\n    color: (\r\n      theme-type: $type,\r\n      primary: mat.$azure-palette,\r\n      tertiary: mat.$blue-palette,\r\n      use-system-variables: true,\r\n      system-variables-prefix: md-sys,\r\n    ),\r\n    typography: (use-system-variables: true, system-variables-prefix: md-sys),\r\n    density: (\r\n      scale: $density\r\n    ),\r\n  ));\r\n}\r\n```\r\n\r\n\r\nI made a small optimization to the map with the tokens, as the key and value were the same and only the --sys- prefix was added.\r\n\r\n\r\nThe result:\r\n<img width=\"699\" alt=\"image\" src=\"https://github.com/angular/components/assets/1221055/a7a5bd40-740e-4e26-8f51-dc7f12c792c7\">\r\n","Url":"https://github.com/angular/components/pull/29139","RelatedDescription":"Open PR \"feat(material/core): add option to configure prefix of system variables\" (#29139)"},{"Id":"2323481523","IsPullRequest":true,"CreatedAt":"2024-05-29T14:29:07","Actor":"adumitrescu-plenty","Number":"29138","RawContent":null,"Title":"fix(material/form-field): label position","State":"open","Body":"When the form field is inside an overlay with ng-content or inside a side-nav (mat-drawer) the prefix container would not be visible thus the label would overlap with the prefix. In this fix we narrow down possible cases that would require an additional check for the prefix container width.\r\n\r\nExample of overlay: https://stackblitz.com/edit/ipwssz-9pucs5?file=src%2Fexample%2Fcdk-overlay-basic-example.html\r\nExample of side-nav: https://stackblitz.com/edit/ad4b8f-dq4pmf?file=src%2Fexample%2Fsidenav-autosize-example.html","Url":"https://github.com/angular/components/pull/29138","RelatedDescription":"Open PR \"fix(material/form-field): label position\" (#29138)"},{"Id":"2323460422","IsPullRequest":true,"CreatedAt":"2024-05-29T14:20:21","Actor":"amysorto","Number":"29137","RawContent":null,"Title":"fix(material/datepicker): Move aria-live attribute so month can also â€¦","State":"open","Body":"â€¦be announced when using previous and next month buttons","Url":"https://github.com/angular/components/pull/29137","RelatedDescription":"Open PR \"fix(material/datepicker): Move aria-live attribute so month can also â€¦\" (#29137)"},{"Id":"2316014155","IsPullRequest":false,"CreatedAt":"2024-05-29T11:45:25","Actor":"GLugano","Number":"29116","RawContent":null,"Title":"feat(MAT-SELECT): Create a \"header area\" inside the panel before mat-mdc-select-panel","State":"closed","Body":"### Feature Description\n\nAdd a ng-content with select, with or without wrapper, that enable the possibility to add any content before the scrollable div inside the panel.\r\n\r\nI dont have idea if it needs any default/configured height or if it is just based on the content height.\r\n\r\nPossible implementation (right before the div with role=\"listbox\"):\r\n`<ng-content select=\"mat-select-panel-header, [matSelectPanelHeader]\"></ng-content>`\n\n### Use Case\n\nWhile using mat-select, sometimes its needed to use a input to filter the options when dealing with many options.\r\n\r\nThe \"current\" way to do it, we need a third party component (Ex: ngx-mat-select-search, that fix the problem with filtering and desselecting values because the option doesnt exist anymore) and it works.\r\n\r\nThere is 2 problems with this: its not native (we need to \"fix\" the selection problem) and the scroll.\r\n\r\nThe scroll problem is this: when you are navigating with the keyboard, the moment the first option is not visible anymore and try to go back to it, the code consider the option positioned behind the \"search option\" as a valid position. The result is that the option is focused but not visible and clicking to go up doesnt change anything.\r\n\r\nThis happens because there is no \"right place\" to put that input and we are forced to put it with the other options.\r\n\r\nThe \"real\" solution is a native search, but we will not get any of it, i know. Creating a simple directive and adding a ng-content with select would fix the problems and will enable us to use the third party component.\r\n\r\nWe need the search option because its hard to find a single options between 300 other options.","Url":"https://github.com/angular/components/issues/29116","RelatedDescription":"Closed issue \"feat(MAT-SELECT): Create a \"header area\" inside the panel before mat-mdc-select-panel\" (#29116)"},{"Id":"2321255302","IsPullRequest":false,"CreatedAt":"2024-05-29T11:12:34","Actor":"IancovskiLimber","Number":"29128","RawContent":null,"Title":"bug(THEME): Components directive \"color\" not working with custom theme","State":"closed","Body":"### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n17\n\n### Description\n\nHello!\r\n\r\nI'm trying to define a custom theme for a new project using Angular 18 following the [theming guide](https://material.angular.io/guide/theming). At first, I tried to select the custom theme option when I added the Angular Material to the project, so it created a generic theme using azure and blue palettes. When I insert a material button into the HTML, it is rendered with the primary color, but if I try to change its color to \"accent\" or \"warn\" with the color directive, nothing happens; it stays with the primary color.\n\n### Reproduction\n\nI tried to create a project on StackBlitz but an error occurs when I add Angular Material...\r\n\r\nSteps to reproduce:\r\n1. Create a new project using @angular/cli version 18 (for the style question, select \"scss\")\r\n2. Add @angular/material to the project (for the theme question, select \"custom\", it will create a generic theme using azure and blue palletes)\r\n3. Replace the content of app.component.html with a mat-flat-button using the color directive, as follows:\r\n`<button mat-flat-button color=\"primary\">Button</button>`\r\n4. Run the project (the button will appear with an azure color)\r\n5. Change the button color directive to \"accent\" or \"warn\"\r\n6. Reload the project (the button color will not change)\n\n### Expected Behavior\n\nThe color of the button must change when the color directive is changed.\n\n### Actual Behavior\n\nThe color of the button don't change despite the color directive.\n\n### Environment\n\n- Angular: 18.0.1\r\n- CDK/Material: 18.0.0\r\n- Browser(s): Google Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/29128","RelatedDescription":"Closed issue \"bug(THEME): Components directive \"color\" not working with custom theme\" (#29128)"},{"Id":"2322802812","IsPullRequest":false,"CreatedAt":"2024-05-29T11:09:02","Actor":"spock123","Number":"29134","RawContent":null,"Title":"feat(dialog): input?","State":"closed","Body":"### Feature Description\r\n\r\nThis maybe be a dumb request, feel free to ridicule me - I don't know if this is even technically possible, but here goes;\r\n\r\nWould it be possible to introduce an input() signal property to material dialog components, just like we can with normal components? \r\n\r\n### Use Case\r\n\r\nCurrently when opening a dialog, there is no way to feed it changing data directly from the calling code.\r\nThe only way is to make the dialog a \"smart component\" and import data streams itself. This is often redundant and creates confusing code. \r\n\r\nAs it is now, the dialog is \"stuck\" with the initial data. Any other data, the dialog needs to import and stream itself.\r\n\r\nA solution where an input() property could supply the dialog component with changing data, would be awesome. \r\nI am ,however, quite suspicious that this might not even be technically possible. Just wanted a confimation here :) \r\n\r\nThanks","Url":"https://github.com/angular/components/issues/29134","RelatedDescription":"Closed issue \"feat(dialog): input?\" (#29134)"},{"Id":"2323038940","IsPullRequest":true,"CreatedAt":"2024-05-29T11:06:35","Actor":"crisbeto","Number":"29136","RawContent":null,"Title":"refactor(material/checkbox): simplify structural styles","State":"open","Body":"Simplifies the styles for the checkbox to make them smaller and easier to follow.","Url":"https://github.com/angular/components/pull/29136","RelatedDescription":"Open PR \"refactor(material/checkbox): simplify structural styles\" (#29136)"},{"Id":"2322901696","IsPullRequest":false,"CreatedAt":"2024-05-29T09:58:00","Actor":"yurakhomitsky","Number":"29135","RawContent":null,"Title":"bug(RadioButton): Radio button group adds scroll when used in MatTab component","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nWhen the `mat-radio-group` component is placed inside the `mat-tab` component it adds unnecessary scroll when any other content doesn't\r\n\r\nBut can be fixed by using `mat-tab-group dynamicHeight`\n\n### Reproduction\n\nStackBlitz link: [Link](https://stackblitz.com/edit/d9acy1?file=src%2Fexample%2Ftab-group-animations-example.html)\r\nSteps to reproduce:\r\n1. Use `mat-tab-group` and `mat-tab`\r\n2. Use `mat-radion-group` and `mat-radio-button` and place inside the `mat-tab`\r\n3. Notice scroll bar\r\n4. Add `dynamicHeight` attribute to the  `mat-tab-group`\r\n5. Notice the scroll bar is gone\r\n\n\n### Expected Behavior\n\nThe scroll bar should not appear when mat-radio-group is placed inside the mat-tab\n\n### Actual Behavior\n\nmat-radio-button-group adds scroll when used in mat-tab component\n\n### Environment\n\n- Angular:  \"@angular/core\": \"^17.3.0\",\r\n- CDK/Material: \"@angular/material\": \"18.0.0\",\r\n- Browser(s): Chrome\r\n- Operating System: macOS\r\n","Url":"https://github.com/angular/components/issues/29135","RelatedDescription":"Open issue \"bug(RadioButton): Radio button group adds scroll when used in MatTab component\" (#29135)"},{"Id":"2322342661","IsPullRequest":true,"CreatedAt":"2024-05-29T09:30:04","Actor":"crisbeto","Number":"29132","RawContent":null,"Title":"Revert \"fix(material/form-field): outline label position (#29123)\"","State":"closed","Body":"Reverts #29123, because it broke some internal tests.","Url":"https://github.com/angular/components/pull/29132","RelatedDescription":"Closed or merged PR \"Revert \"fix(material/form-field): outline label position (#29123)\"\" (#29132)"},{"Id":"2322788869","IsPullRequest":false,"CreatedAt":"2024-05-29T09:09:14","Actor":"angelaki","Number":"29133","RawContent":null,"Title":"bug(MatRipple): MatRipple can not be disabled for child components","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n14\n\n### Description\n\nI once opened this issue (https://github.com/angular/components/issues/26656) and now coming back with another real-world-issue, that can't be solved neatly.\r\n\r\nI have a selection with a ripple effect (the boxes in the screenshot) and some, optional, sub-options:\r\n\r\n![image](https://github.com/angular/components/assets/38611461/c17c3445-cb64-49d5-b183-2cccbd6ca555)\r\n\r\nNow every time I hit a suboption the box' ripple effect shows up. Disabling it only on inner click and re-enabling it seams like some nasty timing problem (and even looks like [ripple gets removed on mouse down etc.]).\r\n\r\nIn my opinion there **really** is a need to be able to disabler the ripple effect for some boxes inside the ripple container. There should either be a directive for disabling it or to make things easy, like I suggested in my previous post, be able to switch from `capture` to `bubbling` so it can be disabled the _vanilla Javascript way_ (`stopPropagation`).\n\n### Reproduction\n\nhttps://stackblitz.com/edit/angular-phk79p-fyt248\n\n### Expected Behavior\n\nRipple should not show up on clicking some container's child elements.\n\n### Actual Behavior\n\nRipple cannot be disabled for some inner clicks.\n\n### Environment\n\n- Angular: 18.0.1\r\n- CDK/Material: 18.0.0","Url":"https://github.com/angular/components/issues/29133","RelatedDescription":"Open issue \"bug(MatRipple): MatRipple can not be disabled for child components\" (#29133)"},{"Id":"2317625794","IsPullRequest":false,"CreatedAt":"2024-05-28T18:03:34","Actor":"jaketbd","Number":"29122","RawContent":null,"Title":"docs-bug(COMPONENT): Use of multiple themes: missing styles (Angular 18)","State":"closed","Body":"### Documentation Feedback\n\nHi, if I want to set 2 themes as described in the [docs](https://material.angular.io/guide/theming#multiple-themes-in-one-file), essential styles are missing.\r\n\r\nI created my themes with `ng generate @angular/material:m3-theme`\r\n\r\n```\r\n$ ng version                                                                                                                                                                                                   130 â†µ\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / â–³ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 18.0.1\r\nNode: 22.2.0\r\nPackage Manager: npm 10.7.0\r\nOS: darwin arm64\r\n\r\nAngular: 18.0.0\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... localize, material, platform-browser\r\n... platform-browser-dynamic, router, service-worker\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1800.1\r\n@angular-devkit/build-angular   18.0.1\r\n@angular-devkit/core            18.0.1\r\n@angular-devkit/schematics      18.0.1\r\n@angular/cli                    18.0.1\r\n@schematics/angular             18.0.1\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.6\r\n```\r\n\r\ndependencies:\r\n```json\r\n{\r\n    \"@angular/animations\": \"^18.0.0\",\r\n    \"@angular/cdk\": \"^18.0.0\",\r\n    \"@angular/common\": \"^18.0.0\",\r\n    \"@angular/compiler\": \"^18.0.0\",\r\n    \"@angular/core\": \"^18.0.0\",\r\n    \"@angular/forms\": \"^18.0.0\",\r\n    \"@angular/material\": \"^18.0.0\",\r\n    \"@angular/platform-browser\": \"^18.0.0\",\r\n    \"@angular/platform-browser-dynamic\": \"^18.0.0\",\r\n    \"@angular/router\": \"^18.0.0\",\r\n    \"@angular/service-worker\": \"^18.0.0\",\r\n    \"jwt-decode\": \"^4.0.0\",\r\n    \"rxjs\": \"~7.8.0\",\r\n    \"tslib\": \"^2.6.2\",\r\n    \"zone.js\": \"~0.14.3\"\r\n  }\r\n```\r\n\r\nin the following examples it is missing but is included in the styles.scss\r\n```scss\r\n@use \"@angular/material\" as mat;\r\n@use \"m3-theme\";\r\n\r\n@include mat.core();\r\n```\r\n\r\nFor example:\r\n```scss\r\nhtml {\r\n\t@include mat.core-theme(m3-theme.$dark-theme);\r\n\t@include mat.button-theme(m3-theme.$dark-theme);\r\n\r\n\t@media (prefers-color-scheme: light) {\r\n\t\t@include mat.core-color(m3-theme.$light-theme);\r\n\t\t@include mat.button-color(m3-theme.$light-theme);\r\n\t}\r\n}\r\n```\r\nresults in:\r\n\r\n####  Note: the input at the top and the icons at the bottom\r\n![Bildschirmfoto 2024-05-26 um 11 52 19](https://github.com/angular/components/assets/124867450/45ffde15-a99a-4fc9-92c5-1003d783d189)\r\n\r\n![Bildschirmfoto 2024-05-26 um 11 59 56](https://github.com/angular/components/assets/124867450/6b3e05d8-5c89-4304-a62b-87d65d9a2bc1)\r\n\r\n####  Note: \"Show all properties (57 more)\" at the bottom\r\n![Bildschirmfoto 2024-05-26 um 12 01 56](https://github.com/angular/components/assets/124867450/32a55509-c8c8-4f97-8eb5-26c8bdbadb62)\r\n\r\n---\r\n\r\n```scss\r\nhtml {\r\n\t@include mat.all-component-themes(m3-theme.$dark-theme);\r\n\r\n\t@media (prefers-color-scheme: light) {\r\n\t\t@include mat.all-component-colors(m3-theme.$light-theme);\r\n\t}\r\n}\r\n```\r\nresults in:\r\n\r\n####  Note: the input at the top and the icons at the bottom\r\n![Bildschirmfoto 2024-05-26 um 11 58 57](https://github.com/angular/components/assets/124867450/16877482-e942-4ddc-984a-037b58de8816)\r\n\r\n![Bildschirmfoto 2024-05-26 um 12 00 20](https://github.com/angular/components/assets/124867450/3950e2ea-1d5c-4c80-bf2f-269b5261dfd9)\r\n\r\n####  Note: \"Show all properties (800 more)\" at the bottom\r\n![Bildschirmfoto 2024-05-26 um 12 02 18](https://github.com/angular/components/assets/124867450/786317bc-c543-44b2-9557-5e3291e07f50)\r\n\r\n---\r\n\r\nIf I use all 3 together, duplicate styles are generated\r\n\r\n```scss\r\nhtml {\r\n\t@include mat.core-theme(m3-theme.$dark-theme);\r\n\t@include mat.button-theme(m3-theme.$dark-theme);\r\n\t@include mat.all-component-themes(m3-theme.$dark-theme);\r\n\r\n\t@media (prefers-color-scheme: light) {\r\n\t\t@include mat.core-color(m3-theme.$light-theme);\r\n\t\t@include mat.button-color(m3-theme.$light-theme);\r\n\t\t@include mat.all-component-colors(m3-theme.$light-theme);\r\n\t}\r\n}\r\n```\r\n\r\n![Bildschirmfoto 2024-05-26 um 12 17 35](https://github.com/angular/components/assets/124867450/5d69e944-1e8c-4edc-9f20-6962ea42597c)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n### Affected documentation page\n\nhttps://material.angular.io/guide/theming#defining-multiple-themes","Url":"https://github.com/angular/components/issues/29122","RelatedDescription":"Closed issue \"docs-bug(COMPONENT): Use of multiple themes: missing styles (Angular 18)\" (#29122)"},{"Id":"2321509790","IsPullRequest":false,"CreatedAt":"2024-05-28T16:42:41","Actor":"neo-xy","Number":"29130","RawContent":null,"Title":"feat(Buttons): Buttons & FABs with support for Icon + label","State":"open","Body":"### Feature Description\n\nAt the moment Buttons and Fabs in documentaion are adjust for containing eaither a label or an icon,\r\nare there any plans to extend api  so icon + label in a Buttons  and FABs can be easily aplied?\r\nAs now that can not be accomplished without adjusting and playing around with the css ;\r\n\r\nEx. of Fab with icon and label that destroys UI:\r\n\r\n`    <button mat-fab (click)=\"drawer.toggle()\">\r\n        <span class=\"material-symbols-rounded\" >add</span>\r\n        <span i18n=\"@@sales\">Sales</span>\r\n    </button>`\n\n### Use Case\n\n_No response_","Url":"https://github.com/angular/components/issues/29130","RelatedDescription":"Open issue \"feat(Buttons): Buttons & FABs with support for Icon + label\" (#29130)"},{"Id":"2318400842","IsPullRequest":true,"CreatedAt":"2024-05-28T16:35:09","Actor":"adumitrescu-plenty","Number":"29123","RawContent":null,"Title":"fix(material/form-field): outline label position","State":"closed","Body":"Fixes the outline label position when a prefix is present and the form field is not yet rendered.\r\n\r\nFixes #29064","Url":"https://github.com/angular/components/pull/29123","RelatedDescription":"Closed or merged PR \"fix(material/form-field): outline label position\" (#29123)"},{"Id":"2319892672","IsPullRequest":true,"CreatedAt":"2024-05-28T16:31:25","Actor":"F3n67u","Number":"29126","RawContent":null,"Title":"build: fix deprecated husky install command","State":"closed","Body":"husky v9 deprecated `husky install` command. We need to use `husky` command instead to avoid the below warning when running `yarn`.\r\n\r\n```\r\n$ husky install\r\ninstall command is deprecated\r\n```\r\n\r\nHusky v9 changelog(https://github.com/typicode/husky/releases/tag/v9.0.1):\r\n\r\n> Removed husky install. Use husky or husky some/dir for the same functionality (deprecation notice to be added).\r\n\r\n","Url":"https://github.com/angular/components/pull/29126","RelatedDescription":"Closed or merged PR \"build: fix deprecated husky install command\" (#29126)"},{"Id":"2321476738","IsPullRequest":false,"CreatedAt":"2024-05-28T16:30:23","Actor":"SebastianKohler","Number":"29129","RawContent":null,"Title":"bug: warning about missing core theme when using prebuilt M3-theme in v18","State":"closed","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nWhen using the prebuilt \"azure-blue\" M3-based theme (`@angular/material/prebuilt-themes/azure-blue.css`) I get a warning in the browser console:\r\n\r\n`Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming main.ts:5`\r\n\r\nDespite of the warning, the Material components seem to work as they should, I haven't tested them all though.\n\n### Reproduction\n\nStackBlitz link: https://stackblitz.com/edit/stackblitz-starters-wu4fpp?file=src%2Fapp%2Fapp.component.html\r\nSteps to reproduce:\r\n1. Create a new Angular 18 app (without SSR)\r\n2. Add Angular Material 18 and select the azure-blue M3-based prebuilt theme.\r\n3. Add a Material component, for example a button, to app.component.\r\n4. Serve and watch the browser console for the warning (open preview in new tab in Stackblitz and open console in DevTools).\r\n\n\n### Expected Behavior\n\nNo warning in the console.\n\n### Actual Behavior\n\nThe above mentioned warning in the browser console.\n\n### Environment\n\nAngular CLI: 18.0.1\r\nNode: 20.12.1\r\nPackage Manager: npm 10.5.0\r\nOS: win32 x64\r\n\r\nAngular: 18.0.0\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... material, platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n@angular-devkit/architect       0.1800.1\r\n@angular-devkit/build-angular   18.0.1\r\n@angular-devkit/core            18.0.1\r\n@angular-devkit/schematics      18.0.1\r\n@angular/cli                    18.0.1\r\n@schematics/angular             18.0.1\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.6","Url":"https://github.com/angular/components/issues/29129","RelatedDescription":"Closed issue \"bug: warning about missing core theme when using prebuilt M3-theme in v18\" (#29129)"},{"Id":"2317580074","IsPullRequest":true,"CreatedAt":"2024-05-28T15:06:00","Actor":"crisbeto","Number":"29121","RawContent":null,"Title":"fix(material/tabs): avoid pagination infinite loop in safari","State":"closed","Body":"Fixes a bug reported internally where the tabs pagination was going into an infinite loop at some widths.\r\n\r\nThe root cause is a bit unclear, but it looks like in some cases Safari rounds up the `scrollWidth` and in some it doesn't which we end up hitting when adding/removing the pagination.\r\n\r\nThese changes work around it by adding a 5px threshold that needs to be crossed before we start showing the pagination. The threshold shouldn't be noticable for users since the tabs have a 24px padding on each side.","Url":"https://github.com/angular/components/pull/29121","RelatedDescription":"Closed or merged PR \"fix(material/tabs): avoid pagination infinite loop in safari\" (#29121)"},{"Id":"2316813120","IsPullRequest":true,"CreatedAt":"2024-05-28T15:00:17","Actor":"crisbeto","Number":"29118","RawContent":null,"Title":"fix(material/core): M3 themes not inserting loaded marker","State":"closed","Body":"Fixes that all M3 themes were causing a \"no theme has been loaded\" warning to be logged, because they weren't inserting the loaded marker.\r\n\r\nNote: it's tempting to create the marker as a token, but we can't do it because tokens are output under a selector, whereas we want the marker to always be at the top level since we detect it by creating an element and inserting it into the `body`.\r\n\r\nFixes #29115.","Url":"https://github.com/angular/components/pull/29118","RelatedDescription":"Closed or merged PR \"fix(material/core): M3 themes not inserting loaded marker\" (#29118)"},{"Id":"2320646932","IsPullRequest":true,"CreatedAt":"2024-05-28T14:43:04","Actor":"crisbeto","Number":"29127","RawContent":null,"Title":"fix(youtube-player): error when interacting with the player before the API has been loaded","State":"closed","Body":"Fixes a couple of issues:\r\n1. We were using the `PlayerState` enum before the API has been loaded which will cause a runtime error because the enum is usually read off the `window`.\r\n2. Fixes that calling the `playVideo` method wasn't load the YouTube API.\r\n\r\nFixes #29030.","Url":"https://github.com/angular/components/pull/29127","RelatedDescription":"Closed or merged PR \"fix(youtube-player): error when interacting with the player before the API has been loaded\" (#29127)"},{"Id":"2316931720","IsPullRequest":false,"CreatedAt":"2024-05-27T15:35:51","Actor":"mindarchitect","Number":"29119","RawContent":null,"Title":"m2-define-palette function default arguments (resolved)","State":"closed","Body":"### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n17\n\n### Description\n\nCalling m2-define-palette ->_get-color-from-palette($base-palette, $default) results in calling _get-color-from-palette with default hues (500, 100, 700) that do not exist anymore.\r\n\r\n@function _get-color-from-palette($palette, $hue) {\r\n  @if map.has-key($palette, $hue) {\r\n    @return map.get($palette, $hue);\r\n  }\r\n\r\n  @error 'Hue \"' + $hue + '\" does not exist in palette. Available hues are: ' + map.keys($palette);\r\n}\r\n\r\n@function define-palette($base-palette, $default: 500, $lighter: 100, $darker: 700,\r\n  $text: $default) {\r\n  $result: map.merge($base-palette, (\r\n    default: _get-color-from-palette($base-palette, $default),\r\n    lighter: _get-color-from-palette($base-palette, $lighter),\r\n    darker: _get-color-from-palette($base-palette, $darker),\r\n    text: _get-color-from-palette($base-palette, $text),\r\n    default-contrast: get-contrast-color-from-palette($base-palette, $default),\r\n    lighter-contrast: get-contrast-color-from-palette($base-palette, $lighter),\r\n    darker-contrast: get-contrast-color-from-palette($base-palette, $darker)\r\n  ));\r\n\r\n  // For each hue in the palette, add a \"-contrast\" color to the map.\r\n  @each $hue, $color in $base-palette {\r\n    $result: map.merge($result, (\r\n      '#{$hue}-contrast': get-contrast-color-from-palette($base-palette, $hue)\r\n    ));\r\n  }\r\n\r\n  @return $result;\r\n}\n\n### Reproduction\n\nStackBlitz link: \r\nSteps to reproduce:\r\n1. Call  m2-define-palette with default values\r\n\n\n### Expected Behavior\n\nPalette defined\n\n### Actual Behavior\n\nCompilation error\r\n\r\n'Hue \"500\" does not exist in palette. Available hues are: 0, 10, 20, 25, 30, 35, 40, 50, 60, 70, 80, 90, 95, 98, 99, 100, secondary, neutral, neutral-variant, error'\r\n   â•·\r\n38 â”‚     default: _get-color-from-palette($base-palette, $default),\r\n   â”‚              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n   â•µ\r\n  node_modules/@angular/material/core/m2/_theming.scss 38:14  define-palette()\r\n  src/styles/theme.scss 7:18                                  @import\r\n  src/styles.scss 29:9                                        root stylesheet\r\n\n\n### Environment\n\n- Angular: 18\r\n- CDK/Material: 18\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Ubuntu\r\n","Url":"https://github.com/angular/components/issues/29119","RelatedDescription":"Closed issue \"m2-define-palette function default arguments (resolved)\" (#29119)"},{"Id":"2318870739","IsPullRequest":false,"CreatedAt":"2024-05-27T15:15:53","Actor":"RobinBomkamp","Number":"29125","RawContent":null,"Title":"bug(drag-drop): Drag and drop does not work with virtual scrolling lists","State":"closed","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nHey there,\r\n\r\nwe want to use the drag and drop feature in a virtual scrolling list. But this is not working. Could you please provide some help?\n\n### Reproduction\n\nStackBlitz link: https://stackblitz.com/edit/s6orkg?file=src%2Fexample%2Fcdk-virtual-scroll-overview-example.ts\r\n\r\nMoving of an element to the bottom of the container, does not scroll down the container:\r\n\r\nSteps to reproduce:\r\n1. Move one item down to the bottom of the container.\r\n2. The container should move down, but it does not.\r\n\r\nCalculating the current and previous index of the element to move is based on the current viewed items not on the real index of the list.\r\n1. Scroll to an element like Item #100\r\n2. Move the item down a few elements. \r\n3. Look in the console: The logged event of cdkDropListDropped does not say that the element with the index 100 (or 99) should be moved, but the element with the index 6 for example should be moved to the index 9.\n\n### Expected Behavior\n\nDrag and drop should work with virtual scrolling lists.\n\n### Actual Behavior\n\nServeral different issues according to the virtual scrolling and drag and drop. \r\nFor example showing elements on top of each other and calculating the index wrong.\n\n### Environment\n\n- Angular: 17.3.0\r\n- CDK/Material: 18\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/29125","RelatedDescription":"Closed issue \"bug(drag-drop): Drag and drop does not work with virtual scrolling lists\" (#29125)"},{"Id":"2318677751","IsPullRequest":false,"CreatedAt":"2024-05-27T12:14:33","Actor":"chintankavathia","Number":"29124","RawContent":null,"Title":"bug(drag-drop): inconsistent DOM position for drag placeholder ","State":"closed","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\ndrag placeholder  element is inserted  at wrong dom location when there is a wrapper element with full height around drag items. \r\n\r\n\n\n### Reproduction\n\nStackBlitz link:  https://stackblitz.com/edit/hmmxrz?file=src%2Fexample%2Fcdk-drag-drop-connected-sorting-example.html,src%2Fexample%2Fcdk-drag-drop-connected-sorting-example.css,src%2Fexample%2Fcdk-drag-drop-connected-sorting-example.ts,src%2Findex.html\r\nSteps to reproduce:\r\n1.  In above stackblitz example try to drag item from To Do list to Done list but make sure you move the drag item into Done container from bottom.\r\n2. notice that drag placeholder element will be inserted next to the wrapper div\r\n3. normally drag placeholder element should be inserted next to the cdkdrag item\r\n\n\n### Expected Behavior\n\ndrag placeholder element should be inserted next to the cdkdrag item\n\n### Actual Behavior\n\ndrag placeholder element is inserted next to the wrapper div if item is not dragged  over other drag item but into the empty area of wrapper div. \n\n### Environment\n\n- Angular: 17\r\n- CDK/Material: 17\r\n- Browser(s): chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): macOS\r\n","Url":"https://github.com/angular/components/issues/29124","RelatedDescription":"Closed issue \"bug(drag-drop): inconsistent DOM position for drag placeholder \" (#29124)"},{"Id":"2317071121","IsPullRequest":false,"CreatedAt":"2024-05-25T14:57:58","Actor":"hrshtkpr","Number":"29120","RawContent":null,"Title":"bug(Theme): There is no way to use reference tokens as values of system tokens in angular material 18 theming api","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nI am using angular 18, following is snippet from my package.json \r\n```\r\n \"  @angular/animations\": \"^18.0.0\",\r\n    \"@angular/cdk\": \"^18.0.0\",\r\n    \"@angular/common\": \"^18.0.0\",\r\n    \"@angular/compiler\": \"^18.0.0\",\r\n    \"@angular/core\": \"^18.0.0\",\r\n    \"@angular/forms\": \"^18.0.0\",\r\n    \"@angular/material\": \"^18.0.0\",\r\n    \"@angular/platform-browser\": \"^18.0.0\",\r\n    \"@angular/platform-browser-dynamic\": \"^18.0.0\",\r\n    \"@angular/platform-server\": \"^18.0.0\",\r\n    \"@angular/router\": \"^18.0.0\",\r\n    \"@angular/ssr\": \"^18.0.0\",\r\n```\r\n\r\nI used the following command to generate a custom theme:\r\n```ng generate @angular/material:m3-theme```\r\nI answerd Yes to the following prompt:\r\n\r\n> Do you want to use system-level variables in the theme? System-level\r\n> variables make dynamic theming easier through CSS custom properties,\r\n> but increase the bundle size. Yes\r\n\r\nThis generated a m3-theme.scss for me.\r\nI uset this in my global styles scss like the following:\r\n```\r\n@import 'm3-theme';\r\n\r\n@include mat.core();\r\n\r\n:root {\r\n\r\n  @include mat.all-component-themes($light-theme);\r\n\r\n  --sys-background: red;\r\n  --sys-error: red;\r\n  ...\r\n  --sys-primary: var(--md-ref-palette-primary0);\r\n  ...\r\n}\r\n```\r\n\r\nAccording to the material3 design specifications, we should refer to the reference tokens from system tokens and not hard code values in system tokens. Hence I am trying to style/themem my application as above.\r\n\r\nHowever, --mdc-ref-palette-primary0 token is not present at all.\r\nI tried a number of combinations of the name but none worked.\r\nI do see in @angular/material/core/tokens/_m3-tokens.scss, there is a function that should generate these tokens.\r\n\r\n> /// Creates a set of `md-ref-palette` tokens from the given palettes. (See\r\n/// https://github.com/material-components/material-components-web/blob/master/packages/mdc-tokens/v0_161/_md-ref-palette.scss)\r\n```\r\n@function _generate-ref-palette-tokens($primary, $tertiary, $error) {\r\n  @return sass-utils.merge-all(\r\n      (black: #000, white: #fff),\r\n      _generate-palette-tokens($primary, primary),\r\n      _generate-palette-tokens(map.get($primary, secondary), secondary),\r\n      _generate-palette-tokens($tertiary, tertiary),\r\n      _generate-palette-tokens(map.get($primary, neutral), neutral),\r\n      _generate-palette-tokens(map.get($primary, neutral-variant), neutral-variant),\r\n      _generate-palette-tokens($error, error),\r\n  );\r\n}\r\n```\r\nWhen I run the application and inspect in browser, I do see --sys-* tokens but none of the *ref* tokens.\r\n\r\nI want to use these tokens to give my sys token correct values instead of hardcoding them. \r\n\n\n### Reproduction\n\nStackBlitz link: \r\nSteps to reproduce:\r\n1. \r\n2.\r\n\n\n### Expected Behavior\n\nTheming api should generate and expose referemce tokens that can be referred to like so: \r\n  --sys-primary: var(--md-ref-palette-primary0);\n\n### Actual Behavior\n\nReference tokens   such as --md-ref-palette-primary0 are not exposed. \n\n### Environment\n\nAngular CLI: 18.0.1\r\nNode:  22.0.0\r\nPackage Manager: npm 9.5.0\r\nOS: darwin arm64\r\n\r\nAngular: 18.0.0\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... material, platform-browser, platform-browser-dynamic\r\n... platform-server, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1800.1\r\n@angular-devkit/build-angular   18.0.1\r\n@angular-devkit/core            18.0.1\r\n@angular-devkit/schematics      18.0.1\r\n@angular/cli                    18.0.1\r\n@angular/ssr                    18.0.1\r\n@schematics/angular             18.0.1\r\nng-packagr                      18.0.0\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.6\r\n","Url":"https://github.com/angular/components/issues/29120","RelatedDescription":"Open issue \"bug(Theme): There is no way to use reference tokens as values of system tokens in angular material 18 theming api\" (#29120)"},{"Id":"2316206333","IsPullRequest":false,"CreatedAt":"2024-05-24T20:33:04","Actor":"JaxonWright","Number":"29117","RawContent":null,"Title":"bug(theming): can no longer define custom M2 palettes on v18","State":"closed","Body":"### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n17.3.10\n\n### Description\n\nAfter Angular Material 18, in order to use Material 2 themes still, you need to change a bunch of Sass functions to be new m2 variants. This works fine until you try to use `mat.m2-define-palette($my-custom-palette)` with a non-default palette variable.\r\n\r\nWhen doing this you get the following error:\r\n `'Hue \"500\" does not exist in palette. Available hues are: 0, 10, 20, 25, 30, 35, 40, 50, 60, 70, 80, 90, 95, 98, 99, 100, secondary, neutral, neutral-variant, error'` \r\n \r\n This makes it seem like this internal `get-color-from-palette()` Sass function is expecting a Material 3 Palette instead of a Material 2 Palette despite intentionally defining a Material 2 palette via `mat.m2-define-palette()`\r\n\r\nMy custom palette is unchanged from Angular 17,  and is in the typical `50, 100..900, A100, A200, A400, A700, contrast` format for a m2 palette.\n\n### Reproduction\n\nStackBlitz link: \r\nSteps to reproduce:\r\n1. \r\n2.\r\n\n\n### Expected Behavior\n\nRetain the ability to define custom Material 2 Palettes and use them with `mat.m2-define-palette()`\n\n### Actual Behavior\n\n `'Hue \"500\" does not exist in palette. Available hues are: 0, 10, 20, 25, 30, 35, 40, 50, 60, 70, 80, 90, 95, 98, 99, 100, secondary, neutral, neutral-variant, error'` \n\n### Environment\n\n- Angular: 18.0.0\r\n- CDK/Material: 18.0.0\r\n- Browser(s): N/A\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows 11\r\n","Url":"https://github.com/angular/components/issues/29117","RelatedDescription":"Closed issue \"bug(theming): can no longer define custom M2 palettes on v18\" (#29117)"}],"ResultType":"GitHubIssue"}},"RunOn":"2024-05-30T03:30:02.1027937Z","RunDurationInMilliseconds":1364}