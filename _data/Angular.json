{"Data":{"Angular-Issues":{"Issues":[{"Id":"2316324973","IsPullRequest":true,"CreatedAt":"2024-05-24T22:10:08","Actor":"AndrewKushnir","Number":"56076","RawContent":null,"Title":"fix(core): handle elements with local refs in event replay serialization logic","State":"open","Body":"Previously, the event replay serialization logic was located before we verify that a `TNode` exists. `TNode`s may not exist in `tView.data` array in several cases, including cases when there is a local ref used on an element: in this case an extra slot in `LView` contains a reference to the same element and `TNode` is not needed. This commit moves the event replay serialization logic a bit lower, after we check for `TNode` presence.\r\n\r\nResolves #56073.\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [x] Bugfix\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/56076","RelatedDescription":"Open PR \"fix(core): handle elements with local refs in event replay serialization logic\" (#56076)"},{"Id":"2315909300","IsPullRequest":false,"CreatedAt":"2024-05-24T19:51:13","Actor":"dreamstar-enterprises","Number":"56072","RawContent":null,"Title":"Form values have changed from their original values - boolean ","State":"closed","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\n\nforms\n\n### Description\n\nHi, \r\nI know Angular 18 introduced this for reactive forms:\r\n\r\n_FormControl, FormGroup and FormArray classes from Angular forms now expose a property called events, which allows you to subscribe to a stream of events for this form control. Using it you can track changes in value, touch state, pristine status, and the control status._\r\n\r\nIs there a way of detecting if form values of changed, from the initially loaded form values - it returns a boolean, true if values across all form controls are the same, false, if any value is not the same as the original. \r\n\r\nRight now I'm having to use a deep object equality check, saving the initial form state and comparing that to the latest. Just wondered where there was something already built in, that checks this.\r\n\n\n### Proposed solution\n\nSee above\n\n### Alternatives considered\n\nUsing deep object equality check, e.g. using loadash","Url":"https://github.com/angular/angular/issues/56072","RelatedDescription":"Closed issue \"Form values have changed from their original values - boolean \" (#56072)"},{"Id":"2316151876","IsPullRequest":true,"CreatedAt":"2024-05-24T19:46:16","Actor":"avinashsaripilli","Number":"56075","RawContent":null,"Title":"Modifications in the CHANGELOG","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [x ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x ] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/56075","RelatedDescription":"Open PR \"Modifications in the CHANGELOG\" (#56075)"},{"Id":"2316001340","IsPullRequest":false,"CreatedAt":"2024-05-24T18:25:48","Actor":"zip-fa","Number":"56074","RawContent":null,"Title":"Broken hydration after v17 -> v18 migration if i18n blocks are used","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nYes\n\n### Description\n\nImagine this code:\r\n\r\n```html\r\n<div>\r\n  @if (currentBreakpoint() === 'mobile') {\r\n    <div class=\"mobile\" i18n=\"@@test\">\r\n      Mobile content\r\n    </div>\r\n  } @else {\r\n    <div class=\"desktop\" i18n=\"@@test2\">\r\n      Desktop content\r\n    </div>\r\n  }\r\n</div>\r\n```\r\n\r\ncurrentBreakpoint signal can be desktop, mobile or tablet. On server it's always set to 'desktop'.\r\nWhen i add this little line to my component, hydration breaks and 'desktop' div never cleans up on mobile devices after hydration:\r\n\r\n```ts\r\n  private readonly vcr = inject(ViewContainerRef);\r\n```\r\n\r\nVideo:\r\n\r\nhttps://github.com/angular/angular/assets/61551308/654e3de3-26a4-4cbe-9510-6f4df2d736ad\r\n\r\n\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://github.com/zip-fa/ng18-broken-hydration\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 18.0.1\r\nNode: 21.7.3 (Unsupported)\r\nPackage Manager: npm 10.5.0\r\nOS: darwin arm64\r\n\r\nAngular: 18.0.0\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... localize, platform-browser, platform-browser-dynamic\r\n... platform-server, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1800.1\r\n@angular-devkit/build-angular   18.0.1\r\n@angular-devkit/core            18.0.1\r\n@angular-devkit/schematics      18.0.1\r\n@angular/cli                    18.0.1\r\n@angular/ssr                    18.0.1\r\n@schematics/angular             18.0.1\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.6\r\n    \r\nWarning: The current version of Node (21.7.3) is not supported by Angular.\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/56074","RelatedDescription":"Open issue \"Broken hydration after v17 -> v18 migration if i18n blocks are used\" (#56074)"},{"Id":"2315927084","IsPullRequest":false,"CreatedAt":"2024-05-24T17:51:22","Actor":"zip-fa","Number":"56073","RawContent":null,"Title":"setJSActionAttribute: Cannot read properties of null (reading 'type')","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nNo\n\n### Description\n\n`withEventReplay()` feature does not work on fresh angular project.\r\n\r\nThis is my app.config.ts:\r\n\r\n```ts\r\nimport { ApplicationConfig, provideZoneChangeDetection } from '@angular/core';\r\nimport { provideRouter } from '@angular/router';\r\n\r\nimport { routes } from './app.routes';\r\nimport {\r\n  provideClientHydration,\r\n  withEventReplay,\r\n  withI18nSupport,\r\n  withNoHttpTransferCache\r\n} from '@angular/platform-browser';\r\n\r\nexport const appConfig: ApplicationConfig = {\r\n  providers: [\r\n    provideZoneChangeDetection({ eventCoalescing: true }),\r\n    provideRouter(routes),\r\n    provideClientHydration(withNoHttpTransferCache(), withI18nSupport(), withEventReplay()),\r\n  ]\r\n};\r\n```\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\n8:47:57 PM [vite] Internal server error: Cannot read properties of null (reading 'type')\r\n      at setJSActionAttribute (/jsaction-bug/node_modules/@angular/core/fesm2022/core.mjs:36686:15)\r\n      at serializeLView (/jsaction-bug/node_modules/@angular/core/fesm2022/core.mjs:36972:13)\r\n      at annotateHostElementForHydration (/jsaction-bug/node_modules/@angular/core/fesm2022/core.mjs:37174:21)\r\n      at annotateComponentLViewForHydration (/jsaction-bug/node_modules/@angular/core/fesm2022/core.mjs:36776:16)\r\n      at annotateForHydration (/jsaction-bug/node_modules/@angular/core/fesm2022/core.mjs:36841:17)\r\n      at prepareForHydration (/jsaction-bug/node_modules/@angular/platform-server/fesm2022/platform-server.mjs:16982:34)\r\n      at eval (/jsaction-bug/node_modules/@angular/platform-server/fesm2022/platform-server.mjs:17042:3)\r\n      at Generator.next (<anonymous>)\r\n      at fulfilled (/jsaction-bug/.angular/vite-root/jsaction-bug/chunk-QDHZVCWX.mjs:50:24)\r\n      at _ZoneDelegate.invoke (/jsaction-bug/node_modules/zone.js/fesm2015/zone-node.js:365:28)\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\n_                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 18.0.1\r\nNode: 21.7.3 (Unsupported)\r\nPackage Manager: npm 10.5.0\r\nOS: darwin arm64\r\n\r\nAngular: 18.0.0\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... localize, platform-browser, platform-browser-dynamic\r\n... platform-server, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1800.1\r\n@angular-devkit/build-angular   18.0.1\r\n@angular-devkit/core            18.0.1\r\n@angular-devkit/schematics      18.0.1\r\n@angular/cli                    18.0.1\r\n@angular/ssr                    18.0.1\r\n@schematics/angular             18.0.1\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.6\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/56073","RelatedDescription":"Open issue \"setJSActionAttribute: Cannot read properties of null (reading 'type')\" (#56073)"},{"Id":"2315892915","IsPullRequest":false,"CreatedAt":"2024-05-24T17:27:51","Actor":"Harpush","Number":"56071","RawContent":null,"Title":"Effect runs when there was not change at the end","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nNo\n\n### Description\n\nIf I have a signal and an effect:\r\n```ts\r\nname = signal<string | undefined>('Angular');\r\n\r\neffect(() => console.log(this.name()));\r\n```\r\nAnd later I do: `this.name.set('Angular');` the effect won't run as expected.\r\n\r\nBut doing (in sync):\r\n```ts\r\nthis.name.set(undefined);\r\nthis.name.set('Angular');\r\n```\r\nWill trigger the effect even tough nothing actually changed.\r\nI would expect it not to run...\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://stackblitz.com/edit/stackblitz-starters-h9xfum?file=src%2Fmain.ts\n\n### Please provide the exception or error you saw\n\n```true\nThe effect ran and console log happened\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular 17 windows 10\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/56071","RelatedDescription":"Open issue \"Effect runs when there was not change at the end\" (#56071)"},{"Id":"2315820332","IsPullRequest":true,"CreatedAt":"2024-05-24T16:42:22","Actor":"sasidharansd","Number":"56070","RawContent":null,"Title":"docs: fix schematics cli broken link","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\nIn the page:  https://angular.dev/tools/cli/schematics-authoring#defining-rules-and-actions\r\nUnder the topic: [Defining rules and actions]\r\nClicking on the **\"Schematics CLI\"** takes to top of the page instead of  \"Schematics CLI\" section.\r\n\r\n\r\nAngular.io link for ref:  https://www.angular.io/guide/schematics-authoring#defining-rules-and-actions \r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\nClicking on **\"Schematics CLI\"** will take user to the correct section\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/56070","RelatedDescription":"Open PR \"docs: fix schematics cli broken link\" (#56070)"},{"Id":"2315739337","IsPullRequest":true,"CreatedAt":"2024-05-24T16:09:51","Actor":"amahdysancsoft","Number":"56069","RawContent":null,"Title":"Update reactive-forms.md for typo mistake","State":"closed","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: [Angular Commit Message Guidelines](https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit)\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n## What is the current behavior?\r\nCurrently, the documentation for Reactive Forms under Angular states \"There are three steps to using form controls,\" which may cause confusion as the steps listed can be considered as two distinct steps. This misalignment can be confusing for new users.\r\n\r\n## What is the new behavior?\r\nThe proposed change clarifies the steps involved in setting up form controls by appropriately categorizing the actions into distinct steps, enhancing readability and understanding.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n## Other information\r\nThis update is intended to improve the clarity and accuracy of the documentation, making it easier for developers to follow and implement Angular's Reactive Forms.\r\n","Url":"https://github.com/angular/angular/pull/56069","RelatedDescription":"Closed or merged PR \"Update reactive-forms.md for typo mistake\" (#56069)"},{"Id":"2315729372","IsPullRequest":false,"CreatedAt":"2024-05-24T15:50:42","Actor":"csvn","Number":"56068","RawContent":null,"Title":"Examples for NgTemplateOutlet is missing on new site","State":"open","Body":"### Describe the problem that you experienced\n\nWhen reading docs on `NgTemplateOutlet` on Angular.dev, I found that examples are missing [compared to Angular.io](https://v17.angular.io/api/common/NgTemplateOutlet). I'm not sure if this issue is specific to docs generated for only `NgTemplateOutlet`, or if it affects other directives/components/etc for generated docs.\n\n### Enter the URL of the topic with the problem\n\nhttps://angular.dev/api/common/NgTemplateOutlet?tab=usage-notes\n\n### Describe what you were looking for in the documentation\n\nExamples for how to use `NgTemplateOutlet`\n\n### Describe the actions that led you to experience the problem\n\nOpened \"Usage notes\" and found examples missing.\n\n### Describe what you want to experience that would fix the problem\n\nMake the example section look similar to Angular.io.\n\n### Add a screenshot if that helps illustrate the problem\n\n**Missing example:**\r\n![image](https://github.com/angular/angular/assets/8770194/bf10254a-f476-47b5-8226-954522ad04e3)\r\n**Example working:**\r\n![image](https://github.com/angular/angular/assets/8770194/bda6a8e1-9884-4d64-b994-6010b797330f)\n\n### If this problem caused an exception or error, please paste it here\n\n_No response_\n\n### If the problem is browser-specific, please specify the device, OS, browser, and version\n\n_No response_\n\n### Provide any additional information here in as much as detail as you can\n\n_No response_","Url":"https://github.com/angular/angular/issues/56068","RelatedDescription":"Open issue \"Examples for NgTemplateOutlet is missing on new site\" (#56068)"},{"Id":"2315626369","IsPullRequest":true,"CreatedAt":"2024-05-24T15:02:39","Actor":"JeanMeche","Number":"56067","RawContent":null,"Title":"fix(core): Do not migrate `HttpClientModule` imports on components.","State":"open","Body":"`provideHttpClient()` returns a `EnvironmentProvider` which is not compatible with component providers.\r\nAlso adding a `// TODO` to warn about `HttpClientModule` not being recommended in component imports. ","Url":"https://github.com/angular/angular/pull/56067","RelatedDescription":"Open PR \"fix(core): Do not migrate `HttpClientModule` imports on components.\" (#56067)"},{"Id":"2315487105","IsPullRequest":false,"CreatedAt":"2024-05-24T14:28:07","Actor":"mbagiella","Number":"56065","RawContent":null,"Title":"Timeout since the update from v17 to v18","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nzone.js\n\n### Is this a regression?\n\nYes\n\n### Description\n\nI have a component that takes into parameters a list of images and the image change each second.\r\nSince the upgrade to v18 this component doesn't build anymore.\r\n\r\n`import { Component, OnInit, signal } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  standalone: true,\r\n  template: `\r\n    @if(img(); as img){\r\n      <img [src]=\"img\" />\r\n    }\r\n  `,\r\n  styles: '',\r\n})\r\nexport class AppComponent implements OnInit {\r\n  imgs = `['https://cdn.pixabay.com/photo/2023/09/02/03/15/water-8228076_1280.jpg',\r\n  'https://media.istockphoto.com/id/157482223/de/foto/water-splash.jpg?s=2048x2048&w=is&k=20&c=tovlRmZEzpSmlXEL9OH8iANIK2w16YQD8QDDtsmxs3U=',\r\n  'https://media.istockphoto.com/id/157482222/de/foto/gefrorene-tropfen-wasser.jpg?s=2048x2048&w=is&k=20&c=ASd2SEWIz7EEiSQLeCdrf6zA-eR9ExAyFCzZLG1tXco=']`;\r\n\r\n  img = signal('');\r\n  intervalId:any;\r\n  pointer=0;\r\n\r\n  ngOnInit(): void {\r\n    this.img.set(this.imgs[0]);\r\n    this.startImageRotation();\r\n  }\r\n\r\n  startImageRotation(): void {\r\n    this.intervalId = setInterval(() => {\r\n      this.pointer = (this.pointer + 1) % this.imgs.length;\r\n      this.img.set(this.imgs[this.pointer]);\r\n    }, 1000);\r\n  }\r\n}\r\n\r\n`\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://stackoverflow.com/questions/78528688/timeout-since-the-migration-to-angular-18\n\n### Please provide the exception or error you saw\n\n```true\n[vite] Internal server error: Page /guide did not render in 30 seconds.\r\n      at Timeout.<anonymous> (C:\\Users\\mbagi\\Developer\\xxx\\angular-client\\node_modules\\@angular\\build\\src\\utils\\server-rendering\\render-page.js:90:90)\r\n      at Timeout.timer (c:/Users/mbagi/Developer/xxx/angular-client/node_modules/zone.js/fesm2015/zone-node.js:2320:21)\r\n      at _ZoneDelegate.invokeTask (c:/Users/mbagi/Developer/xxx/angular-client/node_modules/zone.js/fesm2015/zone-node.js:459:13)\r\n      at _ZoneImpl.runTask (c:/Users/mbagi/Developer/xxx/angular-client/node_modules/zone.js/fesm2015/zone-node.js:226:35)\r\n      at invokeTask (c:/Users/mbagi/Developer/xxx/angular-client/node_modules/zone.js/fesm2015/zone-node.js:540:14)\r\n      at Timeout.ZoneTask.invoke (c:/Users/mbagi/Developer/xxx/angular-client/node_modules/zone.js/fesm2015/zone-node.js:524:33)\r\n      at Timeout.data.args.<computed> (c:/Users/mbagi/Developer/xxx/angular-client/node_modules/zone.js/fesm2015/zone-node.js:2301:23)\r\n      at listOnTimeout (node:internal/timers:573:17)\r\n      at process.processTimers (node: internal/timers:514:7\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular Cli 18\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/56065","RelatedDescription":"Closed issue \"Timeout since the update from v17 to v18\" (#56065)"},{"Id":"2315518420","IsPullRequest":false,"CreatedAt":"2024-05-24T14:10:46","Actor":"atiris","Number":"56066","RawContent":null,"Title":"Links refer to non-existent web endpoints","State":"open","Body":"### Command\n\nserve\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nWhen the cli reports any documentation links, it refers to angular.io. For example in this demo https://angular.io/errors/NG05000\r\n\r\nHowever, there will be a remeasurement to the address https://v17.angular.io/errors/NG05000 and that's the end of it. No other redirection and only shows Page is not available. Expected link is https://angular.dev/errors/NG05000\r\n\r\nPlease edit the links to angular.dev.  \r\nI suppose that a redirect to angular.dev can be done as a temporary solution, but I believe that the solution is to fix the code in the cli.\r\n\r\nThe link is from this message, but I assume it will be the same for any documentation link. `NG05000: Angular detected that hydration was enabled for an application that uses a custom or a noop Zone.js implementation. This is not yet a fully supported configuration. Find more at https://angular.io/errors/NG05000`\n\n### Minimal Reproduction\n\nIn this case you can create app with `ng new xyz --ssr true` and continue according to https://angular.dev/guide/experimental/zoneless. Then start with `ng serve` but I thing this is more general bug.\n\n### Exception or Error\n\n_No response_\n\n### Your Environment\n\n```text\nAngular CLI: 18.0.1\r\nNode: 20.13.1\r\nPackage Manager: npm 10.8.0\r\nOS: win32 x64\r\n\r\nAngular: 18.0.0\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... material, platform-browser, platform-browser-dynamic\r\n... platform-server, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1800.1\r\n@angular-devkit/build-angular   18.0.1\r\n@angular-devkit/core            18.0.1\r\n@angular-devkit/schematics      18.0.1\r\n@angular/cli                    18.0.1\r\n@angular/ssr                    18.0.1\r\n@schematics/angular             18.0.1\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular/issues/56066","RelatedDescription":"Open issue \"Links refer to non-existent web endpoints\" (#56066)"},{"Id":"2315469775","IsPullRequest":false,"CreatedAt":"2024-05-24T13:51:31","Actor":"vinibiavatti1","Number":"56064","RawContent":null,"Title":"first-app.zip missing essential files","State":"open","Body":"### Describe the problem that you experienced\r\n\r\nIn the [Download the default app](https://angular.dev/tutorials/first-app/01-hello-world#download-the-default-app) step of the Angular tutorial, we must click on code editor's download button to get the default app code and start learning. However, the downloaded zip folder does not contain some necessary files (like package.json), in which is listed in the third step: [Review the files in the project](https://angular.dev/tutorials/first-app/01-hello-world#review-the-files-in-the-project). Without these files, the application cannot be built.\r\n\r\n### Enter the URL of the topic with the problem\r\n\r\nhttps://angular.dev/tutorials/first-app/01-hello-world#download-the-default-app\r\n\r\n### Describe what you were looking for in the documentation\r\n\r\nTutorial to learn Angular\r\n\r\n### Describe the actions that led you to experience the problem\r\n\r\n1. Access the Angular Tutorial at angular.dev;\r\n2. At [Download the default app](https://angular.dev/tutorials/first-app/01-hello-world#download-the-default-app) section, click on the code editor download button to get the source code for tutorial;\r\n3. At [Test the default app](https://angular.dev/tutorials/first-app/01-hello-world#test-the-default-app), try to perform `npm install` command.\r\n4. The command will not work since the `package.json` file is missing.\r\n\r\nI also tried using the source code from the tutorial introduction page (https://angular.dev/tutorials/first-app) but it also doesn't have the necessary files.\r\n\r\n### Describe what you want to experience that would fix the problem\r\n\r\nThe listed files in [Review the files in the project](https://angular.dev/tutorials/first-app/01-hello-world#review-the-files-in-the-project) should be present in the zip file downloaded from code editor.\r\n\r\n### Add a screenshot if that helps illustrate the problem\r\n\r\n_No response_\r\n\r\n### If this problem caused an exception or error, please paste it here\r\n\r\n_No response_\r\n\r\n### If the problem is browser-specific, please specify the device, OS, browser, and version\r\n\r\n_No response_\r\n\r\n### Provide any additional information here in as much as detail as you can\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/56064","RelatedDescription":"Open issue \"first-app.zip missing essential files\" (#56064)"},{"Id":"2315460300","IsPullRequest":true,"CreatedAt":"2024-05-24T13:47:15","Actor":"SamVerschueren","Number":"56063","RawContent":null,"Title":"docs: update playground and tutorial to Angular 18","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [x] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n\r\nCurrently the tutorial and playground still uses Angular 17.\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThis PR updates the tutorial and playground to Angular 18.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\nHey 👋 . I work at StackBlitz and I recently upgraded WebContainers to Node.js 18.20.3 which means Angular 18 is supported (as it requires Node.js 18.19). This PR updates the `package.json` and lock-files of the playground and tutorial which are built on top of WebContainers API.","Url":"https://github.com/angular/angular/pull/56063","RelatedDescription":"Open PR \"docs: update playground and tutorial to Angular 18\" (#56063)"},{"Id":"2315377414","IsPullRequest":true,"CreatedAt":"2024-05-24T13:08:25","Actor":"9kubczas4","Number":"56062","RawContent":null,"Title":"fix(docs-infra): remove config release from test scripts","State":"open","Body":"fix(docs-infra): remove config release from test scripts\r\n\r\nAs we discussed in one of the previous [PRs](https://github.com/angular/angular/pull/55977) we should remove `--config=release` from test scripts on CI\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x ] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/56062","RelatedDescription":"Open PR \"fix(docs-infra): remove config release from test scripts\" (#56062)"},{"Id":"2315154866","IsPullRequest":false,"CreatedAt":"2024-05-24T11:24:12","Actor":"iFadey","Number":"56061","RawContent":null,"Title":"Translations not working in builds with ivy","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\nlocalize\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nI understand this may not be the right place to post this, but I have no other option due to unavailability of docs for non-cli projects.\r\n\r\nI have some old non-cli based Angular 9 project which I am to gradually upgrade to new versions. I just finished upgrading it to Angular 10 but with ivy disabled. The current task I am working on is to enable ivy.\r\n\r\nThis is the code I am using to generate localize builds after the compilation is complete\r\n\r\n```\r\n  const {getEmittedFiles} = require('@angular-devkit/build-webpack/src/utils');\r\n  const {createTranslationLoader} = require('@angular-devkit/build-angular/src/utils/load-translations');\r\n  const {i18nInlineEmittedFiles} = require('@angular-devkit/build-angular/src/utils/i18n-inlining');\r\n\r\n  // ...\r\n\r\n  // stats is coming from webpack callback function\r\n  const emittedFiles = getEmittedFiles(stats.compilation);\r\n  const context = { logger: console };\r\n\r\n  // Create a configuration\r\n  const i18n = {\r\n    inlineLocales: new Set([ 'fr-CA' ]),\r\n    sourceLocale: 'en-US',\r\n    locales: {\r\n      'fr-CA': {\r\n        files: [{\r\n          path: './app/locale/messages.fr-CA.xlf',\r\n        }],\r\n      },\r\n    },\r\n    shouldInline: true,\r\n    flatOutput: false,\r\n  };\r\n\r\n  const loader = await createTranslationLoader();\r\n\r\n  for (const [locale, desc] of Object.entries(i18n.locales)) {\r\n    const file = desc.files[0];\r\n\r\n    if (i18n.inlineLocales.has(locale) && file) {\r\n      const filePath = file.path;\r\n      const result = loader(path.join(getAppRootDir(), filePath));\r\n\r\n      for (const diagnostics of result.diagnostics.messages) {\r\n        console.log(diagnostics);\r\n        if (diagnostics.type === 'error') {\r\n          throw new Error(\r\n            `Error parsing translation file '${filePath}': ${diagnostics.message}`,\r\n          );\r\n        } else {\r\n          context.logger.warn(`WARNING [${filePath}]: ${diagnostics.message}`);\r\n        }\r\n      }\r\n\r\n      file.format = result.format;\r\n      file.translation = result.translations;\r\n      file.integrity = result.integrity;\r\n      file.dataPath = path.join(findLocaleDataBasePath(getAppRootDir()), locale + '.js');\r\n    }\r\n  }\r\n\r\n  const success = await i18nInlineEmittedFiles(\r\n    context,\r\n    emittedFiles,\r\n    i18n,\r\n    outputPath,\r\n    [outputPath],\r\n    [],\r\n    tempPath, // temp path generated for i18n\r\n    true,\r\n    'warning',\r\n  );\r\n\r\n  console.log(success);\r\n}\r\n```\r\n\r\nThe problem I am facing is the French build is not translated. It's showing English.\r\nThis is the code that's generated by ivy engine.\r\n\r\n```\r\n    var i18n_1;\r\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_3912372831646713891$$APP_MISC_PAGE_HEADER_PAGE_HEADER_COMPONENT_TS___2 = goog.getMsg(\"All Groups\");\r\n        i18n_1 = MSG_EXTERNAL_3912372831646713891$$APP_MISC_PAGE_HEADER_PAGE_HEADER_COMPONENT_TS___2;\r\n    }\r\n    else {\r\n        i18n_1 = $localize `:␟24a9d68869557935c4ae504fb103b8c32470f249␟3912372831646713891:All Groups`;\r\n    }\r\n```\r\n\r\nI have debugged this code and found `ngI18nClosureMode` is never defined, and it always goes in `else` block where `$localize` is present. Can anyone guide me what I am doing wrong here?\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\nNo error appears.\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: custom configured project\r\nNode: 14.21.3\r\nPackage Manager: npm 6.14.18\r\nOS: Ubuntu 22.04.4\r\n\r\nAngular: 10.2.5\r\n@angular-devkit/build-angular, animations, common, compiler, compiler-cli, core,\r\nplatform-browser, platform-browser-dynamic, forms, router, localize\r\n```\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/56061","RelatedDescription":"Closed issue \"Translations not working in builds with ivy\" (#56061)"},{"Id":"2314863859","IsPullRequest":true,"CreatedAt":"2024-05-24T09:06:04","Actor":"bampakoa","Number":"56060","RawContent":null,"Title":"docs: update CLI reference","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\nRemove the deprecated `ng doc` command and add the `dev` alias to the `ng serve` command.\r\n\r\nPlease let me know if adding a second alias shouldn't be like that. I didn't manage to run the documentation locally in order to verify it.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/56060","RelatedDescription":"Open PR \"docs: update CLI reference\" (#56060)"},{"Id":"2314624974","IsPullRequest":true,"CreatedAt":"2024-05-24T07:24:28","Actor":"Shivam7-1","Number":"56059","RawContent":null,"Title":"Update api-item-label.component.spec.ts","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\nBy using textContent, it will avoid the risk of HTML injection, as these properties automatically escape any HTML special characters in the provided text. This helps prevent cross-site scripting (XSS) vulnerabilities by treating the input as plain text rather than interpreted HTML.\r\n\r\ntextContent is More Useful Instead of Using InnerText By Using textContent over innerText enhances security by preventing potential vulnerabilities such as Cross-Site Scripting (XSS) attacks. textContent retrieves only the raw text content of an element, avoiding interpretation of HTML tags, thereby reducing the risk of malicious script injection and unintended content disclosure.\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n","Url":"https://github.com/angular/angular/pull/56059","RelatedDescription":"Open PR \"Update api-item-label.component.spec.ts\" (#56059)"},{"Id":"2314591463","IsPullRequest":false,"CreatedAt":"2024-05-24T07:08:53","Actor":"trinath-katari","Number":"56058","RawContent":null,"Title":"How to render Angular components dynamically using selector  ?","State":"closed","Body":"Is it possible to render an Angular component dynamically? For example, I have component selector names in my .ts file. When I bind the variable in the .html file using interpolation and innerHTML, the component is not rendering. How can I achieve this?\r\nMy component selector names structure ->\r\n<app-assessmentitem>\r\n  <app-responsedeclaration >\r\n    <app-correct-response>\r\n    </app-correct-response>\r\n  </app-responsedeclaration>\r\n</app-assessmentitem>   \r\n\r\n\r\n","Url":"https://github.com/angular/angular/issues/56058","RelatedDescription":"Closed issue \"How to render Angular components dynamically using selector  ?\" (#56058)"},{"Id":"2314204933","IsPullRequest":true,"CreatedAt":"2024-05-24T02:30:53","Actor":"shannonvc","Number":"56057","RawContent":null,"Title":"docs: add neovim setup section to adev","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\nIt seems like the language-service Neovim setup was lost in migration from aio to adev.\r\n\r\nIssue Number: #56055\r\n\r\n\r\n## What is the new behavior?\r\nNeovim setup section that was in aio was added back to adev.\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n","Url":"https://github.com/angular/angular/pull/56057","RelatedDescription":"Open PR \"docs: add neovim setup section to adev\" (#56057)"},{"Id":"2313969682","IsPullRequest":false,"CreatedAt":"2024-05-23T22:37:04","Actor":"mauriziocescon","Number":"56056","RawContent":null,"Title":"feat(content projection): component inputs accepting arrow functions returning ng-templates","State":"open","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\r\n\r\ncompiler, core\r\n\r\n## Introduction \r\n\r\nWith the recent `@let` [template variables](https://github.com/angular/angular/issues/15280) proposal, there is IMO some sort of clashing at the level of names / concepts / notations between `@let` template variables and `#` [template variables](https://angular.dev/guide/templates/reference-variables). \r\n\r\nThe similarities are: \r\n1. they both have scopes, \r\n2. you can pass them around as inputs, \r\n   ...many others. \r\n\r\nOn the other hand, they (I guess) react differently to CD and have different scope rules: \r\n```typescript\r\n// https://github.com/angular/angular/issues/15280#issuecomment-2097161182\r\n\r\n@if (true) {\r\n    // legal with #, but illegal with @let \r\n    <div>{{ m.value }}</div>\r\n      \r\n    <input [ngModel]=\"data\" #m=\"ngModel\">\r\n    <div>{{ m.value }}</div>\r\n\r\n    @for(i of [1, 2]; track $index) {\r\n        {{ m.value }}\r\n    }\r\n}\r\n<!-- {{ m.value }} illegal -->\r\n```\r\n\r\n`#` variables are references to html elements. As such, they play well with (conditional) content-projection: \r\n\r\n```typescript\r\n// don't have to move #tempRef before my-component: can stay before / inside / after\r\n<my-component [someTemplate]=\"tempRef\">\r\n    <ng-template #tempRef>...</ng-template>\r\n</my-component>\r\n```\r\n\r\nSpeaking about content projection (or composition), I have to admit that I've always found angular options not particularly straightforward. In general, mastering content projection in angular requires decent knowledge of: \r\n1. ng-content, \r\n2. ng-template, \r\n3. `#` template variables, \r\n4. [structural directives](https://angular.dev/guide/directives/structural-directives), \r\n5. Ng**Outlet,\r\n6. many other things. \r\n\r\n## Proposal\r\n\r\nAssuming that \r\n1. [arrow functions in templates](https://github.com/angular/angular/issues/14129) are on their way to be delivered (see [tweet](https://x.com/dylhunn/status/1785465865628266687))\r\n2. and the mental model for `#` template variables cannot be fitted [in the `@let` one](https://github.com/angular/angular/pull/55848#issue-2302066755), \r\n\r\nI'd like to propose the following changes: \r\n\r\n1. replace `#` annotation with `@ref`:\r\n    1. `@ref=\"varName\"`, \r\n    2. `@ref(ngModel) = \"varName\"`,\r\n2. allow the definition of `@ref` template variables like this\r\n    1. `@ref temp = {<ng-template>...</ng-template>}`,\r\n    2. `@ref temp = (...) => {<ng-template>...</ng-template>}`,\r\n3. Support the render of `@ref` template variables defined in 2.\r\n\r\n## Examples\r\nSome refactored examples from the current [Understanding template variables](https://angular.dev/guide/templates/reference-variables) and new possibilities for content projection. \r\n\r\nDOM element\r\n```typescript\r\n<input @ref=\"phone\" placeholder=\"phone number\"/>\r\n<button type=\"button\" (click)=\"callPhone(phone.value)\">Call</button>\r\n```\r\n\r\nComponent or template\r\n```typescript\r\n<my-tree-component @ref=\"tree\"></my-tree-component>\r\n```\r\n\r\nForm\r\n```typescript\r\n<form @ref(ngForm)=\"itemForm\">\r\n  // ...\r\n</form>\r\n\r\n<div [hidden]=\"!itemForm.form.valid\">\r\n  // ...\r\n</div>\r\n```\r\n\r\nContent projection\r\n```typescript\r\n// consumer-of-my-tree.component.ts\r\n@Component({\r\n  selector: 'consumer-component',\r\n  // ...\r\n  template: `\r\n    <!-- ... -->\r\n    @ref customNode = (node) => {\r\n        <ng-template>\r\n            @if (node.desc) {\r\n                {{ node.desc }}\r\n            }\r\n            // manageNodeClick is defined in ConsumerComponent\r\n            <span [class]=\"node.style\" (click)=\"manageNodeClick(node)\">{{ node.label }}</span>\r\n        </ng-template>\r\n    }\r\n    <my-tree-component [data]=\"dataStructure\" [customNode]=\"customNode\"></my-tree-component>\r\n  `,\r\n})\r\nexport class ConsumerComponent {...}\r\n\r\n// my-tree.component.ts\r\nexport interface Node {\r\n    id: string;\r\n    desc?: string;\r\n    label: string;\r\n    style: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'my-tree-component',\r\n  // ...\r\n  template: `\r\n    <!-- ... -->\r\n\r\n    <!-- Of course  the usage of ngTemplateOutlet below \r\n        is just to provide ideas: requires further investigation / adaptations \r\n\r\n        <ng-container [ngTemplateOutlet]=\"templateRefExp; context: contextExp\"></ng-container>\r\n    -->\r\n\r\n    for (node of nodes; track node.id) {\r\n        @let temp = customNode();\r\n        <ng-container [ngTemplateOutlet]=\"temp(node)\"></ng-container>\r\n    }\r\n  `,\r\n})\r\nexport class MyTreeComponent {\r\n    data = input.required<...>();\r\n\r\n    // I hope something like this is enough for types inference in consumer-of-my-tree.component.ts\r\n    customNode = input<(node: Node) => TemplateRef<any>>();\r\n    \r\n    nodes = signal<Node[]>([]); // populated started from data\r\n    // ...\r\n}\r\n```\r\n\r\nProjection variants\r\n```typescript\r\n// inline function (this would be great)\r\n<my-tree-component [data]=\"dataStructure\" [customNode]=\"(node) => {\r\n    <ng-template>\r\n        <my-custom-node [node]=\"node\"></my-custom-node>\r\n    </ng-template>\r\n}\">\r\n</my-tree-component>\r\n\r\n// inline functions (this would be great)\r\n<my-tree-component [data]=\"dataStructure\" \r\n    [customNode]=\"(node) => {\r\n        <ng-template>\r\n            // ...\r\n        </ng-template>\r\n    }\"\r\n    [somethingElse]=\"() => {\r\n        <ng-template>\r\n            // ...\r\n        </ng-template>\r\n}\">\r\n</my-tree-component>\r\n\r\n// cascading (this would be great)\r\n<my-tree-component [data]=\"dataStructure\" \r\n    [customNode]=\"(node) => {\r\n        <ng-template>\r\n            <my-custom-node [node]=\"node\" [somethingElse]=\"() => {\r\n                <ng-template>\r\n                    // ...\r\n                </ng-template>\r\n            }\">\r\n            </my-custom-node>\r\n        </ng-template>\r\n}\">\r\n</my-tree-component>\r\n```\r\n\r\n## Objections\r\n\r\nSome reasonable objections: \r\n\r\n1. *Why don't leaving `#` variables as they are and simply allow `@let temp = (...) => {<ng-template>...</ng-template>}`?* \r\nAnswer: yeah, that would be ideal! The point is: I'm not sure it's possible considering the slightly different mental models and how the compile works. Unfortunately, I have a limited understanding of both concepts... therefore, I went for the `@ref` way (just a `#` treatment remapping at compilation time). But of course, defining a `@ref` variable after its usage, it's really strange. Moreover it will increase confusion between `@let` and `@ref` variables.\r\n\r\n2. *How about viewChild, ... ?* \r\nAnswer: well, for templates like `@ref temp = {<ng-template>...</ng-template>}` I guess it can work as right now (just a different way of definiting an ng-template). Not sure about arrow functions... probably discarded. \r\n\r\n3. *Your new `@ref` definition is not real ts* \r\nAnswer: that's true... as it's not real ts the following `@let user = user$ | async ?? 'unknonw'`. The idea behind `@ref temp = (...) => {<ng-template>...</ng-template>}` is to be familiar, not valid ts. Anyway: the proposal can be adapted if [43485](https://github.com/angular/angular/issues/43485) is strictly required. \r\n\r\n4. *Why doing things in a different way? You already have all the tools to achieve content projection needs* \r\nAnswer: true! But on the other hand, I think simple / familiar things are always better. Mastering the current angular content projection (derived from html standards) is not easy... especially if you're coming from other frameworks. \r\n\r\n     In practice, it's just a parent-child interaction where the parent wants a hook to return a customised template to be used in the child, based on a child-defined object interface (even extendable by the parent). A closure feels very natural and boost components reusability. \r\n\r\n5. *Maybe more complicated, but the current angular content projection (see material) is more readable because it's more semanatic and close to html standards* \r\nAnswer: that's true! Say: I hope there's a way to inline `@ref temp = (...) => {<ng-template>...</ng-template>}` in component inputs. Assuming it's the case, it's mostly a matter of decluttering the examples above (remove `<ng-template>`) and the semantic beauty comes back. With just a different taste! I also hope the upcoming DX for components can help fixing this problem. But for now, I guess no solution. \r\n\r\n## Conclusion\r\n\r\nThe main goal of this issue is to propose an expansion of the current content projection capabilities. But due to the ongoing development of `@let` and my limited understanding of the angular compiler, I might have proposed something very difficult to achieve (or a bit stupid 😅). In case, sorry for this! \r\n\r\nAnd yes, the intention would be to make angular content projection similar to what react / solid are doing... which is cool and easy to achieve when components are just functions. \r\n\r\nPS: thanks a lot for the amazing work you're doing! ","Url":"https://github.com/angular/angular/issues/56056","RelatedDescription":"Open issue \"feat(content projection): component inputs accepting arrow functions returning ng-templates\" (#56056)"},{"Id":"2313900463","IsPullRequest":false,"CreatedAt":"2024-05-23T21:43:37","Actor":"Zooce","Number":"56055","RawContent":null,"Title":"Vim/Neovim Language Service Setup Removed?","State":"open","Body":"### Describe the problem that you experienced\n\nThe new angular.dev docs seem to have removed Vim/Neovim language server setup.\n\n### Enter the URL of the topic with the problem\n\nhttps://angular.dev/tools/language-service#angular-language-service-in-your-editor\n\n### Describe what you were looking for in the documentation\n\n_No response_\n\n### Describe the actions that led you to experience the problem\n\nNeovim v0.10 seems to be encountering a segfault when trying use the new control-flow syntax. This led me to looking for the language service setup documentation which used to be at https://angular.io/guide/language-service#neovim.\n\n### Describe what you want to experience that would fix the problem\n\n_No response_\n\n### Add a screenshot if that helps illustrate the problem\n\n_No response_\n\n### If this problem caused an exception or error, please paste it here\n\n_No response_\n\n### If the problem is browser-specific, please specify the device, OS, browser, and version\n\n_No response_\n\n### Provide any additional information here in as much as detail as you can\n\n_No response_","Url":"https://github.com/angular/angular/issues/56055","RelatedDescription":"Open issue \"Vim/Neovim Language Service Setup Removed?\" (#56055)"},{"Id":"2313748733","IsPullRequest":true,"CreatedAt":"2024-05-23T20:12:37","Actor":"bampakoa","Number":"56054","RawContent":null,"Title":"docs: use new link for update guide","State":"open","Body":"## PR Checklist\nPlease check if your PR fulfills the following requirements:\n\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\n- [ ] Tests for the changes have been added (for bug fixes / features)\n- [ ] Docs have been added / updated (for bug fixes / features)\n\n\n## PR Type\nWhat kind of change does this PR introduce?\n\n<!-- Please check the one that applies to this PR using \"x\". -->\n\n- [ ] Bugfix\n- [ ] Feature\n- [ ] Code style update (formatting, local variables)\n- [ ] Refactoring (no functional changes, no api changes)\n- [ ] Build related changes\n- [ ] CI related changes\n- [x] Documentation content changes\n- [ ] angular.io application / infrastructure changes\n- [ ] Other... Please describe:\n\n\n## What is the current behavior?\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\n\nIssue Number: N/A\n\n\n## What is the new behavior?\n\n\n## Does this PR introduce a breaking change?\n\n- [ ] Yes\n- [x] No\n\n\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\n\n\n## Other information\n","Url":"https://github.com/angular/angular/pull/56054","RelatedDescription":"Open PR \"docs: use new link for update guide\" (#56054)"},{"Id":"2313435528","IsPullRequest":false,"CreatedAt":"2024-05-23T19:57:46","Actor":"Aswinthgt","Number":"56048","RawContent":null,"Title":"i18n docs not found","State":"closed","Body":"### Describe the problem that you experienced\n\ni18n docs not found. i need to learn about that\n\n### Enter the URL of the topic with the problem\n\n_No response_\n\n### Describe what you were looking for in the documentation\n\n_No response_\n\n### Describe the actions that led you to experience the problem\n\n_No response_\n\n### Describe what you want to experience that would fix the problem\n\n_No response_\n\n### Add a screenshot if that helps illustrate the problem\n\n_No response_\n\n### If this problem caused an exception or error, please paste it here\n\n_No response_\n\n### If the problem is browser-specific, please specify the device, OS, browser, and version\n\n_No response_\n\n### Provide any additional information here in as much as detail as you can\n\n_No response_","Url":"https://github.com/angular/angular/issues/56048","RelatedDescription":"Closed issue \"i18n docs not found\" (#56048)"},{"Id":"2313583798","IsPullRequest":false,"CreatedAt":"2024-05-23T19:05:32","Actor":"DimitriTsikaridze","Number":"56050","RawContent":null,"Title":"old url in hydration warning","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncompiler-cli\n\n### Is this a regression?\n\nYes\n\n### Description\n\nangular.io doesn't have this page. angular.dev has\r\n\r\n`NG05000: Angular detected that hydration was enabled for an application that uses a custom or a noop Zone.js implementation. This is not yet a fully supported configuration. Find more at https://angular.io/errors/NG05000`\r\n\r\n![image](https://github.com/angular/angular/assets/56136563/9d85097f-aa70-4119-bccd-3fa4935afc4c)\r\n\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n_No response_\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/56050","RelatedDescription":"Closed issue \"old url in hydration warning\" (#56050)"},{"Id":"2313619529","IsPullRequest":true,"CreatedAt":"2024-05-23T18:52:26","Actor":"lamek","Number":"56053","RawContent":null,"Title":"Update adev README link to CONTRIBUTING.md","State":"open","Body":"Quick link fix\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/56053","RelatedDescription":"Open PR \"Update adev README link to CONTRIBUTING.md\" (#56053)"},{"Id":"2313603522","IsPullRequest":true,"CreatedAt":"2024-05-23T18:41:47","Actor":"bampakoa","Number":"56052","RawContent":null,"Title":"docs: use new blog in links of new documentation","State":"open","Body":"## PR Checklist\nPlease check if your PR fulfills the following requirements:\n\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\n- [ ] Tests for the changes have been added (for bug fixes / features)\n- [ ] Docs have been added / updated (for bug fixes / features)\n\n\n## PR Type\nWhat kind of change does this PR introduce?\n\n<!-- Please check the one that applies to this PR using \"x\". -->\n\n- [ ] Bugfix\n- [ ] Feature\n- [ ] Code style update (formatting, local variables)\n- [ ] Refactoring (no functional changes, no api changes)\n- [ ] Build related changes\n- [ ] CI related changes\n- [ ] Documentation content changes\n- [x] angular.io application / infrastructure changes\n- [ ] Other... Please describe:\n\n\n## What is the current behavior?\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\n\nIssue Number: N/A\n\n\n## What is the new behavior?\n\n\n## Does this PR introduce a breaking change?\n\n- [ ] Yes\n- [x] No\n\n\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\n\n\n## Other information\n","Url":"https://github.com/angular/angular/pull/56052","RelatedDescription":"Open PR \"docs: use new blog in links of new documentation\" (#56052)"},{"Id":"2313591486","IsPullRequest":true,"CreatedAt":"2024-05-23T18:33:15","Actor":"bampakoa","Number":"56051","RawContent":null,"Title":"docs: use customized YouTube channel link","State":"open","Body":"## PR Checklist\nPlease check if your PR fulfills the following requirements:\n\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\n- [ ] Tests for the changes have been added (for bug fixes / features)\n- [ ] Docs have been added / updated (for bug fixes / features)\n\n\n## PR Type\nWhat kind of change does this PR introduce?\n\n<!-- Please check the one that applies to this PR using \"x\". -->\n\n- [ ] Bugfix\n- [ ] Feature\n- [ ] Code style update (formatting, local variables)\n- [ ] Refactoring (no functional changes, no api changes)\n- [ ] Build related changes\n- [ ] CI related changes\n- [x] Documentation content changes\n- [ ] angular.io application / infrastructure changes\n- [ ] Other... Please describe:\n\n\n## What is the current behavior?\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\n\nIssue Number: N/A\n\n\n## What is the new behavior?\n\n\n## Does this PR introduce a breaking change?\n\n- [ ] Yes\n- [x] No\n\n\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\n\n\n## Other information\n","Url":"https://github.com/angular/angular/pull/56051","RelatedDescription":"Open PR \"docs: use customized YouTube channel link\" (#56051)"},{"Id":"2313570524","IsPullRequest":false,"CreatedAt":"2024-05-23T18:19:31","Actor":"Kumirei","Number":"56049","RawContent":null,"Title":"Leverage prefetch triggers as hooks to load custom data","State":"open","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\n\ncore\n\n### Description\n\nSome components need to fetch data before they can be rendered. Currently we are initializing these calls in the OnInit hook; it would be nice if instead deferrable views with prefetch triggers could be leveraged to dynamically load necessary data ahead of rendering. \n\n### Proposed solution\n\nI propose an OnPrefetch hook that components and directives can implement which is called when the component or directive has been pre-fetched in a deferred view. This hook would be called before OnInit.\n\n### Alternatives considered\n\nAlternatively a callback could be supplied to the prefetch trigger, which can be used to pre-load the data into a global store. ","Url":"https://github.com/angular/angular/issues/56049","RelatedDescription":"Open issue \"Leverage prefetch triggers as hooks to load custom data\" (#56049)"},{"Id":"2313428934","IsPullRequest":false,"CreatedAt":"2024-05-23T16:57:04","Actor":"eneajaho","Number":"56047","RawContent":null,"Title":"docs: add docs for outputPath configurations","State":"open","Body":"### Describe the problem that you experienced\n\nHaving to search github issues instead of docs for outputPath configurations\r\n\r\nhttps://github.com/angular/angular-cli/issues/26304\r\nhttps://github.com/angular/angular-cli/pull/26675\n\n### Enter the URL of the topic with the problem\n\n_No response_\n\n### Describe what you were looking for in the documentation\n\nHow to configure the outputPath config in angular.json\n\n### Describe the actions that led you to experience the problem\n\n_No response_\n\n### Describe what you want to experience that would fix the problem\n\n_No response_\n\n### Add a screenshot if that helps illustrate the problem\n\n_No response_\n\n### If this problem caused an exception or error, please paste it here\n\n_No response_\n\n### If the problem is browser-specific, please specify the device, OS, browser, and version\n\n_No response_\n\n### Provide any additional information here in as much as detail as you can\n\n_No response_","Url":"https://github.com/angular/angular/issues/56047","RelatedDescription":"Open issue \"docs: add docs for outputPath configurations\" (#56047)"}],"ResultType":"GitHubIssue"},"AngularCli-Issues":{"Issues":[{"Id":"2315848474","IsPullRequest":true,"CreatedAt":"2024-05-24T17:00:51","Actor":"davidlj95","Number":"27714","RawContent":null,"Title":"fix: update tsconfig template link aio->adev","State":"open","Body":"## PR Checklist\r\n\r\nPlease check to confirm your PR fulfills the following requirements:\r\n\r\n<!-- Please check all that apply using \"x\". -->\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular-cli/blob/main/CONTRIBUTING.md#-commit-message-guidelines\r\n- **N/A** Tests for the changes have been added (for bug fixes / features)\r\n- **N/A** Docs have been added / updated (for bug fixes / features)\r\n\r\n## PR Type\r\n\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix (a broken link in a generated file it's an issue)\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] Other... Please describe:\r\n\r\n## What is the current behavior?\r\n`tsconfig` template files point to a non-existent link in Angular.io . Also, the page no longer exists in Angular.dev\r\n\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n## What is the new behavior?\r\nPoint to Typescript official documentation about `tsconfig.json` + Angular compiler options\r\n\r\n<!-- Please describe the new behavior that. -->\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n## Other information\r\nCheckout #27713 for references to related PRs","Url":"https://github.com/angular/angular-cli/pull/27714","RelatedDescription":"Open PR \"fix: update tsconfig template link aio->adev\" (#27714)"},{"Id":"2315832259","IsPullRequest":true,"CreatedAt":"2024-05-24T16:49:55","Actor":"davidlj95","Number":"27713","RawContent":null,"Title":"docs: more aio->adev link updates","State":"open","Body":"## PR Checklist\r\n\r\nPlease check to confirm your PR fulfills the following requirements:\r\n\r\n<!-- Please check all that apply using \"x\". -->\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular-cli/blob/main/CONTRIBUTING.md#-commit-message-guidelines\r\n- **N/A** Tests for the changes have been added (for bug fixes / features)\r\n- **N/A** Docs have been added / updated (for bug fixes / features)\r\n\r\n## PR Type\r\n\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] Other... Please describe:\r\n\r\n## What is the current behavior?\r\nSeveral links point to angular.io despite angular.dev being new docs site\r\n\r\nSpecifically:\r\n- workspace config\r\n- browser support\r\n- i18n, deploy\r\n- build guide \r\n- blog, analytics, hydration\r\n\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n## What is the new behavior?\r\nUse angular.dev for docs\r\n\r\n<!-- Please describe the new behavior that. -->\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n## Other information\r\nLooking for `angular.io` seems they're some links that can be updated in batches:\r\n - **README, `docs/` and `.github`**: #27712 \r\n - **Several aio links around**: this PR\r\n - **`tsconfig` template files comment**: #27714\r\n - **License headers**. Which contain a link to `angular.io/license`\r\n - **Test fixtures**. They could be left as is I guess, does not matter much what's in there at that level of detail.\r\n\r\nPD: Created several commits as changed all URLs I could find per batches. But can squash it before merging if preferred :) Reason of #27712 in its own PR is to help PR review by not making huge PRs\r\n","Url":"https://github.com/angular/angular-cli/pull/27713","RelatedDescription":"Open PR \"docs: more aio->adev link updates\" (#27713)"},{"Id":"2315745643","IsPullRequest":true,"CreatedAt":"2024-05-24T16:00:26","Actor":"davidlj95","Number":"27712","RawContent":null,"Title":"docs: update aio->adev links in README, docs and .github dirs","State":"open","Body":"## PR Checklist\r\n\r\nPlease check to confirm your PR fulfills the following requirements:\r\n\r\n<!-- Please check all that apply using \"x\". -->\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular-cli/blob/main/CONTRIBUTING.md#-commit-message-guidelines\r\n- **N/A** Tests for the changes have been added (for bug fixes / features)\r\n- **N/A** Docs have been added / updated (for bug fixes / features)\r\n\r\n## PR Type\r\n\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] Other... Please describe:\r\n\r\n## What is the current behavior?\r\nLinks in README.md, docs directory and `.github` directory point to angular.io\r\n\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n## What is the new behavior?\r\nPoint to angular.dev\r\n\r\n<!-- Please describe the new behavior that. -->\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n## Other information\r\nRelated aio -> adev PRs in #27713 ","Url":"https://github.com/angular/angular-cli/pull/27712","RelatedDescription":"Open PR \"docs: update aio->adev links in README, docs and .github dirs\" (#27712)"},{"Id":"2314446173","IsPullRequest":false,"CreatedAt":"2024-05-24T05:48:48","Actor":"elementalTIMING","Number":"27710","RawContent":null,"Title":"Dynamic inline module import is not working anymore","State":"open","Body":"### Command\n\nserve\n\n### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n17.3\n\n### Description\n\nIn previous versions it was possible to import modules dynamically based on a variable inside of a method, like\r\n\r\n\tinitTemplates(moduleName: string): Observable<ScoreboardModule> {\r\n\r\n\t\t// NOT WORKING ANYMORE\r\n\t\tlet promise = import(`./layouts/${moduleName}/${moduleName}.module`);\r\n\r\n\t\t// THIS WORKS\r\n\t\t// let promise = import(`./layouts/BER/BER.module`);\r\n\r\n\t\treturn from(promise).pipe(\r\n\t\t\tmap(mod => mod.ScoreboardModule),\r\n\t\t\tmap((module: any) => {\r\n\t\t\t\t// do some stuff\r\n\r\n\t\t\t\treturn module;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\nThe `ng serve` output shows\r\n\r\n\t▲ [WARNING] The glob pattern import(\"./layouts/**/*/**/*.module\") did not match any files [empty-glob]\r\n\r\n\t    src/app/mode.competition/components/scoreboard-viewer/scoreboardViewer.abstract.ts:30:29:\r\n\t      30 │ ...t promise = import(`./layouts/${moduleName}/${moduleName}.module`)\r\n        \t ╵                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n\r\nWhen accessing the code the application breaks with:\r\n\r\n\t Error: Module not found in bundle: ./layouts/BER/BER.module\r\n\t    at chunk-SKK7EFDP.js:26:9\r\n\r\nthe additional paths are defined in `tsconfig.app.json` like this:\r\n\r\n\t{\r\n\t\t\"extends\": \"./tsconfig.json\",\r\n\t\t\"compilerOptions\": {\r\n\t\t\t\"skipLibCheck\": true,\r\n\t\t\t\"outDir\": \"./out-tsc/app\",\r\n\t\t\t\"types\": [\"node\"]\r\n\t\t},\r\n\t\t\"files\": [\"src/main.ts\", \"src/polyfills.ts\"],\r\n\t\t\"include\": [\"src/**/*.d.ts\", \"src/app/mode.competition/components/scoreboard-viewer/layouts/**/*.ts\"]\r\n\t}\r\n\r\nThis code was running as described above at least since Angular 13 and breaks suddenly now in Angular 18.\r\n\r\nI'm assuming that the vite interprets the tsconfig include path in a wrong way, because `layouts/**/*/**/*.module` is nowhere defined but `layouts/**/*.ts`\r\n\r\nAny ideas, on how to fix?\n\n### Minimal Reproduction\n\nThe described issue is part of a real huge software package that cannot be extracted easily. I really hope that the error description is enough to identify the error, without a code example here.\n\n### Exception or Error\n\n_No response_\n\n### Your Environment\n\n```text\n_                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n\r\n\r\nAngular CLI: 18.0.1\r\nNode: 20.9.0\r\nPackage Manager: npm 10.8.0\r\nOS: darwin arm64\r\n\r\nAngular: 18.0.0\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... localize, platform-browser, platform-browser-dynamic, router\r\n... service-worker, youtube-player\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1800.1\r\n@angular-devkit/build-angular   18.0.1\r\n@angular-devkit/core            18.0.1\r\n@angular-devkit/schematics      18.0.1\r\n@angular/cli                    18.0.1\r\n@schematics/angular             18.0.1\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.6\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27710","RelatedDescription":"Open issue \"Dynamic inline module import is not working anymore\" (#27710)"},{"Id":"2314406858","IsPullRequest":false,"CreatedAt":"2024-05-24T05:27:41","Actor":"celestius0","Number":"27709","RawContent":null,"Title":"CLI not properly setting the assets build property in a workspace","State":"open","Body":"### Command\r\n\r\ngenerate\r\n\r\n### Is this a regression?\r\n\r\n- [X] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n17.3.8\r\n\r\n### Description\r\n\r\nThe **v18** cli does not set the assets path properly for an application created inside a workspace. No dependencies other than `@angular/cli@18.0.1`. I suspect this may have something to do with the switch in syntax and folder name/location for the assets.\r\n\r\n## Expected Behavior\r\nI would expect that the CLI would be workspace aware and properly set this value as it does with all the other config here that it generates.\r\n\r\n### Minimal Reproduction\r\n\r\n## Steps to Repro\r\n\r\n- Install the Angular CLI with `npm i -g @angular/cli@18.0.1`\r\n- Generate a new workspace with `ng new some-workspace --no-create-application`\r\n- `cd` into the newly created workspace with `cd some-workspace`\r\n- Generate a new application within this workspace with `ng g app some-app`\r\n\r\nNote that the `angular.json` will be updated with an entry to include a configuration for this new application but in the `projects > some-app > architect > build > options > assets` array the object created there has  `public` for the `input` property which does not appear to correctly reference the actual location of the public folder for this app.\r\n\r\n## Unexpected Behavior\r\nThe effect is that any assets placed in this folder will not be accessible when referenced, for example, in an `<img>` `src` attribute.\r\n\r\n## Workaround\r\nAdjusting the application's assets configuration `input` property to `projects/some-app/public` appears to fix the issue.\r\n\r\n### Exception or Error\r\n\r\n_No response_\r\n\r\n### Your Environment\r\n\r\n```text\r\nAngular CLI: 18.0.1\r\nNode: 22.2.0\r\nPackage Manager: npm 10.8.0\r\nOS: linux x64\r\n\r\nAngular: 18.0.0\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1800.1\r\n@angular-devkit/build-angular   18.0.1\r\n@angular-devkit/core            18.0.1\r\n@angular-devkit/schematics      18.0.1\r\n@angular/cli                    18.0.1\r\n@schematics/angular             18.0.1\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.6\r\n```\r\n\r\n\r\n### Anything else relevant?\r\n\r\nI'm guessing this issue is related to [this commit](https://github.com/angular/angular-cli/pull/27006) and also appears to affect packages that rely on this folder to host assets such as `@angular/pwa` as well. Further, the [relevant docs](https://angular.dev/reference/configs/workspace-config#assets-configuration) don't appear to reflect the current behavior of the project structure scaffolding (still references the old style of using an `assets` folder).\r\n\r\nA related [stack overflow](https://stackoverflow.com/questions/78526073/angular-18-public-folder-asset-reference/78526502) can be found here which contains a little more detail about the issue I'm seeing.","Url":"https://github.com/angular/angular-cli/issues/27709","RelatedDescription":"Open issue \"CLI not properly setting the assets build property in a workspace\" (#27709)"},{"Id":"2314382319","IsPullRequest":true,"CreatedAt":"2024-05-24T05:14:16","Actor":"angular-robot","Number":"27708","RawContent":null,"Title":"build: update all non-major dependencies","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@babel/core](https://babel.dev/docs/en/next/babel-core) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-core)) | dependencies | patch | [`7.24.5` -> `7.24.6`](https://renovatebot.com/diffs/npm/@babel%2fcore/7.24.5/7.24.6) |\n| [@babel/core](https://babel.dev/docs/en/next/babel-core) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-core)) | devDependencies | patch | [`7.24.5` -> `7.24.6`](https://renovatebot.com/diffs/npm/@babel%2fcore/7.24.5/7.24.6) |\n| [@babel/generator](https://babel.dev/docs/en/next/babel-generator) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-generator)) | dependencies | patch | [`7.24.5` -> `7.24.6`](https://renovatebot.com/diffs/npm/@babel%2fgenerator/7.24.5/7.24.6) |\n| [@babel/generator](https://babel.dev/docs/en/next/babel-generator) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-generator)) | devDependencies | patch | [`7.24.5` -> `7.24.6`](https://renovatebot.com/diffs/npm/@babel%2fgenerator/7.24.5/7.24.6) |\n| [@babel/helper-annotate-as-pure](https://babel.dev/docs/en/next/babel-helper-annotate-as-pure) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-helper-annotate-as-pure)) | dependencies | minor | [`7.22.5` -> `7.24.6`](https://renovatebot.com/diffs/npm/@babel%2fhelper-annotate-as-pure/7.22.5/7.24.6) |\n| [@babel/helper-annotate-as-pure](https://babel.dev/docs/en/next/babel-helper-annotate-as-pure) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-helper-annotate-as-pure)) | devDependencies | minor | [`7.22.5` -> `7.24.6`](https://renovatebot.com/diffs/npm/@babel%2fhelper-annotate-as-pure/7.22.5/7.24.6) |\n| [@babel/helper-split-export-declaration](https://babel.dev/docs/en/next/babel-helper-split-export-declaration) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-helper-split-export-declaration)) | dependencies | patch | [`7.24.5` -> `7.24.6`](https://renovatebot.com/diffs/npm/@babel%2fhelper-split-export-declaration/7.24.5/7.24.6) |\n| [@babel/helper-split-export-declaration](https://babel.dev/docs/en/next/babel-helper-split-export-declaration) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-helper-split-export-declaration)) | devDependencies | patch | [`7.24.5` -> `7.24.6`](https://renovatebot.com/diffs/npm/@babel%2fhelper-split-export-declaration/7.24.5/7.24.6) |\n| [@babel/plugin-transform-async-generator-functions](https://babel.dev/docs/en/next/babel-plugin-transform-async-generator-functions) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-plugin-transform-async-generator-functions)) | dependencies | patch | [`7.24.3` -> `7.24.6`](https://renovatebot.com/diffs/npm/@babel%2fplugin-transform-async-generator-functions/7.24.3/7.24.6) |\n| [@babel/plugin-transform-async-generator-functions](https://babel.dev/docs/en/next/babel-plugin-transform-async-generator-functions) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-plugin-transform-async-generator-functions)) | devDependencies | patch | [`7.24.3` -> `7.24.6`](https://renovatebot.com/diffs/npm/@babel%2fplugin-transform-async-generator-functions/7.24.3/7.24.6) |\n| [@babel/plugin-transform-async-to-generator](https://babel.dev/docs/en/next/babel-plugin-transform-async-to-generator) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-plugin-transform-async-to-generator)) | dependencies | patch | [`7.24.1` -> `7.24.6`](https://renovatebot.com/diffs/npm/@babel%2fplugin-transform-async-to-generator/7.24.1/7.24.6) |\n| [@babel/plugin-transform-async-to-generator](https://babel.dev/docs/en/next/babel-plugin-transform-async-to-generator) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-plugin-transform-async-to-generator)) | devDependencies | patch | [`7.24.1` -> `7.24.6`](https://renovatebot.com/diffs/npm/@babel%2fplugin-transform-async-to-generator/7.24.1/7.24.6) |\n| [@babel/plugin-transform-runtime](https://babel.dev/docs/en/next/babel-plugin-transform-runtime) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-plugin-transform-runtime)) | dependencies | patch | [`7.24.3` -> `7.24.6`](https://renovatebot.com/diffs/npm/@babel%2fplugin-transform-runtime/7.24.3/7.24.6) |\n| [@babel/plugin-transform-runtime](https://babel.dev/docs/en/next/babel-plugin-transform-runtime) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-plugin-transform-runtime)) | devDependencies | patch | [`7.24.3` -> `7.24.6`](https://renovatebot.com/diffs/npm/@babel%2fplugin-transform-runtime/7.24.3/7.24.6) |\n| [@babel/preset-env](https://babel.dev/docs/en/next/babel-preset-env) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-preset-env)) | dependencies | patch | [`7.24.5` -> `7.24.6`](https://renovatebot.com/diffs/npm/@babel%2fpreset-env/7.24.5/7.24.6) |\n| [@babel/preset-env](https://babel.dev/docs/en/next/babel-preset-env) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-preset-env)) | devDependencies | patch | [`7.24.5` -> `7.24.6`](https://renovatebot.com/diffs/npm/@babel%2fpreset-env/7.24.5/7.24.6) |\n| [@babel/runtime](https://babel.dev/docs/en/next/babel-runtime) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-runtime)) | dependencies | patch | [`7.24.5` -> `7.24.6`](https://renovatebot.com/diffs/npm/@babel%2fruntime/7.24.5/7.24.6) |\n| [@babel/runtime](https://babel.dev/docs/en/next/babel-runtime) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-runtime)) | devDependencies | patch | [`7.24.5` -> `7.24.6`](https://renovatebot.com/diffs/npm/@babel%2fruntime/7.24.5/7.24.6) |\n| [@bazel/buildifier](https://togithub.com/bazelbuild/buildtools) | devDependencies | patch | [`7.1.1` -> `7.1.2`](https://renovatebot.com/diffs/npm/@bazel%2fbuildifier/7.1.1/7.1.2) |\n| [aspect_bazel_lib](https://togithub.com/aspect-build/bazel-lib) | http_archive | patch | `v2.7.3` -> `v2.7.6` |\n| [esbuild](https://togithub.com/evanw/esbuild) | optionalDependencies | patch | [`0.21.3` -> `0.21.4`](https://renovatebot.com/diffs/npm/esbuild/0.21.3/0.21.4) |\n| [esbuild](https://togithub.com/evanw/esbuild) | dependencies | patch | [`0.21.3` -> `0.21.4`](https://renovatebot.com/diffs/npm/esbuild/0.21.3/0.21.4) |\n| [esbuild](https://togithub.com/evanw/esbuild) | devDependencies | patch | [`0.21.3` -> `0.21.4`](https://renovatebot.com/diffs/npm/esbuild/0.21.3/0.21.4) |\n| [esbuild-wasm](https://togithub.com/evanw/esbuild) | dependencies | patch | [`0.21.3` -> `0.21.4`](https://renovatebot.com/diffs/npm/esbuild-wasm/0.21.3/0.21.4) |\n| [esbuild-wasm](https://togithub.com/evanw/esbuild) | devDependencies | patch | [`0.21.3` -> `0.21.4`](https://renovatebot.com/diffs/npm/esbuild-wasm/0.21.3/0.21.4) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>babel/babel (@&#8203;babel/core)</summary>\n\n### [`v7.24.6`](https://togithub.com/babel/babel/blob/HEAD/CHANGELOG.md#v7246-2024-05-24)\n\n[Compare Source](https://togithub.com/babel/babel/compare/v7.24.5...v7.24.6)\n\n##### :bug: Bug Fix\n\n-   `babel-helper-create-class-features-plugin`, `babel-plugin-transform-class-properties`\n    -   [#&#8203;16514](https://togithub.com/babel/babel/pull/16514) Fix source maps for private member expressions ([@&#8203;nicolo-ribaudo](https://togithub.com/nicolo-ribaudo))\n-   `babel-core`, `babel-generator`, `babel-plugin-transform-modules-commonjs`\n    -   [#&#8203;16515](https://togithub.com/babel/babel/pull/16515) Fix source maps for template literals ([@&#8203;nicolo-ribaudo](https://togithub.com/nicolo-ribaudo))\n-   `babel-helper-create-class-features-plugin`, `babel-plugin-proposal-decorators`\n    -   [#&#8203;16485](https://togithub.com/babel/babel/pull/16485) Support undecorated static accessor in anonymous classes ([@&#8203;JLHwung](https://togithub.com/JLHwung))\n    -   [#&#8203;16484](https://togithub.com/babel/babel/pull/16484) Fix decorator bare yield await ([@&#8203;JLHwung](https://togithub.com/JLHwung))\n-   `babel-helpers`, `babel-plugin-proposal-decorators`, `babel-runtime-corejs3`\n    -   [#&#8203;16483](https://togithub.com/babel/babel/pull/16483) Fix: throw TypeError if addInitializer is called after finished ([@&#8203;JLHwung](https://togithub.com/JLHwung))\n-   `babel-parser`, `babel-plugin-transform-typescript`\n    -   [#&#8203;16476](https://togithub.com/babel/babel/pull/16476) fix: Correctly parse `cls.fn<C> = x` ([@&#8203;liuxingbaoyu](https://togithub.com/liuxingbaoyu))\n\n##### :house: Internal\n\n-   `babel-core`, `babel-helpers`, `babel-plugin-transform-runtime`, `babel-preset-env`, `babel-runtime-corejs2`, `babel-runtime-corejs3`, `babel-runtime`\n    -   [#&#8203;16501](https://togithub.com/babel/babel/pull/16501) Generate helper metadata at build time ([@&#8203;nicolo-ribaudo](https://togithub.com/nicolo-ribaudo))\n-   `babel-helpers`\n    -   [#&#8203;16499](https://togithub.com/babel/babel/pull/16499) Add `tsconfig.json` for `@babel/helpers/src/helpers` ([@&#8203;nicolo-ribaudo](https://togithub.com/nicolo-ribaudo))\n-   `babel-cli`, `babel-helpers`, `babel-plugin-external-helpers`, `babel-plugin-proposal-decorators`, `babel-plugin-transform-class-properties`, `babel-plugin-transform-modules-commonjs`, `babel-plugin-transform-modules-systemjs`, `babel-plugin-transform-runtime`, `babel-preset-env`, `babel-runtime-corejs2`, `babel-runtime-corejs3`, `babel-runtime`\n    -   [#&#8203;16495](https://togithub.com/babel/babel/pull/16495) Move all runtime helpers to individual files ([@&#8203;nicolo-ribaudo](https://togithub.com/nicolo-ribaudo))\n-   `babel-parser`, `babel-traverse`\n    -   [#&#8203;16482](https://togithub.com/babel/babel/pull/16482) Statically generate boilerplate for bitfield accessors ([@&#8203;nicolo-ribaudo](https://togithub.com/nicolo-ribaudo))\n-   Other\n    -   [#&#8203;16466](https://togithub.com/babel/babel/pull/16466) Migrate import assertions syntax ([@&#8203;JLHwung](https://togithub.com/JLHwung))\n\n</details>\n\n<details>\n<summary>bazelbuild/buildtools (@&#8203;bazel/buildifier)</summary>\n\n### [`v7.1.2`](https://togithub.com/bazelbuild/buildtools/releases/tag/v7.1.2): Release 7.1.2 (2024-05-23)\n\n[Compare Source](https://togithub.com/bazelbuild/buildtools/compare/v7.1.1...v7.1.2)\n\n#### What's Changed\n\n-   Add missing repo boundary files by [@&#8203;fmeum](https://togithub.com/fmeum) in [https://github.com/bazelbuild/buildtools/pull/1222](https://togithub.com/bazelbuild/buildtools/pull/1222)\n-   Fix README copy\\&paste error by [@&#8203;fmeum](https://togithub.com/fmeum) in [https://github.com/bazelbuild/buildtools/pull/1267](https://togithub.com/bazelbuild/buildtools/pull/1267)\n-   Add support for `*.MODULE.bazel` files by [@&#8203;fmeum](https://togithub.com/fmeum) in [https://github.com/bazelbuild/buildtools/pull/1266](https://togithub.com/bazelbuild/buildtools/pull/1266)\n\n**Full Changelog**: https://github.com/bazelbuild/buildtools/compare/v7.1.1...v7.1.2\n\n</details>\n\n<details>\n<summary>aspect-build/bazel-lib (aspect_bazel_lib)</summary>\n\n### [`v2.7.6`](https://togithub.com/aspect-build/bazel-lib/releases/tag/v2.7.6)\n\n[Compare Source](https://togithub.com/aspect-build/bazel-lib/compare/v2.7.5...v2.7.6)\n\n#### Using Bzlmod with Bazel 6:\n\n1.  Enable with `common --enable_bzlmod` in `.bazelrc`.\n2.  Add to your `MODULE.bazel` file:\n\n```starlark\nbazel_dep(name = \"aspect_bazel_lib\", version = \"2.7.6\")\n```\n\n> Read more about bzlmod: <https://blog.aspect.dev/bzlmod>\n\n#### Using WORKSPACE\n\nPaste this snippet into your `WORKSPACE` file:\n\n```starlark\nload(\"@&#8203;bazel_tools//tools/build_defs/repo:http.bzl\", \"http_archive\")\n\nhttp_archive(\n    name = \"aspect_bazel_lib\",\n    sha256 = \"b59781939f40c8bf148f4a71bd06e3027e15e40e98143ea5688b83531ec8528f\",\n    strip_prefix = \"bazel-lib-2.7.6\",\n    url = \"https://github.com/aspect-build/bazel-lib/releases/download/v2.7.6/bazel-lib-v2.7.6.tar.gz\",\n)\n\nload(\"@&#8203;aspect_bazel_lib//lib:repositories.bzl\", \"aspect_bazel_lib_dependencies\", \"aspect_bazel_lib_register_toolchains\")\n\n### Required bazel-lib dependencies\n\naspect_bazel_lib_dependencies()\n\n### Register bazel-lib toolchains\n\naspect_bazel_lib_register_toolchains()\n\n```\n\n**Full Changelog**: https://github.com/aspect-build/bazel-lib/compare/v2.7.3...v2.7.6\n\n#### What's Changed\n\n-   chore: run buildifier to green up main by [@&#8203;gregmagolan](https://togithub.com/gregmagolan) in [https://github.com/aspect-build/bazel-lib/pull/841](https://togithub.com/aspect-build/bazel-lib/pull/841)\n-   chore: bump to Bazel 7.1.2 by [@&#8203;gregmagolan](https://togithub.com/gregmagolan) in [https://github.com/aspect-build/bazel-lib/pull/842](https://togithub.com/aspect-build/bazel-lib/pull/842)\n-   ci: green up main by [@&#8203;gregmagolan](https://togithub.com/gregmagolan) in [https://github.com/aspect-build/bazel-lib/pull/844](https://togithub.com/aspect-build/bazel-lib/pull/844)\n-   chore: bump buildifier, go and gazelle deps by [@&#8203;gregmagolan](https://togithub.com/gregmagolan) in [https://github.com/aspect-build/bazel-lib/pull/845](https://togithub.com/aspect-build/bazel-lib/pull/845)\n-   chore: align ci patterns by [@&#8203;gregmagolan](https://togithub.com/gregmagolan) in [https://github.com/aspect-build/bazel-lib/pull/843](https://togithub.com/aspect-build/bazel-lib/pull/843)\n-   chore: tidy in MODULE.bazel file by [@&#8203;gregmagolan](https://togithub.com/gregmagolan) in [https://github.com/aspect-build/bazel-lib/pull/846](https://togithub.com/aspect-build/bazel-lib/pull/846)\n-   ci: green up rbe on main by [@&#8203;gregmagolan](https://togithub.com/gregmagolan) in [https://github.com/aspect-build/bazel-lib/pull/847](https://togithub.com/aspect-build/bazel-lib/pull/847)\n-   fix: coreutils download path for darwin_amd64 by [@&#8203;mrmeku](https://togithub.com/mrmeku) in [https://github.com/aspect-build/bazel-lib/pull/853](https://togithub.com/aspect-build/bazel-lib/pull/853)\n-   refactor(release): switch release integrity to be dynamic by [@&#8203;alexeagle](https://togithub.com/alexeagle) in [https://github.com/aspect-build/bazel-lib/pull/854](https://togithub.com/aspect-build/bazel-lib/pull/854)\n-   fix: integrity hashes are now sha256 since [#&#8203;854](https://togithub.com/aspect-build/bazel-lib/issues/854) by [@&#8203;alexeagle](https://togithub.com/alexeagle) in [https://github.com/aspect-build/bazel-lib/pull/855](https://togithub.com/aspect-build/bazel-lib/pull/855)\n\n#### New Contributors\n\n-   [@&#8203;mrmeku](https://togithub.com/mrmeku) made their first contribution in [https://github.com/aspect-build/bazel-lib/pull/853](https://togithub.com/aspect-build/bazel-lib/pull/853)\n\n**Full Changelog**: https://github.com/aspect-build/bazel-lib/compare/v2.7.3...v2.7.6\n\n### [`v2.7.5`](https://togithub.com/aspect-build/bazel-lib/releases/tag/v2.7.5)\n\n[Compare Source](https://togithub.com/aspect-build/bazel-lib/compare/v2.7.4...v2.7.5)\n\nBroken, do not use.\nRelease integrity shas are expected in the wrong format.\n\n### [`v2.7.4`](https://togithub.com/aspect-build/bazel-lib/releases/tag/v2.7.4)\n\n[Compare Source](https://togithub.com/aspect-build/bazel-lib/compare/v2.7.3...v2.7.4)\n\nBroken, do not use.\nThe integrity hashes for release binaries in the artifact don't match the ones fetched from GitHub.\n\n</details>\n\n<details>\n<summary>evanw/esbuild (esbuild)</summary>\n\n### [`v0.21.4`](https://togithub.com/evanw/esbuild/blob/HEAD/CHANGELOG.md#0214)\n\n[Compare Source](https://togithub.com/evanw/esbuild/compare/v0.21.3...v0.21.4)\n\n-   Update support for import assertions and import attributes in node ([#&#8203;3778](https://togithub.com/evanw/esbuild/issues/3778))\n\n    Import assertions (the `assert` keyword) have been removed from node starting in v22.0.0. So esbuild will now strip them and generate a warning with `--target=node22` or above:\n\n        ▲ [WARNING] The \"assert\" keyword is not supported in the configured target environment (\"node22\") [assert-to-with]\n\n            example.mjs:1:40:\n              1 │ import json from \"esbuild/package.json\" assert { type: \"json\" }\n                │                                         ~~~~~~\n                ╵                                         with\n\n          Did you mean to use \"with\" instead of \"assert\"?\n\n    Import attributes (the `with` keyword) have been backported to node 18 starting in v18.20.0. So esbuild will no longer strip them with `--target=node18.N` if `N` is 20 or greater.\n\n-   Fix `for await` transform when a label is present\n\n    This release fixes a bug where the `for await` transform, which wraps the loop in a `try` statement, previously failed to also move the loop's label into the `try` statement. This bug only affects code that uses both of these features in combination. Here's an example of some affected code:\n\n    ```js\n    // Original code\n    async function test() {\n      outer: for await (const x of [Promise.resolve([0, 1])]) {\n        for (const y of x) if (y) break outer\n        throw 'fail'\n      }\n    }\n\n    // Old output (with --target=es6)\n    function test() {\n      return __async(this, null, function* () {\n        outer: try {\n          for (var iter = __forAwait([Promise.resolve([0, 1])]), more, temp, error; more = !(temp = yield iter.next()).done; more = false) {\n            const x = temp.value;\n            for (const y of x) if (y) break outer;\n            throw \"fail\";\n          }\n        } catch (temp) {\n          error = [temp];\n        } finally {\n          try {\n            more && (temp = iter.return) && (yield temp.call(iter));\n          } finally {\n            if (error)\n              throw error[0];\n          }\n        }\n      });\n    }\n\n    // New output (with --target=es6)\n    function test() {\n      return __async(this, null, function* () {\n        try {\n          outer: for (var iter = __forAwait([Promise.resolve([0, 1])]), more, temp, error; more = !(temp = yield iter.next()).done; more = false) {\n            const x = temp.value;\n            for (const y of x) if (y) break outer;\n            throw \"fail\";\n          }\n        } catch (temp) {\n          error = [temp];\n        } finally {\n          try {\n            more && (temp = iter.return) && (yield temp.call(iter));\n          } finally {\n            if (error)\n              throw error[0];\n          }\n        }\n      });\n    }\n    ```\n\n-   Do additional constant folding after cross-module enum inlining ([#&#8203;3416](https://togithub.com/evanw/esbuild/issues/3416), [#&#8203;3425](https://togithub.com/evanw/esbuild/issues/3425))\n\n    This release adds a few more cases where esbuild does constant folding after cross-module enum inlining.\n\n    ```ts\n    // Original code: enum.ts\n    export enum Platform {\n      WINDOWS = 'windows',\n      MACOS = 'macos',\n      LINUX = 'linux',\n    }\n\n    // Original code: main.ts\n    import { Platform } from './enum';\n    declare const PLATFORM: string;\n    export function logPlatform() {\n      if (PLATFORM == Platform.WINDOWS) console.log('Windows');\n      else if (PLATFORM == Platform.MACOS) console.log('macOS');\n      else if (PLATFORM == Platform.LINUX) console.log('Linux');\n      else console.log('Other');\n    }\n\n    // Old output (with --bundle '--define:PLATFORM=\"macos\"' --minify --format=esm)\n    function n(){\"windows\"==\"macos\"?console.log(\"Windows\"):\"macos\"==\"macos\"?console.log(\"macOS\"):\"linux\"==\"macos\"?console.log(\"Linux\"):console.log(\"Other\")}export{n as logPlatform};\n\n    // New output (with --bundle '--define:PLATFORM=\"macos\"' --minify --format=esm)\n    function n(){console.log(\"macOS\")}export{n as logPlatform};\n    ```\n\n-   Pass import attributes to on-resolve plugins ([#&#8203;3384](https://togithub.com/evanw/esbuild/issues/3384), [#&#8203;3639](https://togithub.com/evanw/esbuild/issues/3639), [#&#8203;3646](https://togithub.com/evanw/esbuild/issues/3646))\n\n    With this release, on-resolve plugins will now have access to the import attributes on the import via the `with` property of the arguments object. This mirrors the `with` property of the arguments object that's already passed to on-load plugins. In addition, you can now pass `with` to the `resolve()` API call which will then forward that value on to all relevant plugins. Here's an example of a plugin that can now be written:\n\n    ```js\n    const examplePlugin = {\n      name: 'Example plugin',\n      setup(build) {\n        build.onResolve({ filter: /.*/ }, args => {\n          if (args.with.type === 'external')\n            return { external: true }\n        })\n      }\n    }\n\n    require('esbuild').build({\n      stdin: {\n        contents: `\n          import foo from \"./foo\" with { type: \"external\" }\n          foo()\n        `,\n      },\n      bundle: true,\n      format: 'esm',\n      write: false,\n      plugins: [examplePlugin],\n    }).then(result => {\n      console.log(result.outputFiles[0].text)\n    })\n    ```\n\n-   Formatting support for the `@position-try` rule ([#&#8203;3773](https://togithub.com/evanw/esbuild/issues/3773))\n\n    Chrome shipped this new CSS at-rule in version 125 as part of the [CSS anchor positioning API](https://developer.chrome.com/blog/anchor-positioning-api). With this release, esbuild now knows to expect a declaration list inside of the `@position-try` body block and will format it appropriately.\n\n-   Always allow internal string import and export aliases ([#&#8203;3343](https://togithub.com/evanw/esbuild/issues/3343))\n\n    Import and export names can be string literals in ES2022+. Previously esbuild forbid any usage of these aliases when the target was below ES2022. Starting with this release, esbuild will only forbid such usage when the alias would otherwise end up in output as a string literal. String literal aliases that are only used internally in the bundle and are \"compiled away\" are no longer errors. This makes it possible to use string literal aliases with esbuild's `inject` feature even when the target is earlier than ES2022.\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4zNjguMyIsInVwZGF0ZWRJblZlciI6IjM3LjM2OC4zIiwidGFyZ2V0QnJhbmNoIjoibWFpbiIsImxhYmVscyI6WyJhY3Rpb246IG1lcmdlIiwidGFyZ2V0OiBtaW5vciJdfQ==-->\n","Url":"https://github.com/angular/angular-cli/pull/27708","RelatedDescription":"Open PR \"build: update all non-major dependencies\" (#27708)"},{"Id":"2313722804","IsPullRequest":true,"CreatedAt":"2024-05-23T19:58:50","Actor":"clydin","Number":"27707","RawContent":null,"Title":"fix(@schematics/angular): check both application builder packages in SSR schematic","State":"open","Body":"The SSR schematic was previously only checking for the application build found within the `@angular-devkit/build-angular` package which is only an alias to the actual builder found in the `@angular/build` package. Both aliased and direct usages are now checked when executing the schematic.","Url":"https://github.com/angular/angular-cli/pull/27707","RelatedDescription":"Open PR \"fix(@schematics/angular): check both application builder packages in SSR schematic\" (#27707)"},{"Id":"2313684914","IsPullRequest":false,"CreatedAt":"2024-05-23T19:34:31","Actor":"cyrilletuzi","Number":"27706","RawContent":null,"Title":"web/test-runner failing when zoneless","State":"open","Body":"### Command\r\n\r\ntest\r\n\r\n### Is this a regression?\r\n\r\n- [ ] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\n`@angular-devkit/build-angular:web-test-runner` is loading files from `zone.js/testing` even when in zoneless mode, thus resulting in `ng test` command failing.\r\n\r\n### Minimal Reproduction\r\n\r\n- `ng new` (with CLI 18.0.1)\r\n- `ng test` => OK\r\n- `npm install @web/test-runner -D`\r\n- replace `@angular-devkit/build-angular:karma` by `@angular-devkit/build-angular:web-test-runner` in `angular.json`\r\n- `ng test` => OK\r\n- now go zoneless:\r\n  - replace `provideZoneChangeDetection({ eventCoalescing: true })` by `provideExperimentalZonelessChangeDetection()` in `src/app/app.config.ts`\r\n  - add `providers: [provideExperimentalZonelessChangeDetection()]` in `configureTestingModule` in `src/app/app.component.spec.ts`\r\n  - delete `polyfills` properties (both in `build` and `test`) in `angular.json`\r\n  - optionally `npm rm zone.js` but is is not required for reproduction\r\n- `ng test` => FAIL after the timeout (error below)\r\n- add back `polyfills` properties (in `test`) in `angular.json` (and `npm install zone.js` if you removed it)\r\n- `ng test` => OK but now there are warnings:\r\n```\r\nNG0914: The application is using zoneless change detection, but is still loading Zone.js.Consider removing Zone.js to get the full benefits of zoneless. In applcations using the Angular CLI, Zone.js is typically included in the \"polyfills\" section of the angular.json file.\r\n```\r\n\r\n[Reproduction repository here](https://github.com/cyrilletuzi/webtestrunnerzoneissue).\r\nThe repo is in the error case. You can uncomment `polyfills` in `angular.json` to see the working scenario.\r\n\r\n### Exception or Error\r\n\r\n```text\r\ndist/test-out/browser/app.component.spec.js:\r\n\r\n 🚧 404 network requests:\r\n    - testing.js\r\n\r\n ❌ Browser tests did not start after 20000ms You can increase this timeout with the testsStartTimeout option. Check the browser logs or open the browser in debug mode for more information. \r\n\r\nChrome: |██████████████████████████████| 1/1 test files | 0 passed, 0 failed\r\n\r\nError while running tests.\r\n```\r\n\r\n\r\n### Your Environment\r\n\r\n```text\r\nAngular CLI: 18.0.1\r\nNode: 20.13.1\r\nPackage Manager: npm 10.8.0\r\nOS: darwin arm64\r\n\r\nAngular: 18.0.0\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1800.1\r\n@angular-devkit/build-angular   18.0.1\r\n@angular-devkit/core            18.0.1\r\n@angular-devkit/schematics      18.0.1\r\n@angular/cli                    18.0.1\r\n@schematics/angular             18.0.1\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.6\r\n```\r\n\r\n\r\n### Anything else relevant?\r\n[Pull Request which implemented `@web/test-runner` builder](https://github.com/angular/angular-cli/pull/25860).\r\n\r\nThe missing `testing.js` from the error seems to come from [this line](https://github.com/angular/angular-cli/blob/c33629e3417f87685a6f75b36cb864a2cd8a55e3/packages/angular_devkit/build_angular/src/builders/web-test-runner/test_page.html#L31).\r\n\r\nThe line which links it to `zone.js/testing` seems to be [here](https://github.com/angular/angular-cli/blob/c33629e3417f87685a6f75b36cb864a2cd8a55e3/packages/angular_devkit/build_angular/src/builders/web-test-runner/index.ts#L143).\r\n\r\nWhat is strange is that this last file seems to have some behaviors to detect zone or zoneless, but it seems ineffective in the end, probably because of the import in the first file, which is always here.","Url":"https://github.com/angular/angular-cli/issues/27706","RelatedDescription":"Open issue \"web/test-runner failing when zoneless\" (#27706)"},{"Id":"2313658628","IsPullRequest":false,"CreatedAt":"2024-05-23T19:16:54","Actor":"robertIsaac","Number":"27705","RawContent":null,"Title":"ng add ssr is not working with @angular/build","State":"open","Body":"### Command\n\nadd\n\n### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n17\n\n### Description\n\nafter updating to the new `angular/build`, `ng add @angular/ssr` stops working\n\n### Minimal Reproduction\n\n1. create new Angular 18 project\r\n2. replace `@angular-devkit/build-angular` with `@angular/build` in `angular.json`\r\n3. run `npm i -D `@angular/build`\r\n4. run `npm un @angular-devkit/build-angular`\r\n5. run `npx ng add @angular/ssr`\n\n### Exception or Error\n\n```text\nng add @angular/ssr\r\ni Using package manager: npm\r\n√ Found compatible package version: @angular/ssr@18.0.1.\r\n√ Package information loaded.\r\n\r\nThe package @angular/ssr@18.0.1 will be installed and executed.\r\nWould you like to proceed? Yes\r\n√ Packages successfully installed.\r\nPath \"undefined\" does not exist.\n```\n\n\n### Your Environment\n\n```text\nAngular CLI: 18.0.1\r\nNode: 20.12.2\r\nPackage Manager: npm 10.5.0\r\nOS: win32 x64\r\n\r\nAngular: 18.0.0\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                      Version\r\n------------------------------------------------------\r\n@angular-devkit/architect    0.1800.1\r\n@angular-devkit/core         18.0.1\r\n@angular-devkit/schematics   18.0.1\r\n@angular/build               18.0.1\r\n@angular/cli                 18.0.1\r\n@angular/ssr                 18.0.1\r\n@schematics/angular          18.0.1\r\nrxjs                         7.8.1\r\ntypescript                   5.4.5\r\nzone.js                      0.14.6\n```\n\n\n### Anything else relevant?\n\nwhen upgrading from angular 17 to 18 there is optional migration if you selected it it makes `angular.json` file uses `@angular/build:application` (not sure why on one project it did, in another project it didn't)\r\nthis is the commit details\r\n\r\n```\r\n@angular/cli migration - use-application-builder\r\n\r\nMigrate application projects to the new build system. Application projects that are using the '@angular-devkit/build-angular' package's 'browser' and/or 'browser-esbuild' builders will be migrated to use the new 'application' builder. You can read more about this, including known issues and limitations, here: https://angular.dev/tools/cli/build-system-migration\r\n```\r\n\r\nthis makes the concurrency of this issue high","Url":"https://github.com/angular/angular-cli/issues/27705","RelatedDescription":"Open issue \"ng add ssr is not working with @angular/build\" (#27705)"},{"Id":"2313379102","IsPullRequest":true,"CreatedAt":"2024-05-23T16:32:55","Actor":"clydin","Number":"27704","RawContent":null,"Title":"ci: always run snapshot E2E tests on main CI","State":"open","Body":"","Url":"https://github.com/angular/angular-cli/pull/27704","RelatedDescription":"Open PR \"ci: always run snapshot E2E tests on main CI\" (#27704)"},{"Id":"2313184658","IsPullRequest":false,"CreatedAt":"2024-05-23T16:07:57","Actor":"wartab","Number":"27702","RawContent":null,"Title":"\"Invalid self-closing element in index HTML file\" error when using SVG in said index.html file since Angular 18","State":"closed","Body":"### Command\r\n\r\nbuild, serve\r\n\r\n### Is this a regression?\r\n\r\n- [X] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n17.x.x\r\n\r\n### Description\r\n\r\nWe're getting an issue when including an SVG tag (which expects valid XML) directly in our index.html file.\r\n\r\n\r\n\r\n### Minimal Reproduction\r\n\r\n```\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>Title</title>\r\n    <base href=\"/\">\r\n    <meta\r\n            name=\"viewport\"\r\n            content=\"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0\">\r\n    <link rel=\"icon\" type=\"image/x-icon\" href=\"favicon.ico\">\r\n    <style type=\"text/css\">\r\n        .main-loading-screen img {\r\n            width: 100px;\r\n            height: auto;\r\n        }\r\n\r\n        .main-loading-screen svg {\r\n            animation-name: spin-loader;\r\n            font-size: 6em;\r\n            animation-iteration-count: infinite;\r\n            animation-duration: 1s;\r\n            animation-timing-function: steps(8);\r\n        }\r\n\r\n        @keyframes spin-loader {\r\n            0% {\r\n                transform: rotate(0deg);\r\n            }\r\n\r\n            100% {\r\n                transform: rotate(360deg);\r\n            }\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n<app>\r\n    <div class=\"loading-screen main-loading-screen\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 512 512\">\r\n            <defs>\r\n                <style>.fa-secondary {\r\n                    fill: currentColor;\r\n                    opacity: 0.4;\r\n                }\r\n                .fa-primary {\r\n                    fill: currentColor;\r\n                }\r\n                </style>\r\n            </defs>\r\n            <path class=\"fa-primary\"\r\n                  d=\"M256 0c-17.7 0-32 14.3-32 32V96c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM0 256c0 17.7 14.3 32 32 32H96c17.7 0 32-14.3 32-32s-14.3-32-32-32H32c-17.7 0-32 14.3-32 32zM120.2 75C107.7 62.5 87.5 62.5 75 75s-12.5 32.8 0 45.3l45.3 45.3c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L120.2 75z\"/>\r\n            <path class=\"fa-secondary\"\r\n                  d=\"M346.5 120.2c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L437 120.2c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-45.3 45.3zM384 256c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H416c-17.7 0-32 14.3-32 32zM256 384c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32s32-14.3 32-32V416c0-17.7-14.3-32-32-32zm135.8-37.5c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L391.8 437c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-45.3-45.3zM75 437c12.5 12.5 32.8 12.5 45.3 0l45.3-45.3c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L75 391.8c-12.5 12.5-12.5 32.8 0 45.3z\"/>\r\n        </svg>\r\n    </div>\r\n</app>\r\n</body>\r\n</html>\r\n\r\n```\r\n\r\n### Exception or Error\r\n\r\n```text\r\nX [ERROR] Invalid self-closing element in index HTML file: '<path class=\"fa-primary\"\r\n                  d=\"M256 0c-17.7 0-32 14.3-32 32V96c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM0 256c0 17.7 14.3 32 32 32H96c17.7 0 32-14.3 32-32s-14.3-32-32-32H32c-17.7 0-32 14.3-32 32zM120.2 75C107.7 62.5 87.5 62.5 75 75s-12.5 32.8 0 45.3l45.3 45.3c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L120.2 75z\"/>'.\r\n\r\n\r\nX [ERROR] Invalid self-closing element in index HTML file: '<path class=\"fa-secondary\"\r\n                  d=\"M346.5 120.2c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L437 120.2c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-45.3 45.3zM384 256c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H416c-17.7 0-32 14.3-32 32zM256 384c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32s32-14.3 32-32V416c0-17.7-14.3-32-32-32zm135.8-37.5c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L391.8 437c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-45.3-45.3zM75 437c12.5 12.5 32.8 12.5 45.3 0l45.3-45.3c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L75 391.8c-12.5 12.5-12.5 32.8 0 45.3z\"/>'.\r\n```\r\n\r\n\r\n### Your Environment\r\n\r\n```text\r\n_                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n\r\n\r\nAngular CLI: 18.0.1\r\nNode: 20.10.0\r\nPackage Manager: npm 9.6.4\r\nOS: win32 x64\r\n\r\nAngular: 18.0.0\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, localize, platform-browser\r\n... platform-browser-dynamic, router\r\n\r\nPackage                      Version\r\n------------------------------------------------------\r\n@angular-devkit/architect    0.1800.1\r\n@angular-devkit/core         18.0.1\r\n@angular-devkit/schematics   18.0.1\r\n@angular/build               18.0.1\r\n@angular/cdk                 17.3.7\r\n@angular/cli                 18.0.1\r\n@angular/material            17.3.7\r\n@schematics/angular          18.0.1\r\nrxjs                         7.8.1\r\ntypescript                   5.4.5\r\nzone.js                      0.14.5\r\n```\r\n\r\n\r\n### Anything else relevant?\r\n\r\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27702","RelatedDescription":"Closed issue \"\"Invalid self-closing element in index HTML file\" error when using SVG in said index.html file since Angular 18\" (#27702)"},{"Id":"2313251982","IsPullRequest":true,"CreatedAt":"2024-05-23T16:07:56","Actor":"alan-agius4","Number":"27703","RawContent":null,"Title":"fix(@angular/build): support valid self-closing SVG tags in HTML index file","State":"closed","Body":"\r\nPrior to this change, the Angular build process incorrectly flagged self-closing SVG tags (e.g., `<path />`) as invalid HTML. This commit rectifies this issue by explicitly allowing self-closing syntax for SVG elements embedded within the HTML index file.\r\n\r\nCloses: #27702\r\n","Url":"https://github.com/angular/angular-cli/pull/27703","RelatedDescription":"Closed or merged PR \"fix(@angular/build): support valid self-closing SVG tags in HTML index file\" (#27703)"},{"Id":"2313151045","IsPullRequest":true,"CreatedAt":"2024-05-23T15:18:26","Actor":"clydin","Number":"27701","RawContent":null,"Title":"docs: release notes for the v18.0.1 release","State":"closed","Body":"Cherry-picks the changelog from the \"18.0.x\" branch to the next branch (main).","Url":"https://github.com/angular/angular-cli/pull/27701","RelatedDescription":"Closed or merged PR \"docs: release notes for the v18.0.1 release\" (#27701)"},{"Id":"2313124848","IsPullRequest":false,"CreatedAt":"2024-05-23T14:59:56","Actor":"PeterEnevoldsen","Number":"27700","RawContent":null,"Title":"Import of bootstrap styles into styles.scss leads to  Undefined variable.","State":"closed","Body":"### Command\r\n\r\nbuild, serve\r\n\r\n### Is this a regression?\r\n\r\n- [X] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n17.2.1\r\n\r\n### Description\r\n\r\nWhen importing the bootstrap styles into the default styles.scss the build failes as shown in the exception below.\r\n\r\nBootstrap version used: \"bootstrap\": \"5.3.3\",\r\n\r\n### Minimal Reproduction\r\n\r\nI create a new application using the cli and define it to use scss.\r\n\r\n➜  cli ng new test\r\n? Which stylesheet format would you like to use? SCSS   [ https://sass-lang.com/documentation/syntax#scss                ]\r\n? Do you want to enable Server-Side Rendering (SSR) and Static Site Generation (SSG/Prerendering)? No\r\nCREATE test/README.md (1063 bytes)\r\nCREATE test/.editorconfig (274 bytes)\r\nCREATE test/.gitignore (548 bytes)\r\nCREATE test/angular.json (2756 bytes)\r\nCREATE test/package.json (1108 bytes)\r\nCREATE test/tsconfig.json (922 bytes)\r\nCREATE test/tsconfig.app.json (263 bytes)\r\nCREATE test/tsconfig.spec.json (273 bytes)\r\nCREATE test/.vscode/extensions.json (130 bytes)\r\nCREATE test/.vscode/launch.json (470 bytes)\r\nCREATE test/.vscode/tasks.json (938 bytes)\r\nCREATE test/src/main.ts (250 bytes)\r\nCREATE test/src/favicon.ico (948 bytes)\r\nCREATE test/src/index.html (290 bytes)\r\nCREATE test/src/styles.scss (80 bytes)\r\nCREATE test/src/app/app.component.scss (0 bytes)\r\nCREATE test/src/app/app.component.html (22717 bytes)\r\nCREATE test/src/app/app.component.spec.ts (930 bytes)\r\nCREATE test/src/app/app.component.ts (366 bytes)\r\nCREATE test/src/app/app.config.ts (227 bytes)\r\nCREATE test/src/app/app.routes.ts (77 bytes)\r\nCREATE test/src/assets/.gitkeep (0 bytes)\r\n⠋ Installing packages (npm)...\r\n\r\nAdd latest bootstrap as a dependency and add the below line to styles.scss \r\n\r\n`@import 'bootstrap/scss/bootstrap';`\r\n\r\n`npm start` gives the error below.\r\n\r\n### Exception or Error\r\n\r\n```text\r\n✘ [ERROR] Undefined variable.\r\n    ╷\r\n136 │         $string: url(\"../node_modules/bootstrap/scss||file:#{str-replace\\(str-slice\\($string,\\ 6,\\ -3\\),\\ $char,\\ $encoded\\)}\");\r\n    │                                                                                                                   ^^^^^^^^^^\r\n    ╵\r\n  node_modules/bootstrap/scss/_functions.scss 136:115       escape-svg()\r\n  node_modules/bootstrap/scss/forms/_form-select.scss 7:37  @import\r\n  node_modules/bootstrap/scss/_forms.scss 4:9               @import\r\n  node_modules/bootstrap/scss/bootstrap.scss 22:9           @import\r\n  src/styles.scss 1:9                                       root stylesheet [plugin angular-sass]\r\n\r\n    angular:styles/global:styles:1:8:\r\n      1 │ @import 'src/styles.scss';\r\n        ╵         ~~~~~~~~~~~~~~~~~\r\n```\r\n\r\n\r\n### Your Environment\r\n\r\n```text\r\nAngular CLI: 18.0.0\r\nNode: 20.11.1\r\nPackage Manager: npm 10.2.4\r\nOS: darwin x64\r\n\r\nAngular: 18.0.0\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1800.0\r\n@angular-devkit/build-angular   18.0.0\r\n@angular-devkit/core            18.0.0\r\n@angular-devkit/schematics      18.0.0\r\n@schematics/angular             18.0.0\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.4\r\n```\r\n\r\n\r\n### Anything else relevant?\r\n\r\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27700","RelatedDescription":"Closed issue \"Import of bootstrap styles into styles.scss leads to  Undefined variable.\" (#27700)"},{"Id":"2313114305","IsPullRequest":true,"CreatedAt":"2024-05-23T14:57:55","Actor":"clydin","Number":"27699","RawContent":null,"Title":"Bump version to \"v18.0.1\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/27699","RelatedDescription":"Closed or merged PR \"Bump version to \"v18.0.1\" with changelog.\" (#27699)"},{"Id":"2312972170","IsPullRequest":true,"CreatedAt":"2024-05-23T13:59:13","Actor":"clydin","Number":"27697","RawContent":null,"Title":"fix(@angular/build): disable persistent disk caching inside webcontainers by default","State":"closed","Body":"When using the build system within a Web container, persistent disk caching is now disabled by default. Persistent disk caching does not provide a benefit for typical use cases and can cause increased browser memory usage when enabled.\r\n","Url":"https://github.com/angular/angular-cli/pull/27697","RelatedDescription":"Closed or merged PR \"fix(@angular/build): disable persistent disk caching inside webcontainers by default\" (#27697)"},{"Id":"2313000470","IsPullRequest":false,"CreatedAt":"2024-05-23T13:56:37","Actor":"sod","Number":"27698","RawContent":null,"Title":"`ng serve` doesn't automatically recover if a component provided via NgModule disappears and then reappears","State":"open","Body":"### Command\r\n\r\nserve (esbuild application builder)\r\n\r\n### Is this a regression?\r\n\r\nI'm pretty sure not a recent regression. This behavior was also lately in the webpack build\r\n\r\n### Description\r\n\r\nThe title: \r\n> `ng serve` doesn't automatically recover if a component provided via NgModule disappears and then reappears\r\n\r\nThis behavior means that if you switch your working branch and someone removed or moved a component from one NgModule to another, you must restart `ng serve` to recover when you switch back or you are stuck with a bunch of errors of `[ERROR] NG8001: 'app-foo' is not a known element`\r\n\r\n### Minimal Reproduction\r\n\r\n```sh\r\ngit clone git@github.com:sod/v18-ngmodule.git\r\nv18-ngmodule\r\nyarn install\r\nng serve\r\n```\r\nthen remove the `FooComponent` export in the `Shared1Module` and add it back in. See how the error:\r\n\r\n```\r\n✘ [ERROR] NG8001: 'app-foo' is not a known element:\r\n```\r\n\r\nWon't go away until you change the component where `<app-foo>` is actively used.\r\n\r\nVideo of reproduction:\r\n\r\nhttps://github.com/angular/angular-cli/assets/905328/69be16cf-0f29-4936-adb8-3dfab20a86a4\r\n\r\n### Your Environment\r\n\r\n```text\r\nAngular CLI: 18.0.0\r\nNode: 20.11.1\r\nPackage Manager: yarn 1.22.19\r\nOS: darwin arm64\r\n\r\nAngular: 18.0.0\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1800.0\r\n@angular-devkit/build-angular   18.0.0\r\n@angular-devkit/core            18.0.0\r\n@angular-devkit/schematics      18.0.0\r\n@schematics/angular             18.0.0\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.6\r\n```\r\n","Url":"https://github.com/angular/angular-cli/issues/27698","RelatedDescription":"Open issue \"`ng serve` doesn't automatically recover if a component provided via NgModule disappears and then reappears\" (#27698)"},{"Id":"2312347604","IsPullRequest":true,"CreatedAt":"2024-05-23T13:24:11","Actor":"cexbrayat","Number":"27694","RawContent":null,"Title":"fix(@schematics/angular): use angular.dev in readme","State":"closed","Body":"## PR Checklist\r\n\r\nPlease check to confirm your PR fulfills the following requirements:\r\n\r\n<!-- Please check all that apply using \"x\". -->\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular-cli/blob/main/CONTRIBUTING.md#-commit-message-guidelines\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n## PR Type\r\n\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] Other... Please describe:\r\n\r\n## What is the current behavior?\r\n\r\nThe currently generated readme mentions angular.io\r\n\r\n## What is the new behavior?\r\n\r\nIt now references angular.dev\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular-cli/pull/27694","RelatedDescription":"Closed or merged PR \"fix(@schematics/angular): use angular.dev in readme\" (#27694)"},{"Id":"2312317879","IsPullRequest":false,"CreatedAt":"2024-05-23T13:23:48","Actor":"cesco69","Number":"27693","RawContent":null,"Title":"After upgrade from Angular 17 to 18: polyfills?.some is not a function","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\ncompiler-cli\r\n\r\n### Is this a regression?\r\n\r\nYes\r\n\r\n### Description\r\n\r\nI have upgrade from Angular 17 to 18 with:\r\n```\r\nng update @angular/core@18 @angular/cli@18 --force --allow-dirty\r\nng update @angular/cdk@18 @angular/material@18 --force --allow-dirty\r\n```\r\nWhen I run `ng serve`\r\n```\r\nApplication bundle generation complete. [30.669 seconds]\r\n\r\nWatch mode enabled. Watching for file changes...\r\nNOTE: Raw file sizes do not reflect development server per-request transformations.\r\nAn unhandled exception occurred: polyfills?.some is not a function\r\nSee \"C:\\Users\\USER~1\\AppData\\Local\\Temp\\ng-w1ouV2\\angular-errors.log\" for further details.\r\n```\r\nangular-errors.log show:\r\n```\r\n[error] TypeError: polyfills?.some is not a function\r\n    at isZonelessApp (D:\\my-app\\frontend\\node_modules\\.pnpm\\@angular+build@18.0.0_@angular+compiler-cli@18.0.0_@angular+localize@18.0.0_@types+node@20.12_3bg7bdsu3zoaz37rnqvhp7tkye\\node_modules\\@angular\\build\\src\\tools\\esbuild\\utils.js:390:24)\r\n    at serveWithVite (D:\\my-app\\frontend\\node_modules\\.pnpm\\@angular+build@18.0.0_@angular+compiler-cli@18.0.0_@angular+localize@18.0.0_@types+node@20.12_3bg7bdsu3zoaz37rnqvhp7tkye\\node_modules\\@angular\\build\\src\\builders\\dev-server\\vite-server.js:198:234)\r\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n```\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\n[error] TypeError: polyfills?.some is not a function\r\n    at isZonelessApp (D:\\my-app\\frontend\\node_modules\\.pnpm\\@angular+build@18.0.0_@angular+compiler-cli@18.0.0_@angular+localize@18.0.0_@types+node@20.12_3bg7bdsu3zoaz37rnqvhp7tkye\\node_modules\\@angular\\build\\src\\tools\\esbuild\\utils.js:390:24)\r\n    at serveWithVite (D:\\my-app\\frontend\\node_modules\\.pnpm\\@angular+build@18.0.0_@angular+compiler-cli@18.0.0_@angular+localize@18.0.0_@types+node@20.12_3bg7bdsu3zoaz37rnqvhp7tkye\\node_modules\\@angular\\build\\src\\builders\\dev-server\\vite-server.js:198:234)\r\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\n_                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 18.0.0\r\nNode: 20.10.0\r\nPackage Manager: pnpm 8.10.5\r\nOS: win32 x64\r\n\r\nAngular: 18.0.0\r\n... animations, cdk, cli, common, compiler, compiler-cli, core\r\n... forms, localize, material, material-date-fns-adapter\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1800.0 (cli-only)\r\n@angular-devkit/build-angular   18.0.0\r\n@angular-devkit/core            18.0.0 (cli-only)\r\n@angular-devkit/schematics      18.0.0 (cli-only)\r\n@schematics/angular             18.0.0 (cli-only)\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.6\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27693","RelatedDescription":"Closed issue \"After upgrade from Angular 17 to 18: polyfills?.some is not a function\" (#27693)"},{"Id":"2312728625","IsPullRequest":true,"CreatedAt":"2024-05-23T13:23:47","Actor":"alan-agius4","Number":"27696","RawContent":null,"Title":"fix(@angular/build): handle esbuild-browser `polyfills` option as `string` during `ng serve`","State":"closed","Body":"\r\nWith `esbuild-browser` the `polyfills` option can be a string which was not handled properly.\r\n\r\nCloses #27693\r\n","Url":"https://github.com/angular/angular-cli/pull/27696","RelatedDescription":"Closed or merged PR \"fix(@angular/build): handle esbuild-browser `polyfills` option as `string` during `ng serve`\" (#27696)"},{"Id":"2311446604","IsPullRequest":false,"CreatedAt":"2024-05-23T11:47:46","Actor":"jnizet","Number":"27688","RawContent":null,"Title":"v18.0.0 errors when compiling bootstrap scss","State":"closed","Body":"### Command\n\nbuild, serve\n\n### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n17.3.8\n\n### Description\n\nWhen importing bootstrap scss in styles.scss, the build fails with the following error:\r\n\r\n```\r\n✘ [ERROR] Undefined variable.\r\n    ╷\r\n136 │         $string: url(\"../node_modules/bootstrap/scss||file:#{str-replace\\(str-slice\\($string,\\ 6,\\ -3\\),\\ $char,\\ $encoded\\)}\");\r\n    │                                                                                                                   ^^^^^^^^^^\r\n    ╵\r\n  node_modules/bootstrap/scss/_functions.scss 136:115       escape-svg()\r\n  node_modules/bootstrap/scss/forms/_form-select.scss 7:37  @import\r\n  node_modules/bootstrap/scss/_forms.scss 4:9               @import\r\n  node_modules/bootstrap/scss/bootstrap.scss 22:9           @import\r\n  src/styles.scss 1:9                                       root stylesheet [plugin angular-sass]\r\n\r\n    angular:styles/global:styles:1:8:\r\n      1 │ @import 'src/styles.scss';\r\n        ╵         ~~~~~~~~~~~~~~~~~\r\n```\n\n### Minimal Reproduction\n\nRun the following commands:\r\n\r\n```\r\nnpx @angular/cli@18.0.0 new --defaults --style scss bstest\r\ncd bstest\r\nnpm i bootstrap\r\necho \"@import 'bootstrap/scss/bootstrap';\" > src/styles.scss\r\nng serve\r\n```\n\n### Exception or Error\n\n```text\n✘ [ERROR] Undefined variable.\r\n    ╷\r\n136 │         $string: url(\"../node_modules/bootstrap/scss||file:#{str-replace\\(str-slice\\($string,\\ 6,\\ -3\\),\\ $char,\\ $encoded\\)}\");\r\n    │                                                                                                                   ^^^^^^^^^^\r\n    ╵\r\n  node_modules/bootstrap/scss/_functions.scss 136:115       escape-svg()\r\n  node_modules/bootstrap/scss/forms/_form-select.scss 7:37  @import\r\n  node_modules/bootstrap/scss/_forms.scss 4:9               @import\r\n  node_modules/bootstrap/scss/bootstrap.scss 22:9           @import\r\n  src/styles.scss 1:9                                       root stylesheet [plugin angular-sass]\r\n\r\n    angular:styles/global:styles:1:8:\r\n      1 │ @import 'src/styles.scss';\r\n        ╵         ~~~~~~~~~~~~~~~~~\r\n```\n```\n\n\n### Your Environment\n\n```text\nAngular CLI: 18.0.0\r\nNode: 20.12.2\r\nPackage Manager: npm 10.5.0\r\nOS: darwin x64\r\n\r\nAngular: 18.0.0\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1800.0\r\n@angular-devkit/build-angular   18.0.0\r\n@angular-devkit/core            18.0.0\r\n@angular-devkit/schematics      18.0.0\r\n@schematics/angular             18.0.0\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.6\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27688","RelatedDescription":"Closed issue \"v18.0.0 errors when compiling bootstrap scss\" (#27688)"},{"Id":"2312283546","IsPullRequest":true,"CreatedAt":"2024-05-23T11:47:45","Actor":"alan-agius4","Number":"27692","RawContent":null,"Title":"fix(@angular/build): avoid rebasing URLs with function calls","State":"closed","Body":"Function calls can alter the URL path, leading to issues during URL parsing.\r\n\r\nCloses: #27688\r\n","Url":"https://github.com/angular/angular-cli/pull/27692","RelatedDescription":"Closed or merged PR \"fix(@angular/build): avoid rebasing URLs with function calls\" (#27692)"},{"Id":"2312418475","IsPullRequest":false,"CreatedAt":"2024-05-23T09:27:48","Actor":"pgfeller","Number":"27695","RawContent":null,"Title":"[Feature][Vite] Add support for external vite.config.js","State":"open","Body":"### Command\n\nserve\n\n### Description\n\nAngular introduced vite support - which is a great improvement. If I understand the implementation a fallback mechanism to webpack is used in case a feature is not (yet) supported by vite (like e.g. `wasm` web assembly).\r\n\r\nThe official documentation recommends to write custom plugins if the default ones to not provide the features required. To get more control over `esbuild` plugins and to evaluate the possibility to use existing vite plugins I've contacted the people from the [angular-builders](https://github.com/just-jeb/angular-builders/) project and opened a feature request there:\r\n➡️ [[Feature Request] - Support to use/add Vite loader plugins](https://github.com/just-jeb/angular-builders/issues/1721)\r\n\r\nI've created a POC, but realized that I can not inject vite custom configuration without modifying `angular-cli` builder - or to re-implement it's functions.\r\n\r\nIt would be desirable if we could derive a custom builder from the vanilla one to add this feature. The respective configuration is currently not available.\r\n\r\nThe POC also showed that not all vite plugins will work properly with angular - so I understand that this will not be supported by the angular team. But it would be nice if the possibility exists for projects to derive from the code and provide/support custom plugins.\n\n### Describe the solution you'd like\n\nIt would be desirable that it is easier to derive from the default build / serve implementations to customize them (in this case custom vite config - similar to webpack). This would allow other projects to leverage the existing implementation without hacks and the support of the added or changed functions would be with the respective project (not the core angular team).\n\n### Describe alternatives you've considered\n\nAt the moment we fall back to webpack - but we've to consider to drop either the `wasm` packages and replace them with something else; and even switching the framework to `vue` was considered by the team.","Url":"https://github.com/angular/angular-cli/issues/27695","RelatedDescription":"Open issue \"[Feature][Vite] Add support for external vite.config.js\" (#27695)"},{"Id":"2312012986","IsPullRequest":false,"CreatedAt":"2024-05-23T05:51:54","Actor":"tobiasge","Number":"27691","RawContent":null,"Title":"ng new creates application with deprecated RouterTestingModule","State":"open","Body":"### Command\n\nnew\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nWhen creating a new application I didn't expect the usage of a deprecated module in my `app.component.spec.ts` file.\n\n### Minimal Reproduction\n\nng new --inline-style false --inline-template false --package-manager bun --routing --skip-git --standalone false --strict true --ssr false --style scss my-test-app\n\n### Exception or Error\n\n_No response_\n\n### Your Environment\n\n```text\n$ ng version\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n\r\n\r\nAngular CLI: 18.0.0\r\nNode: 20.12.1\r\nPackage Manager: bun 1.1.9\r\nOS: linux x64\r\n\r\nAngular: 18.0.0\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1800.0\r\n@angular-devkit/build-angular   18.0.0\r\n@angular-devkit/core            18.0.0\r\n@angular-devkit/schematics      18.0.0\r\n@schematics/angular             18.0.0\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.6\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27691","RelatedDescription":"Open issue \"ng new creates application with deprecated RouterTestingModule\" (#27691)"},{"Id":"2311961716","IsPullRequest":true,"CreatedAt":"2024-05-23T05:15:39","Actor":"angular-robot","Number":"27690","RawContent":null,"Title":"build: update angular","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@angular/build-tooling](https://togithub.com/angular/dev-infra-private-build-tooling-builds) | devDependencies | digest | `fcf8e80` -> `adf903f` |\n| [@angular/cdk](https://togithub.com/angular/cdk-builds) | dependencies | digest | `a1f1b08` -> `708b5ac` |\n| [@angular/material](https://togithub.com/angular/material-builds) | dependencies | digest | `09b528c` -> `fe092d4` |\n| [@angular/material-moment-adapter](https://togithub.com/angular/material-moment-adapter-builds) | dependencies | digest | `62148d3` -> `dc39a7b` |\n| [@angular/ng-dev](https://togithub.com/angular/dev-infra-private-ng-dev-builds) | devDependencies | digest | `984351f` -> `2d96066` |\n| angular/dev-infra | action | digest | `89624a6` -> `4bc5d5c` |\n\n🔡 If you wish to disable git hash updates, add `\":disableDigestUpdates\"` to the extends array in your config.\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4zNjguMyIsInVwZGF0ZWRJblZlciI6IjM3LjM2OC4zIiwidGFyZ2V0QnJhbmNoIjoibWFpbiIsImxhYmVscyI6WyJhY3Rpb246IG1lcmdlIiwidGFyZ2V0OiBtaW5vciJdfQ==-->\n","Url":"https://github.com/angular/angular-cli/pull/27690","RelatedDescription":"Open PR \"build: update angular\" (#27690)"},{"Id":"2311426261","IsPullRequest":true,"CreatedAt":"2024-05-22T21:54:22","Actor":"clydin","Number":"27687","RawContent":null,"Title":"fix(@angular/build): only import persistent cache store with active caching","State":"closed","Body":"To avoid loading and initializing the underlying persistent cache store when caching is disabled, the lmdb-based cache will now only be imported when caching is enabled.","Url":"https://github.com/angular/angular-cli/pull/27687","RelatedDescription":"Closed or merged PR \"fix(@angular/build): only import persistent cache store with active caching\" (#27687)"},{"Id":"2311369344","IsPullRequest":false,"CreatedAt":"2024-05-22T20:10:37","Actor":"cathey191","Number":"27686","RawContent":null,"Title":"Jest tests using @angular-devkit/schematics are throwing errors for the encoded data was not valid for encoding utf-8","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nDon't known / other\n\n### Is this a regression?\n\nYes\n\n### Description\n\n## Describe the Bug\r\n\r\nOn three different applications Angular are failing all test that use @angular-devkit/schematics. Two of the applications were passing fine on Angular 17.2.0 but failed after upgrading to 17.3.7. The third application was a new one that was created on 17.3.7 to just for testing purses.\r\n\r\nStandard jest tests, eg testing 'Hello world' are passing. But anything using schematics is throwing with the error The encoded data was not valid for encoding utf-8.\r\n\r\n## Minimal Reproduction\r\n\r\nCreate a new Angular application on 17.3.7 (latest version). Change to using Jest. Create a unit test that uses any schematics, and it throws with an encoding utf-8 error.\r\n\r\n## Expected Behavior\r\n\r\nExpect test to be able to run against anything with schematics, not to straight away fail. \r\n\r\n## Environment\r\n\r\nTest file example:\r\n\r\n```import { TextEncoder, TextDecoder } from 'util'\r\nglobal.TextEncoder = TextEncoder\r\n// @ts-expect-error\r\nglobal.TextDecoder = TextDecoder\r\n\r\nimport { Tree } from '@angular-devkit/schematics';\r\nimport { SchematicTestRunner } from '@angular-devkit/schematics/testing';\r\nimport * as path from 'path';\r\nconst collectionPath = path.join(__dirname, '../collection.json');\r\n\r\ndescribe('hello-world', () => {\r\n  it('works', async () => {\r\n    const runner = new SchematicTestRunner('schematics', collectionPath);\r\n    const tree = await runner.runSchematic('hello-world', {}, Tree.empty());\r\n    expect(tree.files).toEqual([]);\r\n  });\r\n  it('works', async () => {\r\n    const workspaceOptions = {\r\n      name: 'workspace',\r\n      newProjectRoot: 'projects',\r\n      version: '7.0.0',\r\n    };\r\n    const defaultAppOptions = {\r\n      name: 'bar',\r\n      inlineStyle: false,\r\n      inlineTemplate: false,\r\n      viewEncapsulation: 'Emulated',\r\n      routing: false,\r\n      style: 'css',\r\n      skipTests: false\r\n    };\r\n    const runner = new SchematicTestRunner('schematics', collectionPath);\r\n    const workspaceTree = await runner.runExternalSchematic(\r\n      '@schematics/angular',\r\n      'workspace',\r\n      workspaceOptions\r\n    );\r\n    const appTree = await runner.runExternalSchematic('@schematics/angular', 'application', defaultAppOptions, workspaceTree);\r\n    const tree = await runner.runSchematic('hello-world', {}, appTree);\r\n    expect(tree.files[0]).toEqual('/README.md');\r\n  });\r\n});\r\n```\r\n\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://github.com/cathey191/test-jest\n\n### Please provide the exception or error you saw\n\n```true\nError: Schematic \"hello-world\" not found in collection \"schematics\".\r\n\r\n    at SchematicEngine.createSchematic (/node_modules/@angular-devkit/schematics/src/engine/engine.js:246:23)\r\n    at CollectionImpl.createSchematic (/node_modules/@angular-devkit/schematics/src/engine/engine.js:82:29)\r\n    at SchematicTestRunner.runSchematic (/node_modules/@angular-devkit/schematics/testing/schematic-test-runner.js:63:44)\r\n    at /src/app/schematic-test.spec.ts:14:31\r\n    at _ZoneDelegate.invoke (/node_modules/zone.js/bundles/zone.umd.js:412:32)\r\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (/node_modules/zone.js/bundles/zone-testing.umd.js:2164:43)\r\n    at _ZoneDelegate.invoke (/node_modules/zone.js/bundles/zone.umd.js:411:38)\r\n    at ZoneImpl.run (/node_modules/zone.js/bundles/zone.umd.js:147:47)\r\n    at Object.wrappedFunc (/node_modules/zone.js/bundles/zone-testing.umd.js:450:38)\r\n    at Promise.then.completed (/node_modules/jest-circus/build/utils.js:298:28)\r\n    at new Promise (<anonymous>)\r\n    at callAsyncCircusFn (/node_modules/jest-circus/build/utils.js:231:10)\r\n    at _callCircusTest (/node_modules/jest-circus/build/run.js:316:40)\r\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n    at async _runTest (/node_modules/jest-circus/build/run.js:252:3)\r\n    at async _runTestsForDescribeBlock (/node_modules/jest-circus/build/run.js:126:9)\r\n    at async _runTestsForDescribeBlock (/node_modules/jest-circus/build/run.js:121:9)\r\n    at async run (/node_modules/jest-circus/build/run.js:71:3)\r\n    at async runAndTransformResultsToJestFormat (/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 17.3.7\r\nNode: 20.11.0\r\nPackage Manager: npm 10.2.4\r\nOS: darwin arm64\r\n\r\nAngular: 17.3.9\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, platform-server\r\n... router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1703.7\r\n@angular-devkit/build-angular   17.3.7\r\n@angular-devkit/core            17.3.7\r\n@angular-devkit/schematics      17.3.7\r\n@angular/cli                    17.3.7\r\n@angular/ssr                    17.3.7\r\n@schematics/angular             17.3.7\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.6\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27686","RelatedDescription":"Closed issue \"Jest tests using @angular-devkit/schematics are throwing errors for the encoded data was not valid for encoding utf-8\" (#27686)"},{"Id":"2311300924","IsPullRequest":true,"CreatedAt":"2024-05-22T19:16:05","Actor":"clydin","Number":"27685","RawContent":null,"Title":"docs: release notes for the v18.0.0 release","State":"closed","Body":"Cherry-picks the changelog from the \"18.0.x\" branch to the next branch (main).","Url":"https://github.com/angular/angular-cli/pull/27685","RelatedDescription":"Closed or merged PR \"docs: release notes for the v18.0.0 release\" (#27685)"},{"Id":"2311271717","IsPullRequest":true,"CreatedAt":"2024-05-22T19:11:01","Actor":"clydin","Number":"27684","RawContent":null,"Title":"Bump version to \"v18.0.0\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/27684","RelatedDescription":"Closed or merged PR \"Bump version to \"v18.0.0\" with changelog.\" (#27684)"},{"Id":"2311179213","IsPullRequest":true,"CreatedAt":"2024-05-22T18:49:39","Actor":"clydin","Number":"27683","RawContent":null,"Title":"build: update Angular packages to v18 stable","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/27683","RelatedDescription":"Closed or merged PR \"build: update Angular packages to v18 stable\" (#27683)"}],"ResultType":"GitHubIssue"},"material2-Issues":{"Issues":[{"Id":"2316206333","IsPullRequest":false,"CreatedAt":"2024-05-24T20:33:04","Actor":"JaxonWright","Number":"29117","RawContent":null,"Title":"bug(theming): can no longer define custom M2 palettes on v18","State":"closed","Body":"### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n17.3.10\n\n### Description\n\nAfter Angular Material 18, in order to use Material 2 themes still, you need to change a bunch of Sass functions to be new m2 variants. This works fine until you try to use `mat.m2-define-palette($my-custom-palette)` with a non-default palette variable.\r\n\r\nWhen doing this you get the following error:\r\n `'Hue \"500\" does not exist in palette. Available hues are: 0, 10, 20, 25, 30, 35, 40, 50, 60, 70, 80, 90, 95, 98, 99, 100, secondary, neutral, neutral-variant, error'` \r\n \r\n This makes it seem like this internal `get-color-from-palette()` Sass function is expecting a Material 3 Palette instead of a Material 2 Palette despite intentionally defining a Material 2 palette via `mat.m2-define-palette()`\r\n\r\nMy custom palette is unchanged from Angular 17,  and is in the typical `50, 100..900, A100, A200, A400, A700, contrast` format for a m2 palette.\n\n### Reproduction\n\nStackBlitz link: \r\nSteps to reproduce:\r\n1. \r\n2.\r\n\n\n### Expected Behavior\n\nRetain the ability to define custom Material 2 Palettes and use them with `mat.m2-define-palette()`\n\n### Actual Behavior\n\n `'Hue \"500\" does not exist in palette. Available hues are: 0, 10, 20, 25, 30, 35, 40, 50, 60, 70, 80, 90, 95, 98, 99, 100, secondary, neutral, neutral-variant, error'` \n\n### Environment\n\n- Angular: 18.0.0\r\n- CDK/Material: 18.0.0\r\n- Browser(s): N/A\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows 11\r\n","Url":"https://github.com/angular/components/issues/29117","RelatedDescription":"Closed issue \"bug(theming): can no longer define custom M2 palettes on v18\" (#29117)"},{"Id":"2316014155","IsPullRequest":false,"CreatedAt":"2024-05-24T18:31:19","Actor":"GLugano","Number":"29116","RawContent":null,"Title":"feat(MAT-SELECT): Create a \"header area\" inside the panel before mat-mdc-select-panel","State":"open","Body":"### Feature Description\n\nAdd a ng-content with select, with or without wrapper, that enable the possibility to add any content before the scrollable div inside the panel.\r\n\r\nI dont have idea if it needs any default/configured height or if it is just based on the content height.\r\n\r\nPossible implementation (right before the div with role=\"listbox\"):\r\n`<ng-content select=\"mat-select-panel-header, [matSelectPanelHeader]\"></ng-content>`\n\n### Use Case\n\nWhile using mat-select, sometimes its needed to use a input to filter the options when dealing with many options.\r\n\r\nThe \"current\" way to do it, we need a third party component (Ex: ngx-mat-select-search, that fix the problem with filtering and desselecting values because the option doesnt exist anymore) and it works.\r\n\r\nThere is 2 problems with this: its not native (we need to \"fix\" the selection problem) and the scroll.\r\n\r\nThe scroll problem is this: when you are navigating with the keyboard, the moment the first option is not visible anymore and try to go back to it, the code consider the option positioned behind the \"search option\" as a valid position. The result is that the option is focused but not visible and clicking to go up doesnt change anything.\r\n\r\nThis happens because there is no \"right place\" to put that input and we are forced to put it with the other options.\r\n\r\nThe \"real\" solution is a native search, but we will not get any of it, i know. Creating a simple directive and adding a ng-content with select would fix the problems and will enable us to use the third party component.\r\n\r\nWe need the search option because its hard to find a single options between 300 other options.","Url":"https://github.com/angular/components/issues/29116","RelatedDescription":"Open issue \"feat(MAT-SELECT): Create a \"header area\" inside the panel before mat-mdc-select-panel\" (#29116)"},{"Id":"2315848104","IsPullRequest":false,"CreatedAt":"2024-05-24T17:00:34","Actor":"hunterbring","Number":"29115","RawContent":null,"Title":"bug(theming): 'Could not find Angular Material core theme' warning with new Angular 18 application using Angular Material","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nWhen generating a new application and adding `@angular/material` with a custom theme, the following warning message is shown in the console:\r\n\r\n```\r\nCould not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming\r\n```\r\n\r\nHowever, the core mixin is present in the `styles.scss` file:\r\n```\r\n// Custom Theming for Angular Material\r\n// For more information: https://material.angular.io/guide/theming\r\n@use '@angular/material' as mat;\r\n\r\n// Plus imports for other components in your app.\r\n// Include the common styles for Angular Material. We include this here so that you only\r\n// have to load a single css file for Angular Material in your app.\r\n// Be sure that you only ever include this mixin once!\r\n@include mat.core();\r\n\r\n// Define the theme object.\r\n$test-theme: mat.define-theme((\r\n  color: (\r\n    theme-type: light,\r\n    primary: mat.$azure-palette,\r\n    tertiary: mat.$blue-palette,\r\n  ),\r\n  density: (\r\n    scale: 0,\r\n  )\r\n));\r\n\r\n// Include theme styles for core and each component used in your app.\r\n// Alternatively, you can import and @include the theme mixins for each component\r\n// that you are using.\r\n:root {\r\n  @include mat.all-component-themes($test-theme);\r\n}\r\n\r\n// Comment out the line below if you want to use the pre-defined typography utility classes.\r\n// For more information: https://material.angular.io/guide/typography#using-typography-styles-in-your-application.\r\n// @include mat.typography-hierarchy($test-theme);\r\n\r\n// Comment out the line below if you want to use the deprecated `color` inputs.\r\n// @include mat.color-variants-backwards-compatibility($test-theme);\r\n\r\n/* You can add global styles to this file, and also import other style files */\r\nhtml,\r\nbody {\r\n  height: 100%;\r\n}\r\n\r\nbody {\r\n  margin: 0;\r\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\r\n}\r\n```\r\n\r\nAttempting to include the core theme explicitly using `@include mat.core-theme($test-theme)` also has no effect.\n\n### Reproduction\n\nStackBlitz link: N/A (StackBlitz failed to run newly generated Angular 18 application)\r\n\r\nSteps to reproduce:\r\n1. Generate a new application using `ng new test-app`\r\n    - Do you want to enable Server-Side Rendering (SSR) and Static Site Generation (SSG/rerendering)?\r\n        - **No**\r\n2. Add Angular Material to the project using `ng add @angular/material`\r\n    - Theme type\r\n        - **Custom**\r\n    - Set up global Angular Material typography styles? \r\n        - **Yes**\r\n    - Include the Angular animations module? \r\n        - **Include and enable animations**\r\n3. Replace the content of `app.component.html` with the following:\r\n    ```\r\n    <button mat-flat-button>\r\n      Test\r\n    </button>\r\n    ```\r\n4. Add an import for the `MatButtonModule` to the imports array in `app.component.ts`\r\n5. Serve the application\r\n6. Open the Developer Tools \r\n7. View the console\n\n### Expected Behavior\n\nNo warning should be present.\n\n### Actual Behavior\n\nThe following warning is shown in the console:\r\n\r\n```\r\nCould not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming\r\n```\r\n\r\nThe button added in the `app.component.html` renders as expected.\n\n### Environment\n\n```\r\n$ ng version\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n\r\n\r\nAngular CLI: 18.0.1\r\nNode: 20.13.1\r\nPackage Manager: npm 10.5.2\r\nOS: win32 x64\r\n\r\nAngular: 18.0.0\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... material, platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1800.1\r\n@angular-devkit/build-angular   18.0.1\r\n@angular-devkit/core            18.0.1\r\n@angular-devkit/schematics      18.0.1\r\n@angular/cli                    18.0.1\r\n@schematics/angular             18.0.1\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.6\r\n```\r\n","Url":"https://github.com/angular/components/issues/29115","RelatedDescription":"Open issue \"bug(theming): 'Could not find Angular Material core theme' warning with new Angular 18 application using Angular Material\" (#29115)"},{"Id":"2315606732","IsPullRequest":false,"CreatedAt":"2024-05-24T14:54:20","Actor":"keatkeat87","Number":"29114","RawContent":null,"Title":"feat(CDK Table): Able to inject row in cell","State":"open","Body":"### Feature Description\n\nThe same feature request was made in 2019 but was rejected #15733. \r\nAndrew Seguin did not explain why the Angular Material Team does not plan on supporting this case. \r\nOver the past few years, Angular has changed a lot, so I am trying to ask again.\r\n\r\n\n\n### Use Case\n\n![wawa2](https://github.com/angular/components/assets/8691013/2ac78c40-7935-49cc-8204-de7291541fc5)\r\nI am trying to do a hover header to show all cell border effects, similar to the Google Ads table (as shown in the GIF above).\r\n\r\nMy idea is to create two directives (Row and Cell).\r\nRow listens to mouse enter events and then queries all Cell instances to call Cell.showBorder(). However, I know that Angular query is based on the LView tree, not the DOM tree, so the Row can't query its Cells.\r\n\r\nI tried another way, where Cell injects its Row. However, this also didn't work. After checking the code, I found that when CdkTable creates cell embedded view, it does not specify injector\r\n![image](https://github.com/angular/components/assets/8691013/4d7039f3-a5de-4e78-b8df-f0ea84257788)\r\nThis is the reason why Cell cannot inject Row.\r\n\r\nI'm not sure if the new Angular team will change their attention, but I hope to at least get an explanation.","Url":"https://github.com/angular/components/issues/29114","RelatedDescription":"Open issue \"feat(CDK Table): Able to inject row in cell\" (#29114)"},{"Id":"2314695252","IsPullRequest":false,"CreatedAt":"2024-05-24T08:58:05","Actor":"ourdark","Number":"29113","RawContent":null,"Title":"bug(cdkDrag): cdkDrag is not working properly after element resized","State":"closed","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nResize an element bigger and then shrink to small, then drag the element to move, element teleport to unexpected position.\r\nIt is not happens for every time, but time to time.\n\n### Reproduction\n\nStackBlitz link: [click here](https://stackblitz.com/edit/stackblitz-starters-apuhzh?file=src%2Ftable-cdk.component.ts,src%2Ftable-cdk.component.css,src%2Fresize.directives.ts)\r\nSteps to reproduce:\r\n1. Resize div to a big size\r\n2. Then resize it to small one\r\n3. Drag the div\r\n\r\nRepeat try several times.\n\n### Expected Behavior\n\nThe mouse position(when drag) and target is associate with the current div position.\n\n### Actual Behavior\n\nTarget div teleport to another position which is not associate(under) mouse position.\n\n### Environment\n\n- Angular:12.2.12 | 18.0.1\r\n- CDK/Material:12.2.12 | 18.0.1\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/29113","RelatedDescription":"Closed issue \"bug(cdkDrag): cdkDrag is not working properly after element resized\" (#29113)"},{"Id":"2314590107","IsPullRequest":false,"CreatedAt":"2024-05-24T08:03:04","Actor":"sidharthbajpai","Number":"29112","RawContent":null,"Title":"bug(cdk-virtual-scroll-viewport): scrollWindow attribute not working in angular ssr (universal)","State":"closed","Body":"### Is this a regression?\r\n\r\n- [ ] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nWhen using angular SSR the scrollWindow attribute is not working. I am getting the error:-\r\n\r\n```\r\ndocument is not defined\r\n    at _CdkVirtualScrollableWindow (...\\test_cdk_scroll_ssr\\node_modules\\@angular\\cdk\\fesm2022\\scrolling.mjs:1659:26)\r\n    at NodeInjectorFactory.CdkVirtualScrollableWindow_Factory (...\\test_cdk_scroll_ssr\\node_modules\\@angular\\cdk\\fesm2022\\scrolling.mjs:1667:14)\r\n    at getNodeInjectable (...\\test_cdk_scroll_ssr\\node_modules\\@angular\\core\\fesm2022\\core.mjs:5984:44)\r\n    at searchTokensOnInjector (...\\test_cdk_scroll_ssr\\node_modules\\@angular\\core\\fesm2022\\core.mjs:5911:16)\r\n    at lookupTokenUsingNodeInjector (...\\test_cdk_scroll_ssr\\node_modules\\@angular\\core\\fesm2022\\core.mjs:5860:34)\r\n    at getOrCreateInjectable (...\\test_cdk_scroll_ssr\\node_modules\\@angular\\core\\fesm2022\\core.mjs:5772:23)\r\n    at ɵɵdirectiveInject (...\\test_cdk_scroll_ssr\\node_modules\\@angular\\core\\fesm2022\\core.mjs:11050:19)\r\n    at ɵɵinject (...\\test_cdk_scroll_ssr\\node_modules\\@angular\\core\\fesm2022\\core.mjs:1106:42)\r\n    at NodeInjectorFactory.factory (...\\test_cdk_scroll_ssr\\node_modules\\@angular\\core\\fesm2022\\core.mjs:3325:29)\r\n    at getNodeInjectable (...\\test_cdk_scroll_ssr\\node_modules\\@angular\\core\\fesm2022\\core.mjs:5984:44\r\n```\r\n\r\n### Reproduction\r\n\r\nStackBlitz link: SSR is not supported in stackblitz\r\nSteps to reproduce:\r\n1. create Angular SSR  app\r\n2. install angular material\r\n3. add cdk-virtual-scroll with scrollWindow attribute as shown in the official example: [https://material.angular.io/cdk/scrolling/overview#cdk-virtual-scroll-window-scrolling](https://material.angular.io/cdk/scrolling/overview#cdk-virtual-scroll-window-scrolling)\r\n\r\n\r\n**My Code**\r\n\r\n**app.component.ts:-**\r\n```\r\nimport { ChangeDetectionStrategy, Component } from '@angular/core';\r\nimport {ScrollingModule} from '@angular/cdk/scrolling';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  styleUrl: './app.component.scss',\r\n  templateUrl: './app.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  standalone: true,\r\n  imports: [ScrollingModule]\r\n})\r\nexport class AppComponent {\r\n  items = Array.from({length: 100000}).map((_, i) => `Item #${i}`);\r\n}\r\n\r\n```\r\n\r\n**app.component.html**\r\n```\r\n<div class=\"example-header\">Content before</div>\r\n<cdk-virtual-scroll-viewport scrollWindow itemSize=\"50\">\r\n  <div *cdkVirtualFor=\"let item of items\" class=\"example-item\">{{item}}</div>\r\n</cdk-virtual-scroll-viewport>\r\n<div class=\"example-footer\">Content after</div>\r\n```\r\n\r\n**app.component.scss:-**\r\n```\r\n.example-item {\r\n    height: 50px;\r\n  }\r\n  \r\n  .example-header,\r\n  .example-footer {\r\n    height: 100px;\r\n    background: lightgray;\r\n  }\r\n```\r\n\r\n### Expected Behavior\r\n\r\nIt should work and use the window scroller just like it does in non ssr angular apps.\r\n\r\n### Actual Behavior\r\n\r\nOn adding the scrollWindow attribute giving the following error:-\r\n```\r\ndocument is not defined\r\n    at _CdkVirtualScrollableWindow (...\\test_cdk_scroll_ssr\\node_modules\\@angular\\cdk\\fesm2022\\scrolling.mjs:1659:26)\r\n    at NodeInjectorFactory.CdkVirtualScrollableWindow_Factory (...\\test_cdk_scroll_ssr\\node_modules\\@angular\\cdk\\fesm2022\\scrolling.mjs:1667:14)\r\n    at getNodeInjectable (...\\test_cdk_scroll_ssr\\node_modules\\@angular\\core\\fesm2022\\core.mjs:5984:44)\r\n    at searchTokensOnInjector (...\\test_cdk_scroll_ssr\\node_modules\\@angular\\core\\fesm2022\\core.mjs:5911:16)\r\n    at lookupTokenUsingNodeInjector (...\\test_cdk_scroll_ssr\\node_modules\\@angular\\core\\fesm2022\\core.mjs:5860:34)\r\n    at getOrCreateInjectable (...\\test_cdk_scroll_ssr\\node_modules\\@angular\\core\\fesm2022\\core.mjs:5772:23)\r\n    at ɵɵdirectiveInject (...\\test_cdk_scroll_ssr\\node_modules\\@angular\\core\\fesm2022\\core.mjs:11050:19)\r\n    at ɵɵinject (...\\test_cdk_scroll_ssr\\node_modules\\@angular\\core\\fesm2022\\core.mjs:1106:42)\r\n    at NodeInjectorFactory.factory (...\\test_cdk_scroll_ssr\\node_modules\\@angular\\core\\fesm2022\\core.mjs:3325:29)\r\n    at getNodeInjectable (...\\test_cdk_scroll_ssr\\node_modules\\@angular\\core\\fesm2022\\core.mjs:5984:44\r\n```\r\n\r\nMaybe because window is not always available in ssr, or something like that but in the documentation, it is not mentioned that this will not work in Angular SSR.\r\n\r\n### Environment\r\n\r\n- Angular: 17.3.8\r\n- CDK/Material: ^17.3.10\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/29112","RelatedDescription":"Closed issue \"bug(cdk-virtual-scroll-viewport): scrollWindow attribute not working in angular ssr (universal)\" (#29112)"},{"Id":"2314582442","IsPullRequest":true,"CreatedAt":"2024-05-24T07:02:14","Actor":"crisbeto","Number":"29111","RawContent":null,"Title":"fix(material/menu): prevent divider styles from bleeding out","State":"open","Body":"Fixes that the styles for the menu divider were at the top level which means that they'll also affect dividers outside of the menu.\r\n\r\nFixes #29106.","Url":"https://github.com/angular/components/pull/29111","RelatedDescription":"Open PR \"fix(material/menu): prevent divider styles from bleeding out\" (#29111)"},{"Id":"2313865521","IsPullRequest":true,"CreatedAt":"2024-05-24T00:29:02","Actor":"mmalerba","Number":"29110","RawContent":null,"Title":"test: Make tests fail on errors and fix newly uncovered failures","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/29110","RelatedDescription":"Closed or merged PR \"test: Make tests fail on errors and fix newly uncovered failures\" (#29110)"},{"Id":"2313617902","IsPullRequest":true,"CreatedAt":"2024-05-23T18:51:25","Actor":"DBowen33","Number":"29109","RawContent":null,"Title":"fix(material/paginator): items per page form field touch target size insufficient","State":"open","Body":"Items per page form field touch target does not have sufficient touch target size of 48 x 48 pixels. \r\nChanged from 84 x 41 to 84 x 48 pixels.\r\n\r\nBefore: \r\n![image](https://github.com/angular/components/assets/42016383/3b8d362d-2577-4144-8fb6-165cce0d8d91)\r\n\r\nAfter: \r\n![image](https://github.com/angular/components/assets/42016383/565856b2-23be-414b-9977-809a2224dec5)\r\n\r\nfixes b/225394124","Url":"https://github.com/angular/components/pull/29109","RelatedDescription":"Open PR \"fix(material/paginator): items per page form field touch target size insufficient\" (#29109)"},{"Id":"2311601959","IsPullRequest":true,"CreatedAt":"2024-05-23T15:03:36","Actor":"mmalerba","Number":"29100","RawContent":null,"Title":"test: move some CDK tests to zoneless","State":"closed","Body":"cherrypick #29083 to patch branch","Url":"https://github.com/angular/components/pull/29100","RelatedDescription":"Closed or merged PR \"test: move some CDK tests to zoneless\" (#29100)"},{"Id":"2312983344","IsPullRequest":true,"CreatedAt":"2024-05-23T13:49:12","Actor":"lsamboretrorabbit","Number":"29108","RawContent":null,"Title":"fix(material/slider): Tick marks changes position as the slider is changed (for a step that is decimal number)","State":"open","Body":"Fixes the bug in the Angular Material 'slider' component. \r\nChanged the function in the calculation from .floor to .round \r\nDue to floating-point precision in JavaScript. (1 - 0.9) / 0.1 evaluates to 0.9999999999999999 \r\nEven though mathematically it should be 1\r\nThe calculation in the code resulted in slightly smaller value. \r\nMath.floor(0.9999999999999999) evaluates to 0.\r\nMath.round(0.9999999999999999) evaluates to 1.\r\n\r\nFixes #29084","Url":"https://github.com/angular/components/pull/29108","RelatedDescription":"Open PR \"fix(material/slider): Tick marks changes position as the slider is changed (for a step that is decimal number)\" (#29108)"},{"Id":"2312868911","IsPullRequest":false,"CreatedAt":"2024-05-23T13:02:32","Actor":"MikaStark","Number":"29107","RawContent":null,"Title":"feat(theming): add $color-hue option to color mixin (material 3)","State":"open","Body":"### Feature Description\r\n\r\nIn [Using component color variantss](https://material.angular.io/guide/theming#using-component-color-variants) guide we see there is a way to override color variant used by specific components thanks to `$color-variant` option. It would be blasting to have also a `$color-hue` to let us customize the hue. I think it would be great this could also be set more globally in theme definition to avoid setting multiple times the same value.\r\n\r\nIt worth nothing to remember that was possible to do in material 2 theming through `default`, `text`, `lighter` and `darker` special hue.\r\n\r\n### Use Case\r\n\r\nIf you want to use bright colors (like orange) as theme primary of tertiary color you will, in fact, get out of the box darker colors (to keep orange example, you will get some brown variations) which could be not accepted by your business team (as it alter branding).\r\n\r\nThen, if you want to apply those exact colors on your primitive elements you have to override each CSS variable which is time consuming and annoying. `$color-hue` option would save a lot of time and open new way of customisation.","Url":"https://github.com/angular/components/issues/29107","RelatedDescription":"Open issue \"feat(theming): add $color-hue option to color mixin (material 3)\" (#29107)"},{"Id":"2312664277","IsPullRequest":false,"CreatedAt":"2024-05-23T11:26:35","Actor":"MikaStark","Number":"29106","RawContent":null,"Title":"bug(divider): every mat-divider has top and bottom margin when there is a mat-menu (material 3)","State":"open","Body":"### Is this a regression?\r\n\r\n- [X] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n17\r\n\r\n### Description\r\n\r\nHi,\r\nWhen using a m3 theme, if one put a `mat-menu` and having some `mat-divider`s across an app, you will notice an unwanted top and bottom margin on every `mat-divider` and not only those inside `mat-menu`\r\n\r\n### Reproduction\r\n\r\nStackBlitz link: https://stackblitz.com/edit/m2igi7?file=src%2Fexample%2Fmenu-overview-example.html\r\nSteps to reproduce:\r\n1. Add a `mat-menu` and a `matMenuTriggerFor`\r\n2. Add two `div`s with text\r\n3. Add `mat-divider` between the two `div`\r\n4. Save and serve ; you will notice there is margin between texts and the divider\r\n5. Remove `mat-menu` and a `matMenuTriggerFor`\r\n6. Save and serve ; the margin between texts and the divider is gone\r\n\r\n\r\n### Expected Behavior\r\n\r\n`mat-divider` shouldn't have margin outside of `mat-menu`\r\n\r\n### Actual Behavior\r\n\r\n`mat-divider`s have a top and bottom margin due to this CSS rule :\r\n\r\n```css\r\n.mat-divider {\r\n    color: var(--mat-menu-divider-color);\r\n    margin-bottom: var(--mat-menu-divider-bottom-spacing);\r\n    margin-top: var(--mat-menu-divider-top-spacing);\r\n}\r\n```\r\n\r\nI think this is a view encapsulation problem on `mat-menu`\r\n\r\n### Environment\r\n\r\n- Angular: 18\r\n- CDK/Material: 18\r\n- Browser(s): All\r\n- Operating System (e.g. Windows, macOS, Ubuntu): All\r\n","Url":"https://github.com/angular/components/issues/29106","RelatedDescription":"Open issue \"bug(divider): every mat-divider has top and bottom margin when there is a mat-menu (material 3)\" (#29106)"},{"Id":"2311649267","IsPullRequest":false,"CreatedAt":"2024-05-23T09:22:32","Actor":"amakhrov","Number":"29101","RawContent":null,"Title":"docs-bug(Material 2): Links to Material 2 are broken","State":"closed","Body":"### Documentation Feedback\r\n\r\nExample page: https://material.angular.io/guide/theming\r\n(Not sure if other pages are affected, too)\r\n\r\nIt contains a few links to the M2 guide, e.g:\r\n> For Material 2 specific documentation and how to update to Material 3, see the [Material 2 guide](https://material.angular.io/guide/material-2).\r\n\r\nThose links should lead to https://material.angular.io/guide/material-2-theming - but instead they incorrectly lead to a non-existing https://material.angular.io/guide/material-2\r\n\r\n### Affected documentation page\r\n\r\nhttps://material.angular.io/guide/theming","Url":"https://github.com/angular/components/issues/29101","RelatedDescription":"Closed issue \"docs-bug(Material 2): Links to Material 2 are broken\" (#29101)"},{"Id":"2312400826","IsPullRequest":true,"CreatedAt":"2024-05-23T09:22:31","Actor":"crisbeto","Number":"29105","RawContent":null,"Title":"docs: fix broken links","State":"closed","Body":"Fixes some broken links to the M2 guide.\r\n\r\nFixes #29101.","Url":"https://github.com/angular/components/pull/29105","RelatedDescription":"Closed or merged PR \"docs: fix broken links\" (#29105)"},{"Id":"2311655514","IsPullRequest":false,"CreatedAt":"2024-05-23T09:14:38","Actor":"amakhrov","Number":"29102","RawContent":null,"Title":"docs-bug(all): Sidebar (table of contents) is not scrollable making it hard to use","State":"closed","Body":"### Documentation Feedback\r\n\r\nPage examples:\r\n- https://material.angular.io/guide/material-2-theming\r\n- https://material.angular.io/components/table/api\r\n\r\nSo, consider the page: https://material.angular.io/guide/material-2-theming\r\n\r\nIt has a lot of contents broken down into multiple sections and subsections.\r\nThe table of contents (the right rail) is long and doesn't fit into one screen.\r\n\r\nHowever, this ToC is not scrollable _independently_ on the page. In fact, it's not even scrolled _together_ with the page. I have to scroll all the way to the bottom of the page if I want to see all the ToC entries. This defeats the purpose of ToC: quickly exploring what's available on the page\r\n\r\n### Affected documentation page\r\n\r\nhttps://material.angular.io/guide/material-2-theming","Url":"https://github.com/angular/components/issues/29102","RelatedDescription":"Closed issue \"docs-bug(all): Sidebar (table of contents) is not scrollable making it hard to use\" (#29102)"},{"Id":"2311888169","IsPullRequest":false,"CreatedAt":"2024-05-23T04:02:44","Actor":"tanishqmanuja","Number":"29104","RawContent":null,"Title":"feat(style): Runtime theme generation ","State":"open","Body":"### Feature Description\n\nThe ability to generate theme based on a seed color at runtime instead of compile time.\n\n### Use Case\n\nThis is very common in native android apps and would also benefit ionic/capacitor user to make their app feel more native","Url":"https://github.com/angular/components/issues/29104","RelatedDescription":"Open issue \"feat(style): Runtime theme generation \" (#29104)"},{"Id":"2311661818","IsPullRequest":true,"CreatedAt":"2024-05-22T23:32:51","Actor":"mmalerba","Number":"29103","RawContent":null,"Title":"test: move some CDK tests to zoneless","State":"open","Body":"","Url":"https://github.com/angular/components/pull/29103","RelatedDescription":"Open PR \"test: move some CDK tests to zoneless\" (#29103)"},{"Id":"2310108981","IsPullRequest":true,"CreatedAt":"2024-05-22T21:17:23","Actor":"crisbeto","Number":"29090","RawContent":null,"Title":"build: remove unused dependencies on platform-browser-dynamic","State":"closed","Body":"A bunch of build targets were depending unnecessarily on `platform-browser-dynamic`. These changes clean them up.","Url":"https://github.com/angular/components/pull/29090","RelatedDescription":"Closed or merged PR \"build: remove unused dependencies on platform-browser-dynamic\" (#29090)"},{"Id":"2311395173","IsPullRequest":true,"CreatedAt":"2024-05-22T20:15:30","Actor":"crisbeto","Number":"29099","RawContent":null,"Title":"docs: release notes for the v18.0.0 release","State":"closed","Body":"Cherry-picks the changelog from the \"18.0.x\" branch to the next branch (main).","Url":"https://github.com/angular/components/pull/29099","RelatedDescription":"Closed or merged PR \"docs: release notes for the v18.0.0 release\" (#29099)"},{"Id":"2311387650","IsPullRequest":true,"CreatedAt":"2024-05-22T20:07:46","Actor":"crisbeto","Number":"29098","RawContent":null,"Title":"Bump version to \"v18.0.0\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/29098","RelatedDescription":"Closed or merged PR \"Bump version to \"v18.0.0\" with changelog.\" (#29098)"},{"Id":"2311302554","IsPullRequest":true,"CreatedAt":"2024-05-22T19:59:51","Actor":"crisbeto","Number":"29097","RawContent":null,"Title":"build: update to Angular v18 final","State":"closed","Body":"Updates the Angular packages to v18 final.","Url":"https://github.com/angular/components/pull/29097","RelatedDescription":"Closed or merged PR \"build: update to Angular v18 final\" (#29097)"},{"Id":"2311255085","IsPullRequest":true,"CreatedAt":"2024-05-22T19:05:05","Actor":"DBowen33","Number":"29095","RawContent":null,"Title":"fix(material/tree): aria-expanded attribute should not appear in the leaf node","State":"closed","Body":"Fixed an issue to where leaf nodes were wrongly being assigned the aria-expanded attribute, which could confuse screen reader users.\r\n\r\nFixes #21922","Url":"https://github.com/angular/components/pull/29095","RelatedDescription":"Closed or merged PR \"fix(material/tree): aria-expanded attribute should not appear in the leaf node\" (#29095)"},{"Id":"2311285175","IsPullRequest":true,"CreatedAt":"2024-05-22T19:04:47","Actor":"DBowen33","Number":"29096","RawContent":null,"Title":"fix(material/tree): aria-expanded attribute should not appear in the leaf node","State":"open","Body":"Fixed an issue to where leaf nodes were wrongly being assigned the aria-expanded attribute, which could confuse screen reader users.\r\n\r\nhttps://screencast.googleplex.com/cast/NjMzNDkwNjM4MzcyODY0MHxkMTY5ZTdkNC05Mw\r\n\r\nFixes #21922","Url":"https://github.com/angular/components/pull/29096","RelatedDescription":"Open PR \"fix(material/tree): aria-expanded attribute should not appear in the leaf node\" (#29096)"},{"Id":"2311171272","IsPullRequest":true,"CreatedAt":"2024-05-22T18:07:03","Actor":"crisbeto","Number":"29094","RawContent":null,"Title":"docs: release notes for the v17.3.10 release","State":"closed","Body":"Cherry-picks the changelog from the \"17.3.x\" branch to the next branch (main).","Url":"https://github.com/angular/components/pull/29094","RelatedDescription":"Closed or merged PR \"docs: release notes for the v17.3.10 release\" (#29094)"},{"Id":"2311166963","IsPullRequest":true,"CreatedAt":"2024-05-22T18:04:37","Actor":"crisbeto","Number":"29093","RawContent":null,"Title":"Bump version to \"v17.3.10\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/29093","RelatedDescription":"Closed or merged PR \"Bump version to \"v17.3.10\" with changelog.\" (#29093)"},{"Id":"2310650647","IsPullRequest":true,"CreatedAt":"2024-05-22T14:10:19","Actor":"JoelLefkowitz","Number":"29091","RawContent":null,"Title":"Fix spelling mistakes that appear on the webapp","State":"open","Body":"![Screenshot 2024-05-22 at 15 04 20](https://github.com/angular/components/assets/45922542/3090db14-5357-4758-85a5-cf4660a6e5ba)\r\n\r\nSome comments that get marked up into text on the webapp have grammar mistakes. Usually don't bother with spelling but this one caught my eye :)","Url":"https://github.com/angular/components/pull/29091","RelatedDescription":"Open PR \"Fix spelling mistakes that appear on the webapp\" (#29091)"},{"Id":"2309623870","IsPullRequest":false,"CreatedAt":"2024-05-22T12:31:01","Actor":"kai1992cool","Number":"29089","RawContent":null,"Title":"feat(components): Require indigo-palette to be used in m3 styles","State":"closed","Body":"### Feature Description\n\n$indigo-palette does not seem to be usable with m3 when I tried the below code\r\n\r\n```\r\n$m3-dark-theme: matx.define-theme(\r\n  (\r\n    color: (\r\n      theme-type: dark,\r\n      primary: matx.$m3-indigo-palette,\r\n      tertiary: matx.$m3-blue-palette,\r\n    ),\r\n  )\r\n);\r\n```\r\n\r\nI get an error!\r\n\r\n```\r\n./src/theme.scss?ngGlobalStyle - Error: Module build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js):\r\nHookWebpackError: Module build failed (from ./node_modules/sass-loader/dist/cjs.js):\r\nUndefined variable.\r\n  ╷\r\n8 │       primary: matx.$m3-indigo-palette,\r\n  │                ^^^^^^^^^^^^^^^^^^^^^^^\r\n  ╵\r\n  src/theme.scss 8:16  root stylesheet\r\n```\r\n\r\n\r\n### [Stackblitz Demo](https://stackblitz.com/edit/qw6gwd?file=src%2Ftheme.scss)\n\n### Use Case\n\nIndigo palette is one of the common styles used by angular, so it has to be there in m3 right?","Url":"https://github.com/angular/components/issues/29089","RelatedDescription":"Closed issue \"feat(components): Require indigo-palette to be used in m3 styles\" (#29089)"},{"Id":"2309570308","IsPullRequest":false,"CreatedAt":"2024-05-22T04:57:02","Actor":"mattiLeBlanc","Number":"29088","RawContent":null,"Title":"bug(Angular Material Components:  @use '@material/typography' as mdc-typography; error during Bitbucket Pipeline build","State":"open","Body":"### Is this a regression?\r\n\r\n- [X] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n17.2.1\r\n\r\n### Description\r\n\r\nWhen building my angular application in Bitbucket Pipeline, since today I am getting a build error:\r\n```\r\n\r\nApplication bundle generation failed. [42.497 seconds]\r\n✘ [ERROR] Error: The \"path\" argument must be of type string. Received undefined\r\n  ╷\r\n4 │ @use '@material/typography' as mdc-typography;\r\n  │ ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  ╵\r\n  ../../node_modules/.pnpm/@angular+material@17.3.9_@angular+animations@17.3.9_@angular+core@17.3.9_rxjs@7.8.1_zone.js@0_uazmdyi7rlcwq43mlshwzo3k7q/node_modules/@angular/material/core/typography/_definition.scss 4:1  @use\r\n  ../../node_modules/.pnpm/@angular+material@17.3.9_@angular+animations@17.3.9_@angular+core@17.3.9_rxjs@7.8.1_zone.js@0_uazmdyi7rlcwq43mlshwzo3k7q/node_modules/@angular/material/core/typography/_versioning.scss 2:1  @use\r\n  ../../node_modules/.pnpm/@angular+material@17.3.9_@angular+animations@17.3.9_@angular+core@17.3.9_rxjs@7.8.1_zone.js@0_uazmdyi7rlcwq43mlshwzo3k7q/node_modules/@angular/material/core/theming/_m2-inspection.scss 6:1  @use\r\n  ../../node_modules/.pnpm/@angular+material@17.3.9_@angular+animations@17.3.9_@angular+core@17.3.9_rxjs@7.8.1_zone.js@0_uazmdyi7rlcwq43mlshwzo3k7q/node_modules/@angular/material/core/theming/_inspection.scss 4:1     @use\r\n  ../../node_modules/.pnpm/@angular+material@17.3.9_@angular+animations@17.3.9_@angular+core@17.3.9_rxjs@7.8.1_zone.js@0_uazmdyi7rlcwq43mlshwzo3k7q/node_modules/@angular/material/core/typography/_typography.scss 5:1  @forward\r\n  @angular/_index.scss 13:1                                                                                                                                                                                              @use\r\n  src/app/shared/components/help-button/help-button.component.scss 1:1    \r\n```\r\non many SCSS files.\r\nI can see in the git commit that my pnpm lock file has receied many updates of angular versions tot the latest 17.3.9 and now I can not deploy my application because of this error.\r\n\r\nI cant repoduce it locally even if I do an `pnpm run prune` and followed by `pnpm install` and then a `pnpm run build`.\r\nIn Bitbucket I am running `image: node:18.14.2`. My local macbook node version is v18.17.1.\r\n\r\nDoes anyone know why I am experiencing these issues on material typography all of a sudden?\r\n\r\n### Reproduction\r\n\r\nNot possible to reproduce since it only happens in my pipeline\r\n<img width=\"1544\" alt=\"Screenshot 2024-05-22 at 12 56 03 PM\" src=\"https://github.com/angular/components/assets/5285035/ed8236e5-2ef3-4b31-bc08-eb9892d7b55c\">\r\n\r\n\r\n### Expected Behavior\r\n\r\nNo build error\r\n\r\n### Actual Behavior\r\n\r\nBuild error as described above\r\n\r\n### Environment\r\n\r\n- Angular: 17.3.9\r\n- CDK/Material: 17.3.9\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Error happens in Bitbucket pipeline, node image node:18.14.2\r\n","Url":"https://github.com/angular/components/issues/29088","RelatedDescription":"Open issue \"bug(Angular Material Components:  @use '@material/typography' as mdc-typography; error during Bitbucket Pipeline build\" (#29088)"},{"Id":"2308924271","IsPullRequest":true,"CreatedAt":"2024-05-21T19:04:33","Actor":"crisbeto","Number":"29087","RawContent":null,"Title":"docs: release notes for the v18.0.0-rc.3 release","State":"closed","Body":"Cherry-picks the changelog from the \"18.0.x\" branch to the next branch (main).","Url":"https://github.com/angular/components/pull/29087","RelatedDescription":"Closed or merged PR \"docs: release notes for the v18.0.0-rc.3 release\" (#29087)"}],"ResultType":"GitHubIssue"}},"RunOn":"2024-05-25T03:30:02.1607959Z","RunDurationInMilliseconds":1389}