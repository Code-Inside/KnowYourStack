{"Data":{"Angular-Issues":{"Issues":[{"Id":"2739237656","IsPullRequest":true,"CreatedAt":"2024-12-13T21:28:47","Actor":"AndrewKushnir","Number":"59190","RawContent":null,"Title":"refactor(core): do not serialize parent block id for top level blocks","State":"open","Body":"This commit updates incremental hydration-related annotation logic to avoid serializing parent block id when it's `null` (for top-level blocks).\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [x] Refactoring (no functional changes, no api changes)\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/59190","RelatedDescription":"Open PR \"refactor(core): do not serialize parent block id for top level blocks\" (#59190)"},{"Id":"2739138766","IsPullRequest":false,"CreatedAt":"2024-12-13T20:14:02","Actor":"Entroper","Number":"59189","RawContent":null,"Title":"When cloning request headers in HttpInterceptor, assertValidHeaders expects string, number, or array, but the headers are a Map","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncommon\n\n### Is this a regression?\n\nNo\n\n### Description\n\nI'm using an HttpInterceptor to set the authorization header on requests to our API.  When we try to set the header, the interceptor throws from assertValidHeaders.\n\nSee this comment for what I agree may be causing the problem: https://github.com/angular/angular/issues/49353#issuecomment-1462158930\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\nUnexpected value of the `normalizedNames` header provided. Expecting either a string, a number or an array, but got: `[object Map]`.\n\nThe headers object is:\n\n{\n  \"normalizedNames\": {},\n  \"lazyUpdate\": [\n    {\n      \"name\": \"Authorization\",\n      \"value\": \"Bearer <token>\",\n      \"op\": \"s\"\n    }\n  ],\n  \"headers\": {},\n  \"lazyInit\": {\n    \"normalizedNames\": {},\n    \"lazyUpdate\": null\n  }\n}\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 18.2.8\nNode: 18.20.4\nPackage Manager: npm 10.7.0\nOS: linux x64\n\nAngular: 18.2.8\n... animations, cli, common, compiler, compiler-cli, core, forms\n... google-maps, localize, platform-browser\n... platform-browser-dynamic, router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1802.8\n@angular-devkit/build-angular   18.2.8\n@angular-devkit/core            18.2.8\n@angular-devkit/schematics      18.2.8\n@schematics/angular             18.2.8\nrxjs                            7.5.7\ntypescript                      5.5.4\nzone.js                         0.14.10\n```\n\n### Anything else?\n\nThe interceptor:\n\n```\n@Injectable()\nexport class AuthInterceptor implements HttpInterceptor {\n\tconstructor(private authService: AuthenticationService) { }\n\n\tintercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n\t\treturn from(this.handle(req, next));\n\t}\n\n\tprivate async handle(req: HttpRequest<any>, next: HttpHandler): Promise<HttpEvent<any>> {\n\t\tif (req.url.startsWith(environment.webApiUrl) || req.url.startsWith(environment.adminApiUrl)) {\n\t\t\t// Make sure we're authenticated for API calls.  These promises will already be complete if we are.\n\t\t\tif (!(await this.authService.isAuthenticated())) {\n\t\t\t\tawait this.authService.login();\n\t\t\t}\n\n\t\t\t// We're now logged in, if we possibly can be.\n\t\t\tconst accessToken = await this.authService.token();\n\t\t\tif (accessToken) {\n\t\t\t\tconst cloned = req.clone({\n\t\t\t\t\theaders: req.headers.set('Authorization', accessToken)\n\t\t\t\t});\n\n\t\t\t\tconsole.log(req.headers);\n\t\t\t\tconsole.log(cloned.headers);\n\t\t\t\treturn await lastValueFrom(next.handle(cloned));\n\t\t\t}\n\t\t}\n\n\t\t// We'll fall back to here if we couldn't get logged in, and try the request anyway.\n\t\treturn await lastValueFrom(next.handle(req));\n\t}\n}\n```","Url":"https://github.com/angular/angular/issues/59189","RelatedDescription":"Open issue \"When cloning request headers in HttpInterceptor, assertValidHeaders expects string, number, or array, but the headers are a Map\" (#59189)"},{"Id":"2738977524","IsPullRequest":true,"CreatedAt":"2024-12-13T18:38:12","Actor":"thePunderWoman","Number":"59188","RawContent":null,"Title":"refactor(core): add skipped defer blocks count to ngDevMode","State":"open","Body":"This adds the skipped defer blocks to the counts in ngDevMode and the logged hydration information.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n\r\n- [x] Refactoring (no functional changes, no api changes)\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n","Url":"https://github.com/angular/angular/pull/59188","RelatedDescription":"Open PR \"refactor(core): add skipped defer blocks count to ngDevMode\" (#59188)"},{"Id":"2737182386","IsPullRequest":true,"CreatedAt":"2024-12-13T18:10:30","Actor":"AndrewKushnir","Number":"59177","RawContent":null,"Title":"fix(core): avoid triggering `on timer` and `on idle` on the server","State":"closed","Body":"This commit updates defer block logic to avoid triggering `on idle` and `on timer` on the server for regular SSR mode (when incremental hydration is not enabled). Triggering the mentioned condition resulted in invoking `setTimeout` calls, which delayed serialization on the server during SSR (the process was waiting for the timeouts to clear).\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [x] Bugfix\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/59177","RelatedDescription":"Closed or merged PR \"fix(core): avoid triggering `on timer` and `on idle` on the server\" (#59177)"},{"Id":"2738777316","IsPullRequest":false,"CreatedAt":"2024-12-13T16:38:15","Actor":"magioloro","Number":"59186","RawContent":null,"Title":"Using loadChildren and loadComponent for lazy loading together in AppRoutinModule","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncore, router\n\n### Is this a regression?\n\nNo\n\n### Description\n\nI am using Angular 18 with modules as well as standalone components. \n\nIn my AppRoutingModule I want to lazy load my standalone components as well as my modules with with `loadComponent() `and `loadChildren().`\nBut if I navigate to a lazy component route /lazyComponent and then refresh the page, after the page refreshes, the component is not loaded.\nI use `bootstrapModule()` in main.ts.\n\nALso If I use  \n\n```\n{\n        path: 'lazyComponent',\n        component: LazyComponent\n},\n```\nwithout lazy loading, refreshing the page doe not load the component.\n\nIs it even possible or do i have to transform my modules to standalone components, too and then using `bootstrapApplication()`?\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\n\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 18.2.12\nNode: 18.20.2\nPackage Manager: yarn 3.6.1\nOS: win32 x64\n\nAngular: 18.2.13\n... animations, common, compiler, compiler-cli, core, forms\n... language-service, localize, platform-browser\n... platform-browser-dynamic, router\n\nPackage                            Version\n------------------------------------------------------------\n@angular-devkit/architect          0.1802.12\n@angular-devkit/build-angular      18.2.12\n@angular-devkit/core               18.2.12\n@angular-devkit/schematics         18.2.12\n@angular/cdk                       18.2.14\n@angular/cli                       18.2.12\n@angular/material                  18.2.14\n@angular/material-moment-adapter   <error>\n@schematics/angular                18.2.12\nng-packagr                         18.2.1\nrxjs                               7.8.1\ntypescript                         5.4.5\nzone.js                            0.15.0\n```\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/59186","RelatedDescription":"Open issue \"Using loadChildren and loadComponent for lazy loading together in AppRoutinModule\" (#59186)"},{"Id":"2738665129","IsPullRequest":false,"CreatedAt":"2024-12-13T15:36:43","Actor":"jnizet","Number":"59185","RawContent":null,"Title":"When using ComponentFixtureAutoDetect, ngOnInit is called too soon","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nYes\n\n### Description\n\nWhen using `ComponentFixtureAutoDetect`, the `ngOnInit` hook is called as soon as the component is created instead of waiting for the first `await whenStable()`.\n\nHere's a full repro (same as in the linked stackblits):\n\n```ts\nimport { ComponentFixtureAutoDetect, TestBed } from '@angular/core/testing';\nimport { Component, input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  template: '',\n})\nexport class AppComponent implements OnInit {\n  foo = input.required<string>();\n\n  ngOnInit() {\n    console.log('in ngOnInit');\n    if (this.foo() !== 'hello') {\n      throw new Error('Oops');\n    }\n  }\n}\n\ndescribe('AppComponent', () => {\n  beforeEach(() => {\n    TestBed.configureTestingModule({\n      providers: [{ provide: ComponentFixtureAutoDetect, useValue: true }],\n    });\n  });\n\n  it('should create the app', async () => {\n    console.log('creating component');\n    const fixture = TestBed.createComponent(AppComponent);\n    console.log('setting component');\n    fixture.componentRef.setInput('foo', 'hello');\n    console.log('awaiting stability');\n    await fixture.whenStable();\n\n    console.log('stable');\n    expect(fixture.nativeElement.textContent).toContain('hello');\n  });\n});\n```\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://stackblitz.com/edit/stackblitz-starters-srcoikiq?file=demo%2Fsrc%2Fapp%2Fapp.component.spec.ts\n\n### Please provide the exception or error you saw\n\n```true\nError: NG0950: Input is required but no value is available yet. Find more at https://angular.dev/errors/NG0950\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 19.0.5\nNode: 18.20.3\nPackage Manager: npm 10.2.3\nOS: linux x64\n\nAngular: 19.0.4\n... animations, common, compiler, compiler-cli, core, forms\n... platform-browser, platform-browser-dynamic, router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1900.5\n@angular-devkit/build-angular   19.0.5\n@angular-devkit/core            19.0.5\n@angular-devkit/schematics      19.0.5\n@angular/cli                    19.0.5\n@schematics/angular             19.0.5\nrxjs                            7.8.1\ntypescript                      5.6.3\nzone.js                         0.15.0\n```\n\n### Anything else?\n\nTo reproduce:\n\n- `cd demo`\n- `npm i`\n- `ng test`","Url":"https://github.com/angular/angular/issues/59185","RelatedDescription":"Open issue \"When using ComponentFixtureAutoDetect, ngOnInit is called too soon\" (#59185)"},{"Id":"2738641568","IsPullRequest":true,"CreatedAt":"2024-12-13T15:24:31","Actor":"crisbeto","Number":"59184","RawContent":null,"Title":"feat(core): add utility for resolving defer block information to ng global","State":"open","Body":"Adds the `getDeferBlocks` function to the global `ng` namespace which returns information about all `@defer` blocks inside of a DOM node. This information can be useful either directly in the browser console or to implement future functionality in the dev tools.\r\n\r\nAlso includes the following supporting changes:\r\n\r\n### refactor(core): remove unused field \r\nRemoves the `prefetchTriggers` field from the `TDeferBlockDetails` since we weren't reading or writing to it anywhere.\r\n\r\n### refactor(core): track debugging information about deferred triggers \r\nAdds a field on the `TDeferBlockDetails` where we can track debugging information about the defer block. Also uses it to store text representation of the different triggers which can be shown to the dev tools.","Url":"https://github.com/angular/angular/pull/59184","RelatedDescription":"Open PR \"feat(core): add utility for resolving defer block information to ng global\" (#59184)"},{"Id":"2738424843","IsPullRequest":true,"CreatedAt":"2024-12-13T13:37:50","Actor":"pkozlowski-opensource","Number":"59183","RawContent":null,"Title":"feat(core): extend the set of profiler events","State":"open","Body":"This commit extends the set of events understood by the profiler integrated with the Angular time. The set got extended to account for the recently added functionality and mark entry point to the code execution points.\r\n\r\nThe new set of events can be visualised by the Angular DevTools or other profiler integrations.\r\n","Url":"https://github.com/angular/angular/pull/59183","RelatedDescription":"Open PR \"feat(core): extend the set of profiler events\" (#59183)"},{"Id":"2738221473","IsPullRequest":false,"CreatedAt":"2024-12-13T11:53:49","Actor":"RSamaium","Number":"59182","RawContent":null,"Title":"Named Routes","State":"open","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\n\nrouter\n\n### Description\n\nAdd support for named routes in Angular Router, similar to Vue Router's implementation, to improve route management and navigation.\n\nCurrently, Angular Router requires using URLs or paths for navigation. Named routes would provide:\n\n- More maintainable route definitions\n- Type-safe navigation\n- Easier refactoring when URLs change\n- Better developer experience\n\n### Proposed solution\n\n## Proposed Solution\n\n### Route Definition\n```typescript\nconst routes: Routes = [\n  {\n    path: 'products',\n    name: 'products.list',  // New property\n    component: ProductListComponent\n  },\n  {\n    path: 'products/:id',\n    name: 'products.detail',\n    component: ProductDetailComponent\n  }\n];\n```\n\n### Navigation Usage\n\n```typescript\n// Current way\nrouter.navigate(['/products', id]);\n\n// Proposed way\nrouter.navigateByName('products.detail', { params: { id: 123 } });\n```\n\n### Router Link Usage\n```typescript\n// Current way\n<a [routerLink]=\"['/products', id]\">Product</a>\n\n// Proposed way\n<a [routerLinkByName]=\"'products.detail'\" [params]=\"{ id: 123 }\">Product</a>\n```\n\n### Route Guards Integration\n```typescript\n{\n  path: 'products',\n  name: 'products.list',\n  component: ProductListComponent,\n  canActivate: [(route) => {\n    // route.name would be available here\n    console.log(route.name); // 'products.list'\n    return true;\n  }]\n}\n```\n\n### Route Resolution\n```typescript\n// Resolve route by name\nconst route = router.resolveRouteName('products.detail', { \n  params: { id: '123' } \n});\nconsole.log(route.url); // '/products/123'\n```\n\n### Route State Management\n```typescript\n// Get current route name\nconst currentRouteName = router.getCurrentRouteName();\n\n// Check if current route matches name\nconst isProductRoute = router.matchRouteName('products.*');\n```\n\n### Alternatives considered\n\nN/A","Url":"https://github.com/angular/angular/issues/59182","RelatedDescription":"Open issue \"Named Routes\" (#59182)"},{"Id":"2738160027","IsPullRequest":true,"CreatedAt":"2024-12-13T11:18:42","Actor":"ZiaKhan-Coder","Number":"59181","RawContent":null,"Title":"Update end-to-end.md","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.dev application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/59181","RelatedDescription":"Open PR \"Update end-to-end.md\" (#59181)"},{"Id":"2737981698","IsPullRequest":false,"CreatedAt":"2024-12-13T09:53:01","Actor":"JeanMeche","Number":"59180","RawContent":null,"Title":"docs: `HttpRequest` is missing constructor information.","State":"open","Body":"### Describe the problem that you experienced\n\nAn API entry like `HttpRequest` should have its constructor signatures (overloaded) display on the API docs. \n\nex: https://angular.dev/api/common/http/HttpRequest \n","Url":"https://github.com/angular/angular/issues/59180","RelatedDescription":"Open issue \"docs: `HttpRequest` is missing constructor information.\" (#59180)"},{"Id":"2737587080","IsPullRequest":false,"CreatedAt":"2024-12-13T09:22:08","Actor":"reuse-ay","Number":"59179","RawContent":null,"Title":"Feature: Allow the type of \"error\" in HttpErrorResponse to be set using generics","State":"closed","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\n\ncommon\n\n### Description\n\nNow type of `error` property in [HttpErrorResponse](https://angular.jp/api/common/http/HttpErrorResponse?tab=api) is `any`.\nIt is convenient to use generics.\n\n### Proposed solution\n\nAllows the use of generics.\n```\nclass HttpErrorResponse<T=any> extends HttpResponseBase implements Error {\n  readonly name: \"HttpErrorResponse\";\n  readonly message: string;\n  readonly error: T;\n  readonly ok: false;\n  readonly override headers: HttpHeaders;\n  readonly override status: number;\n  readonly override statusText: string;\n  readonly override url: string | null;\n  readonly override type: HttpEventType.ResponseHeader | HttpEventType.Response;\n}\n```\n\nIf the default is any, compatibility will be maintained, right?\n\n### Alternatives considered\n\nNow I don't have ideas.","Url":"https://github.com/angular/angular/issues/59179","RelatedDescription":"Closed issue \"Feature: Allow the type of \"error\" in HttpErrorResponse to be set using generics\" (#59179)"},{"Id":"2737581364","IsPullRequest":false,"CreatedAt":"2024-12-13T06:51:58","Actor":"uttamughareja","Number":"59178","RawContent":null,"Title":"SSG Prerendering gives timeout when rendering big numb of urls or api takes time to response","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nNo\n\n### Description\n\nI tried to build my app with following setting, I have ~20k urls to build. and because all requests are sent concurrently from the build process, the api is taking time to process all these concurrent requests.\n{\n    ...\n     \"prerender\":{   \n        \"routesFile\": \"prerender-urls.txt\",\n        \"discoverRoutes\": false\n     },\n      \"ssr\": false\n    ...\n}\n\nbecause of this delay, the page is taking more time to response than Agular build process waits and it fails with timeout error.\n\nI did my research and opened a[ stackoverflow issue](https://stackoverflow.com/questions/79239766/angular-ssg-prerendering-gives-timeout-when-rendering-big-numb-of-urls-v17) after I couldn't find any proper solution to this. I see other people facing the same problem. so opening this issue.\n\n\n\n\n\n### Please provide a link to a minimal reproduction of the bug\n\ncreate a new app with 1 component, enable prerender with few diff parameter urls that needs backend api calls,  api should simulate a delay in response about  5 min or more to make it happen fast, build angular app and wait until the build throws a timeout  error.\n\n### Please provide the exception or error you saw\n\n```true\nPrerendered 3 static routes.\nApplication bundle generation failed. [133.998 seconds]\n\nX [ERROR] An error occurred while prerendering route '/jumbo'.\n\nAbortError: Request for: http://ng-localhost/pens was aborted.\nTimeoutError: The operation was aborted due to timeout\n    at e.signal.addEventListener.once (file:///D:/Frontend/.angular/prerender-root/bb5c5a0f-dd0d-4247-9895-f97bd3bef5b1/main.server.mjs:74:4998)\n    at [nodejs.internal.kHybridDispatch] (node:internal/event_target:820:20)\n    at EventTarget.dispatchEvent (node:internal/event_target:755:26)\n    at abortSignal (node:internal/abort_controller:370:10)\n    at AbortController.abort (node:internal/abort_controller:392:5)\n    at EventTarget.abort (node:internal/deps/undici/undici:5038:21)\n    at [nodejs.internal.kHybridDispatch] (node:internal/event_target:820:20)\n    at EventTarget.dispatchEvent (node:internal/event_target:755:26)\n    at abortSignal (node:internal/abort_controller:370:10)\n    at Timeout._onTimeout (node:internal/abort_controller:127:7)\n\n\nX [ERROR] An error occurred while prerendering route '/'.\n\nError: Terminating worker thread\n    at ThreadPool.destroy (D:\\Frontend\\node_modules\\piscina\\dist\\index.js:428:27)\n    at WorkerPool.destroy (D:\\Frontend\\node_modules\\piscina\\dist\\index.js:631:65)\n    at D:\\Frontend\\node_modules\\@angular\\build\\src\\utils\\server-rendering\\prerender.js:147:35\n    at async Promise.all (index 4)\n    at async renderPages (D:\\Frontend\\node_modules\\@angular\\build\\src\\utils\\server-rendering\\prerender.js:151:9)\n    at async prerenderPages (D:\\Frontend\\node_modules\\@angular\\build\\src\\utils\\server-rendering\\prerender.js:93:49)\n    at async executePostBundleSteps (D:\\Frontend\\node_modules\\@angular\\build\\src\\builders\\application\\execute-post-bundle.js:68:73)\n    at async executeBuild (D:\\Frontend\\node_modules\\@angular\\build\\src\\builders\\application\\execute-build.js:170:24)\n    at async watch (D:\\Frontend\\node_modules\\@angular\\build\\src\\builders\\application\\index.js:70:24)\n    at async Task.task [as taskFn] (D:\\Frontend\\node_modules\\@angular\\build\\src\\tools\\esbuild\\utils.js:140:26)\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 19.0.2\nNode: 20.15.1\nPackage Manager: npm 10.7.0\nOS: win32 x64\n\nAngular: 19.0.1\n... animations, common, compiler, compiler-cli, core, forms\n... platform-browser, platform-browser-dynamic, platform-server\n... router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1900.2\n@angular-devkit/build-angular   19.0.2\n@angular-devkit/core            19.0.2\n@angular-devkit/schematics      19.0.2\n@angular/cli                    19.0.2\n@angular/ssr                    19.0.2\n@schematics/angular             19.0.2\nrxjs                            7.8.1\ntypescript                      5.6.3\n```\n\n### Anything else?\n\nit would be helpful if there is a way either in angular or node rendering engine to set a value for wait period before throwing a timeout error.\n\nI believe this is one of the most common scenarios that many people are and will face it while using SSG with large amount of pages and slow apis.\n\n\nthanks","Url":"https://github.com/angular/angular/issues/59178","RelatedDescription":"Open issue \"SSG Prerendering gives timeout when rendering big numb of urls or api takes time to response\" (#59178)"},{"Id":"2735084872","IsPullRequest":false,"CreatedAt":"2024-12-13T01:29:26","Actor":"Ahmed-Hakeem","Number":"59165","RawContent":null,"Title":"Subnav has duplicated items","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nDon't known / other\n\n### Is this a regression?\n\nYes\n\n### Description\n\n1- go to https://angular.dev/api/core/@if \n2- notice items on the subnav duplicated\n\n![Image](https://github.com/user-attachments/assets/ccb3f740-0ec1-470b-b7bd-e004653df5e7)\n\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://angular.dev/api/core/@if\n\n### Please provide the exception or error you saw\n\n```true\n\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\n\n```\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/59165","RelatedDescription":"Closed issue \"Subnav has duplicated items\" (#59165)"},{"Id":"2735478886","IsPullRequest":true,"CreatedAt":"2024-12-13T01:29:25","Actor":"hawkgs","Number":"59169","RawContent":null,"Title":"docs(core): remove redundant reference-manifests handwritten entries","State":"closed","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.dev application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n\r\nDuplicated entries in the manifest.\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe handwritten entries are now included as part of `//packages/core:core_docs_extraction` it seems. So, they are no longer needed. On the contrary, they are causing duplicated entries in the generated manifest which are then reflected in the A.dev API reference.\r\n\r\nLet me know if I should keep the folder for future usage and drop only the JSON entries instead.\r\n\r\nFixes #59165\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/59169","RelatedDescription":"Closed or merged PR \"docs(core): remove redundant reference-manifests handwritten entries\" (#59169)"},{"Id":"2735299415","IsPullRequest":true,"CreatedAt":"2024-12-13T00:20:21","Actor":"alan-agius4","Number":"59166","RawContent":null,"Title":"docs: update i18n deployment docs to use subPath option","State":"closed","Body":"This option replaces the baseHref option.\r\n","Url":"https://github.com/angular/angular/pull/59166","RelatedDescription":"Closed or merged PR \"docs: update i18n deployment docs to use subPath option\" (#59166)"},{"Id":"2737080683","IsPullRequest":false,"CreatedAt":"2024-12-12T23:42:48","Actor":"GeorgySerga","Number":"59176","RawContent":null,"Title":"Incorrect parsing of complex selectors inside `:host-context`","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncompiler\n\n### Is this a regression?\n\nNo\n\n### Description\n\nBasically the expectation is:\n```\n    expect(shim(':host-context(:where(.foo:not(.bar))) {}', 'contenta', 'hosta')).toEqualCss(\n      ':where(.foo:not(.bar))[hosta], :where(.foo:not(.bar)) [hosta] {}',\n    );\n```\n\nBut it returns `([hosta]:where(.foo:not(.bar))) {}`. It looks like the regular expression which is used here doesn't parse nested selectors with parenthesis (i.e. `:not()` within ':where()`) correctly.\n\n### Please provide a link to a minimal reproduction of the bug\n\nRun the tests with `yarn test packages/compiler/test:test`, adding the test case above to the list.\n\n### Please provide the exception or error you saw\n\n```true\n\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nReproducible among different versions.\n```\n\n### Anything else?\n\nI tried it with and without recent changes to the compiler, that changed the way `:where` and `:host-context` are being parsed, the result is identical between the versions.","Url":"https://github.com/angular/angular/issues/59176","RelatedDescription":"Open issue \"Incorrect parsing of complex selectors inside `:host-context`\" (#59176)"},{"Id":"2736583259","IsPullRequest":true,"CreatedAt":"2024-12-12T22:55:34","Actor":"thePunderWoman","Number":"59173","RawContent":null,"Title":"fix(core): Fix nested timer serialization","State":"closed","Body":"There were type mismatches and or unintended any types that were preventing nested timers from accessing the delay value during hydration annotation processing.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n","Url":"https://github.com/angular/angular/pull/59173","RelatedDescription":"Closed or merged PR \"fix(core): Fix nested timer serialization\" (#59173)"},{"Id":"2735585184","IsPullRequest":true,"CreatedAt":"2024-12-12T22:54:53","Actor":"alan-agius4","Number":"59170","RawContent":null,"Title":"perf(docs-infra): improve app configuration","State":"closed","Body":"- Remove trailing slash redirect (e.g., /overview no longer redirects to /overview/).\r\n- Update static file matching: Resolves an issue where hashed files were being cached for up to 1 hour.\r\n","Url":"https://github.com/angular/angular/pull/59170","RelatedDescription":"Closed or merged PR \"perf(docs-infra): improve app configuration\" (#59170)"},{"Id":"2734066122","IsPullRequest":true,"CreatedAt":"2024-12-12T22:54:03","Actor":"thePunderWoman","Number":"59158","RawContent":null,"Title":"refactor(core): replace regexp in incremental hydration","State":"closed","Body":"This swaps the regular expression for a string split instead.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Refactoring (no functional changes, no api changes)\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n","Url":"https://github.com/angular/angular/pull/59158","RelatedDescription":"Closed or merged PR \"refactor(core): replace regexp in incremental hydration\" (#59158)"},{"Id":"2737015227","IsPullRequest":true,"CreatedAt":"2024-12-12T22:42:24","Actor":"AndrewKushnir","Number":"59175","RawContent":null,"Title":"Bump version to \"v19.1.0-next.3\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular/pull/59175","RelatedDescription":"Closed or merged PR \"Bump version to \"v19.1.0-next.3\" with changelog.\" (#59175)"},{"Id":"2735454680","IsPullRequest":true,"CreatedAt":"2024-12-12T22:33:09","Actor":"alxhub","Number":"59168","RawContent":null,"Title":"docs: release notes for the v19.0.4 release","State":"closed","Body":"Cherry-picks the changelog from the \"19.0.x\" branch to the next branch (main).","Url":"https://github.com/angular/angular/pull/59168","RelatedDescription":"Closed or merged PR \"docs: release notes for the v19.0.4 release\" (#59168)"},{"Id":"2736392325","IsPullRequest":false,"CreatedAt":"2024-12-12T16:39:54","Actor":"LeLunZ","Number":"59172","RawContent":null,"Title":"Inconsistency between \"Accessing query parameters and fragments\" headline and provided example","State":"open","Body":"### Describe the problem that you experienced\n\nThe current documentation under the headline \"Accessing query parameters and fragments\" does not actually demonstrate how to handle query parameters or fragments. Instead, it focuses on accessing a route (path) parameter and navigating to a route with a path parameter.\n\nFor example, the text states:\n\n\"Sometimes, a feature of your application requires accessing a part of a route, such as a query parameter or a fragment.\"\nHowever, the example and code snippets only show how to retrieve a path parameter (e.g., hero/:id) and do not include any instructions or examples related to query parameters (?key=value) or URL fragments (#fragment).\n\n\nI think, accessing all 3 kind of parameters is important and should be explained on the \"Common Routing Tasks\" page.\n\n### Enter the URL of the topic with the problem\n\nhttps://angular.dev/guide/routing/common-router-tasks#accessing-query-parameters-and-fragments\n\n### Describe what you were looking for in the documentation\n\nI was into the guide, how the docs use Path Params, Query Params and Fragments. \nEspecially, because the `ActivatedRoute` has a `queryParamMap` and a `paramMap` (and not a pathParamMap).\n\n\n### Describe the actions that led you to experience the problem\n\nits the default.\n\n### Describe what you want to experience that would fix the problem\n\nI think, accessing all 3 kind of parameters is important and should be explained on the \"Common Routing Tasks\" page.\n\n### Add a screenshot if that helps illustrate the problem\n\n_No response_\n\n### If this problem caused an exception or error, please paste it here\n\n```true\n\n```\n\n### If the problem is browser-specific, please specify the device, OS, browser, and version\n\n```true\n\n```\n\n### Provide any additional information here in as much as detail as you can\n\n```true\n\n```","Url":"https://github.com/angular/angular/issues/59172","RelatedDescription":"Open issue \"Inconsistency between \"Accessing query parameters and fragments\" headline and provided example\" (#59172)"},{"Id":"2736026389","IsPullRequest":false,"CreatedAt":"2024-12-12T14:10:23","Actor":"vz-tl","Number":"59171","RawContent":null,"Title":"Impacting issues preventing to use Angular client Hydration in production","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\nplatform-browser\n\n### Is this a regression?\n\nYes\n\n### Description\n\nHello Angular team,\n\nin the past weeks i spent quite some time in preparing our enterprise application being ready to make use of Angular Client Hydration feature, which is a real great effort in improving SSR-based application performance. But unfortunately, I encountered several issues, I partially could manage to overcome, but some of them are so serious, that finally we decided, to not continue with enabling hydration in a production environment!\n\nFirst, I've to say, that the requirements for Angular to do a successful hydration are quite strict. Honestly they feel over the top! From my perspective, Angular behaves far too picky in this regards, leading to the whole app bailing out if some requirements aren't met. Below just the most important examples, I came across while trying to prepare our app becoming hydration ready (there were even more but rather negligible issues I won't mention, as we could at least somehow deal with them):\n\n**1. Markup Validity**\nAccording to https://angular.dev/guide/hydration#valid-html-structure , Angular expects a valid html markup for rehydration. But in fact, a table without `<tbody/>` is not really invalid markup! Same for other things like having an anchor inside a heading. Of course i agree, those things should be avoided, but it's not invalid per se. Hence, this shouldn't be a reason for Angular to break app execution while rehydrating. As this requirement can be met quite easily by updating the markup, I don't assess it as impacting, but it's still causing risk of breaking the app.\n\n**2. Markup differences on client-side**\nAngular Client Hydration demands, that server-side rendered markup **must not** become altered / be different before rendering / trying to rehydrate the app on client-side. Even though I partially understand this requirement, it's really difficult and partially even impossible to guarantee there won't be any changes made to the SSR markup before hydration. \n\nFor example, we have several scenarios, where the app renders markup on sever-side optimized for mobile as well as desktop breakpoints. Usually, we try to implement responsive layouts purely based on CSS, but in some cases, it simply doesn't work. Worst case we'll end up with having some parts of the layout duplicated, one for desktop and one for mobile breakpoint, so once the page is being rendered in the browser before the app initializes, there won't be an ugly flash caused by restructuring the markup after breakpoint could become properly evaluated by client-side logic. \nKeep in mind, that it's not possible on server-side to determine the breakpoint / viewport dimensions, once page is being rendered in the browser.\nEven with small differences, like when a link would become rendered server-side as an `<a/>` tag, but on client-side it would become changed to a `<button/>`, Angular starts to duplicate the view elements, leaving the SSR rendered anchor in the DOM but just appending a new button, instead of replacing the anchor. In this case we had to turn off rehydration for the affected component by applying `ngSkipHydration` directive, in order to solve the problem. I fully get the point, that in such scenario Angular anyway needs to re-render the component view, but it would be far better, if it would just recognize the difference and simply re-render the view in a correct way, instead of leaving orphaned SSR-markup in the view, if hydraton isn't explicitly configured to skip hydration for this particular component.\n\nBut what finally lead to the decision not being able to enable hydration in production was the fact, that when loading the page with having GTM included, and 3rd party script includes were added **before** the app starting to rehydrate, app execution broke just because markup was altered due to the inserted script tag! Same could happen when running A/B testing experiments, that by nature will also alter page contents.\nI think it's absolutely clear that every professional enterprise website has to make use of tracking, accomplished by injecting 3rd party scripts into the page. That's common practice and cannot be avoided, as it's simply a business demand! And I don't see any chance to prevent those external scripts being injected **after** Angular hydration has been done. Hence we cannot guarantee, the app to continue working as expected while enabling hydration, with still continuing to inject 3rd party script scripts modifying the DOM. \n\nI highly appreciate all the recent efforts, Angular team spent on improving SSR capabilities, but with the current state of maturity, I cannot assess Client Hydration being production ready. I hope you get my points and also agree, that hydration feature needs to be less strict and more forgiving, not leading to a full app execution failure in case some requirements aren't met, instead handling such cases gracefully by just recreating the affected markup like it would be without using hydration.\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\n\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 18.2.8\nNode: 20.18.0\nPackage Manager: npm 10.8.2\nOS: linux x64\n\nAngular: 18.2.8\n... animations, cdk, cli, common, compiler, compiler-cli, core\n... forms, language-service, platform-browser\n... platform-browser-dynamic, platform-server, router, ssr\n... youtube-player\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1802.8\n@angular-devkit/build-angular   18.2.8\n@angular-devkit/core            18.2.8\n@angular-devkit/schematics      18.2.8\n@angular/google-maps            18.2.8\n@schematics/angular             18.2.8\nng-packagr                      18.2.1\nrxjs                            7.8.1\ntypescript                      5.5.4\nzone.js                         0.15.0\n```\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/59171","RelatedDescription":"Open issue \"Impacting issues preventing to use Angular client Hydration in production\" (#59171)"},{"Id":"2735447821","IsPullRequest":true,"CreatedAt":"2024-12-12T10:08:53","Actor":"alxhub","Number":"59167","RawContent":null,"Title":"Bump version to \"v19.0.4\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular/pull/59167","RelatedDescription":"Closed or merged PR \"Bump version to \"v19.0.4\" with changelog.\" (#59167)"},{"Id":"2735034180","IsPullRequest":true,"CreatedAt":"2024-12-12T06:59:32","Actor":"htaebi","Number":"59163","RawContent":null,"Title":"Update anatomy-of-components.md","State":"open","Body":"write selector of UserProfile Component\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.dev application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/59163","RelatedDescription":"Open PR \"Update anatomy-of-components.md\" (#59163)"},{"Id":"2735029213","IsPullRequest":true,"CreatedAt":"2024-12-12T06:56:25","Actor":"Gitrhyme","Number":"59162","RawContent":null,"Title":"docs: fix all brokens links on the API pages","State":"open","Body":"This PR fix is for the broken links on the API\r\npages mentioned in issue #57591. The fix works \r\nby replacing automatic linking with markdown links\r\nfor respective warning packages.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.dev application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: #57591\r\n\r\n\r\n## What is the new behavior?\r\nNo more broken link warnings.\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\nNA\r\n","Url":"https://github.com/angular/angular/pull/59162","RelatedDescription":"Open PR \"docs: fix all brokens links on the API pages\" (#59162)"},{"Id":"2734436820","IsPullRequest":false,"CreatedAt":"2024-12-12T06:30:21","Actor":"Shrinivassab","Number":"59161","RawContent":null,"Title":"Enhancement: Remove redundant standalone: false property from components and verify dual <ng-content> usage","State":"closed","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\n\ncore, compiler\n\n### Description\n\nI identified an area of improvement in the Angular project where the `standalone: false` property is used in component decorators, even though it is the default value and can be omitted to streamline the code.\n\nAdditionally, we have a component (`CompleteComponent`) that uses two `<ng-content></ng-content>` tags, and we want to ensure this is intentional and doesn't lead to unexpected behavior.\n\n### Proposed solution\n\nRemove the `standalone: false` property from all relevant component decorators to clean up the code.\n\nReview and confirm the necessity and functionality of having two `<ng-content></ng-content>` tags in the `CompleteComponent`.\n\n### Alternatives considered\n\nLeaving the `standalone: false` property in the code, though it results in unnecessary redundancy.\n\nUsing a single `<ng-content>` tag if the dual usage is not required, simplifying the component's template.\n\nBy making these enhancements, we aim to improve code clarity and maintainability, ensuring that the usage of Angular's features is both intentional and optimal.","Url":"https://github.com/angular/angular/issues/59161","RelatedDescription":"Closed issue \"Enhancement: Remove redundant standalone: false property from components and verify dual <ng-content> usage\" (#59161)"},{"Id":"2734128313","IsPullRequest":false,"CreatedAt":"2024-12-11T22:07:19","Actor":"jelbourn","Number":"59160","RawContent":null,"Title":"Using a backtick in a template expression should give a better error message","State":"open","Body":"If you use a backtick (`` ` ``) character in a template expression, Angular reports an error like\n\n``Unexpected character [`] ``\n\nIt would be nice if this could instead say something like\n```\nAngular template expressions to not support template string literals.\n\nUnexpected character [`] at column ...\n```","Url":"https://github.com/angular/angular/issues/59160","RelatedDescription":"Open issue \"Using a backtick in a template expression should give a better error message\" (#59160)"},{"Id":"2734107256","IsPullRequest":true,"CreatedAt":"2024-12-11T21:54:26","Actor":"kkninjae","Number":"59159","RawContent":null,"Title":"docs: replace NgIf with new template syntax @if","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.dev application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/59159","RelatedDescription":"Open PR \"docs: replace NgIf with new template syntax @if\" (#59159)"}],"ResultType":"GitHubIssue"},"AngularCli-Issues":{"Issues":[{"Id":"2739436114","IsPullRequest":false,"CreatedAt":"2024-12-14T01:27:35","Actor":"thiagosoutodev","Number":"29132","RawContent":null,"Title":"Children routes triggering Vite log error: '[vite] Pre-transform error: Failed to load url'","State":"open","Body":"### Command\n\nserve\n\n### Is this a regression?\n\n- [x] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n19.0.0-next.1\n\n### Description:\nCreated new Angular standard SSR project (without the developer preview features) with 19.0.2 CLI about two weeks ago. But I only started to develop its features and routes today. Then I found this minor bug: when my path is redirected to a child route or when I refresh the child route's webpage, I keep getting vite log erros in my VSCode terminal (check 'Exception or Error' section further down).\n\n![Image](https://github.com/user-attachments/assets/23fbccce-09e2-49ca-969e-9c7409a3ba14)\n\nThis won't happen with routes that are notnested (that are not child or grandchild routes). I also tested without lazy-loading the children routes, and the problem persists. Another thing: the error also appears even if the route is not nested through the children or loadChildren properties, but simply by its path string, for example:\n\n```ts\nexport const appRoutes: Routes = [\n  {\n    path: 'user/profile',\n    pathMatch: 'full',\n    component: ProfileComponent\n  },\n];\n\n```\n\nNonetheless, the application seems to work normally, but I couldn't test a lot since there is not a lot of features yet in my application. If I run `ng build` and run the SSR default script `node dist/{project-name}/server/server.mjs`, there are no error logs at all.\n\nOne thing that is interesting to mention is that if you look into my code, my application is set to redirect the root path to the authentication module, which has its own `<router-outlet />`, and then the module redirects the user to the 'authentication/login'. So, when I run `ng serve` and access `http://localhost:4200`, I go directly to the mentioned login route and page, and I see the Vite error log. But, if I remove the root route redirect to 'authentication' and create a navbar inside `app.component.html` with a routerLink property that targets the child route 'authentication/login', the first time the page is rendered, I see no error log, but if I refresh the page, Vite logs it in the console.\n\n### My Code:\n`src/app/app.routes.ts`\n```ts\nimport { Routes } from '@angular/router';\n\nexport const appRoutes: Routes = [\n  {\n    path: '',\n    pathMatch: 'full',\n    redirectTo: 'authentication',\n  },\n  {\n    path: 'authentication',\n    loadChildren: () =>\n      import('./features/auth/presentation/shell/auth-shell.routes').then(\n        (m) => m.authRoutes\n      ),\n  },\n];\n```\n\n`src\\app\\features\\auth\\presentation\\shell\\auth-shell.routes.ts`\n```ts\nimport { Routes } from '@angular/router';\n\nimport { makeBrowserPageTitle } from '@shared/presentation/utils/make-browser-page-title';\n\nimport { AuthLoginPageComponent } from '../pages/login/auth-login-page.component';\n\nimport { AuthShellComponent } from './auth-shell.component';\n\nexport const authRoutes: Routes = [\n  {\n    path: '',\n    component: AuthShellComponent,\n    children: [\n      {\n        path: '',\n        pathMatch: 'full',\n        redirectTo: 'login',\n      },\n      {\n        path: 'login',\n        pathMatch: 'full',\n        component: AuthLoginPageComponent,\n        title: makeBrowserPageTitle({ beginningText: 'Login' }),\n      },\n    ],\n  },\n];\n\n```\n\n`angular.json`\n```json\n{\n  \"$schema\": \"./node_modules/@angular/cli/lib/config/schema.json\",\n  \"version\": 1,\n  \"newProjectRoot\": \"projects\",\n  \"projects\": {\n    \"{project-name}\": {\n      \"projectType\": \"application\",\n      \"schematics\": {\n        \"@schematics/angular:component\": {\n          \"style\": \"scss\"\n        }\n      },\n      \"root\": \"\",\n      \"sourceRoot\": \"src\",\n      \"prefix\": \"app\",\n      \"architect\": {\n        \"build\": {\n          \"builder\": \"@angular-devkit/build-angular:application\",\n          \"options\": {\n            \"outputPath\": \"dist/{project-name}\",\n            \"index\": \"src/index.html\",\n            \"browser\": \"src/main.ts\",\n            \"polyfills\": [\"zone.js\"],\n            \"tsConfig\": \"tsconfig.app.json\",\n            \"inlineStyleLanguage\": \"scss\",\n            \"assets\": [\n              {\n                \"glob\": \"**/*\",\n                \"input\": \"public\"\n              }\n            ],\n            \"styles\": [\"src/styles.scss\"],\n            \"stylePreprocessorOptions\": {\n              \"includePaths\": [\"src/app/resources/scss/partials\"]\n            },\n            \"scripts\": [],\n            \"server\": \"src/main.server.ts\",\n            \"prerender\": true,\n            \"ssr\": {\n              \"entry\": \"src/server.ts\"\n            }\n          },\n          \"configurations\": {\n            \"production\": {\n              \"budgets\": [\n                {\n                  \"type\": \"initial\",\n                  \"maximumWarning\": \"500kB\",\n                  \"maximumError\": \"1MB\"\n                },\n                {\n                  \"type\": \"anyComponentStyle\",\n                  \"maximumWarning\": \"4kB\",\n                  \"maximumError\": \"8kB\"\n                }\n              ],\n              \"outputHashing\": \"all\"\n            },\n            \"development\": {\n              \"optimization\": false,\n              \"extractLicenses\": false,\n              \"sourceMap\": true,\n              \"fileReplacements\": [\n                {\n                  \"replace\": \"src/environments/environment.ts\",\n                  \"with\": \"src/environments/environment.development.ts\"\n                }\n              ]\n            }\n          },\n          \"defaultConfiguration\": \"production\"\n        },\n        \"serve\": {\n          \"builder\": \"@angular-devkit/build-angular:dev-server\",\n          \"configurations\": {\n            \"production\": {\n              \"buildTarget\": \"{project-name}:build:production\"\n            },\n            \"development\": {\n              \"buildTarget\": \"{project-name}:build:development\"\n            }\n          },\n          \"defaultConfiguration\": \"development\"\n        },\n        \"extract-i18n\": {\n          \"builder\": \"@angular-devkit/build-angular:extract-i18n\"\n        },\n        \"test\": {\n          \"builder\": \"@angular-devkit/build-angular:karma\",\n          \"options\": {\n            \"polyfills\": [\"zone.js\", \"zone.js/testing\"],\n            \"tsConfig\": \"tsconfig.spec.json\",\n            \"inlineStyleLanguage\": \"scss\",\n            \"assets\": [\n              {\n                \"glob\": \"**/*\",\n                \"input\": \"public\"\n              }\n            ],\n            \"styles\": [\"src/styles.scss\"],\n            \"scripts\": []\n          }\n        },\n        \"lint\": {\n          \"builder\": \"@angular-eslint/builder:lint\",\n          \"options\": {\n            \"lintFilePatterns\": [\"src/**/*.ts\", \"src/**/*.html\"]\n          }\n        }\n      }\n    }\n  },\n  \"cli\": {\n    \"schematicCollections\": [\"angular-eslint\"]\n  }\n}\n\n```\n\n### Minimal Reproduction\n\nI created a repository that replicates the problem: [ng-19.0.2-vite-pre-transformer-error](https://github.com/thiagosoutodev/ng-19.0.2-vite-pre-transformer-error). Git clone the repo to your machine and run the commands:\n\n*Make sure you have Node 22, Angular CLI 19 and pnpm 9 installed):\n\n```\npnpm install\n\nng serve\n```\n\nThen, access `http://localhost:4200` in your browser and navigate through the links on the top left of screen while watching your running terminal.\n\n### Exception or Error\n\n```text\n19:32:36 [vite] Pre-transform error: Failed to load url /authentication/polyfills.js (resolved id: /authentication/polyfills.js). Does the file exist?\n19:32:36 [vite] Pre-transform error: Failed to load url /authentication/main.js (resolved id: /authentication/main.js). Does the file exist?\n```\n\n### Your Environment\n\n```text\n_                      _                 ____ _     ___\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\n                |___/\n    \n\nAngular CLI: 19.0.2\nNode: 22.11.0\nPackage Manager: pnpm 9.14.4\nOS: win32 x64\n\nAngular: 19.0.1\n... animations, common, compiler, compiler-cli, core, forms\n... platform-browser, platform-browser-dynamic, platform-server\n... router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1900.2 (cli-only)\n@angular-devkit/build-angular   19.0.2\n@angular-devkit/core            19.0.2 (cli-only)\n@angular-devkit/schematics      19.0.2 (cli-only)\n@angular/cdk                    19.0.2\n@angular/cli                    19.0.2\n@angular/material               19.0.2\n@angular/ssr                    19.0.2\n@schematics/angular             19.0.2 (cli-only)\nrxjs                            7.8.1\ntypescript                      5.6.3\nzone.js                         0.15.0\n```\n\n### Anything else relevant?\n\nPrevious mentions of similar bugs and their PRs with fixes:\n\na)\n- Issue #28442\n- PR #28463 \n\nb)\n- Issue #26897\n- PR #26913","Url":"https://github.com/angular/angular-cli/issues/29132","RelatedDescription":"Open issue \"Children routes triggering Vite log error: '[vite] Pre-transform error: Failed to load url'\" (#29132)"},{"Id":"2731399577","IsPullRequest":true,"CreatedAt":"2024-12-13T20:12:07","Actor":"jkrems","Number":"29104","RawContent":null,"Title":"fix(@angular-devkit/build-angular): jasmine.clock with app builder","State":"closed","Body":"Ports the logic from WTR and webpack and adds a regression test for this behavior.\r\n\r\nFixes https://github.com/angular/angular-cli/issues/28813","Url":"https://github.com/angular/angular-cli/pull/29104","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): jasmine.clock with app builder\" (#29104)"},{"Id":"2737503037","IsPullRequest":true,"CreatedAt":"2024-12-13T19:30:46","Actor":"angular-robot","Number":"29126","RawContent":null,"Title":"build: update angular","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@angular/animations](https://redirect.github.com/angular/animations-builds) | dependencies | digest | `360f859` -> `140f33a` |\n| [@angular/animations](https://redirect.github.com/angular/angular) ([source](https://redirect.github.com/angular/angular/tree/HEAD/packages/animations)) | devDependencies | patch | [`19.1.0-next.2` -> `19.1.0-next.3`](https://renovatebot.com/diffs/npm/@angular%2fanimations/19.1.0-next.2/19.1.0-next.3) |\n| [@angular/build-tooling](https://redirect.github.com/angular/dev-infra-private-build-tooling-builds) | devDependencies | digest | `8aff236` -> `d17f802` |\n| [@angular/cdk](https://redirect.github.com/angular/cdk-builds) | dependencies | digest | `b8d8875` -> `c95182e` |\n| [@angular/common](https://redirect.github.com/angular/common-builds) | dependencies | digest | `ad555c8` -> `217b185` |\n| [@angular/common](https://redirect.github.com/angular/angular) ([source](https://redirect.github.com/angular/angular/tree/HEAD/packages/common)) | devDependencies | patch | [`19.1.0-next.2` -> `19.1.0-next.3`](https://renovatebot.com/diffs/npm/@angular%2fcommon/19.1.0-next.2/19.1.0-next.3) |\n| [@angular/compiler](https://redirect.github.com/angular/compiler-builds) | dependencies | digest | `278f089` -> `16846a8` |\n| [@angular/compiler](https://redirect.github.com/angular/angular) ([source](https://redirect.github.com/angular/angular/tree/HEAD/packages/compiler)) | devDependencies | patch | [`19.1.0-next.2` -> `19.1.0-next.3`](https://renovatebot.com/diffs/npm/@angular%2fcompiler/19.1.0-next.2/19.1.0-next.3) |\n| [@angular/compiler-cli](https://redirect.github.com/angular/compiler-cli-builds) | dependencies | digest | `0b7ba32` -> `e6166da` |\n| [@angular/compiler-cli](https://redirect.github.com/angular/angular/tree/main/packages/compiler-cli) ([source](https://redirect.github.com/angular/angular/tree/HEAD/packages/compiler-cli)) | devDependencies | patch | [`19.1.0-next.2` -> `19.1.0-next.3`](https://renovatebot.com/diffs/npm/@angular%2fcompiler-cli/19.1.0-next.2/19.1.0-next.3) |\n| [@angular/core](https://redirect.github.com/angular/core-builds) | dependencies | digest | `223c02b` -> `6f0376b` |\n| [@angular/core](https://redirect.github.com/angular/angular) ([source](https://redirect.github.com/angular/angular/tree/HEAD/packages/core)) | devDependencies | patch | [`19.1.0-next.2` -> `19.1.0-next.3`](https://renovatebot.com/diffs/npm/@angular%2fcore/19.1.0-next.2/19.1.0-next.3) |\n| [@angular/forms](https://redirect.github.com/angular/forms-builds) | dependencies | digest | `1b83038` -> `9a52635` |\n| [@angular/forms](https://redirect.github.com/angular/angular) ([source](https://redirect.github.com/angular/angular/tree/HEAD/packages/forms)) | devDependencies | patch | [`19.1.0-next.2` -> `19.1.0-next.3`](https://renovatebot.com/diffs/npm/@angular%2fforms/19.1.0-next.2/19.1.0-next.3) |\n| [@angular/language-service](https://redirect.github.com/angular/language-service-builds) | dependencies | digest | `568dc6a` -> `0d020c3` |\n| [@angular/localize](https://redirect.github.com/angular/localize-builds) | dependencies | digest | `28c321d` -> `4ae8b2f` |\n| [@angular/localize](https://redirect.github.com/angular/angular) | devDependencies | patch | [`19.1.0-next.2` -> `19.1.0-next.3`](https://renovatebot.com/diffs/npm/@angular%2flocalize/19.1.0-next.2/19.1.0-next.3) |\n| [@angular/material](https://redirect.github.com/angular/material-builds) | dependencies | digest | `b5aa289` -> `b4208f2` |\n| [@angular/material-moment-adapter](https://redirect.github.com/angular/material-moment-adapter-builds) | dependencies | digest | `4a5a030` -> `ca06719` |\n| [@angular/ng-dev](https://redirect.github.com/angular/dev-infra-private-ng-dev-builds) | devDependencies | digest | `e0bc0d1` -> `fe9dde0` |\n| [@angular/platform-browser](https://redirect.github.com/angular/platform-browser-builds) | dependencies | digest | `b389e98` -> `a9de245` |\n| [@angular/platform-browser](https://redirect.github.com/angular/angular) ([source](https://redirect.github.com/angular/angular/tree/HEAD/packages/platform-browser)) | devDependencies | patch | [`19.1.0-next.2` -> `19.1.0-next.3`](https://renovatebot.com/diffs/npm/@angular%2fplatform-browser/19.1.0-next.2/19.1.0-next.3) |\n| [@angular/platform-browser-dynamic](https://redirect.github.com/angular/platform-browser-dynamic-builds) | dependencies | digest | `98a5c93` -> `4749ba8` |\n| [@angular/platform-browser-dynamic](https://redirect.github.com/angular/angular) ([source](https://redirect.github.com/angular/angular/tree/HEAD/packages/platform-browser-dynamic)) | devDependencies | patch | [`19.1.0-next.2` -> `19.1.0-next.3`](https://renovatebot.com/diffs/npm/@angular%2fplatform-browser-dynamic/19.1.0-next.2/19.1.0-next.3) |\n| [@angular/platform-server](https://redirect.github.com/angular/platform-server-builds) | dependencies | digest | `e3de850` -> `4054c8e` |\n| [@angular/platform-server](https://redirect.github.com/angular/angular) ([source](https://redirect.github.com/angular/angular/tree/HEAD/packages/platform-server)) | devDependencies | patch | [`19.1.0-next.2` -> `19.1.0-next.3`](https://renovatebot.com/diffs/npm/@angular%2fplatform-server/19.1.0-next.2/19.1.0-next.3) |\n| [@angular/router](https://redirect.github.com/angular/router-builds) | dependencies | digest | `d907824` -> `b5ca3c8` |\n| [@angular/router](https://redirect.github.com/angular/angular/tree/main/packages/router) ([source](https://redirect.github.com/angular/angular/tree/HEAD/packages/router)) | devDependencies | patch | [`19.1.0-next.2` -> `19.1.0-next.3`](https://renovatebot.com/diffs/npm/@angular%2frouter/19.1.0-next.2/19.1.0-next.3) |\n| [@angular/service-worker](https://redirect.github.com/angular/service-worker-builds) | dependencies | digest | `524a1d3` -> `8647cb5` |\n| [@angular/service-worker](https://redirect.github.com/angular/angular) ([source](https://redirect.github.com/angular/angular/tree/HEAD/packages/service-worker)) | devDependencies | patch | [`19.1.0-next.2` -> `19.1.0-next.3`](https://renovatebot.com/diffs/npm/@angular%2fservice-worker/19.1.0-next.2/19.1.0-next.3) |\n| angular/dev-infra | action | digest | `dc20101` -> `4693145` |\n\n🔡 If you wish to disable git hash updates, add `\":disableDigestUpdates\"` to the extends array in your config.\n\n---\n\n### Release Notes\n\n<details>\n<summary>angular/angular (@&#8203;angular/animations)</summary>\n\n### [`v19.1.0-next.3`](https://redirect.github.com/angular/angular/blob/HEAD/CHANGELOG.md#1910-next3-2024-12-12)\n\n[Compare Source](https://redirect.github.com/angular/angular/compare/19.1.0-next.2...19.1.0-next.3)\n\n##### compiler-cli\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [c5c20e9d86](https://redirect.github.com/angular/angular/commit/c5c20e9d86d72b33840dcf0adea02876437a589f) | fix | check event side of two-way bindings ([#&#8203;59002](https://redirect.github.com/angular/angular/pull/59002)) |\n| [0dee2681f7](https://redirect.github.com/angular/angular/commit/0dee2681f782106fdb0fdcf9bc6ad1bca562751d) | fix | consider pre-release versions when detecting feature support ([#&#8203;59061](https://redirect.github.com/angular/angular/pull/59061)) |\n| [1b9492edf8](https://redirect.github.com/angular/angular/commit/1b9492edf88f8a217c0fd1a8203df489d91b623b) | fix | error in unused standalone imports diagnostic ([#&#8203;59064](https://redirect.github.com/angular/angular/pull/59064)) |\n\n##### core\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [d010e11b73](https://redirect.github.com/angular/angular/commit/d010e11b735562ded439989ddb84cc83c6c00e81) | feat | add event listener options to renderer ([#&#8203;59092](https://redirect.github.com/angular/angular/pull/59092)) |\n| [30e676098d](https://redirect.github.com/angular/angular/commit/30e676098d72e9e11a6628b9716668df08f18c62) | fix | Fix a bug where snapshotted functions are being run twice if they return a nullish/falsey value. ([#&#8203;59073](https://redirect.github.com/angular/angular/pull/59073)) |\n\n##### platform-browser\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [52be35118f](https://redirect.github.com/angular/angular/commit/52be35118feee587d2efe5a6c55502c171caaa97) | fix | collect external component styles from server rendering ([#&#8203;59031](https://redirect.github.com/angular/angular/pull/59031)) |\n\n<!-- CHANGELOG SPLIT MARKER -->\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://redirect.github.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://redirect.github.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzOS42Mi42IiwidXBkYXRlZEluVmVyIjoiMzkuNjIuNiIsInRhcmdldEJyYW5jaCI6Im1haW4iLCJsYWJlbHMiOlsiYWN0aW9uOiBtZXJnZSIsInRhcmdldDogbWlub3IiXX0=-->\n","Url":"https://github.com/angular/angular-cli/pull/29126","RelatedDescription":"Closed or merged PR \"build: update angular\" (#29126)"},{"Id":"2737642413","IsPullRequest":true,"CreatedAt":"2024-12-13T19:22:39","Actor":"angular-robot","Number":"29128","RawContent":null,"Title":"build: update dependency sass to v1.83.0","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [sass](https://redirect.github.com/sass/dart-sass) | dependencies | minor | [`1.82.0` -> `1.83.0`](https://renovatebot.com/diffs/npm/sass/1.82.0/1.83.0) |\n| [sass](https://redirect.github.com/sass/dart-sass) | devDependencies | minor | [`1.82.0` -> `1.83.0`](https://renovatebot.com/diffs/npm/sass/1.82.0/1.83.0) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>sass/dart-sass (sass)</summary>\n\n### [`v1.83.0`](https://redirect.github.com/sass/dart-sass/blob/HEAD/CHANGELOG.md#1830)\n\n[Compare Source](https://redirect.github.com/sass/dart-sass/compare/1.82.0...1.83.0)\n\n-   Allow trailing commas in *all* argument and parameter lists.\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n🔕 **Ignore**: Close this PR and you won't be reminded about these updates again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://redirect.github.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzOS42Mi42IiwidXBkYXRlZEluVmVyIjoiMzkuNjIuNiIsInRhcmdldEJyYW5jaCI6Im1haW4iLCJsYWJlbHMiOlsiYWN0aW9uOiBtZXJnZSIsInRhcmdldDogbWlub3IiXX0=-->\n","Url":"https://github.com/angular/angular-cli/pull/29128","RelatedDescription":"Closed or merged PR \"build: update dependency sass to v1.83.0\" (#29128)"},{"Id":"2737503079","IsPullRequest":true,"CreatedAt":"2024-12-13T19:22:20","Actor":"angular-robot","Number":"29127","RawContent":null,"Title":"build: update github/codeql-action action to v3.27.9","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [github/codeql-action](https://redirect.github.com/github/codeql-action) | action | patch | `v3.27.7` -> `v3.27.9` |\n\n---\n\n### Release Notes\n\n<details>\n<summary>github/codeql-action (github/codeql-action)</summary>\n\n### [`v3.27.9`](https://redirect.github.com/github/codeql-action/releases/tag/v3.27.9)\n\n[Compare Source](https://redirect.github.com/github/codeql-action/compare/v3.27.8...v3.27.9)\n\n### CodeQL Action Changelog\n\nSee the [releases page](https://redirect.github.com/github/codeql-action/releases) for the relevant changes to the CodeQL CLI and language packs.\n\nNote that the only difference between `v2` and `v3` of the CodeQL Action is the node version they support, with `v3` running on node 20 while we continue to release `v2` to support running on node 16. For example `3.22.11` was the first `v3` release and is functionally identical to `2.22.11`. This approach ensures an easy way to track exactly which features are included in different versions, indicated by the minor and patch version numbers.\n\n#### 3.27.9 - 12 Dec 2024\n\nNo user facing changes.\n\nSee the full [CHANGELOG.md](https://redirect.github.com/github/codeql-action/blob/v3.27.9/CHANGELOG.md) for more information.\n\n### [`v3.27.8`](https://redirect.github.com/github/codeql-action/compare/v3.27.7...v3.27.8)\n\n[Compare Source](https://redirect.github.com/github/codeql-action/compare/v3.27.7...v3.27.8)\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n🔕 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://redirect.github.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzOS42Mi42IiwidXBkYXRlZEluVmVyIjoiMzkuNjIuNiIsInRhcmdldEJyYW5jaCI6Im1haW4iLCJsYWJlbHMiOlsiYWN0aW9uOiBtZXJnZSIsInRhcmdldDogbWlub3IiXX0=-->\n","Url":"https://github.com/angular/angular-cli/pull/29127","RelatedDescription":"Closed or merged PR \"build: update github/codeql-action action to v3.27.9\" (#29127)"},{"Id":"2738840147","IsPullRequest":false,"CreatedAt":"2024-12-13T17:12:53","Actor":"stewieoO","Number":"29131","RawContent":null,"Title":"Component bootstrapping during route extraction is not disabled when using provideAppInitializer()","State":"open","Body":"### Command\n\nserve, build\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nThe issue of component bootstrapping was discussed in #29085 and fixed in version 19.0.5 with #29101 \n\nThis generally works, except when you're using an app initializer.\n\n### Minimal Reproduction\n\nI have created a repro repo [here](https://github.com/stewieoO/angular-route-extraction-issue).\n\nWhen you `run npm` start and open the page, you can see that the console log inside the app component (and route guard) is called without a REQUEST present (indicating the route extraction process).\n\nWhen you comment out the `provideAppInitializer()` in the app.config.ts this doesn't happen anymore (as expected).\n\n### Exception or Error\n\n```text\n\n```\n\n### Your Environment\n\n```text\n_                      _                 ____ _     ___\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\n                |___/\n\n\nAngular CLI: 19.0.5\nNode: 20.11.1\nPackage Manager: pnpm 9.12.2\nOS: win32 x64\n\nAngular: 19.0.4\n... animations, common, compiler, compiler-cli, core, forms\n... platform-browser, platform-browser-dynamic, platform-server\n... router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1900.5 (cli-only)\n@angular-devkit/build-angular   19.0.5\n@angular-devkit/core            19.0.5 (cli-only)\n@angular-devkit/schematics      19.0.5 (cli-only)\n@angular/cli                    19.0.5\n@angular/ssr                    19.0.5\n@schematics/angular             19.0.5 (cli-only)\nrxjs                            7.8.1\ntypescript                      5.6.3\nzone.js                         0.15.0\n```\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/29131","RelatedDescription":"Open issue \"Component bootstrapping during route extraction is not disabled when using provideAppInitializer()\" (#29131)"},{"Id":"2737932577","IsPullRequest":false,"CreatedAt":"2024-12-13T09:27:53","Actor":"Klaster1","Number":"29129","RawContent":null,"Title":"ESBuild Karma mode run-time errors attributed to built files instead of sources","State":"open","Body":"### Command\n\ntest\n\n### Is this a regression?\n\n- [x] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nI noticed that after changing the karma builder mode from `browser` to `application`, test failures no longer link to source. Instead, they link to compiled code that is run, making debugging super cumbersome.\n\n### Minimal Reproduction\n\n1. Have a Jasmine/Karma unit test that fails.\n2. Switch the Karma build mode to `browser`.\n3. Run the test to observe how it was before and what's expected.\n4. Switch to `browser` mode.\n5. Run the test again to observe the new behavior.\n\n### Exception or Error\n\n```text\nInitial chunk files         | Names                    |  Raw size\nchunk-IOEST5I4.js           | -                        |   2.50 MB | \nspec-hint.component.spec.js | spec-hint.component.spec |   1.08 MB | \npolyfills.js                | polyfills                | 966.41 kB | \ntest_main.js                | test_main                | 709.83 kB | \nstyles.css                  | styles                   | 410.62 kB | \n\n                            | Initial total            |   5.67 MB\n\nApplication bundle generation complete. [20.621 seconds]\n\nWatch mode enabled. Watching for file changes...\nIgnoring framework \"@angular-devkit/build-angular\" from karma config file because it's not compatible with the application builder.\n13 12 2024 12:21:20.592:WARN [karma]: No captured browser, open http://localhost:9876/\n13 12 2024 12:21:20.604:INFO [karma-server]: Karma v6.3.17 server started at http://localhost:9876/\n13 12 2024 12:21:20.605:INFO [launcher]: Launching browsers ChromiumHeadless with concurrency unlimited\n13 12 2024 12:21:20.615:INFO [launcher]: Starting browser ChromiumHeadless\n13 12 2024 12:21:21.181:INFO [Chrome Headless 130.0.0.0 (Windows 10)]: Connected on socket 2G57Qwy8WbUCIspWAAAB with id 4372525\nChrome Headless 130.0.0.0 (Windows 10): Executed 0 of 5 SUCCESS (0 secs / 0 secs)\n13 12 2024 12:21:21.579:WARN [web-server]: 404: /base/frontend/dist/test-out/579ae25a-dbef-48d6-99f5-403bb0aaf925/media/material-icons-regular.woff2\nChrome Headless 130.0.0.0 (Windows 10) Hint component Opens and closes dialog FAILED\n        Expected false to equal true.\n            at <Jasmine>\n            at Object.<anonymous> (frontend/dist/test-out/579ae25a-dbef-48d6-99f5-403bb0aaf925/spec-hint.component.spec.js:23228:46)\n            at Generator.next (<anonymous>)\n            at fulfilled (frontend/dist/test-out/579ae25a-dbef-48d6-99f5-403bb0aaf925/chunk-IOEST5I4.js:66:24)\n            at _ZoneDelegate.invoke (frontend/dist/test-out/579ae25a-dbef-48d6-99f5-403bb0aaf925/polyfills.js:25701:158)\nChrome Headless 130.0.0.0 (Windows 10): Executed 1 of 5 (1 FAILED) (0 secs / 0.063 secs)\nChrome Headless 130.0.0.0 (Windows 10) Hint component Opens and closes dialog FAILED\n        Expected false to equal true.\n            at <Jasmine>\n            at Object.<anonymous> (frontend/dist/test-out/579ae25a-dbef-48d6-99f5-403bb0aaf925/spec-hint.component.spec.js:23228:46)\n            at Generator.next (<anonymous>)\n            at fulfilled (frontend/dist/test-out/579ae25a-dbef-48d6-99f5-403bb0aaf925/chunk-IOEST5I4.js:66:24)\nChrome Headless 130.0.0.0 (Windows 10): Executed 5 of 5 (1 FAILED) (0.124 secs / 0.114 secs)\nTOTAL: 1 FAILED, 4 SUCCESS\nTOTAL: 1 FAILED, 4 SUCCESS\n```\n\n### Your Environment\n\n```text\nWindows 11, @angular-devkit/build-angular 19.0.5.\n```\n\n### Anything else relevant?\n\nBefore:\n```\n✔ Browser application bundle generation complete.\n13 12 2024 12:20:34.432:WARN [karma]: No captured browser, open http://localhost:9876/\n13 12 2024 12:20:34.448:INFO [karma-server]: Karma v6.3.17 server started at http://localhost:9876/\n13 12 2024 12:20:34.449:INFO [launcher]: Launching browsers ChromiumHeadless with concurrency unlimited\n13 12 2024 12:20:34.454:INFO [launcher]: Starting browser ChromiumHeadless\n13 12 2024 12:20:35.484:INFO [Chrome Headless 130.0.0.0 (Windows 10)]: Connected on socket e49nbggjwmDXR2yWAAAB with id 23102058\nChrome Headless 130.0.0.0 (Windows 10) Hint component Opens and closes dialog FAILED\n        Expected false to equal true.\n            at <Jasmine>\n            at UserContext.<anonymous> (src/app/common/components/hint/hint.component.spec.ts:67:42)\n            at Generator.next (<anonymous>)\n            at asyncGeneratorStep (node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js:3:1)\n            at _next (node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js:17:1)\nChrome Headless 130.0.0.0 (Windows 10): Executed 1 of 5 (1 FAILED) (0 secs / 0.098 secs)\nChrome Headless 130.0.0.0 (Windows 10) Hint component Opens and closes dialog FAILED\n        Expected false to equal true.\n            at <Jasmine>\n            at UserContext.<anonymous> (src/app/common/components/hint/hint.component.spec.ts:67:42)\n            at Generator.next (<anonymous>)\n            at asyncGeneratorStep (node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js:3:1)\nChrome Headless 130.0.0.0 (Windows 10): Executed 5 of 5 (1 FAILED) (0.168 secs / 0.153 secs)\nTOTAL: 1 FAILED, 4 SUCCESS\nTOTAL: 1 FAILED, 4 SUCCESS\n```","Url":"https://github.com/angular/angular-cli/issues/29129","RelatedDescription":"Open issue \"ESBuild Karma mode run-time errors attributed to built files instead of sources\" (#29129)"},{"Id":"2735750658","IsPullRequest":false,"CreatedAt":"2024-12-13T09:09:07","Actor":"tux-rampage","Number":"29119","RawContent":null,"Title":"Angular update from 17 to 18 breaks the cli (ERR_REQUIRE_ESM)","State":"closed","Body":"### Command\n\nupdate\n\n### Is this a regression?\n\n- [x] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n17\n\n### Description\n\nAn Upgrade from Angular 17 to 18 breaks angular cli completely:\n\n```bash\nng update @angular/core@18 @angular/cli@18\n```\n\nThis command runs, and the Migration to the new Build-System is **not** enabled (opt out).\nAfter the command completed, the `ng` command is broken.\n\n```\n$ ng\nUnknown error: Error [ERR_REQUIRE_ESM]: require() of ES Module (...)/node_modules/wrap-ansi/index.js from (...)/node_modules/cliui/build/index.cjs not supported.\nInstead change the require of index.js in (...)/node_modules/cliui/build/index.cjs to a dynamic import() which is available in all CommonJS modules.\nerror Command failed with exit code 127.\n```\n\n### Minimal Reproduction\n\n- Start a Project with Angular 13.\n- Upgrade the project all the way through to Angular 17\n- On Upgrade to Angular 18 the CLI will break.\n\n\n### Exception or Error\n\n```text\nUnknown error: Error [ERR_REQUIRE_ESM]: require() of ES Module (...)/node_modules/wrap-ansi/index.js from (...)/node_modules/cliui/build/index.cjs not supported.\nInstead change the require of index.js in (...)/node_modules/cliui/build/index.cjs to a dynamic import() which is available in all CommonJS modules.\n```\n\n### Your Environment\n\n```text\nAngular CLI: 17.3.11\nNode: 20.13.1\nPackage Manager: yarn 1.22.19\nOS: linux x64\n\nAngular: 17.3.12\n... animations, common, compiler, compiler-cli, core, elements\n... forms, localize, platform-browser, platform-browser-dynamic\n... router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1703.11\n@angular-devkit/build-angular   17.3.11\n@angular-devkit/core            17.3.11\n@angular-devkit/schematics      17.3.11\n@angular/cdk                    17.3.10\n@angular/cli                    17.3.11\n@angular/material               17.3.10\n@schematics/angular             17.3.11\nrxjs                            7.8.0\ntypescript                      5.4.5\nzone.js                         0.14.10\n```\n\n### Anything else relevant?\n\nThe project was originally started with Angular 13 and incrementally upgraded up to version 17.\nNo further upgrades are possible because of this bug.","Url":"https://github.com/angular/angular-cli/issues/29119","RelatedDescription":"Closed issue \"Angular update from 17 to 18 breaks the cli (ERR_REQUIRE_ESM)\" (#29119)"},{"Id":"2736833871","IsPullRequest":false,"CreatedAt":"2024-12-12T20:35:48","Actor":"spock123","Number":"29125","RawContent":null,"Title":"[ERROR] The package \"crypto\" wasn't found on the file system but is built into node. [plugin angular-browser-node-built-in]","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nDon't known / other\n\n### Is this a regression?\n\nYes\n\n### Description\n\nAfter we have upgrade several different projects to NG19, we are getting this error, but ONLY in development mode!\nThe error does NOT show up when making a production build.\nOur projects do not directly use crypto but some of the 3rd party modules probably do (and used to work without issues).\n\n`[ERROR] The package \"crypto\" wasn't found on the file system but is built into node. [plugin angular-browser-node-built-in]`\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\nWatch mode enabled. Watching for file changes...\nNOTE: Raw file sizes do not reflect development server per-request transformations.\n  ➜  Local:   http://localhost:4000/en\n  ➜  Network: http://192.168.86.34:4000/en\n  ➜  press h + enter to show help\n✘ [ERROR] The package \"crypto\" wasn't found on the file system but is built into node. [plugin angular-browser-node-built-in]\n\n    node_modules/seedrandom/seedrandom.js:265:27:\n      265 │       nodecrypto = require('crypto');\n          ╵                            ~~~~~~~~\n\n/Users/spock/projects/fresto/apps/nexus/node_modules/vite/node_modules/esbuild/lib/main.js:1472\n  let error = new Error(text);\n              ^\n\nError: Build failed with 1 error:\nnode_modules/seedrandom/seedrandom.js:265:27: ERROR: [plugin: angular-browser-node-built-in] The package \"crypto\" wasn't found on the file system but is built into node.\n    at failureErrorWithLog (/Users/spock/projects/fresto/apps/nexus/node_modules/vite/node_modules/esbuild/lib/main.js:1472:15)\n    at /Users/spock/projects/fresto/apps/nexus/node_modules/vite/node_modules/esbuild/lib/main.js:945:25\n    at /Users/spock/projects/fresto/apps/nexus/node_modules/vite/node_modules/esbuild/lib/main.js:1353:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  errors: [Getter/Setter],\n  warnings: [Getter/Setter]\n}\n\nNode.js v20.18.0\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 19.0.4\nNode: 20.18.0\nPackage Manager: npm 10.8.2\nOS: darwin arm64\n\nAngular: 19.0.4\n... animations, build, cli, common, compiler, compiler-cli, core\n... forms, localize, platform-browser, platform-browser-dynamic\n... router, service-worker, ssr\n\nPackage                              Version\n--------------------------------------------------------------\n@angular-devkit/architect            0.1900.4\n@angular-devkit/core                 19.0.1\n@angular-devkit/schematics           19.0.4\n@angular/cdk                         19.0.3\n@angular/google-maps                 19.0.3\n@angular/material                    19.0.3\n@angular/material-date-fns-adapter   19.0.3\n@schematics/angular                  19.0.4\nrxjs                                 7.8.1\ntypescript                           5.6.3\nzone.js                              0.15.0\n```\n\n### Anything else?\n\nAngular.json:\n\n```\n{\n    \"$schema\": \"./node_modules/@angular/cli/lib/config/schema.json\",\n    \"version\": 1,\n    \"cli\": {\n        \"packageManager\": \"npm\",\n        \"analytics\": \"ac59db6d-a680-408f-af50-2623fb62aeae\",\n        \"cache\": {\n            \"enabled\": true\n        }\n    },\n    \"newProjectRoot\": \"projects\",\n    \"projects\": {\n        \"nexus\": {\n            \"projectType\": \"application\",\n            \"schematics\": {\n                \"@schematics/angular:component\": {\n                    \"style\": \"scss\",\n                    \"skipTests\": true,\n                    \"standalone\": true,\n                    \"changeDetection\": \"OnPush\"\n                },\n                \"@schematics/angular:class\": {\n                    \"skipTests\": true\n                },\n                \"@schematics/angular:directive\": {\n                    \"skipTests\": true,\n                    \"standalone\": true\n                },\n                \"@schematics/angular:guard\": {\n                    \"skipTests\": true\n                },\n                \"@schematics/angular:interceptor\": {\n                    \"skipTests\": true\n                },\n                \"@schematics/angular:pipe\": {\n                    \"skipTests\": true,\n                    \"standalone\": true\n                },\n                \"@schematics/angular:resolver\": {\n                    \"skipTests\": true\n                },\n                \"@schematics/angular:service\": {\n                    \"skipTests\": true\n                }\n            },\n            \"root\": \"\",\n            \"sourceRoot\": \"src\",\n            \"prefix\": \"app\",\n            \"i18n\": {\n                \"sourceLocale\": \"en-US\",\n                \"locales\": {\n                    \"da\": {\n                        \"translation\": \"src/locale/messages.da.json\"\n                    },\n                    \"en\": {\n                        \"translation\": \"src/locale/messages.en.json\"\n                    }\n                }\n            },\n            \"architect\": {\n                \"build\": {\n                    \"builder\": \"@angular/build:application\",\n                    \"options\": {\n                        \"allowedCommonJsDependencies\": [\n                            \"mathjs\",\n                            \"ngrx-store-localstorage\",\n                            \"qrcode\",\n                            \"file-saver\"\n                        ],\n\n                        \"outputPath\": {\n                            \"base\": \"dist/nexus/\"\n                        },\n                        \"index\": \"src/index.html\",\n                        \"polyfills\": [\"@angular/localize/init\"],\n                        \"tsConfig\": \"tsconfig.app.json\",\n                        \"inlineStyleLanguage\": \"scss\",\n                        \"styles\": [\"src/styles/index.scss\"],\n                        \"assets\": [\"src/assets\", \"src/robots.txt\", \"src/manifest.json\"],\n                        \"scripts\": [],\n                        \"serviceWorker\": \"ngsw-config.json\",\n                        \"localize\": true,\n                        \"i18nDuplicateTranslation\": \"ignore\",\n\n                        \"preserveSymlinks\": false,\n                        \"browser\": \"src/main.ts\"\n                    },\n                    \"configurations\": {\n                        \"production\": {\n                            \"fileReplacements\": [\n                                {\n                                    \"replace\": \"src/environments/environment.ts\",\n                                    \"with\": \"src/environments/environment.prod.ts\"\n                                },\n                                {\n                                    \"replace\": \"src/app/shared/store/build-specifics/index.ts\",\n                                    \"with\": \"src/app/shared/store/build-specifics/index.prod.ts\"\n                                }\n                            ],\n                            \"outputHashing\": \"all\",\n                            \"namedChunks\": false\n                        },\n                        \"localprod\": {\n                            \"optimization\": false,\n                            \"sourceMap\": true,\n                            \"fileReplacements\": [\n                                {\n                                    \"replace\": \"src/environments/environment.ts\",\n                                    \"with\": \"src/environments/environment.localprod.ts\"\n                                }\n                            ]\n                        },\n\n                        \"test\": {\n                            \"fileReplacements\": [\n                                {\n                                    \"replace\": \"src/environments/environment.ts\",\n                                    \"with\": \"src/environments/environment.test.ts\"\n                                },\n                                {\n                                    \"replace\": \"src/app/features/core/site-protection/index.ts\",\n                                    \"with\": \"src/app/features/core/site-protection/index.protected.ts\"\n                                }\n                            ],\n                            \"outputHashing\": \"all\",\n                            \"namedChunks\": false\n                        },\n                        \"localtest\": {\n                            \"fileReplacements\": [\n                                {\n                                    \"replace\": \"src/environments/environment.ts\",\n                                    \"with\": \"src/environments/environment.localtest.ts\"\n                                }\n                            ],\n                            \"localize\": [\"en\"],\n                            \"outputHashing\": \"all\"\n                        },\n                        \"development\": {\n                            \"fileReplacements\": [\n                                {\n                                    \"replace\": \"src/environments/environment.ts\",\n                                    \"with\": \"src/environments/environment.dev.ts\"\n                                },\n                                {\n                                    \"replace\": \"src/app/shared/store/build-specifics/index.ts\",\n                                    \"with\": \"src/app/shared/store/build-specifics/index.prod.ts\"\n                                },\n                                {\n                                    \"replace\": \"src/app/features/core/site-protection/index.ts\",\n                                    \"with\": \"src/app/features/core/site-protection/index.protected.ts\"\n                                }\n                            ],\n                            \"outputHashing\": \"all\",\n                            \"sourceMap\": true,\n                            \"namedChunks\": false\n                        },\n                        \"local\": {\n                            \"optimization\": false,\n                            \"sourceMap\": true,\n                            \"fileReplacements\": []\n                        },\n                        \"da\": {\n                            \"localize\": [\"da\"],\n                            \"baseHref\": \"/da/\"\n                        },\n                        \"en\": {\n                            \"localize\": [\"en\"],\n                            \"baseHref\": \"/en/\"\n                        }\n                    },\n                    \"defaultConfiguration\": \"production\"\n                },\n                \"serve\": {\n                    \"builder\": \"@angular/build:dev-server\",\n                    \"configurations\": {\n                        \"production\": {\n                            \"buildTarget\": \"nexus:build:production\"\n                        },\n                        \"localprod\": {\n                            \"buildTarget\": \"nexus:build:localprod\"\n                        },\n                        \"localtest\": {\n                            \"buildTarget\": \"nexus:build:localtest\"\n                        },\n                        \"test\": {\n                            \"buildTarget\": \"nexus:build:test\"\n                        },\n                        \"development\": {\n                            \"buildTarget\": \"nexus:build:development\"\n                        },\n                        \"local\": {\n                            \"buildTarget\": \"nexus:build:local,en\"\n                        },\n\n                        \"da\": {\n                            \"buildTarget\": \"nexus:build:local,da\"\n                        },\n                        \"en\": {\n                            \"buildTarget\": \"nexus:build:local,en\"\n                        }\n                    },\n                    \"defaultConfiguration\": \"local\"\n                },\n                \"extract-i18n\": {\n                    \"builder\": \"@angular/build:extract-i18n\",\n                    \"options\": {\n                        \"buildTarget\": \"nexus:build\"\n                    }\n                },\n\n                \"deploy\": {\n                    \"builder\": \"@angular/fire:deploy\",\n                    \"options\": {\n                        \"prerender\": false,\n                        \"ssr\": false,\n                        \"browserTarget\": \"nexus:build:production\",\n                        \"firebaseProject\": \"fastorder-dev\",\n                        \"firebaseHostingSite\": \"fresto-totti-dev\"\n                    }\n                }\n            }\n        }\n    }\n}\n\n```","Url":"https://github.com/angular/angular-cli/issues/29125","RelatedDescription":"Closed issue \"[ERROR] The package \"crypto\" wasn't found on the file system but is built into node. [plugin angular-browser-node-built-in]\" (#29125)"},{"Id":"2736544063","IsPullRequest":true,"CreatedAt":"2024-12-12T18:15:15","Actor":"clydin","Number":"29123","RawContent":null,"Title":"refactor(@angular/build): only load chunk optimizer if enabled","State":"closed","Body":"The experimental chunk optimizer is now only imported if it is enabled via its environment variable (`NG_BUILD_OPTIMIZE_CHUNKS=1`). This prevents the loading of the rollup package as well as any transitive dependencies when these packages will not be used by the build.","Url":"https://github.com/angular/angular-cli/pull/29123","RelatedDescription":"Closed or merged PR \"refactor(@angular/build): only load chunk optimizer if enabled\" (#29123)"},{"Id":"2736570110","IsPullRequest":true,"CreatedAt":"2024-12-12T18:08:53","Actor":"jkrems","Number":"29124","RawContent":null,"Title":"Bump version to \"v19.1.0-next.1\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/29124","RelatedDescription":"Closed or merged PR \"Bump version to \"v19.1.0-next.1\" with changelog.\" (#29124)"},{"Id":"2736504380","IsPullRequest":true,"CreatedAt":"2024-12-12T17:35:12","Actor":"clydin","Number":"29122","RawContent":null,"Title":"docs: release notes for the v19.0.5 release","State":"closed","Body":"Cherry-picks the changelog from the \"19.0.x\" branch to the next branch (main).","Url":"https://github.com/angular/angular-cli/pull/29122","RelatedDescription":"Closed or merged PR \"docs: release notes for the v19.0.5 release\" (#29122)"},{"Id":"2736404714","IsPullRequest":true,"CreatedAt":"2024-12-12T17:29:51","Actor":"clydin","Number":"29121","RawContent":null,"Title":"Bump version to \"v19.0.5\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/29121","RelatedDescription":"Closed or merged PR \"Bump version to \"v19.0.5\" with changelog.\" (#29121)"},{"Id":"2734970239","IsPullRequest":true,"CreatedAt":"2024-12-12T16:18:05","Actor":"angular-robot","Number":"29116","RawContent":null,"Title":"build: update angular","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@angular/cdk](https://redirect.github.com/angular/cdk-builds) | dependencies | digest | `22a52c7` -> `b8d8875` |\n| [@angular/cdk](https://redirect.github.com/angular/components) | devDependencies | patch | [`19.1.0-next.1` -> `19.1.0-next.2`](https://renovatebot.com/diffs/npm/@angular%2fcdk/19.1.0-next.1/19.1.0-next.2) |\n| [@angular/material](https://redirect.github.com/angular/material-builds) | dependencies | digest | `0783f52` -> `b5aa289` |\n| [@angular/material](https://redirect.github.com/angular/components) | devDependencies | patch | [`19.1.0-next.1` -> `19.1.0-next.2`](https://renovatebot.com/diffs/npm/@angular%2fmaterial/19.1.0-next.1/19.1.0-next.2) |\n| [@angular/material-moment-adapter](https://redirect.github.com/angular/material-moment-adapter-builds) | dependencies | digest | `5f88f03` -> `4a5a030` |\n\n🔡 If you wish to disable git hash updates, add `\":disableDigestUpdates\"` to the extends array in your config.\n\n---\n\n### Release Notes\n\n<details>\n<summary>angular/components (@&#8203;angular/cdk)</summary>\n\n### [`v19.1.0-next.2`](https://redirect.github.com/angular/components/blob/HEAD/CHANGELOG.md#1910-next2-rhodium-rhubarb-2024-12-11)\n\n[Compare Source](https://redirect.github.com/angular/components/compare/19.1.0-next.1...19.1.0-next.2)\n\n##### material\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [aafa151e78](https://redirect.github.com/angular/components/commit/aafa151e78994a70d7e4509e49e040412fd5adf3) | fix | **expansion:** switch away from animations module ([#&#8203;30119](https://redirect.github.com/angular/components/pull/30119)) |\n| [77393153fd](https://redirect.github.com/angular/components/commit/77393153fd4f6acad65fad6b8f0eefeb8dcd4b06) | fix | **menu:** decouple menu lifecycle from animations ([#&#8203;30148](https://redirect.github.com/angular/components/pull/30148)) |\n| [8d3bca5eb0](https://redirect.github.com/angular/components/commit/8d3bca5eb0cc304075c85aa56ecdd6785e7e2a2d) | fix | **paginator:** ignore clicks on disabled buttons ([#&#8203;30138](https://redirect.github.com/angular/components/pull/30138)) |\n| [02967137f3](https://redirect.github.com/angular/components/commit/02967137f3aba759811e81bc7be5acc6cc6ebc6d) | fix | **select:** add opt-in input that allows selection of nullable options ([#&#8203;30142](https://redirect.github.com/angular/components/pull/30142)) |\n| [f7d787b1e8](https://redirect.github.com/angular/components/commit/f7d787b1e8b770f571621d35d31889d1bc7892d3) | fix | **timepicker:** deserialize ControlValueAccessor values correctly ([#&#8203;30149](https://redirect.github.com/angular/components/pull/30149)) |\n| [db8f6c0a9f](https://redirect.github.com/angular/components/commit/db8f6c0a9f3102056eead1197a6926a34cb89cbd) | fix | **timepicker:** disable toggle if timepicker is disabled ([#&#8203;30137](https://redirect.github.com/angular/components/pull/30137)) |\n\n##### cdk-experimental\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [75c8aa8767](https://redirect.github.com/angular/components/commit/75c8aa8767d1bb5e2e5f29ea0434a5876a2c5a21) | feat | **column-resize:** Support column size persistance hooks ([#&#8203;30136](https://redirect.github.com/angular/components/pull/30136)) |\n\n##### material-experimental\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [8685c01a92](https://redirect.github.com/angular/components/commit/8685c01a92e057b20d502e5163561391dcc7fb21) | feat | **column-resize:** Add support for \"lazy\" rather than live updating during resizing. ([#&#8203;30120](https://redirect.github.com/angular/components/pull/30120)) |\n\n<!-- CHANGELOG SPLIT MARKER -->\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://redirect.github.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://redirect.github.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzOS40OS4xIiwidXBkYXRlZEluVmVyIjoiMzkuNDkuMSIsInRhcmdldEJyYW5jaCI6Im1haW4iLCJsYWJlbHMiOlsiYWN0aW9uOiBtZXJnZSIsInRhcmdldDogbWlub3IiXX0=-->\n","Url":"https://github.com/angular/angular-cli/pull/29116","RelatedDescription":"Closed or merged PR \"build: update angular\" (#29116)"},{"Id":"2736030752","IsPullRequest":false,"CreatedAt":"2024-12-12T14:39:39","Actor":"magioloro","Number":"29120","RawContent":null,"Title":"Cannot extract i18n from library since angular 18","State":"closed","Body":"### Command\n\nextract-i18n\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n17\n\n### Description\n\nI have a multi-project workspace with 2 applications and 1 library, which uses all i18n. In angular 17 I could simply execute `ng extract-i18n`  and all translations from all applications and the library were extracted in one single file. \n\nAfter updating to version 18  and executing `ng extract-i18n` the following message appears:\n\n> Error: Cannot determine project for command.\n> This is a multi-project workspace and more than one project supports this command. Run \"ng extract-i18n [project]\" to execute the command for a specific project or change the current working directory to a project directory.\n> Available projects are:\n> - application1\n> - application2\n\nSo I have to extract the translations from each single application and the library isn't supported anymore? \n\n### Minimal Reproduction\n\nng extract-i18n\n\n### Exception or Error\n\n```text\n\n```\n\n### Your Environment\n\n```text\nAngular CLI: 18.2.12\nNode: 18.20.2\nPackage Manager: yarn 3.6.1\nOS: win32 x64\n\nAngular: 18.2.13\n... animations, common, compiler, compiler-cli, core, forms\n... language-service, localize, platform-browser\n... platform-browser-dynamic, router\n\nPackage                            Version\n------------------------------------------------------------\n@angular-devkit/architect          0.1802.12\n@angular-devkit/build-angular      18.2.12\n@angular-devkit/core               18.2.12\n@angular-devkit/schematics         18.2.12\n@angular/cdk                       18.2.14\n@angular/cli                       18.2.12\n@angular/material                  18.2.14\n@angular/material-moment-adapter   18.2.14\n@schematics/angular                18.2.12\nng-packagr                         18.2.1\nrxjs                               7.8.1\ntypescript                         5.4.5\nzone.js                            0.15.0\n```\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/29120","RelatedDescription":"Closed issue \"Cannot extract i18n from library since angular 18\" (#29120)"},{"Id":"2735438440","IsPullRequest":true,"CreatedAt":"2024-12-12T12:50:47","Actor":"alan-agius4","Number":"29118","RawContent":null,"Title":"fix(@angular/build): V8 flags cause errors in `ng build/serve` processes","State":"closed","Body":"This commit removes the use of a worker for Babel transformation of external dependencies within the ESM loader hook.\r\n\r\nCloses #28901\r\n","Url":"https://github.com/angular/angular-cli/pull/29118","RelatedDescription":"Closed or merged PR \"fix(@angular/build): V8 flags cause errors in `ng build/serve` processes\" (#29118)"},{"Id":"2735300809","IsPullRequest":false,"CreatedAt":"2024-12-12T09:09:54","Actor":"captainDuckay","Number":"29117","RawContent":null,"Title":"Angular SSR build route resolve issue","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nDon't known / other\n\n### Is this a regression?\n\nNo\n\n### Description\n\nIn an Angular Server-Side Rendering (SSR) application, I observed unexpected behavior during the ng build process. Specifically:\n\n- The ng build step attempts to execute all the code within the route resolve functions. While this behavior might be expected in a pre-rendered page setup, it does not align with expectations for a server-side rendered application, where the resolve should execute at runtime on the server, not during the build phase.\n- This issue appears to be isolated to the route defined as path: '**'. Only this wildcard route’s resolve functions are executed during the build process, which seems incorrect and inconsistent with the behavior of other routes.\n\nThis behavior poses significant problems for applications relying on internal APIs, as it results in build failures if the APIs are inaccessible from the build environment.\n\nNote that changing the renderMode in the server routes doesn't change any behavior in this regard.\n\nThe issue was identified while building the application in a GitHub workflow using ubuntu-latest as the runner. Our internal API, which is accessible only within the internal network, was unreachable during the build process.\nLuckily it doesn't terminate the build, but it still feels like an unexpected behavior.\n\nSteps to Reproduce:\n1. Clone the provided [minimal reproduction repository](https://github.com/captainDuckay/resolver-problem).\n2. Attempt to build the application using ng build with the provided configuration.\n3. Observe that the resolve function in the route with path: '**' executes during the build step, causing it to fail if the API is unreachable.\n\nExpected Behavior:\n\nFor a server-side rendered application:\n1. Resolve functions should execute at runtime on the server, not during the build step.\n2. The build process should only package the application for deployment, without executing runtime code such as route resolves.\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://github.com/captainDuckay/resolver-problem\n\n### Please provide the exception or error you saw\n\n```true\nERROR Pr {\n  headers: r {\n    headers: Map(0) {},\n    normalizedNames: Map(0) {},\n    lazyInit: undefined,\n    lazyUpdate: null\n  },\n  status: 0,\n  statusText: 'Unknown Error',\n  url: 'https://blablablalbatest.test/api/testdata',\n  ok: false,\n  type: undefined,\n  name: 'HttpErrorResponse',\n  message: 'Http failure response for https://blablablalbatest.test/api/testdata: 0 undefined',\n  error: TypeError: fetch failed\n      at node:internal/deps/undici/undici:13392:13\n      at a.invoke (file:///Users/not/WebstormProjects/repro-app/.angular/prerender-root/21ff0b3d-ccbd-48cc-a58c-56f355dc6a25/polyfills.server.mjs:3:6715)\n      at l.run (file:///Users/not/WebstormProjects/repro-app/.angular/prerender-root/21ff0b3d-ccbd-48cc-a58c-56f355dc6a25/polyfills.server.mjs:3:1985)\n      at file:///Users/not/WebstormProjects/repro-app/.angular/prerender-root/21ff0b3d-ccbd-48cc-a58c-56f355dc6a25/polyfills.server.mjs:4:576\n      at a.invokeTask (file:///Users/not/WebstormProjects/repro-app/.angular/prerender-root/21ff0b3d-ccbd-48cc-a58c-56f355dc6a25/polyfills.server.mjs:3:7341)\n      at l.runTask (file:///Users/not/WebstormProjects/repro-app/.angular/prerender-root/21ff0b3d-ccbd-48cc-a58c-56f355dc6a25/polyfills.server.mjs:3:2628)\n      at R (file:///Users/not/WebstormProjects/repro-app/.angular/prerender-root/21ff0b3d-ccbd-48cc-a58c-56f355dc6a25/polyfills.server.mjs:3:9382)\n      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {\n    [cause]: Error: getaddrinfo ENOTFOUND blablablalbatest.test\n        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:120:26) {\n      errno: -3008,\n      code: 'ENOTFOUND',\n      syscall: 'getaddrinfo',\n      hostname: 'blablablalbatest.test'\n    }\n  }\n}\nBrowser bundles      \nInitial chunk files   | Names            |  Raw size | Estimated transfer size\nchunk-42OR2LGY.js     | -                | 138.27 kB |                41.48 kB\nmain-V7QEP3S4.js      | main             | 123.27 kB |                31.88 kB\npolyfills-FFHMD2TL.js | polyfills        |  34.52 kB |                11.28 kB\nstyles-5INURTSO.css   | styles           |   0 bytes |                 0 bytes\n\n                      | Initial total    | 296.06 kB |                84.63 kB\n\nLazy chunk files      | Names            |  Raw size | Estimated transfer size\nchunk-ITHPYWXR.js     | error-component  | 312 bytes |               312 bytes\nchunk-YSOHETL2.js     | test-component   | 309 bytes |               309 bytes\n\n\nServer bundles       \nInitial chunk files   | Names            |  Raw size\nserver.mjs            | server           | 844.42 kB |                        \nmain.server.mjs       | main.server      | 633.63 kB |                        \npolyfills.server.mjs  | polyfills.server | 268.60 kB |                        \nchunk-6GZ6XUNF.mjs    | -                | 136.71 kB |                        \nchunk-X2SEQXRR.mjs    | -                |   2.41 kB |                        \nchunk-GFUZYSQG.mjs    | -                |   1.24 kB |                        \n\nLazy chunk files      | Names            |  Raw size\nchunk-EJSJJTUO.mjs    | xhr2             |  12.14 kB |                        \nchunk-TNO4MGIL.mjs    | xhr2             |  12.07 kB |                        \nchunk-A4T2JHCR.mjs    | error-component  | 375 bytes |                        \nchunk-EBTR7VEV.mjs    | test-component   | 372 bytes |                        \n\nPrerendered 0 static routes.\nApplication bundle generation complete. [7.415 seconds]\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 19.0.4\nNode: 22.11.0\nPackage Manager: npm 10.9.0\nOS: darwin arm64\n\nAngular: 19.0.3\n... animations, common, compiler, compiler-cli, core, forms\n... platform-browser, platform-browser-dynamic, platform-server\n... router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1900.4\n@angular-devkit/build-angular   19.0.4\n@angular-devkit/core            19.0.4\n@angular-devkit/schematics      19.0.4\n@angular/cli                    19.0.4\n@angular/ssr                    19.0.4\n@schematics/angular             19.0.4\nrxjs                            7.8.1\ntypescript                      5.6.3\nzone.js                         0.15.0\n```\n\n### Anything else?\n\n- This issue might be related to the prerendering process mistakenly engaging the resolve function for the wildcard route.\n- Clarification on whether this is intended behavior for SSR or a misconfiguration in the build process would be helpful.","Url":"https://github.com/angular/angular-cli/issues/29117","RelatedDescription":"Closed issue \"Angular SSR build route resolve issue\" (#29117)"},{"Id":"2734156621","IsPullRequest":true,"CreatedAt":"2024-12-11T22:24:53","Actor":"jmerro","Number":"29115","RawContent":null,"Title":"fix(@angular/build): fix tailwind css update on template hmr change","State":"open","Body":"When adding tailwind classes to a template, the builder notifies Vite with a ComponentUpdate which reloads the template on the client with the new classes. However, if the global styles.css from the build output was changed due to a new class being added there. The client won't be served that new styles.css- until a Full Update or rebuild occurs. This commit is primarily a workaround until better support can be added for this scenario.\r\n\r\n## PR Checklist\r\n\r\nPlease check to confirm your PR fulfills the following requirements:\r\n\r\n<!-- Please check all that apply using \"x\". -->\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular-cli/blob/main/CONTRIBUTING.md#-commit-message-guidelines\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n## PR Type\r\n\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] Other... Please describe:\r\n\r\n## What is the current behavior?\r\n\r\nNewly added tailwind classes won't render their styles when ComponentUpdate sent, as the styles.css is not being checked for changes.\r\n\r\n## What is the new behavior?\r\n\r\nOn ComponentUpdate vite will also check the styles.css hash and if it is different send a `css-update` to the client to reload the global styles with the missing tailwind classes.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular-cli/pull/29115","RelatedDescription":"Open PR \"fix(@angular/build): fix tailwind css update on template hmr change\" (#29115)"},{"Id":"2733869528","IsPullRequest":true,"CreatedAt":"2024-12-11T20:08:17","Actor":"clydin","Number":"29114","RawContent":null,"Title":"feat(@angular/build): enable component template hot replacement by default","State":"open","Body":"When using the `application` builder (default for new projects) with the development server, component template only changes will now automatically replace the template within the running application without a full reload of the page. No application code changes are necessary and both file-based (`templateUrl`) and inline (`template`) component templates are supported. Additionally, changing a components styles in combination with a template change is also supported for hot replacement. This includes both inline and file-based changes.\r\n\r\nIf any issues are encountered or it is preferred to not hot replace component templates, the `NG_HMR_TEMPLATES=0` environment variable can be used to disable the feature. Setting the `liveReload` option or `hmr` option to false will also disable all updates.","Url":"https://github.com/angular/angular-cli/pull/29114","RelatedDescription":"Open PR \"feat(@angular/build): enable component template hot replacement by default\" (#29114)"},{"Id":"2733773485","IsPullRequest":true,"CreatedAt":"2024-12-11T20:04:57","Actor":"clydin","Number":"29113","RawContent":null,"Title":"fix(@angular/build): provide component HMR update modules to dev-server SSR","State":"closed","Body":"When using component HMR and SSR with the development server, the component update modules will now be available to the Vite server rendering.  This prevents console errors due to missing component update paths. Additionally, it allows the server rendering to use the latest component templates if those have been changed before a new rebuild has occurred.","Url":"https://github.com/angular/angular-cli/pull/29113","RelatedDescription":"Closed or merged PR \"fix(@angular/build): provide component HMR update modules to dev-server SSR\" (#29113)"},{"Id":"2733478368","IsPullRequest":true,"CreatedAt":"2024-12-11T17:02:54","Actor":"clydin","Number":"29112","RawContent":null,"Title":"fix(@angular/build): use consistent path separators for template HMR identifiers","State":"closed","Body":"To ensure that component HMR identifiers match correctly during an update, the path element of the identifier generated by the build system will now convert all windows path separators into POSIX separators. This provides matching behavior to the AOT compiler's identifier generation process.","Url":"https://github.com/angular/angular-cli/pull/29112","RelatedDescription":"Closed or merged PR \"fix(@angular/build): use consistent path separators for template HMR identifiers\" (#29112)"},{"Id":"2731928501","IsPullRequest":true,"CreatedAt":"2024-12-11T15:53:36","Actor":"angular-robot","Number":"29106","RawContent":null,"Title":"build: update github/codeql-action action to v3.27.7","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [github/codeql-action](https://redirect.github.com/github/codeql-action) | action | patch | `v3.27.6` -> `v3.27.7` |\n\n---\n\n### Release Notes\n\n<details>\n<summary>github/codeql-action (github/codeql-action)</summary>\n\n### [`v3.27.7`](https://redirect.github.com/github/codeql-action/releases/tag/v3.27.7)\n\n[Compare Source](https://redirect.github.com/github/codeql-action/compare/v3.27.6...v3.27.7)\n\n### CodeQL Action Changelog\n\nSee the [releases page](https://redirect.github.com/github/codeql-action/releases) for the relevant changes to the CodeQL CLI and language packs.\n\nNote that the only difference between `v2` and `v3` of the CodeQL Action is the node version they support, with `v3` running on node 20 while we continue to release `v2` to support running on node 16. For example `3.22.11` was the first `v3` release and is functionally identical to `2.22.11`. This approach ensures an easy way to track exactly which features are included in different versions, indicated by the minor and patch version numbers.\n\n#### 3.27.7 - 10 Dec 2024\n\n-   We are rolling out a change in December 2024 that will extract the CodeQL bundle directly to the toolcache to improve performance. [#&#8203;2631](https://redirect.github.com/github/codeql-action/pull/2631)\n-   Update default CodeQL bundle version to 2.20.0. [#&#8203;2636](https://redirect.github.com/github/codeql-action/pull/2636)\n\nSee the full [CHANGELOG.md](https://redirect.github.com/github/codeql-action/blob/v3.27.7/CHANGELOG.md) for more information.\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n🔕 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://redirect.github.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzOS40OS4xIiwidXBkYXRlZEluVmVyIjoiMzkuNDkuMSIsInRhcmdldEJyYW5jaCI6Im1haW4iLCJsYWJlbHMiOlsiYWN0aW9uOiBtZXJnZSIsInRhcmdldDogbWlub3IiXX0=-->\n","Url":"https://github.com/angular/angular-cli/pull/29106","RelatedDescription":"Closed or merged PR \"build: update github/codeql-action action to v3.27.7\" (#29106)"},{"Id":"2731928436","IsPullRequest":true,"CreatedAt":"2024-12-11T15:26:53","Actor":"angular-robot","Number":"29105","RawContent":null,"Title":"build: update angular","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@angular/animations](https://redirect.github.com/angular/animations-builds) | dependencies | digest | `57a8326` -> `360f859` |\n| [@angular/cdk](https://redirect.github.com/angular/cdk-builds) | dependencies | digest | `c5599d0` -> `22a52c7` |\n| [@angular/common](https://redirect.github.com/angular/common-builds) | dependencies | digest | `1847b36` -> `ad555c8` |\n| [@angular/compiler](https://redirect.github.com/angular/compiler-builds) | dependencies | digest | `a1fca72` -> `278f089` |\n| [@angular/compiler-cli](https://redirect.github.com/angular/compiler-cli-builds) | dependencies | digest | `db08655` -> `0b7ba32` |\n| [@angular/core](https://redirect.github.com/angular/core-builds) | dependencies | digest | `37b0c4d` -> `223c02b` |\n| [@angular/forms](https://redirect.github.com/angular/forms-builds) | dependencies | digest | `e30d8a3` -> `1b83038` |\n| [@angular/language-service](https://redirect.github.com/angular/language-service-builds) | dependencies | digest | `8d7f2ff` -> `568dc6a` |\n| [@angular/localize](https://redirect.github.com/angular/localize-builds) | dependencies | digest | `b2003fd` -> `28c321d` |\n| [@angular/material](https://redirect.github.com/angular/material-builds) | dependencies | digest | `d5bab57` -> `0783f52` |\n| [@angular/material-moment-adapter](https://redirect.github.com/angular/material-moment-adapter-builds) | dependencies | digest | `aa21cc1` -> `5f88f03` |\n| [@angular/platform-browser](https://redirect.github.com/angular/platform-browser-builds) | dependencies | digest | `866311b` -> `b389e98` |\n| [@angular/platform-browser-dynamic](https://redirect.github.com/angular/platform-browser-dynamic-builds) | dependencies | digest | `fe6cb87` -> `98a5c93` |\n| [@angular/platform-server](https://redirect.github.com/angular/platform-server-builds) | dependencies | digest | `b5ea259` -> `e3de850` |\n| [@angular/router](https://redirect.github.com/angular/router-builds) | dependencies | digest | `9070daf` -> `d907824` |\n| [@angular/service-worker](https://redirect.github.com/angular/service-worker-builds) | dependencies | digest | `e1aaf4d` -> `524a1d3` |\n\n🔡 If you wish to disable git hash updates, add `\":disableDigestUpdates\"` to the extends array in your config.\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://redirect.github.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://redirect.github.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzOS40OS4xIiwidXBkYXRlZEluVmVyIjoiMzkuNDkuMSIsInRhcmdldEJyYW5jaCI6Im1haW4iLCJsYWJlbHMiOlsiYWN0aW9uOiBtZXJnZSIsInRhcmdldDogbWlub3IiXX0=-->\n","Url":"https://github.com/angular/angular-cli/pull/29105","RelatedDescription":"Closed or merged PR \"build: update angular\" (#29105)"},{"Id":"2732559474","IsPullRequest":false,"CreatedAt":"2024-12-11T14:06:41","Actor":"not-nemlig","Number":"29108","RawContent":null,"Title":"Angular SSR 19.0.3 - index.server.html does not exist.","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nDon't known / other\n\n### Is this a regression?\n\nYes\n\n### Description\n\nUpgrading @angular/ssr to 19.0.3 causes the error. I can reproduce easily reproduce it.\n\nDid some digging, and it might be related to this one? https://github.com/angular/angular-ssr-builds/commit/bdec7edc5ed396e9548e171fabb12191c7658922 \n\nNote i don't use service workers.\n\n\n## server.ts\n```typescript\n/* eslint-disable */\nimport 'zone.js/node';\nimport { fileURLToPath } from 'node:url';\nimport { dirname, resolve } from 'node:path';\nimport * as http from 'http';\nimport { AngularNodeAppEngine, createNodeRequestHandler, isMainModule, writeResponseToNodeResponse } from '@angular/ssr/node';\nimport express from 'express';\nimport { healthcheck } from './server/middlewares/healthcheck.middleware';\nimport router from './server/routes';\nimport serverTiming from 'server-timing';\n\nimport { NodeSDK } from '@opentelemetry/sdk-node';\nimport { getNodeAutoInstrumentations } from '@opentelemetry/auto-instrumentations-node';\nimport { PeriodicExportingMetricReader } from '@opentelemetry/sdk-metrics';\nimport { OTLPTraceExporter } from '@opentelemetry/exporter-trace-otlp-grpc';\nimport { OTLPMetricExporter } from '@opentelemetry/exporter-metrics-otlp-grpc';\n\nconst sdk = new NodeSDK({\n  traceExporter: new OTLPTraceExporter({\n    url: 'x',\n    headers: {},\n  }),\n  metricReader: new PeriodicExportingMetricReader({\n    exportIntervalMillis: 30000,\n    exporter: new OTLPMetricExporter({\n      url: 'x',\n      headers: {},\n      concurrencyLimit: 1,\n    }),\n  }),\n  instrumentations: [getNodeAutoInstrumentations()],\n});\n\nsdk.start();\n\n// The Express app is exported so that it can be used by serverless Functions.\nexport function app(): express.Express {\n  const server = express();\n  const serverDistFolder = dirname(fileURLToPath(import.meta.url));\n  const browserDistFolder = resolve(serverDistFolder, '../browser');\n\n  const angularNodeAppEngine = new AngularNodeAppEngine();\n\n  server.use(router);\n  server.use(\n    serverTiming({\n      enabled: (req, res) => req.query.debug === 'true',\n    })\n  );\n\n  const healthcheckServer = http.createServer(server);\n\n  healthcheck(healthcheckServer);\n\n  server.get(\n    '**',\n    express.static(browserDistFolder, {\n      maxAge: '1y',\n      index: 'index.html',\n    })\n  );\n\n  // All regular routes use the Angular engine\n  server.get('*', (req, res, next) => {\n    res.startTime('SSR', 'Total SSR time');\n    angularNodeAppEngine\n      .handle(req, { server: 'express' })\n      .then((response) => {\n        if (response) {\n          return writeResponseToNodeResponse(response, res);\n        } else {\n          res.endTime('SSR');\n          return next();\n        }\n      })\n      .catch(next);\n  });\n\n  return server;\n}\n\nconst server = app();\n\nif (isMainModule(import.meta.url)) {\n  const port = process.env['PORT'] || 4000;\n  server.listen(port, () => {\n    console.log(`Node Express server listening on http://localhost:${port}`);\n  });\n}\n\nconsole.warn('Node Express server started');\n\n// This exposes the RequestHandler\nexport const reqHandler = createNodeRequestHandler(server);\n```\n\nSomething I'm missing?\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\n✘ [ERROR] An error occurred while extracting routes.\n\nError: Server asset 'index.server.html' does not exist.\n    at ServerAssets.getServerAsset (/Users/not/WebstormProjects/frontends/.angular/prerender-root/b226fa15-5c2f-4b9b-81e1-146bc30cc3e5/node_modules/@angular/ssr/fesm2022/ssr.mjs:30:13)\n    at ServerAssets.getIndexServerHtml (/Users/not/WebstormProjects/frontends/.angular/prerender-root/b226fa15-5c2f-4b9b-81e1-146bc30cc3e5/node_modules/@angular/ssr/fesm2022/ssr.mjs:50:17)\n    at <anonymous> (/Users/not/WebstormProjects/frontends/.angular/prerender-root/b226fa15-5c2f-4b9b-81e1-146bc30cc3e5/node_modules/@angular/ssr/fesm2022/ssr.mjs:1052:55)\n    at Generator.next (<anonymous>)\n    at file:///Users/not/WebstormProjects/frontends/.angular/prerender-root/b226fa15-5c2f-4b9b-81e1-146bc30cc3e5/chunk-CZ5RRHY2.mjs:86:61\n    at new ZoneAwarePromise (/Users/not/WebstormProjects/frontends/.angular/prerender-root/b226fa15-5c2f-4b9b-81e1-146bc30cc3e5/node_modules/zone.js/fesm2015/zone-node.js:1317:23)\n    at __async (file:///Users/not/WebstormProjects/frontends/.angular/prerender-root/b226fa15-5c2f-4b9b-81e1-146bc30cc3e5/chunk-CZ5RRHY2.mjs:70:10)\n    at extract (/Users/not/WebstormProjects/frontends/.angular/prerender-root/b226fa15-5c2f-4b9b-81e1-146bc30cc3e5/node_modules/@angular/ssr/fesm2022/ssr.mjs:1050:28)\n    at extractRoutesAndCreateRouteTree (/Users/not/WebstormProjects/frontends/.angular/prerender-root/b226fa15-5c2f-4b9b-81e1-146bc30cc3e5/node_modules/@angular/ssr/fesm2022/ssr.mjs:1084:78)\n    at extractRoutes (/Users/not/WebstormProjects/frontends/node_modules/@angular/build/src/utils/server-rendering/routes-extractor-worker.js:24:56)\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 19.0.2\nNode: 22.11.0\nPackage Manager: npm 10.9.0\nOS: darwin arm64\n\nAngular: 19.0.3\n... animations, common, compiler, compiler-cli, core, forms\n... language-service, platform-browser, platform-browser-dynamic\n... platform-server, router, ssr\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1900.3\n@angular-devkit/build-angular   19.0.2\n@angular-devkit/core            19.0.2\n@angular-devkit/schematics      19.0.2\n@angular/cdk                    19.0.2\n@angular/cli                    19.0.2\n@schematics/angular             19.0.2\nrxjs                            7.8.1\ntypescript                      5.6.3\nzone.js                         0.14.8\n```\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/29108","RelatedDescription":"Closed issue \"Angular SSR 19.0.3 - index.server.html does not exist.\" (#29108)"},{"Id":"2732952982","IsPullRequest":false,"CreatedAt":"2024-12-11T14:04:17","Actor":"brianreinhold","Number":"29110","RawContent":null,"Title":"ng update gives Error: Repository is not clean. Please commit or stash any changes before updating.","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nupgrade\n\n### Is this a regression?\n\nNo\n\n### Description\n\nCommand \nng update (some package - any package)\ngives Error: Repository is not clean. Please commit or stash any changes before updating.\n\nHowever the repo IS clean\nSame result for all the work-around (--allow-dirty, --force, and the combo) that 1000's of posts suggest on this error and 1000's of comments state they don't work. I noted this error from really old versions to the current. How can this be?\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\nError: Repository is not clean. Please commit or stash any changes before updating\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 19.0.2\nNode: 22.2.0\nPackage Manager: npm 10.9.1\nOS: win32 x64\n\nAngular: 19.0.3\n... core\n\nPackage                             Version\n-------------------------------------------------------------\n@angular-devkit/architect           0.1900.2\n@angular-devkit/build-angular       19.0.2\n@angular-devkit/core                19.0.2\n@angular-devkit/schematics          19.0.2\n@angular/animations                 19.0.1\n@angular/cdk                        19.0.1\n@angular/cli                        19.0.2\n@angular/common                     19.0.1\n@angular/compiler                   19.0.1\n@angular/compiler-cli               19.0.1\n@angular/forms                      19.0.1\n@angular/material                   19.0.1\n@angular/platform-browser           19.0.1\n@angular/platform-browser-dynamic   19.0.1\n@angular/router                     19.0.1\n@schematics/angular                 19.0.2\nrxjs                                7.8.1\ntypescript                          5.5.4\nzone.js                             0.15.0\n```\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/29110","RelatedDescription":"Closed issue \"ng update gives Error: Repository is not clean. Please commit or stash any changes before updating.\" (#29110)"},{"Id":"2733058561","IsPullRequest":false,"CreatedAt":"2024-12-11T13:59:36","Actor":"alan-agius4","Number":"29111","RawContent":null,"Title":"Support for Multi-Domain Locale Detection in Angular SSR","State":"open","Body":"\n\n### Description\n\n\nCurrently, Angular SSR does not provide built-in functionality to detect the domain in a multi-domain setup and serve the appropriate localized version of the application. This feature would allow Angular SSR to dynamically render pages with the correct locale based on the domain.\n\n**Use Case**:\n   - Applications serving different localized versions (e.g., `example.com`, `fr.example.com`, `example.de`) need SSR to serve the appropriate locale.  \n   - Example:  \n     - `example.com` → English content  \n     - `fr.example.com` → French content  \n     - `example.de` → German content  \n\n\n### Describe the solution you'd like\n\nAllow SSR to use the detected domain to select the corresponding locale configuration. Which simplifies multi-language deployment without relying on path-based locales (e.g., `/en`, `/fr`).\n\n\n### Describe alternatives you've considered\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/29111","RelatedDescription":"Open issue \"Support for Multi-Domain Locale Detection in Angular SSR\" (#29111)"},{"Id":"2732213030","IsPullRequest":true,"CreatedAt":"2024-12-11T13:52:27","Actor":"alan-agius4","Number":"29107","RawContent":null,"Title":"refactor(@angular/ssr): move ignored messages as a global","State":"closed","Body":"Refactored the ignored log messages into a global constant.\r\n","Url":"https://github.com/angular/angular-cli/pull/29107","RelatedDescription":"Closed or merged PR \"refactor(@angular/ssr): move ignored messages as a global\" (#29107)"},{"Id":"2738535458","IsPullRequest":false,"CreatedAt":"2024-12-11T13:01:17","Actor":"hillin","Number":"29130","RawContent":null,"Title":"Worklet support","State":"open","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\n\ncompiler\n\n### Description\n\nThe [worklets](https://developer.mozilla.org/en-US/docs/Web/API/Worklet) are light weighted version of web workers. Currently Angular supports web workers, but not worklets, this makes us unable to make use of Angular's Typescript and bundling support when writing a worklet (i.e. we have to write the worklet in pure Javasctript, or deal with compiling and bundling ourselves).\n\n### Proposed solution\n\nSupport worklet like web workers. \n\n### Alternatives considered\n\nFor now we have come to a hacky workaround:\n\n1. Write the worklet as if it's a web worker. This is perfecly supported by Angular. Now the problem is, to load the compiled worker script, we don't have a trivial way to get its URL.\n\n2. Wrap the worker code like this:\n\n```js\nif (typeof self !== \"undefined\") {\n  postMessage(self.location.href);\n} else {\n  // do the worklet thing\n}\n```\nWhen `self` is not `undefined`, we know this script is loaded as a webworker (in a worklet context it would be `undefined`). In this case, send the script's location by `postMessage`.\n\n3. When trying to load the worklet, first load it as a web worker, wait for it to report the location, then terminate the worker and use the location to load the worklet.\n\nE.g. load an audio worklet:\n```typescript\n// probe worker url\nconst worker = new Worker(\n  new URL(\"path/to/the/worker\", import.meta.url),\n);\n\nconst url = await new Promise<string>((resolve, reject) => {\n  worker.onmessage = (e) => {\n    resolve(e.data);\n    worker.terminate();\n  };\n\n  worker.onmessageerror = reject;\n});\n\nawait audioContext.audioWorklet.addModule(url);\n```\n","Url":"https://github.com/angular/angular-cli/issues/29130","RelatedDescription":"Open issue \"Worklet support\" (#29130)"},{"Id":"2732771482","IsPullRequest":true,"CreatedAt":"2024-12-11T11:54:53","Actor":"cexbrayat","Number":"29109","RawContent":null,"Title":"feat(@schematics/angular): use signal in app component","State":"open","Body":"## PR Checklist\r\n\r\nPlease check to confirm your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular-cli/blob/main/CONTRIBUTING.md#-commit-message-guidelines\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n## PR Type\r\n\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [x] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] Other... Please describe:\r\n\r\n## What is the new behavior?\r\n\r\nNow that signals are recommended, this updates the generated `AppComponent` to use a signal for the `title` field.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular-cli/pull/29109","RelatedDescription":"Open PR \"feat(@schematics/angular): use signal in app component\" (#29109)"},{"Id":"2731169631","IsPullRequest":false,"CreatedAt":"2024-12-11T06:22:41","Actor":"stewieoO","Number":"29103","RawContent":null,"Title":"AngularNodeAppEngine - Support for custom static providers","State":"closed","Body":"### Command\n\nserve, build, run\n\n### Description\n\nThe `renderApplication` function from `@angular/platform-server` supports providing your own static providers.\n\nIt is not possible to provide custom static providers when using the  `AngularNodeAppEngine` and it's `handle` function.\n\nYes, you can provide a request context that is later available through DI, but that is not the same as having direct access to the static providers.\n\nIs this maybe something already planned for a later release?\n\n### Describe the solution you'd like\n\nI would like the possibility to provide my own set of providers when initializing the `AngularNodeAppEngine` and then request specific providers when calling `handle`.\n\nFor example:\n```ts\n  const server = express();\n  const serverDistFolder = dirname(fileURLToPath(import.meta.url));\n  const browserDistFolder = resolve(serverDistFolder, '../browser');\n\n  const angularNodeAppEngine = new AngularNodeAppEngine([\n   { provide: MY_STATIC_TOKEN, value: 'same-value-for-each-request' }\n  ]);\n\n  server.get('**', (req, res, next) => {\n    // Yes, this is executed in devMode via the Vite DevServer\n    console.log('request', req.url, res.status);\n\n    angularNodeAppEngine\n      .handle(req, { server: 'express' }, [{ provide: MY_REQUEST_TOKEN, value: 'request-specific-value' }])\n      .then((response) =>\n        response ? writeResponseToNodeResponse(response, res) : next()\n      )\n      .catch(next);\n  });\n```\n\nFrom what i can see in the source code this would be just passing through and merging some provider arrays.\n\n### Describe alternatives you've considered\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/29103","RelatedDescription":"Closed issue \"AngularNodeAppEngine - Support for custom static providers\" (#29103)"}],"ResultType":"GitHubIssue"},"material2-Issues":{"Issues":[{"Id":"2738917397","IsPullRequest":false,"CreatedAt":"2024-12-13T21:11:19","Actor":"phillipadamson","Number":"30182","RawContent":null,"Title":"When using the datepicker and timepicker with reactive forms, the two components do not bind their values correctly.","State":"closed","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nWhen using the datepicker and timepicker together with a single reactive form control, an issue arises where updating one input does not reflect in the other. For instance, if both fields start as null and the user updates the datepicker to today, the timepicker remains null. In this case, I would expect the timepicker to display (select) 12:00 AM. Conversely, if both fields are null and the user selects 12:00 AM from the timepicker, I would expect the datepicker to show today’s date. It is important to note that when using ngModel, the functionality works as intended.\n\n### Reproduction\n\nStackBlitz link: https://stackblitz.com/edit/u7xejkgt?file=src%2Fexample%2Ftimepicker-datepicker-integration-example.html\nSteps to reproduce:\n1. Select a date from the datepicker or a time from the timepicker. \n2. Notice how the other bound form doesn't display the change.\n\n\n### Expected Behavior\n\nI would expect the functionality to be the same for reactive forms as it works for ngModel forms. When the user begins at null if they then choose a date or time the change should be reflected on the bound input.\n\n### Actual Behavior\n\nWhen using reactive forms where the timepicker and datepicker begin at null or undefined if the user clicks a date or time the other bound input isn't updated.\n\n### Environment\n\n- Angular: 19.0.3\n- CDK/Material: 19.0.2\n- Browser(s): Chrome\n- Operating System (e.g. Windows, macOS, Ubuntu): Ubuntu\n","Url":"https://github.com/angular/components/issues/30182","RelatedDescription":"Closed issue \"When using the datepicker and timepicker with reactive forms, the two components do not bind their values correctly.\" (#30182)"},{"Id":"2738031393","IsPullRequest":true,"CreatedAt":"2024-12-13T19:40:07","Actor":"crisbeto","Number":"30179","RawContent":null,"Title":"refactor(multiple): use renderer for manual event bindings","State":"closed","Body":"Switches our manual calls into `addEventListener` to use the renderer instead so that tooling (e.g. the tracing service) gets notified about them.\r\n\r\nNote that these changes only include the events that don't pass event options. The remaining events will be changed in a follow-up, because they require us to update to the latest `next` version of Angular.","Url":"https://github.com/angular/components/pull/30179","RelatedDescription":"Closed or merged PR \"refactor(multiple): use renderer for manual event bindings\" (#30179)"},{"Id":"2739002406","IsPullRequest":true,"CreatedAt":"2024-12-13T18:55:28","Actor":"andrewseguin","Number":"30183","RawContent":null,"Title":"fix(material/list): enable MacOS select all with command+a","State":"open","Body":"Fixes https://github.com/angular/components/issues/24781","Url":"https://github.com/angular/components/pull/30183","RelatedDescription":"Open PR \"fix(material/list): enable MacOS select all with command+a\" (#30183)"},{"Id":"2738896238","IsPullRequest":false,"CreatedAt":"2024-12-13T17:19:47","Actor":"Tungsten78","Number":"30181","RawContent":null,"Title":"@angular/material 19:  Datepicker integrated with Timepicker should not reset the time","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\n@angular/material\n\n### Is this a regression?\n\nYes\n\n### Description\n\nCan be reproduced in the v19 example:   https://material.angular.io/components/timepicker/examples#timepicker-datepicker-integration\n\nSteps:\n1) use datepicker to select date\n2) use timepicker to select time\n3) change date - either via picker or type\n\nExpected Result:\nTime portion of the value should not change\n\nActual Result:\nTime portion resets to 00:00\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://material.angular.io/components/timepicker/examples#timepicker-datepicker-integration\n\n### Please provide the exception or error you saw\n\n```true\n\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\n\"@angular/material\": \"19.0.3\",\n```\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/components/issues/30181","RelatedDescription":"Open issue \"@angular/material 19:  Datepicker integrated with Timepicker should not reset the time\" (#30181)"},{"Id":"2737048864","IsPullRequest":false,"CreatedAt":"2024-12-13T12:12:04","Actor":"hasokeric","Number":"30177","RawContent":null,"Title":"bug(mat-tab) Material Tab animation not working since v12+","State":"closed","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\nv12.2.13\n\n### Description\n\nIf you simply go to the page https://material.angular.io/components/tabs/overview#controlling-the-tab-animation and compare the *12.2.3* Angular Material docs to all the new ones the animations on the tabs stopped working.\n\nEven when I try something like, it doesnt work.\n```typescript\n{\n  provide: MAT_TABS_CONFIG,\n  useValue: {\n    animationDuration: '33330ms',\n    fitInkBarToContent: true\n  } as MatTabsConfig\n},\n```\n\n### Reproduction\n\nN/A\n\n### Expected Behavior\n\nThe mat-tab should animate slower, the docs should work.\n\n### Actual Behavior\n\nThe docs section doesn't animate.\n\n### Environment\n\nAngular Material Documentation","Url":"https://github.com/angular/components/issues/30177","RelatedDescription":"Closed issue \"bug(mat-tab) Material Tab animation not working since v12+\" (#30177)"},{"Id":"2738150538","IsPullRequest":false,"CreatedAt":"2024-12-13T11:13:26","Actor":"Klausmd5","Number":"30180","RawContent":null,"Title":"bug(COMPONENT): TimePicker does not show mat-error","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nUsing Angular 19 with Material 19\n\nWhen trying to display a mat-error - even without form validation - it does not show.\nWhen replacing the mat-error with mat-hint it does show correctly.\n\nIf i add mat-hint before adding mat-error, both messages show correctly.\n\nHere is my example code:\n\n```\n    <mat-form-field>\n        <mat-label>Checkin bis</mat-label>\n        <input matInput [formControl]=\"checkInBisControl\" [matTimepicker]=\"toHoursPicker\"\n          [(ngModel)]=\"placeData().checkInBis\" />\n        <mat-timepicker-toggle matIconSuffix [for]=\"toHoursPicker\" />\n        <mat-timepicker interval=\"1h\" #toHoursPicker />\n\n        @if(platzForm.hasError('checkInTimeInvalid')) {\n        <mat-hint>\n          <strong>Checkin-Zeit 'von' muss vor der Checkin-Zeit 'bis' liegen.</strong>\n        </mat-hint>\n        \n        <mat-error>\n          <strong>Checkin-Zeit 'von' muss vor der Checkin-Zeit 'bis' liegen.</strong>\n        </mat-error>\n        }\n    </mat-form-field>\n```\n\n### Reproduction\n\nStacklitz has some issues with angular material 19 - at least i am unable to do that\n\n### Expected Behavior\n\nShow the error-message under the timepicker\n\n### Actual Behavior\n\nDoes only show if switched to mat-hint\n\n### Environment\n\n- Angular: 19.0.0\n- CDK/Material: 19.0.0\n- Browser(s): Chrome\n- Operating System (Windows 11):\n","Url":"https://github.com/angular/components/issues/30180","RelatedDescription":"Open issue \"bug(COMPONENT): TimePicker does not show mat-error\" (#30180)"},{"Id":"2732501847","IsPullRequest":true,"CreatedAt":"2024-12-13T08:15:01","Actor":"crisbeto","Number":"30163","RawContent":null,"Title":"fix(material/menu): remove dependency on animations module","State":"closed","Body":"Second attempt at reworking the menu so it no longer depends on the animations module (after #30099). This should allow us to avoid some of the pitfalls of the animations module like occasional memory leaks (e.g. #47748) and reduce the bundle size.","Url":"https://github.com/angular/components/pull/30163","RelatedDescription":"Closed or merged PR \"fix(material/menu): remove dependency on animations module\" (#30163)"},{"Id":"2737599951","IsPullRequest":false,"CreatedAt":"2024-12-13T06:59:15","Actor":"alanpurple","Number":"30178","RawContent":null,"Title":"feat(COMPONENT): Tree cannot be expanded at start","State":"open","Body":"### Feature Description\n\nsince treecontrol is deprecated, there is no way to expand all or just first node at start\n\n### Use Case\n\n_No response_","Url":"https://github.com/angular/components/issues/30178","RelatedDescription":"Open issue \"feat(COMPONENT): Tree cannot be expanded at start\" (#30178)"},{"Id":"2735246131","IsPullRequest":true,"CreatedAt":"2024-12-12T20:58:28","Actor":"crisbeto","Number":"30175","RawContent":null,"Title":"fix(cdk/drag-drop): resolve projected handles","State":"closed","Body":"Currently the `cdkDragHandle` directive registers itself with the parent by resolving it through DI. This doesn't work if the directive is declared in a separate embedded view (e.g. `ng-template`) that is then projected into the draggable element. It can be problematic when adding dragging support to a `mat-table`.\r\n\r\nThese changes fix the issue by falling back to resolving the draggable directive through the DOM.\r\n\r\nFixes https://github.com/angular/components/issues/29475.","Url":"https://github.com/angular/components/pull/30175","RelatedDescription":"Closed or merged PR \"fix(cdk/drag-drop): resolve projected handles\" (#30175)"},{"Id":"2732566340","IsPullRequest":true,"CreatedAt":"2024-12-12T20:57:49","Actor":"crisbeto","Number":"30164","RawContent":null,"Title":"fix(material/tooltip): body line height affecting gap","State":"closed","Body":"Fixes that the line height of the `body` element was affecting the gap between the tooltip and the trigger.\r\n\r\nFixes #30132.","Url":"https://github.com/angular/components/pull/30164","RelatedDescription":"Closed or merged PR \"fix(material/tooltip): body line height affecting gap\" (#30164)"},{"Id":"2734059065","IsPullRequest":true,"CreatedAt":"2024-12-12T19:42:51","Actor":"andrewseguin","Number":"30173","RawContent":null,"Title":"fix(material/sort): If there is no direction, setting active as empty","State":"closed","Body":"Copy of https://github.com/angular/components/pull/27494 which seems to have CLA problems\r\n\r\nFixes https://github.com/angular/components/issues/15169","Url":"https://github.com/angular/components/pull/30173","RelatedDescription":"Closed or merged PR \"fix(material/sort): If there is no direction, setting active as empty\" (#30173)"},{"Id":"2733866045","IsPullRequest":true,"CreatedAt":"2024-12-12T17:58:53","Actor":"andrewseguin","Number":"30172","RawContent":null,"Title":"fix(material/table): improve filter predicate efficiency","State":"closed","Body":"Simplifies the table datasource's default filter predicate so that it iterates over each data value directly rather than building a string with delimited characters.\r\n\r\nCode was pulled and slightly modified from #21362\r\n\r\nNew logic performs quite a bit better than before: https://jsbench.me/4bkjp85g44/1","Url":"https://github.com/angular/components/pull/30172","RelatedDescription":"Closed or merged PR \"fix(material/table): improve filter predicate efficiency\" (#30172)"},{"Id":"2736118874","IsPullRequest":false,"CreatedAt":"2024-12-12T14:46:30","Actor":"Ben555555","Number":"30176","RawContent":null,"Title":"mat-label overflows matSuffix content","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nWhen a text is longer than the input field it overflows the matSuffix content (icons etc.):\n\n\n\n### Reproduction\n\n\n```\n<mat-form-field style=\"width:100px\">\n  <mat-label>Very very very very long text</mat-label>\n  <input matInput />\n  <span matSuffix>\n    <mat-icon>cancel</mat-icon>\n  </span>\n</mat-form-field>\n```\n\n![Image](https://github.com/user-attachments/assets/3966282c-425f-4593-9d17-35f5e1539d34)\n\n\n### Expected Behavior\n\nellipsis are displayed when overflowing the matSuffix content.\n\n### Actual Behavior\n\nThe input field label overflows the matSuffix content (icons etc.):\n\n### Environment\n\n- Angular: 18.2.14\n- CDK/Material: 18.2.14\n- Browser(s): Chrome\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows 11\n","Url":"https://github.com/angular/components/issues/30176","RelatedDescription":"Open issue \"mat-label overflows matSuffix content\" (#30176)"},{"Id":"2734958321","IsPullRequest":false,"CreatedAt":"2024-12-12T06:09:46","Actor":"smilThakur","Number":"30174","RawContent":null,"Title":"docs-bug(COMPONENT): Legacy token, and removed Tokens","State":"open","Body":"### Documentation Feedback\n\nWhile migrating from material 18 to 19, it was a great help from the styling tab but we were not able to get tokens like for eg: pseudo-checkbox, ripple-color, some fab tokens, can you please address mappings of removed tokens or how can we handle them\n\nsome tokens have legacy keyword as we constantly upgrade our system is it possible that these legacy tokens can be depreciated if yes, then what should be the flow, will you provide replacement?\n\n### Affected documentation page\n\nhttps://material.angular.io/components/checkbox/styling","Url":"https://github.com/angular/components/issues/30174","RelatedDescription":"Open issue \"docs-bug(COMPONENT): Legacy token, and removed Tokens\" (#30174)"},{"Id":"2731069924","IsPullRequest":true,"CreatedAt":"2024-12-11T21:19:07","Actor":"kseamon","Number":"30161","RawContent":null,"Title":"fix(cdk-experimental/column-resize): Previous size was being sent for…","State":"closed","Body":"… persistance rather than newly updated size in non-live resize mode.","Url":"https://github.com/angular/components/pull/30161","RelatedDescription":"Closed or merged PR \"fix(cdk-experimental/column-resize): Previous size was being sent for…\" (#30161)"},{"Id":"2733685948","IsPullRequest":true,"CreatedAt":"2024-12-11T18:35:43","Actor":"mmalerba","Number":"30171","RawContent":null,"Title":"Bump version to \"v19.1.0-next.2\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/30171","RelatedDescription":"Closed or merged PR \"Bump version to \"v19.1.0-next.2\" with changelog.\" (#30171)"},{"Id":"2733675103","IsPullRequest":true,"CreatedAt":"2024-12-11T18:22:37","Actor":"mmalerba","Number":"30170","RawContent":null,"Title":"docs: release notes for the v19.0.3 release","State":"closed","Body":"Cherry-picks the changelog from the \"19.0.x\" branch to the next branch (main).","Url":"https://github.com/angular/components/pull/30170","RelatedDescription":"Closed or merged PR \"docs: release notes for the v19.0.3 release\" (#30170)"},{"Id":"2733654953","IsPullRequest":true,"CreatedAt":"2024-12-11T18:20:11","Actor":"mmalerba","Number":"30169","RawContent":null,"Title":"Bump version to \"v19.0.3\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/30169","RelatedDescription":"Closed or merged PR \"Bump version to \"v19.0.3\" with changelog.\" (#30169)"},{"Id":"2733642628","IsPullRequest":true,"CreatedAt":"2024-12-11T18:07:19","Actor":"crisbeto","Number":"30168","RawContent":null,"Title":"Revert \"docs: archive changelog before v17\"","State":"closed","Body":"This reverts commit e7228a4362884043efe27af30cd2c0363a19795b.","Url":"https://github.com/angular/components/pull/30168","RelatedDescription":"Closed or merged PR \"Revert \"docs: archive changelog before v17\"\" (#30168)"},{"Id":"2733616215","IsPullRequest":false,"CreatedAt":"2024-12-11T17:52:19","Actor":"zygarios","Number":"30167","RawContent":null,"Title":"feat(theme-generator): Add possibility to force custom color @angular/material:theme-color","State":"open","Body":"### Feature Description\n\nMy problem is that I still can't understand how `@angular/material:theme-color` works. In the terminal, I need to provide colors for primary, secondary, and tertiary. For each one, I specify a single color, like #ff9500, because that's what I want.\n\n`What HEX color should be used to generate the M3 theme? It will represent your primary color palette. (ex. #ffffff) **#005dba**\nWhat HEX color should be used represent the secondary color palette? (Leave blank to use generated colors from Material) **#005dba**\nWhat HEX color should be used represent the tertiary color palette? (Leave blank to use generated colors from Material) **#005dba**`\n\n However, when generating the theme, I see that it creates color palettes, but when I try to get just my color, I use **`--mat-sys-primary`.** Unfortunately, it appears significantly darker (#8c5000), and I don't know which variable the color is actually hidden under. I have the impression that due to the low contrast, it is being artificially darkened. However, I selected the option not to generate mixins with high contrast. I would like to be able to use exactly that color without worrying about contrast. Currently, I am forced to manually change all the system token colors because the generated palette still interferes too much with what I want to achieve, taking away the flexibility I need in this case.\n\n\n\n### Use Case\n\nIt would be great to be able to specify in the terminal that I want exactly the colors I mention, without any interference.","Url":"https://github.com/angular/components/issues/30167","RelatedDescription":"Open issue \"feat(theme-generator): Add possibility to force custom color @angular/material:theme-color\" (#30167)"},{"Id":"2733260497","IsPullRequest":false,"CreatedAt":"2024-12-11T16:16:19","Actor":"theSumit67","Number":"30166","RawContent":null,"Title":"bug(AngularAnimations): Detached dom nodes with material component on navigation","State":"closed","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nI have a very basic app in Angular + Material version 14. \n\nOn one page I have mat-tabs and a button which navigates to a blank component destroying the previous component. After navigation all of the DOM nodes are going to detached state. I need to fix this in huge angular app which is on version 14. Please let me know if there is any solution exist\n\n![Image](https://github.com/user-attachments/assets/9f037f01-d6d0-4a6d-9614-c7d813cf6811)\n\n\n![Image](https://github.com/user-attachments/assets/d9d21ca0-4363-489c-8d90-289ca69c4c3f)\n\n\n\nAttaching sample project.[m14.zip](https://github.com/user-attachments/files/18098062/m14.zip)\n\n\n\n### Reproduction\n\nStackBlitz link: \nSteps to reproduce:\n1. ng serve\n2. click on the button to navigate to other page\n\n\n### Expected Behavior\n\nDetached DOM nodes should not be there\n\n### Actual Behavior\n\nAll of the nodes are going in detached state\n\n### Environment\n\n- Angular:14.3.0\n- CDK/Material:  14.2.7\n- Browser(s): Chrome\n- Operating System Windows, macOS, Ubuntu\n","Url":"https://github.com/angular/components/issues/30166","RelatedDescription":"Closed issue \"bug(AngularAnimations): Detached dom nodes with material component on navigation\" (#30166)"},{"Id":"2732597456","IsPullRequest":false,"CreatedAt":"2024-12-11T11:04:35","Actor":"de-don","Number":"30165","RawContent":null,"Title":"feat(mat-menu): add custom offetX and offsetY configuration","State":"open","Body":"### Feature Description\n\nIn some cases mat-menu opens realy close to corner of the viewport (like on the screenshot), so I think it would be nice to have and ability to add some minumun \"gap\". \n![Image](https://github.com/user-attachments/assets/6a3995f6-b1c7-4579-8822-c77ab0ca42f4)\n\nIn overlay builder it could be archived via `withPositions()` configuration.\n\n### Use Case\n\n_No response_","Url":"https://github.com/angular/components/issues/30165","RelatedDescription":"Open issue \"feat(mat-menu): add custom offetX and offsetY configuration\" (#30165)"},{"Id":"2731635209","IsPullRequest":false,"CreatedAt":"2024-12-11T06:07:44","Actor":"kanehjeong","Number":"30162","RawContent":null,"Title":"bug(mat-timepicker): Disabling TimePicker does not prevent dropdown from opening","State":"closed","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nWhen disabling a mat timepicker input field as well as the timepicker toggle, clicking the toggle or time value on the field still triggers the select dropdown for the times.\n\n### Reproduction\n\n[Stackblitz Link](https://stackblitz.com/edit/4nj2hwbz?file=src%2Fexample%2Ftimepicker-forms-example.ts)\n\nMade the following changes off [this material example link](https://material.angular.io/components/timepicker/examples#timepicker-forms)\n```\n// timepicker-forms-example.ts\nnew FormControl({ value: initialValue, disabled: true }); // Added disabled here\n\n// timepicker-forms-example.html\n<mat-timepicker-toggle matIconSuffix [for]=\"picker\" [disabled]=\"true\"/> <!-- Added disabled here -->\n```\n\nSteps to reproduce:\n1. Click the time value of the disabled input or the toggle icon\n2. Notice the select menu pop up with the time selections despite input being disabled\n\n\n### Expected Behavior\n\nShould not open timepicker menu when input and toggle are both disabled\n\n### Actual Behavior\n\nTimepicker select menu opens\n\n### Environment\n\n- Angular: 19.0.2\n- CDK/Material: 19.0.2\n- Browser(s): Chrome\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\n","Url":"https://github.com/angular/components/issues/30162","RelatedDescription":"Closed issue \"bug(mat-timepicker): Disabling TimePicker does not prevent dropdown from opening\" (#30162)"},{"Id":"2730998732","IsPullRequest":false,"CreatedAt":"2024-12-10T19:24:16","Actor":"scottg521","Number":"30160","RawContent":null,"Title":"bug(MatInputTestHarness): setValue does not trigger \"change\" event","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nAccording to the documentation, the MatInput component emits a \"change\" event when the value changes. However, the test harness does not emit this event after \"setValue()\". See the stackblitz.\n\nI have tried using focus() to focus the component before setting the value, then blur() to remove focus, which is what triggers \"change\" in the application, and there is still no \"change\" event.\n\n### Reproduction\n\nStackBlitz link: https://stackblitz.com/edit/phfedq5f?file=src%2Fexample%2Finput-harness-example.html\nSteps to reproduce:\n1. modified example test from https://material.angular.io/components/input/examples should run automatically\n2. two tests fail because the event spy is not called\n\n\n### Expected Behavior\n\nYou should be able to trigger the expected event with the test harness.\n\n### Actual Behavior\n\nExpected code associated with (change) to run.\n\n### Environment\n\n- Angular: 19\n- CDK/Material: 19\n- Browser(s): chrome\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows, macOs\n","Url":"https://github.com/angular/components/issues/30160","RelatedDescription":"Open issue \"bug(MatInputTestHarness): setValue does not trigger \"change\" event\" (#30160)"},{"Id":"2729466703","IsPullRequest":true,"CreatedAt":"2024-12-10T16:59:07","Actor":"crisbeto","Number":"30156","RawContent":null,"Title":"build: remove iOS test runs","State":"closed","Body":"Removes the tests that run against iOS. There are a couple of reasons to do so:\r\n* The tests haven't caught any issues in years.\r\n* The tests tend to be flaky.\r\n* They're running aginst iOS 15 which Angular no longer supports. We can't update to anything newer, because we would have to update our Saucelabs setup which will require dev infra time investment.","Url":"https://github.com/angular/components/pull/30156","RelatedDescription":"Closed or merged PR \"build: remove iOS test runs\" (#30156)"},{"Id":"2729762416","IsPullRequest":false,"CreatedAt":"2024-12-10T10:51:54","Actor":"pedroestabruxelles","Number":"30159","RawContent":null,"Title":"docs-bug(cdk-tree): stackblitz examples are broken","State":"open","Body":"### Documentation Feedback\n\nAll examples that are importing:\nimport {NestedFoodNode, NESTED_DATA} from '../tree-data';\nare missing that tree-data.ts file\n\n### Affected documentation page\n\nhttps://material.angular.io/cdk/tree/overview","Url":"https://github.com/angular/components/issues/30159","RelatedDescription":"Open issue \"docs-bug(cdk-tree): stackblitz examples are broken\" (#30159)"},{"Id":"2729709634","IsPullRequest":false,"CreatedAt":"2024-12-10T10:33:28","Actor":"Muqhees","Number":"30158","RawContent":null,"Title":"bug(MATCHIP): Chip text doesn't truncate or wrap if the text length takes more width than the form field","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\n Chip text doesn't truncate or wrap if the text length takes more width than the form field . Remove icon button is also not visible\n\n### Reproduction\n\nStackBlitz link: https://stackblitz.com/edit/hnhs71mw?file=src%2Fexample%2Fchips-autocomplete-example.html\nSteps to reproduce:\n1. \n2.\n\n\n### Expected Behavior\n\nText inside the chip should either truncate or wrap and the remove icon button should be visible\n\n### Actual Behavior\n\nText overflows the chip and the form field and the remove icon button is not visible\n\n### Environment\n\n- Angular:\n- CDK/Material:\n- Browser(s):\n- Operating System (e.g. Windows, macOS, Ubuntu):\n","Url":"https://github.com/angular/components/issues/30158","RelatedDescription":"Open issue \"bug(MATCHIP): Chip text doesn't truncate or wrap if the text length takes more width than the form field\" (#30158)"},{"Id":"2727505922","IsPullRequest":false,"CreatedAt":"2024-12-10T09:30:13","Actor":"naithagoni","Number":"30154","RawContent":null,"Title":"bug(mat-autocomplete): Dropdown Option `<mat-option>`  Not Visually Selected After Setting Value with `patchValue` in mat-autocomplete","State":"closed","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\n**Steps to Reproduce:**\n\n1. Open the application and navigate to the stepper component.\n2. Select a user in Step 1.\n3. Proceed to Step 2, where the `getProducts` method sets the value of the `productCtrl` control programmatically using `patchValue`.\n4. Open the autocomplete dropdown for the product selection.\n\n**Code Snippet:**\n\n```typescript\n<mat-stepper\n  linear\n  #stepper\n  (selectedIndexChange)=\"selectedStepperIndex.set($event)\"\n>\n  <mat-step [stepControl]=\"userFormGroup\">\n    <form class=\"example-form\" [formGroup]=\"userFormGroup\">\n      <ng-template matStepLabel>Step 1</ng-template>\n      @defer (when selectedStepperIndex() === 0; prefetch on idle) {\n      <user [form]=\"userFormGroup\"></user>\n      }\n      <div>\n        <button mat-button matStepperNext>Next</button>\n      </div>\n    </form>\n  </mat-step>\n  <mat-step [stepControl]=\"productFormGroup\">\n    <form [formGroup]=\"productFormGroup\">\n      <ng-template matStepLabel>Step 2</ng-template>\n      @defer (when selectedStepperIndex() === 1; prefetch on idle) {\n      <product\n        [form]=\"productFormGroup\"\n        [selectedUserId]=\"userFormGroup.controls.userCtrl.value?.id ?? ''\"\n      ></product>\n      }\n      <div>\n        <button mat-button matStepperPrevious>Back</button>\n        <button mat-button matStepperNext>Next</button>\n      </div>\n    </form>\n  </mat-step>\n  <mat-step>\n    <ng-template matStepLabel>Done</ng-template>\n    <p>You are now done.</p>\n    <div>\n      <button mat-button matStepperPrevious>Back</button>\n      <button mat-button (click)=\"stepper.reset()\">Reset</button>\n    </div>\n  </mat-step>\n</mat-stepper>\n\n\nimport { Component, inject, signal } from '@angular/core';\nimport {\n  FormBuilder,\n  Validators,\n  FormsModule,\n  ReactiveFormsModule,\n  FormControl,\n  FormGroup,\n} from '@angular/forms';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatStepperModule } from '@angular/material/stepper';\nimport { MatButtonModule } from '@angular/material/button';\nimport { UserComponent } from 'src/user/user.component';\nimport { ProductComponent } from 'src/product/product.component';\n\nexport interface User {\n  id: string;\n  name: string;\n}\n\nexport interface Product {\n  id: string;\n  desc: string;\n}\n\nexport interface UserForm {\n  userCtrl: FormControl<User | null>;\n}\n\nexport interface ProductForm {\n  productCtrl: FormControl<Product | null>;\n}\n\n@Component({\n  selector: 'stepper-editable-example',\n  templateUrl: 'stepper-editable-example.html',\n  styleUrl: 'stepper-editable-example.css',\n  imports: [\n    MatButtonModule,\n    MatStepperModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatAutocompleteModule,\n    UserComponent,\n    ProductComponent,\n  ],\n})\nexport class StepperEditableExample {\n  private _formBuilder = inject(FormBuilder);\n  selectedStepperIndex = signal(0);\n\n  userFormGroup: FormGroup<UserForm> = this._formBuilder.group({\n    userCtrl: [null as User | null, Validators.required],\n  });\n\n  productFormGroup: FormGroup<ProductForm> = this._formBuilder.group({\n    productCtrl: [null as Product | null, Validators.required],\n  });\n}\n\n\n<mat-form-field class=\"example-full-width\">\n<mat-label>User</mat-label>\n<input\n  type=\"text\"\n  placeholder=\"Pick one\"\n  matInput\n  [formControl]=\"form.controls.userCtrl\"\n  [matAutocomplete]=\"auto\"\n/>\n<mat-autocomplete #auto=\"matAutocomplete\" [displayWith]=\"displayFn\">\n  @for (user of users; track user) {\n  <mat-option [value]=\"user\">{{ user.name }}</mat-option>\n  }\n</mat-autocomplete>\n</mat-form-field>\n\n\nimport { Component, Input } from '@angular/core';\nimport { FormGroup, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { User, UserForm } from 'src/example/stepper-editable-example';\n\n@Component({\n  selector: 'user',\n  templateUrl: 'user.component.html',\n  styleUrl: 'user.component.css',\n  imports: [\n    FormsModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatAutocompleteModule,\n    ReactiveFormsModule,\n  ],\n})\nexport class UserComponent {\n  @Input() form: FormGroup<UserForm>;\n  users: User[] = [\n    {\n      id: '1',\n      name: 'John',\n    },\n    {\n      id: '2',\n      name: 'David',\n    },\n    {\n      id: '3',\n      name: 'Smith',\n    },\n  ];\n\n  displayFn(user: User): string {\n    return user ? user.name : '';\n  }\n}\n\n\n<div style=\"display: flex; flex-direction: column;\">\n<mat-form-field class=\"example-full-width\">\n  <mat-label>Product</mat-label>\n  <input\n    type=\"text\"\n    placeholder=\"Pick one\"\n    matInput\n    [formControl]=\"form.controls.productCtrl\"\n    [matAutocomplete]=\"autoProduct\"\n  />\n  <mat-autocomplete\n    #autoProduct=\"matAutocomplete\"\n    [displayWith]=\"displayProductFn\"\n  >\n    @for (product of products; track product) {\n    <mat-option [value]=\"product\">{{ product.desc }}</mat-option>\n    }\n  </mat-autocomplete>\n</mat-form-field>\n</div>\n\n\nimport {\n  Component,\n  Injectable,\n  Input,\n  OnChanges,\n  OnInit,\n  SimpleChanges,\n} from '@angular/core';\nimport { FormGroup, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport {\n  Product,\n  ProductForm,\n  User,\n} from 'src/example/stepper-editable-example';\nimport { HttpClient } from '@angular/common/http';\nimport { BehaviorSubject, Observable, of } from 'rxjs';\n\n@Component({\n  selector: 'product',\n  templateUrl: 'product.component.html',\n  styleUrl: 'product.component.css',\n  imports: [\n    FormsModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatAutocompleteModule,\n    ReactiveFormsModule,\n  ],\n})\nexport class ProductComponent implements OnInit {\n  @Input() form: FormGroup<ProductForm>;\n  private _selectedUserId: string = '';\n  private isFirstChange = true;\n  @Input()\n  get selectedUserId(): string {\n    return this._selectedUserId;\n  }\n  set selectedUserId(value: string) {\n    if (this._selectedUserId !== value) {\n      this._selectedUserId = value;\n      if (!this.isFirstChange) {\n        console.log('SETTER INSIDE IF...');\n        this.onSelectedUserIdChange();\n      }\n      this.isFirstChange = false;\n    }\n  }\n  products: Product[] = [];\n\n  constructor(private productService: ProductService) {}\n\n  ngOnInit() {\n    if (this.selectedUserId) {\n      this.getProducts();\n    }\n  }\n\n  displayProductFn(product: Product): string {\n    return product ? product.desc : '';\n  }\n\n  getProducts() {\n    this.productService\n      .getProductsService(this.selectedUserId ? this.selectedUserId : '')\n      .subscribe((products) => {\n        this.products = products;\n        this.form.patchValue({\n          productCtrl: products[1],\n        });\n      });\n  }\n\n  private onSelectedUserIdChange(): void {\n    this.form.controls.productCtrl.setValue(null);\n    this.getProducts();\n  }\n}\n\n@Injectable({ providedIn: 'root' })\nexport class ProductService {\n  private sub = new BehaviorSubject<Product[]>([]);\n\n  private productMap: { [key: string]: Product[] } = {\n    '1': [\n      {\n        id: '1',\n        desc: 'One',\n      },\n      {\n        id: '2',\n        desc: 'Two',\n      },\n      {\n        id: '3',\n        desc: 'Three',\n      },\n    ],\n    '2': [\n      {\n        id: '1',\n        desc: 'Four',\n      },\n      {\n        id: '2',\n        desc: 'Five',\n      },\n      {\n        id: '3',\n        desc: 'Six',\n      },\n    ],\n    '3': [\n      {\n        id: '1',\n        desc: 'Seven',\n      },\n      {\n        id: '2',\n        desc: 'Eight',\n      },\n      {\n        id: '3',\n        desc: 'Nine',\n      },\n    ],\n  };\n\n  public observable$: Observable<Product[]> = this.sub.asObservable();\n  constructor(private httpClient: HttpClient) {}\n\n  getProductsService(userId: string): Observable<Product[]> {\n    const products = this.productMap[userId] || [];\n    return of(products);\n    // return this.httpClient.get<Product[]>(http://api/${userId});\n  }\n}\n```\n\n### Reproduction\n\nStackBlitz link: [mat-autocomplete with mat-stepper](https://stackblitz.com/edit/zzialkdj-d8rtr2sa)\n\n\n### Expected Behavior\n\nThe `<mat-option>` corresponding to the value set by `patchValue` should visually appear as selected in the autocomplete dropdown when the component is loaded.\n\n![Image](https://github.com/user-attachments/assets/09386ba4-6867-4467-b430-3ad7ae15da26)\n\n\n### Actual Behavior\n\nWhen setting the value of the product form control via `patchValue` inside the `getProducts` method, the form control updates its value correctly. However, the corresponding `<mat-option>` in the autocomplete dropdown does not visually show as selected on the initial load of the component.\n\n![Image](https://github.com/user-attachments/assets/2a862094-5b17-4b30-a53a-b7b197180e7d)\n\n\n### Environment\n\n- Angular: `18.2.9`\n- CDK/Material: `18.2.10`\n- Browser(s): Google Chrome\n- Operating System (e.g. Windows, macOS, Ubuntu):\n","Url":"https://github.com/angular/components/issues/30154","RelatedDescription":"Closed issue \"bug(mat-autocomplete): Dropdown Option `<mat-option>`  Not Visually Selected After Setting Value with `patchValue` in mat-autocomplete\" (#30154)"},{"Id":"2727447736","IsPullRequest":false,"CreatedAt":"2024-12-10T09:21:46","Actor":"XavierDupessey","Number":"30153","RawContent":null,"Title":"bug(matAutocomplete): Autocomplete not opening with shadow DOM","State":"closed","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nHello,\n\nThe `MatAutocomplete` does not open when starting writing text if the Shadow DOM encapsulation is used.\nWe have to click to trigger the opening.\n\nWithout Shadow DOM encapsulation (working):\nhttps://github.com/user-attachments/assets/911e3de9-83c3-412e-a87e-6f994298fead\n\nWith Shadow DOM encapsulation (NOT working):\nhttps://github.com/user-attachments/assets/c0ced996-2bf9-40d5-84ba-d2d5e490e10a\n\nThank you,\nXavier\n\n### Reproduction\n\nCheckout: https://github.com/XavierDupessey/ng-14-mat-autocomplete-issue\nRun: `npm start`\nOpen `http://localhost:4200`\n\n### Expected Behavior\n\nThe autocomplete should open when entering text even when Shadow DOM encapsulation is enabled.\n\n### Actual Behavior\n\nSelect a value from the autocomplete, then input text to search another one: the autocomplete does not open.\n\n### Environment\n\n- Angular: 14\n- CDK/Material: 14\n- Browser(s): Chrome\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows","Url":"https://github.com/angular/components/issues/30153","RelatedDescription":"Closed issue \"bug(matAutocomplete): Autocomplete not opening with shadow DOM\" (#30153)"},{"Id":"2728143888","IsPullRequest":true,"CreatedAt":"2024-12-09T20:01:51","Actor":"andrewseguin","Number":"30155","RawContent":null,"Title":"fix(material/form-field): move error aria-live to parent container","State":"open","Body":"This is a slight change in behavior where the aria-live is always set to polite even if the user puts a different `aria-live` value on the error. Based on internal usage, this is very rare (and not part of the documented API)\r\n\r\nFixes #29616 ","Url":"https://github.com/angular/components/pull/30155","RelatedDescription":"Open PR \"fix(material/form-field): move error aria-live to parent container\" (#30155)"}],"ResultType":"GitHubIssue"}},"RunOn":"2024-12-14T03:30:03.1313347Z","RunDurationInMilliseconds":1576}