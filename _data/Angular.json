{"Data":{"Angular-Issues":{"Issues":[{"Id":"2303817536","IsPullRequest":false,"CreatedAt":"2024-05-18T03:04:05","Actor":"usmanmanii","Number":"55867","RawContent":null,"Title":"Component Destruction Occurs Before canDeactivate Guard :  Component is destory before going to canDeactivate guard. ","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\nrouter\n\n### Is this a regression?\n\nYes\n\n### Description\n\nI’m attempting to add an unsaved popup modal in my component. I’ve used lazy loading to load modules, and after that, I’m loading standalone components. However, I’ve encountered an issue: when applying a canDeactivate Guard, the canDeactivateFn loses the component reference. As a result, the component is destroyed before the canDeactivate Guard is called with a null component value. Is there any way to handle this? I’ve tried various approaches.\r\n \r\n\r\ni'm using  \"@angular/router\": \"^17.0.7\", \r\n\r\n![image](https://github.com/angular/angular/assets/29162578/5335f158-ac23-46da-868d-adc484c97d75)\r\n\r\n![image](https://github.com/angular/angular/assets/29162578/943eb182-0430-4a7c-b946-dee78f67516d)\r\n![image](https://github.com/angular/angular/assets/29162578/06d9ad11-7b4d-417e-907c-b02b8dc4db99)\r\n\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 17.0.8\r\nNode: 20.10.0\r\nPackage Manager: npm 10.2.3\r\nOS: win32 x64\r\n\r\nAngular: 17.0.8\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... localize, platform-browser, platform-browser-dynamic\r\n... platform-server, router, ssr\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.8\r\n@angular-devkit/build-angular   17.0.8\r\n@angular-devkit/core            17.0.8\r\n@angular-devkit/schematics      17.0.8\r\n@angular/cdk                    17.0.5\r\n@angular/google-maps            17.1.0\r\n@schematics/angular             17.0.8\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.2\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/55867","RelatedDescription":"Open issue \"Component Destruction Occurs Before canDeactivate Guard :  Component is destory before going to canDeactivate guard. \" (#55867)"},{"Id":"2303674985","IsPullRequest":true,"CreatedAt":"2024-05-17T23:44:56","Actor":"dylhunn","Number":"55865","RawContent":null,"Title":"Extra abstract control arg","State":"closed","Body":"Draft PR for #55577","Url":"https://github.com/angular/angular/pull/55865","RelatedDescription":"Closed or merged PR \"Extra abstract control arg\" (#55865)"},{"Id":"2303690117","IsPullRequest":true,"CreatedAt":"2024-05-17T23:38:37","Actor":"JeanMeche","Number":"55866","RawContent":null,"Title":"fix(forms): Treat empty objects as errors.","State":"open","Body":"In some cases the validator could return an empty object while having all validators returning null This commit makes it more consistant by treating empty error objects as valid controls.\r\n\r\nfixes #54214\r\n","Url":"https://github.com/angular/angular/pull/55866","RelatedDescription":"Open PR \"fix(forms): Treat empty objects as errors.\" (#55866)"},{"Id":"2303623562","IsPullRequest":true,"CreatedAt":"2024-05-17T21:55:36","Actor":"tbondwilkinson","Number":"55864","RawContent":null,"Title":"refactor(core): Add a bit to `EventInfo` to mark resolution.","State":"open","Body":"This will prevent running `ActionResolver` logic multiple times while migrating to use `Dispatcher` to resolve actions rather than `EventContract`.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [x] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n","Url":"https://github.com/angular/angular/pull/55864","RelatedDescription":"Open PR \"refactor(core): Add a bit to `EventInfo` to mark resolution.\" (#55864)"},{"Id":"2303488621","IsPullRequest":false,"CreatedAt":"2024-05-17T19:58:46","Actor":"dreamstar-enterprises","Number":"55863","RawContent":null,"Title":"Component Input Binding - can child of the parent access the params of the parent, via component input binding syntax?","State":"closed","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\r\n\r\ncore, router\r\n\r\n### Description\r\n\r\nCan child components of the parent that has the param also access the e.g. params :id\r\nRight now, I have to pass all the inputs from the parent (which is the container), into the child's via the component [input] parameter. \r\nWould be great if the childs could also access the input bindings of the parent. \r\nNot sure how the Angular team views this, maybe something they have already thought about?\r\n\r\n### Proposed solution\r\n\r\nPropose input bindings to be directly accessible by child components (not those loaded via router outlet, but actual components put into the view template of the parent)\r\n\r\n### Alternatives considered\r\n\r\nCurrently having to manually pass through the parent down to the child. \r\nThe parent (in my case a container), has no real interest in the params, it is the child that does. ","Url":"https://github.com/angular/angular/issues/55863","RelatedDescription":"Closed issue \"Component Input Binding - can child of the parent access the params of the parent, via component input binding syntax?\" (#55863)"},{"Id":"2303478124","IsPullRequest":false,"CreatedAt":"2024-05-17T19:51:35","Actor":"JuanJoseToroCh","Number":"55862","RawContent":null,"Title":"Missing photos from tutorial","State":"closed","Body":"### Describe the problem that you experienced\n\nThe photos in \r\n\r\nhttps://angular.dev/assets/tutorials/common/example-house.jpg\r\n\r\nAre no longer available to complete the tutorial.\n\n### Enter the URL of the topic with the problem\n\nhttps://angular.dev/tutorials/first-app/07-dynamic-template-values\n\n### Describe what you were looking for in the documentation\n\n_No response_\n\n### Describe the actions that led you to experience the problem\n\n_No response_\n\n### Describe what you want to experience that would fix the problem\n\n_No response_\n\n### Add a screenshot if that helps illustrate the problem\n\n![image](https://github.com/angular/angular/assets/63673589/f7f6ac10-c127-4d95-b36b-7a0fbf768e7c)\r\n\n\n### If this problem caused an exception or error, please paste it here\n\n_No response_\n\n### If the problem is browser-specific, please specify the device, OS, browser, and version\n\n_No response_\n\n### Provide any additional information here in as much as detail as you can\n\n_No response_","Url":"https://github.com/angular/angular/issues/55862","RelatedDescription":"Closed issue \"Missing photos from tutorial\" (#55862)"},{"Id":"2303137924","IsPullRequest":true,"CreatedAt":"2024-05-17T19:25:22","Actor":"thesmiler","Number":"55857","RawContent":null,"Title":"docs: Include info about experimental on adev","State":"closed","Body":"Copy information about meaning of \"experimental\"\r\nfrom angular.io to angular.dev.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [X] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [X] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [X] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\nangular.io has info about meaning of experimental, but angular.dev is missing it\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\nInformation is copied to angular.io\r\n\r\n## Does this PR introduce a breaking change?\r\n- [ ] Yes\r\n- [X] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/55857","RelatedDescription":"Closed or merged PR \"docs: Include info about experimental on adev\" (#55857)"},{"Id":"2301392238","IsPullRequest":true,"CreatedAt":"2024-05-17T19:24:38","Actor":"atscott","Number":"55839","RawContent":null,"Title":"fix(core): exhaustive checkNoChanges should only do a single pass","State":"closed","Body":"Because exhaustive checks traverse the whole tree regardless of the dirty state, it breaks some expectations around how change detection should be running. When a view has transplanted views, it unconditionally marks all ancestors for traversal, assuming this is fine because the loop will just traverse them and find nothing dirty. However, exhaustive checkNoChanages actually refreshes everything during traversal.\r\n\r\nThis update ensures the exhaustive check only does a single pass and also prevents some unnecessary marking of transplanted views for refresh since we know they're going to be reached.\r\n","Url":"https://github.com/angular/angular/pull/55839","RelatedDescription":"Closed or merged PR \"fix(core): exhaustive checkNoChanges should only do a single pass\" (#55839)"},{"Id":"2303354413","IsPullRequest":false,"CreatedAt":"2024-05-17T18:30:19","Actor":"dreamstar-enterprises","Number":"55861","RawContent":null,"Title":"Reactive Forms - Mat Select - doesn't trigger form or control as invalid after control has been touched, and validator.required is set to true","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\nforms\r\n\r\n### Is this a regression?\r\n\r\nYes\r\n\r\n### Description\r\n\r\nWith this code\r\n\r\n```\r\n   this.contractEngagementInfo.addControl('jobTitle',\r\n      this.formBuilder.control(null, [Validators.required]));\r\n```\r\n\r\n  ```\r\n<!-- select -->\r\n        <mat-select\r\n          id=\"jobTitle\"\r\n          placeholder=\"Select a job title\"\r\n          formControlName=\"jobTitle\"\r\n          required>\r\n          <mat-option>-- None --</mat-option>\r\n          @for (jobTitle of allowableOptions;\r\n            track jobTitle) {\r\n            <mat-option [value]=\"jobTitle\">{{jobTitle}}</mat-option>\r\n          }\r\n        </mat-select>\r\n```\r\n\r\nCurrent bug behaviour is that:\r\n\r\nIf the control gets loaded with data that is not amongst the allowable options, it will display\r\n\r\n'Select a job title' - i.e. the placeholder. \r\nIf I touch the control and select None, the control (and form) will become invalid, saying the field is required - great!\r\n\r\n**However**, if I touch the control and don't select None, or the other options, and unclick away from the contrl, I'd expect that since I have a validator.required validator on the cnotrl, that because I touched the control, it should ALSO say control (and form) are invalid, when I unclick away from it (just like what happens with a normal input field)\r\n\r\nThis currently doesn' happen, and means if the data loaded initially is wrong, a user can send back the same invalid data (since Angular never sees the form as invalid)\r\n\r\n<img width=\"712\" alt=\"Screenshot 2024-05-17 at 19 28 15\" src=\"https://github.com/angular/angular/assets/39380005/2ed49934-4ad9-405c-85b6-46cd2f2f4e85\">\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n[Reproduction on Stackblitz](https://stackblitz.com/edit/stackblitz-starters-gs9gmh?file=src%2Fmain.ts)\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nSee above\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n_No response_\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/55861","RelatedDescription":"Open issue \"Reactive Forms - Mat Select - doesn't trigger form or control as invalid after control has been touched, and validator.required is set to true\" (#55861)"},{"Id":"2303241945","IsPullRequest":true,"CreatedAt":"2024-05-17T17:16:30","Actor":"bougwal","Number":"55860","RawContent":null,"Title":"fix(forms): allow control state as reset argument for `FormGroup`","State":"open","Body":"fix(forms): Allow ControlState as reset arguments for `FormGroup`/`FormRecord`\r\n\r\nThis change also decorelate the `reset` type argument from `TValue` by adding a 3rd generic parameter to `AbstractControl`. \r\nThis improves the typings overall. \r\n\r\nThis PR closes https://github.com/angular/angular/issues/55577. \r\n","Url":"https://github.com/angular/angular/pull/55860","RelatedDescription":"Open PR \"fix(forms): allow control state as reset argument for `FormGroup`\" (#55860)"},{"Id":"2303231668","IsPullRequest":true,"CreatedAt":"2024-05-17T17:10:57","Actor":"angular-robot","Number":"55859","RawContent":null,"Title":"docs: update Angular CLI help [18.0.x]","State":"open","Body":"Updated Angular CLI help contents.","Url":"https://github.com/angular/angular/pull/55859","RelatedDescription":"Open PR \"docs: update Angular CLI help [18.0.x]\" (#55859)"},{"Id":"2303231663","IsPullRequest":true,"CreatedAt":"2024-05-17T17:10:57","Actor":"angular-robot","Number":"55858","RawContent":null,"Title":"docs: update Angular CLI help [main]","State":"open","Body":"Updated Angular CLI help contents.","Url":"https://github.com/angular/angular/pull/55858","RelatedDescription":"Open PR \"docs: update Angular CLI help [main]\" (#55858)"},{"Id":"2303109624","IsPullRequest":false,"CreatedAt":"2024-05-17T16:07:03","Actor":"fendypurnomo","Number":"55856","RawContent":null,"Title":"docs: is not recognized as an internal or external command, operable program or batch file","State":"open","Body":"### Describe the problem that you experienced\r\n\r\n```\r\nD:\\Applications\\docs\\angular.io\\angular>yarn docs\r\nyarn run v1.22.19\r\n$ [[ -n $CI ]] && echo 'Cannot run this yarn script on CI' && exit 1 || yarn bazel run //adev:serve --fast_adev\r\n'[[' is not recognized as an internal or external command,\r\noperable program or batch file.\r\n$ D:\\Applications\\docs\\angular.io\\angular\\node_modules\\.bin\\bazel run //adev:serve --fast_adev\r\nExtracting Bazel installation...\r\nStarting local Bazel server and connecting to it...\r\nINFO: Analyzed target //adev:serve (1319 packages loaded, 82779 targets configured).\r\nINFO: Found 1 target...\r\nERROR: D:/applications/docs/angular.io/angular/adev/src/content/tutorials/homepage/BUILD.bazel:12:20: Action adev/src/content/tutorials/homepage/homepage failed: (Exit 1): playground.bat failed: error executing command bazel-out\\x64_windows-opt-exec-2B5CBBC6\\bin\\external\\npm\\@angular\\docs\\pipeline\\playground.bat adev/src/content/tutorials/homepage external/npm/@angular/docs/pipeline/tutorials/common ... (remaining 2 arguments skipped)\r\n'\"\"' is not recognized as an internal or external command,\r\noperable program or batch file.\r\nERROR: D:/applications/docs/angular.io/angular/adev/src/content/tutorials/playground/BUILD.bazel:10:20: Action adev/src/content/tutorials/playground/playground failed: (Exit 1): playground.bat failed: error executing command bazel-out\\x64_windows-opt-exec-2B5CBBC6\\bin\\external\\npm\\@angular\\docs\\pipeline\\playground.bat adev/src/content/tutorials/playground external/npm/@angular/docs/pipeline/tutorials/common ... (remaining 2 arguments skipped)\r\n'\"\"' is not recognized as an internal or external command,\r\noperable program or batch file.\r\nERROR: D:/applications/docs/angular.io/angular/adev/src/content/tutorials/first-app/BUILD.bazel:21:18: Action adev/src/content/tutorials/first-app/first-app failed: (Exit 1): tutorial.bat failed: error executing command bazel-out\\x64_windows-opt-exec-2B5CBBC6\\bin\\external\\npm\\@angular\\docs\\pipeline\\tutorial.bat adev/src/content/tutorials/first-app external/npm/@angular/docs/pipeline/tutorials/common ... (remaining 2 arguments skipped)\r\n'\"\"' is not recognized as an internal or external command,\r\noperable program or batch file.\r\nERROR: D:/applications/docs/angular.io/angular/packages/platform-server/init/BUILD.bazel:20:8: Bundling Javascript ../npm/node_modules/domino/lib/index.js [esbuild] failed: (Exit 1): _bundled_domino_esbuild_launcher.bat failed: error executing command bazel-out\\x64_windows-opt-exec-2B5CBBC6-ST-2e5f3376adb5\\bin\\packages\\platform-server\\init\\_bundled_domino_esbuild_launcher.bat ... (remaining 3 arguments skipped)\r\n'\"\"' is not recognized as an internal or external command,\r\noperable program or batch file.\r\nTarget //adev:serve failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 1020.285s, Critical Path: 1.58s\r\nINFO: 1396 processes: 1112 internal, 284 local.\r\nFAILED: Build did NOT complete successfully\r\nFAILED: Build did NOT complete successfully\r\nerror Command failed with exit code 1.\r\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\nerror Command failed with exit code 1.\r\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\n```\r\n\r\n### Enter the URL of the topic with the problem\r\n\r\n_No response_\r\n\r\n### Describe what you were looking for in the documentation\r\n\r\nI'm cloning angular repo and i want to serve locally, but when i run command \"yarn docs\", i got an error\r\n\r\n### Describe the actions that led you to experience the problem\r\n\r\n_No response_\r\n\r\n### Describe what you want to experience that would fix the problem\r\n\r\n_No response_\r\n\r\n### Add a screenshot if that helps illustrate the problem\r\n\r\n_No response_\r\n\r\n### If this problem caused an exception or error, please paste it here\r\n\r\n_No response_\r\n\r\n### If the problem is browser-specific, please specify the device, OS, browser, and version\r\n\r\n_No response_\r\n\r\n### Provide any additional information here in as much as detail as you can\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/55856","RelatedDescription":"Open issue \"docs: is not recognized as an internal or external command, operable program or batch file\" (#55856)"},{"Id":"2303091791","IsPullRequest":true,"CreatedAt":"2024-05-17T15:58:46","Actor":"pmvald","Number":"55855","RawContent":null,"Title":"wip lcm template","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/55855","RelatedDescription":"Open PR \"wip lcm template\" (#55855)"},{"Id":"2303075290","IsPullRequest":false,"CreatedAt":"2024-05-17T15:53:06","Actor":"X-Celcius","Number":"55854","RawContent":null,"Title":"DevTools cause Firefox to consume high CPU and memory on Microsoft 365 websites","State":"open","Body":"### Is this a bug report or a feature request?\n\n- [X] Bug Report\n- [ ] Feature Request\n\n### Please provide the steps to reproduce the issue [Bug Report only]\n\nWhen accessing any Microsoft sharepoint or office page, Firefox starts to use around 50% CPU and uses an increasing amount of memory, way beyond 10GB after a few minutes. \r\nDisabling Angular DevTools resolves the issue. \n\n### Please provide the expected behavior vs the actual behavior you encountered [Bug Report only]\n\nExpected behavior: No noticeable performance impact by Angular DevTools, especially on non-Angular websites\r\nActual behavior: Extreme resource usage on some websites when enabling Angular DevTools\n\n### Please provide a screenshot if possible [Bug Report only]\n\n_No response_\n\n### Please provide the exception or error you saw [Bug Report only]\n\n```true\nI have tried to get a memory dump or profiling session from Firefox but it is incredibly difficult given that Firefox itself starts to hang after a few seconds and the only way to get it to be responsive again is to close the tab, which will also free up all memory. \r\n\r\nHowever, I have noticed that the error started roughly 1 week ago, when I also received the latest DevTools update 1.0.16. \r\nThis update mentions: \"Adding support for inspecting Angular applications inside iframes\"\r\n\r\nWhen I leave the console open when loading sharepoint it reports hundreds of these messages (among other things): \r\nIFrame: origin https://autologon.microsoftazuread-sso.com is not in the allowed list.\r\nor: \r\nIFrame: Integrated Windows Authentication failed with status code 401 (Unauthorized).\r\n\r\nThese messages do not appear once I disable the extension. \r\n\r\nBlind guess: \r\nI come to the conclusion that the IFrame-inspection causes some issue with the Microsoft SSO mechanism. I read somewhere that authorization inside IFrames requires special attention due to clickjacking attacks: https://datatracker.ietf.org/doc/html/rfc6819#section-4.4.1.9\r\nMaybe the inspection is interfering with this?\n```\n\n\n### Is this a browser-specific issue? If so, please specify the device, browser, and version. [Bug Report only]\n\n```true\nRunning Firefox 126.0 (64-Bit) on Windows 11\n```\n\n\n### Description [Feature Request only]\n\n_No response_\n\n### Proposed solution [Feature Request only]\n\n_No response_\n\n### Alternatives considered [Feature Request only]\n\n_No response_","Url":"https://github.com/angular/angular/issues/55854","RelatedDescription":"Open issue \"DevTools cause Firefox to consume high CPU and memory on Microsoft 365 websites\" (#55854)"},{"Id":"2302743994","IsPullRequest":false,"CreatedAt":"2024-05-17T14:13:30","Actor":"sbarfurth","Number":"55852","RawContent":null,"Title":"Animation trigger can be bound using @HostBinding and not using the host property","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nanimations\n\n### Is this a regression?\n\nNo\n\n### Description\n\nOne can use the `@HostBinding` decorator to add an animation trigger to a host element. This works perfectly fine. However, trying to add the same trigger using the `host` property fails with `NG05105`. Considering everything works correctly with `@HostBinding` the error appears to be incorrect.\r\n\r\n\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://stackblitz.com/edit/stackblitz-starters-qqh3bq?file=src%2Fmain.ts\n\n### Please provide the exception or error you saw\n\n```true\nNG05105: Unexpected synthetic property @state found. Please make sure that:\r\n  - Either `BrowserAnimationsModule` or `NoopAnimationsModule` are imported in your application.\r\n  - There is corresponding configuration for the animation named `@state` defined in the `animations` field of the `@Component` decorator (see https://angular.io/api/core/Component#animations).\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 17.3.7\r\nNode: 18.18.0\r\nPackage Manager: npm 10.2.3\r\nOS: linux x64\r\n\r\nAngular: 17.3.9\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1703.7\r\n@angular-devkit/build-angular   17.3.7\r\n@angular-devkit/core            17.3.7\r\n@angular-devkit/schematics      17.3.7\r\n@angular/cli                    17.3.7\r\n@schematics/angular             17.3.7\r\nrxjs                            7.8.1\r\ntypescript                      5.3.3\r\nzone.js                         0.14.6\n```\n\n\n### Anything else?\n\nIt appears this issue is present with both `provideAnimations()` and `BrowserAnimationsModule`. The issue seems to vanish with `provideAsyncAnimations()`. This is sadly not an option for me at this time.","Url":"https://github.com/angular/angular/issues/55852","RelatedDescription":"Closed issue \"Animation trigger can be bound using @HostBinding and not using the host property\" (#55852)"},{"Id":"2302822872","IsPullRequest":false,"CreatedAt":"2024-05-17T13:57:03","Actor":"rafagsiqueira","Number":"55853","RawContent":null,"Title":"NgOptimizedImage retrieving width not listed on breakpoints","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\ncommon\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nSetting the breakpoints and a custom loader:\r\n```\r\nconst imageBreakpoints = [32, 48, 64, 96, 128, 256, 384, 640, 750, 828, 1080, 1200, 1920, 2048];\r\n(...)\r\n{ provide: IMAGE_CONFIG, useValue: { breakpoints: imageBreakpoints, placeholderResolution: 32 }},\r\n{ provide: IMAGE_LOADER, useValue: (config: ImageLoaderConfig) => {\r\n      const [name, extension] = config.src.split('.');\r\n      return `${environment.public}/images/${name}/${config.width}.${extension}`;\r\n}},\r\n```\r\nI am getting the following 404 errors:\r\n`https://<redacted>/images/registration_and_publication/1510.jpg 404 (The specified blob does not exist.)`\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nI am getting the following 404 errors:\r\n`https://<redacted>/images/registration_and_publication/1510.jpg 404 (The specified blob does not exist.)`\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: 17.3.5\r\nNode: 20.13.1\r\nPackage Manager: yarn 4.1.1\r\nOS: darwin arm64\r\n\r\nAngular: 17.3.5\r\n... animations, cdk, cli, common, compiler, compiler-cli, core\r\n... forms, localize, material, platform-browser\r\n... platform-browser-dynamic, pwa, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1703.5\r\n@angular-devkit/build-angular   17.3.5\r\n@angular-devkit/core            17.3.5\r\n@angular-devkit/schematics      17.3.5\r\n@schematics/angular             17.3.5\r\nng-packagr                      17.3.0\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.4\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/55853","RelatedDescription":"Closed issue \"NgOptimizedImage retrieving width not listed on breakpoints\" (#55853)"},{"Id":"2302493549","IsPullRequest":true,"CreatedAt":"2024-05-17T11:38:24","Actor":"mdelaat","Number":"55851","RawContent":null,"Title":"docs: add JitBlox to development resources list","State":"closed","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/55851","RelatedDescription":"Closed or merged PR \"docs: add JitBlox to development resources list\" (#55851)"},{"Id":"2302201631","IsPullRequest":false,"CreatedAt":"2024-05-17T09:10:58","Actor":"MrPemu","Number":"55849","RawContent":null,"Title":"Not found images from tutorial","State":"closed","Body":"### Describe the problem that you experienced\n\nNot found images from tutorial **Build your first Angular app locally via npm**\r\n\r\nhttps://angular.dev/assets/tutorials/common/bernard-hermant-CLKGGwIBTaY-unsplash.jpg\r\nhttps://angular.dev/assets/tutorials/common//brandon-griggs-wR11KBaB86U-unsplash.jpg\r\netc...\n\n### Enter the URL of the topic with the problem\n\nhttps://angular.dev/assets/tutorials/common/bernard-hermant-CLKGGwIBTaY-unsplash.jpg\n\n### Describe what you were looking for in the documentation\n\n_No response_\n\n### Describe the actions that led you to experience the problem\n\n_No response_\n\n### Describe what you want to experience that would fix the problem\n\n_No response_\n\n### Add a screenshot if that helps illustrate the problem\n\n_No response_\n\n### If this problem caused an exception or error, please paste it here\n\n_No response_\n\n### If the problem is browser-specific, please specify the device, OS, browser, and version\n\n_No response_\n\n### Provide any additional information here in as much as detail as you can\n\n_No response_","Url":"https://github.com/angular/angular/issues/55849","RelatedDescription":"Closed issue \"Not found images from tutorial\" (#55849)"},{"Id":"2301977875","IsPullRequest":false,"CreatedAt":"2024-05-17T08:01:48","Actor":"megatcorleone","Number":"55847","RawContent":null,"Title":"platform-browser.mjs _getStyleElement function under SharedStylesHost class trigger CSP error","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\nplatform-browser\r\n\r\n### Is this a regression?\r\n\r\nYes\r\n\r\n### Description\r\n\r\nWhich @angular/* package(s) are the source of the bug?\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nRefused to apply inline style because it violates the following Content Security Policy directive: \"style-src 'self'\". Either the 'unsafe-inline' keyword, a hash ('sha256-qTTH3DuzKPmgtKU61WF0JCpnThDceaYDm31rPH7akOE='), or a nonce ('nonce-...') is required to enable inline execution.\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: 17.3.7\r\nNode: 20.13.1\r\nPackage Manager: npm 10.5.2\r\nOS: darwin x64\r\n\r\nAngular: 17.1.3\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... platform-server, router, service-worker\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1701.4\r\n@angular-devkit/build-angular   17.1.4\r\n@angular-devkit/core            17.1.4\r\n@angular-devkit/schematics      17.1.4\r\n@angular/fire                   16.0.0\r\n@angular/pwa                    17.1.4\r\n@schematics/angular             17.1.4\r\nrxjs                            7.5.7\r\ntypescript                      5.3.3\r\nzone.js                         0.14.5\r\n```\r\nIonic: \r\n   Ionic CLI                     : 7.2.0 (/Users/n7168/.nvm/versions/node/v20.13.1/lib/node_modules/@ionic/cli)\r\n   Ionic Framework               : @ionic/angular 8.1.1 (/Users/n7168/HLF-ng17-ionic8/node_modules/@ionic/angular)\r\n   @angular-devkit/build-angular : 17.1.4 (/Users/n7168/HLF-ng17-ionic8/node_modules/@angular-devkit/build-angular)\r\n   @angular-devkit/schematics    : 17.1.4 (/Users/n7168/HLF-ng17-ionic8/node_modules/@angular-devkit/schematics)\r\n   @angular/cli                  : not installed\r\n   @ionic/angular-toolkit        : not installed\r\n\r\n### Anything else?\r\n\r\nIssue: Hitting CSP violation for style-src on appendChild object method under _getStyleElement function.\r\n\r\nNote: **We are prevented from using 'unsafe-inline' due to penetration testing report on Content Security Policy**.","Url":"https://github.com/angular/angular/issues/55847","RelatedDescription":"Closed issue \"platform-browser.mjs _getStyleElement function under SharedStylesHost class trigger CSP error\" (#55847)"},{"Id":"2302066755","IsPullRequest":true,"CreatedAt":"2024-05-17T07:55:39","Actor":"crisbeto","Number":"55848","RawContent":null,"Title":"Start implementation of @let syntax","State":"open","Body":"These changes are the beginning of the new `@let` syntax that will allow Angular developers to declare local variables in templates. The PR includes the necessary changes to the lexer, as well as the HTML and R3 AST nodes integration (see the individual commits). More PRs in the future will integrate the syntax into the various parts of the framework.\r\n\r\n`@let` declarations are defined as:\r\n1. The `@let` keyword.\r\n2. Followed by one or more whitespaces.\r\n3. Followed by a valid JavaScript name and zero or more whitespaces.\r\n4. Followed by the `=` symbol and zero or more whitespaces.\r\n5. Followed by an Angular expression which can be multi-line.\r\n6. Terminated by the `;` symbol, or `,` if multiple declarations are being chained.\r\n\r\nExample usage:\r\n```\r\n<!-- Single declarations -->\r\n@let user = user$ | async;\r\n@let greeting = user ? 'Hello, ' + user.name : 'Loading';\r\n<h1>{{greeting}}</h1>\r\n\r\n<!-- Declare multiple variables at the same time -->\r\n@let user = user$ | async, greeting = user ? 'Hello, ' + user.name : 'Loading';\r\n<h1>{{greeting}}</h1>\r\n```\r\n\r\n### Alternative syntaxes\r\nWhile we were designing the syntax, we had some proposals for alternative syntaxes. This section covers why they weren't chosen over `@let`.\r\n\r\n#### `@const` instead of `@let`\r\nMost developers are taught to use `const` over `let` in TypeScript if the value doesn't change, and since `@let` can't be re-assigned, it could make sense to mirror the best practice from TypeScript. We've decided not to use `@const` because the value isn't actually constant, it is re-computed every time the template function runs.\r\n\r\nA good mental model for how a `@let` variable works as part of change detection is this:\r\n\r\n```\r\n// Template\r\n@let myVar = some.expression();\r\n<button (click)=\"doSomething(myVar)\">{{ myVar }}</button>\r\n\r\n// Compiled\r\nfunction MyCmp_Create() {\r\n  // Creation\r\n  let myVar;\r\n  let button = document.createElement('button');\r\n  button.addEventListener('click', () => doSomething(myVar));\r\n\r\n  // Update closes over creation\r\n  function MyCmp_Update() {\r\n    myVar = some.expression();\r\n    button.firstChild.textContent = myVar;\r\n  }\r\n}\r\n```\r\n\r\nNote how there is one instance of the variable myVar, which is closed over by the update operation. This pseudocode approximates how the variable's value is stored in the `LView` and used during change detection as well as accessed in event listeners.\r\n\r\nThe prohibition against writing to template variables is an extra restriction that Angular enforces, not an intrinsic property of the variable.\r\n\r\n\r\n#### Entirely new keyword\r\nWe don't want to come up with a completely new keyword (e.g. `@define`), because we want to maintain familiarity with the TypeScript syntax.\r\n\r\n\r\n#### `@var` instead of `@let`\r\nUsing `var` may make sense since the expression value is variable, but using `var` in JavaScript is considered an anti-pattern and we don't want to adopt the negative terminology in Angular.\r\n\r\nvar also implies different hoisting semantics which we want to avoid.\r\n\r\n#### Block-like syntax\r\nThere was a proposal to introduce a syntax similar to blocks for defining variables which would look something like the following:\r\n\r\n```\r\n@let {\r\n  one = 1;\r\n  two = 2;\r\n  sum = one + two;\r\n}\r\n```\r\n\r\nThis syntax isn't suitable, because:\r\n1. Developers used to writing TypeScript won't be familiar with it.\r\n2. It requires more keystrokes compared to the other proposals.\r\n3. We would have to define a new microsyntax within the block.\r\n4. Syntax highlighting will be trickier to implement.\r\n\r\nRelates to #15280\r\n\r\n","Url":"https://github.com/angular/angular/pull/55848","RelatedDescription":"Open PR \"Start implementation of @let syntax\" (#55848)"},{"Id":"2301545063","IsPullRequest":false,"CreatedAt":"2024-05-17T00:54:13","Actor":"Melliche","Number":"55843","RawContent":null,"Title":"Request with HttpClient not displayed in browser inspector but works","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nDon't known / other\n\n### Is this a regression?\n\nYes\n\n### Description\n\nHello, the bug is very simple, I perform a simple get request using httpClient in one of my services, knowing that this request returns a promise\r\n\r\nIf I call the method of my service in the constructor or ngOnInit of my component, the request works, if I log in the subscribe I have the data. But no request appears in my browser's network inspector.\r\n\r\nHowever if I call this method of my service in a method of my component triggered when a button is clicked, the request works fine, but the request appears in the browser inspector\r\n\r\nThere is no error\r\n\r\non MacOs and windows\r\n\r\n\r\nservice.ts\r\n``` \r\n  get(): Observable<any> {\r\n    return this.http.get<any>(`${this.uri}`, {});\r\n  }\r\n```\r\n\r\ncomponent.ts\r\n```\r\n    constructor(private readonly service: Service) {\r\n     service.get().subscribe((data) => { // I don't see request in inspector\r\n       console.log(data); // data is present\r\n     });\r\n    }\r\n\r\n\r\n  clickGet(): void { // I see request in inspector when I click on button\r\n    this.service.get().subscribe(data) => {\r\n       console.log(data); // data is present\r\n     });\r\n  }\r\n```\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nNode: 20.12.2\r\nAngular CLI: 17.1.0\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/55843","RelatedDescription":"Closed issue \"Request with HttpClient not displayed in browser inspector but works\" (#55843)"},{"Id":"2301594886","IsPullRequest":true,"CreatedAt":"2024-05-17T00:34:22","Actor":"dylhunn","Number":"55846","RawContent":null,"Title":"docs(zone.js): update release guide for zone.js","State":"open","Body":"Update the releasing guide for zone.js, because one of the release commands was outdated.\r\n","Url":"https://github.com/angular/angular/pull/55846","RelatedDescription":"Open PR \"docs(zone.js): update release guide for zone.js\" (#55846)"},{"Id":"2301547883","IsPullRequest":true,"CreatedAt":"2024-05-17T00:32:17","Actor":"dylhunn","Number":"55845","RawContent":null,"Title":"release: cut the zone.js-0.14.6 release","State":"closed","Body":"","Url":"https://github.com/angular/angular/pull/55845","RelatedDescription":"Closed or merged PR \"release: cut the zone.js-0.14.6 release\" (#55845)"},{"Id":"2301545860","IsPullRequest":true,"CreatedAt":"2024-05-17T00:18:37","Actor":"dylhunn","Number":"55844","RawContent":null,"Title":"dev-infra: update DEVELOPER.md release instructions for zone.js","State":"closed","Body":"The previous instructions were stale. I have updated them to better reflect current processes.\r\n","Url":"https://github.com/angular/angular/pull/55844","RelatedDescription":"Closed or merged PR \"dev-infra: update DEVELOPER.md release instructions for zone.js\" (#55844)"},{"Id":"2301533523","IsPullRequest":true,"CreatedAt":"2024-05-16T23:27:57","Actor":"dylhunn","Number":"55842","RawContent":null,"Title":"release: cut the zone.js-0.14.6 release","State":"closed","Body":"","Url":"https://github.com/angular/angular/pull/55842","RelatedDescription":"Closed or merged PR \"release: cut the zone.js-0.14.6 release\" (#55842)"},{"Id":"2301520600","IsPullRequest":true,"CreatedAt":"2024-05-16T23:04:45","Actor":"angular-robot","Number":"55841","RawContent":null,"Title":"build: update io_bazel_rules_sass digest to 2907a45","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| io_bazel_rules_sass | http_archive | digest | `fcce061` -> `2907a45` |\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n🔕 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4zMzQuNCIsInVwZGF0ZWRJblZlciI6IjM3LjMzNC40IiwidGFyZ2V0QnJhbmNoIjoibWFpbiIsImxhYmVscyI6WyJhY3Rpb246IG1lcmdlIiwiYXJlYTogYnVpbGQgJiBjaSIsInRhcmdldDogcGF0Y2giXX0=-->\n","Url":"https://github.com/angular/angular/pull/55841","RelatedDescription":"Open PR \"build: update io_bazel_rules_sass digest to 2907a45\" (#55841)"},{"Id":"2301410427","IsPullRequest":true,"CreatedAt":"2024-05-16T21:49:19","Actor":"bougwal","Number":"55840","RawContent":null,"Title":"docs: Fix broken references to Location and LocationStrategy","State":"open","Body":"*  Fixing broken documentation reference to LocationStrategy and Location in HashLocationStrategy page\r\n\r\n\r\n_______________________________\r\n\r\nCurrent: \r\n\r\n<img width=\"1792\" alt=\"Screenshot 2024-05-16 at 23 40 15\" src=\"https://github.com/angular/angular/assets/61390636/a0960e1e-20a2-4690-b4bc-db27261ef789\">\r\n\r\n______________________________________\r\n\r\nAdding the @ see in place approach yields broken description (cc: @JeanMeche  same issue as per https://github.com/angular/angular/pull/55836#discussion_r1604047331)\r\n\r\n<img width=\"1785\" alt=\"Screenshot 2024-05-16 at 23 35 58\" src=\"https://github.com/angular/angular/assets/61390636/dd3e3431-c25a-43f7-8bac-82ce4b4f2d4b\">\r\n\r\n\r\n_____________________________________\r\n\r\nA small refactor as per the approach we adopted in https://github.com/angular/angular/pull/55836 adding the \"pill\" links at the end of the description \r\n\r\n<img width=\"1784\" alt=\"Screenshot 2024-05-16 at 23 42 11\" src=\"https://github.com/angular/angular/assets/61390636/6eb72aa6-9a21-41e8-9432-345e8684d884\">\r\n\r\n","Url":"https://github.com/angular/angular/pull/55840","RelatedDescription":"Open PR \"docs: Fix broken references to Location and LocationStrategy\" (#55840)"},{"Id":"2301388197","IsPullRequest":true,"CreatedAt":"2024-05-16T21:34:38","Actor":"rahatarmanahmed","Number":"55838","RawContent":null,"Title":"prototype speedy set","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/55838","RelatedDescription":"Open PR \"prototype speedy set\" (#55838)"},{"Id":"2301380641","IsPullRequest":true,"CreatedAt":"2024-05-16T21:28:58","Actor":"tbondwilkinson","Number":"55837","RawContent":null,"Title":"refactor(core): Add a new `EventDispatcher` class.","State":"open","Body":"`EventDispatcher` emulates the browser's event dispatch (mostly). It supports:\r\n - Bubbling and `stopPropagation`/`stopImmediatePropagation`.\r\n - `currentTarget` during dispatch.\r\n - Throwing errors for `preventDefault` if the event is being dispatched in replay.\r\n - Throwing errors for `composedPath()` if event is being dispatched in replay.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [x] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n","Url":"https://github.com/angular/angular/pull/55837","RelatedDescription":"Open PR \"refactor(core): Add a new `EventDispatcher` class.\" (#55837)"}],"ResultType":"GitHubIssue"},"AngularCli-Issues":{"Issues":[{"Id":"2303217946","IsPullRequest":true,"CreatedAt":"2024-05-17T18:14:41","Actor":"clydin","Number":"27656","RawContent":null,"Title":"refactor(@angular/cli): use prompt helper functions in analytics and completion commands","State":"closed","Body":"Instead of manually invoking an underlying prompt library, the analytics and completion commands now use the helper utility functions present to handle console prompts.","Url":"https://github.com/angular/angular-cli/pull/27656","RelatedDescription":"Closed or merged PR \"refactor(@angular/cli): use prompt helper functions in analytics and completion commands\" (#27656)"},{"Id":"2303057481","IsPullRequest":true,"CreatedAt":"2024-05-17T16:44:40","Actor":"clydin","Number":"27655","RawContent":null,"Title":"fix(@angular/cli): change update guide link to angular.dev","State":"closed","Body":"References to the Angular update guide now use the new angular.dev site.","Url":"https://github.com/angular/angular-cli/pull/27655","RelatedDescription":"Closed or merged PR \"fix(@angular/cli): change update guide link to angular.dev\" (#27655)"},{"Id":"2303026573","IsPullRequest":false,"CreatedAt":"2024-05-17T15:27:11","Actor":"Ashokkumar1995","Number":"27654","RawContent":null,"Title":"Vulnerability reported in braces package that is using chokidar@3.5.3","State":"open","Body":"### Command\n\nother\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nHi, we are using Angular 15 in our project and recently got a vulnerability issue reported in one of the transitive dependencies used in \"@angular-devkit/build-angular\": \"^15.2.11\" package.\r\n\r\n_Vulnerability message when we run audit: \r\n[1/1] - pkg:npm/braces@3.0.2 - 1 vulnerability found!\r\n  Vulnerability Title:  [CVE-2024-4068] CWE-1050\r\n  ID:  CVE-2024-4068\r\n  Description:  The NPM package `braces` fails to limit the number of characters it can handle, which could lead to Memory Exhaustion. In `lib/parse.js,` if a malicious user sends \"imbalanced braces\" as input, the parsing will enter a loop, which will cause the program to start allocating heap memory without freeing it at any moment of the loop. Eventually, the JavaScript heap limit is reached, and the program will crash.\r\n  \r\n  CVSS Score:  7.5\r\n  CVSS Vector:  CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H\r\n  CVE:  CVE-2024-4068\r\n  Reference:  https://ossindex.sonatype.org/vulnerability/CVE-2024-4068?component-type=npm&component-name=braces&utm_source=auditjs&utm_medium=integration&utm_content=4.0.45_\r\n\r\n![image](https://github.com/angular/angular-cli/assets/24711787/cf892df3-4e3f-4743-ab9a-5173aaa53f2d).\r\n\r\nI think this will affect other angular versions as well. can we get a minor fix for angular 15 and later versions?\r\n\n\n### Minimal Reproduction\n\nCreate a angular 15 project and use this library  \"auditjs\": \"^4.0.41\", to run the audit.\n\n### Exception or Error\n\n```text\n> auditjs ossi --q && (echo 'No Vulnerabilities Found.') || (echo 'Vulnerabilities found. Please fix them before proceeding further' && exit 1)\r\n[1/1] - pkg:npm/braces@3.0.2 - 1 vulnerability found!\r\n  Vulnerability Title:  [CVE-2024-4068] CWE-1050\r\n  ID:  CVE-2024-4068\r\n  Description:  The NPM package `braces` fails to limit the number of characters it can handle, which could lead to Memory Exhaustion. In `lib/parse.js,` if a malicious user sends \"imbalanced braces\" as input, the parsing will enter a loop, which will cause the program to start allocating heap memory without freeing it at any moment of the loop. Eventually, the JavaScript heap limit is reached, and the program will crash.\r\n  \r\n  CVSS Score:  7.5\r\n  CVSS Vector:  CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H\r\n  CVE:  CVE-2024-4068\r\n  Reference:  https://ossindex.sonatype.org/vulnerability/CVE-2024-4068?component-type=npm&component-name=braces&utm_source=auditjs&utm_medium=integration&utm_content=4.0.45\n```\n\n\n### Your Environment\n\n```text\nAngular CLI: 15.2.10\r\nNode: 16.19.1\r\nPackage Manager: npm 8.19.3\r\nOS: win32 x64\r\n\r\nAngular: 15.2.10\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, localize, platform-browser\r\n... platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1502.10\r\n@angular-devkit/build-angular   15.2.11\r\n@angular-devkit/core            15.2.10\r\n@angular-devkit/schematics      15.2.10\r\n@angular/cdk                    15.2.9\r\n@angular/flex-layout            15.0.0-beta.42\r\n@angular/material               15.2.9\r\n@schematics/angular             15.2.10\r\nng-packagr                      15.2.2\r\nrxjs                            6.6.7\r\ntypescript                      4.8.2\n```\n\n\n### Anything else relevant?\n\nCVE-2024-4068 was recently introduced and thus the vulnerability was not reported before.","Url":"https://github.com/angular/angular-cli/issues/27654","RelatedDescription":"Open issue \"Vulnerability reported in braces package that is using chokidar@3.5.3\" (#27654)"},{"Id":"2301840887","IsPullRequest":true,"CreatedAt":"2024-05-17T15:08:38","Actor":"angular-robot","Number":"27652","RawContent":null,"Title":"build: update actions/checkout action to v4.1.6","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [actions/checkout](https://togithub.com/actions/checkout) | action | patch | `v4.1.5` -> `v4.1.6` |\n\n---\n\n### Release Notes\n\n<details>\n<summary>actions/checkout (actions/checkout)</summary>\n\n### [`v4.1.6`](https://togithub.com/actions/checkout/blob/HEAD/CHANGELOG.md#v416)\n\n[Compare Source](https://togithub.com/actions/checkout/compare/v4.1.5...v4.1.6)\n\n-   Check platform to set archive extension appropriately by [@&#8203;cory-miller](https://togithub.com/cory-miller) in [https://github.com/actions/checkout/pull/1732](https://togithub.com/actions/checkout/pull/1732)\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n🔕 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4zMzQuNCIsInVwZGF0ZWRJblZlciI6IjM3LjMzNC40IiwidGFyZ2V0QnJhbmNoIjoibWFpbiIsImxhYmVscyI6WyJhY3Rpb246IG1lcmdlIiwidGFyZ2V0OiBtaW5vciJdfQ==-->\n","Url":"https://github.com/angular/angular-cli/pull/27652","RelatedDescription":"Closed or merged PR \"build: update actions/checkout action to v4.1.6\" (#27652)"},{"Id":"2299367400","IsPullRequest":true,"CreatedAt":"2024-05-17T15:07:24","Actor":"angular-robot","Number":"27650","RawContent":null,"Title":"build: update all non-major dependencies","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [actions/checkout](https://togithub.com/actions/checkout) | action | patch | `v4.1.5` -> `v4.1.6` |\n| [esbuild](https://togithub.com/evanw/esbuild) | optionalDependencies | patch | [`0.21.2` -> `0.21.3`](https://renovatebot.com/diffs/npm/esbuild/0.21.2/0.21.3) |\n| [esbuild](https://togithub.com/evanw/esbuild) | dependencies | patch | [`0.21.2` -> `0.21.3`](https://renovatebot.com/diffs/npm/esbuild/0.21.2/0.21.3) |\n| [esbuild](https://togithub.com/evanw/esbuild) | devDependencies | patch | [`0.21.2` -> `0.21.3`](https://renovatebot.com/diffs/npm/esbuild/0.21.2/0.21.3) |\n| [esbuild-wasm](https://togithub.com/evanw/esbuild) | dependencies | patch | [`0.21.2` -> `0.21.3`](https://renovatebot.com/diffs/npm/esbuild-wasm/0.21.2/0.21.3) |\n| [esbuild-wasm](https://togithub.com/evanw/esbuild) | devDependencies | patch | [`0.21.2` -> `0.21.3`](https://renovatebot.com/diffs/npm/esbuild-wasm/0.21.2/0.21.3) |\n| [sass](https://togithub.com/sass/dart-sass) | dependencies | patch | [`1.77.1` -> `1.77.2`](https://renovatebot.com/diffs/npm/sass/1.77.1/1.77.2) |\n| [sass](https://togithub.com/sass/dart-sass) | devDependencies | patch | [`1.77.1` -> `1.77.2`](https://renovatebot.com/diffs/npm/sass/1.77.1/1.77.2) |\n| [undici](https://undici.nodejs.org) ([source](https://togithub.com/nodejs/undici)) | dependencies | minor | [`6.16.1` -> `6.17.0`](https://renovatebot.com/diffs/npm/undici/6.16.1/6.17.0) |\n| [undici](https://undici.nodejs.org) ([source](https://togithub.com/nodejs/undici)) | devDependencies | minor | [`6.16.1` -> `6.17.0`](https://renovatebot.com/diffs/npm/undici/6.16.1/6.17.0) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>actions/checkout (actions/checkout)</summary>\n\n### [`v4.1.6`](https://togithub.com/actions/checkout/blob/HEAD/CHANGELOG.md#v416)\n\n[Compare Source](https://togithub.com/actions/checkout/compare/v4.1.5...v4.1.6)\n\n-   Check platform to set archive extension appropriately by [@&#8203;cory-miller](https://togithub.com/cory-miller) in [https://github.com/actions/checkout/pull/1732](https://togithub.com/actions/checkout/pull/1732)\n\n</details>\n\n<details>\n<summary>evanw/esbuild (esbuild)</summary>\n\n### [`v0.21.3`](https://togithub.com/evanw/esbuild/blob/HEAD/CHANGELOG.md#0213)\n\n[Compare Source](https://togithub.com/evanw/esbuild/compare/v0.21.2...v0.21.3)\n\n-   Implement the decorator metadata proposal ([#&#8203;3760](https://togithub.com/evanw/esbuild/issues/3760))\n\n    This release implements the [decorator metadata proposal](https://togithub.com/tc39/proposal-decorator-metadata), which is a sub-proposal of the [decorators proposal](https://togithub.com/tc39/proposal-decorators). Microsoft shipped the decorators proposal in [TypeScript 5.0](https://devblogs.microsoft.com/typescript/announcing-typescript-5-0/#decorators) and the decorator metadata proposal in [TypeScript 5.2](https://devblogs.microsoft.com/typescript/announcing-typescript-5-2/#decorator-metadata), so it's important that esbuild also supports both of these features. Here's a quick example:\n\n    ```js\n    // Shim the \"Symbol.metadata\" symbol\n    Symbol.metadata ??= Symbol('Symbol.metadata')\n\n    const track = (_, context) => {\n      (context.metadata.names ||= []).push(context.name)\n    }\n\n    class Foo {\n      @&#8203;track foo = 1\n      @&#8203;track bar = 2\n    }\n\n    // Prints [\"foo\", \"bar\"]\n    console.log(Foo[Symbol.metadata].names)\n    ```\n\n    **⚠️ WARNING ⚠️**\n\n    This proposal has been marked as \"stage 3\" which means \"recommended for implementation\". However, it's still a work in progress and isn't a part of JavaScript yet, so keep in mind that any code that uses JavaScript decorator metadata may need to be updated as the feature continues to evolve. If/when that happens, I will update esbuild's implementation to match the specification. I will not be supporting old versions of the specification.\n\n-   Fix bundled decorators in derived classes ([#&#8203;3768](https://togithub.com/evanw/esbuild/issues/3768))\n\n    In certain cases, bundling code that uses decorators in a derived class with a class body that references its own class name could previously generate code that crashes at run-time due to an incorrect variable name. This problem has been fixed. Here is an example of code that was compiled incorrectly before this fix:\n\n    ```js\n    class Foo extends Object {\n      @&#8203;(x => x) foo() {\n        return Foo\n      }\n    }\n    console.log(new Foo().foo())\n    ```\n\n-   Fix `tsconfig.json` files inside symlinked directories ([#&#8203;3767](https://togithub.com/evanw/esbuild/issues/3767))\n\n    This release fixes an issue with a scenario involving a `tsconfig.json` file that `extends` another file from within a symlinked directory that uses the `paths` feature. In that case, the implicit `baseURL` value should be based on the real path (i.e. after expanding all symbolic links) instead of the original path. This was already done for other files that esbuild resolves but was not yet done for `tsconfig.json` because it's special-cased (the regular path resolver can't be used because the information inside `tsconfig.json` is involved in path resolution). Note that this fix no longer applies if the `--preserve-symlinks` setting is enabled.\n\n</details>\n\n<details>\n<summary>sass/dart-sass (sass)</summary>\n\n### [`v1.77.2`](https://togithub.com/sass/dart-sass/blob/HEAD/CHANGELOG.md#1772)\n\n[Compare Source](https://togithub.com/sass/dart-sass/compare/1.77.1...1.77.2)\n\n-   Don't emit deprecation warnings for functions and mixins beginning with `__`.\n\n-   Allow user-defined functions whose names begin with `_` and otherwise look\n    like vendor-prefixed functions with special CSS syntax.\n\n##### Command-Line Interface\n\n-   Properly handle the `--silence-deprecation` flag.\n\n-   Handle the `--fatal-deprecation` and `--future-deprecation` flags for\n    `--interactive` mode.\n\n</details>\n\n<details>\n<summary>nodejs/undici (undici)</summary>\n\n### [`v6.17.0`](https://togithub.com/nodejs/undici/releases/tag/v6.17.0)\n\n[Compare Source](https://togithub.com/nodejs/undici/compare/v6.16.1...v6.17.0)\n\n##### What's Changed\n\n-   fetch: fix captureStackTrace by [@&#8203;Uzlopak](https://togithub.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3227](https://togithub.com/nodejs/undici/pull/3227)\n-   fetch: fix wpt test request-upload.any.js by [@&#8203;Uzlopak](https://togithub.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3234](https://togithub.com/nodejs/undici/pull/3234)\n-   websocket: don't clone buffer by [@&#8203;tsctx](https://togithub.com/tsctx) in [https://github.com/nodejs/undici/pull/3240](https://togithub.com/nodejs/undici/pull/3240)\n-   Remove unecessary async from writeBuffer by [@&#8203;DarkGL](https://togithub.com/DarkGL) in [https://github.com/nodejs/undici/pull/3245](https://togithub.com/nodejs/undici/pull/3245)\n-   refactor websocket control frame handling by [@&#8203;KhafraDev](https://togithub.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3241](https://togithub.com/nodejs/undici/pull/3241)\n-   fix parsing continuation frames in websocket by [@&#8203;KhafraDev](https://togithub.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3247](https://togithub.com/nodejs/undici/pull/3247)\n-   ci: node nightly test should use node 23 by [@&#8203;Uzlopak](https://togithub.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3248](https://togithub.com/nodejs/undici/pull/3248)\n-   Add test to verify if the connection is correctly aborted on cancel by [@&#8203;mcollina](https://togithub.com/mcollina) in [https://github.com/nodejs/undici/pull/3219](https://togithub.com/nodejs/undici/pull/3219)\n-   Autobahn suite by [@&#8203;KhafraDev](https://togithub.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3251](https://togithub.com/nodejs/undici/pull/3251)\n-   websocket: fix 6 autobahn tests by [@&#8203;KhafraDev](https://togithub.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3254](https://togithub.com/nodejs/undici/pull/3254)\n-   websocket: checkout correct commit in autobahn workflow by [@&#8203;Uzlopak](https://togithub.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3258](https://togithub.com/nodejs/undici/pull/3258)\n-   Cleanup websocket by [@&#8203;KhafraDev](https://togithub.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3257](https://togithub.com/nodejs/undici/pull/3257)\n-   websocket: autobahn workflow should fail on error by [@&#8203;Uzlopak](https://togithub.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3259](https://togithub.com/nodejs/undici/pull/3259)\n-   add bodymixin bytes by [@&#8203;KhafraDev](https://togithub.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3262](https://togithub.com/nodejs/undici/pull/3262)\n-   perf: avoid buffer cloning by [@&#8203;tsctx](https://togithub.com/tsctx) in [https://github.com/nodejs/undici/pull/3264](https://togithub.com/nodejs/undici/pull/3264)\n-   feat: dump interceptor by [@&#8203;metcoder95](https://togithub.com/metcoder95) in [https://github.com/nodejs/undici/pull/3118](https://togithub.com/nodejs/undici/pull/3118)\n-   use private properties in Headers by [@&#8203;KhafraDev](https://togithub.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3269](https://togithub.com/nodejs/undici/pull/3269)\n-   Revert \"websocket: autobahn workflow should fail on error\" by [@&#8203;Uzlopak](https://togithub.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3270](https://togithub.com/nodejs/undici/pull/3270)\n-   build(deps): bump node from `487dc5d` to `9e8f45f` in /build by [@&#8203;dependabot](https://togithub.com/dependabot) in [https://github.com/nodejs/undici/pull/3271](https://togithub.com/nodejs/undici/pull/3271)\n\n##### New Contributors\n\n-   [@&#8203;DarkGL](https://togithub.com/DarkGL) made their first contribution in [https://github.com/nodejs/undici/pull/3245](https://togithub.com/nodejs/undici/pull/3245)\n\n**Full Changelog**: https://github.com/nodejs/undici/compare/v6.16.1...v6.17.0\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4zMzQuNCIsInVwZGF0ZWRJblZlciI6IjM3LjMzNC40IiwidGFyZ2V0QnJhbmNoIjoibWFpbiIsImxhYmVscyI6WyJhY3Rpb246IG1lcmdlIiwidGFyZ2V0OiBtaW5vciJdfQ==-->\n","Url":"https://github.com/angular/angular-cli/pull/27650","RelatedDescription":"Closed or merged PR \"build: update all non-major dependencies\" (#27650)"},{"Id":"2299367260","IsPullRequest":true,"CreatedAt":"2024-05-17T13:38:02","Actor":"angular-robot","Number":"27649","RawContent":null,"Title":"build: update angular","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@angular/animations](https://togithub.com/angular/animations-builds) | dependencies | digest | `5f57c4d` -> `bffdd0d` |\n| [@angular/animations](https://togithub.com/angular/angular) ([source](https://togithub.com/angular/angular/tree/HEAD/packages/animations)) | devDependencies | patch | [`18.0.0-rc.1` -> `18.0.0-rc.2`](https://renovatebot.com/diffs/npm/@angular%2fanimations/18.0.0-rc.1/18.0.0-rc.2) |\n| [@angular/bazel](https://togithub.com/angular/bazel-builds) | devDependencies | digest | `95f745e` -> `71bd2e0` |\n| [@angular/build-tooling](https://togithub.com/angular/dev-infra-private-build-tooling-builds) | devDependencies | digest | `304b7ac` -> `3da229f` |\n| [@angular/cdk](https://togithub.com/angular/cdk-builds) | dependencies | digest | `b3fef81` -> `014cc5c` |\n| [@angular/cdk](https://togithub.com/angular/components) | devDependencies | patch | [`18.0.0-rc.1` -> `18.0.0-rc.2`](https://renovatebot.com/diffs/npm/@angular%2fcdk/18.0.0-rc.1/18.0.0-rc.2) |\n| [@angular/common](https://togithub.com/angular/common-builds) | dependencies | digest | `54d1f1a` -> `b4e31d7` |\n| [@angular/common](https://togithub.com/angular/angular) ([source](https://togithub.com/angular/angular/tree/HEAD/packages/common)) | devDependencies | patch | [`18.0.0-rc.1` -> `18.0.0-rc.2`](https://renovatebot.com/diffs/npm/@angular%2fcommon/18.0.0-rc.1/18.0.0-rc.2) |\n| [@angular/compiler](https://togithub.com/angular/compiler-builds) | dependencies | digest | `f856a95` -> `a06c933` |\n| [@angular/compiler](https://togithub.com/angular/angular) ([source](https://togithub.com/angular/angular/tree/HEAD/packages/compiler)) | devDependencies | patch | [`18.0.0-rc.1` -> `18.0.0-rc.2`](https://renovatebot.com/diffs/npm/@angular%2fcompiler/18.0.0-rc.1/18.0.0-rc.2) |\n| [@angular/compiler-cli](https://togithub.com/angular/compiler-cli-builds) | dependencies | digest | `6a1e9ea` -> `dce9d34` |\n| [@angular/compiler-cli](https://togithub.com/angular/angular/tree/main/packages/compiler-cli) ([source](https://togithub.com/angular/angular/tree/HEAD/packages/compiler-cli)) | devDependencies | patch | [`18.0.0-rc.1` -> `18.0.0-rc.2`](https://renovatebot.com/diffs/npm/@angular%2fcompiler-cli/18.0.0-rc.1/18.0.0-rc.2) |\n| [@angular/core](https://togithub.com/angular/core-builds) | dependencies | digest | `22251a5` -> `d035316` |\n| [@angular/core](https://togithub.com/angular/angular) ([source](https://togithub.com/angular/angular/tree/HEAD/packages/core)) | devDependencies | patch | [`18.0.0-rc.1` -> `18.0.0-rc.2`](https://renovatebot.com/diffs/npm/@angular%2fcore/18.0.0-rc.1/18.0.0-rc.2) |\n| [@angular/forms](https://togithub.com/angular/forms-builds) | dependencies | digest | `2503f95` -> `4a7cfee` |\n| [@angular/forms](https://togithub.com/angular/angular) ([source](https://togithub.com/angular/angular/tree/HEAD/packages/forms)) | devDependencies | patch | [`18.0.0-rc.1` -> `18.0.0-rc.2`](https://renovatebot.com/diffs/npm/@angular%2fforms/18.0.0-rc.1/18.0.0-rc.2) |\n| [@angular/language-service](https://togithub.com/angular/language-service-builds) | dependencies | digest | `6159ad9` -> `d0ebd0a` |\n| [@angular/localize](https://togithub.com/angular/localize-builds) | dependencies | digest | `0d6e2c4` -> `91814a7` |\n| [@angular/localize](https://togithub.com/angular/angular) | devDependencies | patch | [`18.0.0-rc.1` -> `18.0.0-rc.2`](https://renovatebot.com/diffs/npm/@angular%2flocalize/18.0.0-rc.1/18.0.0-rc.2) |\n| [@angular/material](https://togithub.com/angular/material-builds) | dependencies | digest | `960a1f4` -> `aa76e56` |\n| [@angular/material](https://togithub.com/angular/components) | devDependencies | patch | [`18.0.0-rc.1` -> `18.0.0-rc.2`](https://renovatebot.com/diffs/npm/@angular%2fmaterial/18.0.0-rc.1/18.0.0-rc.2) |\n| [@angular/material-moment-adapter](https://togithub.com/angular/material-moment-adapter-builds) | dependencies | digest | `1d187e6` -> `b78f31e` |\n| [@angular/ng-dev](https://togithub.com/angular/dev-infra-private-ng-dev-builds) | devDependencies | digest | `347f73d` -> `bf03f66` |\n| [@angular/platform-browser](https://togithub.com/angular/platform-browser-builds) | dependencies | digest | `e603ce5` -> `9586e81` |\n| [@angular/platform-browser](https://togithub.com/angular/angular) ([source](https://togithub.com/angular/angular/tree/HEAD/packages/platform-browser)) | devDependencies | patch | [`18.0.0-rc.1` -> `18.0.0-rc.2`](https://renovatebot.com/diffs/npm/@angular%2fplatform-browser/18.0.0-rc.1/18.0.0-rc.2) |\n| [@angular/platform-browser-dynamic](https://togithub.com/angular/platform-browser-dynamic-builds) | dependencies | digest | `6b96184` -> `fb9ed24` |\n| [@angular/platform-browser-dynamic](https://togithub.com/angular/angular) ([source](https://togithub.com/angular/angular/tree/HEAD/packages/platform-browser-dynamic)) | devDependencies | patch | [`18.0.0-rc.1` -> `18.0.0-rc.2`](https://renovatebot.com/diffs/npm/@angular%2fplatform-browser-dynamic/18.0.0-rc.1/18.0.0-rc.2) |\n| [@angular/platform-server](https://togithub.com/angular/platform-server-builds) | dependencies | digest | `813781f` -> `e0d27ca` |\n| [@angular/platform-server](https://togithub.com/angular/angular) ([source](https://togithub.com/angular/angular/tree/HEAD/packages/platform-server)) | devDependencies | patch | [`18.0.0-rc.1` -> `18.0.0-rc.2`](https://renovatebot.com/diffs/npm/@angular%2fplatform-server/18.0.0-rc.1/18.0.0-rc.2) |\n| [@angular/router](https://togithub.com/angular/router-builds) | dependencies | digest | `02379b7` -> `d7f2996` |\n| [@angular/router](https://togithub.com/angular/angular/tree/main/packages/router) ([source](https://togithub.com/angular/angular/tree/HEAD/packages/router)) | devDependencies | patch | [`18.0.0-rc.1` -> `18.0.0-rc.2`](https://renovatebot.com/diffs/npm/@angular%2frouter/18.0.0-rc.1/18.0.0-rc.2) |\n| [@angular/service-worker](https://togithub.com/angular/service-worker-builds) | dependencies | digest | `14ff6b6` -> `575e236` |\n| [@angular/service-worker](https://togithub.com/angular/angular) ([source](https://togithub.com/angular/angular/tree/HEAD/packages/service-worker)) | devDependencies | patch | [`18.0.0-rc.1` -> `18.0.0-rc.2`](https://renovatebot.com/diffs/npm/@angular%2fservice-worker/18.0.0-rc.1/18.0.0-rc.2) |\n| angular/dev-infra | action | digest | `8b11774` -> `128f327` |\n\n🔡 If you wish to disable git hash updates, add `\":disableDigestUpdates\"` to the extends array in your config.\n\n---\n\n### Release Notes\n\n<details>\n<summary>angular/angular (@&#8203;angular/animations)</summary>\n\n### [`v18.0.0-rc.2`](https://togithub.com/angular/angular/blob/HEAD/CHANGELOG.md#1800-rc2-2024-05-15)\n\n[Compare Source](https://togithub.com/angular/angular/compare/18.0.0-rc.1...18.0.0-rc.2)\n\n#### Deprecations\n\n##### core\n\n-   `@Component.interpolation` is deprecated. Use Angular's\n    delimiters instead.\n\n##### core\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [1fd63e9cff](https://togithub.com/angular/angular/commit/1fd63e9cff9159a8c10c35a0af43bc986e4e8e26) | refactor | deprecate `@Component.interpolation` ([#&#8203;55778](https://togithub.com/angular/angular/pull/55778)) |\n\n##### forms\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [61007dced0](https://togithub.com/angular/angular/commit/61007dced0f3396c40efcd2617c130633fb9837a) | fix | Add event for forms submitted & reset ([#&#8203;55667](https://togithub.com/angular/angular/pull/55667)) |\n| [2e27ca9ddf](https://togithub.com/angular/angular/commit/2e27ca9ddfc1f3f0387cd720071e85ff46f19db6) | fix | Allow canceled async validators to emit. ([#&#8203;55134](https://togithub.com/angular/angular/pull/55134)) |\n\n##### migrations\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [c4b2f18709](https://togithub.com/angular/angular/commit/c4b2f18709076f8c400bd26226be37ae07e5e83d) | fix | migrate HttpClientTestingModule in test modules ([#&#8203;55803](https://togithub.com/angular/angular/pull/55803)) |\n| [bb4a4016a9](https://togithub.com/angular/angular/commit/bb4a4016a9a29a9c56342ee01d866b0c8a3fb419) | fix | preserve existing properties in HttpClientModule migration ([#&#8203;55777](https://togithub.com/angular/angular/pull/55777)) |\n\n<!-- CHANGELOG SPLIT MARKER -->\n\n</details>\n\n<details>\n<summary>angular/components (@&#8203;angular/cdk)</summary>\n\n### [`v18.0.0-rc.2`](https://togithub.com/angular/components/blob/HEAD/CHANGELOG.md#1800-rc2-orange-owl-2024-05-15)\n\n[Compare Source](https://togithub.com/angular/components/compare/18.0.0-rc.1...18.0.0-rc.2)\n\n##### cdk\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [81bdca50f](https://togithub.com/angular/components/commit/81bdca50fb784fc078773fc2c2d4d4d25eb6cd56) | fix | **observers:** logs \"ResizeObserver loop limit exceeded\" errors ([#&#8203;29036](https://togithub.com/angular/components/pull/29036)) |\n| [98a43c01b](https://togithub.com/angular/components/commit/98a43c01b0e92847d1cb8f3d9ea21d2df280b6e8) | fix | **overlay:** skip trigger interactions in outside click event ([#&#8203;29044](https://togithub.com/angular/components/pull/29044)) |\n\n##### material\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [7a8e88614](https://togithub.com/angular/components/commit/7a8e886140d3cf2dd5ccc8f36b7998131def1982) | fix | **core:** ripple element not destroyed after trigger change ([#&#8203;29010](https://togithub.com/angular/components/pull/29010)) ([#&#8203;29012](https://togithub.com/angular/components/pull/29012)) |\n| [a5ad288bf](https://togithub.com/angular/components/commit/a5ad288bffb063cc27bc562df62a824e57968d2f) | fix | **core:** ripple loader not working in shadow DOM ([#&#8203;29015](https://togithub.com/angular/components/pull/29015)) |\n| [ec9e83db4](https://togithub.com/angular/components/commit/ec9e83db4c6f47a8095bdc83b5e9cce9f7e2cbc2) | fix | **datepicker:** resolve repeater warnings in calendar ([#&#8203;29028](https://togithub.com/angular/components/pull/29028)) |\n| [3e9d3c394](https://togithub.com/angular/components/commit/3e9d3c39441084f34de8e8798382c68732213e2c) | fix | **schematics:** add option to generate system variables in M3 schematic |\n\n<!-- CHANGELOG SPLIT MARKER -->\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4zMzQuNCIsInVwZGF0ZWRJblZlciI6IjM3LjMzNC40IiwidGFyZ2V0QnJhbmNoIjoibWFpbiIsImxhYmVscyI6WyJhY3Rpb246IG1lcmdlIiwidGFyZ2V0OiBtaW5vciJdfQ==-->\n","Url":"https://github.com/angular/angular-cli/pull/27649","RelatedDescription":"Closed or merged PR \"build: update angular\" (#27649)"},{"Id":"2302075010","IsPullRequest":true,"CreatedAt":"2024-05-17T13:38:01","Actor":"alan-agius4","Number":"27653","RawContent":null,"Title":"build: update angular","State":"closed","Body":"Closes #27649 as a pr takeover\r\n","Url":"https://github.com/angular/angular-cli/pull/27653","RelatedDescription":"Closed or merged PR \"build: update angular\" (#27653)"},{"Id":"2298840354","IsPullRequest":true,"CreatedAt":"2024-05-16T23:15:57","Actor":"clydin","Number":"27648","RawContent":null,"Title":"refactor(@angular/build): cleanup persistent JS transformer cache on plugin dispose","State":"closed","Body":"Close and allow the persistent JS transformer cache to cleanup open lock files when the Angular compiler plugin is disposed. While this is not strictly necessary, it does help prevent extra cache lock files from being retained after build completion.","Url":"https://github.com/angular/angular-cli/pull/27648","RelatedDescription":"Closed or merged PR \"refactor(@angular/build): cleanup persistent JS transformer cache on plugin dispose\" (#27648)"},{"Id":"2298830067","IsPullRequest":true,"CreatedAt":"2024-05-16T23:15:31","Actor":"clydin","Number":"27647","RawContent":null,"Title":"fix(@angular/build): add console note about development server raw file size","State":"closed","Body":"An informational note will now be shown upon development server startup to indicate that the raw file sizes shown in the console do not reflect any of the per-request transformations that may occur within the Vite-based development server. The raw file size and the size shown within the browser may differ as a result of these development workflow based transformations.","Url":"https://github.com/angular/angular-cli/pull/27647","RelatedDescription":"Closed or merged PR \"fix(@angular/build): add console note about development server raw file size\" (#27647)"},{"Id":"2299580013","IsPullRequest":false,"CreatedAt":"2024-05-16T07:52:47","Actor":"wasifnaeem","Number":"27651","RawContent":null,"Title":"Bug: ng build cause warnings with pseudo-selectors in aws-amplify","State":"closed","Body":"### Command\r\n\r\nbuild\r\n\r\n### Is this a regression?\r\n\r\n- [x] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\nAngular 16\r\n\r\n### Description\r\n\r\nI had no issue with `Angular 16`. When I upgraded this to `Angular 17`, experience this issue with `aws-amplify` css selectors\r\n\r\n### Minimal Reproduction\r\n\r\n`ng build`\r\n\r\n```\r\n\"dependencies\": {\r\n    \"@angular/animations\": \"^17.3.9\",\r\n    \"@angular/cdk\": \"^17.3.9\",\r\n    \"@angular/common\": \"^17.3.9\",\r\n    \"@angular/compiler\": \"^17.3.9\",\r\n    \"@angular/core\": \"^17.3.9\",\r\n    \"@angular/forms\": \"^17.3.9\",\r\n    \"@angular/platform-browser\": \"^17.3.9\",\r\n    \"@angular/platform-browser-dynamic\": \"^17.3.9\",\r\n    \"@angular/platform-server\": \"^17.3.9\",\r\n    \"@angular/router\": \"^17.3.9\",\r\n    \"@aws-amplify/ui-angular\": \"^5.0.15\",\r\n    \"@aws-sdk/client-quicksight\": \"^3.577.0\",\r\n    \"@mobiscroll/angular\": \"npm:@mobiscroll/angular-ivy@5.28.1\",\r\n    \"amazon-quicksight-embedding-sdk\": \"^2.7.0\",\r\n    \"aws-amplify\": \"^6.3.2\",\r\n    \"chart.js\": \"^4.4.2\",\r\n    \"chartjs-plugin-datalabels\": \"^2.2.0\",\r\n    \"countries-and-timezones\": \"^3.6.0\",\r\n    \"google-libphonenumber\": \"^3.2.34\",\r\n    \"luxon\": \"^3.4.4\",\r\n    \"ng2-charts\": \"^6.0.1\",\r\n    \"ngx-image-cropper\": \"^8.0.0\",\r\n    \"ngx-timeago\": \"^3.0.0\",\r\n    \"primeicons\": \"^7.0.0\",\r\n    \"primeng\": \"^17.16.1\",\r\n    \"rxjs\": \"~7.8.1\",\r\n    \"socket.io-client\": \"^4.7.5\",\r\n    \"subsink\": \"^1.0.2\",\r\n    \"ts-access-control\": \"^0.1.20\",\r\n    \"tslib\": \"^2.6.2\",\r\n    \"xlsx\": \"^0.18.5\",\r\n    \"zone.js\": \"~0.14.5\"\r\n  }\r\n```\r\n\r\n### Exception or Error\r\n\r\n```\r\n[WARNING] 6 rules skipped due to selector errors:\r\n  .amplify-accordion__item:where() -> Empty sub-selector\r\n  .amplify-accordion__item:where() -> Empty sub-selector\r\n  0% -> Unmatched selector: %\r\n  50% -> Unmatched selector: %\r\n  0% -> Unmatched selector: %\r\n  50% -> Unmatched selector: %\r\n```\r\n\r\n### Your Environment\r\n\r\n```text\r\nAngular CLI: 17.3.7\r\nNode: 20.11.0\r\nPackage Manager: npm 10.2.4\r\nOS: darwin arm64\r\n\r\nAngular: 17.3.9\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, platform-server\r\n... router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1703.7\r\n@angular-devkit/build-angular   17.3.7\r\n@angular-devkit/core            17.3.7\r\n@angular-devkit/schematics      17.3.7\r\n@angular/cli                    17.3.7\r\n@schematics/angular             17.3.7\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.5\r\n```\r\n\r\n\r\n### Anything else relevant?\r\n\r\nAdded the following configurations to `angular.json` to skip these warnings but invain.\r\n\r\n```\r\n\"optimization\": {\r\n  \"scripts\": true,\r\n  \"fonts\": {\r\n    \"inline\": true\r\n  },\r\n  \"styles\": {\r\n    \"minify\": true,\r\n    \"inlineCritical\": false\r\n  }\r\n}\r\n```","Url":"https://github.com/angular/angular-cli/issues/27651","RelatedDescription":"Closed issue \"Bug: ng build cause warnings with pseudo-selectors in aws-amplify\" (#27651)"},{"Id":"2298351505","IsPullRequest":true,"CreatedAt":"2024-05-15T17:42:20","Actor":"clydin","Number":"27646","RawContent":null,"Title":"refactor(@angular-devkit/schematics): reduce direct rxjs usage in filter host tree","State":"closed","Body":"All direct usage of rxjs has been removed from the FilterHostTree implementation. This removes the need to import rxjs within the containing file. The recursive logic has also been replaced with an iterative approach.","Url":"https://github.com/angular/angular-cli/pull/27646","RelatedDescription":"Closed or merged PR \"refactor(@angular-devkit/schematics): reduce direct rxjs usage in filter host tree\" (#27646)"},{"Id":"2298336494","IsPullRequest":false,"CreatedAt":"2024-05-15T16:15:56","Actor":"ScriptType","Number":"27645","RawContent":null,"Title":"ng serve confusing raw size?","State":"open","Body":"### Command\r\n\r\nserve\r\n\r\n### Is this a regression?\r\n\r\n- [ ] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nI just saw that ng serve raw size seems to be wrong? In the past, I at least thought they were correct.(When we still used webpack)\r\n<img width=\"773\" alt=\"Bildschirmfoto 2024-05-15 um 18 04 47\" src=\"https://github.com/angular/angular-cli/assets/59615891/bfa2ecf2-bc6c-4921-8e36-f99d02a20c9d\">\r\nWe see a raw size of 20.22 KB for the main bundle and 33.24 KB for the polyfills. Let's see what the browser says.\r\n<img width=\"851\" alt=\"Bildschirmfoto 2024-05-15 um 18 06 09\" src=\"https://github.com/angular/angular-cli/assets/59615891/944f32c3-857d-4822-b6f2-c5d6e8221102\">\r\nNot even close.\r\n\r\nThen I thought, okay, maybe these are estimates for when I eventually build the project. So let's build the project.\r\n\r\n<img width=\"865\" alt=\"Bildschirmfoto 2024-05-15 um 18 07 57\" src=\"https://github.com/angular/angular-cli/assets/59615891/2d31f549-e55c-48bd-940e-aaef29613192\">\r\n\r\nThe main bundle is now 193 KB, but this time at least the 193 KB is correct. Interestingly, the polyfills have the exact same size in ng serve --configuration production as in ng build, at least in the console, but not in the browser.\r\n\r\nAm i missing something? Am I not reading the numbers correct do they mean something different?\r\nThey are atleast confusing i would say.\r\n\r\nAlso just standard ng serve numbers are also not the same as in the browser?\r\n\r\n\r\nEDIT:\r\nOk looks like vite is adding allways the sourcemaps inline in serve without it its 20.22kb,\r\nAnd the main size is smaller in serve than in build because of the cached data created.\r\n\r\nI was pretty confused by it and i can imagine many others are also confused by it especially the behavior atleast to my memory changed compared to webpack.\r\n\r\nWould it maybe be possible to aknowledge all files in the console?\r\n\r\n### Minimal Reproduction\r\n\r\nng new testSize\r\ncd testSize\r\nng serve --configuration production\r\n\r\n### Exception or Error\r\n\r\n_No response_\r\n\r\n### Your Environment\r\n\r\n```text\r\nAngular CLI: 17.3.7\r\nNode: 20.12.2\r\nPackage Manager: npm 10.5.0\r\nOS: darwin arm64\r\n\r\nAngular: 17.3.8\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1703.7\r\n@angular-devkit/build-angular   17.3.7\r\n@angular-devkit/core            17.3.7\r\n@angular-devkit/schematics      17.3.7\r\n@angular/cli                    17.3.7\r\n@schematics/angular             17.3.7\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.5\r\n```\r\n\r\n\r\n### Anything else relevant?\r\n\r\nIt´s an behavior of showing the raw size in the console for ng serve completly different when compared to webpack.\r\nWebpack shows for example 318.85kb for the main.js and the browser loads exactly 318.85kb its intuitive and predictable,\r\n\r\nIf we compare it to the current esbuilder/vite solution which adds sourcemaps (Not Angulars fault) and uses the cache on the file system and than shows 20.22kb which is literally impossible and absolutely unintuitive.\r\nIt would even be better to show no number at this point as it literally can't be evaluated for anything and only will bring confusion to anyone when they compare ng serve with ng build and the ng serve looks smaller in the cli log\r\n\r\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27645","RelatedDescription":"Open issue \"ng serve confusing raw size?\" (#27645)"},{"Id":"2297879232","IsPullRequest":false,"CreatedAt":"2024-05-15T15:17:52","Actor":"daniel-sc","Number":"27643","RawContent":null,"Title":"SchematicTestRunner.runExternalSchematic fails with \"The encoded data was not valid for encoding utf-8\"","State":"closed","Body":"### Command\r\n\r\nother\r\n\r\n### Is this a regression?\r\n\r\n- [X] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n17.0.0\r\n\r\n### Description\r\n\r\nWith v18.0.0-rc.1 under some conditions (which  exactly is unclear to me) `SchematicTestRunner.runExternalSchematic` fails with the following error: \"The encoded data was not valid for encoding utf-8\"\r\n\r\n\r\nSee e.g. https://github.com/daniel-sc/ng-extract-i18n-merge/actions/runs/9091527710/job/24986317152?pr=111\r\n\r\nThe exact same test runs fine with angular 17: https://github.com/daniel-sc/ng-extract-i18n-merge/actions/runs/9091527710/job/24986316954?pr=111\r\n\r\nThis is the line were it fails: https://github.com/daniel-sc/ng-extract-i18n-merge/blob/master/schematics/ng-add/index.spec.ts#L45 (unsure why the first invocation succeeds..)\r\n\r\n### Minimal Reproduction\r\n\r\n1. Checkout branch `angular-18` from https://github.com/daniel-sc/ng-extract-i18n-merge\r\n2. remove package-lock.json\r\n3. run `npm i --save-exact \"@angular-devkit/architect@0.1800.0-rc.1\" \"@angular-devkit/core@18.0.0-rc.1\" \"@angular-devkit/schematics@18.0.0-rc.1\" \"@schematics/angular@18.0.0-rc.1\" \"@angular-devkit/build-angular@18.0.0-rc.1\" \"@angular/core@18.0.0-rc.1\" \"@angular/compiler-cli@18.0.0-rc.1\"`\r\n4. run `npm run build`\r\n5. run `npm run test-coverage`\r\n\r\n### Exception or Error\r\n\r\n```text\r\nThe encoded data was not valid for encoding utf-8\r\nTypeError: The encoded data was not valid for encoding utf-8\r\n    at TextDecoder.decode (node:internal/encoding:449:16)\r\n    at C:\\projekte\\ng-extract-i18n-merge\\node_modules\\@angular-devkit\\schematics\\src\\rules\\template.js:38:44\r\n    at C:\\projekte\\ng-extract-i18n-merge\\node_modules\\@angular-devkit\\schematics\\src\\rules\\base.js:135:23\r\n    at C:\\projekte\\ng-extract-i18n-merge\\node_modules\\@angular-devkit\\schematics\\src\\rules\\base.js:89:20\r\n    at C:\\projekte\\ng-extract-i18n-merge\\node_modules\\@angular-devkit\\schematics\\src\\rules\\base.js:113:30\r\n    at C:\\projekte\\ng-extract-i18n-merge\\node_modules\\@angular-devkit\\schematics\\src\\tree\\host-tree.js:278:13\r\n    at C:\\projekte\\ng-extract-i18n-merge\\node_modules\\@angular-devkit\\schematics\\src\\tree\\host-tree.js:51:61\r\n    at Array.forEach (<anonymous>)\r\n    at HostDirEntry.visit (C:\\projekte\\ng-extract-i18n-merge\\node_modules\\@angular-devkit\\schematics\\src\\tree\\host-tree.js:51:43)\r\n    at HostCreateTree.visit (C:\\projekte\\ng-extract-i18n-merge\\node_modules\\@angular-devkit\\schematics\\src\\tree\\host-tree.js:277:19)\r\n    at C:\\projekte\\ng-extract-i18n-merge\\node_modules\\@angular-devkit\\schematics\\src\\rules\\base.js:109:14\r\n    at callRuleAsync (C:\\projekte\\ng-extract-i18n-merge\\node_modules\\@angular-devkit\\schematics\\src\\rules\\call.js:77:24)\r\n    at C:\\projekte\\ng-extract-i18n-merge\\node_modules\\@angular-devkit\\schematics\\src\\rules\\call.js:69:63\r\n    at doInnerSub (C:\\projekte\\ng-extract-i18n-merge\\node_modules\\rxjs\\src\\internal\\operators\\mergeInternals.ts:71:15)\r\n    at outerNext (C:\\projekte\\ng-extract-i18n-merge\\node_modules\\rxjs\\src\\internal\\operators\\mergeInternals.ts:53:58)\r\n    at OperatorSubscriber._this._next (C:\\projekte\\ng-extract-i18n-merge\\node_modules\\rxjs\\src\\internal\\operators\\OperatorSubscriber.ts:70:13)\r\n    at OperatorSubscriber.Object.<anonymous>.Subscriber.next (C:\\projekte\\ng-extract-i18n-merge\\node_modules\\rxjs\\src\\internal\\Subscriber.ts:75:12)\r\n    at C:\\projekte\\ng-extract-i18n-merge\\node_modules\\rxjs\\src\\internal\\operators\\mergeInternals.ts:85:24\r\n    at OperatorSubscriber._this._next (C:\\projekte\\ng-extract-i18n-merge\\node_modules\\rxjs\\src\\internal\\operators\\OperatorSubscriber.ts:70:13)\r\n    at OperatorSubscriber.Object.<anonymous>.Subscriber.next (C:\\projekte\\ng-extract-i18n-merge\\node_modules\\rxjs\\src\\internal\\Subscriber.ts:75:12)\r\n    at C:\\projekte\\ng-extract-i18n-merge\\node_modules\\rxjs\\src\\internal\\observable\\innerFrom.ts:90:24\r\n```\r\n\r\n\r\n### Your Environment\r\n\r\n```text\r\nAngular CLI: 17.3.3\r\nNode: 20.12.0\r\nPackage Manager: npm 10.5.0\r\nOS: win32 x64\r\n\r\nAngular: 18.0.0-rc.1\r\n... compiler-cli, core\r\n\r\nPackage                      Version\r\n------------------------------------------------------\r\n@angular-devkit/architect    0.1800.0-rc.1\r\n@angular-devkit/core         18.0.0-rc.1\r\n@angular-devkit/schematics   18.0.0-rc.1\r\n@schematics/angular          18.0.0-rc.1\r\ntypescript                   5.4.5\r\n```\r\n\r\n\r\n### Anything else relevant?\r\n\r\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27643","RelatedDescription":"Closed issue \"SchematicTestRunner.runExternalSchematic fails with \"The encoded data was not valid for encoding utf-8\"\" (#27643)"},{"Id":"2298188851","IsPullRequest":true,"CreatedAt":"2024-05-15T15:17:51","Actor":"alan-agius4","Number":"27644","RawContent":null,"Title":"fix(@angular-devkit/schematics): `SchematicTestRunner.runExternalSchematic` fails with \"The encoded data was not valid for encoding utf-8\"","State":"closed","Body":"\r\n\r\nWhen using Jest `instanceof` does not work correctly. See: https://github.com/jestjs/jest/issues/2549\r\n\r\nCloses: #27643\r\n","Url":"https://github.com/angular/angular-cli/pull/27644","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/schematics): `SchematicTestRunner.runExternalSchematic` fails with \"The encoded data was not valid for encoding utf-8\"\" (#27644)"},{"Id":"2296082929","IsPullRequest":true,"CreatedAt":"2024-05-15T11:14:26","Actor":"clydin","Number":"27642","RawContent":null,"Title":"perf(@angular/build): improve rebuild time for file loader usage with prebundling","State":"closed","Body":"Rebuilds can now use the optimized external package execute path when using the `application` builder's `loader` option if only `file` type loaders are used. The Vite-based development server will now process any `file` type loader usage for third-party file references which removes the need for the build itself to handle the loader processing. This change only optimizes the case where only the `file` loader type is used. If any other loader types are present, the optimized execution path will not be used. Future further improvements may allow for all cases to use the optimized rebuild execution path.","Url":"https://github.com/angular/angular-cli/pull/27642","RelatedDescription":"Closed or merged PR \"perf(@angular/build): improve rebuild time for file loader usage with prebundling\" (#27642)"},{"Id":"2294029352","IsPullRequest":false,"CreatedAt":"2024-05-15T05:06:21","Actor":"CITguy","Number":"27637","RawContent":null,"Title":"Angular CLI 16+ generates config that fails to inline stylesheet from typekit/Adobe","State":"closed","Body":"### Command\r\n\r\nbuild, new\r\n\r\n### Is this a regression?\r\n\r\n- [ ] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\nv15\r\n\r\n### Description\r\n\r\nI'm unable to get an Adobe/typekit CSS stylesheet to embed using an esbuild-based builder configuration.\r\n\r\nThe only way to get it to work with esbuild is to disable font optimization via `projects.PROJECT_NAME.architect.build.configurations.production.optimization.fonts = false` in `angular.json`.  Otherwise, I have to revert back to the `browser` builder.  \r\n\r\nFor now, I'm using the stable `browser` Webpack builder, so that I don't have to muck around with updating configs that may need to be reverted later when we eventually switch to esbuild.  However, the esbuild scripts provide no useful console output or advanced logging to explain _WHY_ it fails, so I have no way to troubleshoot the exact issue.  \r\n\r\nPlease advise.\r\n\r\n### Minimal Reproduction\r\n\r\nGiven that the build script doesn't provide enough detailed information, I can't reliably determine if the issue resides in the build script itself or if it is a result of being behind our corporate firewall/vpn.  \r\n\r\nThat being said, here's how I was able to reproduce the issue.\r\n\r\n1. Generate a fresh Angular 16 or 17 app using angular CLI\r\n    - CLI v16+ seems to default to the `application` build script\r\n2. `npm install`\r\n3. Check that the production builder is using an esbuild-based script (either `application` or `browser-esbuild`)\r\n4. add an Adobe/typekit css import to your `src/styles.scss`\r\n5. `npm run build`\r\n\r\nFYI: This seems to only be an issue with builders using esbuild. The webpack-based `browser` script still works fine, but doesn't actually inline the CSS file; it just passes through the CSS `@import`, verbatim.\r\n\r\n### Exception or Error\r\n\r\n![Failed to inline external stylesheet](https://github.com/angular/angular-cli/assets/545605/d5bd62fc-fea8-45d5-966e-cf873e07a393)\r\n\r\n```text\r\n$ npm run build -- --verbose\r\n\r\n> ngapp17@0.0.0 build\r\n> ng build --verbose\r\n\r\n⠋ Building...\r\n\r\n  polyfills-S3BTP7ME.js  33.2kb\r\n\r\n⠏ Building...\r\n\r\n  main-LRVPNULS.js  193.2kb\r\n\r\nApplication bundle generation failed. [2.388 seconds]\r\n\r\n✘ [ERROR] Failed to inline external stylesheet 'https://use.typekit.net/q*****m.css'. [plugin angular-css-inline-fonts-plugin]\r\n\r\n    src/styles.scss:2:12:\r\n      2 │ @import url(\"https://use.typekit.net/q*****m.css\");\r\n        ╵             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n```\r\n\r\n\r\n### Your Environment\r\n\r\n```text\r\nAngular CLI: 17.3.7\r\nNode: 18.14.0\r\nPackage Manager: npm 9.6.7\r\nOS: darwin arm64\r\n\r\nAngular: 17.3.8\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1703.7\r\n@angular-devkit/build-angular   17.3.7\r\n@angular-devkit/core            17.3.7\r\n@angular-devkit/schematics      17.3.7\r\n@angular/cli                    17.3.7\r\n@schematics/angular             17.3.7\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.5\r\n```\r\n\r\n\r\n### Anything else relevant?\r\n\r\nI've seen old support questions that mention that a VPN may potentially cause problems, but I've not had the chance to verify on a machine without a VPN running.","Url":"https://github.com/angular/angular-cli/issues/27637","RelatedDescription":"Closed issue \"Angular CLI 16+ generates config that fails to inline stylesheet from typekit/Adobe\" (#27637)"},{"Id":"2294907658","IsPullRequest":true,"CreatedAt":"2024-05-14T12:28:46","Actor":"alan-agius4","Number":"27641","RawContent":null,"Title":"refactor(@angular/build): add error as part of error notes","State":"closed","Body":"This commit adds the error as part of the notes when an error occurs during font inlining.\r\n","Url":"https://github.com/angular/angular-cli/pull/27641","RelatedDescription":"Closed or merged PR \"refactor(@angular/build): add error as part of error notes\" (#27641)"},{"Id":"2294888487","IsPullRequest":false,"CreatedAt":"2024-05-14T09:30:17","Actor":"SebastianPodgajny","Number":"27640","RawContent":null,"Title":"Esbuild file loader significant slowdown","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncompiler\n\n### Is this a regression?\n\nYes\n\n### Description\n\nEsbuild config:\r\n```\r\n{\r\n  absWorkingDir: '/Users/user/WebStorm/project',\r\n  bundle: true,\r\n  format: 'esm',\r\n  assetNames: 'media/[name]-[hash]',\r\n  conditions: [ 'es2020', 'es2015', 'module' ],\r\n  resolveExtensions: [ '.ts', '.tsx', '.mjs', '.js' ],\r\n  metafile: true,\r\n  legalComments: 'eof',\r\n  logLevel: 'silent',\r\n  minifyIdentifiers: false,\r\n  minifySyntax: false,\r\n  minifyWhitespace: false,\r\n  pure: [ 'forwardRef' ],\r\n  outdir: '/Users/user/WebStorm/project',\r\n  outExtension: undefined,\r\n  sourcemap: 'external',\r\n  splitting: true,\r\n  chunkNames: '[name]-[hash]',\r\n  tsconfig: '/Users/user/WebStorm/project/apps/project/tsconfig.app.json',\r\n  external: [],\r\n  write: false,\r\n  preserveSymlinks: true,\r\n  define: { ngJitMode: 'false', ngI18nClosureMode: 'false' },\r\n  loader: {},\r\n  footer: undefined,\r\n  platform: 'browser',\r\n  mainFields: [ 'es2020', 'es2015', 'browser', 'module', 'main' ],\r\n  entryNames: '[name]-[hash]',\r\n  entryPoints: {\r\n    main: '/Users/user/WebStorm/project/apps/project/src/main.ts'\r\n  },\r\n  target: [\r\n    'chrome123.0',\r\n    'chrome122.0',\r\n    'edge123.0',\r\n    'edge122.0',\r\n    'firefox124.0',\r\n    'firefox123.0',\r\n    'safari17.4',\r\n    'safari17.3',\r\n    'safari14.1'\r\n  ],\r\n  supported: {\r\n    'async-await': false,\r\n    'object-rest-spread': false,\r\n    'class-field': false,\r\n    'class-static-field': false\r\n  },\r\n  plugins: [\r\n    { name: 'angular-sourcemap-ignorelist', setup: [Function: setup] },\r\n    { name: 'angular-compiler', setup: [AsyncFunction: setup] },\r\n    { name: 'project-esbuild-plugin', setup: [Function: setup] },\r\n    { name: 'angular-external-packages', setup: [Function: setup] }\r\n  ]\r\n}\r\n```\r\nBuild\r\n```\r\nApplication bundle generation complete. [66.045 seconds] (Initial)\r\nApplication bundle generation complete. [24.893 seconds]\r\nApplication bundle generation complete. [11.307 seconds]\r\nApplication bundle generation complete. [10.102 seconds]\r\nApplication bundle generation complete. [9.114 seconds]\r\n```\r\nAdding file loader no code changes, no import of mp4 file\r\n```\r\n{\r\n  absWorkingDir: '/Users/user/WebStorm/project',\r\n  bundle: true,\r\n  format: 'esm',\r\n  assetNames: 'media/[name]-[hash]',\r\n  conditions: [ 'es2020', 'es2015', 'module' ],\r\n  resolveExtensions: [ '.ts', '.tsx', '.mjs', '.js' ],\r\n  metafile: true,\r\n  legalComments: 'eof',\r\n  logLevel: 'silent',\r\n  minifyIdentifiers: false,\r\n  minifySyntax: false,\r\n  minifyWhitespace: false,\r\n  pure: [ 'forwardRef' ],\r\n  outdir: '/Users/user/WebStorm/project',\r\n  outExtension: undefined,\r\n  sourcemap: 'external',\r\n  splitting: true,\r\n  chunkNames: '[name]-[hash]',\r\n  tsconfig: '/Users/user/WebStorm/project/apps/project/tsconfig.app.json',\r\n  external: [],\r\n  write: false,\r\n  preserveSymlinks: true,\r\n  define: { ngJitMode: 'false', ngI18nClosureMode: 'false' },\r\n  loader: { '.mp4': 'file' },\r\n  footer: undefined,\r\n  platform: 'browser',\r\n  mainFields: [ 'es2020', 'es2015', 'browser', 'module', 'main' ],\r\n  entryNames: '[name]-[hash]',\r\n  entryPoints: {\r\n    main: '/Users/user/WebStorm/project/apps/project/src/main.ts'\r\n  },\r\n  target: [\r\n    'chrome123.0',\r\n    'chrome122.0',\r\n    'edge123.0',\r\n    'edge122.0',\r\n    'firefox124.0',\r\n    'firefox123.0',\r\n    'safari17.4',\r\n    'safari17.3',\r\n    'safari14.1'\r\n  ],\r\n  supported: {\r\n    'async-await': false,\r\n    'object-rest-spread': false,\r\n    'class-field': false,\r\n    'class-static-field': false\r\n  },\r\n  plugins: [\r\n    { name: 'angular-sourcemap-ignorelist', setup: [Function: setup] },\r\n    { name: 'angular-compiler', setup: [AsyncFunction: setup] },\r\n    { name: 'project-esbuild-plugin', setup: [Function: setup] },\r\n    { name: 'angular-external-packages', setup: [Function: setup] }\r\n  ]\r\n}\r\n```\r\nBuild\r\n```\r\nApplication bundle generation complete. [82.725 seconds] (initial)\r\nApplication bundle generation complete. [45.292 seconds]\r\nApplication bundle generation complete. [30.198 seconds]\r\nApplication bundle generation complete. [27.803 seconds]\r\nApplication bundle generation complete. [26.910 seconds]\r\n```\r\n\r\nWith file loaders rebuild is almost 3x slower\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 17.3.0\r\nNode: 20.12.1\r\nPackage Manager: yarn 1.21.1\r\nOS: darwin arm64\r\n\r\nAngular: 17.3.0\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... platform-server, pwa, router, service-worker\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1703.0\r\n@angular-devkit/build-angular   17.3.0\r\n@angular-devkit/build-webpack   0.1703.0\r\n@angular-devkit/core            17.3.0\r\n@angular-devkit/schematics      17.3.0\r\n@ngtools/webpack                17.3.0\r\n@schematics/angular             17.2.0\r\nng-packagr                      18.0.0-next.3\r\nrxjs                            7.6.0\r\ntypescript                      5.4.5\r\nwebpack                         5.90.3\r\nzone.js                         0.13.0\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27640","RelatedDescription":"Closed issue \"Esbuild file loader significant slowdown\" (#27640)"},{"Id":"2293261738","IsPullRequest":true,"CreatedAt":"2024-05-14T09:28:31","Actor":"clydin","Number":"27635","RawContent":null,"Title":"perf(@angular/build): add persistent caching of JavaScript transformations","State":"closed","Body":"When caching is enabled for the Angular CLI, the JavaScript transformer within the application build system will now perform persistent caching of its output. This allows for improved warm build times by removing the need to run the Angular linker and build optimizer steps against unchanged third-party code within each build. This does not affect hot rebuilds that would take place during watch mode since the outputs are already cached within memory. The on-disk storage of the cached data is handled by the `lmdb` package which provides fast key/value storage and built-in off-thread compression. This package is currently used by such projects as Gatsby and parcel for their respective caching subsystems.\r\n\r\nWarm production build of a new 18.0.0-rc.2 project with disabled caching:\r\n```\r\nApplication bundle generation complete. [3.698 seconds]\r\n```\r\nWith enabled caching:\r\n```\r\nApplication bundle generation complete. [2.277 seconds]\r\n```","Url":"https://github.com/angular/angular-cli/pull/27635","RelatedDescription":"Closed or merged PR \"perf(@angular/build): add persistent caching of JavaScript transformations\" (#27635)"},{"Id":"2293588041","IsPullRequest":false,"CreatedAt":"2024-05-14T09:06:37","Actor":"Caliv0","Number":"27636","RawContent":null,"Title":"\"NG04014: Invalid configuration of route\" when using router with exported variables","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nrouter\n\n### Is this a regression?\n\nYes\n\n### Description\n\napp-routing.module.ts: \r\n```ts\r\nconst routes: Routes = [\r\n  {\r\n    path: SecondRoutes.Module,\r\n    loadChildren: () =>\r\n      import('./second/second.module').then((m) => m.SecondModule),\r\n    pathMatch: 'prefix',\r\n  },\r\n];\r\n```\r\nsecond.routing.ts\r\n```ts\r\nexport enum SecondRoutes {\r\n  Module = 'second',\r\n  CodeParam = 'code',\r\n}\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: `:${SecondRoutes.CodeParam}`,\r\n    component: SecondComponent,\r\n    pathMatch: 'full',\r\n  },\r\n  { path: '**', redirectTo: '/' },\r\n];\r\n```\r\n\r\nThis configuration in itself is okay, the is caused in `SecondComponent`. Note the SecondRoutes enum, it's also part of the problem.\r\n\r\nsecond.component.ts\r\n```ts\r\nexport class SecondComponent implements OnInit {\r\n  constructor(\r\n    private _route: ActivatedRoute,\r\n    private _router: Router,\r\n  ) {}\r\n  ngOnInit(): void {\r\n    // Causes Bug\r\n    //console.log(this._route.snapshot.paramMap.get(SecondRoutes.CodeParam));\r\n    // Causes Bug too\r\n    //this._router.navigate(['/', SecondRoutes.Module]);\r\n    // Using ThirdRoutes works again\r\n    this._router.navigate(['/', ThirdRoutes.Module]);\r\n  }\r\n}\r\n```\r\nThis works fine too. Note `ThirdRoutes.Module` which is an enum from a different module.\r\n\r\nsecond.component.ts\r\n```ts\r\nexport class SecondComponent implements OnInit {\r\n  constructor(\r\n    private _route: ActivatedRoute,\r\n    private _router: Router,\r\n  ) {}\r\n  ngOnInit(): void {\r\n    // Causes Bug\r\n    console.log(this._route.snapshot.paramMap.get(SecondRoutes.CodeParam));\r\n    // Causes Bug too\r\n    this._router.navigate(['/', SecondRoutes.Module]);\r\n    // Using ThirdRoutes works again\r\n    //this._router.navigate(['/', ThirdRoutes.Module]);\r\n  }\r\n}\r\n```\r\nThis causes the bug. I get this error in the console when I try to activate the route: \r\n![image](https://github.com/angular/angular/assets/55995344/f0389b49-3e4e-49af-9ab2-d06cb7645ac5)\r\n\r\nNote `SecondRoutes.CodeParam` and `SecondRoutes.Module` hardcoding them solves the issue.\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://github.com/Caliv0/angular-routing-bug\n\n### Please provide the exception or error you saw\n\n```true\napp-routing.module.ts:9 ERROR Error: NG04014: Invalid configuration of route 'second/:code'. One of the following must be provided: component, loadComponent, redirectTo, children or loadChildren\r\n    at validateNode (router.mjs:2843:13)\r\n    at validateConfig (router.mjs:2790:5)\r\n    at router.mjs:4341:56\r\n    at map.js:7:37\r\n    at OperatorSubscriber2._this._next (OperatorSubscriber.js:15:21)\r\n    at Subscriber2.next (Subscriber.js:34:18)\r\n    at mergeInternals.js:25:28\r\n    at OperatorSubscriber2._this._next (OperatorSubscriber.js:15:21)\r\n    at Subscriber2.next (Subscriber.js:34:18)\r\n    at innerFrom.js:61:28\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 17.3.7\r\nNode: 20.12.2\r\nPackage Manager: npm 10.6.0\r\nOS: linux x64\r\n\r\nAngular: 17.3.8\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1703.7\r\n@angular-devkit/build-angular   17.3.7\r\n@angular-devkit/core            17.3.7\r\n@angular-devkit/schematics      17.3.7\r\n@angular/cli                    17.3.7\r\n@schematics/angular             17.3.7\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.5\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27636","RelatedDescription":"Closed issue \"\"NG04014: Invalid configuration of route\" when using router with exported variables\" (#27636)"},{"Id":"2294675884","IsPullRequest":false,"CreatedAt":"2024-05-14T08:21:34","Actor":"cyraid","Number":"27639","RawContent":null,"Title":"[Deprecation Warning] Node's DEP0060 when using proxy config and entering a URL target.","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nDon't known / other\n\n### Is this a regression?\n\nNo\n\n### Description\n\n# Overview #\r\n\r\nNode's **DEP0060** when using proxy config and entering a URL target.\r\n\r\n# Details #\r\n\r\nAfter using a proxy (set with options in `@angular-devkit/build-anger:dev-server`):\r\n\r\n```json\r\n        \"serve\": {\r\n          \"builder\": \"@angular-devkit/build-angular:dev-server\",\r\n          \"options\": {\r\n            \"proxyConfig\": \"proxy.conf.json\"\r\n          },\r\n```\r\n\r\nInside `proxy.conf.json` using a simple proxy config:\r\n\r\n```json\r\n{\r\n  \"/api\": {\r\n    \"target\": \"http://localhost:8080\",\r\n    \"secure\": false,\r\n    \"pathRewrite\": {\r\n      \"^/api\": \"\"\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nWill result in:\r\n```\r\n(node:8703) [DEP0060] DeprecationWarning: The `util._extend` API is deprecated. Please use Object.assign() instead.\r\n(Use `node --trace-deprecation ...` to show where the warning was created)\r\n```\r\n\r\nWhen you visit `http://localhost:4200/api`.\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\n(node:8703) [DEP0060] DeprecationWarning: The `util._extend` API is deprecated. Please use Object.assign() instead.\r\n(Use `node --trace-deprecation ...` to show where the warning was created)\r\n```\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 17.3.2\r\nNode: 22.0.0 (Unsupported)\r\nPackage Manager: npm 10.5.1\r\nOS: linux x64\r\n\r\nAngular: 17.3.2\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1703.2\r\n@angular-devkit/build-angular   17.3.2\r\n@angular-devkit/core            17.3.2\r\n@angular-devkit/schematics      17.3.2\r\n@schematics/angular             17.3.2\r\nrxjs                            7.8.1\r\ntypescript                      5.4.3\r\nzone.js                         0.14.4\n```\n\n\n### Anything else?\n\nI realize Angular doesn't support Node 22.0.0 yet, but I figure this may be a help on the right track to fix some future issues if someone likes. I'll use a supported Node in the meantime.","Url":"https://github.com/angular/angular-cli/issues/27639","RelatedDescription":"Closed issue \"[Deprecation Warning] Node's DEP0060 when using proxy config and entering a URL target.\" (#27639)"},{"Id":"2294268434","IsPullRequest":false,"CreatedAt":"2024-05-14T05:23:10","Actor":"EwertonLeal","Number":"27638","RawContent":null,"Title":"Angular11: fileReplacements stopped working after angular update","State":"closed","Body":"### Command\n\nbuild\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nMy team and I are updating the Angular version of our app. We were using version 10.2.3 and migrated to 11.2.19 in angular/cli\r\n\r\nBefore updating, our environments files were replaced by fileReplacements\r\n\r\nBut now that we've updated them, they no longer work.\r\n\r\nPackage.json:\r\n`\r\n\"dependencies\": {\r\n    \"@amcharts/amcharts4\": \"^4.10.19\",\r\n    \"@angular-devkit/build-angular\": \"^0.1002.3\",\r\n    \"@angular/animations\": \"^11.2.14\",\r\n    \"@angular/cdk\": \"^9.2.4\",\r\n    \"@angular/common\": \"^11.2.14\",\r\n    \"@angular/compiler\": \"^11.2.14\",\r\n    \"@angular/core\": \"^11.2.14\",\r\n    \"@angular/flex-layout\": \"^9.0.0-beta.31\",\r\n    \"@angular/forms\": \"^11.2.14\",\r\n    \"@angular/localize\": \"^11.2.14\",\r\n    \"@angular/material\": \"^9.2.4\",\r\n    \"@angular/platform-browser\": \"^11.2.14\",\r\n    \"@angular/platform-browser-dynamic\": \"^11.2.14\",\r\n    \"@angular/router\": \"^11.2.14\",\r\n    \"@aspnet/signalr\": \"^3.0.0-preview6.19307.2\",\r\n    //-------------------//\r\n  },\r\n  \"devDependencies\": {\r\n    \"@angular/cli\": \"^11.2.19\",\r\n    \"@angular/compiler-cli\": \"^11.2.14\",\r\n    \"@angular/language-service\": \"^11.2.14\",\r\n    \"@fortawesome/fontawesome-free\": \"^5.15.3\",\r\n    \"@types/crypto-js\": \"^3.1.47\",\r\n    \"@types/jasmine\": \"^2.8.17\",\r\n    \"@types/jasminewd2\": \"^2.0.9\",\r\n    \"@types/jspdf\": \"^2.0.0\",\r\n    \"@types/node\": \"^12.20.15\",\r\n    \"codelyzer\": \"^5.1.2\",\r\n    \"g\": \"^2.0.1\",\r\n    \"http-server\": \"^0.12.3\",\r\n    \"jasmine-core\": \"~3.5.0\",\r\n    \"jasmine-spec-reporter\": \"~5.0.0\",\r\n    \"karma\": \"~6.4.3\",\r\n    \"karma-chrome-launcher\": \"~3.1.0\",\r\n    \"karma-coverage-istanbul-reporter\": \"~3.0.2\",\r\n    \"karma-jasmine\": \"~4.0.0\",\r\n    \"karma-jasmine-html-reporter\": \"^1.5.0\",\r\n    \"protractor\": \"~7.0.0\",\r\n    \"ts-node\": \"~7.0.0\",\r\n    \"tslint\": \"~6.1.0\",\r\n    \"typescript\": \"~4.0.8\",\r\n    \"webpack-bundle-analyzer\": \"^3.9.0\"\r\n  }\r\n`\r\nangular.json\r\n\r\n`\r\n\"configurations\": {\r\n            \"production\": {\r\n              \"budgets\": [\r\n                {\r\n                  \"type\": \"anyComponentStyle\",\r\n                  \"maximumWarning\": \"20kb\"\r\n                }\r\n              ],\r\n              \"fileReplacements\": [\r\n                {\r\n                  \"replace\": \"src/assets/environments/environment.json\",\r\n                  \"with\": \"src/assets/environments/environment.prod.json\"\r\n                }\r\n              ],\r\n              \"optimization\": true,\r\n              \"outputHashing\": \"all\",\r\n              \"sourceMap\": false,\r\n              \"extractCss\": true,\r\n              \"namedChunks\": false,\r\n              \"aot\": true,\r\n              \"extractLicenses\": true,\r\n              \"vendorChunk\": false,\r\n              \"buildOptimizer\": true\r\n            },\r\n            \"dev\": {\r\n              \"budgets\": [\r\n                {\r\n                  \"type\": \"anyComponentStyle\",\r\n                  \"maximumWarning\": \"20kb\"\r\n                }\r\n              ],\r\n              \"fileReplacements\": [\r\n                {\r\n                  \"replace\": \"src/assets/environments/environment.json\",\r\n                  \"with\": \"src/assets/environments/environment.dev.json\"\r\n                }\r\n              ],\r\n              \"optimization\": true,\r\n              \"outputHashing\": \"all\",\r\n              \"sourceMap\": false,\r\n              \"extractCss\": true,\r\n              \"namedChunks\": false,\r\n              \"aot\": true,\r\n              \"extractLicenses\": true,\r\n              \"vendorChunk\": false,\r\n              \"buildOptimizer\": true\r\n            },\r\n            \"dev-machine\": {\r\n              \"budgets\": [\r\n                {\r\n                  \"type\": \"anyComponentStyle\",\r\n                  \"maximumWarning\": \"20kb\"\r\n                }\r\n              ],\r\n              \"fileReplacements\": [\r\n                {\r\n                  \"replace\": \"src/assets/environments/environment.json\",\r\n                  \"with\": \"src/assets/environments/environment.dev-machine.json\"\r\n                }\r\n              ]\r\n            },\r\n            \"design-machine\": {\r\n              \"budgets\": [\r\n                {\r\n                  \"type\": \"anyComponentStyle\",\r\n                  \"maximumWarning\": \"20kb\"\r\n                }\r\n              ],\r\n              \"fileReplacements\": [\r\n                {\r\n                  \"replace\": \"src/assets/environments/environment.json\",\r\n                  \"with\": \"src/assets/environments/environment.dev-machine.json\"\r\n                }\r\n              ],\r\n              \"sourceMap\": false\r\n            }\r\n          }\r\n        }\n\n### Minimal Reproduction\n\nWe noticed that when returning @angular-devkit/build-angular to version 0.1002.3, the replace happens again, but if we use the version suggested by the Angular update (version 0.1102.18) it no longer works.\n\n### Exception or Error\n\n_No response_\n\n### Your Environment\n\n```text\nAngular CLI: 11.2.19\r\nNode: 16.16.0       \r\nOS: win32 x64       \r\n\r\nAngular: 11.2.14    \r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, localize, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1102.18\r\n@angular-devkit/build-angular   0.1102.18\r\n@angular-devkit/core            11.2.18\r\n@angular-devkit/schematics      11.2.19\r\n@angular/cdk                    9.2.4\r\n@angular/cli                    11.2.19\r\n@angular/flex-layout            9.0.0-beta.31\r\n@angular/material               9.2.4\r\n@schematics/angular             11.2.19\r\n@schematics/update              0.1102.19\r\nrxjs                            6.6.7\r\ntypescript                      4.0.8\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27638","RelatedDescription":"Closed issue \"Angular11: fileReplacements stopped working after angular update\" (#27638)"},{"Id":"2292522996","IsPullRequest":true,"CreatedAt":"2024-05-13T21:53:12","Actor":"alan-agius4","Number":"27634","RawContent":null,"Title":"refactor: replace angular.io link with angular.dev","State":"closed","Body":"This replaces https://angular.io/guide/build#configuring-commonjs-dependencies with https://angular.dev/tools/cli/build#configuring-commonjs-dependencies\r\n","Url":"https://github.com/angular/angular-cli/pull/27634","RelatedDescription":"Closed or merged PR \"refactor: replace angular.io link with angular.dev\" (#27634)"},{"Id":"2292184731","IsPullRequest":true,"CreatedAt":"2024-05-13T21:52:43","Actor":"alan-agius4","Number":"27632","RawContent":null,"Title":"refactor(@angular/build): remove orphane file","State":"closed","Body":"This logic was moved to another file but the file was not removed.\r\n","Url":"https://github.com/angular/angular-cli/pull/27632","RelatedDescription":"Closed or merged PR \"refactor(@angular/build): remove orphane file\" (#27632)"},{"Id":"2290017007","IsPullRequest":true,"CreatedAt":"2024-05-13T12:00:13","Actor":"clydin","Number":"27630","RawContent":null,"Title":"fix(@angular/cli): clarify optional migration instructions during ng update","State":"closed","Body":"The instructions for when optional migrations are present within an updated package have been adjusted. A sentence has been added to mention that optional migrations can be executed after the update process if preferred and can be skipped for now.","Url":"https://github.com/angular/angular-cli/pull/27630","RelatedDescription":"Closed or merged PR \"fix(@angular/cli): clarify optional migration instructions during ng update\" (#27630)"},{"Id":"2288349806","IsPullRequest":true,"CreatedAt":"2024-05-13T11:59:56","Actor":"clydin","Number":"27627","RawContent":null,"Title":"refactor(@angular/build): use piscina-based worker pool for Sass rendering","State":"closed","Body":"The multi-threaded Sass rendering system now uses a thread pool back by the `piscina` package. This package is already used in multiple locations throughout the build system. This replaces the custom worker implementation and reduces the direct code complexity as well as providing improved handling of worker turndown and cleanup.","Url":"https://github.com/angular/angular-cli/pull/27627","RelatedDescription":"Closed or merged PR \"refactor(@angular/build): use piscina-based worker pool for Sass rendering\" (#27627)"},{"Id":"2292290846","IsPullRequest":false,"CreatedAt":"2024-05-13T09:29:08","Actor":"fmancuso","Number":"27633","RawContent":null,"Title":"Out of memory after upgrade to latest version","State":"open","Body":"### Command\n\nbuild\n\n### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n12\n\n### Description\n\nAfter upgrading from angular 12 to angular 17 the build command started to go in Out of memory.\n\n### Minimal Reproduction\n\nI cannot provide a minimal reproduction as I would have to upload my entire project.\n\n### Exception or Error\n\n```text\nI tried to build with a --max-old-space-size=12000 and there is the log after the OOM error:\r\n<--- Last few GCs --->\r\n\r\n[69393:0x7feef0100000]   214299 ms: Mark-Compact 11821.8 (12037.0) -> 11819.9 (12036.0) MB, 4539.15 / 0.00 ms  (average mu = 0.277, current mu = 0.034) allocation failure; scavenge might not succeed\r\n[69393:0x7feef0100000]   220253 ms: Mark-Compact 11835.7 (12036.0) -> 11833.9 (12066.0) MB, 5930.46 / 0.00 ms  (average mu = 0.139, current mu = 0.004) allocation failure; scavenge might not succeed\r\n\r\n\r\n<--- JS stacktrace --->\r\n\r\nFATAL ERROR: Reached heap limit Allocation failed - JavaScript heap out of memory\r\n 1: 0x1052b5b15 node::Abort() [/Users/francesco.mancuso/.nvm/versions/node/v20.9.0/bin/node]\r\n 2: 0x1052b5cf6 node::OOMErrorHandler(char const*, v8::OOMDetails const&) [/Users/francesco.mancuso/.nvm/versions/node/v20.9.0/bin/node]\r\n 3: 0x105468d6c v8::internal::V8::FatalProcessOutOfMemory(v8::internal::Isolate*, char const*, v8::OOMDetails const&) [/Users/francesco.mancuso/.nvm/versions/node/v20.9.0/bin/node]\r\n 4: 0x105658e07 v8::internal::Heap::FatalProcessOutOfMemory(char const*) [/Users/francesco.mancuso/.nvm/versions/node/v20.9.0/bin/node]\r\n 5: 0x105657669 v8::internal::Heap::CollectGarbage(v8::internal::AllocationSpace, v8::internal::GarbageCollectionReason, v8::GCCallbackFlags) [/Users/francesco.mancuso/.nvm/versions/node/v20.9.0/bin/node]\r\n 6: 0x10564bed1 v8::internal::HeapAllocator::AllocateRawWithLightRetrySlowPath(int, v8::internal::AllocationType, v8::internal::AllocationOrigin, v8::internal::AllocationAlignment) [/Users/francesco.mancuso/.nvm/versions/node/v20.9.0/bin/node]\r\n 7: 0x10564c915 v8::internal::HeapAllocator::AllocateRawWithRetryOrFailSlowPath(int, v8::internal::AllocationType, v8::internal::AllocationOrigin, v8::internal::AllocationAlignment) [/Users/francesco.mancuso/.nvm/versions/node/v20.9.0/bin/node]\r\n 8: 0x10562ea02 v8::internal::Factory::NewFillerObject(int, v8::internal::AllocationAlignment, v8::internal::AllocationType, v8::internal::AllocationOrigin) [/Users/francesco.mancuso/.nvm/versions/node/v20.9.0/bin/node]\r\n 9: 0x105aac5e0 v8::internal::Runtime_AllocateInYoungGeneration(int, unsigned long*, v8::internal::Isolate*) [/Users/francesco.mancuso/.nvm/versions/node/v20.9.0/bin/node]\r\n10: 0x68d39a536\r\n11: 0x68d33dd72.\n```\n\n\n### Your Environment\n\n```text\nPrevious versions:\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.1200.4\r\n@angular-devkit/build-angular      0.1000.5\r\n@angular-devkit/build-ng-packagr   0.1000.5\r\n@angular-devkit/core               12.0.4\r\n@angular-devkit/schematics         12.0.4\r\n@schematics/angular                12.0.4\r\nng-packagr                         10.0.3\r\nrxjs                               6.5.5\r\ntypescript                         4.2.3\r\nzone.js                               0.10.3\r\n\r\nActual version:\r\n@angular-devkit/architect       0.1703.7\r\n@angular-devkit/build-angular   17.3.7\r\n@angular-devkit/core            17.3.7\r\n@angular-devkit/schematics      17.3.7\r\n@angular/cli                    17.3.7\r\n@schematics/angular             17.3.7\r\nng-packagr                      17.3.0\r\nrxjs                            7.4.0\r\ntypescript                      5.3.3\r\nzone.js                         0.14.5\n```\n\n\n### Anything else relevant?\n\nThe components and the various file in the project are the same. \r\nPrevious the upgrade the maximum quantity of RAM that the process took up was 4 GB now it grows without limits.\r\nI tried to take a memory heap dump but without success as the dump was getting stuck","Url":"https://github.com/angular/angular-cli/issues/27633","RelatedDescription":"Open issue \"Out of memory after upgrade to latest version\" (#27633)"},{"Id":"2290983820","IsPullRequest":false,"CreatedAt":"2024-05-13T06:27:47","Actor":"KevTale","Number":"27631","RawContent":null,"Title":"--skip-install is ignored when creating a new app with --ssr","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\nDon't known / other\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nThis is a very specific situation but if you try to generate a new app (with `--ssr --skip-install`) inside an existing workspace, the `--skip-install` will be by-passed and it will still install the deps.\r\n\r\nTo reproduce:\r\n1. run `npx @angular/cli@latest new myorg --skip-install` (with or without `--create-application=false`, it doesn't matter)\r\n2. run `ng generate app my-app --ssr --skip-install`\r\n\r\nIt will still install the deps.\r\n\r\n**edit**: the issue doesn't happen if on 2. I run `npx @angular/cli@latest generate app my-app --ssr --skip-install`.\r\nI just noticed that when running `ng generate ...` I got a warning\r\n```\r\nPackage dependency \"@angular/ssr\" already exists with a different specifier. \"^17.3.7\" will be replaced with \"^17.0.0\".\r\n```","Url":"https://github.com/angular/angular-cli/issues/27631","RelatedDescription":"Closed issue \"--skip-install is ignored when creating a new app with --ssr\" (#27631)"},{"Id":"2289841787","IsPullRequest":false,"CreatedAt":"2024-05-10T15:28:34","Actor":"cesco69","Number":"27629","RawContent":null,"Title":"How specify a folder for javascript and css with \"ng build\" (but with index.html on the root folder)","State":"closed","Body":"### Command\r\n\r\nbuild\r\n\r\n### Description\r\n\r\nI want take `index.html` on the root folder, but all js and css file in a sub folder (eg: \"/static\").\r\n\r\n```\r\n/\r\n├── index.html\r\n└── static/\r\n    ├── runtime.09dbad26989ed44c.js\r\n    ├── polyfills.7eddfc827f8797ce.js\r\n    ├── main.b575f9ab98e16fd7.js\r\n    └── styles.d518ebbd15507a10.css\r\n```\r\nand `index.html` become\r\n```html\r\n<!DOCTYPE html>\r\n<html lang=\"en\"> \r\n    <head>\r\n        <link rel=\"stylesheet\" href=\"static/styles.d518ebbd15507a10.css\">\r\n    </head>\r\n    <body>\r\n        <ac-root></ac-root>\r\n        <script src=\"static/runtime.09dbad26989ed44c.js\" type=\"module\"></script>\r\n        <script src=\"static/polyfills.7eddfc827f8797ce.js\" type=\"module\"></script>\r\n        <script src=\"static/main.b575f9ab98e16fd7.js\" type=\"module\"></script>\r\n    </body>\r\n</html>\r\n```\r\n\r\nhow do that?\r\n\r\n\r\n### Describe the solution you'd like\r\n\r\n_No response_\r\n\r\n### Describe alternatives you've considered\r\n\r\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27629","RelatedDescription":"Closed issue \"How specify a folder for javascript and css with \"ng build\" (but with index.html on the root folder)\" (#27629)"},{"Id":"2288503054","IsPullRequest":false,"CreatedAt":"2024-05-09T21:37:00","Actor":"joergbaier","Number":"27628","RawContent":null,"Title":" application builder - strict-dynamic - issues with content security policy","State":"open","Body":"### Command\n\nbuild\n\n### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n@angular-devkit/build-angular:browser\n\n### Description\n\nThis is a follow up to https://github.com/angular/angular-cli/issues/26330 and appreciate the work on adding the `preloadInitial` flag.\r\n\r\nIt seems like the real issue is the way chunks are loaded by esbuild (screenshots below):\r\n\r\n- webpack created a `runtime.js` file that loads scripts in a way that worked with `strict-dynamic`\r\n- esbuild calls `import ... from \"chunk.js\";` directly from `main.js`\r\n\r\nhttps://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/script-src#strict-dynamic\r\n\r\n> The 'strict-dynamic' source expression specifies that the trust explicitly given to a script present in the markup, by accompanying it with a nonce or a hash, shall be propagated to all the scripts loaded by that root script. At the same time, any allowlist or source expressions such as 'self' or 'unsafe-inline' will be ignored.\r\n\r\nBased on that documentation I would expect both cases to work. For the esbuild case, we are allowing `main.js` via sha384, which should then be allowed to import further scripts. Is there something I am missing here?\n\n### Minimal Reproduction\n\n`@angular-devkit/build-angular:browser` output\r\n```html\r\n<script\r\n  src=\"runtime.123.js\"\r\n  type=\"module\"\r\n  crossorigin=\"anonymous\"\r\n  integrity=\"sha384-123\"\r\n></script>\r\n<script\r\n  src=\"polyfills.123.js\"\r\n  type=\"module\"\r\n  crossorigin=\"anonymous\"\r\n  integrity=\"sha384-123\"\r\n></script>\r\n<script\r\n  src=\"main.123.js\"\r\n  type=\"module\"\r\n  crossorigin=\"anonymous\"\r\n  integrity=\"sha384-123\"\r\n></script>\r\n```\r\n\r\nChrome trace for loading the first chunk\r\n![webpack](https://github.com/angular/angular-cli/assets/3266794/70a08573-a83d-4c67-9509-be61aac47b5d)\r\n\r\n---\r\n\r\n`@angular-devkit/build-angular:application` output\r\n```html\r\n<script\r\n  src=\"polyfills-123.js\"\r\n  type=\"module\"\r\n  crossorigin=\"anonymous\"\r\n  integrity=\"123\"\r\n></script>\r\n<script\r\n  src=\"main-123.js\"\r\n  type=\"module\"\r\n  crossorigin=\"anonymous\"\r\n  integrity=\"123\"\r\n></script>\r\n```\r\n\r\nChrome trace for loading the first chunk\r\n![esbuild](https://github.com/angular/angular-cli/assets/3266794/e95ce8b3-48a2-47de-8298-4e199b90cacc)\r\n\r\nChrome console error\r\n```console\r\nRefused to load the script '.../chunk-123.js' because it violates the following Content Security Policy directive:\r\n\"script-src ... 'sha384-123' 'strict-dynamic'\".\r\nNote that 'strict-dynamic' is present, so host-based allowlisting is disabled.\r\nNote that 'script-src-elem' was not explicitly set, so 'script-src' is used as a fallback.\r\n```\n\n### Exception or Error\n\n_No response_\n\n### Your Environment\n\n```text\n17.3\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27628","RelatedDescription":"Open issue \" application builder - strict-dynamic - issues with content security policy\" (#27628)"}],"ResultType":"GitHubIssue"},"material2-Issues":{"Issues":[{"Id":"2303333557","IsPullRequest":true,"CreatedAt":"2024-05-17T18:13:55","Actor":"amysorto","Number":"29067","RawContent":null,"Title":"docs: Update theming your components guide for M3 and move M2 specific info","State":"open","Body":"","Url":"https://github.com/angular/components/pull/29067","RelatedDescription":"Open PR \"docs: Update theming your components guide for M3 and move M2 specific info\" (#29067)"},{"Id":"2302090177","IsPullRequest":false,"CreatedAt":"2024-05-17T08:09:08","Actor":"zerbusdetroy","Number":"29065","RawContent":null,"Title":"bug(MatListItem): Misalignment of Button Icon in Two-Line MatListItem","State":"open","Body":"### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n16\n\n### Description\n\nWhen using a Button Icon as `matListItemMeta` in a two-line `MatListItem`, the icon is not properly centered within the button. This misalignment appears to be caused by the `display: inline-block;` property in the `.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before` selector.\n\n### Reproduction\n\nStackBlitz link: https://stackblitz.com/edit/jytzjx?file=src%2Fexample%2Flist-overview-example.html\r\n\n\n### Expected Behavior\n\nThe Button Icon should be vertically and horizontally centered within the button in a two-line `MatListItem`.\n\n### Actual Behavior\n\nThe Button Icon is not centered within the button, leading to a misalignment in the UI.\n\n### Environment\n\n- Angular: 17.3.9\r\n- CDK/Material: 17.3.9\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): macOS\r\n","Url":"https://github.com/angular/components/issues/29065","RelatedDescription":"Open issue \"bug(MatListItem): Misalignment of Button Icon in Two-Line MatListItem\" (#29065)"},{"Id":"2302027163","IsPullRequest":false,"CreatedAt":"2024-05-17T07:33:44","Actor":"adumitrescu-plenty","Number":"29064","RawContent":null,"Title":"bug(form-field): form field prefix in overlay","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nThe issue is about the missing padding for the label when using a form field inside an overlay with ng-content. It can be easily reproduced in stackblitz, I will provide a link where it can be seen how is misbehaving. Without ng-content, everything works fine.\n\n### Reproduction\n\nStackBlitz link: \r\nSteps to reproduce:\r\n1. click on open\r\n\r\nhttps://stackblitz.com/edit/ipwssz-9pucs5?file=src%2Fexample%2Fcdk-overlay-basic-example.html\n\n### Expected Behavior\n\nThe label should be positioned after the prefix. \n\n### Actual Behavior\n\nThe label transition is not working properly.\n\n### Environment\n\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 17.3.0\r\nNode: 18.18.0\r\nPackage Manager: yarn 1.22.19\r\nOS: linux x64\r\n\r\nAngular: 17.3.0\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... localize, platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.1703.0\r\n@angular-devkit/build-angular      17.3.0\r\n@angular-devkit/core               17.3.0\r\n@angular-devkit/schematics         17.3.0\r\n@angular/cdk                       17.3.6\r\n@angular/material                  17.3.6\r\n@angular/material-experimental     17.3.6\r\n@angular/material-moment-adapter   17.3.6\r\n@schematics/angular                17.3.0\r\nrxjs                               7.4.0\r\ntypescript                         5.4.2\r\nzone.js                            0.14.0","Url":"https://github.com/angular/components/issues/29064","RelatedDescription":"Open issue \"bug(form-field): form field prefix in overlay\" (#29064)"},{"Id":"2301479780","IsPullRequest":false,"CreatedAt":"2024-05-16T22:17:38","Actor":"ChazUK","Number":"29063","RawContent":null,"Title":"bug(MatAutocomplete): setValue on FormControl does not update AutoComplete Input","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nWhen using a custom input field with a FormControl, I am unable to dynamically set the value of the input element via `setValue()`.\r\n\r\nhttps://stackblitz.com/edit/vavcrk\n\n### Reproduction\n\nhttps://stackblitz.com/edit/vavcrk\n\n### Expected Behavior\n\nUsing `setValue()` on the FormControl should update the value of the input element.\n\n### Actual Behavior\n\nInput element value continues to be empty\n\n### Environment\n\n- Angular: 17\r\n- CDK/Material: 16\r\n- Browser(s): Chome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): MacOS\r\n","Url":"https://github.com/angular/components/issues/29063","RelatedDescription":"Open issue \"bug(MatAutocomplete): setValue on FormControl does not update AutoComplete Input\" (#29063)"},{"Id":"2298217417","IsPullRequest":true,"CreatedAt":"2024-05-16T20:30:08","Actor":"amysorto","Number":"29054","RawContent":null,"Title":"docs: Move M2 theming information into separate guide","State":"closed","Body":"Move the M3 theme guide into the theming guide and pull out the M2 information into it's own separate guide.\r\n\r\nThis does not include updating the the [theming your own components guide](https://material.angular.io/guide/theming-your-components) and the [typography guide](https://material.angular.io/guide/typography). I figured I could do that in a follow up PR to not make this too large. ","Url":"https://github.com/angular/components/pull/29054","RelatedDescription":"Closed or merged PR \"docs: Move M2 theming information into separate guide\" (#29054)"},{"Id":"2301209661","IsPullRequest":true,"CreatedAt":"2024-05-16T19:42:50","Actor":"BobobUnicorn","Number":"29062","RawContent":null,"Title":"fix(material/tree): add levelAccessor, childrenAccessor, TreeKeyManager; a11y and docs improvements","State":"open","Body":"Update multiple facets of Tree component. Add APIs to manage data models, improve existing behaviors, add keyboard functionality and update documentation.\r\n\r\nAdd APIs options to the Tree data model by introducing levelAccessor and childrenAccessor. See “Api Addition” for usage. Currently, Tree component use TreeControl to manage data model. When applied, add levelAccessor and childrenAccessor functions as alternatives to TreeControl.\r\n\r\nAdd TreeKeyManager, which provides keyboard functionality. Currently Tree component allows developers to manage focus by setting tabindex on each tree node. When applied, Tree manages its own focus using key manager pattern. Keyboard commands match [WAI ARIA Tree View Pattern](https://www.w3.org/WAI/ARIA/apg/patterns/treeview/). See “Deprecated” for adopting changes to existing applications.\r\n\r\nCorrect the ARIA semantics of Tree and Tree node components.\r\n\r\nDocument updated APIs and behaviors. Refine documentation of existing APIs and behaviors.\r\n\r\nChanges to Cdk Tree API also apply to Mat Tree API. See “Deprecated” for adopting changes to existing applications.\r\n\r\nAccessibility:\r\n * add CdkTreeKeyManager to provide keyboard navigation for CdkTree and MatTree\r\n * Improve keyboard usability of CdkTreeNodeToggle.\r\n * Improve ARIA semantics of CdkTree, CdkTreeNode, Tree and TreeNode components\r\n * Fix miscellaneous accessibility issues in tree and cdk-tree examples\r\n * Add accessibility instructions to documentation\r\n\r\nDocumentation:\r\n * Add API and usage examples for TreeKeyManager\r\n * Update @angular/cdk/tree and @angular/material/tree to be more consistent\r\n * Update examples to use levelAccessor and childrenAccessor\r\n * Add example for (activation) on MatTreeNode and CdkTreeNode\r\n\r\nAPI ADDITION: add CdkTree#childrenAccessor and CdkTree#levelAccessor\r\n * Add CdkTree#childrenAccessor. Given a data node, childrenAccessor determines the children of that node.\r\n * Add CdkTree#levelAccessor. Given a data node, levelAccessor determines the level of the node in the parent hierarchy.\r\n * CdkTreeNode#levelAcessor and CdkTreeNode#childrenAccessor replace CdkTreeNode#treeControl.\r\n\r\nSee “Deprecated” for updating apps using treeControl.\r\n\r\nAPI ADDITION: control expanded state of tree nodes using isExpandable and isExpanded\r\n * Add CdkTreeNode#isExpandable, determines if argument tree node can be expanded or collapsed.\r\n * CdkTreeNode#isExpanded to specify the expanded state. Has no effect if node is not expandable.\r\n * Add NestedTreeControlOptions#isExpandable function, determines if argument tree node can be expanded or collapsed.\r\n\r\nFor trees using treeControl, recommend providing isExpandable if not already provided. See “Deprecated” for more information on updating applications.\r\n\r\nAPI ADDITION: use CdkTree to manage expansion state\r\n * Add CdkTree#isExpanded method.\r\n * Add CdkTree#toggle, CdkTree#expand and CdkTree#collapse methods.\r\n * Add  CdkTree#toggleDescendants, CdkTree#expandDescendants, and CdkTree#collapseDescendants methods to CdkTree\r\n * Add CdkTree#expandAll and CdkTree#collapseAll methods\r\n * Add expandedChange Output to CdkTreeNode\r\n\r\nAPI ADDITION: add injection token for tree-key-manager\r\n * Add TREE_KEY_MANAGER injection token. When provided, tree uses given key manager\r\n * TreeKeyManagerStrategy interface, which defines API contract of TREE_KEY_MANAGER\r\n\r\nBEHAVIOR CHANGE: MatTree and CdkTree components respond to keyboard navigation.\r\n * CdkTree and MatTree respond to arrow keys, page up, page down, etc.; Keyboard commands match [WAI ARIA Tree View Pattern](https://www.w3.org/WAI/ARIA/apg/patterns/treeview/).\r\n * Can no longer set the tabindex on MatTreeNode. See “Deprecated” for adopting existing applications.\r\n * Add TreeKeyManager to cdk/a11y\r\n\r\nDEPRECATED: Tree controller deprecated. Use one of levelAccessor or childrenAccessor instead. To be removed in a future version.\r\n * BaseTreeControl, TreeControl, FlatTreeControl, and NestedTreeControl deprecated\r\n * CdkTree#treeControl deprecated. Provide one of CdkTree#levelAccessor or CdkTree#childrenAccessor instead.\r\n * MatTreeFlattener deprecated. Use MatTree#childrenAccessor and MatTreeNode#isExpandable instead.\r\n * MatTreeFlatDataSource deprecated. Use one of levelAccessor or childrenAccessor instead of TreeControl.\r\n\r\nNote when upgrading: isExpandable works differently on Trees using treeControl than trees using childrenAccessor or levelAccessor. Nodes on trees that have a treeControl are expandable by default. Nodes on trees using childrenAccessor or levelAccessor are *not* expandable by default. Provide isExpandable to override default behavior.\r\n\r\nDEPRECATED: Setting tabindex of tree nodes deprecated. By default, Tree ignores tabindex passed to tree nodes.\r\n * MatTreeNode#tabIndex deprecated. MatTreeNode ignores Input tabIndex and manages its own focus behavior.\r\n * MatTreeNode#defaultTabIndex deprecated. MatTreeNode ignores defaultTabIndex and manages its own focus behavior.\r\n * MatNestedTreeNode#tabIndex deprecated. MatTreeNode ignores Input defaultTabIndex and manages its own focus behavior.\r\n * LegacyTreeKeyManager and LEGACY_TREE_KEY_MANAGER_FACTORY_PROVIDER deprecated. Inject a TreeKeyManagerFactory to customize keyboard behavior.\r\n\r\nNote when upgrading: an opt-out is available for keyboard functionality changes. Provide LEGACY_TREE_KEY_MANAGER_FACTORY_PROVIDER to opt-out of Tree managing its own focus. When provided, Tree does not manage it’s own focus and respects tabindex passed to TreeNode. When provided, have the same focus behavior as before this commit is applied.\r\n\r\nAdd Legacy Keyboard Interface demo, which shows usage of LEGACY_TREE_KEY_MANAGER_FACTORY_PROVIDER. Add Custom Key Manager, which shows usage of injecting a TreeKeyManagerStrategy\r\n\r\nDEPRECATED: disabled renamed to isDisabled.\r\n * CdkTreeNode#disabled deprecated and alias to CdkTreeNode#isDisabled","Url":"https://github.com/angular/components/pull/29062","RelatedDescription":"Open PR \"fix(material/tree): add levelAccessor, childrenAccessor, TreeKeyManager; a11y and docs improvements\" (#29062)"},{"Id":"2298051076","IsPullRequest":false,"CreatedAt":"2024-05-16T19:19:36","Actor":"rubiesonthesky","Number":"29053","RawContent":null,"Title":"bug(DragDrop): After cdk update to v17.3.7, tests fail with css parse error \"Could not parse CSS stylesheet\"","State":"closed","Body":"### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n17.3.6\n\n### Description\n\nAfter updating to version 17.3.7, a lot of our unit tests fails with error \"Could not parse CSS stylesheet\". \r\n\r\nTests are using jest and jest-preset-angular. Some of these units tests are almost same what cli generates. The components testing are using DragDropModule with table, where you can drag and drop table rows.\n\n### Reproduction\n\nI'd like to include StackBlitz example, but that link creates Angular 16 app and I'm having hard to time updating it to Angular 17. I'm mainly getting errors about zone.js even when it's added to polyfills in angular.json. (That harness link creates Angular 10 repo)\r\n\r\n>  NG0908: In this configuration Angular requires Zone.js\r\n\r\nBut this bug manifest itself only in test setup (at least for now), so not sure if that Stackblitz would help.\r\n\r\nI may be able to create whole repro repository later. \n\n### Expected Behavior\n\nTests should still pass after patch update.\n\n### Actual Behavior\n\nFull stack trace:\r\n```\r\nError: Could not parse CSS stylesheet\r\n    at exports.createStylesheet (node_modules/jsdom/lib/jsdom/living/helpers/stylesheets.js:34:21)\r\n    at HTMLStyleElementImpl._updateAStyleBlock (node_modules/jsdom/lib/jsdom/living/nodes/HTMLStyleElement-impl.js:68:5)\r\n    at HTMLStyleElementImpl._attach (node_modules/jsdom/lib/jsdom/living/nodes/HTMLStyleElement-impl.js:19:12)\r\n    at HTMLHeadElementImpl._insert (node_modules/jsdom/lib/jsdom/living/nodes/Node-impl.js:835:14)\r\n    at HTMLHeadElementImpl._preInsert (node_modules/jsdom/lib/jsdom/living/nodes/Node-impl.js:756:10)\r\n    at HTMLHeadElementImpl._append (node_modules/jsdom/lib/jsdom/living/nodes/Node-impl.js:862:17)\r\n    at HTMLHeadElementImpl.appendChild (node_modules/jsdom/lib/jsdom/living/nodes/Node-impl.js:598:17)\r\n    at HTMLHeadElement.appendChild (node_modules/jsdom/lib/jsdom/living/generated/Node.js:411:60)\r\n    at _SharedStylesHost.getStyleElement (node_modules/@angular/platform-browser/fesm2022/platform-browser.mjs:358:18)\r\n    at _SharedStylesHost.addStyleToHost (node_modules/@angular/platform-browser/fesm2022/platform-browser.mjs:363:30)\r\n    at _SharedStylesHost.onStyleAdded (node_modules/@angular/platform-browser/fesm2022/platform-browser.mjs:305:18)\r\n    at _SharedStylesHost.addStyles (node_modules/@angular/platform-browser/fesm2022/platform-browser.mjs:268:22)\r\n    at NoneEncapsulationDomRenderer.applyStyles (node_modules/@angular/platform-browser/fesm2022/platform-browser.mjs:742:31)\r\n    at _DomRendererFactory2.createRenderer (node_modules/@angular/platform-browser/fesm2022/platform-browser.mjs:466:22)\r\n    at createRootComponentView (node_modules/@angular/core/fesm2022/core.mjs:15958:54)\r\n    at ComponentFactory.create (node_modules/@angular/core/fesm2022/core.mjs:15845:39)\r\n    at createComponent (node_modules/@angular/core/fesm2022/core.mjs:36380:20)\r\n    at _DragDrop._loadResets (node_modules/@angular/cdk/fesm2022/drag-drop.mjs:2749:34)\r\n    at _DragDrop.createDrag (node_modules/@angular/cdk/fesm2022/drag-drop.mjs:2734:14)\r\n    at new _CdkDrag (node_modules/@angular/cdk/fesm2022/drag-drop.mjs:2920:34)\r\n    at NodeInjectorFactory._CdkDrag_Factory [as factory] (ng:///_CdkDrag/ɵfac.js:5:10)\r\n    at getNodeInjectable (node_modules/@angular/core/fesm2022/core.mjs:5984:44)\r\n    at instantiateAllDirectives (node_modules/@angular/core/fesm2022/core.mjs:11907:27)\r\n    at createDirectivesInstances (node_modules/@angular/core/fesm2022/core.mjs:11306:5)\r\n    at ɵɵelementStart (node_modules/@angular/core/fesm2022/core.mjs:23045:9)\r\n    at ConfigFormComponent_tr_16_Template (ng:///ConfigFormComponent.js:95:5)\r\n    at executeTemplate (node_modules/@angular/core/fesm2022/core.mjs:11268:9)\r\n    at renderView (node_modules/@angular/core/fesm2022/core.mjs:12470:13)\r\n    at createAndRenderEmbeddedLView (node_modules/@angular/core/fesm2022/core.mjs:12540:9)\r\n    at TemplateRef2.createEmbeddedViewImpl (node_modules/@angular/core/fesm2022/core.mjs:13393:31)\r\n    at ViewContainerRef2.createEmbeddedView (node_modules/@angular/core/fesm2022/core.mjs:16191:37)\r\n    at node_modules/@angular/common/fesm2022/common.mjs:3173:31\r\n    at DefaultIterableDiffer.forEachOperation (node_modules/@angular/core/fesm2022/core.mjs:33351:17)\r\n    at _NgForOf._applyChanges (node_modules/@angular/common/fesm2022/common.mjs:3168:17)\r\n    at _NgForOf.ngDoCheck (node_modules/@angular/common/fesm2022/common.mjs:3163:22)\r\n    at callHookInternal (node_modules/@angular/core/fesm2022/core.mjs:5136:14)\r\n    at callHook (node_modules/@angular/core/fesm2022/core.mjs:5167:9)\r\n    at callHooks (node_modules/@angular/core/fesm2022/core.mjs:5118:17)\r\n    at executeInitAndCheckHooks (node_modules/@angular/core/fesm2022/core.mjs:5068:9)\r\n    at refreshView (node_modules/@angular/core/fesm2022/core.mjs:12806:21)\r\n    at detectChangesInView$1 (node_modules/@angular/core/fesm2022/core.mjs:13015:9)\r\n    at detectChangesInViewIfAttached (node_modules/@angular/core/fesm2022/core.mjs:12978:5)\r\n    at detectChangesInComponent (node_modules/@angular/core/fesm2022/core.mjs:12967:5)\r\n    at detectChangesInChildComponents (node_modules/@angular/core/fesm2022/core.mjs:13028:9)\r\n    at refreshView (node_modules/@angular/core/fesm2022/core.mjs:12841:13)\r\n    at detectChangesInView$1 (node_modules/@angular/core/fesm2022/core.mjs:13015:9)\r\n    at detectChangesInViewWhileDirty (node_modules/@angular/core/fesm2022/core.mjs:12732:5)\r\n    at detectChangesInternal (node_modules/@angular/core/fesm2022/core.mjs:12714:9)\r\n    at ViewRef$1.detectChanges (node_modules/@angular/core/fesm2022/core.mjs:13310:9)\r\n    at node_modules/@angular/core/fesm2022/testing.mjs:352:36\r\n    at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:412:32)\r\n    at Object.onInvoke (node_modules/@angular/core/fesm2022/core.mjs:14882:33)\r\n    at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:411:38)\r\n    at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:147:47)\r\n    at NgZone.run (node_modules/@angular/core/fesm2022/core.mjs:14733:28)\r\n    at PseudoApplicationComponentFixture.detectChanges (node_modules/@angular/core/fesm2022/testing.mjs:351:22)\r\n    at src/app/config-form.component.spec.ts:34:13\r\n    at processTicksAndRejections (node:internal/process/task_queues:95:5) {\r\n  detail: '@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}',\r\n  type: 'css parsing'\r\n}\r\n```\n\n### Environment\n\nAngular CLI: 17.3.7\r\nNode: 20.12.2\r\nPackage Manager: npm 10.5.0\r\nOS: darwin arm64\r\n\r\nAngular: 17.3.8\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... localize, platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1703.7\r\n@angular-devkit/build-angular   17.3.7\r\n@angular-devkit/core            17.3.7\r\n@angular-devkit/schematics      17.3.7\r\n@angular/cdk                    17.3.7\r\n@angular/cdk-experimental       17.3.7\r\n@angular/cli                    17.3.7\r\n@schematics/angular             17.3.7\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.5\r\n\r\n\r\n```\r\n\"jest\": \"29.7.0\",\r\n\"jest-preset-angular\": \"14.0.4\",\r\n ```","Url":"https://github.com/angular/components/issues/29053","RelatedDescription":"Closed issue \"bug(DragDrop): After cdk update to v17.3.7, tests fail with css parse error \"Could not parse CSS stylesheet\"\" (#29053)"},{"Id":"2299596602","IsPullRequest":true,"CreatedAt":"2024-05-16T19:19:35","Actor":"crisbeto","Number":"29056","RawContent":null,"Title":"fix(cdk/drag-drop): defer loading reset styles","State":"closed","Body":"Currently we load the reset styles for the preview up-front which seems to break some Jest tests since Jest's CSS parser doesn't understand layers.\r\n\r\nThese changes switch to loading the styles only once dragging has started.\r\n\r\nFixes #29053.","Url":"https://github.com/angular/components/pull/29056","RelatedDescription":"Closed or merged PR \"fix(cdk/drag-drop): defer loading reset styles\" (#29056)"},{"Id":"2300334985","IsPullRequest":false,"CreatedAt":"2024-05-16T18:59:44","Actor":"nfioavu","Number":"29057","RawContent":null,"Title":"bug(MatDatePicker/DateRangePicker): Date picker validation seems to be missing some cases. ","State":"closed","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nDate picker form control validation presents different behaviours depending on the wrong dates inputed from keyboard. Seems like the date picker only shows error for day values above 31, not taking into consideration the month.\n\n### Reproduction\n\nStackBlitz link: https://stackblitz.com/edit/components-issue-jh9zom?file=src%2Fapp%2Fexample-component.html,src%2Fapp%2Fexample-component.ts\r\nReproduction is based on the values inputted from keyboard.\n\n### Expected Behavior\n\nThe expected behaviour would be that the user would be prompted with error message everytime the keyboard value is not a valid date. Therefore the following example would trigger an error message: 2/29/2023, 4/31/2024, 5/32/2024, whereas these would be valid: 2/29/2024, 30/4/2024, 5/31/2024. \n\n### Actual Behavior\n\nThe actual behaviour is that day values above 31 will throw an error, while day values below 31 and not valid (30 days months/ february) will automatically switch the date to the next date. Therefore '4/32/2033' will trigger and error, while '4/31/2033' will swtich into '5/1/2033'. Same applies for leap years, '2/29/2023' turns into '3/1/2023'.\n\n### Environment\n\n- Angular:\r\n- CDK/Material:\r\n- Browser(s):\r\n- Operating System (e.g. Windows, macOS, Ubuntu):\r\n","Url":"https://github.com/angular/components/issues/29057","RelatedDescription":"Closed issue \"bug(MatDatePicker/DateRangePicker): Date picker validation seems to be missing some cases. \" (#29057)"},{"Id":"2300632035","IsPullRequest":false,"CreatedAt":"2024-05-16T18:57:52","Actor":"poveu","Number":"29058","RawContent":null,"Title":"bug(MatDialog): alignment issue with width 100% (TS) & default max-width (CSS)","State":"closed","Body":"### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n16\n\n### Description\n\nWhen using MatDialog's `open` method with `{ width: 100% }` and default `max-width` (set in the styles), the dialog is not centered (because `.cdk-global-overlay-wrapper` receives `justify-content: flex-start`).\r\n\r\n![image](https://github.com/angular/components/assets/32791888/5ac3a0a2-869e-40fa-9108-377ce9be9461)\r\n![image](https://github.com/angular/components/assets/32791888/80042525-0418-44d7-bfc3-e02d98b433c6)\r\n\r\nThis behavior seems to be caused by `global-position-strategy` file that contains `shouldBeFlushHorizontally` check that doesn't know that the dialog has `max-width` set in the CSS.\r\n\r\nIt works fine with, for example, `maxWidth: '80vw'` set in the `open` method's config (MatDialogConfig) OR if we `open` the dialog with `{ width: '99%' }`.\r\n\r\nIt worked fine in v16.\n\n### Reproduction\n\nStackBlitz link: https://stackblitz.com/edit/kmkyqc?file=src%2Fexample%2Fdialog-content-example-dialog.html\r\n\r\nSteps to reproduce:\r\n1. Open the dialog\n\n### Expected Behavior\n\nIn the case above, the dialog should be centered (`shouldBeFlushHorizontally` probably should take current/default dialog's styles to account (not only those set in `open` method's config)).\n\n### Actual Behavior\n\nDialog is aligned to start when its width is set to 100% in the `open` method's config, but it has applied a style with `max-width`.\n\n### Environment\n\n- Angular: 17+\r\n- CDK/Material: 17+\r\n","Url":"https://github.com/angular/components/issues/29058","RelatedDescription":"Closed issue \"bug(MatDialog): alignment issue with width 100% (TS) & default max-width (CSS)\" (#29058)"},{"Id":"2300794253","IsPullRequest":false,"CreatedAt":"2024-05-16T18:55:42","Actor":"fahdkhan4","Number":"29059","RawContent":null,"Title":"mat-mdc-button : Button Custom background color and text color are overriding in angular material 15","State":"closed","Body":"### Is this a regression?\r\n\r\n- [X] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n14\r\n\r\n### Description\r\n\r\nI have migrated angular from ver 14 to 15, In angular ver 14 all things are working good, after migrating to angular material 15 buttons are not picking the custom text color and background color. \r\n\r\n**button theme:**\r\n@use '../_variables' as vars;\r\n\r\n@mixin theme() {\r\n\t.blue-button {\r\n\t\tbackground-color: vars.$primary-default;\r\n\t\tcolor: white;\r\n\t}\r\n}\r\n\r\n**this class is overriding the font-color of the button :**\r\nmat-mdc-button:not(:disabled) {\r\n    color: var(--mdc-text-button-label-text-color, inherit);\r\n}\r\n\r\n**this class is overriding my background color:**\r\n.mdc-button {\r\n    background: rgba(0, 0, 0, 0);\r\n}\r\n\r\n**html file implementation of button:**\r\n<button\r\n\tmat-button\r\n\tclass=\"blue-button\">\r\n\tTest\r\n</button>\r\n\r\n<img width=\"293\" alt=\"button-issue\" src=\"https://github.com/angular/components/assets/103899098/d04ee315-735e-4b92-b829-a2e38a352198\">\r\n\r\n**Note:**\r\n         I dont want to solve this issue using the !important keyword so is there any work-around to fix this issue.\r\n### Reproduction\r\n\r\nStackBlitz link: \r\nSteps to reproduce:\r\n1. \r\n2.\r\n\r\n\r\n### Expected Behavior\r\n\r\nThe buttons are not picking the custom styling eg blue color as a background and white font color.\r\n\r\n### Actual Behavior\r\n\r\nThe buttons should pick the custom styling eg blue color as a background and white font color.\r\n\r\n### Environment\r\n\r\n- Angular: 15.2.10\r\n- CDK/Material: 15.2.9\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu):Windows\r\n","Url":"https://github.com/angular/components/issues/29059","RelatedDescription":"Closed issue \"mat-mdc-button : Button Custom background color and text color are overriding in angular material 15\" (#29059)"},{"Id":"2301072917","IsPullRequest":true,"CreatedAt":"2024-05-16T18:26:30","Actor":"atscott","Number":"29061","RawContent":null,"Title":"test(menu): remove provideZoneChangeDetection for all menu tests","State":"open","Body":"This removes 'provideZoneChangeDetection' from menu tests. Change summary:\r\n\r\n* Many tests set inputs directly. This isn't really how it happens in applications - inputs set from the template automatically mark components for check. When tests set inputs directly like this, they need to call `markForCheck` manually (or something similar).\r\n* One test seems to be calling a public API (`CdkContextMenuTrigger.open`) that failed to call `markForCheck` so that was added to the implementation\r\n* `fakeAsync` had an additional timer so I just added `flush` to make it work.","Url":"https://github.com/angular/components/pull/29061","RelatedDescription":"Open PR \"test(menu): remove provideZoneChangeDetection for all menu tests\" (#29061)"},{"Id":"2300841094","IsPullRequest":true,"CreatedAt":"2024-05-16T16:25:29","Actor":"atscott","Number":"29060","RawContent":null,"Title":"test(multiple): Update test initializer to provide zoneless (#29043)","State":"closed","Body":"* test(multiple): Update test initializer to provide zoneless by default\r\n\r\nThis commit uses the zoneless provier for all tests by default. Tests which failed have either been updated to be compatible or have been opted out. Note that tests which were opted out does not mean the components are incompatible with zoneless, but likely that the tests rely on the zone provider in some way.\r\n\r\nOpt outs require the private `ZONELESS_ENABLED` token set to `false` in the providers manually because there is a check that will throw an error when both zoneless and zone providers are used. This should likely be fixed in the framework code to make it easier for test suites to do what we're doing here: use zoneless for all tests by default and temporarily use zones for tests that need it until there is time to migrate them.\r\n\r\n* fixup! test(multiple): Update test initializer to provide zoneless by default","Url":"https://github.com/angular/components/pull/29060","RelatedDescription":"Closed or merged PR \"test(multiple): Update test initializer to provide zoneless (#29043)\" (#29060)"},{"Id":"2293967289","IsPullRequest":true,"CreatedAt":"2024-05-16T16:19:23","Actor":"atscott","Number":"29043","RawContent":null,"Title":"test(multiple): Update test initializer to provide zoneless","State":"closed","Body":"This commit uses the zoneless provier for all tests by default. Tests\r\nwhich failed have either been updated to be compatible or have been\r\nopted out. Note that tests which were opted out does not mean the\r\ncomponents are incompatible with zoneless, but likely that the tests\r\nrely on the zone provider in some way.\r\n\r\nOpt outs require the private `ZONELESS_ENABLED` token set to `false` in the providers manually\r\nbecause there is a check that will throw an error when both zoneless and\r\nzone providers are used. This should likely be fixed in the framework\r\ncode to make it easier for test suites to do what we're doing here: use\r\nzoneless for all tests by default and temporarily use zones for tests\r\nthat need it until there is time to migrate them.","Url":"https://github.com/angular/components/pull/29043","RelatedDescription":"Closed or merged PR \"test(multiple): Update test initializer to provide zoneless\" (#29043)"},{"Id":"2298912003","IsPullRequest":true,"CreatedAt":"2024-05-16T07:48:02","Actor":"BobobUnicorn","Number":"29055","RawContent":null,"Title":"fix(cdk/tree): implement typeahead label","State":"closed","Body":"Implement typeahead labels for Tree. Follow the established pattern that Menu and List use.\r\n - implement CdkTreeNode#cdkTreeNodeTypeaheadLabel\r\n - implement CdkTreeNode#getLabel\r\n\r\nCopy of #28251","Url":"https://github.com/angular/components/pull/29055","RelatedDescription":"Closed or merged PR \"fix(cdk/tree): implement typeahead label\" (#29055)"},{"Id":"2297057543","IsPullRequest":true,"CreatedAt":"2024-05-16T06:02:01","Actor":"crisbeto","Number":"29048","RawContent":null,"Title":"fix(material/chips): simplify repeat chip removal prevention","State":"closed","Body":"We have some logic that prevents chip removal if the users is holding down the backspace key. It currently breaks down in the case where a value is pasted into the input via click.\r\n\r\nThese changes simplify our detection by using `KeyboardEvent.repeat` which also resolves the paste issue.","Url":"https://github.com/angular/components/pull/29048","RelatedDescription":"Closed or merged PR \"fix(material/chips): simplify repeat chip removal prevention\" (#29048)"},{"Id":"2293858317","IsPullRequest":true,"CreatedAt":"2024-05-15T21:20:06","Actor":"atscott","Number":"29042","RawContent":null,"Title":"fix(material/slider): aria-valuetext host binding should be onPush co…","State":"closed","Body":"…mpatible\r\n\r\n`MatSlider` updates `_valuetext` without marking for check. The easiest way to fix these types of issues when values are not part of the public API is to switch them to signals.","Url":"https://github.com/angular/components/pull/29042","RelatedDescription":"Closed or merged PR \"fix(material/slider): aria-valuetext host binding should be onPush co…\" (#29042)"},{"Id":"2297682550","IsPullRequest":true,"CreatedAt":"2024-05-15T11:47:32","Actor":"crisbeto","Number":"29052","RawContent":null,"Title":"docs: release notes for the v18.0.0-rc.2 release","State":"closed","Body":"Cherry-picks the changelog from the \"18.0.x\" branch to the next branch (main).","Url":"https://github.com/angular/components/pull/29052","RelatedDescription":"Closed or merged PR \"docs: release notes for the v18.0.0-rc.2 release\" (#29052)"},{"Id":"2297679333","IsPullRequest":true,"CreatedAt":"2024-05-15T11:44:33","Actor":"crisbeto","Number":"29051","RawContent":null,"Title":"Bump version to \"v18.0.0-rc.2\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/29051","RelatedDescription":"Closed or merged PR \"Bump version to \"v18.0.0-rc.2\" with changelog.\" (#29051)"},{"Id":"2297663934","IsPullRequest":true,"CreatedAt":"2024-05-15T11:37:26","Actor":"crisbeto","Number":"29050","RawContent":null,"Title":"docs: release notes for the v17.3.9 release","State":"closed","Body":"Cherry-picks the changelog from the \"17.3.x\" branch to the next branch (main).","Url":"https://github.com/angular/components/pull/29050","RelatedDescription":"Closed or merged PR \"docs: release notes for the v17.3.9 release\" (#29050)"},{"Id":"2297661111","IsPullRequest":true,"CreatedAt":"2024-05-15T11:34:42","Actor":"crisbeto","Number":"29049","RawContent":null,"Title":"Bump version to \"v17.3.9\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/29049","RelatedDescription":"Closed or merged PR \"Bump version to \"v17.3.9\" with changelog.\" (#29049)"},{"Id":"2295636118","IsPullRequest":false,"CreatedAt":"2024-05-14T21:02:17","Actor":"Yar-s","Number":"29046","RawContent":null,"Title":"feat(MatTimePicker): Add the Time picker component","State":"closed","Body":"### Feature Description\n\nPlease, add the time picker component.\r\nIt's described in both [M2](https://m2.material.io/components/time-pickers#specs) and [M3](https://m3.material.io/components/time-pickers/overview) specs.\r\n\r\n![image](https://github.com/angular/components/assets/17651943/cf1237fb-b5f7-422b-a939-30578b14ab7d)\r\n\r\nThere two features the specs lack that would be awesome to introduce:\r\n* add seconds in the time picker (should be customisable)\r\n* add an option to use the time picker inside the date picker to enter both date and time\r\n\r\nUnfortunately, there's no way to enter time using Angular Material yet.\n\n### Use Case\n\n* Table data may contain numerous records per day. It would be great to have a filter that allows specifying the time range.\r\n* A user may need to set time for some event, schedule sth.","Url":"https://github.com/angular/components/issues/29046","RelatedDescription":"Closed issue \"feat(MatTimePicker): Add the Time picker component\" (#29046)"},{"Id":"2296189791","IsPullRequest":false,"CreatedAt":"2024-05-14T19:02:27","Actor":"Aarass","Number":"29047","RawContent":null,"Title":"Glitchy password form field","State":"open","Body":"### Documentation Feedback\n\nExample of password form field is glitching when you are clicking show/hide button while there is no text in the field. I solved it by adding $event.stopPropagation() on button click event.\n\n### Affected documentation page\n\nhttps://material.angular.io/components/form-field/overview","Url":"https://github.com/angular/components/issues/29047","RelatedDescription":"Open issue \"Glitchy password form field\" (#29047)"},{"Id":"2294881266","IsPullRequest":true,"CreatedAt":"2024-05-14T16:27:53","Actor":"crisbeto","Number":"29044","RawContent":null,"Title":"fix(cdk/overlay): skip trigger interactions in outside click event","State":"closed","Body":"Adds some logic to skip the trigger when considering clicks outside of the overlay since filtering them is the most common case (e.g. we do it in some of our components) and can be annoying to deal with.\r\n\r\nFixes #28949.","Url":"https://github.com/angular/components/pull/29044","RelatedDescription":"Closed or merged PR \"fix(cdk/overlay): skip trigger interactions in outside click event\" (#29044)"},{"Id":"2295561168","IsPullRequest":false,"CreatedAt":"2024-05-14T14:04:52","Actor":"Yar-s","Number":"29045","RawContent":null,"Title":"feat(MatTooltip): Add support for rich tooltips (popups)","State":"open","Body":"### Feature Description\r\n\r\nPlease, add support for rich tooltips (popups).\r\nThey're [described](https://m3.material.io/components/tooltips/overview) in M3 standard.\r\n\r\n![image](https://github.com/angular/components/assets/17651943/c5ca98c7-227b-49ae-be7a-48c492636b83)\r\n\r\nExisting tooltip and menu components are not enough for feature-rich web apps.\r\n\r\n### Use Case\r\n\r\n* Hover/click a table cell or any other element to display more info via a custom component or a template ref.\r\n* Use it as a menu that won't be closed after clicking a menu item","Url":"https://github.com/angular/components/issues/29045","RelatedDescription":"Open issue \"feat(MatTooltip): Add support for rich tooltips (popups)\" (#29045)"},{"Id":"2291153660","IsPullRequest":true,"CreatedAt":"2024-05-14T07:27:53","Actor":"Shivam7-1","Number":"29037","RawContent":null,"Title":"Update portal.spec.ts DOM text reinterpreted as HTML","State":"closed","Body":"By using innerText, it will avoid the risk of HTML injection, as these properties automatically escape any HTML special characters in the provided text. This helps prevent cross-site scripting (XSS) vulnerabilities by treating the input as plain text rather than interpreted HTML.","Url":"https://github.com/angular/components/pull/29037","RelatedDescription":"Closed or merged PR \"Update portal.spec.ts DOM text reinterpreted as HTML\" (#29037)"},{"Id":"2293073371","IsPullRequest":false,"CreatedAt":"2024-05-13T14:55:16","Actor":"kryoussef","Number":"29041","RawContent":null,"Title":" bug(menu)[matMenuTriggerFor]: Trigger does not update ARIA values correctly in OnPush components (Accessibility)","State":"open","Body":"### Is this a regression?\r\n\r\n- [x] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nIt seems like the issue : [26262](https://github.com/angular/components/issues/26262) has not been resolved,\r\nThe Trigger does not update aria values and misbehaves in OnPush components.\r\n\r\n### Reproduction\r\n\r\nStackBlitz link: https://stackblitz.com/edit/angular-bqrgp1-p8dplp?file=src%2Fapp%2Fmenu-overview-example.ts\r\nSteps to reproduce:\r\n1. use NVDA Speech viewer\r\n2. open the menu and select items (multiple times)\r\n ![screen reader](https://github.com/angular/components/assets/168361048/dcb419eb-be1e-4b4b-9c81-f3430d33931c)\r\n\r\n### Expected Behavior\r\n\r\nWhen selecting an item `menu-item` from the menu, the `aria-label` and `aria-expanded` should be updated  correctly, \r\nFrom the example above, NVDA should read item2 with menu being collapsed\r\n\r\n### Actual Behavior\r\n\r\nAs shown in the screenshot, when we click on the item2, NVDA is reading item1 with the menu being expanded\r\n\r\n### Environment\r\n\r\n- Angular: 17.3.7\r\n- CDK/Material: 17.3.7\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/29041","RelatedDescription":"Open issue \" bug(menu)[matMenuTriggerFor]: Trigger does not update ARIA values correctly in OnPush components (Accessibility)\" (#29041)"},{"Id":"2291638025","IsPullRequest":false,"CreatedAt":"2024-05-13T14:29:43","Actor":"desongyu","Number":"29039","RawContent":null,"Title":"bug(@angular/google-maps): (zoomChanged) Observable returns undefined","State":"closed","Body":"### Is this a regression?\r\n\r\n- [ ] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nI have this:\r\n\r\n```\r\n<google-map #map width=\"100%\" height=\"81vh\" mapId=\"DEMO_MAP_ID\" [options]=\"mapOptions\"\r\n                    (mapClick)=\"handleClickMap($event)\" (zoomChanged)=\"handleZoomMap($event)\"\r\n                    (boundsChanged)=\"handleBoundsMap($event)\">\r\n```\r\n\r\nWith ViewChild to the #map\r\n```\r\n  @ViewChild('map', { static: false }) mapElement: any;\r\n```\r\nBoth handlers return undefined in the subscribe\r\n```\r\nhandleZoomMap(event: any) {\r\n    if (this.mapElement) {\r\n      this.mapElement.zoomChanged.subscribe((data: any) => {\r\n        console.log(data)\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  handleBoundsMap(event: any) {\r\n    if (this.mapElement) {\r\n      this.mapElement.boundsChanged.subscribe((data: any) => {\r\n        console.log(data)\r\n      })\r\n    }\r\n  }\r\n```\r\nI've put the subscribes in OnInit and they don't even get called. \r\n\r\n\r\n### Reproduction\r\n\r\nStackBlitz link: \r\nSteps to reproduce:\r\n1. \r\n2.\r\n\r\n\r\n### Expected Behavior\r\n\r\nzoomChanged and boundsChanged should both return zoom data on the view port as described here: \r\nhttps://developers.google.com/maps/documentation/javascript/events\r\n\r\n### Actual Behavior\r\n\r\nzoomChanged and boundsChanged subscribers both return undefined as data.\r\n\r\n### Environment\r\n\r\n- Angular: 17.2\r\n- CDK/Material:\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Mac OS\r\n","Url":"https://github.com/angular/components/issues/29039","RelatedDescription":"Closed issue \"bug(@angular/google-maps): (zoomChanged) Observable returns undefined\" (#29039)"},{"Id":"2292611401","IsPullRequest":false,"CreatedAt":"2024-05-13T11:56:42","Actor":"emaestromartinez","Number":"29040","RawContent":null,"Title":"bug(Selector/option): Option status inside a selector not read when \"selected\"","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nWhen using the screenreader to read the selected/unselect, NVDA doesn't announce the 'Selected' state for selected list item when user navigates on list items.\r\nNVDA only announces list item and its position in the list.\r\nIt does announce when they are selected.\r\n\r\nExpected behavior:\r\nIt should also announce \"Selected\" for selected items, not just the name and position on the list.\n\n### Reproduction\n\nUse angular material Select component as an example.\r\nhttps://v7.material.angular.io/components/select/overview#multiple-selection\r\nNavigate through the list using keyboard navigation. Have some options selected and others unselected. Use NVDA to read the state of the options.\n\n### Expected Behavior\n\nIt should also announce \"Selected\" for selected items, not just the name and position on the list.\n\n### Actual Behavior\n\nWhen using the NVDA screenreader to read the selected/unselect, NVDA doesn't announce the 'Selected' state for selected list item when user navigates on list items.\r\nNVDA only announces list item and its position in the list.\r\nIt does announce when they are selected.\r\n\n\n### Environment\n\nAngular 17~, Angular Material 17~\r\n- Browser(s): Chrome last table version\r\n- Operating System: Windows 10 Enterprise. Last Stable version.\r\n","Url":"https://github.com/angular/components/issues/29040","RelatedDescription":"Open issue \"bug(Selector/option): Option status inside a selector not read when \"selected\"\" (#29040)"},{"Id":"2291201064","IsPullRequest":true,"CreatedAt":"2024-05-13T08:26:40","Actor":"crisbeto","Number":"29038","RawContent":null,"Title":"build: update to latest YouTube typings","State":"closed","Body":"We were a few versions behind on the typings for YouTube. These changes update to the latest ones.","Url":"https://github.com/angular/components/pull/29038","RelatedDescription":"Closed or merged PR \"build: update to latest YouTube typings\" (#29038)"}],"ResultType":"GitHubIssue"}},"RunOn":"2024-05-18T03:30:02.0850204Z","RunDurationInMilliseconds":1401}