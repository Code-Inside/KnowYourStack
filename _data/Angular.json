{"Data":{"Angular-Issues":{"Issues":[{"Id":"853056823","IsPullRequest":false,"CreatedAt":"2021-04-08T04:51:35","Actor":"csname1910","Number":"41502","RawContent":null,"Title":"Getting error: You may need an additional loader","State":"open","Body":"I am getting the following error.\r\n\r\nYou can reproduce it with this minimal GitHub repository:\r\n\r\nhttps://github.com/csname1910/errordemo\r\n\r\n    Error: ./node_modules/pdfjs-dist/build/pdf.js 2413:45\r\n    Module parse failed: Unexpected token (2413:45)\r\n    File was processed with these loaders:\r\n     * ./node_modules/@angular-devkit/build-angular/src/babel/webpack-loader.js\r\n     * ./node_modules/@ngtools/webpack/src/ivy/index.js\r\n    You may need an additional loader to handle the result of these loaders.\r\n    |         intent: renderingIntent,\r\n    |         renderInteractiveForms: renderInteractiveForms === true,\r\n    >         annotationStorage: annotationStorage?.getAll() || null\r\n    |       });\r\n    |     }\r\n\t","Url":"https://github.com/angular/angular/issues/41502","RelatedDescription":"Open issue \"Getting error: You may need an additional loader\" (#41502)"},{"Id":"853014314","IsPullRequest":false,"CreatedAt":"2021-04-08T03:11:29","Actor":"digoburigo","Number":"41501","RawContent":null,"Title":"Rendering differences in createEmbeddedView","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû bug report\r\n\r\n### Affected Package\r\nNone\r\n\r\n\r\n### Is this a regression?\r\n\r\nI dont' know\r\n\r\n\r\n### Description\r\n\r\nSo i'm trying to use a custom logic of portals in Angular to make my application more dynamic,\r\nbut when i refresh the page the embedded view don't render properly and this also occurs when\r\nmanipulating with conditional rendering like `ngIf`\r\n\r\nWhen wrapping the logic that attaches the embedded view in the template with a `setTimeout` it's\r\nstarts working\r\n\r\nIn stackblitz it's working properly but when doing the same thing in a real project don't work.\r\n\r\n## üî¨ Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-ivy\r\n-->\r\nIn stackblitz it's working\r\nhttps://stackblitz.com/edit/angular-ivy-vtppsg?file=src%2Fapp%2Fhome%2Fhome.component.ts\r\nProject that the bug occurs\r\n[teleport.zip](https://github.com/angular/angular/files/6275719/teleport.zip)\r\n\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem.\r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#submit-issue\r\n-->\r\n\r\n## üî• Exception or Error\r\nDoes not occur any error, it's simply dont render on refresh, change screen sizes and conditional rendering\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\n...\r\n\"@angular/core\": \"11.2.9\",\r\n...\r\n\"@angular/cli\": \"11.2.7\",\r\n...\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\nThis is all based in this repository: https://github.com/nirkaufman/teleport\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular/issues/41501","RelatedDescription":"Open issue \"Rendering differences in createEmbeddedView\" (#41501)"},{"Id":"852932227","IsPullRequest":true,"CreatedAt":"2021-04-08T00:04:00","Actor":"kyliau","Number":"41500","RawContent":null,"Title":"test(language-service): Add test to expose bug caused by source file change","State":"open","Body":"This commit adds a test to expose the bug caused by source file change in\r\nbetween typecheck programs.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/41500","RelatedDescription":"Open PR \"test(language-service): Add test to expose bug caused by source file change\" (#41500)"},{"Id":"852923173","IsPullRequest":true,"CreatedAt":"2021-04-07T23:39:50","Actor":"TeriGlover","Number":"41499","RawContent":null,"Title":"Schematics","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [X] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [X]  Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [X] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/41499","RelatedDescription":"Open PR \"Schematics\" (#41499)"},{"Id":"852849717","IsPullRequest":false,"CreatedAt":"2021-04-07T21:51:22","Actor":"BFunk86","Number":"41498","RawContent":null,"Title":"Run CanDeactivate guards before cross-origin navigation","State":"open","Body":"# üêû bug report\r\n\r\n\r\n### Description\r\n\r\nCanDeactivate does not get triggered on first page load when pressing the browser back button. If you navigate to a website like google.com. THen navigate to https://angular-ivy-fz356o.stackblitz.io and press the browser back button the canDeactivate guard is not triggered. It only works after going to another route.\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\nhttps://stackblitz.com/edit/angular-ivy-fz356o?file=src/app/second-page/second-page.component.html\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1100.5\r\n@angular-devkit/build-angular   0.1102.5\r\n@angular-devkit/core            11.0.5\r\n@angular-devkit/schematics      11.0.5\r\n@angular/cdk                    11.0.3\r\n@angular/flex-layout            11.0.0-beta.33\r\n@angular/material               11.0.3\r\n@schematics/angular             11.0.5\r\n@schematics/update              0.1100.5\r\nrxjs                            6.5.4\r\ntypescript                      4.0.5\r\nwebpack                         4.42.0\r\n\r\n\r\n</code></pre>\r\n","Url":"https://github.com/angular/angular/issues/41498","RelatedDescription":"Open issue \"Run CanDeactivate guards before cross-origin navigation\" (#41498)"},{"Id":"852775204","IsPullRequest":false,"CreatedAt":"2021-04-07T20:14:35","Actor":"petebacondarwin","Number":"41497","RawContent":null,"Title":"linker: Change `version` to hold minimum version rather than current version","State":"open","Body":"Change declaration `version` to hold the minimum version of partial linkers that can be used to link the declaration.\r\n\r\n- Each partial-linker will check to see if its own version range fits within the range given by the minimum range in the declaration.\r\n- If none can be used the file-linker will error, unless it has been configured to ignore this check, in which case it uses the latest partial-linker.","Url":"https://github.com/angular/angular/issues/41497","RelatedDescription":"Open issue \"linker: Change `version` to hold minimum version rather than current version\" (#41497)"},{"Id":"852774173","IsPullRequest":false,"CreatedAt":"2021-04-07T20:13:12","Actor":"petebacondarwin","Number":"41496","RawContent":null,"Title":"linker: Make `compilationMode` option stable","State":"open","Body":"Move `TargetOptions` into `public_options.ts` and remove `@internal` marker.","Url":"https://github.com/angular/angular/issues/41496","RelatedDescription":"Open issue \"linker: Make `compilationMode` option stable\" (#41496)"},{"Id":"852773796","IsPullRequest":false,"CreatedAt":"2021-04-07T20:12:41","Actor":"petebacondarwin","Number":"41495","RawContent":null,"Title":"linker: Document API surface to be published","State":"open","Body":"","Url":"https://github.com/angular/angular/issues/41495","RelatedDescription":"Open issue \"linker: Document API surface to be published\" (#41495)"},{"Id":"852758750","IsPullRequest":true,"CreatedAt":"2021-04-07T19:55:37","Actor":"Julien-Marcou","Number":"41494","RawContent":null,"Title":"build: update TypeScript to v4.2.4","State":"open","Body":"This TypeScript version contains a fix for unexpected deprecation warnings related to RxJS.\r\n\r\nYou can learn more about it here : https://github.com/microsoft/TypeScript/issues/43053\r\n\r\n## PR Checklist\r\n\r\n- [x] The commit message follows our guidelines: [CONTRIBUTING.md](https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit)\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [x] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n","Url":"https://github.com/angular/angular/pull/41494","RelatedDescription":"Open PR \"build: update TypeScript to v4.2.4\" (#41494)"},{"Id":"851867889","IsPullRequest":true,"CreatedAt":"2021-04-07T19:05:10","Actor":"josephperrott","Number":"41477","RawContent":null,"Title":"build: rely on engines to prevent using npm for dependency install","State":"closed","Body":"Rather than relying on a preinstall script, set `engine-strict` to `true` in a\r\nproject `.npmrc` file, relying on the `engines` having `npm` set to note that\r\nyarn should be used instead.\r\n\r\n---\r\n\r\nOutput from `npm install` changes from:\r\n```\r\n$ npm install\r\n\r\n> angular-srcs@12.0.0-next.7 preinstall /usr/local/account/js/angular\r\n> node tools/yarn/check-yarn.js\r\n\r\n/usr/local/account/js/angular/tools/yarn/check-yarn.js:12\r\n  throw new Error(\r\n  ^\r\n\r\nError: Please use Yarn instead of NPM to install dependencies. See: https://yarnpkg.com/lang/en/docs/install/\r\n    at Object.<anonymous> (/usr/local/account/js/angular/tools/yarn/check-yarn.js:12:9)\r\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\r\n    at Module.load (internal/modules/cjs/loader.js:653:32)\r\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\r\n    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)\r\n    at startup (internal/bootstrap/node.js:283:19)\r\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)\r\nnpm ERR! code ELIFECYCLE\r\nnpm ERR! errno 1\r\nnpm ERR! angular-srcs@12.0.0-next.7 preinstall: `node tools/yarn/check-yarn.js`\r\nnpm ERR! Exit status 1\r\nnpm ERR! \r\nnpm ERR! Failed at the angular-srcs@12.0.0-next.7 preinstall script.\r\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /usr/local/account/.npm/_logs/2021-04-06T22_54_02_292Z-debug.log\r\n```\r\nto\r\n```\r\n$ npm install\r\nnpm ERR! code ENOTSUP\r\nnpm ERR! notsup Unsupported engine for angular-srcs@12.0.0-next.7: wanted: {\"node\":\">=10.19.0 <13.0.0\",\"yarn\":\">=1.22.4 <2\",\"npm\":\"Plesae use yarn instead of NPM to install dependencies\"} (current: {\"node\":\"10.20.1\",\"npm\":\"6.14.4\"})\r\nnpm ERR! notsup Not compatible with your version of node/npm: angular-srcs@12.0.0-next.7\r\nnpm ERR! notsup Not compatible with your version of node/npm: angular-srcs@12.0.0-next.7\r\nnpm ERR! notsup Required: {\"node\":\">=10.19.0 <13.0.0\",\"yarn\":\">=1.22.4 <2\",\"npm\":\"Plesae use yarn instead of NPM to install dependencies\"}\r\nnpm ERR! notsup Actual:   {\"npm\":\"6.14.4\",\"node\":\"10.20.1\"}\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /usr/local/account/.npm/_logs/2021-04-06T22_53_23_912Z-debug.log\r\n```\r\n\r\n","Url":"https://github.com/angular/angular/pull/41477","RelatedDescription":"Closed or merged PR \"build: rely on engines to prevent using npm for dependency install\" (#41477)"},{"Id":"851719195","IsPullRequest":true,"CreatedAt":"2021-04-07T18:51:47","Actor":"biya-bi","Number":"41473","RawContent":null,"Title":"docs: use the right tag in the HeroesComponent's template snippet","State":"closed","Body":"Based on the tutorial content of the Hero Editor, the tag to be used in\r\nHeroesComponent's template snippet should be h2 and not h3.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/41473","RelatedDescription":"Closed or merged PR \"docs: use the right tag in the HeroesComponent's template snippet\" (#41473)"},{"Id":"852701296","IsPullRequest":true,"CreatedAt":"2021-04-07T18:40:31","Actor":"atscott","Number":"41493","RawContent":null,"Title":"Bump version to \"v12.0.0-next.8\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular/pull/41493","RelatedDescription":"Closed or merged PR \"Bump version to \"v12.0.0-next.8\" with changelog.\" (#41493)"},{"Id":"852684640","IsPullRequest":true,"CreatedAt":"2021-04-07T18:27:06","Actor":"atscott","Number":"41492","RawContent":null,"Title":"Bump version to \"v11.2.9\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular/pull/41492","RelatedDescription":"Closed or merged PR \"Bump version to \"v11.2.9\" with changelog.\" (#41492)"},{"Id":"852673558","IsPullRequest":false,"CreatedAt":"2021-04-07T18:12:24","Actor":"AndrewKushnir","Number":"41491","RawContent":null,"Title":"refactor: consider reusing temporary vars in generated code","State":"open","Body":"PR #41437 introduced support for `??` operator in Angular expressions. In order to support that in emitted JS code, there are few temporary vars generated ([see this discussion](https://github.com/angular/angular/pull/41437#discussion_r608027171)). This ticket is to capture that discussion and investigate if it's feasible to reuse temporary vars instead of generating new ones for each expression.","Url":"https://github.com/angular/angular/issues/41491","RelatedDescription":"Open issue \"refactor: consider reusing temporary vars in generated code\" (#41491)"},{"Id":"852293851","IsPullRequest":true,"CreatedAt":"2021-04-07T17:36:59","Actor":"gkalpak","Number":"41484","RawContent":null,"Title":"docs: fix link URL in NG0100 error page","State":"closed","Body":"Fixes #41474.\r\n","Url":"https://github.com/angular/angular/pull/41484","RelatedDescription":"Closed or merged PR \"docs: fix link URL in NG0100 error page\" (#41484)"},{"Id":"851818322","IsPullRequest":false,"CreatedAt":"2021-04-07T17:36:59","Actor":"rkz","Number":"41474","RawContent":null,"Title":"Broken link on NG0100 error page","State":"closed","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n# üìö Docs or angular.io bug report\r\n\r\n### Description\r\n\r\nOn the last paragraph of https://angular.io/errors/NG0100, the `'Everything you need to know about the \"ExpressionChangedAfterItHasBeenCheckedError\" error'` link is broken.\r\n\r\nLink points to https://indepth.dev/everything-you-need-to-know-about-the-expressionchangedafterithasbeencheckederror-error (404)\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\n### What's the affected URL?**\r\n\r\nhttps://angular.io/errors/NG0100\r\n","Url":"https://github.com/angular/angular/issues/41474","RelatedDescription":"Closed issue \"Broken link on NG0100 error page\" (#41474)"},{"Id":"852595531","IsPullRequest":true,"CreatedAt":"2021-04-07T17:35:36","Actor":"atscott","Number":"41489","RawContent":null,"Title":"fix(compiler-cli): Allow analysis to continue with invalid style url ‚Ä¶","State":"closed","Body":"patch target for 8f12f4749262d113accd1a4a82cbbf603e325ce2","Url":"https://github.com/angular/angular/pull/41489","RelatedDescription":"Closed or merged PR \"fix(compiler-cli): Allow analysis to continue with invalid style url ‚Ä¶\" (#41489)"},{"Id":"852614538","IsPullRequest":false,"CreatedAt":"2021-04-07T17:09:24","Actor":"belyan","Number":"41490","RawContent":null,"Title":"Using of BrowserAnimationModule add delay for structural directive ngIf","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ‚úçÔ∏èedit: --> The issue is caused by package @angular/platform-browser/animations\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> Yes, the previous version in which this bug was not present was: 8.2.14\r\n\r\n\r\n### Description\r\n\r\n<!-- ‚úçÔ∏è--> If you import BrowserAnimationModule into a project, a delay occurs when adding or removing DOM nodes using the ngIf structure directive.\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-ivy\r\n-->\r\n[https://stackblitz.com/edit/angular-bam-defect](https://stackblitz.com/edit/angular-bam-defect)\r\n\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem.\r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#submit-issue\r\n-->\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\nOnInit height: 349\r\nReal height: 420\r\n</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\n11.0.8\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n\r\nSimilar issue that has been closed:\r\nhttps://github.com/angular/angular/issues/36054","Url":"https://github.com/angular/angular/issues/41490","RelatedDescription":"Open issue \"Using of BrowserAnimationModule add delay for structural directive ngIf\" (#41490)"},{"Id":"852419474","IsPullRequest":true,"CreatedAt":"2021-04-07T16:40:37","Actor":"josephperrott","Number":"41486","RawContent":null,"Title":"fix(dev-infra): make scopes for `test` and `refactor` commit types optional","State":"closed","Body":"As the `test` and `refactor` commit types are not used in release notes and there\r\nare solid use cases for having multiple scopes/scopeless uses of these types, they\r\nare made to be optional instead of required on commits.\r\n","Url":"https://github.com/angular/angular/pull/41486","RelatedDescription":"Closed or merged PR \"fix(dev-infra): make scopes for `test` and `refactor` commit types optional\" (#41486)"},{"Id":"852118123","IsPullRequest":true,"CreatedAt":"2021-04-07T16:39:54","Actor":"alan-agius4","Number":"41480","RawContent":null,"Title":"fix(bazel): add missing dependency on `tslib`","State":"closed","Body":"`@angular/bazel` depends on `tslib` https://unpkg.com/browse/@angular/bazel@11.2.8/src/api-extractor/index.js#L20\r\n\r\nRelated failure https://github.com/angular/universal/pull/2040\r\n","Url":"https://github.com/angular/angular/pull/41480","RelatedDescription":"Closed or merged PR \"fix(bazel): add missing dependency on `tslib`\" (#41480)"},{"Id":"852442819","IsPullRequest":true,"CreatedAt":"2021-04-07T16:35:22","Actor":"josephperrott","Number":"41487","RawContent":null,"Title":"release: bump `angular-in-web-memory-api` package to 0.12.0","State":"closed","Body":"","Url":"https://github.com/angular/angular/pull/41487","RelatedDescription":"Closed or merged PR \"release: bump `angular-in-web-memory-api` package to 0.12.0\" (#41487)"},{"Id":"852468996","IsPullRequest":false,"CreatedAt":"2021-04-07T14:40:38","Actor":"bobbyoz","Number":"41488","RawContent":null,"Title":"Requesting authorization ","State":"closed","Body":"üõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõë\n\nPlease file any Angular Components issues at: https://github.com/angular/components/issues/new\n\nFor the time being, we keep Angular Components issues in a separate repository.\n\nüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõë\n","Url":"https://github.com/angular/angular/issues/41488","RelatedDescription":"Closed issue \"Requesting authorization \" (#41488)"},{"Id":"852380503","IsPullRequest":true,"CreatedAt":"2021-04-07T12:55:10","Actor":"kapunahelewong","Number":"41485","RawContent":null,"Title":"docs: add documentation for Angular linker","State":"open","Body":"WIP. Getting docs started for linker. ","Url":"https://github.com/angular/angular/pull/41485","RelatedDescription":"Open PR \"docs: add documentation for Angular linker\" (#41485)"},{"Id":"852291338","IsPullRequest":false,"CreatedAt":"2021-04-07T11:04:53","Actor":"mduft","Number":"41483","RawContent":null,"Title":"Router animation not working when also animating an outer container","State":"open","Body":"# üêû bug report\r\n\r\n### Affected Package\r\nThis seems to be a problem in `@angular/animations`.\r\n\r\n### Is this a regression?\r\nNo, it also does not work in previous versions AFAICT (tested 7, 10 and 11).\r\n\r\n### Description\r\n\r\nI have an issue with my angular router animation(s). I have various animations on the page. A quick outline:\r\n\r\n 1. There is a main content router-outlet. It uses a simple fade-in/fade-out animation - works great\r\n 2. There is a secondary \"panel\" router-outlet, which shows additional data. It uses the very same router animation, which also works great.\r\n 3. The \"panel\" on the side *also* supports a \"maximized\" mode. This makes the panel wider. In this case the width of the panel is animated (which is an indirect parent div of the actual router-outlet). If this happens, the router animation of the panel does not play properly. While animating the width of the panel, one can see the content of *both* components, the leaving and the entering one on screen for a brief duration.\r\n\r\nI already tried to add `group` with `animateChild()` blocks to my animations to no avail...\r\n\r\n## üî¨ Minimal Reproduction\r\nhttps://stackblitz.com/edit/angular-ivy-gci3kd?file=src/app/app.component.ts\r\n\r\nSwitch between 'One' and 'Two' - this will trigger two animations through different mechanisms - the container width resizing (the one with the red border) and the router animation. The router animation is not played correctly, it will have both components visible without any animation styles applied to them.\r\n\r\nSwitch between 'Two' and 'Three' - this will trigger only the router animation as the animation state of the container stays the same - in this case the animation is rendered correctly.\r\n\r\n## üî• Exception or Error\r\nNo visible error, just does not work.\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n7 - 11, stackblitz uses the current stackblitz template using 11.0.8\r\n\r\n**Anything else relevant?**\r\nIt happens with both chrome and firefox\r\n","Url":"https://github.com/angular/angular/issues/41483","RelatedDescription":"Open issue \"Router animation not working when also animating an outer container\" (#41483)"},{"Id":"852264871","IsPullRequest":false,"CreatedAt":"2021-04-07T10:30:47","Actor":"SebastianPodgajny","Number":"41482","RawContent":null,"Title":"Non-null assertion operator changes template behaviour","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ‚úçÔ∏èedit: --> The issue is caused by package @angular/compiler I guess\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> Yes, the previous version in which this bug was not present was: ....\r\n\r\n\r\n### Description\r\n\r\n<!-- ‚úçÔ∏è--> A clear and concise description of the problem...\r\n```\r\n{{ abc?.def.ghi }} is translated into (tmp = abc) == null ? null : tmp.def.ghi\r\n{{ abc?.def!.ghi }} is translated into (abc == null ? null : abc.def).ghi\r\n```\r\nThis is different from TS behaviour because in TS non-null assertion operator doesn't change generated code.\r\nIs this behaviour expected in Angular?\r\nhttps://www.typescriptlang.org/play?target=1&jsx=0&module=1&ts=4.1.5#code/MYewdgzgLgBFCm0BcMCGYCeMC8MwFcAbQgbgCgFoB+AOlQCNgaATeAMwEYLEpaHgAhC3YAmIA\r\n![image](https://user-images.githubusercontent.com/21180501/113852897-55cba080-979d-11eb-8e0b-70090ea832e9.png)\r\n![image](https://user-images.githubusercontent.com/21180501/113852492-e3f35700-979c-11eb-9e27-71ad1b10d2a2.png)\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-ivy\r\n-->\r\n<!-- ‚úçÔ∏è--> \r\nhttps://stackblitz.com/edit/angular-ivy-bdk613?file=src%2Fapp%2Fapp.component.html\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem.\r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#submit-issue\r\n-->\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ‚úçÔ∏è-->\r\n\r\n</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 11.2.6\r\nNode: 14.16.0\r\nOS: darwin x64\r\n\r\nAngular: 11.2.7\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.1102.6\r\n@angular-devkit/build-angular     0.1102.6\r\n@angular-devkit/build-optimizer   0.1102.6\r\n@angular-devkit/build-webpack     0.1102.6\r\n@angular-devkit/core              11.2.6\r\n@angular-devkit/schematics        11.2.6\r\n@angular/cdk                      11.2.6\r\n@angular/cli                      11.2.6\r\n@ngtools/webpack                  11.2.4\r\n@schematics/angular               11.2.6\r\n@schematics/update                0.1102.6\r\nng-packagr                        11.2.4\r\nrxjs                              6.6.3\r\ntypescript                        4.1.5\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular/issues/41482","RelatedDescription":"Open issue \"Non-null assertion operator changes template behaviour\" (#41482)"},{"Id":"852231260","IsPullRequest":false,"CreatedAt":"2021-04-07T09:50:22","Actor":"JohnKis","Number":"41481","RawContent":null,"Title":"bug(router) 'Cannot activate an already activated outlet' error when using aux routes in lazy loaded module","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ‚úçÔ∏èedit: --> The issue is caused by package @angular/router\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> No\r\n\r\n\r\n### Description\r\nRouter throws `Cannot activate an already activated outlet` error when using aux routes in a lazy loaded module.\r\n\r\n## üî¨ Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-ivy\r\n-->\r\n<!-- ‚úçÔ∏è-->\r\nhttps://stackblitz.com/edit/angular-ivy-im6uaf?file=src%2Fapp%2Fmain%2Fmain-routing.module.ts\r\n\r\n- Click on Main 1 link\r\n- Click on the Aux 1 link\r\n- Click on the Aux 2 link\r\n- Observe the error\r\n\r\nInterestingly, if using `routerLink` instead of `router.navigate()` then the error is different. Might be related.\r\n\r\nThe same setup works perfectly when used in AppModule: https://stackblitz.com/edit/angular-ivy-n5qxgu?file=src%2Fapp%2Fapp-routing.module.ts\r\n\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem.\r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#submit-issue\r\n-->\r\n\r\n## üî• Exception or Error\r\n<pre><code>ERROR\r\nError: Uncaught (in promise): Error: Cannot activate an already activated outlet\r\nError: Cannot activate an already activated outlet\r\nat RouterOutlet.activateWith (https://angular-ivy-im6uaf.stackblitz.io/turbo_modules/@angular/router@11.0.8/__ivy_ngcc__/bundles/router.umd.js:5884:23)\r\nat ActivateRoutes.activateRoutes (https://angular-ivy-im6uaf.stackblitz.io/turbo_modules/@angular/router@11.0.8/__ivy_ngcc__/bundles/router.umd.js:2585:44)\r\nat eval (https://angular-ivy-im6uaf.stackblitz.io/turbo_modules/@angular/router@11.0.8/__ivy_ngcc__/bundles/router.umd.js:2536:23)\r\nat Array.forEach (<anonymous>)\r\nat ActivateRoutes.activateChildRoutes (https://angular-ivy-im6uaf.stackblitz.io/turbo_modules/@angular/router@11.0.8/__ivy_ngcc__/bundles/router.umd.js:2535:33)\r\nat ActivateRoutes.activateRoutes (https://angular-ivy-im6uaf.stackblitz.io/turbo_modules/@angular/router@11.0.8/__ivy_ngcc__/bundles/router.umd.js:2552:26)\r\nat eval (https://angular-ivy-im6uaf.stackblitz.io/turbo_modules/@angular/router@11.0.8/__ivy_ngcc__/bundles/router.umd.js:2536:23)\r\nat Array.forEach (<anonymous>)\r\nat ActivateRoutes.activateChildRoutes (https://angular-ivy-im6uaf.stackblitz.io/turbo_modules/@angular/router@11.0.8/__ivy_ngcc__/bundles/router.umd.js:2535:33)\r\nat ActivateRoutes.activateRoutes (https://angular-ivy-im6uaf.stackblitz.io/turbo_modules/@angular/router@11.0.8/__ivy_ngcc__/bundles/router.umd.js:2556:26)\r\n</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / ‚ñ≥ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 11.2.7\r\nNode: 14.15.4\r\nOS: darwin x64\r\n\r\nAngular: 11.2.8\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1102.7\r\n@angular-devkit/build-angular   0.1102.7\r\n@angular-devkit/core            11.2.7\r\n@angular-devkit/schematics      11.2.7\r\n@angular/cdk                    11.2.7\r\n@angular/cli                    11.2.7\r\n@angular/material               11.2.7\r\n@schematics/angular             11.2.7\r\n@schematics/update              0.1102.7\r\nrxjs                            6.6.7\r\ntypescript                      4.0.2\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular/issues/41481","RelatedDescription":"Open issue \"bug(router) 'Cannot activate an already activated outlet' error when using aux routes in lazy loaded module\" (#41481)"},{"Id":"851885169","IsPullRequest":false,"CreatedAt":"2021-04-06T23:43:20","Actor":"2troger","Number":"41478","RawContent":null,"Title":"@angular/localize localized interpolation only updates once","State":"open","Body":"# üêû bug report\r\n\r\n### Affected Package\r\n\r\nThe issue is caused by package @angular/localize\r\n\r\n### Is this a regression?\r\n\r\nYes, this works in a out of the box new angular project.\r\n\r\n### Description\r\n\r\nChanging the value of an interpolated field does not update the displayed text when running with a locale that is not the source.\r\nI have `en` (source) and `es` localizations with nothing different between them and the `es` messages file has `<target>` tags that match the `<source>`. \r\nWhen I run with `en`, I can click a button and change the displayed value.\r\nWhen I run with `es`, I can click a button but nothing changes on the display.\r\n\r\nHere is an example:\r\nThis is in a template\r\n`<div class=\"label\" (click)=\"click()\" i18n>{{ test }}</div>`\r\n\r\nThis is the component\r\n<pre><code>\r\n@Component({\r\n  selector: 'application-info-header',\r\n  templateUrl: './application-info-header.component.html',\r\n  styleUrls: ['./application-info-header.component.scss'],\r\n})\r\nexport class ApplicationInfoHeaderComponent implements OnInit {\r\n  @Input()\r\n  currentApplication: Application;\r\n\r\n  test = false;\r\n\r\n  click() {\r\n    this.test = !this.test;\r\n  }\r\n}\r\n</code></pre>\r\n\r\nWhen I click the label with the source locale, I see the text change from False -> True -> False - etc.\r\nWhen I click the label with the `es` locale, I never see the text change.\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\nI could not reproduce this in a regular Angular project and I cannot create a new NX workspace because the command errors every time.\r\n\r\n## üåç  Your Environment\r\n\r\nI work in an NX Angular workspace with components spread across a couple libraries.\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 11.0.7\r\nNode: 13.14.0\r\nOS: darwin x64\r\n\r\nAngular: 11.2.8\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, localize, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: <error>\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1100.7\r\n@angular-devkit/build-angular   0.1100.7\r\n@angular-devkit/core            11.0.7\r\n@angular-devkit/schematics      11.0.7\r\n@angular/cdk                    11.2.7\r\n@angular/cli                    11.0.7\r\n@angular/material               11.2.7\r\n@schematics/angular             11.0.7\r\n@schematics/update              0.1100.7\r\nrxjs                            6.6.7\r\ntypescript                      4.0.7\r\n</code></pre>\r\n","Url":"https://github.com/angular/angular/issues/41478","RelatedDescription":"Open issue \"@angular/localize localized interpolation only updates once\" (#41478)"},{"Id":"851853512","IsPullRequest":true,"CreatedAt":"2021-04-06T22:25:07","Actor":"josephperrott","Number":"41476","RawContent":null,"Title":"Common release notes generation in publish tooling ","State":"open","Body":"See individual commits.","Url":"https://github.com/angular/angular/pull/41476","RelatedDescription":"Open PR \"Common release notes generation in publish tooling \" (#41476)"},{"Id":"851843248","IsPullRequest":true,"CreatedAt":"2021-04-06T22:03:53","Actor":"alxhub","Number":"41475","RawContent":null,"Title":"Modify incremental compilation to leverage LS source file versions","State":"open","Body":"","Url":"https://github.com/angular/angular/pull/41475","RelatedDescription":"Open PR \"Modify incremental compilation to leverage LS source file versions\" (#41475)"},{"Id":"851685105","IsPullRequest":true,"CreatedAt":"2021-04-06T19:46:44","Actor":"josephperrott","Number":"41472","RawContent":null,"Title":"build: update package.json engines range for nodes in preparation for upgrade","State":"closed","Body":"In preparation for upgrading to `node@14`, and dropping `node@10`, updating the engines\r\nfor local `package.json`s.\r\n","Url":"https://github.com/angular/angular/pull/41472","RelatedDescription":"Closed or merged PR \"build: update package.json engines range for nodes in preparation for upgrade\" (#41472)"}],"ResultType":"GitHubIssue"},"AngularCli-Issues":{"Issues":[{"Id":"852954360","IsPullRequest":true,"CreatedAt":"2021-04-08T00:53:32","Actor":"clydin","Number":"20466","RawContent":null,"Title":"Upgrade tooling to use Webpack 5","State":"open","Body":"With this change Webpack 5 is now used by the Angular tooling to build applications. Webpack 4 usage and support has been removed.\r\nNo project level configuration changes are required to take advantage of the upgraded Webpack version when using the official Angular builders.\r\nCustom builders based on this package that use the experimental programmatic APIs may need to be updated to become compatible with Webpack 5.\r\n\r\nBREAKING CHANGE: Webpack 5 lazy loaded file name changes\r\nWebpack 5 generates similar but differently named files for lazy loaded JavaScript files in development configurations (when the `namedChunks` option is enabled).\r\nFor the majority of users this change should have no effect on the application and/or build process. Production builds should also not be affected as the `namedChunks` option is disabled by default in production configurations.\r\nHowever, if a project's post-build process makes assumptions as to the file names then adjustments may need to be made to account for the new naming paradigm.\r\nSuch post-build processes could include custom file transformations after the build, integration into service-side frameworks, or deployment procedures.\r\nExample development file name change: `lazy-lazy-module.js` --> `src_app_lazy_lazy_module_ts.js`\r\n\r\nBREAKING CHANGE: Webpack 5 web worker support\r\nWebpack 5 now includes web worker support. However, the structure of the URL within the `Worker` constructor must be in a specific format that differs from the current requirement.\r\nWeb worker usage should be updated as shown below (where `./app.worker` should be replaced with the actual worker name):\r\nBefore: `new Worker('./app.worker', ...)`\r\nAfter:  `new Worker(new URL('./app.worker', import.meta.url), ...)`","Url":"https://github.com/angular/angular-cli/pull/20466","RelatedDescription":"Open PR \"Upgrade tooling to use Webpack 5\" (#20466)"},{"Id":"852563083","IsPullRequest":true,"CreatedAt":"2021-04-07T23:16:08","Actor":"clydin","Number":"20463","RawContent":null,"Title":"test(@angular-devkit/build-angular): increase bazel shards for dev-server tests","State":"closed","Body":"With recent improvements to the dev-server builder unit tests, additional parallel testing should now be possible.\r\nThe unused `express` dependencies are also removed.","Url":"https://github.com/angular/angular-cli/pull/20463","RelatedDescription":"Closed or merged PR \"test(@angular-devkit/build-angular): increase bazel shards for dev-server tests\" (#20463)"},{"Id":"852782332","IsPullRequest":true,"CreatedAt":"2021-04-07T23:15:40","Actor":"kyliau","Number":"20465","RawContent":null,"Title":"build(@angular/pwa): promote to stable","State":"closed","Body":"As discussed in the weekly sync meeting, promote `@angular/pwa` to stable\r\nsince it is just a schematic library and does not have public facing APIs.","Url":"https://github.com/angular/angular-cli/pull/20465","RelatedDescription":"Closed or merged PR \"build(@angular/pwa): promote to stable\" (#20465)"},{"Id":"852751308","IsPullRequest":true,"CreatedAt":"2021-04-07T19:55:32","Actor":"heythemzouari","Number":"20464","RawContent":null,"Title":"kl","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/20464","RelatedDescription":"Closed or merged PR \"kl\" (#20464)"},{"Id":"852506788","IsPullRequest":true,"CreatedAt":"2021-04-07T15:05:36","Actor":"clydin","Number":"20462","RawContent":null,"Title":"ci: consolidate Windows test jobs","State":"open","Body":"The Windows CI test jobs are now contained within one `e2e-cli-win` job. This removes the need to start up multiple jobs to initialize Windows as well as store and retrieve the saved workspace.\r\nThe parallelism is increased to 8 and the Windows test job is started earlier in the workflow to decrease the total time for the workflow.\r\nThis change also removes the partial double Windows testing currently present on release branches due to the previous `test-win` and `e2e-cli-win` jobs.\r\n\r\nNOTE: This requires the removal of `test-win` from the required Github checks and the addition of `e2e-cli-win`.","Url":"https://github.com/angular/angular-cli/pull/20462","RelatedDescription":"Open PR \"ci: consolidate Windows test jobs\" (#20462)"},{"Id":"852380744","IsPullRequest":true,"CreatedAt":"2021-04-07T15:00:27","Actor":"clydin","Number":"20461","RawContent":null,"Title":"Windows CI fixes","State":"closed","Body":"Webpack 4 profiling mode fails on Windows with Node.js 14.","Url":"https://github.com/angular/angular-cli/pull/20461","RelatedDescription":"Closed or merged PR \"Windows CI fixes\" (#20461)"},{"Id":"851098512","IsPullRequest":true,"CreatedAt":"2021-04-07T09:03:28","Actor":"renovate[bot]","Number":"20450","RawContent":null,"Title":"build: update angular packages","State":"closed","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@angular/animations](https://togithub.com/angular/animations-builds) | dependencies | digest | [`1bc699d` -> `953c584`](https://renovatebot.com/diffs/npm/@angular%2fanimations//) |\n| [@angular/cdk](https://togithub.com/angular/cdk-builds) | dependencies | digest | [`4fa3f0a` -> `2b352bd`](https://renovatebot.com/diffs/npm/@angular%2fcdk//) |\n| [@angular/common](https://togithub.com/angular/common-builds) | dependencies | digest | [`db4b95f` -> `538ee9e`](https://renovatebot.com/diffs/npm/@angular%2fcommon//) |\n| [@angular/compiler](https://togithub.com/angular/compiler-builds) | dependencies | digest | [`a6b2618` -> `056c58c`](https://renovatebot.com/diffs/npm/@angular%2fcompiler//) |\n| [@angular/compiler-cli](https://togithub.com/angular/compiler-cli-builds) | dependencies | digest | [`d7a8898` -> `f3a4b46`](https://renovatebot.com/diffs/npm/@angular%2fcompiler-cli//) |\n| [@angular/core](https://togithub.com/angular/core-builds) | dependencies | digest | [`ca3baec` -> `d4bc10c`](https://renovatebot.com/diffs/npm/@angular%2fcore//) |\n| [@angular/dev-infra-private](https://togithub.com/angular/dev-infra-private-builds) | devDependencies | digest | [`b8bc310` -> `f1c05c2`](https://renovatebot.com/diffs/npm/@angular%2fdev-infra-private//) |\n| [@angular/forms](https://togithub.com/angular/forms-builds) | dependencies | digest | [`9053ed2` -> `fefa176`](https://renovatebot.com/diffs/npm/@angular%2fforms//) |\n| [@angular/language-service](https://togithub.com/angular/language-service-builds) | dependencies | digest | [`f5ec7ee` -> `ee55741`](https://renovatebot.com/diffs/npm/@angular%2flanguage-service//) |\n| [@angular/localize](https://togithub.com/angular/localize-builds) | dependencies | digest | [`a77b718` -> `9ac3b61`](https://renovatebot.com/diffs/npm/@angular%2flocalize//) |\n| [@angular/material](https://togithub.com/angular/material2-builds) | dependencies | digest | [`0199991` -> `a2f1b15`](https://renovatebot.com/diffs/npm/@angular%2fmaterial//) |\n| [@angular/material-moment-adapter](https://togithub.com/angular/material-moment-adapter-builds) | dependencies | digest | [`a6309b8` -> `e396579`](https://renovatebot.com/diffs/npm/@angular%2fmaterial-moment-adapter//) |\n| [@angular/platform-browser](https://togithub.com/angular/platform-browser-builds) | dependencies | digest | [`b9d78d6` -> `0d09bef`](https://renovatebot.com/diffs/npm/@angular%2fplatform-browser//) |\n| [@angular/platform-browser-dynamic](https://togithub.com/angular/platform-browser-dynamic-builds) | dependencies | digest | [`67c22f0` -> `39cb549`](https://renovatebot.com/diffs/npm/@angular%2fplatform-browser-dynamic//) |\n| [@angular/platform-server](https://togithub.com/angular/platform-server-builds) | dependencies | digest | [`859edd8` -> `a6a07ee`](https://renovatebot.com/diffs/npm/@angular%2fplatform-server//) |\n| [@angular/router](https://togithub.com/angular/router-builds) | dependencies | digest | [`65e1e03` -> `748630e`](https://renovatebot.com/diffs/npm/@angular%2frouter//) |\n\n:abcd: If you wish to disable git hash updates, add `\":disableDigestUpdates\"` to the extends array in your config.\n\n---\n\n### Configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:ghost: **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/renovatebot/renovate/discussions) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/20450","RelatedDescription":"Closed or merged PR \"build: update angular packages\" (#20450)"},{"Id":"851481563","IsPullRequest":true,"CreatedAt":"2021-04-07T08:29:49","Actor":"clydin","Number":"20454","RawContent":null,"Title":"Additional updates to dev-server builder unit tests","State":"closed","Body":"See individual commits.","Url":"https://github.com/angular/angular-cli/pull/20454","RelatedDescription":"Closed or merged PR \"Additional updates to dev-server builder unit tests\" (#20454)"},{"Id":"852100716","IsPullRequest":false,"CreatedAt":"2021-04-07T07:28:23","Actor":"ThonyBat","Number":"20460","RawContent":null,"Title":"Generating deprecated code by command creating component","State":"closed","Body":"Hello,\r\nWith run command \"ng generate component\", the code in .spec.ts write async() but is deprecated\r\nIf it's possible, change this function by waitForAsync() for remove the deprecated on generating\r\nthank you in advance","Url":"https://github.com/angular/angular-cli/issues/20460","RelatedDescription":"Closed issue \"Generating deprecated code by command creating component\" (#20460)"},{"Id":"852006804","IsPullRequest":true,"CreatedAt":"2021-04-07T07:01:58","Actor":"renovate[bot]","Number":"20458","RawContent":null,"Title":"build: update cssnano to version 4.1.11","State":"closed","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [cssnano](https://togithub.com/cssnano/cssnano) | [`4.1.10` -> `4.1.11`](https://renovatebot.com/diffs/npm/cssnano/4.1.10/4.1.11) | [![age](https://badges.renovateapi.com/packages/npm/cssnano/4.1.11/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/cssnano/4.1.11/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/cssnano/4.1.11/compatibility-slim/4.1.10)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/cssnano/4.1.11/confidence-slim/4.1.10)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>cssnano/cssnano</summary>\n\n### [`v4.1.11`](https://togithub.com/cssnano/cssnano/releases/v4.1.11)\n\n[Compare Source](https://togithub.com/cssnano/cssnano/compare/v4.1.10...v4.1.11)\n\n### 4.1.11\n\n#### Bug Fixes\n\n-   fix [CVE-2021-28092](https://nvd.nist.gov/vuln/detail/CVE-2021-28092)\n\n</details>\n\n---\n\n### Configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about these updates again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/20458","RelatedDescription":"Closed or merged PR \"build: update cssnano to version 4.1.11\" (#20458)"},{"Id":"851862068","IsPullRequest":true,"CreatedAt":"2021-04-07T06:02:51","Actor":"clydin","Number":"20457","RawContent":null,"Title":"ci: set Node.js v14 as the default version for jobs","State":"closed","Body":"All PR jobs will use Node.js v14.\r\nA Node.js v12 E2E job is now run on release branches.","Url":"https://github.com/angular/angular-cli/pull/20457","RelatedDescription":"Closed or merged PR \"ci: set Node.js v14 as the default version for jobs\" (#20457)"},{"Id":"851846924","IsPullRequest":true,"CreatedAt":"2021-04-07T06:02:26","Actor":"lestrell","Number":"20456","RawContent":null,"Title":"Fix CVE-2021-28092","State":"closed","Body":"https://nvd.nist.gov/vuln/detail/CVE-2021-28092","Url":"https://github.com/angular/angular-cli/pull/20456","RelatedDescription":"Closed or merged PR \"Fix CVE-2021-28092\" (#20456)"},{"Id":"852006998","IsPullRequest":true,"CreatedAt":"2021-04-07T05:54:59","Actor":"renovate[bot]","Number":"20459","RawContent":null,"Title":"build: update copy-webpack-plugin to version 8.1.1","State":"closed","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [copy-webpack-plugin](https://togithub.com/webpack-contrib/copy-webpack-plugin) | [`6.3.2` -> `8.1.1`](https://renovatebot.com/diffs/npm/copy-webpack-plugin/6.3.2/8.1.1) | [![age](https://badges.renovateapi.com/packages/npm/copy-webpack-plugin/8.1.1/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/copy-webpack-plugin/8.1.1/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/copy-webpack-plugin/8.1.1/compatibility-slim/6.3.2)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/copy-webpack-plugin/8.1.1/confidence-slim/6.3.2)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>webpack-contrib/copy-webpack-plugin</summary>\n\n### [`v8.1.1`](https://togithub.com/webpack-contrib/copy-webpack-plugin/blob/master/CHANGELOG.md#&#8203;811-httpsgithubcomwebpack-contribcopy-webpack-plugincomparev810v811-2021-04-06)\n\n[Compare Source](https://togithub.com/webpack-contrib/copy-webpack-plugin/compare/v8.1.0...v8.1.1)\n\n### [`v8.1.0`](https://togithub.com/webpack-contrib/copy-webpack-plugin/blob/master/CHANGELOG.md#&#8203;810-httpsgithubcomwebpack-contribcopy-webpack-plugincomparev800v810-2021-03-22)\n\n[Compare Source](https://togithub.com/webpack-contrib/copy-webpack-plugin/compare/v8.0.0...v8.1.0)\n\n##### Features\n\n-   added the `transformAll` option ([#&#8203;596](https://togithub.com/webpack-contrib/copy-webpack-plugin/issues/596)) ([dde71f0](https://togithub.com/webpack-contrib/copy-webpack-plugin/commit/dde71f01417b9291c7029a3876e043d76beb9e8d))\n\n### [`v8.0.0`](https://togithub.com/webpack-contrib/copy-webpack-plugin/blob/master/CHANGELOG.md#&#8203;800-httpsgithubcomwebpack-contribcopy-webpack-plugincomparev700v800-2021-03-04)\n\n[Compare Source](https://togithub.com/webpack-contrib/copy-webpack-plugin/compare/v7.0.0...v8.0.0)\n\n##### ‚ö† BREAKING CHANGES\n\n-   logic for some placeholders was changed:\n    -   `[hash]` and `[fullhash]` works as in webpack (i.e. it is `hash` of build, not content hash of file), to migrate change `[name].[hash].[ext]` to `[name].[contenthash][ext]`\n    -   `[ext]` doesn't require `.` (dot) before, i.e. change `[name].[ext]` to `[name][ext]`\n    -   `[<hashType>:contenthash:<digestType>:<length>]` and `[<hashType>:hash:<digestType>:<length>]` is not supported anymore, you can use `output.hashDigest`, `output.hashDigestLength` and `output.hashFunction` options to setup it\n    -   `[N]` was removed in favor of using the `to` option as a function\n    -   `[folder]` was removed\n    -   `[emoji]` was removed\n\n##### Features\n\n-   added `priority` option ([#&#8203;590](https://togithub.com/webpack-contrib/copy-webpack-plugin/issues/590)) ([ea610bc](https://togithub.com/webpack-contrib/copy-webpack-plugin/commit/ea610bc1a0fa7097f291b0928fb28eb96b0f03af))\n\n### [`v7.0.0`](https://togithub.com/webpack-contrib/copy-webpack-plugin/blob/master/CHANGELOG.md#&#8203;700-httpsgithubcomwebpack-contribcopy-webpack-plugincomparev640v700-2020-12-10)\n\n[Compare Source](https://togithub.com/webpack-contrib/copy-webpack-plugin/compare/v6.4.1...v7.0.0)\n\n##### ‚ö† BREAKING CHANGES\n\n-   minimum supported webpack version is `5`\n-   the `flatten` option was removed in favor `[name].[ext]` value for the `to` option, \n-   the `transformPath` option was removed in favor `Function` type of the `to` option, look at [examples](https://togithub.com/webpack-contrib/copy-webpack-plugin#function)\n-   the `cacheTransform` option was removed in favor `Object` type of the `transform` option, look at [examples](https://togithub.com/webpack-contrib/copy-webpack-plugin#transform)\n-   migration on the `compilation.hooks.processAssets` hook\n-   empty filtered paths throw an error, you can disable this behaviour using the `noErrorOnMissing` option\n\n### [`v6.4.1`](https://togithub.com/webpack-contrib/copy-webpack-plugin/releases/v6.4.1)\n\n[Compare Source](https://togithub.com/webpack-contrib/copy-webpack-plugin/compare/v6.4.0...v6.4.1)\n\n##### [6.4.1](https://togithub.com/webpack-contrib/copy-webpack-plugin/compare/v6.4.0...v6.4.1) (2020-12-16)\n\n##### Bug Fixes\n\n-   compatibility with webpack 4 file system ([#&#8203;570](https://togithub.com/webpack-contrib/copy-webpack-plugin/issues/570)) ([720026a](https://togithub.com/webpack-contrib/copy-webpack-plugin/commit/720026ad0c526e003ab7270f1712fd712d4fdfad))\n\n### [`v6.4.0`](https://togithub.com/webpack-contrib/copy-webpack-plugin/blob/master/CHANGELOG.md#&#8203;640-httpsgithubcomwebpack-contribcopy-webpack-plugincomparev632v640-2020-12-07)\n\n[Compare Source](https://togithub.com/webpack-contrib/copy-webpack-plugin/compare/v6.3.2...v6.4.0)\n\n##### Features\n\n-   added the `info` option ([db53937](https://togithub.com/webpack-contrib/copy-webpack-plugin/commit/db53937016b7dbf494bc728f00242cd26541f6a3))\n-   added type `Function` for the `to` option ([#&#8203;563](https://togithub.com/webpack-contrib/copy-webpack-plugin/issues/563)) ([9bc5416](https://togithub.com/webpack-contrib/copy-webpack-plugin/commit/9bc541694c0d0975c59586cedfea4a51d11f5278))\n\n##### [6.3.2](https://togithub.com/webpack-contrib/copy-webpack-plugin/compare/v6.3.1...v6.3.2) (2020-11-19)\n\n##### Bug Fixes\n\n-   watching directories ([#&#8203;558](https://togithub.com/webpack-contrib/copy-webpack-plugin/issues/558)) ([7b58fd9](https://togithub.com/webpack-contrib/copy-webpack-plugin/commit/7b58fd9a89e9b29578b30cb3119453e78e036ec2))\n\n##### [6.3.1](https://togithub.com/webpack-contrib/copy-webpack-plugin/compare/v6.3.0...v6.3.1) (2020-11-13)\n\n##### Bug Fixes\n\n-   watching ([#&#8203;555](https://togithub.com/webpack-contrib/copy-webpack-plugin/issues/555)) ([b996923](https://togithub.com/webpack-contrib/copy-webpack-plugin/commit/b9969230321df68ed235ed1861729837f234750e))\n\n</details>\n\n---\n\n### Configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about these updates again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/20459","RelatedDescription":"Closed or merged PR \"build: update copy-webpack-plugin to version 8.1.1\" (#20459)"},{"Id":"851822573","IsPullRequest":true,"CreatedAt":"2021-04-06T21:34:43","Actor":"lestrell","Number":"20455","RawContent":null,"Title":"Fix CVE-2021-28092","State":"closed","Body":"https://nvd.nist.gov/vuln/detail/CVE-2021-28092","Url":"https://github.com/angular/angular-cli/pull/20455","RelatedDescription":"Closed or merged PR \"Fix CVE-2021-28092\" (#20455)"},{"Id":"851099151","IsPullRequest":true,"CreatedAt":"2021-04-06T12:20:19","Actor":"renovate[bot]","Number":"20451","RawContent":null,"Title":"build: update tslib to version 2.2.0","State":"closed","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [tslib](https://www.typescriptlang.org/) ([source](https://togithub.com/Microsoft/tslib)) | [`2.1.0` -> `2.2.0`](https://renovatebot.com/diffs/npm/tslib/2.1.0/2.2.0) | [![age](https://badges.renovateapi.com/packages/npm/tslib/2.2.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/tslib/2.2.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/tslib/2.2.0/compatibility-slim/2.1.0)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/tslib/2.2.0/confidence-slim/2.1.0)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>Microsoft/tslib</summary>\n\n### [`v2.2.0`](https://togithub.com/Microsoft/tslib/releases/2.2.0)\n\n[Compare Source](https://togithub.com/Microsoft/tslib/compare/2.1.0...2.2.0)\n\nThis release supports TypeScript 4.3's new functionality for ECMAScript private methods and accessors, and private static class members.\n\nIt does so by expanding the scope of `__classPrivateFieldGet` and `__classPrivateFieldSet`. See [microsoft#&#8203;146](https://togithub.com/microsoft/tslib/pull/146) for more details.\n\n</details>\n\n---\n\n### Configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/20451","RelatedDescription":"Closed or merged PR \"build: update tslib to version 2.2.0\" (#20451)"},{"Id":"851346784","IsPullRequest":false,"CreatedAt":"2021-04-06T11:51:40","Actor":"bgotink","Number":"20453","RawContent":null,"Title":"Support resolving architect builders relative to project","State":"open","Body":"# üöÄ Feature request\r\n\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are relevant for this feature request? -->\r\n<!-- ‚úçÔ∏èedit: -->\r\n- [ ] new\r\n- [x] build\r\n- [x] serve\r\n- [x] test\r\n- [x] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [x] lint\r\n- [x] extract-i18n\r\n- [x] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Description\r\n\r\nSchematics are loaded relative to the project first, and if the collection isn't found in the project then it's resolved in the folder the `angular.json` is in. This is great because it allows for situations where multiple versions of a collection are in use, or for collections that require peer dependencies.\r\n\r\nThe same behaviour is currently not present in architect builders. Those are only resolved in the folder the angular.json file is in, making certain situations impossible.\r\n\r\nA very specific case: I've got a repository that contains tooling, and I'm using typescript 4.2 for this repo. I'm using the angular CLI to configure the projects in the repo, with a homebrew architect builder to create npm packages to run in node.\r\nNow I want to add an angular application to the repo to test packages in the repo, as the tool in question is `@ngx-playwright/jest`, meant for using Jest and Playwright to run e2e tests.\r\nHowever, building the angular app only works if I install `@angular-devkit/build-angular` in the root package.json file, which requires `@angular/compiler-cli`, `@angular/compiler`, `@angular/core`, `rxjs` and `zone.js` as well. It also requires `typscript@>= 4.0 < 4.2` which clashes with the 4.2.3 that I'm using throughout the repo.\r\n\r\nNote: I'm using a package manager that doesn't hoist dependencies (i.e. the behaviour of yarn 2's pnp¬†linker or pnpm)\r\n\r\n### Describe the solution you'd like\r\n\r\nI'd like to be able to install `@angular-devkit/build-angular` in the test application's folder instead of the repo root. This package.json already contains all necessary peer dependencies and it can use 4.1 without me having to downgrade typescript throughout the entire repo.\r\n\r\n### Describe alternatives you've considered\r\n\r\n- Use a package manager that hoists dependencies. This allows for installing the `@angular-devkit/build-angular` package in the test app's folder while it'll still end up in the root `node_modules` so the angular CLI can find it. It will still find the wrong version of typescript though, so I'm still stuck.\r\n- Downgrade my repo to typescript 4.1: this might be possible, but it feels very wrong that the one angular app in the repo should define the typescript version being used to build the node packages throughout the entire repo as well as the typescript language server version used by VS Code.\r\n- Create a separate `angular.json` in the test app's folder. This is the solution I'm going for, but if I have multiple `angular.json` files I'm losing a lot of the ergonomics the angular CLI normally offers.\r\n","Url":"https://github.com/angular/angular-cli/issues/20453","RelatedDescription":"Open issue \"Support resolving architect builders relative to project\" (#20453)"},{"Id":"851271544","IsPullRequest":false,"CreatedAt":"2021-04-06T10:57:22","Actor":"Enivile","Number":"20452","RawContent":null,"Title":"ENOENT on ng serve","State":"closed","Body":"I am using VS Code I encountered the same error once before searched for it but didn't find any solution so I uninstalled the VS code and reinstalled. Which got me rid of the error but I rebooted my pc and hv the same error again.\r\n\r\nWhen I run 'ng serve' this error occurs.\r\n\r\n---------------------------------------------------------------------------------------------------------------------------\r\nAn unhandled exception occurred: ENOENT: no such file or directory, lstat 'D:\\NUML lectures\\Final Year Project\\FYP Project\\Project\\Eventier\\https:'\r\nSee \"C:\\PROGRA~1\\KMSpico\\temp\\ng-950dms\\angular-errors.log\" for further details.\r\n---------------------------------------------------------------------------------------------------------------------------","Url":"https://github.com/angular/angular-cli/issues/20452","RelatedDescription":"Closed issue \"ENOENT on ng serve\" (#20452)"},{"Id":"850499530","IsPullRequest":false,"CreatedAt":"2021-04-05T17:48:51","Actor":"acohenOT","Number":"20449","RawContent":null,"Title":"ng test fails to detect headless Chrome on first attempt","State":"closed","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ‚úçÔ∏èedit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [x] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> Unknown\r\n\r\n\r\n### Description\r\n\r\n<!-- ‚úçÔ∏è--> Using karama to run tests with headless Chrome, the first attempt to start Chrome apparently goes undetected. It eventually times out, kills the process, then starts Chrome again and is able to continue with the tests. This causes an unnecessary 2+ minute delay. The Chrome process starts successfully but for some reason it's not detecting it until the 2nd attempt.\r\n\r\n## üî¨ Minimal Reproduction\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue. \r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n1. Create new application: \r\n`ng new <app-name> --strict=true --style=scss --routing=true`\r\n2. Install `@progress/kendo-theme-default`\r\n` npm install @progress/kendo-theme-default --save`\r\n3. Open `styles.scss`, add the following line:\r\n`@import \"~@progress/kendo-theme-default/scss/all\";`\r\n4. Open `karma.conf.js` and change the following properties:\r\n```\r\n    autoWatch: false\r\n    browsers: ['ChromeHeadlessCI'],\r\n    customLaunchers: {\r\n      ChromeHeadlessCI: {\r\n        base: 'ChromeHeadless',\r\n        flags: ['--no-sandbox']\r\n      }\r\n    },\r\n   singleRun: true\r\n```\r\n5. Run `ng test`\r\n\r\nAfter 2+ minutes, warning in console shows: `WARN [launcher]: ChromeHeadless have not captured in 60000 ms, killing.`\r\nThen, `NFO [launcher]: Trying to start ChromeHeadless again (1/2).`\r\nThe second time launches without issue.\r\n\r\nIf you remove the line from `styles.scss` and repeat `ng test`, the problem is not visible.\r\n\r\nAlternatively, check out this repo and run `ng test`: https://github.com/acohenOT/unit-testing\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ‚úçÔ∏è-->\r\nKarma v6.1.2 server started at http://localhost:9876/\r\n05 04 2021 12:20:05.510:INFO [launcher]: Launching browsers ChromeHeadlessCI with concurrency unlimited\r\n05 04 2021 12:20:05.536:INFO [launcher]: Starting browser ChromeHeadless\r\n- Generating browser application bundles (phase: building)...05 04 2021 12:22:32.075:WARN [launcher]: ChromeHeadless have not captured in 60000 ms, killing.\r\n/ Generating browser application bundles (phase: building)...05 04 2021 12:22:32.986:INFO [launcher]: Trying to start ChromeHeadless again (1/2).\r\n‚àö Browser application bundle generation complete.\r\n05 04 2021 12:22:39.009:INFO [Chrome Headless 89.0.4389.114 (Windows 10)]: Connected on socket 6ClQVkn2c_tOxxhlAAAB with id 89607273\r\nChrome Headless 89.0.4389.114 (Windows 10): Executed 3 of 3 SUCCESS (0.305 secs / 0.217 secs)\r\nTOTAL: 3 SUCCESS\r\n</code></pre>\r\n\r\n\r\n## üåç Your Environment\r\n\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ‚úçÔ∏è-->\r\nAngular CLI: 11.2.7\r\nNode: 14.16.0\r\nOS: win32 x64\r\n\r\nAngular: 11.2.8\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1102.7\r\n@angular-devkit/build-angular   0.1102.7\r\n@angular-devkit/core            11.2.7\r\n@angular-devkit/schematics      11.2.7\r\n@angular/cli                    11.2.7\r\n@schematics/angular             11.2.7\r\n@schematics/update              0.1102.7\r\nrxjs                            6.6.7\r\ntypescript                      4.1.5\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\nChrome Version 89.0.4389.114 (Official Build) (64-bit) for Windows\r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\nOnly tested on Windows. Unsure if it happens on other OSs.","Url":"https://github.com/angular/angular-cli/issues/20449","RelatedDescription":"Closed issue \"ng test fails to detect headless Chrome on first attempt\" (#20449)"},{"Id":"850290909","IsPullRequest":true,"CreatedAt":"2021-04-05T17:21:06","Actor":"alan-agius4","Number":"20447","RawContent":null,"Title":"ci: use `--cache-folder` to make sure that yarn cache is used","State":"closed","Body":"With this change we use yarn `--cache-folder` to make sure that yarn cache is used in all platforms. Previously on Windows we where using the wrong path which resulted in node packages not to be cached.","Url":"https://github.com/angular/angular-cli/pull/20447","RelatedDescription":"Closed or merged PR \"ci: use `--cache-folder` to make sure that yarn cache is used\" (#20447)"},{"Id":"849650292","IsPullRequest":true,"CreatedAt":"2021-04-05T17:20:56","Actor":"clydin","Number":"20443","RawContent":null,"Title":"fix(@ngtools/webpack): remove Webpack plugin for deprecated ViewEngine compiler","State":"closed","Body":"BREAKING CHANGE: Removal of View Engine support from application builds\r\nWith the removal of the deprecated View Engine compiler in Angular version 12 for applications, the View Engine Webpack plugin has been removed.\r\nThe Ivy-based Webpack plugin is the default used within the Angular CLI.\r\nIf using a custom standalone Webpack configuration, the removed `AngularCompilerPlugin` should be replaced with the Ivy-based `AngularWebpackPlugin`.","Url":"https://github.com/angular/angular-cli/pull/20443","RelatedDescription":"Closed or merged PR \"fix(@ngtools/webpack): remove Webpack plugin for deprecated ViewEngine compiler\" (#20443)"},{"Id":"850405640","IsPullRequest":false,"CreatedAt":"2021-04-05T15:20:23","Actor":"mikgross","Number":"20448","RawContent":null,"Title":"ng build produced module of MIME type application/octet-stream","State":"closed","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû Bug report\r\n\r\n### Command (mark with an `x`)\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\nYes, on version 9.0.7 this worked well.\r\n\r\n### Description\r\nWhen building my project and deploying on App Engine, I receive the following error message:\r\n````\r\nThe server responded with a non-JavaScript MIME type of \"application/octet-stream\". Strict MIME type checking is enforced for module scripts per HTML spec.\r\n````\r\nWhile before the MIME type was set correctly, I cloned my project, went back to CLI 9.0.1 and the deployment went fine.\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\nFor me:\r\n1) In the project directory root:\r\n`ng build`\r\n\r\n2) in the dist folder (with the relevant app.yaml)\r\n`gcloud app deploy`\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\nThe server responded with a non-JavaScript MIME type of \"application/octet-stream\". Strict MIME type checking is enforced for module scripts per HTML spec.\r\n</code></pre>\r\n\r\n\r\n## üåç Your Environment\r\n<pre><code>\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / ‚ñ≥ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 11.2.6\r\nNode: 15.4.0\r\nOS: linux x64\r\n\r\nAngular: 11.2.7\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, localize, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1102.6\r\n@angular-devkit/build-angular   0.1102.6\r\n@angular-devkit/core            11.2.6\r\n@angular-devkit/schematics      11.2.6\r\n@angular/cdk                    11.2.6\r\n@angular/cli                    11.2.6\r\n@angular/fire                   6.1.4\r\n@angular/material               11.2.6\r\n@schematics/angular             11.2.6\r\n@schematics/update              0.1102.6\r\nrxjs                            6.5.5\r\ntypescript                      4.1.5\r\n</code></pre>\r\n\r\n**Anything else relevant?**","Url":"https://github.com/angular/angular-cli/issues/20448","RelatedDescription":"Closed issue \"ng build produced module of MIME type application/octet-stream\" (#20448)"},{"Id":"849056505","IsPullRequest":true,"CreatedAt":"2021-04-05T11:18:56","Actor":"renovate[bot]","Number":"20439","RawContent":null,"Title":"build: update angular packages","State":"closed","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@angular/animations](https://togithub.com/angular/animations-builds) | dependencies | digest | [`831da00` -> `1bc699d`](https://renovatebot.com/diffs/npm/@angular%2fanimations//) |\n| [@angular/cdk](https://togithub.com/angular/cdk-builds) | dependencies | digest | [`9003fb5` -> `4fa3f0a`](https://renovatebot.com/diffs/npm/@angular%2fcdk//) |\n| [@angular/common](https://togithub.com/angular/common-builds) | dependencies | digest | [`851e69f` -> `db4b95f`](https://renovatebot.com/diffs/npm/@angular%2fcommon//) |\n| [@angular/compiler](https://togithub.com/angular/compiler-builds) | dependencies | digest | [`3543091` -> `a6b2618`](https://renovatebot.com/diffs/npm/@angular%2fcompiler//) |\n| [@angular/compiler-cli](https://togithub.com/angular/compiler-cli-builds) | dependencies | digest | [`188351e` -> `d7a8898`](https://renovatebot.com/diffs/npm/@angular%2fcompiler-cli//) |\n| [@angular/core](https://togithub.com/angular/core-builds) | dependencies | digest | [`478ff2f` -> `ca3baec`](https://renovatebot.com/diffs/npm/@angular%2fcore//) |\n| [@angular/dev-infra-private](https://togithub.com/angular/dev-infra-private-builds) | devDependencies | digest | [`5b679b4` -> `b8bc310`](https://renovatebot.com/diffs/npm/@angular%2fdev-infra-private//) |\n| [@angular/forms](https://togithub.com/angular/forms-builds) | dependencies | digest | [`0890466` -> `9053ed2`](https://renovatebot.com/diffs/npm/@angular%2fforms//) |\n| [@angular/language-service](https://togithub.com/angular/language-service-builds) | dependencies | digest | [`a8c60b1` -> `f5ec7ee`](https://renovatebot.com/diffs/npm/@angular%2flanguage-service//) |\n| [@angular/localize](https://togithub.com/angular/localize-builds) | dependencies | digest | [`5907155` -> `a77b718`](https://renovatebot.com/diffs/npm/@angular%2flocalize//) |\n| [@angular/material](https://togithub.com/angular/material2-builds) | dependencies | digest | [`9499b0e` -> `0199991`](https://renovatebot.com/diffs/npm/@angular%2fmaterial//) |\n| [@angular/material-moment-adapter](https://togithub.com/angular/material-moment-adapter-builds) | dependencies | digest | [`4e6da4d` -> `a6309b8`](https://renovatebot.com/diffs/npm/@angular%2fmaterial-moment-adapter//) |\n| [@angular/platform-browser](https://togithub.com/angular/platform-browser-builds) | dependencies | digest | [`0ef446a` -> `b9d78d6`](https://renovatebot.com/diffs/npm/@angular%2fplatform-browser//) |\n| [@angular/platform-browser-dynamic](https://togithub.com/angular/platform-browser-dynamic-builds) | dependencies | digest | [`e227b05` -> `67c22f0`](https://renovatebot.com/diffs/npm/@angular%2fplatform-browser-dynamic//) |\n| [@angular/platform-server](https://togithub.com/angular/platform-server-builds) | dependencies | digest | [`d35b359` -> `859edd8`](https://renovatebot.com/diffs/npm/@angular%2fplatform-server//) |\n| [@angular/router](https://togithub.com/angular/router-builds) | dependencies | digest | [`9557513` -> `65e1e03`](https://renovatebot.com/diffs/npm/@angular%2frouter//) |\n\n:abcd: If you wish to disable git hash updates, add `\":disableDigestUpdates\"` to the extends array in your config.\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:ghost: **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/renovatebot/renovate/discussions) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/20439","RelatedDescription":"Closed or merged PR \"build: update angular packages\" (#20439)"},{"Id":"850150111","IsPullRequest":false,"CreatedAt":"2021-04-05T07:22:24","Actor":"LeDtOAN","Number":"20446","RawContent":null,"Title":"heloo","State":"closed","Body":"üõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõë\r\n\r\nPlease help us process issues more efficiently by filing an\r\nissue using one of the following templates:\r\n\r\nhttps://github.com/angular/angular-cli/issues/new/choose\r\n\r\nThank you!\r\n\r\nüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõë\r\n","Url":"https://github.com/angular/angular-cli/issues/20446","RelatedDescription":"Closed issue \"heloo\" (#20446)"},{"Id":"849692256","IsPullRequest":true,"CreatedAt":"2021-04-04T07:07:06","Actor":"clydin","Number":"20444","RawContent":null,"Title":"Misc. builder unit test cleanup","State":"closed","Body":"See individual commits.","Url":"https://github.com/angular/angular-cli/pull/20444","RelatedDescription":"Closed or merged PR \"Misc. builder unit test cleanup\" (#20444)"},{"Id":"849741672","IsPullRequest":false,"CreatedAt":"2021-04-03T20:25:35","Actor":"mdarefull","Number":"20445","RawContent":null,"Title":"Make environment.ts the default file for production","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ \r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üöÄ feature request\r\n\r\n### Description\r\nBy default, environment.ts is used as part of normal (non production) builds and serves and the recommendation is to use environment.prod.ts to replace the base file with prod-specific settings.\r\n\r\nOn CI/CD environments, the most popular pattern is to place \"tokens\" in environment.prod.ts that are replaced at build/release time with the environment-specific values and secrets.\r\n\r\nThis presents several issues:\r\n\r\n- Local development configuration code (environment.ts) is checked into the repository by default. Depending on the project size, this could lead to one team member breaking others configurations or mistakenly committing settings that only make sense for the local machine.\r\n- Secrets get checked into the repository by default. Sometimes we use staging/production secrets to connect to external dependencies during development/testing. If we don't remember to revert the changes, secrets could be leaked into the repository.\r\n- Because the build performs a replacement, basic settings that are set during development have to be duplicated in environment.prod.ts and could be missing.\r\n- environment.ts and environment.prod have to be checked into the repository, otherwise, the project won't compile.\r\n\r\n<!-- ‚úçÔ∏è--> A clear and concise description of the problem or missing capability...\r\n\r\n### Describe the solution you'd like\r\nWe should deprecate environment.prod.ts in favor of environment.development.ts and use the latest as a default file replacement while not performing any replacement for prod builds.\r\n\r\nAlso, a property could be added to support optional file replacements. That way if at build time the file to replace environment.ts doesn't exist, it won't fail (probably a warning).\r\n\r\nIt would also be good to \"strong type\" the variable, that way we have a build-time check that all the environments have the required properties set with the expected type.\r\n\r\nAdditionally, it would be great to consider a \"merge\" process, where instead of replacing environment.ts by environment.*.ts, the properties would be merged.\r\n\r\nI based my suggestions on the way .NET Core app settings are implemented.\r\n\r\n### Describe alternatives you've considered\r\nTo achieve the above, I had to do this:\r\n![image](https://user-images.githubusercontent.com/22510674/113490593-7f38b380-94a1-11eb-88c3-c384b2268d9d.png)\r\n\r\nWhich doesn't look nice but works... Also I changed environment.prod.ts to environment.development.ts and added it to git ignore.\r\n","Url":"https://github.com/angular/angular-cli/issues/20445","RelatedDescription":"Open issue \"Make environment.ts the default file for production\" (#20445)"},{"Id":"849606986","IsPullRequest":true,"CreatedAt":"2021-04-03T11:22:44","Actor":"renovate[bot]","Number":"20442","RawContent":null,"Title":"build: update open to version 8.0.5","State":"closed","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [open](https://togithub.com/sindresorhus/open) | [`8.0.4` -> `8.0.5`](https://renovatebot.com/diffs/npm/open/8.0.4/8.0.5) | [![age](https://badges.renovateapi.com/packages/npm/open/8.0.5/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/open/8.0.5/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/open/8.0.5/compatibility-slim/8.0.4)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/open/8.0.5/confidence-slim/8.0.4)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>sindresorhus/open</summary>\n\n### [`v8.0.5`](https://togithub.com/sindresorhus/open/releases/v8.0.5)\n\n[Compare Source](https://togithub.com/sindresorhus/open/compare/v8.0.4...v8.0.5)\n\n-   Fix `chrome` app on macOS ([#&#8203;240](https://togithub.com/sindresorhus/open/issues/240))  [`87f3d7a`](https://togithub.com/sindresorhus/open/commit/87f3d7a)\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about these updates again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/20442","RelatedDescription":"Closed or merged PR \"build: update open to version 8.0.5\" (#20442)"},{"Id":"849579977","IsPullRequest":true,"CreatedAt":"2021-04-03T06:56:31","Actor":"renovate[bot]","Number":"20441","RawContent":null,"Title":"build: update ajv to version 8.0.5","State":"closed","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [ajv](https://ajv.js.org) ([source](https://togithub.com/ajv-validator/ajv)) | [`6.12.6` -> `8.0.5`](https://renovatebot.com/diffs/npm/ajv/6.12.6/8.0.5) | [![age](https://badges.renovateapi.com/packages/npm/ajv/8.0.5/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/ajv/8.0.5/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/ajv/8.0.5/compatibility-slim/6.12.6)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/ajv/8.0.5/confidence-slim/6.12.6)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>ajv-validator/ajv</summary>\n\n### [`v8.0.5`](https://togithub.com/ajv-validator/ajv/releases/v8.0.5)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v8.0.4...v8.0.5)\n\nFix: add source code back to npm package, 8.0.4 is breaking ajv-cli (and possibly other things)\n\n### [`v8.0.4`](https://togithub.com/ajv-validator/ajv/releases/v8.0.4)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v8.0.3...v8.0.4)\n\nReduce npm bundle size\n\n### [`v8.0.3`](https://togithub.com/ajv-validator/ajv/releases/v8.0.3)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v8.0.2...v8.0.3)\n\nImprove JSONSchemaType errors ([@&#8203;erikbrinkman](https://togithub.com/erikbrinkman), [#&#8203;1525](https://togithub.com/ajv-validator/ajv/issues/1525))\n\n### [`v8.0.2`](https://togithub.com/ajv-validator/ajv/releases/v8.0.2)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v8.0.1...v8.0.2)\n\nSupport RegExp formats in standalone code ([#&#8203;1470](https://togithub.com/ajv-validator/ajv/issues/1470))\nAdd schema path to strictTuple error message ([@&#8203;asaid-0](https://togithub.com/asaid-0), [#&#8203;1519](https://togithub.com/ajv-validator/ajv/issues/1519))\n\n### [`v8.0.1`](https://togithub.com/ajv-validator/ajv/releases/v8.0.1)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v8.0.0...v8.0.1)\n\nTypescript: export function `getData` (for ajv-errors)\n\n### [`v8.0.0`](https://togithub.com/ajv-validator/ajv/releases/v8.0.0)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.2.4...v8.0.0)\n\nThis document describes changes from v7.2.4 to v8.0.0.\n\nIf you are migrating from v6 you can use [this document](https://togithub.com/ajv-validator/ajv/blob/master/docs/v6-to-v8-migration.md).\n\n#### New features\n\nSupport JSON Schema draft-2020-12: [prefixItems](https://ajv.js.org/json-schema.html#prefixitems) keyword and changed semantics of [items](https://ajv.js.org/json-schema.html#items-in-draft-2020-12) keyword, [dynamic recursive references](https://ajv.js.org/guide/combining-schemas.html#extending-recursive-schemas).\nOpenAPI [discriminator](https://ajv.js.org/json-schema.html#discriminator) keyword.\nImproved JSON Type Definition support:\n\n-   errors consistent with JTD specification.\n-   error objects with additional properties to simplify error handling (see [Error objects](https://ajv.js.org/api.html#error-objects))\n-   internationalized error messages with [ajv-i18n](/packages/ajv-i18n)\n    TypeScript: support type unions in [JSONSchemaType](https://ajv.js.org/guide/typescript.html#type-safe-unions)\n\n#### Other changes / improvements\n\nNode.js require works without .default property - see examples in [Getting started](https://ajv.js.org/guide/getting-started.html)\nReduce runtime dependency for [standalone validation code](https://ajv.js.org/standalone.html)\nFix resolution of `$ref: \"#\"` when $id is present ([#&#8203;815](https://togithub.com/ajv-validator/ajv/issues/815))\n\n#### Breaking changes\n\nOption [strict](https://ajv.js.org/options.html#strict) controls all [strict mode](https://ajv.js.org/strict-mode.html) restrictions\nJSON Schema validation errors changes:\n\n-   `dataPath` property replaced with `instancePath`\n-   \"should\" replaced with \"must\" in the messages\n-   property name is removed from \"propertyName\" keyword error message (it is still available in `error.params.propertyName`).\n\n### [`v7.2.4`](https://togithub.com/ajv-validator/ajv/releases/v7.2.4)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.2.3...v7.2.4)\n\nFix [#&#8203;1515](https://togithub.com/ajv-validator/ajv/issues/1515): correctly initialize evaluated properties.\n\n### [`v7.2.3`](https://togithub.com/ajv-validator/ajv/releases/v7.2.3)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.2.2...v7.2.3)\n\nRemove docs from npm package\n\n### [`v7.2.2`](https://togithub.com/ajv-validator/ajv/releases/v7.2.2)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.2.1...v7.2.2)\n\nDocs correction\nSimplified JSONSchemaType ([@&#8203;erikbrinkman](https://togithub.com/erikbrinkman))\nFix [#&#8203;1493](https://togithub.com/ajv-validator/ajv/issues/1493) - incorrect reporting of missing required property with option `ownProperties: true`\nFix [#&#8203;1501](https://togithub.com/ajv-validator/ajv/issues/1501) - JTD not working correctly with many properties in the schema\n\n### [`v7.2.1`](https://togithub.com/ajv-validator/ajv/releases/v7.2.1)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.2.0...v7.2.1)\n\nAdd [tests](https://togithub.com/nst/JSONTestSuite) and fix parsers compiled with `ajv.compileParser` from JTD schemas:\n\n-   fail on invalid JSON:\n    -   trailing comma in arrays/objects\n    -   invalid JSON numbers\n    -   control characters in strings\n-   fix parsing of u-escaped characters\n-   do not fail on duplicate object keys (consistent with JSON.parse)\n\nCompiled parsers are now:\n\n-   consistent with JSON.parse in case of invalid JSON\n-   only parse data that is valid for JTD schema\n\nIt is a breaking change for compiled parsers compared with 7.2.0 that was released earlier on the same day.\n\n### [`v7.2.0`](https://togithub.com/ajv-validator/ajv/releases/v7.2.0)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.1.1...v7.2.0)\n\nstrictRequired option (off by default) - to log or fail if properties used in JSON Schema \"required\" are not defined in \"properties\" ([@&#8203;PBug90](https://togithub.com/PBug90), [#&#8203;1403](https://togithub.com/ajv-validator/ajv/issues/1403))\n\nCompiled parsers (as fast as JSON.parse on valid JSON, but replace validation and fail much faster on invalid JSON) and serializers (10x+ faster than JSON.stringify) from JSON Type Definition schemas ([#&#8203;1454](https://togithub.com/ajv-validator/ajv/issues/1454)) - see examples in [javascript](https://ajv.js.org/guide/getting-started.html#parsing-and-serializing-json) and [typescript](https://ajv.js.org/guide/typescript.html#type-safe-parsers-and-serializers)\n\nPlease note: there are fixes to compiled parsers in [7.2.1](https://togithub.com/ajv-validator/ajv/releases/tag/v7.2.1)\n\nThe website migrated to VuePress and documentation is restructured to make navigating Ajv documentation and learning easier - this is still work in progress, but already some improvement on the information structure. Any feedback/corrections would be very much appreciated!\n\nImproved TypeScript support for JSONSchemaType:\n\n-   JTDSchemaType<T> utility type to convert your data type into the type of JTD schema, to simplify its writing and to make sure it is consistent with your data type, with type inference support for ajv methods ([@&#8203;erikbrinkman](https://togithub.com/erikbrinkman), [#&#8203;1446](https://togithub.com/ajv-validator/ajv/issues/1446), [#&#8203;1456](https://togithub.com/ajv-validator/ajv/issues/1456), [#&#8203;1457](https://togithub.com/ajv-validator/ajv/issues/1457), [#&#8203;1475](https://togithub.com/ajv-validator/ajv/issues/1475)) - see [example here](https://ajv.js.org/guide/typescript.html#utility-types-for-schemas)\n-   Alternatively, you can use JTDDataType<typeof schema> utility type to convert your JTD schema type into the type of data ([@&#8203;erikbrinkman](https://togithub.com/erikbrinkman), [#&#8203;1458](https://togithub.com/ajv-validator/ajv/issues/1458)) - see [this example](https://ajv.js.org/guide/typescript.html#utility-type-for-jtd-data-type)\n\nOther improvements by [@&#8203;Fdawgs](https://togithub.com/Fdawgs) ([#&#8203;1466](https://togithub.com/ajv-validator/ajv/issues/1466)), [@&#8203;t7yang](https://togithub.com/t7yang) ([#&#8203;1472](https://togithub.com/ajv-validator/ajv/issues/1472), [#&#8203;1473](https://togithub.com/ajv-validator/ajv/issues/1473)), [@&#8203;koba04](https://togithub.com/koba04) ([#&#8203;1460](https://togithub.com/ajv-validator/ajv/issues/1460))\n\n### [`v7.1.1`](https://togithub.com/ajv-validator/ajv/releases/v7.1.1)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.1.0...v7.1.1)\n\nSupport readonly arrays with JSONSchemaType ([@&#8203;LinusU](https://togithub.com/LinusU), [#&#8203;1447](https://togithub.com/ajv-validator/ajv/issues/1447))\n\n### [`v7.1.0`](https://togithub.com/ajv-validator/ajv/releases/v7.1.0)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.0.4...v7.1.0)\n\nSupport for JSON Type Definition RFC 8927 - a simple schema language provided as an alternative to JSON Schema.\n\nSee these docs:\n\n-   an [informal document](https://ajv.js.org/json-type-definition.html) on Ajv site\n-   [RFC8927](https://datatracker.ietf.org/doc/rfc8927/)\n-   [choosing schema language](https://ajv.js.org/guide/schema-language.html) - comparison with JSON Schema\n\nAllow \":\" in keyword names ([#&#8203;1421](https://togithub.com/ajv-validator/ajv/issues/1421), [@&#8203;teq0](https://togithub.com/teq0))\n\n### [`v7.0.4`](https://togithub.com/ajv-validator/ajv/releases/v7.0.4)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.0.3...v7.0.4)\n\nFix: duplicate functions in standalone validation code with mutually recursive schemas ([#&#8203;1361](https://togithub.com/ajv-validator/ajv/issues/1361))\nFix: reference resolution when base URI change was not applied ([#&#8203;1414](https://togithub.com/ajv-validator/ajv/issues/1414))\n\n### [`v7.0.3`](https://togithub.com/ajv-validator/ajv/releases/v7.0.3)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.0.2...v7.0.3)\n\nFixes:\n\n-   oneOf error type ([#&#8203;1368](https://togithub.com/ajv-validator/ajv/issues/1368), [@&#8203;G-Rath](https://togithub.com/G-Rath))\n-   remove multiple imports ([rollup/plugins#&#8203;745](https://togithub.com/rollup/plugins/issues/745))\n\nDocs:\n\n-   Using in ES5 ([#&#8203;1364](https://togithub.com/ajv-validator/ajv/issues/1364), [@&#8203;aladdin-add](https://togithub.com/aladdin-add))\n-   Option strictTypes: false has to be used with json-schema-secure schema ([#&#8203;1373](https://togithub.com/ajv-validator/ajv/issues/1373))\n\n### [`v7.0.2`](https://togithub.com/ajv-validator/ajv/releases/v7.0.2)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.0.1...v7.0.2)\n\nRemove duplicate functions from standalone validation code ([#&#8203;1361](https://togithub.com/ajv-validator/ajv/issues/1361))\n\n### [`v7.0.1`](https://togithub.com/ajv-validator/ajv/releases/v7.0.1)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.0.0...v7.0.1)\n\nUpdate error message for `maxLength`/`minLength` keywords\n\n### [`v7.0.0`](https://togithub.com/ajv-validator/ajv/releases/v7.0.0)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v6.12.6...v7.0.0)\n\nPlease note: this document covers the changes from v6.12.6.\n\n### The main changes\n\n-   support of JSON Schema draft-2019-09 features: [`unevaluatedProperties`](https://togithub.com/ajv-validator/ajv/blob/master/docs/json-schema.md#unevaluatedproperties) and [`unevaluatedItems`](https://togithub.com/ajv-validator/ajv/blob/master/docs/json-schema.md#unevaluateditems), [dynamic recursive references](https://togithub.com/ajv-validator/ajv/blob/master/docs/validation.md#extending-recursive-schemas) and other [additional keywords](https://togithub.com/ajv-validator/ajv/blob/master/docs/json-schema.md#json-schema-draft-2019-09).\n-   comprehensive support for [standalone validation code](https://togithub.com/ajv-validator/ajv/blob/master/docs/standalone.md) - compiling one or multiple schemas to standalone modules with one or multiple exports.\n-   to reduce the mistakes in JSON schemas and unexpected validation results, [strict mode](https://togithub.com/ajv-validator/ajv/blob/master/docs/strict-mode.md) is added - it prohibits ignored or ambiguous JSON Schema elements. See [Strict mode](https://togithub.com/ajv-validator/ajv/blob/master/docs/strict-mode.md) and [Options](https://togithub.com/ajv-validator/ajv/blob/master/docs/api.md) for more details\n-   to make code injection from untrusted schemas impossible, [code generation](https://togithub.com/ajv-validator/ajv/blob/master/docs/codegen.md) is fully re-written to be type-level safe against code injection.\n-   to simplify Ajv extensions, the new keyword API that is used by pre-defined keywords is available to user-defined keywords - it is much easier to define any keywords now, especially with subschemas.\n-   schemas are compiled to ES6 code (ES5 code generation is supported with an option).\n-   to improve reliability and maintainability the code is migrated to TypeScript.\n-   separate Ajv classes from draft-07 and draft-2019-09 support with different default imports (see [Getting started](https://togithub.com/ajv-validator/ajv#usage) or [v7.0.0-beta.5](https://togithub.com/ajv-validator/ajv/releases/tag/v7.0.0-beta.5) for the details).\n\n**Please note**:\n\n-   the support for JSON-Schema draft-04 is removed - if you have schemas using \"id\" attributes you have to replace them with \"\\\\$id\" (or continue using version 6 that will be supported until 02/28/2021).\n-   all formats are separated to [ajv-formats](https://togithub.com/ajv-validator/ajv-formats) package - they have to be explicitly added if you use them.\n-   Ajv instance can only be created with `new` keyword, as Ajv is now ES6 class.\n-   browser bundles are automatically published to ajv-dist package (but still available on cdnjs.com).\n-   order of schema keyword validation changed - keywords that apply to all types (allOf etc.) are now validated first, before the keywords that apply to specific data types. You can still define custom keywords that apply to all types AND are validated after type-specific keywords using option `post: true` in keyword definition.\n-   regular expressions in keywords \"pattern\" and \"patternProperties\" are now used as if they had unicode \"u\" flag, as required by JSON Schema specification - it means that some regular expressions that were valid with Ajv v6 are now invalid (and vice versa).\n\n#### Better TypeScript support:\n\n-   Methods `compile` and `compileAsync` now return type-guards - see [Getting started](https://togithub.com/ajv-validator/ajv/tree/master#usage).\n-   Method `validate` is a type-guard.\n-   Better separation of asynchronous schemas on type level.\n-   Type utility JSONSchemaType<T> that generates the type for JSON Schema for type interface in the type parameter - it simplifies writing schemas (no unions support at the moment).\n\n#### API changes:\n\n-   addVocabulary - NEW method that allows to add an array of keyword definitions.\n-   addKeyword - keyword name should be passed as property in definition object, not as the first parameter (old API works with \"deprecated\" warning). Also \"inline\" keywords support is removed, code generation keywords can now be defined with \"code\" keyword - the same definition format that is used by all pre-defined keywords\n-   Ajv no longer allows to create the instance without `new` keyword (it is ES6 class). \n\n##### Added options (and defaults):\n\n-   strict: true - strict mode\n-   strictTypes: \"log\" - prevent mistakes related to type keywords and keyword applicability (see [Strict Types](https://togithub.com/ajv-validator/ajv/blob/master/docs/strict-mode.md#strict-types))\n-   strictTuples: \"log\" - prevent incomplete tuple schemas (see [Prohibit unconstrained tuples](https://togithub.com/ajv-validator/ajv/blob/master/docs/strict-mode.md#prohibit-unconstrained-tuples))\n-   allowUnionTypes: false - allow multiple non-null types in \"type\" keyword\n-   allowMatchingProperties: false - allow overlap between \"properties\" and \"patternProperties\" keywords\n-   loopEnum: Infinity - optimise validation of enums, similar to `loopRequired`\n-   validateFormats: true - enable format validation\n-   code: {optimize: number|boolean} - control [code optimisation](https://togithub.com/ajv-validator/ajv/blob/master/docs/codegen.md#code-optimization)\n-   code: {es5: true} - generate ES5 code, the default is to generate ES6 code.\n-   code: {lines: true} - add line breaks to generated code - simplifies debugging of compiled schemas when you need it\n\n##### Changed options:\n\n-   `keywords` - now expects the array of keyword definitions (old API works with \"deprecated\" warning)\n\n##### Removed options:\n\n-   errorDataPath - was deprecated, now removed.\n-   format - `validateFormats: false` can be used instead, old format mode can be chosen via ajv-formats package.\n-   nullable: `nullable` keyword is supported by default.\n-   jsonPointers: JSONPointers are used to report errors by default, `jsPropertySyntax: true` (deprecated) can be used if old format is needed.\n-   extendRefs: $ref siblings are validated by default (consistent with draft 2019-09), `ignoreKeywordsWithRef` (deprecated) can be used instead to ignore $ref siblings.\n-   missingRefs: now exception is always thrown. Pass empty schema with $id that should be ignored to ajv.addSchema.\n-   processCode: replaced with `code: {process: (code, schemaEnv: object) => string}`.\n-   sourceCode: replaced with `code: {source: true}`.\n-   schemaId: removed, as JSON Schema draft-04 is no longer supported.\n-   strictDefaults, strictKeywords, strictNumbers: it is default now, controlled with `strict`.\n-   uniqueItems: '\"uniqueItems\" keyword is always validated.\n-   unknownFormats: the same can be achieved by passing true for formats that need to be ignored via `ajv.addFormat` or `formats` option.\n-   cache and serialize: Map is used as cache, schema object as key.\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about these updates again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/20441","RelatedDescription":"Closed or merged PR \"build: update ajv to version 8.0.5\" (#20441)"},{"Id":"849365415","IsPullRequest":true,"CreatedAt":"2021-04-02T18:34:28","Actor":"alan-agius4","Number":"20440","RawContent":null,"Title":"build: update `@angular/dev-infra-private` package","State":"closed","Body":"This updates to a version that contains the following fix https://github.com/angular/angular/pull/41430","Url":"https://github.com/angular/angular-cli/pull/20440","RelatedDescription":"Closed or merged PR \"build: update `@angular/dev-infra-private` package\" (#20440)"},{"Id":"848992877","IsPullRequest":true,"CreatedAt":"2021-04-02T13:32:20","Actor":"alan-agius4","Number":"20436","RawContent":null,"Title":"ci: change renovate label to `target: minor`","State":"closed","Body":"This eliminates the requirement that when master is not a major we require to change the label.  `target: minor` is always get merged into master (and master only): https://github.com/angular/angular/blob/ed77bfea26e64bd24019812131e14f5dd450fcf5/docs/BRANCHES.md#pull-request-examples  hence using `target: major` is not needed in this case.","Url":"https://github.com/angular/angular-cli/pull/20436","RelatedDescription":"Closed or merged PR \"ci: change renovate label to `target: minor`\" (#20436)"},{"Id":"849004627","IsPullRequest":true,"CreatedAt":"2021-04-02T11:25:08","Actor":"alan-agius4","Number":"20437","RawContent":null,"Title":"ci: use new method for checking range of commits","State":"closed","Body":"See: https://github.com/angular/angular/commit/381ea9d7d4c88f75260dcc616822fc334ea700a8","Url":"https://github.com/angular/angular-cli/pull/20437","RelatedDescription":"Closed or merged PR \"ci: use new method for checking range of commits\" (#20437)"}],"ResultType":"GitHubIssue"},"material2-Issues":{"Issues":[{"Id":"852956605","IsPullRequest":false,"CreatedAt":"2021-04-08T00:59:44","Actor":"Leccho","Number":"22430","RawContent":null,"Title":"feat(theme): Allow more then only 3 colors in themes","State":"open","Body":"#### Feature Description\r\n\r\nAllow to add more then 3 colors in themes (primary/accent/warn).\r\n\r\n#### Use Case\r\n```scss\r\n// What's in use right now\r\n$theme: mat-light-theme(\r\n  (\r\n    color: (\r\n      primary: mat-palette($blue),\r\n      accent: mat-palette($green),\r\n      warn: mat-palette($red),\r\n    ),\r\n  )\r\n);\r\n\r\n// The feature request\r\n$theme: mat-light-theme(\r\n  (\r\n    color: (\r\n      primary: mat-palette($blue),\r\n      accent: mat-palette($green),\r\n      warn: mat-palette($red),\r\n      custom: mat-palette($custom),\r\n    ),\r\n  )\r\n);\r\n\r\n```\r\n","Url":"https://github.com/angular/components/issues/22430","RelatedDescription":"Open issue \"feat(theme): Allow more then only 3 colors in themes\" (#22430)"},{"Id":"852931834","IsPullRequest":true,"CreatedAt":"2021-04-08T00:03:09","Actor":"annieyw","Number":"22429","RawContent":null,"Title":"fix(material-experimental/mdc-progress-spinner): fix aria-valuenow","State":"open","Body":"Previously the aria-valuenow on mat-progress-spinner was being set through the mdc foundation which deals with values from 0 to 1. This caused the aria-valuenow to be incorrect (eg. 0.6 instead of 60).\r\n\r\nSolution: Use `mat-progress-spinner` as a wrapper element instead and have the different circle containers under a separate `mdc-circular-progress` div instead of right under `mat-progress-spinner`. This way the mdc foundation can interact with the underlying `mdc-circular-progress` div instead of the overall `mat-progress-spinner` selector.","Url":"https://github.com/angular/components/pull/22429","RelatedDescription":"Open PR \"fix(material-experimental/mdc-progress-spinner): fix aria-valuenow\" (#22429)"},{"Id":"852922365","IsPullRequest":false,"CreatedAt":"2021-04-07T23:37:47","Actor":"DmitryEfimenko","Number":"22428","RawContent":null,"Title":"bug(Autocomplete): unit test using MatAutocompleteHarness fails when karma browser is in the foreground","State":"open","Body":"#### Reproduction\r\n\r\n* Clone repo: https://github.com/DmitryEfimenko/mat-autocomplete-harness-issue\r\n* install deps\r\n\r\nSteps to reproduce:\r\n1. In the console: `npm run test`\r\n1. Make sure NOT to bring the opened Chrome window showing Jasmine tests into the visibility\r\n    If it opens in front, quickly click on some other window to bring the Chrome window to the background\r\n1. Observe: test succeeds\r\n1. make a small change in test (change spec name) to trigger test re-run\r\n1. Observe: test still succeeds\r\n1. Bring the Chrome window showing Jasmine tests into the visibility\r\n1. Observe: test fail\r\n \r\nRecording:\r\nhttps://user-images.githubusercontent.com/2098175/113951456-76f5b680-97c8-11eb-9893-5cca66ac1a8c.mp4\r\n \r\n#### Expected Behavior\r\n\r\nUnit test should pass.\r\nSpecifically, `autocompleteHarness.getOptions()` should return 3 options instead of 0\r\n\r\n#### Actual Behavior\r\n\r\nUnit test only passes while the Jasmine Chrome window is in the background\r\n\r\n#### Environment\r\n\r\n- Angular: 11.2.8\r\n- CDK/Material: 11.2.7\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Tested on:\r\n  - Windows\r\n  - Mac\r\n\r\n#### Notes\r\n\r\nI have created a StackBlitz repository with basically the same code, but can't reproduce the issue there:\r\nhttps://stackblitz.com/edit/harness-issue-2m77t5?file=src/app/autocomplete-harness-example.spec.ts\r\n","Url":"https://github.com/angular/components/issues/22428","RelatedDescription":"Open issue \"bug(Autocomplete): unit test using MatAutocompleteHarness fails when karma browser is in the foreground\" (#22428)"},{"Id":"852861186","IsPullRequest":true,"CreatedAt":"2021-04-07T22:06:59","Actor":"zelliott","Number":"22427","RawContent":null,"Title":"refactor(cdk/a11y): Refactor focus indicator theme mixins to match other theme mixins","State":"open","Body":"","Url":"https://github.com/angular/components/pull/22427","RelatedDescription":"Open PR \"refactor(cdk/a11y): Refactor focus indicator theme mixins to match other theme mixins\" (#22427)"},{"Id":"852734723","IsPullRequest":true,"CreatedAt":"2021-04-07T19:22:06","Actor":"crisbeto","Number":"22426","RawContent":null,"Title":"fix(material/core): expose mixin mentioned in the elevation guide","State":"open","Body":"We were mentioning the `mat-elevation-transition` mixin, but the new API wasn't exposing it. Also updates the imports to the new API.","Url":"https://github.com/angular/components/pull/22426","RelatedDescription":"Open PR \"fix(material/core): expose mixin mentioned in the elevation guide\" (#22426)"},{"Id":"852709721","IsPullRequest":true,"CreatedAt":"2021-04-07T19:05:43","Actor":"annieyw","Number":"22425","RawContent":null,"Title":"release: bump version to 12.0.0-next.6 w/ changelog","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/22425","RelatedDescription":"Closed or merged PR \"release: bump version to 12.0.0-next.6 w/ changelog\" (#22425)"},{"Id":"852708568","IsPullRequest":true,"CreatedAt":"2021-04-07T18:47:16","Actor":"crisbeto","Number":"22424","RawContent":null,"Title":"build: only run snapshot tests against main branch","State":"open","Body":"Limits the various snapshot tests to only run against the main branch. They are very likely to fail against the older branches, because by definition Angular's latest changes at HEAD might not be backwards-compatible.","Url":"https://github.com/angular/components/pull/22424","RelatedDescription":"Open PR \"build: only run snapshot tests against main branch\" (#22424)"},{"Id":"852470746","IsPullRequest":false,"CreatedAt":"2021-04-07T18:25:18","Actor":"bobbyoz","Number":"22417","RawContent":null,"Title":"feat(COMPONENT): TITLE ","State":"closed","Body":"#### Feature Description\n\nProvide a brief summary of the feature you would like to see.\n\n#### Use Case\n\nDescribe the use case(s) that the proposed feature would enable.\n(Patiance)","Url":"https://github.com/angular/components/issues/22417","RelatedDescription":"Closed issue \"feat(COMPONENT): TITLE \" (#22417)"},{"Id":"852676902","IsPullRequest":true,"CreatedAt":"2021-04-07T18:15:01","Actor":"devversion","Number":"22423","RawContent":null,"Title":"build: add workaround to support RBE on macOS and windows","State":"open","Body":"Adds a workaround for `bazel-toolchains` that allows us to\r\nuse RBE on macOS or Windows. This no longer works with the\r\nrecent upgrades to `bazel-toolchains`.\r\nt\r\nIt seems like we can remove this workaround once `bazel-toolchains`\r\nsupports cross-compilation, or if we start generating the\r\ntoolchain configurations our own (needs more investigation).","Url":"https://github.com/angular/components/pull/22423","RelatedDescription":"Open PR \"build: add workaround to support RBE on macOS and windows\" (#22423)"},{"Id":"852676354","IsPullRequest":true,"CreatedAt":"2021-04-07T18:14:34","Actor":"crisbeto","Number":"22422","RawContent":null,"Title":"fix(cdk/drag-drop): preserve initial transform inside drop list","State":"open","Body":"We have some logic that tries to preserve the original `transform` of an element, but we only apply it while standalone dragging. These changes expand the support to include elements inside a drop list, as well as the preview and placeholder.\r\n\r\nFixes #22407.","Url":"https://github.com/angular/components/pull/22422","RelatedDescription":"Open PR \"fix(cdk/drag-drop): preserve initial transform inside drop list\" (#22422)"},{"Id":"852646791","IsPullRequest":true,"CreatedAt":"2021-04-07T18:03:14","Actor":"annieyw","Number":"22420","RawContent":null,"Title":"release: bump version to 11.2.8 w/ changelog","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/22420","RelatedDescription":"Closed or merged PR \"release: bump version to 11.2.8 w/ changelog\" (#22420)"},{"Id":"852647866","IsPullRequest":false,"CreatedAt":"2021-04-07T17:46:30","Actor":"jhonToni","Number":"22421","RawContent":null,"Title":"How to increase form field error message scale","State":"open","Body":"#### What are you trying to do?\r\nI want to increase scale of the form field hints and errors by the form-field-theme but in the theme file the value is fixed.\r\nHow can I do ?\r\n[File link](https://github.com/angular/components/blob/master/src/material/form-field/_form-field-theme.scss#L143)\r\n\r\n","Url":"https://github.com/angular/components/issues/22421","RelatedDescription":"Open issue \"How to increase form field error message scale\" (#22421)"},{"Id":"852631359","IsPullRequest":false,"CreatedAt":"2021-04-07T17:25:09","Actor":"alicequiros","Number":"22419","RawContent":null,"Title":"bug(MatTree): MatTree with interactive elements in each row is not keyboard accessible using a screenreader","State":"open","Body":"#### Reproduction\r\n\r\nUse StackBlitz to reproduce your issue: \r\n- Components: https://angular-p4bmmy-zxpv6j.stackblitz.io\r\n\r\nSteps to reproduce:\r\n1. Navigate to StackBlitz link above on a Windows machine\r\n2. Use the keyboard to interact with the tree by tabbing to a node, pressing enter or space to expand it, then tabbing to a nested checkbox and selecting it. Do not use the mouse.\r\n3. Enable JAWS or NVDA screen reader\r\n4. Attempt to repeat step 2, using the keyboard to interact with the tree\r\n5. Manually expand the tree using the mouse then tab through the elements until you get to a nested checkbox. Press space or enter to select the checkbox. \r\n\r\n![image](https://user-images.githubusercontent.com/81990996/113909821-21101700-97a6-11eb-8031-6c4e615673e7.png)\r\n \r\n#### Expected Behavior\r\nEnabling a screen reader should not change the behavior when interacting with the tree using a keyboard. With a screen reader enabled, I should be able to expand a row, tab to a nested checkbox, and select the checkbox using only the keyboard. \r\n\r\n#### Actual Behavior\r\nHitting space or enter appears to send the click event to the first encountered input element, rather than the focused element. In the linked example, this can be either the textbox above the tree or an unfocused checkbox, depending on how you tab through the list. Either way, the focused element doesn't seem to receive the event.\r\n\r\n#### Environment\r\n\r\nJAWS v2021.2102.34 / NVDA v2020.4 (reproducible with both)\r\nWindows 10 Enterprise Version\r\nChrome Version 89.0.4389.114\r\n\r\nAlso tested with Firefox Version 87.0, but was not able to reproduce on FF","Url":"https://github.com/angular/components/issues/22419","RelatedDescription":"Open issue \"bug(MatTree): MatTree with interactive elements in each row is not keyboard accessible using a screenreader\" (#22419)"},{"Id":"852592256","IsPullRequest":true,"CreatedAt":"2021-04-07T17:16:00","Actor":"annieyw","Number":"22418","RawContent":null,"Title":"fix(material/datepicker): fix high contrast mixin name","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/22418","RelatedDescription":"Closed or merged PR \"fix(material/datepicker): fix high contrast mixin name\" (#22418)"},{"Id":"852280080","IsPullRequest":false,"CreatedAt":"2021-04-07T10:50:26","Actor":"gobi004","Number":"22416","RawContent":null,"Title":"Stepper should provide an click event for step changes","State":"open","Body":"Bug, feature request, or proposal:\r\nFeature request\r\n\r\n\r\nWhat is the expected behavior?\r\nAdd an click event that gets triggered when the step is clicked in the stepper component\r\n\r\nWhat is the current behavior?\r\nThere's no such event.\r\n\r\nWhat are the steps to reproduce?\r\nNA\r\n\r\nWhat is the use-case or motivation for changing an existing behavior?\r\nWe have some business logic that we need to save at each step. We have to show the message on click of step \"Are you confirm?\", we implemented with button click but unable to do in step click, and it's moving forward to next step on clicking of step.\r\n\r\nWhich versions of Angular, Material, OS, TypeScript, browsers are affected?\r\nAngular 9+\r\nAngular material 11.2\r\n\r\nIs there anything else we should know?\r\nTried to use selectionChange event, no use.its working after the click event. i want to show or prevent before the change event.  \r\n\r\n<code><mat-horizontal-stepper (selectionChange)=\"selectionChange($event)\">\r\n<mat-step (click)=\"alert()\"></mat-step></mat-horizontal-stepper></code>\r\n\r\nneeds to add click event on step like above. As of there is no option like that","Url":"https://github.com/angular/components/issues/22416","RelatedDescription":"Open issue \"Stepper should provide an click event for step changes\" (#22416)"},{"Id":"852024153","IsPullRequest":true,"CreatedAt":"2021-04-07T05:41:13","Actor":"annieyw","Number":"22415","RawContent":null,"Title":"build: fix broken import paths","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/22415","RelatedDescription":"Closed or merged PR \"build: fix broken import paths\" (#22415)"},{"Id":"851898995","IsPullRequest":true,"CreatedAt":"2021-04-07T00:20:47","Actor":"zelliott","Number":"22414","RawContent":null,"Title":"refactor(cdk/a11y): Move component-specific focus indicator rendering to each component","State":"open","Body":"The motivation behind this PR is two-fold:\r\n\r\n1. It's not ideal to have component-specific DOM structure leaking into the global focus indicators stylesheet. We've had a number of bugs come up where tweaking a component's DOM structure has led to focus indicators breaking when we forget to update the stylesheet. Thus, this PR removes the component-specific focus indicator rendering conditions from the global stylesheet, and instead, moves this logic into the components that need it.\r\n2. If a developer wants to add Material focus indicators to a new custom component, they can manually add the `.mat-focus-indicator` class to the appropriate element. However, currently we expect this element to be the actual element that receives focus. We provide no mechanism for a developer to add a focus indicator to an element that doesn't actually receive focus, but should render a focus indicator when some associated element receives focus (e.g. see `mat-checkbox`). This PR introduces a new public CSS class `.mat-focus-indicator-render` that developers can use to \"manually\" render a focus indicator in these cases.\r\n\r\nThe downside to this change is that a handful of components now have `focus` and `blur` event listeners bound to them, in order to update the `.mat-focus-indicator-render` class properly. We could avoid these event listeners by instead updating these components to check something like `inputElement === document.activeElement`, but I wasn't sure which to prefer.","Url":"https://github.com/angular/components/pull/22414","RelatedDescription":"Open PR \"refactor(cdk/a11y): Move component-specific focus indicator rendering to each component\" (#22414)"},{"Id":"851726676","IsPullRequest":false,"CreatedAt":"2021-04-06T19:00:42","Actor":"bq007","Number":"22413","RawContent":null,"Title":"[Mat Table] Voiceover is not announcing mat-table column count correctly in forward navigation.","State":"open","Body":"#### Description\r\n\r\nWhen forward navigating to Mat Table, the VoiceOver screen speaker announces table columns as 0. \r\n![Screen Shot for mat table bug](https://user-images.githubusercontent.com/67595364/113763890-39216100-96e8-11eb-96cc-91a9788843f0.png)\r\n\r\n\r\n#### Reproduction\r\nUse Angular Material demos for mat table to reproduce the issue: \r\nhttps://material.angular.io/components/table/examples#table-dynamic-columns\r\n\r\nSteps to reproduce:\r\n1. Enable VoiceOver screen speaker. \r\n2. Open [Angular Material demos for mat table](https://material.angular.io/components/table/examples#table-dynamic-columns)\r\n3. Forward navigate to the the main table of \"Table dynamically changing the columns displayed\" demo by Caps lock+Arrow keys.\r\n4. Listen to VoiceOver screen speaker announcing the table columns count.  \r\n \r\n \r\n#### Expected Behavior\r\n\r\nThe VoiceOver screen speaker should announce the table columns count correctly.\r\n\r\n#### Actual Behavior\r\n\r\nThe VoiceOver screen speaker should announce the table columns count as 0 --\"Table 0 column 11 rows\".\r\nEven manually adding [\"aria-colcount\"](https://www.digitala11y.com/aria-colcountproperties/) doesn't fix the issue. \r\n\r\n#### Environment\r\n\r\n- AngularJS: 10.0.0\r\n- AngularJS Material: 10.0.0\r\n- OS: macOS Big Sur Version 11.2.1\r\n- Browsers: Chrome Version 89.0.4389.90 (Official Build) (x86_64)\r\n","Url":"https://github.com/angular/components/issues/22413","RelatedDescription":"Open issue \"[Mat Table] Voiceover is not announcing mat-table column count correctly in forward navigation.\" (#22413)"},{"Id":"851724687","IsPullRequest":true,"CreatedAt":"2021-04-06T18:57:44","Actor":"wagnermaciel","Number":"22412","RawContent":null,"Title":"docs: add missing standards for building components","State":"open","Body":"* Naming conventions for the selectors of components & directives\r\n* The tests & public APIs for MDC components should mirror the non-MDC version\r\n* Public properties should use coercion","Url":"https://github.com/angular/components/pull/22412","RelatedDescription":"Open PR \"docs: add missing standards for building components\" (#22412)"},{"Id":"851121662","IsPullRequest":true,"CreatedAt":"2021-04-06T18:32:48","Actor":"crisbeto","Number":"22405","RawContent":null,"Title":"build: bump MDC canary version and fix snapshot check","State":"closed","Body":"Updates to the latest MDC canary version and resolves a build error in the snapshot version check.","Url":"https://github.com/angular/components/pull/22405","RelatedDescription":"Closed or merged PR \"build: bump MDC canary version and fix snapshot check\" (#22405)"},{"Id":"851569738","IsPullRequest":true,"CreatedAt":"2021-04-06T15:58:16","Actor":"mmalerba","Number":"22410","RawContent":null,"Title":"feat(cdk/testing): create a webdriver harness environment","State":"open","Body":"","Url":"https://github.com/angular/components/pull/22410","RelatedDescription":"Open PR \"feat(cdk/testing): create a webdriver harness environment\" (#22410)"},{"Id":"851144224","IsPullRequest":false,"CreatedAt":"2021-04-06T15:49:57","Actor":"amitapatiyal24","Number":"22406","RawContent":null,"Title":"drag-drop + virtual scroll: Draggable item loses its position when new list item is rendered in the DOM as a result of virtual scrollingbug","State":"closed","Body":"#### Reproduction\r\n\r\nUse StackBlitz to reproduce your issue: \r\n- Components: https://stackblitz.com/fork/components-issue\r\n- Harnesses: https://stackblitz.com/fork/harness-issue\r\n\r\nSteps to reproduce:\r\n1.  \r\n        <cdk-virtual-scroll-viewport  cdkDropList  itemSize=\"25\" scrollViewport cdkDropList\r\n      class=\"viewport ps blue-scrollbar member-box\" [perfectScrollbar]  (scrolledIndexChange)=\"nextBatch()\"\r\n        [cdkDropListData] = \"selectedDimension?.memberSelections\" (cdkDropListDropped)=\"onDrag($event)\" [style.height]=\"memberHeight\">         \r\n        <li *cdkVirtualFor=\"let members of memberSelections \" cdkDrag>{{member}}</li>\r\n</cdk-virtual-scroll-viewport>\r\n</ul\r\n\r\n\r\n          \r\n2. public onDrag(event: CdkDragDrop<string[]>): void {\r\n    if (event.previousContainer === event.container) {\r\n      const PREV_IND_WITH_OFFSET: number = this.range ? this.range.start + event.previousIndex  : event.previousIndex;\r\n      const CUR_IND_WITH_OFFSET: number = this.range ? this.range.start + event.currentIndex : event.currentIndex ;\r\n      moveItemInArray(  this.selectedDimension.memberSelections, PREV_IND_WITH_OFFSET, CUR_IND_WITH_OFFSET);\r\n      this.memberSelections = [...this.memberSelections];\r\n    } else {\r\n      transferArrayItem(event.previousContainer.data,\r\n        event.container.data,\r\n        event.previousIndex,\r\n        event.currentIndex);\r\n    }\r\n    this.val.emit(false);\r\n  }\r\n  public nextBatch(){\r\n    this.virtualForOf.viewChange.subscribe((range: ListRange) => this.range = range);\r\n    console.log(this.range);\r\n}\r\n \r\n \r\n#### Expected Behavior\r\n\r\nWhat behavior were you expecting to see?\r\nlist drag and drop for virtual scroll with a large dataset. e.g.(1000 of records)\r\n\r\n#### Actual Behavior\r\n\r\nWhat behavior did you actually see?\r\nI am using CDK virtual scroll and CDK drag/drop together for rendering the large list. When I am doing the drag and drop in the middle of the list, the dragged item is coming back to its original position. I have tried to solve this issue using the range, but still not able to get the expected result. \r\n\r\n#### Environment\r\nangular11\r\n- Angular:\r\n- CDK/Material:\r\n- Browser(s):\r\n- Operating System (e.g. Windows, macOS, Ubuntu): \r\n","Url":"https://github.com/angular/components/issues/22406","RelatedDescription":"Closed issue \"drag-drop + virtual scroll: Draggable item loses its position when new list item is rendered in the DOM as a result of virtual scrollingbug\" (#22406)"},{"Id":"851320350","IsPullRequest":false,"CreatedAt":"2021-04-06T15:47:00","Actor":"iammurtaza53","Number":"22408","RawContent":null,"Title":"Hide a particular column in mat table in condition of if else ","State":"closed","Body":"I am trying to save my mat-table in pdf file  but want specific column to be printed in pdf file","Url":"https://github.com/angular/components/issues/22408","RelatedDescription":"Closed issue \"Hide a particular column in mat table in condition of if else \" (#22408)"},{"Id":"851401987","IsPullRequest":false,"CreatedAt":"2021-04-06T13:02:23","Actor":"debuggerpk","Number":"22409","RawContent":null,"Title":"bug(material-experimental): cannot compile scss after upgrade.","State":"open","Body":"Unable to compile scss after upgrading to `angular/core`, `angular/material` & `@angular/material-experiemental` with error\r\n\r\n```\r\n17 ‚îÇ ‚îå       @include mdc-list-deprecated-item-disabled-text-color(\r\n18 ‚îÇ ‚îÇ         $mdc-list-deprecated-text-disabled-color, $query: $mat-theme-styles-query);\r\n   ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ^\r\n```\r\n\r\n#### Reproduction\r\n\r\nUse StackBlitz to reproduce your issue: \r\n- Components: https://stackblitz.com/fork/components-issue\r\n- Harnesses: https://stackblitz.com/fork/harness-issue\r\n\r\nSteps to reproduce:\r\n\r\n```\r\nng update @angular/core\r\nng update @angular/material --force\r\nyarn remove @angular/material-experimental material-components-web\r\nyarn add @angular/material-experimental material-components-web\r\nng serve\r\n``` \r\n \r\n \r\n#### Expected Behavior\r\n\r\nWhat behavior were you expecting to see?\r\nIt should compile succesfully.\r\n\r\n\r\n#### Actual Behavior\r\n\r\nThrows out a scss error.\r\n\r\n```\r\nError: ./apps/ng-outpost/src/styles.scss\r\nModule build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js):\r\nModuleBuildError: Module build failed (from ./node_modules/sass-loader/dist/cjs.js):\r\nSassError: Undefined mixin.\r\n   ‚ï∑\r\n17 ‚îÇ ‚îå       @include mdc-list-deprecated-item-disabled-text-color(\r\n18 ‚îÇ ‚îÇ         $mdc-list-deprecated-text-disabled-color, $query: $mat-theme-styles-query);\r\n   ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ^\r\n   ‚ïµ\r\n  node_modules/@angular/material-experimental/mdc-core/option/_option-theme.scss 17:7  @content\r\n  node_modules/@angular/material-experimental/mdc-helpers/_mdc-helpers.scss 228:3      mat-using-mdc-theme()\r\n  node_modules/@angular/material-experimental/mdc-core/option/_option-theme.scss 12:3  mat-mdc-option-color()\r\n  node_modules/@angular/material-experimental/mdc-core/option/_option-theme.scss 72:7  @content\r\n  node_modules/@angular/material/core/theming/_theming.scss 342:3                      mat-private-check-duplicate-theme-styles()\r\n  node_modules/@angular/material-experimental/mdc-core/option/_option-theme.scss 66:3  mat-mdc-option-theme()\r\n  node_modules/@angular/material-experimental/mdc-core/_core-theme.scss 12:5           @content\r\n  node_modules/@angular/material/core/theming/_theming.scss 342:3                      mat-private-check-duplicate-theme-styles()\r\n  node_modules/@angular/material-experimental/mdc-core/_core-theme.scss 11:3           mat-mdc-core-theme()\r\n  node_modules/@angular/material-experimental/mdc-theming/_all-theme.scss 27:5         @content\r\n  node_modules/@angular/material/core/theming/_theming.scss 342:3                      mat-private-check-duplicate-theme-styles()\r\n  node_modules/@angular/material-experimental/mdc-theming/_all-theme.scss 26:3         angular-material-mdc-theme()\r\n  apps/ng-outpost/src/styles.scss 196:1                                                root stylesheet\r\n```\r\n\r\nMy `styles.scss` at line 196.1 is\r\n\r\n```scss\r\n@include angular-material-mdc-theme($theme);\r\n```\r\n\r\nusual stuff going in the `scss` file.\r\n\r\n```scss\r\n$theme: mat-light-theme(\r\n  (\r\n    color: (\r\n      primary: $theme-primary,\r\n      accent: $theme-accent,\r\n      // warn: $slogr-warn,\r\n    ),\r\n    typography: $typography-config,\r\n    density: minimum,\r\n  )\r\n);\r\n\r\n// Theme Init\r\n@include angular-material-theme($theme);\r\n@include angular-material-mdc-theme($theme);\r\n\r\n\r\n```\r\n\r\n#### Environment\r\n\r\n- Angular: 11.2.7\r\n- CDK/Material: 11.2.7\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): macOS\r\n","Url":"https://github.com/angular/components/issues/22409","RelatedDescription":"Open issue \"bug(material-experimental): cannot compile scss after upgrade.\" (#22409)"},{"Id":"851281330","IsPullRequest":false,"CreatedAt":"2021-04-06T10:22:30","Actor":"anirudhvarma12","Number":"22407","RawContent":null,"Title":"cdkDrag inside drop list doesn't preserve `transform` value","State":"open","Body":"<!--------\r\n\r\nThe Angular team can't provide general troubleshooting help. However, the extended community of\r\nusers can provide more help: \r\n\r\nStackOverflow: https://stackoverflow.com/questions/tagged/angular-material2\r\nGitter: https://gitter.im/angular/material2\r\nGoogle Groups: https://groups.google.com/forum/#!forum/angular-material2\r\n\r\nIssues should capture only bug reports and feature requests. However, we understand that \r\nit is not always clear whether an issue is caused by a bug or incorrect usage of a feature/component.\r\n\r\nMost support requests will be automatically closed. If the answer is quickly obvious, though, we \r\nmight be able to provide a brief answer.\r\n\r\n-------->\r\n\r\n\r\n#### What are you trying to do?\r\nI am trying to absolutely position draggable elements inside a drop container using transform. Something like - \r\n\r\n```html\r\n<div [style.transform]=\"transformString\" cdkDrag>...</div>\r\n```\r\n\r\nBefore upgrading to  cdk v9, this worked perfectly. However, after upgrading, it seems like the transform style is overwritten by the CDK.\r\n\r\n#### What troubleshooting steps have you tried?\r\n\r\nAfter some digging, it seems like [this](https://github.com/angular/components/blob/5384550ae593ad58a66a42f70d1017494681711f/src/cdk/drag-drop/drop-list-ref.ts#L644) code is performing the reset.\r\n\r\nI tried using `cdkDragFreeDragPosition`, but that only works in the absence of a drop container. \r\n\r\nIt also seems like [this PR](https://github.com/angular/components/pull/18145), should fix the issue?\r\n\r\nIs there any other recommended way of setting this?\r\n\r\nWhat are you seeing that does not match your expectations? \r\n\r\n#### Reproduction\r\nN/A\r\n#### Environment\r\n\r\n- Angular: 9.1.4\r\n- CDK/Material: 9.2.4\r\n- Browser(s): Firefox\r\n- Operating System (e.g. Windows, macOS, Ubuntu):  MacOS Catalina\r\n","Url":"https://github.com/angular/components/issues/22407","RelatedDescription":"Open issue \"cdkDrag inside drop list doesn't preserve `transform` value\" (#22407)"},{"Id":"851595397","IsPullRequest":false,"CreatedAt":"2021-04-06T07:30:14","Actor":"hafidk","Number":"22411","RawContent":null,"Title":"DateAdapter.setLocale defaults to certain languages","State":"open","Body":"## Bug Report\r\n\r\nI'm hitting my head against a wall here, thing is I've been using dateAdapter.setLocale to change the language of the **mat-datepicker** on the construction, it works so far for all the languages I've tried except two: **Basque and Galician**. According to the angular docs, these two locales are already integrated so it shouldn't be a problem, but when I try to set the locale for these it defaults the to Catalan all the text in the datepicker (specifically the months), I've tested different langs and these are the only ones where I have issues.\r\n\r\n## Demo and steps to reproduce the issue\r\n\r\nJust use the setLocale function from the dateAdapter and try to set the Basque (\"eu\") or Galician (\"gl\") locales, it will default to Catalan (\"ca\").\r\n\r\n#### Detailed Reproduction Steps\r\n```\r\nconstructor(private dateAdapter: DateAdapter<NativeDateAdapter>, private translate: TranslateService) { \r\n  this.dateAdapter.setLocale(this.translate.currentLang); \r\n}\r\n```\r\n### Explain the expected behavior\r\n\r\nThe translated text should appear on the specified lang.\r\n\r\n### Explain the current behavior\r\n\r\nThe translated text defaults to catalan when using those two langs, moreover, the setter works as it should be (after setLocale, the dateAdapter object has the lang property correctly)\r\n\r\n### Discuss the use-case or motivation for changing the existing behavior\r\n\r\n\r\n\r\n### List the affected versions of AngularJS, Material, OS, and browsers\r\n<!-- Please note that only issues related to AngularJS 1.x and AngularJS Material 1.x should be submitted here.\r\nPlease submit Angular Material and CDK questions [here](https://groups.google.com/forum/#!forum/angular-material2)\r\nand issues [here](https://github.com/angular/components/issues).\r\n-->\r\n@angular/cdk                    11.2.4\r\n@angular/cli                    11.2.6\r\n@angular/material               10.2.7\r\n@schematics/angular             11.2.6\r\n@schematics/update              0.1102.6\r\nrxjs                            6.6.3\r\ntypescript                      4.1.5\r\n\r\n\r\n### Add anything else we should know\r\n\r\nI've already tried to set them according to the language codes, such as:\r\n\r\n```\r\nthis.dateAdapter.setLocale(\"eu\");\r\nthis.dateAdapter.setLocale(\"eu-ES\");\r\nthis.dateAdapter.setLocale(\"EU\");\r\n```\r\n\r\nBut to no avail.\r\n\r\n#### Stack Trace\r\n\r\n#### Screenshots\r\n\r\n","Url":"https://github.com/angular/components/issues/22411","RelatedDescription":"Open issue \"DateAdapter.setLocale defaults to certain languages\" (#22411)"},{"Id":"851049292","IsPullRequest":true,"CreatedAt":"2021-04-06T06:34:24","Actor":"damingerdai","Number":"22404","RawContent":null,"Title":"build: update to husky@6","State":"open","Body":"With typicode/husky#890, the recommended way to install husky is in the\r\n`prepare` script instead of the `postinstall`. This commit moves\r\nthe husky installation to the `prepare` script to align with the new\r\nrecommendation.","Url":"https://github.com/angular/components/pull/22404","RelatedDescription":"Open PR \"build: update to husky@6\" (#22404)"},{"Id":"850472121","IsPullRequest":true,"CreatedAt":"2021-04-05T16:04:51","Actor":"crisbeto","Number":"22403","RawContent":null,"Title":"fix(material/form-field): handle datepicker inputs in harness","State":"open","Body":"Resolves a TODO about supporting datepicker inputs in the form field harness.\r\n\r\nAlso fixes an error that is thrown when the date range input is combined with an MDC-based form field.","Url":"https://github.com/angular/components/pull/22403","RelatedDescription":"Open PR \"fix(material/form-field): handle datepicker inputs in harness\" (#22403)"},{"Id":"850376336","IsPullRequest":true,"CreatedAt":"2021-04-05T13:43:14","Actor":"crisbeto","Number":"22402","RawContent":null,"Title":"build: add commit message scope for multiple components","State":"open","Body":"As discussed, adds a new `multiple` scope for commits that cover more than one area.","Url":"https://github.com/angular/components/pull/22402","RelatedDescription":"Open PR \"build: add commit message scope for multiple components\" (#22402)"},{"Id":"850359270","IsPullRequest":true,"CreatedAt":"2021-04-05T13:15:28","Actor":"crisbeto","Number":"22401","RawContent":null,"Title":"docs(material/stepper): add live example of responsive stepper","State":"open","Body":"We recently added support for controlling the orientation of a stepper dynamically. These changes include a live of example of a responsive stepper since it's the most common use case.","Url":"https://github.com/angular/components/pull/22401","RelatedDescription":"Open PR \"docs(material/stepper): add live example of responsive stepper\" (#22401)"}],"ResultType":"GitHubIssue"}},"RunOn":"2021-04-08T05:30:05.0391628Z","RunDurationInMilliseconds":2378}