{"Data":{"Angular-Issues":{"Issues":[{"Id":"2276049991","IsPullRequest":true,"CreatedAt":"2024-05-02T21:46:36","Actor":"dgp1130","Number":"55639","RawContent":null,"Title":"refactor(devtools): set `key` in `manifest.chrome.json`","State":"closed","Body":"This key comes from the release build of the Chrome extension. Setting it here configures the extension ID of a local build to match the extension ID of the public release. This makes Chrome recognize that local builds are the same extension leading to more intuitive behavior. It's also useful for allowlists of extension IDs to keep the local ID consistent.","Url":"https://github.com/angular/angular/pull/55639","RelatedDescription":"Closed or merged PR \"refactor(devtools): set `key` in `manifest.chrome.json`\" (#55639)"},{"Id":"2274329958","IsPullRequest":true,"CreatedAt":"2024-05-02T21:42:03","Actor":"AndrewKushnir","Number":"55625","RawContent":null,"Title":"refactor(core): mark `@defer` APIs as stable","State":"closed","Body":"This commit removes the `@developerPreview` annotation from the `@defer` APIs, effectively promoting them (and the entire feature!) to stable. Relevant guides on AIO and ADEV do not have a \"developer preview\" note, so no changes to the guides were required.\r\n\r\nThanks everyone for providing the feedback and helping to improve this feature!\r\n\r\nSpecial thanks (and congrats!) to @crisbeto @clydin @thePunderWoman for working on this feature and getting it to the stable state ðŸŽ‰  \r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/55625","RelatedDescription":"Closed or merged PR \"refactor(core): mark `@defer` APIs as stable\" (#55625)"},{"Id":"2276448934","IsPullRequest":false,"CreatedAt":"2024-05-02T20:47:24","Actor":"jonahbron","Number":"55647","RawContent":null,"Title":"Computed signals and Effects should produce runtime warning if dependencies reaches zero","State":"open","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\r\n\r\nCore (signals)\r\n\r\n### Description\r\n\r\nAn easy pitfall to encounter with computed signals and effects is creating a function that only gets called once because it depends on non-signal conditions.  Especially for devs new to signals (almost everyone at this point), it can be a counter-intuitive problem source to debug.  And there are already issues reported that can be traced to this.\r\n\r\nhttps://github.com/angular/angular/issues/51180\r\n\r\nHere's some example code that I wrote that caused non-obvious problems for me:\r\n\r\n```ts\r\nconstructor() {\r\n  effect(() => {\r\n    this.calendarRef?.setInput('selected', this.range());\r\n  });\r\n}\r\n```\r\n\r\n`this.range` is a signal, and `this.calendarRef` is possibly undefined.  I expected any changes to `range` to trigger the effect, but the optional chaining on the `calendarRef` (which was undefined) prevented `range()` from ever being evaluated and thus tracked as a dependency.  And I believe that even if it wasn't undefined for the first run, if it _ever_ reached undefined while the effect was evaluated, the effect would never run again.\r\n\r\n### Proposed solution\r\n\r\n_At the least_, if the first run of a computed() or effect() callback produces no dependencies (invokes no signals), a runtime warning should show in the console to warn the user that their computed signal/effect will not run again.\r\n\r\nIt might also be useful to warn them if their dependency count drops from >1 to 0, which again means the computed signal/effect will not be evaluated again.\r\n\r\nSimilar to `allowSignalWrites`, the dev could remove these training-wheels warnings by positively expressing that they are intentionally designing a callback that will only be called once/stop being updated at some point.\r\n\r\n### Alternatives considered\r\n\r\nIt would likely be harder to implement, but static code analysis could detect the _possibility_ of a zero-dependency computed signal/effect.\r\n\r\nRegardless of whether a warning is added, documentation talking about this pitfall would be useful; currently not present as far as I can tell.","Url":"https://github.com/angular/angular/issues/55647","RelatedDescription":"Open issue \"Computed signals and Effects should produce runtime warning if dependencies reaches zero\" (#55647)"},{"Id":"2276324052","IsPullRequest":true,"CreatedAt":"2024-05-02T20:38:49","Actor":"crisbeto","Number":"55645","RawContent":null,"Title":"[Path port] fix(compiler): add math elements to schema","State":"closed","Body":"**Note:** this is a patch port of the changes from #55631.\r\n\r\nFixes that we didn't have the MathML elements in the schema. Note that we can't discover which tag names are available by looking at globally-available classes, because all MathML elements are `MathMLElement` rather than something like `SVGCircleElement`. As such, I ended up having to hardcode the currently-available tags.\r\n\r\nFixes #55608.","Url":"https://github.com/angular/angular/pull/55645","RelatedDescription":"Closed or merged PR \"[Path port] fix(compiler): add math elements to schema\" (#55645)"},{"Id":"2276220755","IsPullRequest":true,"CreatedAt":"2024-05-02T20:37:45","Actor":"dgp1130","Number":"55643","RawContent":null,"Title":"release: bump Angular DevTools to 1.0.15","State":"closed","Body":"","Url":"https://github.com/angular/angular/pull/55643","RelatedDescription":"Closed or merged PR \"release: bump Angular DevTools to 1.0.15\" (#55643)"},{"Id":"2276404685","IsPullRequest":false,"CreatedAt":"2024-05-02T20:16:20","Actor":"yamidnozu","Number":"55646","RawContent":null,"Title":"Mejorar uso de Pipes","State":"open","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\n\n_No response_\n\n### Description\n\nMejora de rendimiento en pipes\n\n### Proposed solution\n\nA travÃ©s de seteo de caracteres se propone la mejora de creaciÃ³n de pipes y renderizado con mejor performance\n\n### Alternatives considered\n\nNinguna","Url":"https://github.com/angular/angular/issues/55646","RelatedDescription":"Open issue \"Mejorar uso de Pipes\" (#55646)"},{"Id":"2275484879","IsPullRequest":false,"CreatedAt":"2024-05-02T19:42:42","Actor":"not-my-profile","Number":"55633","RawContent":null,"Title":"Template parser produces inaccurate source spans when `preserveWhitespaces` is false or omitted","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\ncompiler\r\n\r\n### Description\r\n\r\n```js\r\nimport { Interpolation, TmplAstBoundText, parseTemplate } from \"@angular/compiler\";\r\n\r\nconst html = `{{'foo' | bar}}  {{'foo' | bar}}`;\r\nconst template = parseTemplate(html, \"fake url\");\r\n\r\nfor (const node of template.nodes) {\r\n  if (node instanceof TmplAstBoundText) {\r\n    if (node.value.ast instanceof Interpolation) {\r\n      for (const expr of node.value.ast.expressions) {\r\n        console.log(html.slice(expr.sourceSpan.start, expr.sourceSpan.end));\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nPrints the following:\r\n\r\n```\r\n'foo' | bar\r\n{'foo' | ba\r\n```\r\n\r\nAs you can see the `sourceSpan` of the second `BindingPipe` is incorrect. Inserting more spaces between the two interpolations makes the spans even more off.\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\nObserved with @angular/compiler 17.3.7.","Url":"https://github.com/angular/angular/issues/55633","RelatedDescription":"Closed issue \"Template parser produces inaccurate source spans when `preserveWhitespaces` is false or omitted\" (#55633)"},{"Id":"2274407259","IsPullRequest":true,"CreatedAt":"2024-05-02T19:33:30","Actor":"twerske","Number":"55628","RawContent":null,"Title":"docs: style the nav based on version type","State":"closed","Body":"Adds styling based on the version mode of the selected nav in the drop down.\r\nFollow up needed to make versions below the current as deprecated.\r\n\r\nAlso removes the beta from the nav\r\n\r\n","Url":"https://github.com/angular/angular/pull/55628","RelatedDescription":"Closed or merged PR \"docs: style the nav based on version type\" (#55628)"},{"Id":"2276231316","IsPullRequest":false,"CreatedAt":"2024-05-02T18:39:30","Actor":"Eraldo","Number":"55644","RawContent":null,"Title":"input signal effects are not run when attaching a directive to an IonButton","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\ncore, elements\r\n\r\n### Description\r\n\r\nExpected:\r\nRunning an effect on an input signal within a directive that is attached to an IonButton should trigger/run the effect code.\r\n\r\nActual:\r\nThe effect is not run.\r\n\r\nIt works just fine if attached to other html tags.\r\n\r\n1. Open the reproduction url.\r\n2. Follow on screen instructions.\r\n\r\nInsight:\r\nThis is where the current behavior is probably sourced => https://github.com/ionic-team/ionic-framework/blob/ba5cebf2542c8fbd6c29af593a31a742e0caba1e/packages/angular/src/directives/proxies.ts#L357\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps://stackblitz.com/edit/stackblitz-starters-gkckxf?file=src%2Fmain.ts\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular version: 17.3.4\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\nIssue has been confirmed by \"JB Nizet\" and \"Matthieu Riegler\" and I was encouraged to create a bug report here.","Url":"https://github.com/angular/angular/issues/55644","RelatedDescription":"Open issue \"input signal effects are not run when attaching a directive to an IonButton\" (#55644)"},{"Id":"2275001273","IsPullRequest":true,"CreatedAt":"2024-05-02T18:12:19","Actor":"crisbeto","Number":"55631","RawContent":null,"Title":"fix(compiler): add math elements to schema","State":"closed","Body":"Fixes that we didn't have the MathML elements in the schema. Note that we can't discover which tag names are available by looking at globally-available classes, because all MathML elements are `MathMLElement` rather than something like `SVGCircleElement`. As such, I ended up having to hardcode the currently-available tags.\r\n\r\nFixes #55608.","Url":"https://github.com/angular/angular/pull/55631","RelatedDescription":"Closed or merged PR \"fix(compiler): add math elements to schema\" (#55631)"},{"Id":"2274669979","IsPullRequest":true,"CreatedAt":"2024-05-02T18:11:02","Actor":"cexbrayat","Number":"55630","RawContent":null,"Title":"docs: typos in NG0956","State":"closed","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the new behavior?\r\nTypos in NG0956 are fixed\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [X] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/55630","RelatedDescription":"Closed or merged PR \"docs: typos in NG0956\" (#55630)"},{"Id":"2276170612","IsPullRequest":true,"CreatedAt":"2024-05-02T18:06:45","Actor":"JeanMeche","Number":"55642","RawContent":null,"Title":"docs(docs-infra): move back all xterm code to the fw repo","State":"open","Body":"Previously, the `@angular/docs` package had `xterm` as dependency but wasn't referencing it. It only had dedicated styles. This commit moves back the styles to the FW repo as it is only used here.\r\n\r\n* Pending angular/dev-infra#2043\r\n\r\n","Url":"https://github.com/angular/angular/pull/55642","RelatedDescription":"Open PR \"docs(docs-infra): move back all xterm code to the fw repo\" (#55642)"},{"Id":"2276162185","IsPullRequest":false,"CreatedAt":"2024-05-02T18:03:11","Actor":"Flo0806","Number":"55641","RawContent":null,"Title":"Angulars Service Worker - \"beforePushNotification\"","State":"open","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\r\n\r\nAngular 17.3.x and @angular/pwa\r\n\r\n### Description\r\n\r\nAngulars `ngsw-worker.js` shows notification at any time a \"push\" event occurs. However, receiving push notifications when the app is open and in the foreground is not a good user experience. Angular's service worker does not offer a direct way to determine whether a notification should finally be displayed or not. The \"onPush\" method cannot be overwritten, at most it can be extended - which does not lead to the desired result.\r\n\r\nI tried things with a custom service worker like this:\r\n\r\n```\r\nself.addEventListener(\"push\", (event) => {\r\n  console.log(\"Push event detected, but notifications are suppressed.\");\r\n  event.preventDefault();\r\n  event.stopPropagation();\r\n\r\n  event.waitUntil(\r\n    (async function () {\r\n\r\n      console.log(\"Received push\", event.data.json());\r\n      event.data.json().notification.title = null;\r\n\r\n      return;\r\n    })()\r\n  );\r\n});\r\n\r\nimportScripts(\"./ngsw-worker.js\");\r\n```\r\n\r\nbut without success (It doesn't matter whether `importScripts` is at the top or at the bottom)\r\n\r\n### Proposed solution\r\n\r\nA option to set, or a optional function which will return a boolean, like this:\r\n\r\n```\r\nthis.swPush.beforePushNotification = () => { return false; }\r\n```\r\n\r\n### Alternatives considered\r\n\r\nA way to override functions like \"onPush\" in the Service Worker itself.","Url":"https://github.com/angular/angular/issues/55641","RelatedDescription":"Open issue \"Angulars Service Worker - \"beforePushNotification\"\" (#55641)"},{"Id":"2274297049","IsPullRequest":true,"CreatedAt":"2024-05-02T18:00:42","Actor":"atscott","Number":"55624","RawContent":null,"Title":"Revert \"fix(core): render hooks should not specifically run outside tâ€¦","State":"closed","Body":"â€¦he Angular zone (#55399)\"\r\n\r\nThis reverts commit 7e89753eeff24f52d39fef92600293bf1700cd1b.\r\n\r\nRunning render hooks inside the zone is specifically problematic for `afterRender` hooks. If the callback has async task, it would cause an infinite change detection. In addition, updating state in render hooks is generally discourages and certainly should update state in a way that notifies Angular of the change (either via signal or with `markForCheck`) rather than relying on ZoneJS to pick it up (which would only work if the change is done inside an async task).\r\n","Url":"https://github.com/angular/angular/pull/55624","RelatedDescription":"Closed or merged PR \"Revert \"fix(core): render hooks should not specifically run outside tâ€¦\" (#55624)"},{"Id":"2274293807","IsPullRequest":true,"CreatedAt":"2024-05-02T17:58:32","Actor":"atscott","Number":"55623","RawContent":null,"Title":"fix(core): afterRender hooks registered outside change detection can â€¦","State":"closed","Body":"â€¦mark views dirty\r\n\r\nThis commit fixes an error in the looping logic of `ApplicationRef.tick` when the tick skips straight to render hooks. In this case, if a render hook makes a state update that requires a view refresh, we would never actually refresh the view and just loop until we hit the loop limit.\r\n","Url":"https://github.com/angular/angular/pull/55623","RelatedDescription":"Closed or merged PR \"fix(core): afterRender hooks registered outside change detection can â€¦\" (#55623)"},{"Id":"2276061444","IsPullRequest":true,"CreatedAt":"2024-05-02T17:14:05","Actor":"cexbrayat","Number":"55640","RawContent":null,"Title":"fix(migrations): handle more cases in HttpClientModule migration","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\nThis commit handles two cases that were breaking applications when using the new migration:\r\n\r\n- tests using `HttpClientModule` in `TestBed.configureTestingModule` were broken as the import was removed, but the module is still present in the test configuration. \r\n- tests using `HttpClientTestingModule` were migrated to use `provideHttpClient(withInterceptorsFromDi())` but the necessary imports were not added. \r\n\r\n## What is the new behavior?\r\nIt now properly adds `provideHttpClient(withInterceptorsFromDi())` and related imports to the test for the tests that were using `HttpClientModule`\r\nIt also adds the necessary imports for `provideHttpClient` and `withInterceptorsFromDi` for tests that were using `HttpClientTestingModule`\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/55640","RelatedDescription":"Open PR \"fix(migrations): handle more cases in HttpClientModule migration\" (#55640)"},{"Id":"2275956088","IsPullRequest":true,"CreatedAt":"2024-05-02T16:25:37","Actor":"JeanMeche","Number":"55638","RawContent":null,"Title":"docs(docs-infra): Add update guide to adev","State":"open","Body":"","Url":"https://github.com/angular/angular/pull/55638","RelatedDescription":"Open PR \"docs(docs-infra): Add update guide to adev\" (#55638)"},{"Id":"2275784522","IsPullRequest":true,"CreatedAt":"2024-05-02T15:09:24","Actor":"9kubczas4","Number":"55637","RawContent":null,"Title":"fix(docs-infra): handle rc, next and deprecated versions","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x ] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/55637","RelatedDescription":"Open PR \"fix(docs-infra): handle rc, next and deprecated versions\" (#55637)"},{"Id":"2275757028","IsPullRequest":true,"CreatedAt":"2024-05-02T14:56:41","Actor":"atscott","Number":"55636","RawContent":null,"Title":"docs: small updates to zoneless docs","State":"open","Body":"","Url":"https://github.com/angular/angular/pull/55636","RelatedDescription":"Open PR \"docs: small updates to zoneless docs\" (#55636)"},{"Id":"2275609904","IsPullRequest":false,"CreatedAt":"2024-05-02T13:55:40","Actor":"surajchopra1234","Number":"55635","RawContent":null,"Title":"Angular SSG: Incompatibility between withXsrfConfiguration( ) (HttpClient) & Relative Paths in SSG","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\ncommon\r\n\r\n### Is this a regression?\r\n\r\nYes\r\n\r\n### Description\r\n\r\n- My backend API resides at `api.domain.com`\r\n\r\n- I'm using the path `//api.domain.com/api/product` for fetching data within the Angular app. This approach is necessary because **withXsrfConfiguration()** doesn't function correctly with absolute paths (e.g., https://api.domain.com/api/product).\r\n\r\n- While this relative path ( `//api.domain.com/api/product` ) works properly during runtime, it fails to resolve correctly during **SSG** build time. This results in no data for the product prerendered page.\r\n\r\n- Interestingly, **absolute paths do work during SSG**, but they **prevent the use of withXsrfConfiguration**, which is crucial for Cross-Site Request Forgery (CSRF) protection.\r\n\r\n- Is there a known workaround to address the incompatibility between withXsrfConfiguration and relative paths in SSG in Angular 17.\r\n\r\n- Also, if we use proxies and have a relative URL like `/api/product`, this might work with withXsrfConfiguration but not in SSG.\r\n\r\n### Conclusion\r\n\r\n- Relative URLs like `// (protocol-relative) and / (root-relative)` work with withXsrfConfiguration but not in SSG and Absolute URLs work in SSG but not with withXsrfConfiguration.\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: 17.3.2\r\nNode: 21.7.1 (Unsupported)\r\nPackage Manager: npm 10.5.2\r\nOS: win32 x64\r\n\r\nAngular: 17.3.1\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... material, platform-browser, platform-browser-dynamic\r\n... platform-server, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1703.2\r\n@angular-devkit/build-angular   17.3.2\r\n@angular-devkit/core            17.3.2\r\n@angular-devkit/schematics      17.3.2\r\n@angular/cli                    17.3.2\r\n@angular/ssr                    17.3.2\r\n@schematics/angular             17.3.2\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.3\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/55635","RelatedDescription":"Open issue \"Angular SSG: Incompatibility between withXsrfConfiguration( ) (HttpClient) & Relative Paths in SSG\" (#55635)"},{"Id":"2275604296","IsPullRequest":false,"CreatedAt":"2024-05-02T13:53:04","Actor":"csfeijo","Number":"55634","RawContent":null,"Title":"Async SVG files could not be loaded when the zone.js is present as peer dependency","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\nzone.js\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nAsync files was not loaded when the zone.js is present in the same project.\r\n\r\nInside the file: *zone.js:~1712* when the globalZoneAwareCallback is commented the async files could be loaded again:\r\n\r\n```\r\n  // global shared zoneAwareCallback to handle all event callback with capture = false\r\n  const globalZoneAwareCallback = function (event) {\r\n      //return globalCallback(this, event, false);\r\n  };\r\n```\r\n\r\nIn my another library the SVG files are loaded with this approach:\r\n```\r\n  const { [assetName]: asset } = await import(`@sicredi/react-assets/dist/images/index.esm.js`);\r\n```\r\n\r\nSo, basically some error occurs and the file is not loaded because the zone.js XHR/Event prototyping.\r\n\r\nWe are not using the zone.js directly in the project, we are using the \"@grafana/faro-web-tracing\" dependency, thatÂ´s load the \"@opentelemetry/context-zone\", and filanny this last one uses the \"zone.js\" dependency to work.\r\n\r\nHere some UI examples with the code NOT commented and commented respectivelly:\r\n\r\n*Zone.js native code - (*globalZoneAwareCallback  not commented*)\r\n![image](https://github.com/angular/angular/assets/25899/d61849be-63c5-4020-bc94-571ed62e01e2)\r\n\r\n*Zone.js native code - (*with globalZoneAwareCallback  commented*)\r\n![image](https://github.com/angular/angular/assets/25899/57733663-9f5d-42c3-84f3-fa233e362684)\r\n\r\n\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nReact 17.0.2\r\nNode: 14.21.3\r\nPackage Manager: npm 6.4.18\r\nOS: Windows64 / Linux 64\r\n\r\nProject using \"@grafana/faro-web-tracing\" => \"@opentelemetry/context-zone\" => \"zone.js\"\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\nIn resume if I only import the zone.js directly in my project, the SVG Loading using the async import doesÂ´t working. I mean, isnÂ´t necessary import the \"@grafana/faro-sdk\" to reproduce this issue.\r\n\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/55634","RelatedDescription":"Open issue \"Async SVG files could not be loaded when the zone.js is present as peer dependency\" (#55634)"},{"Id":"2275437310","IsPullRequest":false,"CreatedAt":"2024-05-02T12:38:57","Actor":"puranjayjain","Number":"55632","RawContent":null,"Title":"\"ng test\" : Unhandled promise rejection: Error: Injector has already been destroyed.","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nDon't known / other\n\n### Is this a regression?\n\nYes\n\n### Description\n\nWhen running \"ng test --code-coverage\", keep getting this error \"Unhandled promise rejection: Error: Injector has already been destroyed.\"\r\n\r\nover karma dashboard if it keep refreshing, this error goes away and code coverage appears. This same error was happening in this [issue](https://github.com/angular/angular/issues/44186) \r\n\r\nI am using angular 16 and the latest versions of karma and other deps\r\n\r\nSnapshot of the package.json\r\n```\r\n    \"karma\": \"~6.4.3\",\r\n    \"karma-chrome-launcher\": \"~3.2.0\",\r\n    \"karma-coverage\": \"~2.2.1\",\r\n    \"karma-jasmine\": \"~5.1.0\",\r\n    \"karma-jasmine-html-reporter\": \"^2.1.0\",\r\n    \"karma-spec-reporter\": \"^0.0.36\",\r\n```\r\n\r\nThe error is the same as that previous error\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\nNG0205: Injector has already been destroyed.\r\nError: NG0205: Injector has already been destroyed.\r\n    at R3Injector.assertNotDestroyed (http://localhost:9876/_karma_webpack_/webpack:/node_modules/@angular/core/fesm2022/core.mjs:9396:19)\r\n    at R3Injector.runInContext (http://localhost:9876/_karma_webpack_/webpack:/node_modules/@angular/core/fesm2022/core.mjs:9268:14)\r\n    at HttpInterceptorHandler.chain (http://localhost:9876/_karma_webpack_/webpack:/node_modules/@angular/common/fesm2022/http.mjs:1624:57)\r\n    at HttpInterceptorHandler.handle (http://localhost:9876/_karma_webpack_/webpack:/node_modules/@angular/common/fesm2022/http.mjs:1683:21)\r\n    at project (http://localhost:9876/_karma_webpack_/webpack:/node_modules/@angular/common/fesm2022/http.mjs:1228:70)\r\n    at doInnerSub (http://localhost:9876/_karma_webpack_/webpack:/node_modules/rxjs/dist/esm/internal/operators/mergeInternals.js:19:19)\r\n    at onNext (http://localhost:9876/_karma_webpack_/webpack:/node_modules/rxjs/dist/esm/internal/operators/mergeInternals.js:14:57)\r\n    at OperatorSubscriber._next (http://localhost:9876/_karma_webpack_/webpack:/node_modules/rxjs/dist/esm/internal/operators/OperatorSubscriber.js:13:21)\r\n    at OperatorSubscriber.next (http://localhost:9876/_karma_webpack_/webpack:/node_modules/rxjs/dist/esm/internal/Subscriber.js:31:18)\r\n    at Observable._subscribe (http://localhost:9876/_karma_webpack_/webpack:/node_modules/rxjs/dist/esm/internal/observable/innerFrom.js:51:24)\r\n    at Observable._trySubscribe (http://localhost:9876/_karma_webpack_/webpack:/node_modules/rxjs/dist/esm/internal/Observable.js:37:25)\r\n    at cb (http://localhost:9876/_karma_webpack_/webpack:/node_modules/rxjs/dist/esm/internal/Observable.js:31:30)\r\n    at errorContext (http://localhost:9876/_karma_webpack_/webpack:/node_modules/rxjs/dist/esm/internal/util/errorContext.js:19:9)\r\n    at Observable.subscribe (http://localhost:9876/_karma_webpack_/webpack:/node_modules/rxjs/dist/esm/internal/Observable.js:22:21)\r\n    at mergeInternals (http://localhost:9876/_karma_webpack_/webpack:/node_modules/rxjs/dist/esm/internal/operators/mergeInternals.js:50:12)\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\n_                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / â–³ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 16.2.14\r\nNode: 20.8.0 (Unsupported)\r\nPackage Manager: yarn 3.8.1\r\nOS: darwin arm64\r\n\r\nAngular: 16.2.12\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1602.14\r\n@angular-devkit/build-angular   16.2.14\r\n@angular-devkit/core            16.2.14\r\n@angular-devkit/schematics      16.2.14\r\n@angular/cdk                    16.2.14\r\n@angular/cli                    16.2.14\r\n@angular/material               16.2.14\r\n@schematics/angular             16.2.14\r\nrxjs                            7.8.1\r\ntypescript                      5.1.6\r\nzone.js                         0.14.5\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/55632","RelatedDescription":"Closed issue \"\"ng test\" : Unhandled promise rejection: Error: Injector has already been destroyed.\" (#55632)"},{"Id":"2274485809","IsPullRequest":true,"CreatedAt":"2024-05-02T02:42:46","Actor":"sumitarora","Number":"55629","RawContent":null,"Title":"feat(devtools): adding router graph implementation","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [ ] Bugfix\r\n- [x] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no API changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application/infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n## What is the new behaviour?\r\n* New router graph implementation for Angular Devtools to inspect application routes\r\n* Add new functionality to export debug APIs using `IPublishUtils` global \r\n* Export new `getLoadedRoutes` function to get child routes while parsing router config.\r\n\r\n## Does this PR introduce a breaking change?\r\n- [ ] Yes\r\n- [x] No\r\n\r\n<img width=\"1892\" alt=\"image\" src=\"https://github.com/angular/angular/assets/198247/fc43691f-13a3-404d-9895-807f393405a8\">\r\n\r\n<img width=\"1843\" alt=\"image\" src=\"https://github.com/angular/angular/assets/198247/28a4ae46-4a5b-468c-90c9-f769a7bbf73f\">\r\n","Url":"https://github.com/angular/angular/pull/55629","RelatedDescription":"Open PR \"feat(devtools): adding router graph implementation\" (#55629)"},{"Id":"2274358924","IsPullRequest":false,"CreatedAt":"2024-05-02T00:46:41","Actor":"blueiceprj","Number":"55627","RawContent":null,"Title":"Router config \"enableViewTransitions\" and \"Aw, Snap!\" error","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\nrouter\r\n\r\n### Is this a regression?\r\n\r\nYes\r\n\r\n### Description\r\n\r\nA few weeks ago, we enabled a new feature in Angular, \"enableViewTransitions\", and a few days later, our users reported that they started receiving the following error in many browsers. \"Aw, Snap!\" error with the code \"5\". We initially investigated whether there was a software error and could not see any messages or errors on either the console or the network on devtools. I encountered this error 1-2 times in the development environment. That's why we thought it was a browser-related error and suggested solving the problem with f5. But it was annoying. Then we noticed this change and decided to roll it back. After the change, we did not receive any messages from users that they no longer received this error and the problem was resolved.\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n### \r\n\r\n```true\r\n_                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / â–³ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 17.3.6\r\nNode: 18.18.2\r\nPackage Manager: npm 9.8.1\r\nOS: darwin x64\r\n\r\nAngular: 17.3.7\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                              Version\r\n--------------------------------------------------------------\r\n@angular-devkit/architect            0.1703.6\r\n@angular-devkit/build-angular        17.3.6\r\n@angular-devkit/build-ng-packagr     0.1002.0\r\n@angular-devkit/core                 17.3.6\r\n@angular-devkit/schematics           17.3.6\r\n@angular/cdk                         17.3.6\r\n@angular/cli                         17.3.6\r\n@angular/material                    17.3.6\r\n@angular/material-date-fns-adapter   17.3.6\r\n@angular/youtube-player              17.3.6\r\n@schematics/angular                  17.3.6\r\nrxjs                                 7.8.1\r\ntypescript                           5.4.5\r\nzone.js                              0.14.5\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/55627","RelatedDescription":"Closed issue \"Router config \"enableViewTransitions\" and \"Aw, Snap!\" error\" (#55627)"},{"Id":"2274346963","IsPullRequest":true,"CreatedAt":"2024-05-01T23:31:32","Actor":"twerske","Number":"55626","RawContent":null,"Title":"docs: add redirect banner to adev page","State":"open","Body":"Links to the most relevant ADEV page in the mapping\r\n\r\nCARETAKER NOTE:\r\nThis needs to be patched into all previous subdomains of vX.angular.io (v17, v16, v15 etc) to link to Angular.dev, since the banners on each one don't currently match.","Url":"https://github.com/angular/angular/pull/55626","RelatedDescription":"Open PR \"docs: add redirect banner to adev page\" (#55626)"},{"Id":"2274188178","IsPullRequest":true,"CreatedAt":"2024-05-01T22:02:25","Actor":"tbondwilkinson","Number":"55621","RawContent":null,"Title":"Merge some commits into 18.0.x","State":"closed","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [x] Other... Please describe: cherry-pick commits\r\n","Url":"https://github.com/angular/angular/pull/55621","RelatedDescription":"Closed or merged PR \"Merge some commits into 18.0.x\" (#55621)"},{"Id":"2274227697","IsPullRequest":true,"CreatedAt":"2024-05-01T21:27:56","Actor":"JeanMeche","Number":"55622","RawContent":null,"Title":"fix(platform-browser): Use the right namespace for mathML.","State":"open","Body":"Prior to this change, MathML element were created with the wrong namespace resulting in regular DOM `Element`.\r\n\r\nThis commit fixes this.\r\n\r\nRelated to #55608 (but doesn't fix it entirely).\r\n","Url":"https://github.com/angular/angular/pull/55622","RelatedDescription":"Open PR \"fix(platform-browser): Use the right namespace for mathML.\" (#55622)"},{"Id":"2274081708","IsPullRequest":true,"CreatedAt":"2024-05-01T19:43:07","Actor":"josephperrott","Number":"55620","RawContent":null,"Title":"feat(docs-infra): set up redirect of all requests to the root of angular.io to angular.dev","State":"open","Body":"With the promotion of adev to stable and being the official docs site for angular.  Requests to angular.io root, but not its subpages, should be redirected to angular.dev.  Requests to paths on angular.io however will still serve as requested.\r\n","Url":"https://github.com/angular/angular/pull/55620","RelatedDescription":"Open PR \"feat(docs-infra): set up redirect of all requests to the root of angular.io to angular.dev\" (#55620)"},{"Id":"2274070977","IsPullRequest":true,"CreatedAt":"2024-05-01T19:35:10","Actor":"rahatarmanahmed","Number":"55619","RawContent":null,"Title":"Remove unused JSNAMESPACE_SUPPORT from event-dispatch","State":"open","Body":"This was an old feature that let you add `jsnamespace=\"ns` to an element to implicitly add the `ns.` namespace to all unnamespaced JSAction handlers on or under that element. This required an expensive DOM walk to find the jsnamespace, and almost all JSAction users turned this feature off. The last usage in google 3was removed, so we can delete this now.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been ~~added~~ deleted (for bug fixes / features)\r\n- [ ] ~~Docs have been added / updated (for bug fixes / features)~~\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [x] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n","Url":"https://github.com/angular/angular/pull/55619","RelatedDescription":"Open PR \"Remove unused JSNAMESPACE_SUPPORT from event-dispatch\" (#55619)"},{"Id":"2274034563","IsPullRequest":true,"CreatedAt":"2024-05-01T19:11:24","Actor":"twerske","Number":"55618","RawContent":null,"Title":"docs: remove AIO from search indexing","State":"open","Body":"Open question: Should this be cherry picked into all previous v17 branches to ensure only Angular.dev is indexable on Search going forwards?","Url":"https://github.com/angular/angular/pull/55618","RelatedDescription":"Open PR \"docs: remove AIO from search indexing\" (#55618)"}],"ResultType":"GitHubIssue"},"AngularCli-Issues":{"Issues":[{"Id":"2276674490","IsPullRequest":false,"CreatedAt":"2024-05-02T23:46:50","Actor":"manzonif","Number":"27586","RawContent":null,"Title":"[EsBuild] locale changed from \"en\" to \"en-US\" on server side (ng serve)","State":"open","Body":"### Command\r\n\r\nserve\r\n\r\n### Is this a regression?\r\n\r\n- [ ] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nIn Angular 18, when I run ng serve with ssr true, the LOCALE_ID is 'en-US' server side, 'en' client side.  (\"sourceLocale\": \"en\" and \"localize\": [\"en\"]).\r\nMay be related to https://github.com/angular/angular-cli/issues/26409\r\n![Screenshot 2024-05-03 013821](https://github.com/angular/angular-cli/assets/8948699/c6b823e8-e6ea-457b-a438-6d3e96561b5d)\r\n\r\n\r\n \r\n\r\n### Minimal Reproduction\r\n\r\nStart an angular app with i18n, \"sourceLocale\": \"en\", \"localize\": [\"en\"] or \"localize\": false, ssr: true,  ng serve. Inspect LOCALE_ID.\r\n\r\n### Exception or Error\r\n\r\n_No response_\r\n\r\n### Your Environment\r\n\r\n```text\r\nAngular CLI: 18.0.0-next.5\r\nNode: 20.11.1\r\nPackage Manager: yarn 1.22.21\r\nOS: win32 x64\r\n\r\nAngular: 18.0.0-next.6\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... google-maps, language-service, localize, platform-browser\r\n... platform-browser-dynamic, platform-server, router\r\n... service-worker\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.1800.0-next.5\r\n@angular-devkit/build-angular     18.0.0-next.5\r\n@angular-devkit/build-optimizer   0.1302.1\r\n@angular-devkit/core              18.0.0-next.5\r\n@angular-devkit/schematics        17.1.2\r\n@angular/cli                      18.0.0-next.5\r\n@angular/material                 18.0.0-next.5\r\n@angular/ssr                      18.0.0-next.5\r\n@schematics/angular               18.0.0-next.5\r\nrxjs                              7.8.1\r\ntypescript                        5.4.5\r\nzone.js                           0.14.4\r\n```\r\n\r\n\r\n### Anything else relevant?\r\n\r\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27586","RelatedDescription":"Open issue \"[EsBuild] locale changed from \"en\" to \"en-US\" on server side (ng serve)\" (#27586)"},{"Id":"2276659901","IsPullRequest":false,"CreatedAt":"2024-05-02T23:26:48","Actor":"inorganik","Number":"27585","RawContent":null,"Title":"Supporting Tailwind v4","State":"open","Body":"### Command\n\nbuild\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nTailwind v4 alpha is out and a stable release is imminent. The new CLI `@tailwindcss/cli` traverses files in your project and automatically finds the tailwind classes. It works without a tailwind config, which is what the angular builder looks for to support tailwind. The problem is, you have to setup an npm script to invoke the tailwind CLI, and it is seemingly impossible to integrate it into Angular's build process. I've tried lots of weird hacky things.\r\n\r\nAlternatively, Tailwind v4 offers a new [postcss plugin](https://tailwindcss.com/blog/tailwindcss-v4-alpha#using-post-css), but again, there is no way to configure post css in Angular.\r\n\r\nOther issues with using Tailwind v4 in an Angular project:\r\n- `@angular-devkit/build-angular` (v16 and v17) has a peer dependency of `\"tailwindcss\": \"^2.0.0 || ^3.0.0\",`\r\n- Tailwind support is currently [baked into the builder](https://github.com/angular/angular-cli/blob/main/packages/angular_devkit/build_angular/src/tools/webpack/configs/styles.ts#L78), making it impossible to support new major versions of tailwind. \r\n\r\nWe ought to be able to use the latest and greatest in our Angular projects. As a start we should remove the peer dependency on old versions of tailwind. \r\n\r\nWe ought to decouple tailwind integration out of this package so it can be configurable by devs.\n\n### Minimal Reproduction\n\nI have an angular 16 project [here](https://github.com/jamie-perkins-sp/angular16-test) with tailwind v4 installed, you have to use the `--force` flag to install dependencies because of the incompatible tailwind peer dep. An npm script \"tailwind\"  has to be run separately from the build, so for every style change you have to rerun the command.\n\n### Exception or Error\n\n_No response_\n\n### Your Environment\n\n```text\nv16 and v17\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27585","RelatedDescription":"Open issue \"Supporting Tailwind v4\" (#27585)"},{"Id":"2276122721","IsPullRequest":true,"CreatedAt":"2024-05-02T17:40:50","Actor":"clydin","Number":"27584","RawContent":null,"Title":"refactor(@schematics/angular): shorten application migration description","State":"open","Body":"The description for the optional application builder migration is shown within the optional migration selection prompt. The description is currently fairly lengthy and can effect readability within a terminal. To improve readability within the selection prompt, the description has been slightly reworded and shortened.","Url":"https://github.com/angular/angular-cli/pull/27584","RelatedDescription":"Open PR \"refactor(@schematics/angular): shorten application migration description\" (#27584)"},{"Id":"2276093089","IsPullRequest":true,"CreatedAt":"2024-05-02T17:28:17","Actor":"clydin","Number":"27583","RawContent":null,"Title":"docs: release notes for the v18.0.0-rc.1 release","State":"closed","Body":"Cherry-picks the changelog from the \"18.0.x\" branch to the next branch (main).","Url":"https://github.com/angular/angular-cli/pull/27583","RelatedDescription":"Closed or merged PR \"docs: release notes for the v18.0.0-rc.1 release\" (#27583)"},{"Id":"2276078974","IsPullRequest":true,"CreatedAt":"2024-05-02T17:23:28","Actor":"clydin","Number":"27582","RawContent":null,"Title":"Bump version to \"v18.0.0-rc.1\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/27582","RelatedDescription":"Closed or merged PR \"Bump version to \"v18.0.0-rc.1\" with changelog.\" (#27582)"},{"Id":"2275772137","IsPullRequest":true,"CreatedAt":"2024-05-02T16:21:58","Actor":"clydin","Number":"27581","RawContent":null,"Title":"fix(@angular/build): only generate shallow preload links for initial files","State":"closed","Body":"To remove the potential for a large amount of modulepreload link elements being added to the generating `index.html` for an application, the number of elements is now limited to five. Also, only first-level initial scripts will be added. Previously all initial scripts regardless of depth were eligible for preloading. The preload generation can still be fully disabled via the `index.preloadInitial` option within the build options.","Url":"https://github.com/angular/angular-cli/pull/27581","RelatedDescription":"Closed or merged PR \"fix(@angular/build): only generate shallow preload links for initial files\" (#27581)"},{"Id":"2272949868","IsPullRequest":true,"CreatedAt":"2024-05-02T16:01:15","Actor":"angular-robot","Number":"27568","RawContent":null,"Title":"build: update all non-major dependencies","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [ng-packagr](https://togithub.com/ng-packagr/ng-packagr) | devDependencies | patch | [`18.0.0-next.4` -> `18.0.0-rc.0`](https://renovatebot.com/diffs/npm/ng-packagr/18.0.0-next.4/18.0.0-rc.0) |\n| [vite](https://vitejs.dev) ([source](https://togithub.com/vitejs/vite/tree/HEAD/packages/vite)) | dependencies | patch | [`5.2.10` -> `5.2.11`](https://renovatebot.com/diffs/npm/vite/5.2.10/5.2.11) |\n| [vite](https://vitejs.dev) ([source](https://togithub.com/vitejs/vite/tree/HEAD/packages/vite)) | devDependencies | patch | [`5.2.10` -> `5.2.11`](https://renovatebot.com/diffs/npm/vite/5.2.10/5.2.11) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>ng-packagr/ng-packagr (ng-packagr)</summary>\n\n### [`v18.0.0-rc.0`](https://togithub.com/ng-packagr/ng-packagr/blob/HEAD/CHANGELOG.md#1800-rc0-2024-05-02)\n\n[Compare Source](https://togithub.com/ng-packagr/ng-packagr/compare/18.0.0-next.4...18.0.0-rc.0)\n\n</details>\n\n<details>\n<summary>vitejs/vite (vite)</summary>\n\n### [`v5.2.11`](https://togithub.com/vitejs/vite/blob/HEAD/packages/vite/CHANGELOG.md#small5211-2024-05-02-small)\n\n[Compare Source](https://togithub.com/vitejs/vite/compare/v5.2.10...v5.2.11)\n\n-   feat: improve dynamic import variable failure error message ([#&#8203;16519](https://togithub.com/vitejs/vite/issues/16519)) ([f8feeea](https://togithub.com/vitejs/vite/commit/f8feeea)), closes [#&#8203;16519](https://togithub.com/vitejs/vite/issues/16519)\n-   fix: dynamic-import-vars plugin normalize path issue ([#&#8203;16518](https://togithub.com/vitejs/vite/issues/16518)) ([f71ba5b](https://togithub.com/vitejs/vite/commit/f71ba5b)), closes [#&#8203;16518](https://togithub.com/vitejs/vite/issues/16518)\n-   fix: scripts and styles were missing from built HTML on Windows ([#&#8203;16421](https://togithub.com/vitejs/vite/issues/16421)) ([0e93f58](https://togithub.com/vitejs/vite/commit/0e93f58)), closes [#&#8203;16421](https://togithub.com/vitejs/vite/issues/16421)\n-   fix(deps): update all non-major dependencies ([#&#8203;16488](https://togithub.com/vitejs/vite/issues/16488)) ([2d50be2](https://togithub.com/vitejs/vite/commit/2d50be2)), closes [#&#8203;16488](https://togithub.com/vitejs/vite/issues/16488)\n-   fix(deps): update all non-major dependencies ([#&#8203;16549](https://togithub.com/vitejs/vite/issues/16549)) ([2d6a13b](https://togithub.com/vitejs/vite/commit/2d6a13b)), closes [#&#8203;16549](https://togithub.com/vitejs/vite/issues/16549)\n-   fix(dev): watch publicDir explicitly to include it outside the root ([#&#8203;16502](https://togithub.com/vitejs/vite/issues/16502)) ([4d83eb5](https://togithub.com/vitejs/vite/commit/4d83eb5)), closes [#&#8203;16502](https://togithub.com/vitejs/vite/issues/16502)\n-   fix(preload): skip preload for non-static urls ([#&#8203;16556](https://togithub.com/vitejs/vite/issues/16556)) ([bb79c9b](https://togithub.com/vitejs/vite/commit/bb79c9b)), closes [#&#8203;16556](https://togithub.com/vitejs/vite/issues/16556)\n-   fix(ssr): handle class declaration and expression name scoping ([#&#8203;16569](https://togithub.com/vitejs/vite/issues/16569)) ([c071eb3](https://togithub.com/vitejs/vite/commit/c071eb3)), closes [#&#8203;16569](https://togithub.com/vitejs/vite/issues/16569)\n-   fix(ssr): handle function expression name scoping ([#&#8203;16563](https://togithub.com/vitejs/vite/issues/16563)) ([02db947](https://togithub.com/vitejs/vite/commit/02db947)), closes [#&#8203;16563](https://togithub.com/vitejs/vite/issues/16563)\n\n</details>\n\n---\n\n### Configuration\n\nðŸ“… **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\nðŸš¦ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\nâ™» **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\nðŸ‘» **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4zMzAuMCIsInVwZGF0ZWRJblZlciI6IjM3LjMzMy4wIiwidGFyZ2V0QnJhbmNoIjoibWFpbiIsImxhYmVscyI6WyJhY3Rpb246IG1lcmdlIiwidGFyZ2V0OiBtaW5vciJdfQ==-->\n","Url":"https://github.com/angular/angular-cli/pull/27568","RelatedDescription":"Closed or merged PR \"build: update all non-major dependencies\" (#27568)"},{"Id":"2272119388","IsPullRequest":false,"CreatedAt":"2024-05-02T14:56:44","Actor":"mvdluit","Number":"27565","RawContent":null,"Title":"ng build hangs without error or warning.","State":"closed","Body":"### Command\n\nbuild\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nRaising this issue on behalf of @TheBarenziah (question was originally asked on discord: https://discord.com/channels/748677963142135818/1234862759502549163)\r\n\r\nRunning `ng build` hangs without showing any errors or warnings. Running it with the `--verbose` flag results in the following output before it hangs: https://pastebin.com/4DTaaNXL (`dist` folder is not created even though verbose output shows (some of) the chunks).\r\n\r\nNo errors are shown in the codebase and `ng serve`  and `ng serve --configuration production` work as expected.\r\n\r\nSteps taken to debug the issue:\r\n- ran command on different machines.\r\n- removed `package-lock.json` before install to ensure correct package versions were installed.\r\n- tried with different version of node (latest version of node 18)\r\n- tried with downgrading Angular packages (fixed on 17.1.0)\r\n- removed any code referencing `firebase/database` (firebase database provider, database.service.ts and code referencing the service in register.component.ts) as that was added last. `ng build` worked before that, but was couple weeks ago since last tried.\r\n\r\nThe absence of errors/warnings makes this hard to debug and I unfortunately do not have the ability to step through the different build steps to isolate the issue.\n\n### Minimal Reproduction\n\nRepository: https://github.com/TheBarenziah/neuro-recovery-app (firebase api key will be replaced once issue is resolved, no data in database)\r\n- clone\r\n- `npm install`\r\n- `ng build` or `ng build --verbose`\n\n### Exception or Error\n\n_No response_\n\n### Your Environment\n\n```text\nAngular CLI: 17.3.6\r\nNode: 20.11.1\r\nPackage Manager: npm 10.2.4\r\nOS: linux x64\r\n\r\nAngular: 17.3.6\r\n... animations, cdk, cli, common, compiler, compiler-cli, core\r\n... forms, material, platform-browser, platform-browser-dynamic\r\n... platform-server, router, ssr\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1703.6\r\n@angular-devkit/build-angular   17.3.6\r\n@angular-devkit/core            17.3.6\r\n@angular-devkit/schematics      17.3.6\r\n@angular/fire                   17.0.1\r\n@schematics/angular             17.3.6\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.4\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27565","RelatedDescription":"Closed issue \"ng build hangs without error or warning.\" (#27565)"},{"Id":"2275318995","IsPullRequest":true,"CreatedAt":"2024-05-02T14:56:43","Actor":"alan-agius4","Number":"27579","RawContent":null,"Title":"fix(@angular/build): add a maximum rendering timeout for SSG","State":"closed","Body":"There might be cases were currently, the render application promise does not resolve because the application never becomes stable in most cases this is due to errors, this causes the worker to never exit and the build to keep running until it's manually terminated.\r\n\r\nWith this change, we add a maximum rendering timeout of 30seconds for each page.\r\n\r\nCloses #27565\r\n","Url":"https://github.com/angular/angular-cli/pull/27579","RelatedDescription":"Closed or merged PR \"fix(@angular/build): add a maximum rendering timeout for SSG\" (#27579)"},{"Id":"2275088773","IsPullRequest":true,"CreatedAt":"2024-05-02T14:19:10","Actor":"alan-agius4","Number":"27578","RawContent":null,"Title":"build: update all non-major dependencies","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/27578","RelatedDescription":"Closed or merged PR \"build: update all non-major dependencies\" (#27578)"},{"Id":"2274109527","IsPullRequest":true,"CreatedAt":"2024-05-02T14:00:18","Actor":"clydin","Number":"27575","RawContent":null,"Title":"fix(@angular-devkit/architect): resolve builder aliases from containing package","State":"closed","Body":"When resolving a builder alias, the base path for the resolution will now use the containing package. This prevents potential resolution failure due to varying package manager installation strategies.","Url":"https://github.com/angular/angular-cli/pull/27575","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/architect): resolve builder aliases from containing package\" (#27575)"},{"Id":"2273487269","IsPullRequest":true,"CreatedAt":"2024-05-02T13:59:49","Actor":"littledivy","Number":"27570","RawContent":null,"Title":"fix(@angular-devkit/schematics): use web standard error check for Deno support","State":"closed","Body":"This commit replaces non-standard `e.code` check for `TextDecoder.decode` to `TypeError`. \r\n\r\nThis matches with other uses of TextDecoder.decode in this codebase, eg: https://github.com/angular/angular-cli/blob/4e923fa9cb5e937b857d0bb5a305d91f6aa55dcc/packages/angular_devkit/schematics/src/tree/host-tree.ts#L307\r\n\r\nEnables `@angular/cli` to run on Deno. Ref https://github.com/denoland/deno/issues/22607\r\n\r\n```\r\ndeno run -A npm:@angular/cli new test-app/\r\n```","Url":"https://github.com/angular/angular-cli/pull/27570","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/schematics): use web standard error check for Deno support\" (#27570)"},{"Id":"2272344012","IsPullRequest":true,"CreatedAt":"2024-05-02T13:59:06","Actor":"clydin","Number":"27566","RawContent":null,"Title":"fix(@schematics/angular): add postcss dependency in application migration if needed","State":"closed","Body":"The application migration schematic will now attempt to detect the usage of custom postcss plugins within a workspace and install the `postcss` dependency if required. This will only occur if the migration analysis allows for the conversion to use the `@angular/build` package instead of the `@angular-devkit/build-angular` package. Custom postcss configurations will be detected within the same locations as the build system itself which includes the workspace root and any project root for the `postcss.config.json` and `.postcssrc.json` files.","Url":"https://github.com/angular/angular-cli/pull/27566","RelatedDescription":"Closed or merged PR \"fix(@schematics/angular): add postcss dependency in application migration if needed\" (#27566)"},{"Id":"2275396060","IsPullRequest":false,"CreatedAt":"2024-05-02T12:16:41","Actor":"Ghostbird","Number":"27580","RawContent":null,"Title":"Confusing project budgets","State":"open","Body":"### Command\r\n\r\nbuild\r\n\r\n### Is this a regression?\r\n\r\nI don't think so.\r\n\r\n### Description\r\n\r\nWhen generating a new project, budgets are automatically assigned, however the generated values are really confusing. I accidentally ran into some of these limits. I had to grab a calculator, the build output, make some assumptions, run some calculations, before I could actually understand what these options meant.\r\n\r\nIt would be nice if these were unambiguous.\r\n\r\nThe generated project limits rules-as-written are:\r\n\r\n- Initial maximum warning: 500 kilobits\r\n- Initial maximum error: 1millibit\r\n- Any component style maximum warning: 2 kilobits\r\n- Any component style maximum error: 6 kilobits\r\n\r\nFirst of all, let's assume that the the `m` in `m` should be `M`, that's a factor 10â¹ difference, but Â¹/â‚â‚€â‚€â‚€ bits makes no sense here, since we're talking about real storage here. I've only ever used millibits in calculations on pure information.\r\n\r\nI analysed this output:\r\n\r\n> Budget 500.00 kB was not met by 589.00 kB with a total of 1.06 MB\r\n\r\nThis quickly points in the direction that the `b` should be a `B`, it's bytes, not bits.\r\nFinally if I run some calculations on this, it clears up another thing (but the output is faulty here too).\r\n\r\n(500 + 589)Ã—10Â³ â‰  1.06 Ã— 10â¶ (rules-as-written ISO prefixes)\r\n(500 + 589)Ã—2Â¹â° â‰  1.06 Ã— 10Â³ Ã— 2Â¹â° (floppy disk megabytes)\r\n(500 + 589)Ã—2Â¹â° = 1.06 Ã— 10Â²â° (actually intended ISO/IEC 80000-13 binary prefix standard)\r\n\r\nFrom this I can conclude that the numbers used in calculations are actually using the binary measures according to ISO/IEC 80000 (which is the most common for modern systems AFAIK), and the `k` should be `ki` and the `m` should ultimately be `Mi`.\r\n\r\nAs you can see, it's no trivial matter to understand what the configuration file actually means with these values.\r\n\r\nWhile not a big priority, it is annoying.\r\n\r\n### Minimal Reproduction\r\n\r\n`ng g new app`\r\nCheck `angular.json` Â» project Â» app Â» architect Â» build Â» configuration Â» production Â» budgets\r\n\r\n### Exception or Error\r\n\r\n_No response_\r\n\r\n### Your Environment\r\n\r\n```text\r\n$ ng version\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / â–³ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 17.3.6\r\nNode: 22.0.0 (Unsupported)\r\nPackage Manager: npm 10.5.1\r\nOS: linux x64\r\n\r\nAngular: \r\n... \r\n\r\nPackage                      Version\r\n------------------------------------------------------\r\n@angular-devkit/architect    0.1703.6 (cli-only)\r\n@angular-devkit/core         17.3.6 (cli-only)\r\n@angular-devkit/schematics   17.3.6 (cli-only)\r\n@schematics/angular          17.3.6 (cli-only)\r\n    \r\nWarning: The current version of Node (22.0.0) is not supported by Angular.\r\n```\r\n\r\n\r\n### Anything else relevant?\r\n\r\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27580","RelatedDescription":"Open issue \"Confusing project budgets\" (#27580)"},{"Id":"2274369525","IsPullRequest":true,"CreatedAt":"2024-05-02T00:02:05","Actor":"titan-ron","Number":"27577","RawContent":null,"Title":"feat(@angular-devkit/build-angular): support `~` path for `dev-server` ssl","State":"open","Body":"## PR Checklist\r\n\r\nPlease check to confirm your PR fulfills the following requirements:\r\n\r\n<!-- Please check all that apply using \"x\". -->\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular-cli/blob/main/CONTRIBUTING.md#-commit-message-guidelines\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n## PR Type\r\n\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [x] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] Other... Please describe:\r\n\r\n## What is the current behavior?\r\n\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nWhen utilizing the `@angular-devkit/build-angular:dev-server` (serve) builder for local development of applications with SSL, it's not possible to set a default value in the project configuration using `~`. Instead, you must specify it through arguments, move it to the workspace, or wrap the Angular builder.\r\n\r\nIssue Number: N/A\r\n\r\n## What is the new behavior?\r\n\r\n<!-- Please describe the new behavior that. -->\r\n\r\nThis PR will manage the use of `~` for the `sslCert` and `sslKey` options.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular-cli/pull/27577","RelatedDescription":"Open PR \"feat(@angular-devkit/build-angular): support `~` path for `dev-server` ssl\" (#27577)"},{"Id":"2274156450","IsPullRequest":false,"CreatedAt":"2024-05-01T20:38:03","Actor":"everflux","Number":"27576","RawContent":null,"Title":"ng serve not working behind reverse proxy basehref/servepath","State":"open","Body":"### Command\r\n\r\nserve\r\n\r\n### Is this a regression?\r\n\r\n- [X] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\nbefore vite\r\n\r\n### Description\r\n\r\nI provide remote training for Angular using VSCode in the browser.\r\nIt is no longer possible to use the vscode port forwarding to access the ng dev server as basehref and servepath combinations to not yield the correct result when @angular node resources are to be loaded. It works for all other assets/files in the project.\r\n\r\n### Minimal Reproduction\r\n\r\nUse code-server oder vscode server access through web browser.\r\n\r\nng new\r\nng serve --host 0.0.0.0 --disable-host-check \r\n\r\nOpen the forwarded port, URL becomes f.e.\r\nhttps://student01.remote-training.de/proxy/4200/\r\n\r\n### Exception or Error\r\n\r\n_No response_\r\n\r\n### Your Environment\r\n\r\n```text\r\nAngular CLI: 17.3.6\r\nNode: 20.12.2\r\nPackage Manager: npm 10.5.0\r\nOS: linux x64\r\n\r\nAngular: 17.3.7\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1703.6\r\n@angular-devkit/build-angular   17.3.6\r\n@angular-devkit/core            17.3.6\r\n@angular-devkit/schematics      17.3.6\r\n@angular/cli                    17.3.6\r\n@schematics/angular             17.3.6\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.5\r\n```\r\n\r\n\r\n### Anything else relevant?\r\n\r\nI tried various configuration combinations using prebundle, basehref and servepath only to experience worse problems like beeing redirected to https://student01.remote-training.de/proxy/4200/proxy/4200/","Url":"https://github.com/angular/angular-cli/issues/27576","RelatedDescription":"Open issue \"ng serve not working behind reverse proxy basehref/servepath\" (#27576)"},{"Id":"2274012176","IsPullRequest":true,"CreatedAt":"2024-05-01T19:32:51","Actor":"clydin","Number":"27572","RawContent":null,"Title":"build: replace `@angular/build` version with archive in local builds","State":"closed","Body":"When creating a local development build of the repository via `yarn build --local`, the package version for `@angular/build` within `@angular-devkit/build-angular` will now correctly be replaced with the path to the locally built archive of `@angular/build`.","Url":"https://github.com/angular/angular-cli/pull/27572","RelatedDescription":"Closed or merged PR \"build: replace `@angular/build` version with archive in local builds\" (#27572)"},{"Id":"2274052617","IsPullRequest":true,"CreatedAt":"2024-05-01T19:27:19","Actor":"clydin","Number":"27574","RawContent":null,"Title":"docs: release notes for the v18.0.0-rc.0 release","State":"closed","Body":"Cherry-picks the changelog from the \"18.0.x\" branch to the next branch (main).","Url":"https://github.com/angular/angular-cli/pull/27574","RelatedDescription":"Closed or merged PR \"docs: release notes for the v18.0.0-rc.0 release\" (#27574)"},{"Id":"2274018148","IsPullRequest":true,"CreatedAt":"2024-05-01T19:19:47","Actor":"clydin","Number":"27573","RawContent":null,"Title":"Bump version to \"v18.0.0-rc.0\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/27573","RelatedDescription":"Closed or merged PR \"Bump version to \"v18.0.0-rc.0\" with changelog.\" (#27573)"},{"Id":"2271977926","IsPullRequest":true,"CreatedAt":"2024-05-01T18:17:59","Actor":"clydin","Number":"27564","RawContent":null,"Title":"fix(@angular/cli): add `@angular/build` package to update group","State":"closed","Body":"The ng update package group list now contains the newly introduced `@angular/build` package which contains the esbuild/Vite-based build system. The group list ensures that all relevant direct project dependencies are update as group when `@angular/cli` itself is updated.","Url":"https://github.com/angular/angular-cli/pull/27564","RelatedDescription":"Closed or merged PR \"fix(@angular/cli): add `@angular/build` package to update group\" (#27564)"},{"Id":"2273627650","IsPullRequest":false,"CreatedAt":"2024-05-01T14:41:02","Actor":"Hyperxq","Number":"27571","RawContent":null,"Title":"Schematic blank command doesn't allow to specify the package manager.","State":"open","Body":"### Command\n\nnew\n\n### Description\n\nI cannot see that schematics cli commands added to the command select options. \r\n\r\nWhen you create a new schematic project you only have the ability to specify the name and the author. However, you cannot specify the package manager.\r\n\r\n\n\n### Describe the solution you'd like\n\nThe `NodePackageInstallTask` already allows the package manager option. To support the package manager option we need to do:\r\n\r\n1. We need to modify the factory: https://github.com/angular/angular-cli/blob/main/packages/angular_devkit/schematics_cli/blank/factory.ts in the line 93, we need to add the package manager option.\r\n![schematics blank](https://github.com/angular/angular-cli/assets/22332354/04372376-f435-44d1-a927-433b37807226)\r\n\r\n2. We need to add the input to the schema.json: https://github.com/angular/angular-cli/blob/main/packages/angular_devkit/schematics_cli/blank/schema.json\r\n![schematic blank schema](https://github.com/angular/angular-cli/assets/22332354/28126193-0040-4e5f-8d12-05607283a471)\r\n\r\n\n\n### Describe alternatives you've considered\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27571","RelatedDescription":"Open issue \"Schematic blank command doesn't allow to specify the package manager.\" (#27571)"},{"Id":"2273270799","IsPullRequest":false,"CreatedAt":"2024-05-01T10:22:20","Actor":"jamesikanos","Number":"27569","RawContent":null,"Title":"Overnight, unable to use localhost 4200 on Dev Containers","State":"closed","Body":"### Command\n\nserve\n\n### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nI have a VSCode dev container running several angular projects (ESbuild and Webpack).\r\n\r\nLast night, I was able to access localhost:4200 (tunneled through the VSCode Dev Container) but this morning, I need to set the --host 0.0.0.0 flag.\r\n\r\nI have tried a very simple node express server (just simply serving the phrase hello world on localhost:4200 inside the container and it works fine.\r\n\n\n### Minimal Reproduction\n\nTo reproduce:\r\n- Create and open a NodeJS VS Code dev container\r\n   - mcr.microsoft.com/devcontainers/typescript-node:1-20-bullseye\r\n- `npm install -g @angular/cli`\r\n- ng new\r\n- ng serve\r\n\r\nExpect:\r\n- Host PC should access localhost:4200\r\n\r\nActual:\r\n- Connection hangs (timeout in curl and chrome)\r\n\r\nWorkaround:\r\n- Set host to 0.0.0.0 on the dev server inside the container\n\n### Exception or Error\n\n```text\nWeb server times out\n```\n\n\n### Your Environment\n\n```text\n_                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / â–³ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 17.3.6\r\nNode: 20.12.0\r\nPackage Manager: npm 10.5.0\r\nOS: linux x64\r\n\r\nAngular: 17.3.6\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1703.6\r\n@angular-devkit/build-angular   17.3.6\r\n@angular-devkit/core            17.3.6\r\n@angular-devkit/schematics      17.3.6\r\n@schematics/angular             17.3.6\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.5\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27569","RelatedDescription":"Closed issue \"Overnight, unable to use localhost 4200 on Dev Containers\" (#27569)"},{"Id":"2271940309","IsPullRequest":false,"CreatedAt":"2024-04-30T19:16:40","Actor":"rewento","Number":"27563","RawContent":null,"Title":"@angular-devkit/build-angular:app-shell builder produces distribution index.html missing script tags referencing the main, runtime, and polyfills chunks when the source index.html contains a self-closing <app-root /> tag","State":"closed","Body":"### Command\n\nrun\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nIf a self-closing tag bearing the selector of the AppComponent (`<app-root />`) is included in the source index.html rather than both opening and closing tags bearing that selector (`<app-root></app-root>`), and a distribution with an app shell is built with the `ng run my-app:app-shell:production` Angular CLI command, the index.html of that distribution will lack `<script>` tags referencing the \"main\", \"runtime\", and \"polyfills\" bundle chunks.\n\n### Minimal Reproduction\n\nReproduction Steps\r\n\r\n1. Create a new Angular workspace with one application project with this shell command for the Angular CLI:\r\n`new repro-app-shell-issue`\r\nAnd respond like this to follow-up prompts:\r\n`Would you like to add Angular routing? Yes`\r\n`Which stylesheet format would you like to use? CSS`\r\n2. `cd` into the new repro-app-shell-issue directory and run this command for the Angular CLI:\r\n`ng generate app-shell`\r\n3. Create a distribution for the app project _without an app shell_ with the `ng build repro-app-shell-issue --configuration production` Angular CLI command. Examine the index.html of the distribution (dist/repro-app-shell-issue/browser/index.html) and note that _it contains `<script>` tags referencing the \"main\", \"runtime\", and \"polyfills\" bundle chunks_.\r\n4. Create a distribution for the app project _with an app shell_ with the `ng run repro-app-shell-issue:app-shell:production` Angular CLI command. Examine the index.html of the distribution (dist/repro-app-shell-issue/browser/index.html) and note that _it contains `<script>` tags referencing the \"main\", \"runtime\", and \"polyfills\" bundle chunks_.\r\n5. Modify the source index.html (src/index.html) so that the tag bearing the selector of the AppComponent is self closing. `<app-root></app-root>` --> `<app-root />`\r\n6. Create a distribution for the app project _without an app shell_ with the `ng build repro-app-shell-issue --configuration production` Angular CLI command. Examine the index.html of the distribution (dist/repro-app-shell-issue/browser/index.html) and note that _it contains `<script>` tags referencing the \"main\", \"runtime\", and \"polyfills\" bundle chunks_.\r\n7. Create a distribution for the app project _with an app shell_ with the `ng run repro-app-shell-issue:app-shell:production` Angular CLI command. Examine the index.html of the distribution (dist/repro-app-shell-issue/browser/index.html) and note that _it DOES NOT CONTAIN `<script>` tags referencing the \"main\", \"runtime\", and \"polyfills\" bundle chunks_.\r\n\r\n\r\nReproduction Source Repository\r\nhttps://github.com/rewento/repro-app-shell-issue/tree/main\n\n### Exception or Error\n\n_No response_\n\n### Your Environment\n\n```text\nAngular CLI: 16.2.14\r\nNode: 18.18.2\r\nPackage Manager: npm 10.5.2\r\nOS: darwin arm64\r\n\r\nAngular: 16.2.12\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, platform-server\r\n... router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1602.14\r\n@angular-devkit/build-angular   16.2.14\r\n@angular-devkit/core            16.2.14\r\n@angular-devkit/schematics      16.2.14\r\n@angular/cli                    16.2.14\r\n@schematics/angular             16.2.14\r\nrxjs                            7.8.1\r\ntypescript                      5.1.6\r\nzone.js                         0.13.3\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27563","RelatedDescription":"Closed issue \"@angular-devkit/build-angular:app-shell builder produces distribution index.html missing script tags referencing the main, runtime, and polyfills chunks when the source index.html contains a self-closing <app-root /> tag\" (#27563)"},{"Id":"2270520221","IsPullRequest":true,"CreatedAt":"2024-04-30T14:15:41","Actor":"angular-robot","Number":"27562","RawContent":null,"Title":"build: update all non-major dependencies","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@babel/core](https://babel.dev/docs/en/next/babel-core) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-core)) | dependencies | patch | [`7.24.4` -> `7.24.5`](https://renovatebot.com/diffs/npm/@babel%2fcore/7.24.4/7.24.5) |\n| [@babel/core](https://babel.dev/docs/en/next/babel-core) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-core)) | devDependencies | patch | [`7.24.4` -> `7.24.5`](https://renovatebot.com/diffs/npm/@babel%2fcore/7.24.4/7.24.5) |\n| [@babel/generator](https://babel.dev/docs/en/next/babel-generator) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-generator)) | dependencies | patch | [`7.24.4` -> `7.24.5`](https://renovatebot.com/diffs/npm/@babel%2fgenerator/7.24.4/7.24.5) |\n| [@babel/generator](https://babel.dev/docs/en/next/babel-generator) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-generator)) | devDependencies | patch | [`7.24.4` -> `7.24.5`](https://renovatebot.com/diffs/npm/@babel%2fgenerator/7.24.4/7.24.5) |\n| [@babel/helper-split-export-declaration](https://babel.dev/docs/en/next/babel-helper-split-export-declaration) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-helper-split-export-declaration)) | dependencies | minor | [`7.22.6` -> `7.24.5`](https://renovatebot.com/diffs/npm/@babel%2fhelper-split-export-declaration/7.22.6/7.24.5) |\n| [@babel/helper-split-export-declaration](https://babel.dev/docs/en/next/babel-helper-split-export-declaration) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-helper-split-export-declaration)) | devDependencies | minor | [`7.22.6` -> `7.24.5`](https://renovatebot.com/diffs/npm/@babel%2fhelper-split-export-declaration/7.22.6/7.24.5) |\n| [@babel/preset-env](https://babel.dev/docs/en/next/babel-preset-env) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-preset-env)) | dependencies | patch | [`7.24.4` -> `7.24.5`](https://renovatebot.com/diffs/npm/@babel%2fpreset-env/7.24.4/7.24.5) |\n| [@babel/preset-env](https://babel.dev/docs/en/next/babel-preset-env) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-preset-env)) | devDependencies | patch | [`7.24.4` -> `7.24.5`](https://renovatebot.com/diffs/npm/@babel%2fpreset-env/7.24.4/7.24.5) |\n| [@babel/runtime](https://babel.dev/docs/en/next/babel-runtime) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-runtime)) | dependencies | patch | [`7.24.4` -> `7.24.5`](https://renovatebot.com/diffs/npm/@babel%2fruntime/7.24.4/7.24.5) |\n| [@babel/runtime](https://babel.dev/docs/en/next/babel-runtime) ([source](https://togithub.com/babel/babel/tree/HEAD/packages/babel-runtime)) | devDependencies | patch | [`7.24.4` -> `7.24.5`](https://renovatebot.com/diffs/npm/@babel%2fruntime/7.24.4/7.24.5) |\n| [@typescript-eslint/eslint-plugin](https://typescript-eslint.io/packages/eslint-plugin) ([source](https://togithub.com/typescript-eslint/typescript-eslint/tree/HEAD/packages/eslint-plugin)) | devDependencies | minor | [`7.7.1` -> `7.8.0`](https://renovatebot.com/diffs/npm/@typescript-eslint%2feslint-plugin/7.7.1/7.8.0) |\n| [@typescript-eslint/parser](https://typescript-eslint.io/packages/parser) ([source](https://togithub.com/typescript-eslint/typescript-eslint/tree/HEAD/packages/parser)) | devDependencies | minor | [`7.7.1` -> `7.8.0`](https://renovatebot.com/diffs/npm/@typescript-eslint%2fparser/7.7.1/7.8.0) |\n| [ajv](https://ajv.js.org) ([source](https://togithub.com/ajv-validator/ajv)) | dependencies | minor | [`8.12.0` -> `8.13.0`](https://renovatebot.com/diffs/npm/ajv/8.12.0/8.13.0) |\n| [ajv](https://ajv.js.org) ([source](https://togithub.com/ajv-validator/ajv)) | devDependencies | minor | [`8.12.0` -> `8.13.0`](https://renovatebot.com/diffs/npm/ajv/8.12.0/8.13.0) |\n| [quicktype-core](https://togithub.com/quicktype/quicktype) | devDependencies | patch | [`23.0.156` -> `23.0.158`](https://renovatebot.com/diffs/npm/quicktype-core/23.0.156/23.0.158) |\n| [terser](https://terser.org) ([source](https://togithub.com/terser/terser)) | dependencies | minor | [`5.30.4` -> `5.31.0`](https://renovatebot.com/diffs/npm/terser/5.30.4/5.31.0) |\n| [terser](https://terser.org) ([source](https://togithub.com/terser/terser)) | devDependencies | minor | [`5.30.4` -> `5.31.0`](https://renovatebot.com/diffs/npm/terser/5.30.4/5.31.0) |\n| [undici](https://undici.nodejs.org) ([source](https://togithub.com/nodejs/undici)) | dependencies | minor | [`6.14.1` -> `6.15.0`](https://renovatebot.com/diffs/npm/undici/6.14.1/6.15.0) |\n| [undici](https://undici.nodejs.org) ([source](https://togithub.com/nodejs/undici)) | devDependencies | minor | [`6.14.1` -> `6.15.0`](https://renovatebot.com/diffs/npm/undici/6.14.1/6.15.0) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>babel/babel (@&#8203;babel/core)</summary>\n\n### [`v7.24.5`](https://togithub.com/babel/babel/blob/HEAD/CHANGELOG.md#v7245-2024-04-29)\n\n[Compare Source](https://togithub.com/babel/babel/compare/v7.24.4...v7.24.5)\n\n##### :bug: Bug Fix\n\n-   `babel-plugin-transform-classes`, `babel-traverse`\n    -   [#&#8203;16377](https://togithub.com/babel/babel/pull/16377) fix: TypeScript annotation affects output ([@&#8203;liuxingbaoyu](https://togithub.com/liuxingbaoyu))\n-   `babel-helpers`, `babel-plugin-proposal-explicit-resource-management`, `babel-runtime-corejs3`\n    -   [#&#8203;16440](https://togithub.com/babel/babel/pull/16440) Fix suppressed error order ([@&#8203;sossost](https://togithub.com/sossost))\n    -   [#&#8203;16408](https://togithub.com/babel/babel/pull/16408) Await nullish async disposable ([@&#8203;JLHwung](https://togithub.com/JLHwung))\n\n##### :nail_care: Polish\n\n-   `babel-parser`\n    -   [#&#8203;16407](https://togithub.com/babel/babel/pull/16407) Recover from exported `using` declaration ([@&#8203;JLHwung](https://togithub.com/JLHwung))\n\n##### :house: Internal\n\n-   Other\n    -   [#&#8203;16414](https://togithub.com/babel/babel/pull/16414) Relax ESLint peerDependency constraint to allow v9 ([@&#8203;liuxingbaoyu](https://togithub.com/liuxingbaoyu))\n-   `babel-parser`\n    -   [#&#8203;16425](https://togithub.com/babel/babel/pull/16425) Improve `@babel/parser` AST types ([@&#8203;nicolo-ribaudo](https://togithub.com/nicolo-ribaudo))\n    -   [#&#8203;16417](https://togithub.com/babel/babel/pull/16417) Always pass type argument to `.startNode` ([@&#8203;nicolo-ribaudo](https://togithub.com/nicolo-ribaudo))\n-   `babel-helper-create-class-features-plugin`, `babel-helper-member-expression-to-functions`, `babel-helper-module-transforms`, `babel-helper-split-export-declaration`, `babel-helper-wrap-function`, `babel-helpers`, `babel-plugin-bugfix-firefox-class-in-computed-class-key`, `babel-plugin-proposal-explicit-resource-management`, `babel-plugin-transform-block-scoping`, `babel-plugin-transform-destructuring`, `babel-plugin-transform-object-rest-spread`, `babel-plugin-transform-optional-chaining`, `babel-plugin-transform-parameters`, `babel-plugin-transform-private-property-in-object`, `babel-plugin-transform-react-jsx-self`, `babel-plugin-transform-typeof-symbol`, `babel-plugin-transform-typescript`, `babel-traverse`\n    -   [#&#8203;16439](https://togithub.com/babel/babel/pull/16439) Make `NodePath<T | U>` distributive ([@&#8203;nicolo-ribaudo](https://togithub.com/nicolo-ribaudo))\n-   `babel-plugin-proposal-partial-application`, `babel-types`\n    -   [#&#8203;16421](https://togithub.com/babel/babel/pull/16421) Remove `JSXNamespacedName` from valid `CallExpression` args ([@&#8203;nicolo-ribaudo](https://togithub.com/nicolo-ribaudo))\n-   `babel-plugin-transform-class-properties`, `babel-preset-env`\n    -   [#&#8203;16406](https://togithub.com/babel/babel/pull/16406) Do not load unnecessary Babel 7 syntax plugins in Babel 8 ([@&#8203;nicolo-ribaudo](https://togithub.com/nicolo-ribaudo))\n\n##### :running_woman: Performance\n\n-   `babel-helpers`, `babel-preset-env`, `babel-runtime-corejs3`\n    -   [#&#8203;16357](https://togithub.com/babel/babel/pull/16357) Performance: improve `objectWithoutPropertiesLoose` on V8 ([@&#8203;romgrk](https://togithub.com/romgrk))\n\n</details>\n\n<details>\n<summary>typescript-eslint/typescript-eslint (@&#8203;typescript-eslint/eslint-plugin)</summary>\n\n### [`v7.8.0`](https://togithub.com/typescript-eslint/typescript-eslint/blob/HEAD/packages/eslint-plugin/CHANGELOG.md#780-2024-04-29)\n\n[Compare Source](https://togithub.com/typescript-eslint/typescript-eslint/compare/v7.7.1...v7.8.0)\n\n##### ðŸ©¹ Fixes\n\n-   **eslint-plugin:** \\[no-unsafe-argument] handle  tagged templates\n\n-   **eslint-plugin:** \\[prefer-optional-chain] suggests optional chaining during strict null equality check\n\n-   **eslint-plugin:** \\[consistent-type-assertions] handle tagged templates\n\n-   **eslint-plugin:** \\[no-unsafe-return] handle union types\n\n-   **eslint-plugin:** \\[no-unused-vars] clear error report range\n\n##### â¤ï¸  Thank You\n\n-   auvred\n-   Josh Goldberg âœ¨\n-   jsfm01\n-   Kim Sang Du\n-   YeonJuan\n\nYou can read about our [versioning strategy](https://main--typescript-eslint.netlify.app/users/versioning) and [releases](https://main--typescript-eslint.netlify.app/users/releases) on our website.\n\n</details>\n\n<details>\n<summary>typescript-eslint/typescript-eslint (@&#8203;typescript-eslint/parser)</summary>\n\n### [`v7.8.0`](https://togithub.com/typescript-eslint/typescript-eslint/blob/HEAD/packages/parser/CHANGELOG.md#780-2024-04-29)\n\n[Compare Source](https://togithub.com/typescript-eslint/typescript-eslint/compare/v7.7.1...v7.8.0)\n\nThis was a version bump only for parser to align it with other projects, there were no code changes.\n\nYou can read about our [versioning strategy](https://main--typescript-eslint.netlify.app/users/versioning) and [releases](https://main--typescript-eslint.netlify.app/users/releases) on our website.\n\n</details>\n\n<details>\n<summary>ajv-validator/ajv (ajv)</summary>\n\n### [`v8.13.0`](https://togithub.com/ajv-validator/ajv/releases/tag/v8.13.0)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v8.12.0...v8.13.0)\n\n-   add named exports\n-   update dependencies\n-   update node.js\n\n</details>\n\n<details>\n<summary>quicktype/quicktype (quicktype-core)</summary>\n\n### [`v23.0.158`](https://togithub.com/quicktype/quicktype/compare/84859e10a3ee9fb9d9417f8e98a463ba4cafdf3c...e50d5a05fbf55e667c82512a42ad3e3308d92e21)\n\n[Compare Source](https://togithub.com/quicktype/quicktype/compare/84859e10a3ee9fb9d9417f8e98a463ba4cafdf3c...e50d5a05fbf55e667c82512a42ad3e3308d92e21)\n\n### [`v23.0.157`](https://togithub.com/quicktype/quicktype/compare/22e34d2706a015cb445a00cc89ca03de37cadc98...84859e10a3ee9fb9d9417f8e98a463ba4cafdf3c)\n\n[Compare Source](https://togithub.com/quicktype/quicktype/compare/22e34d2706a015cb445a00cc89ca03de37cadc98...84859e10a3ee9fb9d9417f8e98a463ba4cafdf3c)\n\n</details>\n\n<details>\n<summary>terser/terser (terser)</summary>\n\n### [`v5.31.0`](https://togithub.com/terser/terser/blob/HEAD/CHANGELOG.md#v5310)\n\n[Compare Source](https://togithub.com/terser/terser/compare/v5.30.4...v5.31.0)\n\n-   Sync up property mangler exceptions with current contents of Firefox and Chrome environments\n-   Add more webcomponent properties to property mangler exceptions ([#&#8203;1525](https://togithub.com/terser/terser/issues/1525))\n-   Drop non-nullish constants in `...spreads` in objects ([#&#8203;1141](https://togithub.com/terser/terser/issues/1141))\n\n</details>\n\n<details>\n<summary>nodejs/undici (undici)</summary>\n\n### [`v6.15.0`](https://togithub.com/nodejs/undici/releases/tag/v6.15.0)\n\n[Compare Source](https://togithub.com/nodejs/undici/compare/v6.14.1...v6.15.0)\n\n##### What's Changed\n\n-   Expose EnvHttpProxyAgent to Node.js core bundle, so it can be turned â€¦ by [@&#8203;mcollina](https://togithub.com/mcollina) in [https://github.com/nodejs/undici/pull/3148](https://togithub.com/nodejs/undici/pull/3148)\n-   test: add headerslist copy check by [@&#8203;tsctx](https://togithub.com/tsctx) in [https://github.com/nodejs/undici/pull/3156](https://togithub.com/nodejs/undici/pull/3156)\n-   chore: ensure automated v6 release compared to v6 by [@&#8203;mweberxyz](https://togithub.com/mweberxyz) in [https://github.com/nodejs/undici/pull/3149](https://togithub.com/nodejs/undici/pull/3149)\n-   fetch: do not leak signal listeners by [@&#8203;mcollina](https://togithub.com/mcollina) in [https://github.com/nodejs/undici/pull/3158](https://togithub.com/nodejs/undici/pull/3158)\n-   fix: request cache mode is not the same as request mode by [@&#8203;tsibley](https://togithub.com/tsibley) in [https://github.com/nodejs/undici/pull/3151](https://togithub.com/nodejs/undici/pull/3151)\n-   fetch: don't re-lowercase HeadersList by [@&#8203;tsctx](https://togithub.com/tsctx) in [https://github.com/nodejs/undici/pull/3159](https://togithub.com/nodejs/undici/pull/3159)\n-   fix casing issue when cloning Headers object by [@&#8203;KhafraDev](https://togithub.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3160](https://togithub.com/nodejs/undici/pull/3160)\n-   build(deps): bump node from `6d0f18a` to `db8772d` in /build by [@&#8203;dependabot](https://togithub.com/dependabot) in [https://github.com/nodejs/undici/pull/3163](https://togithub.com/nodejs/undici/pull/3163)\n-   fix header cloning bug by [@&#8203;tsctx](https://togithub.com/tsctx) in [https://github.com/nodejs/undici/pull/3162](https://togithub.com/nodejs/undici/pull/3162)\n-   chore: change bench naming for h2 by [@&#8203;metcoder95](https://togithub.com/metcoder95) in [https://github.com/nodejs/undici/pull/3165](https://togithub.com/nodejs/undici/pull/3165)\n-   expose WebSocket related events in node bundle by [@&#8203;KhafraDev](https://togithub.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3167](https://togithub.com/nodejs/undici/pull/3167)\n-   feat: add support for if-match on retry handler by [@&#8203;metcoder95](https://togithub.com/metcoder95) in [https://github.com/nodejs/undici/pull/3144](https://togithub.com/nodejs/undici/pull/3144)\n-   fix: correct firing order of abort events by [@&#8203;tsctx](https://togithub.com/tsctx) in [https://github.com/nodejs/undici/pull/3169](https://togithub.com/nodejs/undici/pull/3169)\n-   create fast MessageEvent by [@&#8203;KhafraDev](https://togithub.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3170](https://togithub.com/nodejs/undici/pull/3170)\n-   chore: add explicitly [@&#8203;fastify/busboy](https://togithub.com/fastify/busboy) by [@&#8203;Uzlopak](https://togithub.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3172](https://togithub.com/nodejs/undici/pull/3172)\n-   chore: remove sinon as dev dependency by [@&#8203;Uzlopak](https://togithub.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3171](https://togithub.com/nodejs/undici/pull/3171)\n-   webidl changes by [@&#8203;KhafraDev](https://togithub.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3175](https://togithub.com/nodejs/undici/pull/3175)\n-   preserve dictionary key name in webidl errors by [@&#8203;KhafraDev](https://togithub.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3176](https://togithub.com/nodejs/undici/pull/3176)\n\n##### New Contributors\n\n-   [@&#8203;tsibley](https://togithub.com/tsibley) made their first contribution in [https://github.com/nodejs/undici/pull/3151](https://togithub.com/nodejs/undici/pull/3151)\n\n**Full Changelog**: https://github.com/nodejs/undici/compare/v6.14.1...v6.15.0\n\n</details>\n\n---\n\n### Configuration\n\nðŸ“… **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\nðŸš¦ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\nâ™» **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\nðŸ‘» **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4zMjkuMCIsInVwZGF0ZWRJblZlciI6IjM3LjMyOS4wIiwidGFyZ2V0QnJhbmNoIjoibWFpbiIsImxhYmVscyI6WyJhY3Rpb246IG1lcmdlIiwidGFyZ2V0OiBtaW5vciJdfQ==-->\n","Url":"https://github.com/angular/angular-cli/pull/27562","RelatedDescription":"Closed or merged PR \"build: update all non-major dependencies\" (#27562)"},{"Id":"2270021423","IsPullRequest":true,"CreatedAt":"2024-04-30T14:14:52","Actor":"clydin","Number":"27561","RawContent":null,"Title":"refactor(@angular/build): move postcss stylesheet processor to an optional peer dependency","State":"closed","Body":"The Postcss stylesheet processor is now an optional peer dependency of the newly introduced `@angular/build` build system package. This change removes the need for the package to have a direct dependency on the `postcss` package and allows some version customization of the optional `postcss` package if needed. Postcss plugins (including Tailwind) are still fully supported but usage will now require installing the `postcss` package within the Angular workspace. An error with instructions to install the package will be generated during a build if the package is not present. This change only affects direct usage of the new `@angular/build` package. The `@angular-devkit/build-angular` package which is currently used for all existing projects will continue to contain and directly depend on the `postcss` package.\r\n\r\nNo changes are required for existing applications.","Url":"https://github.com/angular/angular-cli/pull/27561","RelatedDescription":"Closed or merged PR \"refactor(@angular/build): move postcss stylesheet processor to an optional peer dependency\" (#27561)"},{"Id":"2268187723","IsPullRequest":false,"CreatedAt":"2024-04-29T18:22:53","Actor":"Criban","Number":"27555","RawContent":null,"Title":"Changes to index.html no longer work with esbuild","State":"closed","Body":"### Command\n\nbuild, serve\n\n### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nAfter switching to the builder `@angular-devkit/build-angular:application`, changes to the `index.html` are no longer synchronized.\r\n\r\nSame problem with the builder `@angular-devkit/build-angular:browser-esbuild`\n\n### Minimal Reproduction\n\n1. generate new angular project with `ng new`\r\n2. run `ng serve` and open `http://localhost:4200`\r\n3. change something in the `index.html`\r\n4. refresh the browser -> changes do not appear\n\n### Exception or Error\n\n_No response_\n\n### Your Environment\n\n```text\nAngular CLI: 17.3.6\r\nNode: 20.11.1\r\nPackage Manager: npm 10.2.4\r\nOS: win32 x64\r\n\r\nAngular: 17.3.6\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1703.6\r\n@angular-devkit/build-angular   17.3.6\r\n@angular-devkit/core            17.3.6\r\n@angular-devkit/schematics      17.3.6\r\n@schematics/angular             17.3.6\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.4\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/27555","RelatedDescription":"Closed issue \"Changes to index.html no longer work with esbuild\" (#27555)"},{"Id":"2269560413","IsPullRequest":true,"CreatedAt":"2024-04-29T18:22:52","Actor":"clydin","Number":"27560","RawContent":null,"Title":"fix(@angular/build): ensure input index HTML file triggers rebuilds when changed","State":"closed","Body":"When using the `application` builder, the input index HTML file will now\r\ncorrectly trigger rebuilds of the application. The rebuilds are not currently\r\noptimized for the input index file only case but changes will be reflected\r\nin the output.\r\n","Url":"https://github.com/angular/angular-cli/pull/27560","RelatedDescription":"Closed or merged PR \"fix(@angular/build): ensure input index HTML file triggers rebuilds when changed\" (#27560)"},{"Id":"2269223835","IsPullRequest":true,"CreatedAt":"2024-04-29T18:05:37","Actor":"clydin","Number":"27559","RawContent":null,"Title":"fix(@schematics/angular): add less dependency in application migration if needed","State":"closed","Body":"The application migration schematic will now attempt to detect the usage of Less stylesheets within a workspace and install the `less` dependency if required. This will only occur if the migration analysis allows for the conversion to use the `@angular/build` package instead of the `@angular-devkit/build-angular` package. The Less usage detection may not detect Less stylesheets within Node.js packages and currently does not handle the case where a project only has inline Less stylesheets. More complex analysis may be added in the future. However, a build time error message will be presented with instructions to install `less` in these cases if the stylesheet preprocessor is required and not present.","Url":"https://github.com/angular/angular-cli/pull/27559","RelatedDescription":"Closed or merged PR \"fix(@schematics/angular): add less dependency in application migration if needed\" (#27559)"},{"Id":"2269175696","IsPullRequest":true,"CreatedAt":"2024-04-29T16:10:39","Actor":"clydin","Number":"27558","RawContent":null,"Title":"I18n extract default build target","State":"closed","Body":"The `extract-i18n` option schema has been updated to reflect that the\r\n`buildTarget` option is not required. The option value will default\r\nto the `build` target of the containing project. This removes the need\r\nfor an additional option and character count within the `angular.json`\r\nfile for the project.","Url":"https://github.com/angular/angular-cli/pull/27558","RelatedDescription":"Closed or merged PR \"I18n extract default build target\" (#27558)"},{"Id":"2268297800","IsPullRequest":true,"CreatedAt":"2024-04-29T07:14:41","Actor":"angular-robot","Number":"27557","RawContent":null,"Title":"build: lock file maintenance","State":"open","Body":"This PR contains the following updates:\n\n| Update | Change |\n|---|---|\n| lockFileMaintenance | All locks refreshed |\n\nðŸ”§ This Pull Request updates lock files to use the latest dependency versions.\n\n---\n\n### Configuration\n\nðŸ“… **Schedule**: Branch creation - \"before 4am on monday\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\nðŸš¦ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\nâ™» **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\nðŸ‘» **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4zMjMuMSIsInVwZGF0ZWRJblZlciI6IjM3LjMyMy4xIiwidGFyZ2V0QnJhbmNoIjoibWFpbiIsImxhYmVscyI6WyJhY3Rpb246IG1lcmdlIiwidGFyZ2V0OiBtaW5vciJdfQ==-->\n","Url":"https://github.com/angular/angular-cli/pull/27557","RelatedDescription":"Open PR \"build: lock file maintenance\" (#27557)"}],"ResultType":"GitHubIssue"},"material2-Issues":{"Issues":[{"Id":"2276294576","IsPullRequest":true,"CreatedAt":"2024-05-02T19:11:09","Actor":"DBowen33","Number":"28995","RawContent":null,"Title":"fix(material/divider): non-text color contrast issues","State":"open","Body":"Fixes color contrast issues with non-text elements, including divider. Changed from \"outline-variant\" to \"outline\" colors to pass 3:1 ratio between light/dark mode backgrounds. Also changing for expansion, stepper, and table so they can also pass not-text color contrast.\r\n\r\nBefore (Light mode):\r\nFG- #c4c6d0 (neutral-variant80)\r\nBG- #fff\r\nRatio: 1.70:1\r\nScreenshot: \r\n![image](https://github.com/angular/components/assets/42016383/46f243b8-04d1-45fc-a825-deef998361e6)\r\n\r\n\r\nAfter (Light mode):\r\nFG- #747775 (neutral-variant50)\r\nBG- #fff\r\nRatio: 4.52:1\r\nScreenshot: \r\n![image](https://github.com/angular/components/assets/42016383/3fce70e4-6484-4093-a3e0-4e3226572975)\r\n\r\nBefore (Dark mode):\r\nFG- #44474E (neutral-variant30)\r\nBG- #1f1f1f\r\nRatio: 1.77:1\r\nScreenshot: \r\n![image](https://github.com/angular/components/assets/42016383/d3e15de8-b2cd-4534-8136-04bbf39605e8)\r\n\r\n\r\nAfter (Dark mode):\r\nFG- #8e9099 (neutral-variant60)\r\nBG- #1f1f1f\r\nRatio: 5.17:1\r\nScreenshot: \r\n![image](https://github.com/angular/components/assets/42016383/786f92b4-1db8-44fa-820f-e14ccb0c37fb)\r\n\r\nFixes b/291964002","Url":"https://github.com/angular/components/pull/28995","RelatedDescription":"Open PR \"fix(material/divider): non-text color contrast issues\" (#28995)"},{"Id":"2275425889","IsPullRequest":true,"CreatedAt":"2024-05-02T13:40:16","Actor":"andrewseguin","Number":"28994","RawContent":null,"Title":"docs: release notes for the v17.3.7 release","State":"closed","Body":"Cherry-picks the changelog from the \"17.3.x\" branch to the next branch (main).","Url":"https://github.com/angular/components/pull/28994","RelatedDescription":"Closed or merged PR \"docs: release notes for the v17.3.7 release\" (#28994)"},{"Id":"2275418167","IsPullRequest":true,"CreatedAt":"2024-05-02T12:30:20","Actor":"andrewseguin","Number":"28993","RawContent":null,"Title":"Bump version to \"v17.3.7\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/28993","RelatedDescription":"Closed or merged PR \"Bump version to \"v17.3.7\" with changelog.\" (#28993)"},{"Id":"2275381783","IsPullRequest":true,"CreatedAt":"2024-05-02T12:18:27","Actor":"andrewseguin","Number":"28992","RawContent":null,"Title":"docs: release notes for the v18.0.0-rc.0 release","State":"closed","Body":"Cherry-picks the changelog from the \"18.0.x\" branch to the next branch (main).","Url":"https://github.com/angular/components/pull/28992","RelatedDescription":"Closed or merged PR \"docs: release notes for the v18.0.0-rc.0 release\" (#28992)"},{"Id":"2275371521","IsPullRequest":true,"CreatedAt":"2024-05-02T12:07:04","Actor":"andrewseguin","Number":"28991","RawContent":null,"Title":"Bump version to \"v18.0.0-rc.0\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/28991","RelatedDescription":"Closed or merged PR \"Bump version to \"v18.0.0-rc.0\" with changelog.\" (#28991)"},{"Id":"2274983797","IsPullRequest":false,"CreatedAt":"2024-05-02T09:02:24","Actor":"pedroestabruxelles","Number":"28990","RawContent":null,"Title":"bug(mat-icon-button): anchor is pointing to the incorrect template","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nAnchor icon button is pointing to the button.html template, this causes style inconsistency for example when using the icon button with text, e.g.: <button mat-icon-button>A</button>\r\n\r\nButton:\r\n@Component({\r\n  selector: `button[mat-icon-button]`,\r\n  templateUrl: 'icon-button.html',\r\n  (...)\r\n})\r\n\r\nAnchor:\r\n@Component({\r\n  selector: `a[mat-icon-button]`,\r\n  templateUrl: 'button.html',\r\n  (...)\r\n})\n\n### Reproduction\n\nThis is not needed.\n\n### Expected Behavior\n\nBoth anchor/button mat-icon-button should be using the same template\n\n### Actual Behavior\n\nanchor/button mat-icon-button are not using the same template\n\n### Environment\n\n- Angular: 17\r\n- CDK/Material: 17.3.0\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/28990","RelatedDescription":"Open issue \"bug(mat-icon-button): anchor is pointing to the incorrect template\" (#28990)"},{"Id":"2274972916","IsPullRequest":false,"CreatedAt":"2024-05-02T08:58:40","Actor":"alirezamirian","Number":"28989","RawContent":null,"Title":"bug(cdkListbox): active item is not scrolled into viewport when `useActiveDescendant` is true","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nWhen `useActiveDescendant` is true, the active option won't stay in the view, if the listbox is scrollable. It can happen both when an option is selected initially, and when the user uses arrow keys to navigate the options. \r\nIt should be related to the fact that in active descendant mode, listbox option elements won't be focused physically, so they are not automatically scrolled into view.\r\n\r\n\n\n### Reproduction\n\nStackBlitz link: https://stackblitz.com/edit/q47nzr?file=src%2Fexample%2Fcdk-listbox-activedescendant-example.ts\r\nSteps to reproduce:\r\n1. Focus the listbox, e.g. by clicking on one of the items\r\n2. start navigating with arrow keys. The active item goes out of the view\r\n\n\n### Expected Behavior\n\nListbox should scroll to keep the active option within the view, regardless of the value of `useActiveDescendant`.\n\n### Actual Behavior\n\nListbox doesn't scroll to keep the active option within the view, when `useActiveDescendant` is true.\n\n### Environment\n\n@angular-devkit/architect          0.1703.0\r\n@angular-devkit/build-angular      17.3.0\r\n@angular-devkit/core               17.3.0\r\n@angular-devkit/schematics         17.3.0\r\n@angular/cdk                       17.3.6\r\n@angular/material                  17.3.6\r\n@angular/material-experimental     17.3.6\r\n@angular/material-moment-adapter   17.3.6\r\n@schematics/angular                17.3.0\r\nrxjs                               7.4.0\r\ntypescript                         5.4.2\r\nzone.js                            0.14.0","Url":"https://github.com/angular/components/issues/28989","RelatedDescription":"Open issue \"bug(cdkListbox): active item is not scrolled into viewport when `useActiveDescendant` is true\" (#28989)"},{"Id":"2274830034","IsPullRequest":true,"CreatedAt":"2024-05-02T07:37:45","Actor":"rajasekar-d","Number":"28988","RawContent":null,"Title":"SSR Fix","State":"open","Body":"SSR returns document as empty object {}.To ensure the document, added additional instanceof Document control statement","Url":"https://github.com/angular/components/pull/28988","RelatedDescription":"Open PR \"SSR Fix\" (#28988)"},{"Id":"2274138421","IsPullRequest":false,"CreatedAt":"2024-05-01T20:47:53","Actor":"BenjaminBanwart","Number":"28987","RawContent":null,"Title":"bug(mat-menu): input inside of a <form> with mat-menu-item on it un-focuses when a \"u\" is entered into the textbox","State":"closed","Body":"### Is this a regression?\r\n\r\nI'm not sure. I've noticed it in v15/16/17\r\n\r\n## Description\r\n\r\n### Problem\r\nWhen a \"mat-form-field\" with a \"input\" is inside of a \"form\" that has mat-menu-item on it- all inside of a \"mat-menu\", if a user inserts a 'u' into the \"input\", the \"input\" element un-focuses\r\n\r\nI was able reproduce this in multiple places in my app (wherever I had this combination of components) and I was able to recreate the issue on stackblitz\r\n\r\n### Reproduction\r\n\r\nStackBlitz link: https://stackblitz.com/edit/stackblitz-starters-xn3atm?file=src%2Ftest.html\r\nSteps to reproduce:\r\n1. serve the code\r\n2. open the menu\r\n3. type in the input textbox\r\n4. insert a 'u' character into it\r\n\r\n\r\n### Expected Behavior\r\n\r\nI did not expect for the text box to un-focus and require me to re-click into the box to continue typing. It happens consistently with the letter 'u'.\r\n\r\nI expected it to perform like any other text input.\r\n\r\n### Actual Behavior\r\n\r\nIf I inserted a 'u' into the \"input\", it un-focused.\r\n\r\n### Environment\r\n\r\n- Angular: 15/16/17\r\n- CDK/Material: 15/16/17\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/28987","RelatedDescription":"Closed issue \"bug(mat-menu): input inside of a <form> with mat-menu-item on it un-focuses when a \"u\" is entered into the textbox\" (#28987)"},{"Id":"2274117994","IsPullRequest":false,"CreatedAt":"2024-05-01T20:09:35","Actor":"Beilinson","Number":"28986","RawContent":null,"Title":"bug(cdkTargetMenuAim): directive does not really work","State":"open","Body":"### Description\r\n\r\nAccording to the docs, the `cdkTargetMenuAim` allows for a \"Smart Aim\" behavior which calculates the intended slope of the mouse pointer and does not switch to another submenu unless some timeout is reached or the mouse deviates from the slope. This behavior does not seem to work at all (tested on several versions: 16.1.2, 17.3.6).\r\n\r\n### Reproduction\r\n\r\nStackBlitz link: https://stackblitz.com/edit/qwy1he?file=src%2Fexample%2Fcdk-menu-menubar-example.html\r\nSteps to reproduce:\r\n1. Try moving in a diagonal line from the `edit` menu item to the `cut`  menu item in the submenu. \r\n2. Doing so will immediately open the `share` submenu instead, no matter how fast the action is done (unless its faster than the refresh rate of the monitor)\r\n\r\n\r\n### Expected Behavior\r\n\r\nThat moving the mouse along a diagonal line only opens a different subMenu if the mouse took too long to travel.\r\nsee https://rawgit.com/kamens/jQuery-menu-aim/master/example/example.html for an example\r\n\r\n### Actual Behavior\r\n\r\nThe different submenus disappear immediately.\r\n\r\nFrom my limited debugging I was able to glean that the issue seems to stem from the PointerTracker, where the `_getItemPointerEntries()` stream doesn't seem to get output any value on entering children menu items, while the exit is called every time, meaning the `previousElement` and `activeElement` are set as undefined for the duration of the mouse interaction with the menu items and submenus.\r\n\r\n### Environment\r\n\r\n- Angular: 17.3.6\r\n- CDK: 17.3.6\r\n- Browser(s): Chrome, Firefox\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/28986","RelatedDescription":"Open issue \"bug(cdkTargetMenuAim): directive does not really work\" (#28986)"},{"Id":"2273657590","IsPullRequest":false,"CreatedAt":"2024-05-01T14:59:27","Actor":"Sathishhari196","Number":"28985","RawContent":null,"Title":"bug(MatSelect): Mat-select click event is not happening with focus","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\n(focus)=\"matselectTemplateRef.open()\r\nAlong with it one more click event is used.  we use both event for same mat-select and on focus if we call open() then only focus is triggered for both click and focus event. \r\n\r\n[https://stackblitz.com/edit/w6h39v-nzk8nh?file=src%2Fexample%2Fselect-multiple-example.html](url)\n\n### Reproduction\n\nStackBlitz link: \r\nSteps to reproduce:\r\n1. Use click and focus event for same mat-select\r\n2.On focus call matselect open() method.\r\n\n\n### Expected Behavior\n\nOn click , click event to be triggered.\n\n### Actual Behavior\n\nOn click, focus is triggered if we use open method on focus for both click and focus\n\n### Environment\n\nAll environment\r\n","Url":"https://github.com/angular/components/issues/28985","RelatedDescription":"Open issue \"bug(MatSelect): Mat-select click event is not happening with focus\" (#28985)"},{"Id":"2265361474","IsPullRequest":true,"CreatedAt":"2024-05-01T07:52:57","Actor":"GiftLanga","Number":"28969","RawContent":null,"Title":"docs(cdk\\drag-drop): Add table drag drop example","State":"closed","Body":"Adds an example that shows how to drag and drop table rows Fixes #25168","Url":"https://github.com/angular/components/pull/28969","RelatedDescription":"Closed or merged PR \"docs(cdk\\drag-drop): Add table drag drop example\" (#28969)"},{"Id":"2267232049","IsPullRequest":false,"CreatedAt":"2024-05-01T07:39:21","Actor":"Segdo","Number":"28974","RawContent":null,"Title":"bug(cdk/drag-drop): new preview container breaks styling","State":"closed","Body":"### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n17.3.5\n\n### Description\n\nI have a html table where each tr has the cdkDrag directive so i can sort them. If the drag preview is outside of the table the styling breaks so i have set the cdkDragPreviewContainer to parent, which still works but since the latest update there is a new wrapper div around the table row which breaks the styling and html semantics because we now have a div instead of a tr in the table body.\r\n\r\nI would expect that there is an option to disable the wrapping div or maybe even having it opt in as it breaks existing styling. The popover also comes with some own user agent styling which was not there before.\n\n### Reproduction\n\nStackBlitz link: https://stackblitz.com/edit/components-issue-ycfvod?file=src%2Fmain.ts\r\nSteps to reproduce:\r\n1. \r\n2.\r\n\n\n### Expected Behavior\n\nI would expect the tr to be directly inside the parent container when i set cdkDragPreviewContainer to parent.\n\n### Actual Behavior\n\nThe tr is inside a div instead of the parent container.\n\n### Environment\n\n- Angular: 17.3.6\r\n- CDK/Material: 17.3.6\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows 11\r\n","Url":"https://github.com/angular/components/issues/28974","RelatedDescription":"Closed issue \"bug(cdk/drag-drop): new preview container breaks styling\" (#28974)"},{"Id":"2268333083","IsPullRequest":true,"CreatedAt":"2024-05-01T07:39:20","Actor":"crisbeto","Number":"28976","RawContent":null,"Title":"Preview popover fixes","State":"closed","Body":"Includes the following fixes related the preview popovers:\r\n\r\n### fix(cdk/drag-drop): reset user agent color on preview popover\r\nAfter #28945 the preview is inserted into a `popover` element which has a user agent styling of `color: canvastext`. These changes reset it to `inherit` to match the old behavior.\r\n\r\n### fix(cdk/drag-drop): remove preview wrapper\r\nSwitches back to positioning the preview directly instead of using a wrapper which can be breaking for existing apps. Instead we load a stylesheet dynamically with the necessary resets.\r\n\r\nFixes #28974.","Url":"https://github.com/angular/components/pull/28976","RelatedDescription":"Closed or merged PR \"Preview popover fixes\" (#28976)"},{"Id":"2272804661","IsPullRequest":false,"CreatedAt":"2024-05-01T02:18:33","Actor":"manng2","Number":"28984","RawContent":null,"Title":"bug(CdkMenuTriggerFor): CdkMenuTrigger doesn't work correctly with Angular without Zone","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nI am trying to convert my app to a Zoneless Angular application. Since converting the application to zoneless, some Angular CDK features don't work as I expected.\r\n\r\nI fixed the `OverlayRef` by calling `updatePosition` and it works well but I can't find out how to fix the `CdkMenuTriggerFor`. When I open the menu, the menu list items appear at the top-left (doesn't stick to the `cdkMenuTriggerFor`). My code is below\r\n\r\n```\r\n<div [cdkMenuTriggerFor]=\"menu\" class=\"flex items-center cursor-pointer\">\r\n  <img\r\n    src=\"assets/images/default-ava.png\"\r\n    alt=\"Default Avatar\"\r\n    class=\"desktop:w-12 desktop:h-12 mobile:w-8 mobile:h-8 mr-2\"\r\n  />\r\n</div>\r\n<ng-template #menu>\r\n  <app-menu cdkMenu>\r\n    <app-menu-item cdkMenuItem class=\"mobile:block desktop:hidden\">{{ userDetails()?.name }}</app-menu-item>\r\n    <app-menu-item cdkMenuItem (click)=\"viewProfile()\">Profile</app-menu-item>\r\n    <app-menu-item cdkMenuItem (click)=\"logout()\">Log out</app-menu-item>\r\n  </app-menu>\r\n</ng-template>\r\n```\n\n### Reproduction\n\nGitHub repository: https://github.com/manng2/angular-zoneless-bug-reproduce\r\n\r\n**Angular with Zone**\r\n<img width=\"1438\" alt=\"image\" src=\"https://github.com/angular/components/assets/44439173/8cad0328-a478-4d49-96d7-72d4ab281ac5\">\r\n\r\n\r\n**Angular without Zone**\r\n<img width=\"1439\" alt=\"image\" src=\"https://github.com/angular/components/assets/44439173/bcc6a5ec-a8e7-43b6-9317-695e30afd7ab\">\r\n\n\n### Expected Behavior\n\nThe menu list should be attached to a parent element like **Angular with Zone**\n\n### Actual Behavior\n\nThe menu list appears at the top-left (don't attach to the parent element)\n\n### Environment\n\n- Angular: 17.0.0\r\n- CDK/Material: 17.0.0\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): macOS\r\n","Url":"https://github.com/angular/components/issues/28984","RelatedDescription":"Open issue \"bug(CdkMenuTriggerFor): CdkMenuTrigger doesn't work correctly with Angular without Zone\" (#28984)"},{"Id":"2272578629","IsPullRequest":false,"CreatedAt":"2024-04-30T22:22:21","Actor":"jacob-amptech","Number":"28983","RawContent":null,"Title":"feat(MapMarkerAdvanced, MapOptions, MapTypeStyle): MapMarkerAdvanced requires mapId, but MapTypeStyle[] cannot be used with a mapId","State":"open","Body":"### Feature Description\n\nWhen attempting to implement a dark theme using a MapTypeStyle[] in MapOptions the styles do not apply and the following message is printed to the console:\r\n\r\n> A Map's styles property cannot be set when a mapId is present. When a mapId is present, Map styles are controlled via the cloud console.\r\n\r\nFor websites that need to be able to control toggling the map between dark and light theme, while also being forced off of the deprecated MapMarker, this poses a significant issue.\n\n### Use Case\n\nThe ability for a website to control the styling of google maps to conform to toggling between light and dark theme.","Url":"https://github.com/angular/components/issues/28983","RelatedDescription":"Open issue \"feat(MapMarkerAdvanced, MapOptions, MapTypeStyle): MapMarkerAdvanced requires mapId, but MapTypeStyle[] cannot be used with a mapId\" (#28983)"},{"Id":"2272422604","IsPullRequest":true,"CreatedAt":"2024-04-30T20:46:19","Actor":"essjay05","Number":"28982","RawContent":null,"Title":"fix(material/autocomplete): autocomplete panel top is cut off in landscape mode","State":"open","Body":"Fixes a bug in the Angular Material Autocomplete component where the autocomplete panel listbox top is cut off by the device screen when being viewed in landscape mode. This is because the listbox max-height is greater than the distance between the top of the autocomplete input and the screen top.\r\n\r\nFixes b/284148377","Url":"https://github.com/angular/components/pull/28982","RelatedDescription":"Open PR \"fix(material/autocomplete): autocomplete panel top is cut off in landscape mode\" (#28982)"},{"Id":"2272421166","IsPullRequest":true,"CreatedAt":"2024-04-30T20:45:38","Actor":"mmalerba","Number":"28981","RawContent":null,"Title":"fix(multiple): move afterRender calls back outside zone","State":"open","Body":"Updates some calls to afterRender / afterNextRender to explicitly run outside the NgZone. These usages were originally explcitily run outside, but the explicit call was removed when they were updated to use the afterRender / afterNextRender function, since at the time it was automatically outside the zone. The semantics of afterRender / afterNextRendef have since changed so this is no longer true. Therefore this PR restores the original explicit run outside.","Url":"https://github.com/angular/components/pull/28981","RelatedDescription":"Open PR \"fix(multiple): move afterRender calls back outside zone\" (#28981)"},{"Id":"2270664148","IsPullRequest":true,"CreatedAt":"2024-04-30T15:52:40","Actor":"crisbeto","Number":"28979","RawContent":null,"Title":"fix(material/slide-toggle): no outline when selected in high contrast mode","State":"closed","Body":"Fixes that the M3 slide toggle didn't have an outline when it's selected in high contrast mode.","Url":"https://github.com/angular/components/pull/28979","RelatedDescription":"Closed or merged PR \"fix(material/slide-toggle): no outline when selected in high contrast mode\" (#28979)"},{"Id":"2270955948","IsPullRequest":true,"CreatedAt":"2024-04-30T15:51:22","Actor":"crisbeto","Number":"28980","RawContent":null,"Title":"fix(cdk/drag-drop): resolve incompatibility with property minification","State":"closed","Body":"Fixes that the `showPopover` call was being minified by Closure and preventing the popover from opening.","Url":"https://github.com/angular/components/pull/28980","RelatedDescription":"Closed or merged PR \"fix(cdk/drag-drop): resolve incompatibility with property minification\" (#28980)"},{"Id":"2264529191","IsPullRequest":true,"CreatedAt":"2024-04-30T15:38:50","Actor":"mmalerba","Number":"28968","RawContent":null,"Title":"fix(cdk/scrolling): fix virtual scrolling jankiness with run coalescing","State":"closed","Body":"Roll forward of original change + fix","Url":"https://github.com/angular/components/pull/28968","RelatedDescription":"Closed or merged PR \"fix(cdk/scrolling): fix virtual scrolling jankiness with run coalescing\" (#28968)"},{"Id":"2266880851","IsPullRequest":true,"CreatedAt":"2024-04-29T20:53:26","Actor":"crisbeto","Number":"28973","RawContent":null,"Title":"Split up M3 tokens","State":"closed","Body":"Splits up the M3 tokens into separate files to match the structure of the M2 tokens and make them easier to navigate.","Url":"https://github.com/angular/components/pull/28973","RelatedDescription":"Closed or merged PR \"Split up M3 tokens\" (#28973)"},{"Id":"2269694480","IsPullRequest":false,"CreatedAt":"2024-04-29T18:31:05","Actor":"aarontravass","Number":"28978","RawContent":null,"Title":"feat(paginator): Paginator option where total length of the dataset of unknown","State":"open","Body":"### Feature Description\n\nThe current paginator requires that the `length` property be set but unfortunately, not all data sources out there can give the total length of the dataset or even if they do give, the fundamental act of running count can be rather slow. I would like to have an option `infiniteScroll` or another, with a better name, which when set, would emit the next page or previous page events until the data-source returns an empty set, thus letting the user know that they have reached the end of the dataset. \n\n### Use Case\n\nThe total count of a table is normally found by counting all rows in relational dbs like PostgreSQL\r\n \r\n> [However both both forms of count(1) and count(*) are fundamentally slow. PostgreSQL uses multiversion concurrency control (MVCC) to ensure consistency between simultaneous transactions. This means each transaction may see different rows -- and different numbers of rows -- in a table. There is no single universal row count that the database could cache, so it must scan through all rows counting how many are visible. Performance for an exact count grows linearly with table size.](https://www.citusdata.com/blog/2016/10/12/count-performance/#dup_counts_exact)\r\n\r\nMoreover, the resulting count is even slower when filters are applied. Filters are the expected part of any data table. \r\n\r\nWith an infinite scroll option, the user can keep firing the next page event without having to bog down the db with an expensive count query at the start.","Url":"https://github.com/angular/components/issues/28978","RelatedDescription":"Open issue \"feat(paginator): Paginator option where total length of the dataset of unknown\" (#28978)"},{"Id":"2267411417","IsPullRequest":true,"CreatedAt":"2024-04-29T17:57:20","Actor":"crisbeto","Number":"28975","RawContent":null,"Title":"fix(material/core): export all available M3 palettes","State":"closed","Body":"Fixes that the `$spring-green-palette` wasn't being exported.\r\n\r\nFixes #28924.","Url":"https://github.com/angular/components/pull/28975","RelatedDescription":"Closed or merged PR \"fix(material/core): export all available M3 palettes\" (#28975)"},{"Id":"2268890081","IsPullRequest":false,"CreatedAt":"2024-04-29T12:17:49","Actor":"monacodelisa","Number":"28977","RawContent":null,"Title":"feat(slide-toggle): Customized slide toggle for theming featuring light / dark mode icon","State":"open","Body":"### Feature Description\r\n\r\nThe feature I am suggesting is to add and additional slide-toggle button option\r\nthat is already customized for theme switching control.\r\n\r\n- having integrated theme appropriate icons within the `mdc-switch__icons` \r\n- to replace the two `SVG`s that are currently within \r\n\r\nI implemented it in one of my projects using vanilla JS and thought that it might be nice to have it as and option available\r\n- as a ready component within Angular Material Examples page.\r\n\r\nhere is a screenshot from my app:\r\n\r\nLight Mode\r\n![image](https://github.com/angular/components/assets/64324417/e4e20c29-a450-4d44-b2b4-3e831bb94abe)\r\n\r\nDark Mode \r\n![image](https://github.com/angular/components/assets/64324417/0f37ecd0-8846-44ba-9c97-49b6669ec16a)\r\n\r\nI have now implemented it on a second app too \r\n- [view live](https://monacodelisa.com)\r\n\r\n\r\n\r\n### Use Case\r\n\r\nThe `slide-toggle` component is often used as theme switcher, \r\nso I think that it would be very nice to have it ready and available. \r\n\r\nThe new design makes it easy to implement.","Url":"https://github.com/angular/components/issues/28977","RelatedDescription":"Open issue \"feat(slide-toggle): Customized slide toggle for theming featuring light / dark mode icon\" (#28977)"},{"Id":"2266173634","IsPullRequest":true,"CreatedAt":"2024-04-26T17:04:16","Actor":"wagnermaciel","Number":"28972","RawContent":null,"Title":"feat(material/theming): extend-theme sass function","State":"open","Body":"","Url":"https://github.com/angular/components/pull/28972","RelatedDescription":"Open PR \"feat(material/theming): extend-theme sass function\" (#28972)"},{"Id":"2266113736","IsPullRequest":false,"CreatedAt":"2024-04-26T16:21:23","Actor":"flipcasa","Number":"28971","RawContent":null,"Title":"Significant Slowdown in M3 Runtime Compilation","State":"open","Body":"### Is this a regression?\r\n\r\n- [ ] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nBuilding our NX monorepo, particularly when utilizing M3 material components at runtime, is experiencing noticeable delays. This slowdown in compilation time is impacting our development efficiency.\r\n\r\nWithout M3, the compilation process takes approximately 2 seconds. However, with M3 integrated, the compilation time extends to 40 seconds or more. \r\n\r\n### Reproduction\r\n\r\nStackBlitz link: \r\nSteps to reproduce:\r\n1. \r\n2.\r\n\r\n\r\n### Expected Behavior\r\n.\r\n\r\n### Actual Behavior\r\n\r\n.\r\n\r\n### Environment\r\n\r\n- Angular: v18.0.0-next.6\r\n- CDK/Material: v18.0.0-next.6\r\n- Browser(s): chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): mac\r\n","Url":"https://github.com/angular/components/issues/28971","RelatedDescription":"Open issue \"Significant Slowdown in M3 Runtime Compilation\" (#28971)"},{"Id":"2265413491","IsPullRequest":false,"CreatedAt":"2024-04-26T09:54:53","Actor":"8th-block","Number":"28970","RawContent":null,"Title":"angular/matreial docs usability","State":"closed","Body":"### Documentation Feedback\r\n\r\nThe main web documenation site for angular material has suffered a fairly significant downgrade in terms of UX.\r\n\r\nNamely, nearly all examples  now get launched on stackblitz. So a simple task of just trying to look up what a component looks now takes a few minutes of patiently waiting for stackblitz to open and even worse often stackblitz fails to even open the project. So what used to take just a quick glimpse over a page to decide on the look and feel now may take 10 min or so waiting for each example to open on stackblitz.\r\n\r\nIt would be nice if you could bring back the old documentation with the example shown where they really belong to - the actual documentation\r\n\r\n### Affected documentation page\r\n\r\nhttps://material.angular.io/","Url":"https://github.com/angular/components/issues/28970","RelatedDescription":"Closed issue \"angular/matreial docs usability\" (#28970)"},{"Id":"2263973250","IsPullRequest":true,"CreatedAt":"2024-04-25T16:05:35","Actor":"mmalerba","Number":"28967","RawContent":null,"Title":"Update next branch to reflect new release-train \"v18.1.0-next.0\".","State":"closed","Body":"The previous \"next\" release-train has moved into the feature-freeze phase. This PR updates the next branch to the subsequent release-train.\n\nAlso this PR cherry-picks the changelog for v18.0.0-next.6 into the main branch so that the changelog is up to date.","Url":"https://github.com/angular/components/pull/28967","RelatedDescription":"Closed or merged PR \"Update next branch to reflect new release-train \"v18.1.0-next.0\".\" (#28967)"},{"Id":"2263967925","IsPullRequest":true,"CreatedAt":"2024-04-25T16:00:46","Actor":"mmalerba","Number":"28966","RawContent":null,"Title":"Bump version to \"v18.0.0-next.6\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/28966","RelatedDescription":"Closed or merged PR \"Bump version to \"v18.0.0-next.6\" with changelog.\" (#28966)"}],"ResultType":"GitHubIssue"}},"RunOn":"2024-05-03T03:30:02.3735394Z","RunDurationInMilliseconds":1318}