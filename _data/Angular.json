{"Data":{"Angular-Issues":{"Issues":[{"Id":"2042812679","IsPullRequest":false,"CreatedAt":"2023-12-15T03:07:24","Actor":"EliasAlvarez22","Number":"53582","RawContent":null,"Title":"Docs > Template syntax > Class and style binding > Whatâ€™s next > Component styles - Page not found","State":"open","Body":"### Describe the problem that you experienced\n\nPage not found\n\n### Enter the URL of the topic with the problem\n\nhttps://angular.dev/guide/components/component-styles\n\n### Describe what you were looking for in the documentation\n\n_No response_\n\n### Describe the actions that led you to experience the problem\n\n_No response_\n\n### Describe what you want to experience that would fix the problem\n\n_No response_\n\n### Add a screenshot if that helps illustrate the problem\n\n_No response_\n\n### If this problem caused an exception or error, please paste it here\n\n_No response_\n\n### If the problem is browser-specific, please specify the device, OS, browser, and version\n\n_No response_\n\n### Provide any additional information here in as much as detail as you can\n\n_No response_","Url":"https://github.com/angular/angular/issues/53582","RelatedDescription":"Open issue \"Docs > Template syntax > Class and style binding > Whatâ€™s next > Component styles - Page not found\" (#53582)"},{"Id":"2042808820","IsPullRequest":true,"CreatedAt":"2023-12-15T03:02:32","Actor":"johnnygerard","Number":"53581","RawContent":null,"Title":"docs: clarify Node.js version","State":"open","Body":"Resolve #53334\r\n\r\n## PR Checklist\r\n- [x] The commit message follows our [guidelines](https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit)\r\n\r\n## PR Type\r\n- [x] Documentation content changes\r\n","Url":"https://github.com/angular/angular/pull/53581","RelatedDescription":"Open PR \"docs: clarify Node.js version\" (#53581)"},{"Id":"2042698758","IsPullRequest":true,"CreatedAt":"2023-12-15T00:28:45","Actor":"mmalerba","Number":"53580","RawContent":null,"Title":"refactor(compiler): Make attribute const collection less aggressive","State":"open","Body":"Changes template pipeline to be less aggressive in const collecting attrs, to match the behavior of template definition builder. There is nothing wrong with the more aggressive const collection, and in fact it would be good to re-enable it later, but for now this makes it easier to transition from TDB to template pipeline.\r\n\r\nAlso adds a test to verify that sensitive iframe attributes are properly validated.","Url":"https://github.com/angular/angular/pull/53580","RelatedDescription":"Open PR \"refactor(compiler): Make attribute const collection less aggressive\" (#53580)"},{"Id":"2042554563","IsPullRequest":true,"CreatedAt":"2023-12-14T21:46:22","Actor":"atscott","Number":"53579","RawContent":null,"Title":"Add zoneless scheduler to the ApplicationRef.isStable indicator","State":"open","Body":"**Commit 1:** https://github.com/angular/angular/pull/53499\r\n**Commit 2:** https://github.com/angular/angular/pull/53534\r\n**Commit 3:** https://github.com/angular/angular/pull/53576\r\n\r\n**Commit 4:**\r\ntest(core): Add scheduler in tests to tie into ApplicationRef.isStable\r\n\r\nThis commit updates the test scheduler implementation to contribute to\r\nApplicationRef stableness.\r\n\r\n**Commit 5**\r\nrefactor(core): Move change detection scheduler implementation to core\r\n\r\nThis commit moves the implementation of the change detection scheduler\r\nused for testing to angular/core along with a (private export) provider function.\r\n\r\nNote: Naming of the provider function is absolutely not final (and not\r\npublic API). I would prefer one that did not mention \"zones\"\r\nbut the easiest thing for now is to have a \"Zone\" and \"Zoneless\" naming\r\nscheme.\r\n\r\n\r\n\r\nAdding blocked label for now due to the number of PRs that should go before this that are not committed yet.","Url":"https://github.com/angular/angular/pull/53579","RelatedDescription":"Open PR \"Add zoneless scheduler to the ApplicationRef.isStable indicator\" (#53579)"},{"Id":"2042489051","IsPullRequest":true,"CreatedAt":"2023-12-14T21:00:01","Actor":"jessicajaniuk","Number":"53578","RawContent":null,"Title":"fix(migrations): cf migration - stop removing empty newlines from i18n blocks","State":"open","Body":"Since i18n sections are whitespace sensitive, we should avoid removing empty lines when inside an i18n block that were present before.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n","Url":"https://github.com/angular/angular/pull/53578","RelatedDescription":"Open PR \"fix(migrations): cf migration - stop removing empty newlines from i18n blocks\" (#53578)"},{"Id":"2042428438","IsPullRequest":false,"CreatedAt":"2023-12-14T20:36:53","Actor":"dimOk00","Number":"53577","RawContent":null,"Title":"Issue: Docs or angular.io Bug Report","State":"closed","Body":"### Describe the problem that you experienced\r\n\r\nPage https://angular.dev/api/common#pipes does not exist, there is a reference to it from docs\r\n\r\n### Enter the URL of the topic with the problem\r\n\r\n https://angular.dev/api/common#pipes\r\n\r\n### Describe what you were looking for in the documentation\r\n\r\nDocumentation about pipes\r\n\r\n### Describe the actions that led you to experience the problem\r\n\r\nClicked pipes full documentation in this page https://angular.dev/guide/pipes\r\n\r\n### Describe what you want to experience that would fix the problem\r\n\r\n_No response_\r\n\r\n### Add a screenshot if that helps illustrate the problem\r\n\r\n_No response_\r\n\r\n### If this problem caused an exception or error, please paste it here\r\n\r\n_No response_\r\n\r\n### If the problem is browser-specific, please specify the device, OS, browser, and version\r\n\r\n_No response_\r\n\r\n### Provide any additional information here in as much as detail as you can\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/53577","RelatedDescription":"Closed issue \"Issue: Docs or angular.io Bug Report\" (#53577)"},{"Id":"2042424324","IsPullRequest":true,"CreatedAt":"2023-12-14T20:26:20","Actor":"atscott","Number":"53576","RawContent":null,"Title":"refactor(core): Use single source of truth for ApplicationRef.isStable","State":"open","Body":"Commit 1: https://github.com/angular/angular/pull/53534)\r\n\r\nCommit 2\r\nThis commit updates the `ApplicationRef.isStable` implementation to use\r\na single `Observable` to manage the state. This simplifies the mental\r\nmodel quite a bit and removes the need for rx operators like\r\n`distinctUntilChanged` and `combineLatest`.","Url":"https://github.com/angular/angular/pull/53576","RelatedDescription":"Open PR \"refactor(core): Use single source of truth for ApplicationRef.isStable\" (#53576)"},{"Id":"2042411378","IsPullRequest":true,"CreatedAt":"2023-12-14T20:16:11","Actor":"jessicajaniuk","Number":"53575","RawContent":null,"Title":"refactor(migrations): update cf migration to handle module imports better","State":"open","Body":"This addresses the case where modules are being used and declared in the same file as the component. It is unclear whether its safe to remove the common module in this case, so best to leave it.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Refactoring (no functional changes, no api changes)\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n","Url":"https://github.com/angular/angular/pull/53575","RelatedDescription":"Open PR \"refactor(migrations): update cf migration to handle module imports better\" (#53575)"},{"Id":"2042293735","IsPullRequest":true,"CreatedAt":"2023-12-14T18:57:50","Actor":"dylhunn","Number":"53574","RawContent":null,"Title":"Template Pipeline: various fixes for compliance tests","State":"open","Body":"See individual commits for details.","Url":"https://github.com/angular/angular/pull/53574","RelatedDescription":"Open PR \"Template Pipeline: various fixes for compliance tests\" (#53574)"},{"Id":"2042265992","IsPullRequest":true,"CreatedAt":"2023-12-14T18:40:29","Actor":"AndrewKushnir","Number":"53573","RawContent":null,"Title":"refactor(compiler): support local compilation for `@defer` blocks","State":"open","Body":"This commit updates Angular compiler to support local compilation mode for `@defer` blocks.\r\n\r\nIn local compilation mode, compiler can only rely on the information present in a currently processed file. As a result, compiler can not detect which components/directives/pipes belong to a particular `@defer` block (because that requires selector matching and selector info from other files where those classes are defined) and thus which classes can be defer-loaded. Because of this, no dependency functions are being generated for `@defer` blocks in the local compilation mode.\r\n\r\nAlso, this commit brings extra configuration and logic to make `@defer` blocks compatible with more constrained local compilation mode internally.\r\n\r\nOverall, this change does *not* affect the behavior and APIs of `@defer` blocks externally (outside of Google's codebase) when using regular (full) compilation mode.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/53573","RelatedDescription":"Open PR \"refactor(compiler): support local compilation for `@defer` blocks\" (#53573)"},{"Id":"2040572286","IsPullRequest":true,"CreatedAt":"2023-12-14T17:33:58","Actor":"mmalerba","Number":"53557","RawContent":null,"Title":"Fix how template pipeline handles root-level ICUs with element tag placeholders","State":"closed","Body":"Adds a new test for the behavior and fixes issues with the implementation, as well as refactors some of the i18n phases to be easier to follow","Url":"https://github.com/angular/angular/pull/53557","RelatedDescription":"Closed or merged PR \"Fix how template pipeline handles root-level ICUs with element tag placeholders\" (#53557)"},{"Id":"2040587949","IsPullRequest":true,"CreatedAt":"2023-12-14T17:33:33","Actor":"jessicajaniuk","Number":"53558","RawContent":null,"Title":"fix(migrations): Fix cf migration bug with parsing for loop conditions properly","State":"closed","Body":"The order of operations for getting for loop parts was inverted resulting in the StringStack to never be reduced.\r\n\r\nfixes: #53555\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n","Url":"https://github.com/angular/angular/pull/53558","RelatedDescription":"Closed or merged PR \"fix(migrations): Fix cf migration bug with parsing for loop conditions properly\" (#53558)"},{"Id":"2040382314","IsPullRequest":false,"CreatedAt":"2023-12-14T17:33:33","Actor":"mattlewis92","Number":"53555","RawContent":null,"Title":"Control flow schematic: ngFor with large nested ternary produces invalid code","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nNo\n\n### Description\n\nJust noticed one more bug when testing the control flow schematic!\r\n\r\nInput:\r\n```\r\n<div\r\n  *ngFor=\"\r\n    let item of section === 'manage'\r\n      ? filteredPermissions?.manage\r\n      : section === 'customFields'\r\n      ? filteredPermissions?.customFields\r\n      : section === 'createAndDelete'\r\n      ? filteredPermissions?.createAndDelete\r\n      : filteredPermissions?.team;\r\n    trackBy: trackById\r\n  \"\r\n>\r\n  {{ item }}\r\n</div>\r\n```\r\n\r\nOutput (note the `trackBy: trackById ; track item` at the end):\r\n```\r\n@for ( item of section === 'manage' ? filteredPermissions?.manage : section ===\r\n'customFields' ? filteredPermissions?.customFields : section ===\r\n'createAndDelete' ? filteredPermissions?.createAndDelete :\r\nfilteredPermissions?.team; trackBy: trackById ; track item) {\r\n<div>\r\n  {{ item }}\r\n</div>\r\n}\r\n```\r\n\r\nExpected output:\r\n```\r\n@for ( item of section === 'manage' ? filteredPermissions?.manage : section ===\r\n'customFields' ? filteredPermissions?.customFields : section ===\r\n'createAndDelete' ? filteredPermissions?.createAndDelete :\r\nfilteredPermissions?.team; track trackById($index, item)) {\r\n<div>\r\n  {{ item }}\r\n</div>\r\n}\r\n```\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 17.0.5\r\nNode: 20.9.0\r\nPackage Manager: pnpm 8.12.0\r\nOS: darwin arm64\r\n\r\nAngular: 17.0.6+sha-1c55c49\r\n... core\r\n\r\nPackage                             Version\r\n-------------------------------------------------------------\r\n@angular-devkit/architect           0.1700.6\r\n@angular-devkit/build-angular       17.0.5\r\n@angular-devkit/core                17.0.5\r\n@angular-devkit/schematics          17.0.5\r\n@angular/animations                 17.0.5\r\n@angular/cdk                        17.0.1\r\n@angular/cli                        17.0.5\r\n@angular/common                     17.0.5\r\n@angular/compiler                   17.0.5\r\n@angular/compiler-cli               17.0.5\r\n@angular/elements                   17.0.5\r\n@angular/forms                      17.0.5\r\n@angular/google-maps                15.2.9\r\n@angular/language-service           17.0.5\r\n@angular/localize                   17.0.5\r\n@angular/platform-browser           17.0.5\r\n@angular/platform-browser-dynamic   17.0.5\r\n@angular/router                     17.0.5\r\n@angular/service-worker             17.0.5\r\n@schematics/angular                 17.0.5\r\nng-packagr                          17.0.2\r\nrxjs                                7.8.0\r\ntypescript                          5.2.2\r\nwebpack                             5.88.2\r\nzone.js                             0.14.2\n```\n\n\n### Anything else?\n\nThis was using the latest build of `@angular/core` via ` \"@angular/core\": \"angular/core-builds#17.0.6+1c55c49\"`","Url":"https://github.com/angular/angular/issues/53555","RelatedDescription":"Closed issue \"Control flow schematic: ngFor with large nested ternary produces invalid code\" (#53555)"},{"Id":"2042099759","IsPullRequest":false,"CreatedAt":"2023-12-14T17:14:16","Actor":"zip-fa","Number":"53572","RawContent":null,"Title":"Cannot access 'trackBySignal' inside of a track expression.","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nNo\n\n### Description\n\nThis won't work:\r\n\r\n```\r\n@if(trackBy(); as trackBySignal) {\r\n  @for(item of data; track item[trackBySignal]) {\r\n    <p>\r\n    #{{ item.id }} &mdash; {{ item.name }}\r\n    </p>\r\n  }\r\n}\r\n```\r\n\r\nThis will work:\r\n\r\n```\r\n@for(item of data; track item[trackByNonSignal]) {\r\n  <p>\r\n  #{{ item.id }} &mdash; {{ item.name }}\r\n  </p>\r\n}\r\n```\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://stackblitz.com/edit/stackblitz-starters-dxjcrp?file=src%2Fmain.ts\n\n### Please provide the exception or error you saw\n\n```true\nCannot access 'trackBySignal' inside of a track expression. Only 'item', '$index' and properties on the containing component are available to this expression.\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n_No response_\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/53572","RelatedDescription":"Closed issue \"Cannot access 'trackBySignal' inside of a track expression.\" (#53572)"},{"Id":"2041978073","IsPullRequest":true,"CreatedAt":"2023-12-14T15:50:31","Actor":"devversion","Number":"53571","RawContent":null,"Title":"#2 Signal inputs","State":"open","Body":"Please refer to #53521 for information on signal inputs. This is the second PR towards completing input signals.\r\n\r\nSee individual commits.","Url":"https://github.com/angular/angular/pull/53571","RelatedDescription":"Open PR \"#2 Signal inputs\" (#53571)"},{"Id":"2041644868","IsPullRequest":false,"CreatedAt":"2023-12-14T12:55:37","Actor":"WarGreyGon","Number":"53570","RawContent":null,"Title":"Angular 17 @empty block not working in nested propagated component","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\ncore\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nWhen I try to display some HTML within an @empty block is not rendering anything whereas if I am using a @if approach is working fine.\r\n\r\nBellow snippet belongs to a nested HTML propagated using Angular projections (the _main_ attribute is a projection area)\r\n```HTML\r\n\t<plc-box main *ngrxLet=\"games$ as games\">\r\n\t\t@for (game of games; track game._id) {\r\n\t\t<plc-game-row main [game]=\"game\"></plc-game-row>\r\n\t\t} @empty {                               <!-- <=== This line FAILS-->\r\n\t\t<!-- } @if(games.length === 0) { -->     <!-- <=== This line WORKS-->\r\n\t\t<ng-container main>\r\n\t\t\t<plc-icon [name]=\"'landscape'\" ></plc-icon>\r\n\t\t\t<plc-label class=\"plc-search-game__no-record-label\">\r\n\t\t\t\t{{ 'pages.search-game.no-results' | translate }}\r\n\t\t\t</plc-label>\r\n\t\t</ng-container>\r\n\t\t}\r\n\t</plc-box>\r\n```\r\n\r\nSame code outside of a propagation based component works fine (e.g. inside a regular `<div></div>`)\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n[_Minimal reproduction in StackBlitz_](https://stackblitz.com/edit/stackblitz-starters-wi1jft?file=src%2Fmain.ts)\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nI see a blank spot where a HTML should be displayed instead\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: 17.0.7\r\nNode: 18.18.2\r\nPackage Manager: npm 9.8.1\r\nOS: win32 x64\r\n\r\nAngular: 17.0.7\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.7\r\n@angular-devkit/build-angular   17.0.7\r\n@angular-devkit/core            17.0.7\r\n@angular-devkit/schematics      17.0.7\r\n@angular/cdk                    16.0.1\r\n@angular/material               16.0.1\r\n@schematics/angular             17.0.7\r\nng-packagr                      17.0.2\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.2\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/53570","RelatedDescription":"Open issue \"Angular 17 @empty block not working in nested propagated component\" (#53570)"},{"Id":"2041316474","IsPullRequest":false,"CreatedAt":"2023-12-14T09:41:13","Actor":"chriswoodie","Number":"53569","RawContent":null,"Title":"Broken hydration when wrapping elements are added around components that use ng-template to project content into multiple places","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\nDon't known / other\n\n### Is this a regression?\n\nNo\n\n### Description\n\nWhen using `ng-template` to project content like this:\r\n\r\n```\r\n@if (isExternal) {\r\n  <a  \r\n    #anchorRef\r\n    [href]=\"link\"\r\n  >\r\n    <ng-template [ngTemplateOutlet]=\"contentTemplateRef\"></ng-template>\r\n  </a>\r\n}\r\n\r\n@if (!isExternal) {\r\n  <a\r\n    #anchorRef\r\n    [routerLink]=\"link\"\r\n  >\r\n    <ng-template [ngTemplateOutlet]=\"contentTemplateRef\"></ng-template>\r\n  </a>\r\n}\r\n\r\n<ng-template #contentTemplateRef>\r\n  <lib-button-content>\r\n    <ng-content></ng-content>\r\n  </lib-button-content>\r\n</ng-template>\r\n```\r\n\r\nerrors are thrown in the console, and the page fails to render properly. It renders content outside of its component entirely, as seen in this image:\r\n\r\n<img width=\"1234\" alt=\"Screenshot 2023-12-14 at 10 38 14\" src=\"https://github.com/angular/angular/assets/83581833/ffac2c8a-defd-4b99-912d-73132de22929\">\r\n\r\nNotice that the first anchor is actually rendered properly (not sure if it's **still** throwing and error since two errors are thrown, and there are two anchor component usages).\r\n\r\nIf you remove the either the wrapping `p` (in app component) or `div` element (in button-content component) it works as it should, and no errors are thrown.\r\n\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://github.com/chriswoodie/angular-repro/tree/bug/hydration-ng-template\n\n### Please provide the exception or error you saw\n\n```true\nmain-ULJQ6C5J.js:7 ERROR TypeError: Cannot read properties of null (reading 'firstChild')\r\n    at Ny (main-ULJQ6C5J.js:7:62100)\r\n    at Ry (main-ULJQ6C5J.js:7:62300)\r\n    at Vo (main-ULJQ6C5J.js:7:61627)\r\n    at uD (main-ULJQ6C5J.js:7:70731)\r\n    at _a (main-ULJQ6C5J.js:7:70562)\r\n    at template (main-ULJQ6C5J.js:8:88918)\r\n    at Wd (main-ULJQ6C5J.js:7:38081)\r\n    at Da (main-ULJQ6C5J.js:7:55868)\r\n    at gy (main-ULJQ6C5J.js:7:55676)\r\n    at vy (main-ULJQ6C5J.js:7:56185)\r\nhandleError @ main-ULJQ6C5J.js:7\r\n(anonymous) @ main-ULJQ6C5J.js:7\r\ninvoke @ polyfills-LZBJRJJE.js:1\r\nrun @ polyfills-LZBJRJJE.js:1\r\nrunOutsideAngular @ main-ULJQ6C5J.js:7\r\n(anonymous) @ main-ULJQ6C5J.js:7\r\ninvoke @ polyfills-LZBJRJJE.js:1\r\nonInvoke @ main-ULJQ6C5J.js:7\r\ninvoke @ polyfills-LZBJRJJE.js:1\r\nrun @ polyfills-LZBJRJJE.js:1\r\n(anonymous) @ polyfills-LZBJRJJE.js:2\r\ninvokeTask @ polyfills-LZBJRJJE.js:1\r\nonInvokeTask @ main-ULJQ6C5J.js:7\r\ninvokeTask @ polyfills-LZBJRJJE.js:1\r\nrunTask @ polyfills-LZBJRJJE.js:1\r\nE @ polyfills-LZBJRJJE.js:1\r\nPromise.then (async)\r\nq @ polyfills-LZBJRJJE.js:1\r\nR @ polyfills-LZBJRJJE.js:1\r\nscheduleTask @ polyfills-LZBJRJJE.js:1\r\nonScheduleTask @ polyfills-LZBJRJJE.js:1\r\nscheduleTask @ polyfills-LZBJRJJE.js:1\r\nscheduleTask @ polyfills-LZBJRJJE.js:1\r\nscheduleMicroTask @ polyfills-LZBJRJJE.js:1\r\nQ @ polyfills-LZBJRJJE.js:2\r\nthen @ polyfills-LZBJRJJE.js:2\r\nrunInitializers @ main-ULJQ6C5J.js:7\r\n(anonymous) @ main-ULJQ6C5J.js:7\r\nmD @ main-ULJQ6C5J.js:7\r\n(anonymous) @ main-ULJQ6C5J.js:7\r\ninvoke @ polyfills-LZBJRJJE.js:1\r\nonInvoke @ main-ULJQ6C5J.js:7\r\ninvoke @ polyfills-LZBJRJJE.js:1\r\nrun @ polyfills-LZBJRJJE.js:1\r\nrun @ main-ULJQ6C5J.js:7\r\nNf @ main-ULJQ6C5J.js:7\r\nsh @ main-ULJQ6C5J.js:8\r\n(anonymous) @ main-ULJQ6C5J.js:8\r\nmain-ULJQ6C5J.js:8 TypeError: Cannot read properties of null (reading 'firstChild')\r\n    at Ny (main-ULJQ6C5J.js:7:62100)\r\n    at Ry (main-ULJQ6C5J.js:7:62300)\r\n    at Vo (main-ULJQ6C5J.js:7:61627)\r\n    at uD (main-ULJQ6C5J.js:7:70731)\r\n    at _a (main-ULJQ6C5J.js:7:70562)\r\n    at template (main-ULJQ6C5J.js:8:88918)\r\n    at Wd (main-ULJQ6C5J.js:7:38081)\r\n    at Da (main-ULJQ6C5J.js:7:55868)\r\n    at gy (main-ULJQ6C5J.js:7:55676)\r\n    at vy (main-ULJQ6C5J.js:7:56185)\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 17.0.7\r\nNode: 20.10.0\r\nPackage Manager: npm 10.2.3\r\nOS: darwin x64\r\n\r\nAngular: 17.0.7\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, platform-server\r\n... router, ssr\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.7\r\n@angular-devkit/build-angular   17.0.7\r\n@angular-devkit/core            17.0.7\r\n@angular-devkit/schematics      17.0.7\r\n@schematics/angular             17.0.7\r\nng-packagr                      17.0.2\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.2\n```\n\n\n### Anything else?\n\nPossibly related to https://github.com/angular/angular/pull/53270 and/or https://github.com/angular/angular/pull/53304.\r\n\r\nDespite these being released with v17.0.6 I still experience this bug in v17.0.7.","Url":"https://github.com/angular/angular/issues/53569","RelatedDescription":"Open issue \"Broken hydration when wrapping elements are added around components that use ng-template to project content into multiple places\" (#53569)"},{"Id":"2041056230","IsPullRequest":false,"CreatedAt":"2023-12-14T08:49:47","Actor":"csisy-btw","Number":"53566","RawContent":null,"Title":"Setting/updating a signal must be done in NgZone(?)","State":"closed","Body":"### Describe the problem that you experienced\n\nWe've just started using signals and OnPush change detection and found out that setting/updating a signal must be done in NgZone, otherwise the component will not be updated (until something else forces a change detection).\r\n\r\nThe documentation writes about signals and OnPush components, but it does not mention anything about the zone.\n\n### Enter the URL of the topic with the problem\n\nhttps://angular.io/guide/signals#reading-signals-in-onpush-components\n\n### Describe what you were looking for in the documentation\n\nClarification, or more in-depth description about the connection between the zone and signals.\n\n### Describe the actions that led you to experience the problem\n\nWe are using a `ResizeObserver` to detect if an element is resized. The following Stackblitz example is simplified, but the root problem is the same: https://stackblitz.com/edit/stackblitz-starters-fbyzdi?file=src%2Fmain.ts\r\n\r\nAll you have to do is to resize the viewport and check if the `is small?` value turns to true (the value is logged into the console as well).\r\n\r\nCurrently, the `OutsideZoneComponent` is used and as you can see, the component is not updated. More importantly, the component will not be updated even if the OnPush strategy is not used.\r\n\r\nIf you uncomment the `<app-inside-zone/>` tag in the `App`'s template, everything works as expected.\n\n### Describe what you want to experience that would fix the problem\n\n_No response_\n\n### Add a screenshot if that helps illustrate the problem\n\n_No response_\n\n### If this problem caused an exception or error, please paste it here\n\n_No response_\n\n### If the problem is browser-specific, please specify the device, OS, browser, and version\n\n_No response_\n\n### Provide any additional information here in as much as detail as you can\n\n_No response_","Url":"https://github.com/angular/angular/issues/53566","RelatedDescription":"Closed issue \"Setting/updating a signal must be done in NgZone(?)\" (#53566)"},{"Id":"2041032058","IsPullRequest":false,"CreatedAt":"2023-12-14T08:45:21","Actor":"babloo04","Number":"53565","RawContent":null,"Title":"Angular elements methods are not exposed","State":"closed","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\n\nelements\n\n### Description\n\nWhile creating angular Elements using out-box APIs, methods of components are not exposed.\r\n\r\nExample\r\n```\r\n@Component(\r\nselector: \"animal\",\r\n  templateUrl: \"./animal.component.html\",)\r\n  export class Animal{\r\n    call() {\r\n      console.log(\"Animal call\");\r\n      return 'call complete'\r\n    }\r\n}\r\n```\r\n\r\nhere call() method is not available when we use \"Animal\" component as Angular Elements(web-component).\r\n\r\n```\r\nconst animal = document.querySelector(\"animal\");\r\nanimal.call() // undefined or error\r\n```\r\n\r\n### Expected behaviour : \r\nIn angular elements method must be exposed to outside\n\n### Proposed solution\n\nThere must be some decorator similar to stenciljs\n\n### Alternatives considered\n\na","Url":"https://github.com/angular/angular/issues/53565","RelatedDescription":"Closed issue \"Angular elements methods are not exposed\" (#53565)"},{"Id":"2041211732","IsPullRequest":true,"CreatedAt":"2023-12-14T08:40:24","Actor":"nsbarsukov","Number":"53567","RawContent":null,"Title":"docs: fix broken markdown syntax","State":"open","Body":"## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [X] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\nOpen https://angular.dev/guide/directives/directive-composition-api#directive-execution-order\r\n<img width=\"1786\" alt=\"markdown\" src=\"https://github.com/angular/angular/assets/35179038/f0592aff-e74a-4e91-b1ee-85b83ad92930\">\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [X] No\r\n","Url":"https://github.com/angular/angular/pull/53567","RelatedDescription":"Open PR \"docs: fix broken markdown syntax\" (#53567)"},{"Id":"2040756756","IsPullRequest":false,"CreatedAt":"2023-12-14T01:49:55","Actor":"bSolt","Number":"53564","RawContent":null,"Title":"Angular.dev: Describe when you need to use `overrideComponent` vis a vis nested component tests","State":"open","Body":"### Describe the problem that you experienced\r\n\r\nIn the beta docs, there is a lovely section on shallow testing of components containing other components [here](https://angular.dev/guide/testing/components-scenarios#nested-component-tests)\r\n\r\nI was trying to accomplish this very task and followed the docs, but I couldn't understand why my Stub component imports weren't working. I determined that it was because by parent component was standalone and importing the child components directly. I did eventually get this working by using the `overrideComponent` method, however the docs made it seem like that wasn't needed in this case.\r\n\r\nThere is [a later section](https://angular.dev/guide/testing/components-scenarios#override-component-providers) all about the needed method, so I think that the nested component tests section should mention that this might be necessary and link to the later section for the full details. \r\n\r\n### Enter the URL of the topic with the problem\r\n\r\nhttps://angular.dev/guide/testing/components-scenarios#nested-component-tests\r\n\r\n### Describe what you were looking for in the documentation\r\n\r\nI was looking for the preferred way to do shallowing testing of standalone components.\r\n\r\n### Describe the actions that led you to experience the problem\r\n\r\nI implemented stub components like the angular.dev page example and used them in `configureTestingModule` rather than `overrideComponent`. This led to the tests breaking due to missing providers needed in the child components. The error message itself wasn't helpful as I thought that following the example this way would replace the real component with the stub versions and I was at a loss as to why that wasn't working.\r\n\r\n### Describe what you want to experience that would fix the problem\r\n\r\nI want the page to be updated to describe when and why it is necessary to use stubs in `configureTestingModule` vs `overrideComponent`\r\n\r\n### Add a screenshot if that helps illustrate the problem\r\n\r\n_No response_\r\n\r\n### If this problem caused an exception or error, please paste it here\r\n\r\n_No response_\r\n\r\n### If the problem is browser-specific, please specify the device, OS, browser, and version\r\n\r\n_No response_\r\n\r\n### Provide any additional information here in as much as detail as you can\r\n\r\n```true\r\nThanks for the awesome new site! :)\r\n```\r\n","Url":"https://github.com/angular/angular/issues/53564","RelatedDescription":"Open issue \"Angular.dev: Describe when you need to use `overrideComponent` vis a vis nested component tests\" (#53564)"},{"Id":"2040718515","IsPullRequest":true,"CreatedAt":"2023-12-14T01:13:48","Actor":"alxhub","Number":"53563","RawContent":null,"Title":"Bump version to \"v17.1.0-next.4\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular/pull/53563","RelatedDescription":"Closed or merged PR \"Bump version to \"v17.1.0-next.4\" with changelog.\" (#53563)"},{"Id":"2040675400","IsPullRequest":true,"CreatedAt":"2023-12-14T00:41:42","Actor":"alxhub","Number":"53562","RawContent":null,"Title":"docs: release notes for the v17.0.7 release","State":"closed","Body":"Cherry-picks the changelog from the \"17.0.x\" branch to the next branch (main).","Url":"https://github.com/angular/angular/pull/53562","RelatedDescription":"Closed or merged PR \"docs: release notes for the v17.0.7 release\" (#53562)"},{"Id":"2040672584","IsPullRequest":true,"CreatedAt":"2023-12-14T00:35:34","Actor":"alxhub","Number":"53561","RawContent":null,"Title":"Bump version to \"v17.0.7\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular/pull/53561","RelatedDescription":"Closed or merged PR \"Bump version to \"v17.0.7\" with changelog.\" (#53561)"},{"Id":"2040665023","IsPullRequest":false,"CreatedAt":"2023-12-14T00:28:00","Actor":"wtygibbs","Number":"53560","RawContent":null,"Title":"Angular CLI 'Command Reference' card link is invalid","State":"closed","Body":"### Describe the problem that you experienced\r\n\r\nThe card titled \"Command Reference\" has a link to the url: 'https://angular.dev/cli/commands', which results in a Page Not Found, prompting the user to open an issue for the problem.\r\n\r\n### Enter the URL of the topic with the problem\r\n\r\nhttps://angular.dev/cli/commands\r\n\r\n### Describe what you were looking for in the documentation\r\n\r\nThe Angular CLI commands and option flags.\r\n\r\n### Describe the actions that led you to experience the problem\r\n\r\nGeneral browsing of the new angular.dev site.\r\n","Url":"https://github.com/angular/angular/issues/53560","RelatedDescription":"Closed issue \"Angular CLI 'Command Reference' card link is invalid\" (#53560)"},{"Id":"2040653377","IsPullRequest":false,"CreatedAt":"2023-12-14T00:10:45","Actor":"DesignThinkerer","Number":"53559","RawContent":null,"Title":"Typo on the page https://angular.dev/guide/http ","State":"closed","Body":"### Describe the problem that you experienced\r\n\r\nOn the page https://angular.dev/guide/http, clicking on the button \"Making HTTP requests\" should open \"https://angular.dev/guide/http/making-requests\", instead it opens \"https://angular.dev/guide/http/making-requets\" which does not exist.","Url":"https://github.com/angular/angular/issues/53559","RelatedDescription":"Closed issue \"Typo on the page https://angular.dev/guide/http \" (#53559)"},{"Id":"2040504023","IsPullRequest":true,"CreatedAt":"2023-12-13T21:36:53","Actor":"pBouillon","Number":"53556","RawContent":null,"Title":"docs: fix reference to forwardRef in ForwardRefFn JSdoc","State":"open","Body":"## PR Checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nThe current documentation page of the [`ForwardRefFn`](https://angular.dev/api/core/ForwardRefFn) is incorrectly rendering the reference to `forwardRef`:\r\n\r\n![image](https://github.com/angular/angular/assets/22640284/33a6ce3c-4c65-488a-8b5b-a9c0d832fdee)\r\n\r\nInstead, other descriptions like the one for [`CreateComputedOptions`](https://angular.dev/api/core/CreateComputedOptions) render references as links:\r\n\r\n![image](https://github.com/angular/angular/assets/22640284/74ecf122-c267-4e59-a705-03f79698d765)\r\n\r\nIssue Number: N/A\r\n\r\n## What is the new behavior?\r\n\r\nI updated the description of the `ForwardRefFn` according to other examples in the code base, which should display a reference to `https://angular.dev/api/core/forwardRef` instead of displaying `{@link forwardRef }`\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\nI noticed other parts of the documentation where another API is referenced as `{@link ... }` instead of a link but I wasn't sure if making all the changes is one PR was appropriate. If it is, I could also have a look on the other parts as well.\r\n","Url":"https://github.com/angular/angular/pull/53556","RelatedDescription":"Open PR \"docs: fix reference to forwardRef in ForwardRefFn JSdoc\" (#53556)"},{"Id":"2040227158","IsPullRequest":true,"CreatedAt":"2023-12-13T18:07:24","Actor":"angular-robot","Number":"53554","RawContent":null,"Title":"build: update dependency @octokit/graphql to v7","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@octokit/graphql](https://togithub.com/octokit/graphql.js) | devDependencies | major | [`^5.0.0` -> `^7.0.0`](https://renovatebot.com/diffs/npm/@octokit%2fgraphql/5.0.6/7.0.2) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>octokit/graphql.js (@&#8203;octokit/graphql)</summary>\n\n### [`v7.0.2`](https://togithub.com/octokit/graphql.js/releases/tag/v7.0.2)\n\n[Compare Source](https://togithub.com/octokit/graphql.js/compare/v7.0.1...v7.0.2)\n\n##### Bug Fixes\n\n-   **deps:** update dependency [@&#8203;octokit/types](https://togithub.com/octokit/types) to v12 ([#&#8203;508](https://togithub.com/octokit/graphql.js/issues/508)) ([2a72b63](https://togithub.com/octokit/graphql.js/commit/2a72b63591e25c475f43919728beaaf9653ed8e1))\n\n### [`v7.0.1`](https://togithub.com/octokit/graphql.js/releases/tag/v7.0.1)\n\n[Compare Source](https://togithub.com/octokit/graphql.js/compare/v7.0.0...v7.0.1)\n\n##### Bug Fixes\n\n-   **deps:** uprade `@octokit/request` ([#&#8203;489](https://togithub.com/octokit/graphql.js/issues/489)) ([631531d](https://togithub.com/octokit/graphql.js/commit/631531d77eef3a26a174f8ee6ef47c20e0804b25))\n\n### [`v7.0.0`](https://togithub.com/octokit/graphql.js/releases/tag/v7.0.0)\n\n[Compare Source](https://togithub.com/octokit/graphql.js/compare/v6.0.1...v7.0.0)\n\n##### Bug Fixes\n\n-   **deps:** update octokit monorepo (major) ([#&#8203;488](https://togithub.com/octokit/graphql.js/issues/488)) ([585f4ae](https://togithub.com/octokit/graphql.js/commit/585f4ae1b0d48e532fcb27ad533335e3e926d9b4))\n\n##### BREAKING CHANGES\n\n-   **deps:** Replace support for Node.js http(s) Agents with documentation on using fetch dispatchers instead\n-   **deps:** Remove ability to pass custom request options, except fromÂ method,Â headers,Â body,Â signal,Â data\n\n### [`v6.0.1`](https://togithub.com/octokit/graphql.js/releases/tag/v6.0.1)\n\n[Compare Source](https://togithub.com/octokit/graphql.js/compare/v6.0.0...v6.0.1)\n\n##### Bug Fixes\n\n-   **deps:** bump `@octokit/request` to get fixed version of `@octokit/endpoint` ([#&#8203;486](https://togithub.com/octokit/graphql.js/issues/486)) ([c067d9c](https://togithub.com/octokit/graphql.js/commit/c067d9c5da27e0147d25fa215192f1d8be7e1b72)), closes [#&#8203;485](https://togithub.com/octokit/graphql.js/issues/485)\n\n### [`v6.0.0`](https://togithub.com/octokit/graphql.js/releases/tag/v6.0.0)\n\n[Compare Source](https://togithub.com/octokit/graphql.js/compare/v5.0.6...v6.0.0)\n\n##### Features\n\n-   v6 ([#&#8203;473](https://togithub.com/octokit/graphql.js/issues/473)) ([031b124](https://togithub.com/octokit/graphql.js/commit/031b124ae33e79809cde232fdc9f5f55f8469334))\n\n##### BREAKING CHANGES\n\n-   Drop support for NodeJS v14, v16\n\n</details>\n\n---\n\n### Configuration\n\nðŸ“… **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\nðŸš¦ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\nâ™» **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\nðŸ”• **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy43NC41IiwidXBkYXRlZEluVmVyIjoiMzcuNzQuNSIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->\n","Url":"https://github.com/angular/angular/pull/53554","RelatedDescription":"Open PR \"build: update dependency @octokit/graphql to v7\" (#53554)"},{"Id":"2040145906","IsPullRequest":false,"CreatedAt":"2023-12-13T17:11:11","Actor":"kukjevov","Number":"53553","RawContent":null,"Title":"FEATURE: import 'types' in templates using new block syntax","State":"open","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\n\ncore\n\n### Description\n\nNew Angular block syntax is awesome and it is something that runs at compile time.\r\n\r\nWould it be possible to have i dont know lets call it `import` statement. This statement will allow to import 'types' like enums or other static types that would be good to have inside templates. Right now when you want to use Enum inside template you have to assign it to some components property. But something like this would be useful.\r\n\r\n```\r\n@import {AwesomeEnum} from './myRelativePath';\r\nor\r\n@import {AnotherAwesomeEnum} from 'my-lib';\r\n```\n\n### Proposed solution\n\nSince templates are compiled into code that sits next to components code this new block syntax would just add another import into same file and it should not have any problem to work. \n\n### Alternatives considered\n\nDont have alternatives.","Url":"https://github.com/angular/angular/issues/53553","RelatedDescription":"Open issue \"FEATURE: import 'types' in templates using new block syntax\" (#53553)"},{"Id":"2040036470","IsPullRequest":false,"CreatedAt":"2023-12-13T16:10:11","Actor":"arbakker","Number":"53552","RawContent":null,"Title":"Serving from subpath broken in Angular v17","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\nrouter\n\n### Is this a regression?\n\nYes\n\n### Description\n\nWhen serving app from subpath and using a relative base href, the app \"redirects\" to the root and shows the following error in the console:\r\n\r\n```\r\nERROR Error: NG04002: Cannot match any routes. URL Segment: 'ng17-base-href'\r\n```\r\n\r\nIssue occurs with Angular v17, and not with Angular v16. See repo with steps to reproduce.\r\n\r\nSeems to be related to: https://github.com/angular/angular/issues/53546\r\n\r\nSee also this related SO question: https://stackoverflow.com/q/77586659/1763690\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://github.com/arbakker/ng17-base-href-issue/tree/main\n\n### Please provide the exception or error you saw\n\n```true\nERROR Error: NG04002: Cannot match any routes. URL Segment: 'ng17-base-href'\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 17.0.7\r\nNode: 20.10.0\r\nPackage Manager: npm 10.2.3\r\nOS: linux x64\r\n\r\nAngular: 17.0.6\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.7\r\n@angular-devkit/build-angular   17.0.7\r\n@angular-devkit/core            17.0.7\r\n@angular-devkit/schematics      17.0.7\r\n@angular/cli                    17.0.7\r\n@schematics/angular             17.0.7\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.2\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/53552","RelatedDescription":"Open issue \"Serving from subpath broken in Angular v17\" (#53552)"}],"ResultType":"GitHubIssue"},"AngularCli-Issues":{"Issues":[{"Id":"2042693567","IsPullRequest":false,"CreatedAt":"2023-12-15T00:21:58","Actor":"HiReception","Number":"26676","RawContent":null,"Title":"ESBuild SCSS style budget assessments change drastically if source maps are enabled","State":"open","Body":"### Command\r\n\r\nbuild\r\n\r\n### Is this a regression?\r\n\r\n- [ ] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nWhen using either of the new esbuild-based builders (`application` and `browser-esbuild`), if SCSS stylesheets and source maps are both used, the calculation of the style file sizes for budget verification results in drastically increased reported sizes.\r\n\r\n### Minimal Reproduction\r\n\r\n1. Create a new Angular app with `ng new`, using SCSS as the stylesheet format\r\n2. Add the contents of [this file](https://github.com/HiReception/angular-esbuild-bug-demo/blob/esbuild-without-imports/src/app/app.component.scss) to `app.component.scss`\r\n3. Run `ng build` - the build fails because the `app.component.scss` style file exceeds budget; this is expected, but the key note is that the listed size of the style file is 20.17 kB\r\n4. In the production build configuration in `angular.json`, add `\"sourceMap\": true,`\r\n5. Run `ng build` again - the build again fails due to budget breaches, but the listed size of the style file in question is now 77.26 kB\r\n\r\n### Exception or Error\r\n\r\n```text\r\nExpected error: \r\nX [ERROR] src/app/app.component.scss exceeded maximum budget. Budget 4.00 kB was not met by 16.17 kB with a total of 20.17 kB.\r\n\r\nActual error:\r\nX [ERROR] src/app/app.component.scss exceeded maximum budget. Budget 4.00 kB was not met by 73.26 kB with a total of 77.26 kB.\r\n```\r\n\r\n\r\n### Your Environment\r\n\r\n```text\r\n_                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / â–³ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n\r\n\r\nAngular CLI: 17.0.6\r\nNode: 20.10.0\r\nPackage Manager: npm 8.19.2\r\nOS: win32 x64\r\n\r\nAngular: 17.0.6\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.6\r\n@angular-devkit/build-angular   17.0.6\r\n@angular-devkit/core            17.0.6\r\n@angular-devkit/schematics      17.0.6\r\n@schematics/angular             17.0.6\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.2\r\n```\r\n\r\n\r\n### Anything else relevant?\r\n\r\nThis is based on the second point of #26523, which was closed due to a lack of reproduction, but it appears the scope of the issue is broader than that described in the original post; even without any `@use` commands present in the style file, I was able to reproduce the size discrepancy.","Url":"https://github.com/angular/angular-cli/issues/26676","RelatedDescription":"Open issue \"ESBuild SCSS style budget assessments change drastically if source maps are enabled\" (#26676)"},{"Id":"2041710760","IsPullRequest":true,"CreatedAt":"2023-12-14T22:50:17","Actor":"alan-agius4","Number":"26675","RawContent":null,"Title":"feat(@angular-devkit/build-angular): allow customization of output locations","State":"closed","Body":"This update introduces the ability for users to define the locations for storing `media`, `browser`, and `server` files.\r\n\r\nYou can achieve this by utilizing the extended `outputPath` option.\r\n```json\r\n{\r\n  \"projects\": {\r\n    \"my-app\": {\r\n      \"architect\": {\r\n        \"build\": {\r\n          \"builder\": \"@angular-devkit/build-angular:application\",\r\n          \"options\": {\r\n            \"outputPath\": {\r\n              \"base\": \"dist/my-app\",\r\n              \"browser\": \"\",\r\n              \"server\": \"node-server\",\r\n              \"media\": \"resources\"\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nWhile not recommended, choosing to set the `browser` option empty will result in files being output directly under the specified `base` path. It's important to note that this action will generate certain files like `stats.json` and `prerendered-routes.json` that aren't intended for deployment in this directory.\r\n\r\n**Validation rules:**\r\n- `browser` and `server` are relative to the configuration set in the `base` option.\r\n- When SSR is enabled, `browser` cannot be set to an empty string, and cannot be the same as `server`.\r\n- `media` is relative to the value specified in the `browser` option.\r\n- `media` cannot be set to an empty string.\r\n- `browser`, `media`, or `server` cannot contain slashes.\r\n\r\nCloses: #26632 and closes: #26057","Url":"https://github.com/angular/angular-cli/pull/26675","RelatedDescription":"Closed or merged PR \"feat(@angular-devkit/build-angular): allow customization of output locations\" (#26675)"},{"Id":"2040406580","IsPullRequest":true,"CreatedAt":"2023-12-14T11:01:46","Actor":"clydin","Number":"26667","RawContent":null,"Title":"refactor(@angular-devkit/build-angular): add index HTML transformer to application programmatic usage","State":"closed","Body":"Similar to the `dev-server` builder, the `application` builder's programmatic usage can now transform the index HTML that is generated during a build. As is the case for the existing builder JavaScript exports from the package, the new export (`buildApplication`) is also considered experimental and does not provide the support nor semver guarantees that the builders have when used via `angular.json` configuration.\r\n\r\nThe third parameter of the `buildApplication` function can now be an extensions object with one of the fields being `indexHtmlTransformer`. This newly introduced field allows adjusting the index HTML content.\r\n\r\nCloses #26299","Url":"https://github.com/angular/angular-cli/pull/26667","RelatedDescription":"Closed or merged PR \"refactor(@angular-devkit/build-angular): add index HTML transformer to application programmatic usage\" (#26667)"},{"Id":"2041266956","IsPullRequest":false,"CreatedAt":"2023-12-14T09:56:50","Actor":"jon9090","Number":"26674","RawContent":null,"Title":"Is it possible to use postcss with angular v17 build?","State":"closed","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\r\n\r\ncore\r\n\r\n### Description\r\n\r\nI want to use some postcss plugin. so I create angular v17 application (with vite).\r\n\r\nI add postcss.config.js to root of the project and write this:\r\n\r\n```\r\nconst myPlugin = require('./my-plugin');\r\nmodule.exports = {\r\n    plugins: [\r\n      myPlugin(),\r\n    ]\r\n };\r\n```\r\nmy-plugin.js:\r\n```\r\nmodule.exports = (opts = {}) => {\r\n  return {\r\n    postcssPlugin: \"MyCustomPlugin\",\r\n    Once(root, { result, postcss }) {\r\n      root.walkDecls((declaration) => {\r\n        console.log(\"yay\");\r\n        // Your transformation code here\r\n      });\r\n    },\r\n  };\r\n};\r\nmodule.exports.postcss = true;\r\n```\r\n\r\nIn `serve` command I get the console, but in `build` command I don't see the console outputs. (i use `--verbose` flag).\r\n\r\nAlso when I use plugins like those, it's seems that the angular-vite is ignore those plugins:\r\n```\r\n      postcssGlobalData({\r\n        files: ['./node_modules/open-props/media.min.css'],\r\n      }),\r\n      postcssCustomMedia(/* pluginOptions */),\r\n``` \r\n\r\n### Proposed solution\r\n\r\nn/a\r\n\r\n### Alternatives considered\r\n\r\nn/a","Url":"https://github.com/angular/angular-cli/issues/26674","RelatedDescription":"Closed issue \"Is it possible to use postcss with angular v17 build?\" (#26674)"},{"Id":"2041188153","IsPullRequest":false,"CreatedAt":"2023-12-14T08:24:57","Actor":"e23gap32oq","Number":"26673","RawContent":null,"Title":"esbuild doesn't watch for local library changes while running dev server (cli-cache-enabled=true,preserveSymlinks=true)","State":"open","Body":"### Command\n\nserve\n\n### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\nwith @angular-devkit/build-angular:browser builder\n\n### Description\n\nsee #25753\r\nsee #26585 (this is probably not fixed as the steps to reproduce are more or less the same)\r\n\r\ncreate a library\r\n```\r\nnpx @angular/cli new test-lib --no-create-application --style=scss\r\ncd test-lib\r\nnpx @angular/cli generate library test-lib\r\nnpm run watch\r\n```\r\n\r\ncreate an app\r\n```\r\nnpx @angular/cli new test-app --routing=true --style=scss --ssr=false\r\ncd test-app\r\nnpm link \"../test-lib/dist/test-lib\"\r\n```\r\n\r\nchange package.json (test-app)\r\n```\r\n\"dependencies\": {\r\n\t\"test-lib\": \"file:../test-lib/dist/test-lib\"\r\n}\r\n```\r\n\r\nchange angular.json (test-app)\r\n```\r\n\"builder\": \"@angular-devkit/build-angular:application\",\r\n\t\"options\": {\r\n\t\t\"preserveSymlinks\": true,\r\n```\r\n\r\nchange app.component.ts (test-app)\r\n```\r\nimport { Component } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterOutlet } from '@angular/router';\r\nimport { TestLibComponent } from 'test-lib';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  standalone: true,\r\n  imports: [CommonModule, RouterOutlet, TestLibComponent],\r\n  template: '<lib-test-lib></lib-test-lib>',\r\n  styleUrl: './app.component.scss'\r\n})\r\nexport class AppComponent {\r\n  title = 'test-app';\r\n}\r\n```\r\n\r\ntest-app\r\n```\r\nnpm start\r\n```\r\n\r\nmake some changes in test-lib.component.ts and you will get\r\n\r\n```\r\nNo output file changes.\r\nUnchanged output files: 3\r\nApplication bundle generation complete. [0.xxx seconds]\r\n```\r\n\r\n**Result is that no changes are reflected in your browser.**\r\n\r\nnow stop applications, delete .angular directories, change angular.json in test-lib and test-app as follows:\r\n\r\n```\r\n\"version\": 1,\r\n\"cli\": {\r\n\t\"cache\": {\r\n\t\t\"enabled\": false\r\n    }\r\n},\r\n```\r\n\r\ntest-lib\r\n```\r\nnpm run watch\r\n```\r\n\r\ntest-app\r\n```\r\nnpm start\r\n```\r\n\r\nmake some changes in test-lib.component.ts and you will get\r\n\r\n```\r\nInitial Chunk Files | Names | Raw Size\r\nmain.js             | main  |  1.09 MB |\r\n\r\nUnchanged output files: 2\r\nApplication bundle generation complete. [0.xxx seconds]\r\nPage reload sent to client(s).\r\n```\r\n\r\n**Result is that changes are now reflected in your browser.**\r\n\r\nboth scenarios should be tested:\r\n(cli-cache-enabled=false,preserveSymlinks=true)\r\n(cli-cache-enabled=true,preserveSymlinks=true)\n\n### Minimal Reproduction\n\nsee description\n\n### Exception or Error\n\n_No response_\n\n### Your Environment\n\n```text\nAngular CLI: 17.0.7\r\nNode: 20.10.0\r\nPackage Manager: npm 10.2.5\r\nOS: win32 x64\r\n\r\nAngular: 17.0.7\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.7\r\n@angular-devkit/build-angular   17.0.7\r\n@angular-devkit/core            17.0.7\r\n@angular-devkit/schematics      17.0.7\r\n@schematics/angular             17.0.7\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.2\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/26673","RelatedDescription":"Open issue \"esbuild doesn't watch for local library changes while running dev server (cli-cache-enabled=true,preserveSymlinks=true)\" (#26673)"},{"Id":"2040986732","IsPullRequest":true,"CreatedAt":"2023-12-14T08:02:46","Actor":"angular-robot","Number":"26672","RawContent":null,"Title":"build: update github/codeql-action action to v3","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [github/codeql-action](https://togithub.com/github/codeql-action) | action | major | `v2.22.10` -> `v3.22.11` |\n\n---\n\n### Release Notes\n\n<details>\n<summary>github/codeql-action (github/codeql-action)</summary>\n\n### [`v3.22.11`](https://togithub.com/github/codeql-action/compare/v2.22.11...v3.22.11)\n\n[Compare Source](https://togithub.com/github/codeql-action/compare/v2.22.11...v3.22.11)\n\n### [`v2.22.11`](https://togithub.com/github/codeql-action/compare/v2.22.10...v2.22.11)\n\n[Compare Source](https://togithub.com/github/codeql-action/compare/v2.22.10...v2.22.11)\n\n</details>\n\n---\n\n### Configuration\n\nðŸ“… **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\nðŸš¦ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\nâ™» **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\nðŸ”• **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy43NC41IiwidXBkYXRlZEluVmVyIjoiMzcuNzQuNSIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->\n","Url":"https://github.com/angular/angular-cli/pull/26672","RelatedDescription":"Closed or merged PR \"build: update github/codeql-action action to v3\" (#26672)"},{"Id":"2040986655","IsPullRequest":true,"CreatedAt":"2023-12-14T06:33:50","Actor":"angular-robot","Number":"26671","RawContent":null,"Title":"build: update angular","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@angular/animations](https://togithub.com/angular/animations-builds) | dependencies | digest | `1f331f5` -> `2ccc735` |\n| [@angular/animations](https://togithub.com/angular/angular) | devDependencies | patch | [`17.1.0-next.3` -> `17.1.0-next.4`](https://renovatebot.com/diffs/npm/@angular%2fanimations/17.1.0-next.3/17.1.0-next.4) |\n| [@angular/bazel](https://togithub.com/angular/bazel-builds) | devDependencies | digest | `38c1629` -> `3a24e6b` |\n| [@angular/build-tooling](https://togithub.com/angular/dev-infra-private-build-tooling-builds) | devDependencies | digest | `c0e875d` -> `fdf4e91` |\n| [@angular/cdk](https://togithub.com/angular/cdk-builds) | dependencies | digest | `e391b1f` -> `c4cbc33` |\n| [@angular/cdk](https://togithub.com/angular/components) | devDependencies | patch | [`17.1.0-next.2` -> `17.1.0-next.3`](https://renovatebot.com/diffs/npm/@angular%2fcdk/17.1.0-next.2/17.1.0-next.3) |\n| [@angular/common](https://togithub.com/angular/common-builds) | dependencies | digest | `3b946fd` -> `8a99871` |\n| [@angular/common](https://togithub.com/angular/angular) | devDependencies | patch | [`17.1.0-next.3` -> `17.1.0-next.4`](https://renovatebot.com/diffs/npm/@angular%2fcommon/17.1.0-next.3/17.1.0-next.4) |\n| [@angular/compiler](https://togithub.com/angular/compiler-builds) | dependencies | digest | `6bdfac8` -> `f8ae8fc` |\n| [@angular/compiler](https://togithub.com/angular/angular) | devDependencies | patch | [`17.1.0-next.3` -> `17.1.0-next.4`](https://renovatebot.com/diffs/npm/@angular%2fcompiler/17.1.0-next.3/17.1.0-next.4) |\n| [@angular/compiler-cli](https://togithub.com/angular/compiler-cli-builds) | dependencies | digest | `bb65aca` -> `bd64bcf` |\n| [@angular/compiler-cli](https://togithub.com/angular/angular/tree/main/packages/compiler-cli) ([source](https://togithub.com/angular/angular)) | devDependencies | patch | [`17.1.0-next.3` -> `17.1.0-next.4`](https://renovatebot.com/diffs/npm/@angular%2fcompiler-cli/17.1.0-next.3/17.1.0-next.4) |\n| [@angular/core](https://togithub.com/angular/core-builds) | dependencies | digest | `55af6cd` -> `1bb1368` |\n| [@angular/core](https://togithub.com/angular/angular) | devDependencies | patch | [`17.1.0-next.3` -> `17.1.0-next.4`](https://renovatebot.com/diffs/npm/@angular%2fcore/17.1.0-next.3/17.1.0-next.4) |\n| [@angular/forms](https://togithub.com/angular/forms-builds) | dependencies | digest | `b0e9753` -> `0f9c12c` |\n| [@angular/forms](https://togithub.com/angular/angular) | devDependencies | patch | [`17.1.0-next.3` -> `17.1.0-next.4`](https://renovatebot.com/diffs/npm/@angular%2fforms/17.1.0-next.3/17.1.0-next.4) |\n| [@angular/language-service](https://togithub.com/angular/language-service-builds) | dependencies | digest | `1036d85` -> `210114f` |\n| [@angular/localize](https://togithub.com/angular/localize-builds) | dependencies | digest | `49d660b` -> `92be6d2` |\n| [@angular/localize](https://togithub.com/angular/angular) | devDependencies | patch | [`17.0.6` -> `17.0.7`](https://renovatebot.com/diffs/npm/@angular%2flocalize/17.0.6/17.0.7) |\n| [@angular/material](https://togithub.com/angular/material-builds) | dependencies | digest | `02c0c60` -> `c80d7c6` |\n| [@angular/material](https://togithub.com/angular/components) | devDependencies | patch | [`17.1.0-next.2` -> `17.1.0-next.3`](https://renovatebot.com/diffs/npm/@angular%2fmaterial/17.1.0-next.2/17.1.0-next.3) |\n| [@angular/material-moment-adapter](https://togithub.com/angular/material-moment-adapter-builds) | dependencies | digest | `fffd165` -> `301a91e` |\n| [@angular/ng-dev](https://togithub.com/angular/dev-infra-private-ng-dev-builds) | devDependencies | digest | `c4c9155` -> `dab89d2` |\n| [@angular/platform-browser](https://togithub.com/angular/platform-browser-builds) | dependencies | digest | `0634875` -> `e4810b8` |\n| [@angular/platform-browser](https://togithub.com/angular/angular) | devDependencies | patch | [`17.1.0-next.3` -> `17.1.0-next.4`](https://renovatebot.com/diffs/npm/@angular%2fplatform-browser/17.1.0-next.3/17.1.0-next.4) |\n| [@angular/platform-browser-dynamic](https://togithub.com/angular/platform-browser-dynamic-builds) | dependencies | digest | `b7561a1` -> `14ddc12` |\n| [@angular/platform-browser-dynamic](https://togithub.com/angular/angular) | devDependencies | patch | [`17.1.0-next.3` -> `17.1.0-next.4`](https://renovatebot.com/diffs/npm/@angular%2fplatform-browser-dynamic/17.1.0-next.3/17.1.0-next.4) |\n| [@angular/platform-server](https://togithub.com/angular/platform-server-builds) | dependencies | digest | `3ea2cf7` -> `d6d20b4` |\n| [@angular/platform-server](https://togithub.com/angular/angular) | devDependencies | patch | [`17.1.0-next.3` -> `17.1.0-next.4`](https://renovatebot.com/diffs/npm/@angular%2fplatform-server/17.1.0-next.3/17.1.0-next.4) |\n| [@angular/router](https://togithub.com/angular/router-builds) | dependencies | digest | `669e375` -> `5e8050c` |\n| [@angular/router](https://togithub.com/angular/angular/tree/main/packages/router) ([source](https://togithub.com/angular/angular)) | devDependencies | patch | [`17.1.0-next.3` -> `17.1.0-next.4`](https://renovatebot.com/diffs/npm/@angular%2frouter/17.1.0-next.3/17.1.0-next.4) |\n| [@angular/service-worker](https://togithub.com/angular/service-worker-builds) | dependencies | digest | `a2eff4b` -> `2c5c6a6` |\n| [@angular/service-worker](https://togithub.com/angular/angular) | devDependencies | patch | [`17.1.0-next.3` -> `17.1.0-next.4`](https://renovatebot.com/diffs/npm/@angular%2fservice-worker/17.1.0-next.3/17.1.0-next.4) |\n| angular/dev-infra | action | digest | `49ea533` -> `5613c1d` |\n\nðŸ”¡ If you wish to disable git hash updates, add `\":disableDigestUpdates\"` to the extends array in your config.\n\n---\n\n### Release Notes\n\n<details>\n<summary>angular/angular (@&#8203;angular/animations)</summary>\n\n### [`v17.1.0-next.4`](https://togithub.com/angular/angular/blob/HEAD/CHANGELOG.md#1710-next4-2023-12-13)\n\n[Compare Source](https://togithub.com/angular/angular/compare/17.1.0-next.3...17.1.0-next.4)\n\n##### compiler\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [b98d8f79ed](https://togithub.com/angular/angular/commit/b98d8f79ed4979fb91661dbdfb6266a917b41474) | fix | handle ambient types in input transform function ([#&#8203;51474](https://togithub.com/angular/angular/pull/51474)) |\n\n##### compiler-cli\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [9e5456912a](https://togithub.com/angular/angular/commit/9e5456912a699315f1f5e8458d35df946c01dc12) | fix | generate less type checking code in for loops ([#&#8203;53515](https://togithub.com/angular/angular/pull/53515)) |\n\n##### core\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [2565121851](https://togithub.com/angular/angular/commit/25651218512becb3a491b1c94d643a5066a6d3cb) | fix | Avoid refreshing a host view twice when using transplanted views ([#&#8203;53021](https://togithub.com/angular/angular/pull/53021)) |\n| [629343f247](https://togithub.com/angular/angular/commit/629343f24741760e76d98ea1005debaf4775bfc7) | fix | Multiple subscribers to ApplicationRef.isStable should all see values ([#&#8203;53541](https://togithub.com/angular/angular/pull/53541)) |\n| [42f4f70e97](https://togithub.com/angular/angular/commit/42f4f70e97b47f7ffcf15e8af2c1a3fa3f393903) | fix | remove signal equality check short-circuit ([#&#8203;53446](https://togithub.com/angular/angular/pull/53446)) |\n| [f35adcb9b2](https://togithub.com/angular/angular/commit/f35adcb9b255741515d54bbce694f4cd34aac249) | fix | update feature usage marker ([#&#8203;53542](https://togithub.com/angular/angular/pull/53542)) |\n| [1fc5442947](https://togithub.com/angular/angular/commit/1fc5442947b07be7c11fe7c79b9e69f9458c8108) | perf | avoid changes Observable creation on QueryList ([#&#8203;53498](https://togithub.com/angular/angular/pull/53498)) |\n| [e3a6bf9b6c](https://togithub.com/angular/angular/commit/e3a6bf9b6c3bef03df9bfc8f05b817bc875cbad6) | perf | optimize memory allocation when reconcilling lists ([#&#8203;52245](https://togithub.com/angular/angular/pull/52245)) |\n\n##### migrations\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [a02767956a](https://togithub.com/angular/angular/commit/a02767956a00e0b44b690411f01584f6660c83ea) | fix | CF Migration - ensure bound ngIfElse cases ignore line breaks ([#&#8203;53435](https://togithub.com/angular/angular/pull/53435)) |\n| [6aa1bb78e8](https://togithub.com/angular/angular/commit/6aa1bb78e8b9ca866b3c2d84f4005a0e67f2b6bc) | fix | cf migration - undo changes when html fails to parse post migration ([#&#8203;53530](https://togithub.com/angular/angular/pull/53530)) |\n| [cc02852ac4](https://togithub.com/angular/angular/commit/cc02852ac44bfea13e8b9d5768694a094fc2c4b5) | fix | CF migration only remove newlines of changed template content ([#&#8203;53508](https://togithub.com/angular/angular/pull/53508)) |\n| [ce1076785c](https://togithub.com/angular/angular/commit/ce1076785c98ecc9660637cafa4a62a63be8d315) | fix | cf migration validate structure of ngswitch before migrating ([#&#8203;53530](https://togithub.com/angular/angular/pull/53530)) |\n| [1f5c8bf116](https://togithub.com/angular/angular/commit/1f5c8bf116783c25234ab7fa301a0be842e58007) | fix | ensure we do not overwrite prior template replacements in migration ([#&#8203;53393](https://togithub.com/angular/angular/pull/53393)) |\n| [79f791543b](https://togithub.com/angular/angular/commit/79f791543b607eea1bb6a28b9c744760ba4fd028) | fix | fix cf migration import removal when errors occur ([#&#8203;53502](https://togithub.com/angular/angular/pull/53502)) |\n\n##### platform-browser\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [fdb9cb7a5b](https://togithub.com/angular/angular/commit/fdb9cb7a5be4695abaa60efc89ecd50ddb9e9e6e) | fix | Get correct base path when using \".\" as base href when serving from the file:// protocol. ([#&#8203;53547](https://togithub.com/angular/angular/pull/53547)) |\n\n##### router\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [48c5041687](https://togithub.com/angular/angular/commit/48c50416872313f23d2759232c990cf8d2de6996) | fix | provide more actionable error message when route is not matched in production mode ([#&#8203;53523](https://togithub.com/angular/angular/pull/53523)) |\n\n<!-- CHANGELOG SPLIT MARKER -->\n\n</details>\n\n<details>\n<summary>angular/components (@&#8203;angular/cdk)</summary>\n\n### [`v17.1.0-next.3`](https://togithub.com/angular/components/blob/HEAD/CHANGELOG.md#1710-next3-muscovite-map-2023-12-13)\n\n[Compare Source](https://togithub.com/angular/components/compare/17.1.0-next.2...17.1.0-next.3)\n\n##### material\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [f23d8c1f7](https://togithub.com/angular/components/commit/f23d8c1f7e828cc1d4d9d08cd6117507f979fcb5) | feat | **button:** add the ability to interact with disabled buttons ([#&#8203;28242](https://togithub.com/angular/components/pull/28242)) |\n| [714eac3be](https://togithub.com/angular/components/commit/714eac3be477768b482b0cf48ed2061b10d1a858) | fix | **button:** remove duplicate typography styles from FAB ([#&#8203;28258](https://togithub.com/angular/components/pull/28258)) |\n| [a962bb77f](https://togithub.com/angular/components/commit/a962bb77f2e68b44e4e3ccf88841f63495661036) | fix | **button:** resolve memory leaks in ripples ([#&#8203;28254](https://togithub.com/angular/components/pull/28254)) |\n| [597b822e2](https://togithub.com/angular/components/commit/597b822e25693734faf4ffc2fb6a0194abac32f0) | fix | **chips:** enable hydration ([#&#8203;28260](https://togithub.com/angular/components/pull/28260)) |\n| [cb9c22278](https://togithub.com/angular/components/commit/cb9c22278f91692a4776d8111bd4a718fe13db34) | fix | **tabs:** add header divider for m3 ([#&#8203;28244](https://togithub.com/angular/components/pull/28244)) |\n| [771f1df50](https://togithub.com/angular/components/commit/771f1df50e38f634a0845c756b809029849a2291) | fix | **tabs:** deprecate backgroundColor API ([#&#8203;28262](https://togithub.com/angular/components/pull/28262)) |\n\n<!-- CHANGELOG SPLIT MARKER -->\n\n</details>\n\n---\n\n### Configuration\n\nðŸ“… **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\nðŸš¦ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\nâ™» **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\nðŸ‘» **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [x] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy43NC41IiwidXBkYXRlZEluVmVyIjoiMzcuNzQuNSIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->\n","Url":"https://github.com/angular/angular-cli/pull/26671","RelatedDescription":"Closed or merged PR \"build: update angular\" (#26671)"},{"Id":"2040554569","IsPullRequest":true,"CreatedAt":"2023-12-14T06:17:02","Actor":"alan-agius4","Number":"26670","RawContent":null,"Title":"refactor: update test runner to use process.exit instead of treekill","State":"closed","Body":"This fixes an issue on Linux CI that `ng serve` sub-process is not terminated properly when using tree-kill which causes the tests test process not to exit.\r\n\r\n","Url":"https://github.com/angular/angular-cli/pull/26670","RelatedDescription":"Closed or merged PR \"refactor: update test runner to use process.exit instead of treekill\" (#26670)"},{"Id":"2040428065","IsPullRequest":true,"CreatedAt":"2023-12-13T22:19:46","Actor":"alan-agius4","Number":"26668","RawContent":null,"Title":"Debug!!!","State":"closed","Body":"## PR Checklist\r\n\r\nPlease check to confirm your PR fulfills the following requirements:\r\n\r\n<!-- Please check all that apply using \"x\". -->\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular-cli/blob/main/CONTRIBUTING.md#-commit-message-guidelines\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n## PR Type\r\n\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] Other... Please describe:\r\n\r\n## What is the current behavior?\r\n\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n## What is the new behavior?\r\n\r\n<!-- Please describe the new behavior that. -->\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular-cli/pull/26668","RelatedDescription":"Closed or merged PR \"Debug!!!\" (#26668)"},{"Id":"2040491541","IsPullRequest":false,"CreatedAt":"2023-12-13T21:29:15","Actor":"brianpilati","Number":"26669","RawContent":null,"Title":"ng serve <project> runs tslint and fails.","State":"closed","Body":"### Command\r\n\r\nserve\r\n\r\n### Is this a regression?\r\n\r\n- [ ] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nWhen I run `ng serve <project> I get tslint errors and I do not have tslint installed.\r\n\r\n### Minimal Reproduction\r\n\r\nangular.json file\r\n```\r\n{\r\n  \"$schema\": \"./node_modules/@angular/cli/lib/config/schema.json\",\r\n  \"version\": 1,\r\n  \"newProjectRoot\": \"projects\",\r\n  \"projects\": {\r\n    \"project\": {\r\n      \"root\": \"\",\r\n      \"sourceRoot\": \"src\",\r\n      \"projectType\": \"application\",\r\n      \"prefix\": \"app\",\r\n      \"schematics\": {},\r\n      \"architect\": {\r\n        \"lint\": {\r\n          \"builder\": \"@angular-eslint/builder:lint\",\r\n          \"options\": {\r\n            \"eslintConfig\": \".eslintrc.json\",\r\n            \"lintFilePatterns\": [\r\n              \"src/app/**/*.ts\",\r\n              \"src/app/**/*.html\"\r\n            ]\r\n          }\r\n        }\r\n      }\r\n    },\r\n```\r\n\r\n\r\n.eslintrc.json file\r\n```\r\n{\r\n  \"extends\": \"../../.eslintrc.json\",\r\n  \"ignorePatterns\": [\"!**/*\"],\r\n  \"overrides\": [\r\n    {\r\n      \"files\": [\"*.ts\"],\r\n      \"parserOptions\": {\r\n        \"project\": [\"projects/<project>/tsconfig.lib.json\", \"projects/<project>/tsconfig.spec.json\"],\r\n        \"createDefaultProgram\": true\r\n      },\r\n      \"rules\": {\r\n        \"@angular-eslint/directive-selector\": [\r\n          \"error\",\r\n          {\r\n            \"type\": \"attribute\",\r\n            \"prefix\": \"subscription\",\r\n            \"style\": \"camelCase\"\r\n          }\r\n        ],\r\n        \"@angular-eslint/component-selector\": [\r\n          \"error\",\r\n          {\r\n            \"type\": \"element\",\r\n            \"prefix\": \"subscription\",\r\n            \"style\": \"kebab-case\"\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  ]\r\n}\r\n\r\n```\r\n\r\n### Exception or Error\r\n\r\n```text\r\nng serve <project>\r\nOne or more browsers which are configured in the project's Browserslist configuration will be ignored as ES5 output is not supported by the Angular CLI.\r\nIgnored browsers: kaios 2.5, op_mini all\r\nâœ” Browser application bundle generation complete.\r\n\r\nInitial Chunk Files                       | Names                       |  Raw Size\r\nmain.js                                   | main                        |   5.23 MB |\r\nstyles.css, styles.js                     | styles                      | 456.93 kB |\r\npolyfills.js                              | polyfills                   | 333.25 kB |\r\nruntime.js                                | runtime                     |  13.00 kB |\r\n\r\n                                          | Initial Total               |   6.01 MB\r\n\r\nLazy Chunk Files                          | Names                       |  Raw Size\r\nsrc_app_library_subscription_module_ts.js | library-subscription-module |   5.65 MB |\r\n\r\nBuild at: 2023-12-13T21:20:18.163Z - Hash: 72741e91022f2816 - Time: 16736ms\r\n\r\nError: src/testing/class/account.invoice.test.class.ts:32:38 - error TS7030: Not all code paths return a value.\r\n\r\n32   getSearchInterceptor(url: string): any[] {\r\n                                        ~~~~~\r\n ... \r\n\r\n** Angular Live Development Server is listening on localhost:4200, open your browser on http://localhost:4200/ **\r\n\r\n\r\nâœ– Failed to compile.\r\n```\r\n\r\n\r\n### Your Environment\r\n\r\n```text\r\nAngular CLI: 16.2.10\r\nNode: 16.20.2\r\nPackage Manager: npm 8.19.4\r\nOS: darwin x64\r\n\r\nAngular: 16.2.12\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... language-service, material, platform-browser\r\n... platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1602.10\r\n@angular-devkit/build-angular   16.2.10\r\n@angular-devkit/core            16.2.10\r\n@angular-devkit/schematics      16.2.10\r\n@angular/cli                    16.2.10\r\n@angular/flex-layout            15.0.0-beta.42\r\n@schematics/angular             16.2.10\r\nng-packagr                      16.2.3\r\nrxjs                            7.8.1\r\ntypescript                      5.1.6\r\nzone.js                         0.13.3\r\n```\r\n\r\n\r\n### Anything else relevant?\r\n\r\n_No response_","Url":"https://github.com/angular/angular-cli/issues/26669","RelatedDescription":"Closed issue \"ng serve <project> runs tslint and fails.\" (#26669)"},{"Id":"2038412610","IsPullRequest":false,"CreatedAt":"2023-12-13T19:14:39","Actor":"SetoKaiba","Number":"26652","RawContent":null,"Title":"Angular SSR with SSL is broken with the http client get for relative url","State":"closed","Body":"### Command\r\n\r\nserve\r\n\r\n### Is this a regression?\r\n\r\n- [ ] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\n```typescript\r\nhttpClient.get('assets/test.json')\r\n```\r\nIt's working without SSL.\r\nBut it is broken after I use SSL.\r\nThe url becomes `https://undefined/assets/test.json`.\r\n\r\n### Minimal Reproduction\r\n\r\n```typescript\r\nhttpClient.get('assets/test.json')\r\n```\r\n\r\n### Exception or Error\r\n\r\n```\r\nERROR HttpErrorResponse {\r\n  headers: _HttpHeaders {\r\n    normalizedNames: Map(0) {},\r\n    lazyUpdate: null,\r\n    headers: Map(0) {}\r\n  },\r\n  status: 0,\r\n  statusText: 'Unknown Error',\r\n  url: 'https://undefined/assets/test.json',\r\n  ok: false,\r\n  name: 'HttpErrorResponse',\r\n  message: 'Http failure response for https://undefined/assets/test.json: 0 undefined',\r\n  error: TypeError: fetch failed\r\n      at node:internal/deps/undici/undici:12442:11\r\n      at _ZoneDelegate.invoke (e:/WebstormProjects/ciyuan-frontend/node_modules/zone.js/fesm2015/zone-node.js:368:26)\r\n      at Object.onInvoke (e:/WebstormProjects/ciyuan-frontend/node_modules/@angular/core/fesm2022/core.mjs:14695:33)\r\n      at _ZoneDelegate.invoke (e:/WebstormProjects/ciyuan-frontend/node_modules/zone.js/fesm2015/zone-node.js:367:52)\r\n      at _Zone.run (e:/WebstormProjects/ciyuan-frontend/node_modules/zone.js/fesm2015/zone-node.js:129:43)\r\n      at eval (e:/WebstormProjects/ciyuan-frontend/node_modules/zone.js/fesm2015/zone-node.js:1188:36)\r\n      at _ZoneDelegate.invokeTask (e:/WebstormProjects/ciyuan-frontend/node_modules/zone.js/fesm2015/zone-node.js:402:31)\r\n      at eval (e:/WebstormProjects/ciyuan-frontend/node_modules/@angular/core/fesm2022/core.mjs:14369:55)\r\n      at AsyncStackTaggingZoneSpec.onInvokeTask (e:/WebstormProjects/ciyuan-frontend/node_modules/@angular/core/fesm2022/core.mjs:14369:36)\r\n      at _ZoneDelegate.invokeTask (e:/WebstormProjects/ciyuan-frontend/node_modules/zone.js/fesm2015/zone-node.js:401:60) {\r\n    cause: Error: getaddrinfo ENOTFOUND undefined\r\n        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:118:26) {\r\n      errno: -3008,\r\n      code: 'ENOTFOUND',\r\n      syscall: 'getaddrinfo',\r\n      hostname: 'undefined'\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n### Your Environment\r\n\r\n```text\r\nNode.js version v21.4.0 detected.                                                                                                                                              \r\nOdd numbered Node.js versions will not enter LTS status and should not be used for production. For more information, please see https://nodejs.org/en/about/previous-releases/.\r\n\r\n     _                      _                 ____ _     ___ \r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / â–³ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | | \r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | | \r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/                                        \r\n                                                             \r\n\r\nAngular CLI: 17.0.6       \r\nNode: 21.4.0 (Unsupported)\r\nPackage Manager: npm 10.2.4\r\nOS: win32 x64\r\n\r\nAngular: 17.0.6\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, platform-server\r\n... router, ssr\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.6\r\n@angular-devkit/build-angular   17.0.6\r\n@angular-devkit/core            17.0.6\r\n@angular-devkit/schematics      17.0.6\r\n@angular/cdk                    17.0.3\r\n@angular/material               17.0.3\r\n@schematics/angular             17.0.6\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.2\r\n\r\nWarning: The current version of Node (21.4.0) is not supported by Angular.\r\n```\r\n\r\n\r\n### Anything else relevant?\r\n\r\n_No response_","Url":"https://github.com/angular/angular-cli/issues/26652","RelatedDescription":"Closed issue \"Angular SSR with SSL is broken with the http client get for relative url\" (#26652)"},{"Id":"2039671356","IsPullRequest":true,"CreatedAt":"2023-12-13T19:14:38","Actor":"alan-agius4","Number":"26658","RawContent":null,"Title":"fix(@angular-devkit/build-angular): construct SSR request URL using server resolvedUrls","State":"closed","Body":"\r\n\r\nWith vite `header.host` is undefined when SSL is enabled. This resulted in an invalid URL to be constructed.\r\n\r\nCloses #26652\r\n","Url":"https://github.com/angular/angular-cli/pull/26658","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): construct SSR request URL using server resolvedUrls\" (#26658)"},{"Id":"2039382577","IsPullRequest":true,"CreatedAt":"2023-12-13T18:53:14","Actor":"angular-robot","Number":"26657","RawContent":null,"Title":"build: update all non-major dependencies","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [ng-packagr](https://togithub.com/ng-packagr/ng-packagr) | devDependencies | patch | [`17.1.0-next.2` -> `17.1.0-next.3`](https://renovatebot.com/diffs/npm/ng-packagr/17.1.0-next.2/17.1.0-next.3) |\n| [rollup](https://rollupjs.org/) ([source](https://togithub.com/rollup/rollup)) | devDependencies | minor | [`~4.8.0` -> `~4.9.0`](https://renovatebot.com/diffs/npm/rollup/4.8.0/4.9.0) |\n| [vite](https://vitejs.dev) ([source](https://togithub.com/vitejs/vite)) | dependencies | patch | [`5.0.7` -> `5.0.8`](https://renovatebot.com/diffs/npm/vite/5.0.7/5.0.8) |\n| [vite](https://vitejs.dev) ([source](https://togithub.com/vitejs/vite)) | devDependencies | patch | [`5.0.7` -> `5.0.8`](https://renovatebot.com/diffs/npm/vite/5.0.7/5.0.8) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>ng-packagr/ng-packagr (ng-packagr)</summary>\n\n### [`v17.1.0-next.3`](https://togithub.com/ng-packagr/ng-packagr/releases/tag/17.1.0-next.3)\n\n[Compare Source](https://togithub.com/ng-packagr/ng-packagr/compare/17.1.0-next.2...17.1.0-next.3)\n\n##### Performance\n\n-   only emit changed DTS and JS from NG compiler ([cd0f508](https://togithub.com/ng-packagr/ng-packagr/commit/cd0f508a80e94b877acab177b57fd68170f80318))\n-   only write FESM files when content changes during watch mode ([fb096a0](https://togithub.com/ng-packagr/ng-packagr/commit/fb096a065d5cb4a358463ce4640f2da7a04b34c5))\n-   reduce TypeScript JSDoc parsing ([8228740](https://togithub.com/ng-packagr/ng-packagr/commit/822874098e6b52bca6165efad635f9ec1d6ee7c3))\n\n</details>\n\n<details>\n<summary>rollup/rollup (rollup)</summary>\n\n### [`v4.9.0`](https://togithub.com/rollup/rollup/blob/HEAD/CHANGELOG.md#490)\n\n[Compare Source](https://togithub.com/rollup/rollup/compare/v4.8.0...v4.9.0)\n\n*2023-12-13*\n\n##### Features\n\n-   Fully support arbitrary strings as import and export identifiers ([#&#8203;5298](https://togithub.com/rollup/rollup/issues/5298))\n\n##### Pull Requests\n\n-   [#&#8203;5296](https://togithub.com/rollup/rollup/pull/5296): Do not assume setTimeout return type ([@&#8203;kapouer](https://togithub.com/kapouer))\n-   [#&#8203;5298](https://togithub.com/rollup/rollup/pull/5298): Fully support arbitrary module namespace identifiers for all formats ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n\n</details>\n\n<details>\n<summary>vitejs/vite (vite)</summary>\n\n### [`v5.0.8`](https://togithub.com/vitejs/vite/blob/HEAD/packages/vite/CHANGELOG.md#small508-2023-12-12-small)\n\n[Compare Source](https://togithub.com/vitejs/vite/compare/v5.0.7...v5.0.8)\n\n-   perf: cached fs utils ([#&#8203;15279](https://togithub.com/vitejs/vite/issues/15279)) ([c9b61c4](https://togithub.com/vitejs/vite/commit/c9b61c4)), closes [#&#8203;15279](https://togithub.com/vitejs/vite/issues/15279)\n-   fix: missing warmupRequest in transformIndexHtml ([#&#8203;15303](https://togithub.com/vitejs/vite/issues/15303)) ([103820f](https://togithub.com/vitejs/vite/commit/103820f)), closes [#&#8203;15303](https://togithub.com/vitejs/vite/issues/15303)\n-   fix: public files map will be updated on add/unlink in windows ([#&#8203;15317](https://togithub.com/vitejs/vite/issues/15317)) ([921ca41](https://togithub.com/vitejs/vite/commit/921ca41)), closes [#&#8203;15317](https://togithub.com/vitejs/vite/issues/15317)\n-   fix(build): decode urls in CSS files (fix [#&#8203;15109](https://togithub.com/vitejs/vite/issues/15109)) ([#&#8203;15246](https://togithub.com/vitejs/vite/issues/15246)) ([ea6a7a6](https://togithub.com/vitejs/vite/commit/ea6a7a6)), closes [#&#8203;15109](https://togithub.com/vitejs/vite/issues/15109) [#&#8203;15246](https://togithub.com/vitejs/vite/issues/15246)\n-   fix(deps): update all non-major dependencies ([#&#8203;15304](https://togithub.com/vitejs/vite/issues/15304)) ([bb07f60](https://togithub.com/vitejs/vite/commit/bb07f60)), closes [#&#8203;15304](https://togithub.com/vitejs/vite/issues/15304)\n-   fix(ssr): check esm file with normal file path ([#&#8203;15307](https://togithub.com/vitejs/vite/issues/15307)) ([1597170](https://togithub.com/vitejs/vite/commit/1597170)), closes [#&#8203;15307](https://togithub.com/vitejs/vite/issues/15307)\n\n</details>\n\n---\n\n### Configuration\n\nðŸ“… **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\nðŸš¦ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\nâ™» **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\nðŸ‘» **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy43NC41IiwidXBkYXRlZEluVmVyIjoiMzcuNzQuNSIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->\n","Url":"https://github.com/angular/angular-cli/pull/26657","RelatedDescription":"Closed or merged PR \"build: update all non-major dependencies\" (#26657)"},{"Id":"2040255388","IsPullRequest":true,"CreatedAt":"2023-12-13T18:42:59","Actor":"alan-agius4","Number":"26666","RawContent":null,"Title":"build: update all non-major dependencies","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/26666","RelatedDescription":"Closed or merged PR \"build: update all non-major dependencies\" (#26666)"},{"Id":"2040156556","IsPullRequest":false,"CreatedAt":"2023-12-13T17:42:22","Actor":"EdwardCoyle","Number":"26665","RawContent":null,"Title":"Angular 17/ESBuild incorrectly imports CSS files served from `assets`","State":"closed","Body":"### Command\r\n\r\nbuild, serve\r\n\r\n### Is this a regression?\r\n\r\n- [X] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n16\r\n\r\n### Description\r\n\r\nWhen using Angular 17's new `build-angular:application` target to bundle with ESBuild, CSS files in our project that are served as `assets` are no longer being imported as CSS files -- rather they are imported with some wrapping JS/TS that appears to be coming from Vite.\r\n\r\nFrom what I can tell other asset types such as JSON and Images are still being imported as expected.\r\n\r\n**Context**: \r\nOur project is a UI component library that is imported into Angular applications.  We serve several CSS \"theme\" files that are swappable, and need to be loaded dynamically by our theme utility (meaning: served externally from the Angular application bundle). We are creating a migration path for upgrading to Angular 17 and came across this issue.  We had this working in Angular 16 and below without issues.\r\n\r\n### Minimal Reproduction\r\n\r\nI've setup a repo that demos the problem [here](https://github.com/EdwardCoyle/angular-ids-wc-example).  This repo's `main` branch is configured to use `build-angular:application` as its builder.\r\n\r\n- Clone the repository.  Check out the `main` branch\r\n- Run `npm i && npm start`\r\n- Open the URL http://localhost:4200/\r\n- See that everything loaded without any CSS applied\r\n- In another tab, open the URL http://localhost:4200/themes/ids-theme-default-light.css\r\n- See the item being loaded from `assets` is present, but the CSS itself being wrapped by Vite and is no longer served as a CSS file, instead using Content Type `application/javascript`(see dev tools screenshot):\r\n\r\n| Browser | Dev Tools | server response |\r\n| ---- | ---- | ---- |\r\n| ![Screenshot 2023-12-13 at 11 55 45 AM](https://github.com/angular/angular-cli/assets/3249601/8ddf4b3c-cced-4d8a-9a53-18b2775fbe2c) | ![Screenshot 2023-12-13 at 11 57 32 AM](https://github.com/angular/angular-cli/assets/3249601/a1c35a85-0d44-4592-a257-d77a62c83ace) | ![Screenshot 2023-12-13 at 11 46 06 AM](https://github.com/angular/angular-cli/assets/3249601/93da3d0c-5926-4033-af62-3ef2327874b4) |\r\n\r\n\r\nFor comparison, you can also checkout the `browser-builder` branch of this repo which runs on Angular 17 but uses the original configuration (`build-angular:browser`):\r\n\r\n- Run `npm i && npm start`\r\n- Open the URL http://localhost:4200/\r\n- See that the page loads and CSS is now applied\r\n- In another tab, open the URL http://localhost:4200/themes/ids-theme-default-light.css\r\n- See the same item is loaded without any wrapping code, and is served as a CSS file with Content Type `text/css`:\r\n\r\n| Browser | Dev Tools | server response |\r\n| ---- | ---- | ---- |\r\n| ![Screenshot 2023-12-13 at 12 01 08 PM](https://github.com/angular/angular-cli/assets/3249601/5529870b-f132-4624-a8f5-a353afdf3903) | ![Screenshot 2023-12-13 at 12 01 43 PM](https://github.com/angular/angular-cli/assets/3249601/35ac49cc-06bf-4e29-aea1-56898a6e8f53) | ![Screenshot 2023-12-13 at 12 01 15 PM](https://github.com/angular/angular-cli/assets/3249601/ea9dc0cd-80da-4812-a103-7062f2437d55) |\r\n\r\n### Exception or Error\r\n\r\n_No response_\r\n\r\n### Your Environment\r\n\r\n```text\r\nAngular CLI: 17.0.5\r\nNode: 18.13.0\r\nPackage Manager: npm 8.19.3\r\nOS: darwin x64\r\n\r\nAngular: 17.0.5\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.5\r\n@angular-devkit/build-angular   17.0.5\r\n@angular-devkit/core            17.0.5\r\n@angular-devkit/schematics      17.0.5\r\n@schematics/angular             17.0.5\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.2\r\n```\r\n\r\n\r\n### Anything else relevant?\r\n\r\nIn my testing it seems the only assets that have this issue (at least in this project) are CSS files.  We also serve static images and JSON using the assets exporter, and those files appear to be served correctly.  If you'd like to test, try these URLs in either branch of the example repo for the same result and \"Content Type\":\r\n\r\n- http://localhost:4200/assets/images/camera-1.png\r\n- http://localhost:4200/api/books.json","Url":"https://github.com/angular/angular-cli/issues/26665","RelatedDescription":"Closed issue \"Angular 17/ESBuild incorrectly imports CSS files served from `assets`\" (#26665)"},{"Id":"2038752507","IsPullRequest":false,"CreatedAt":"2023-12-13T17:16:27","Actor":"ryanrivest","Number":"26653","RawContent":null,"Title":"@import with Sass causes errors with browser-esbuild and application builders","State":"closed","Body":"### Command\r\n\r\nbuild\r\n\r\n### Is this a regression?\r\n\r\n- [X] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nIf you use an import without referencing anything in the scss file, the import statement gets included in the generated component styles, which results in a 404 when you load the app. As soon as you reference something, this issue goes away and the styles are properly generated.\r\n\r\nBelow is a snippet of the generated bundle with the issue, and after referencing a variable in the imported scss.\r\n\r\n**Nothing referenced, import statement included (which causes the 404 error)**\r\n```\r\n    t.\\u0275cmp = Sr({\r\n        selectors: [[\"app-root\"]],\r\n        styles: [`@import \"variables\";\\r\r\n\\r\r\n//[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\r\r\n//   color: $text-default;\\r\r\n// }`]\r\n    });\r\n```\r\n\r\n**Variable referenced, works as expected**\r\n```\t\r\n    t.\\u0275cmp = Sr({\r\n        selectors: [[\"app-root\"]],\r\n        styles: [\"p[_ngcontent-%COMP%]{color:#1a1a1a}\"]\r\n    });\r\n```\r\n\r\n### Minimal Reproduction\r\n\r\nHere's a reprod (steps below taken to create: https://github.com/ryanrivest/sass-issue-reprod). To reproduce, you just need to run:\r\n- `npm install`\r\n- `npm run build`\r\n- `npx http-server .\\dist\\sass-output-issue\\browser\\ -a localhost -p 4200`\r\n\r\nAs soon as you load up the app, you should see 404 errors in the output:\r\n> [2023-12-13T00:19:43.508Z]  \"GET /variables\" Error (404): \"Not found\"\r\n\r\nIf you uncomment the following from the `app.component.scss`, the error will go away.\r\n\r\n```\r\n// p {\r\n//   color: $text-default;\r\n// }\r\n```\r\n\r\nSteps taken to create reprod:\r\n- `ng new sass-output-issue`, select SCSS\r\n- update `app.component.scss` to include this line: `@import \"variables\";`\r\n- create a `sass` folder, and add a `_variables.scss` file that defines some variables\r\n- update `angular.json` to include this folder:\r\n\r\n```\r\n            \"stylePreprocessorOptions\": {\r\n              \"includePaths\": [\"src/sass\"]\r\n            },\r\n```\r\n\r\n\r\n\r\n### Exception or Error\r\n\r\n```text\r\n[2023-12-13T00:19:43.508Z] \"GET /variables\" Error (404): \"Not found\"\r\n```\r\n\r\n\r\n### Your Environment\r\n\r\n```text\r\n_                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / â–³ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n\r\n\r\nAngular CLI: 17.0.6\r\nNode: 20.10.0\r\nPackage Manager: npm 10.2.5\r\nOS: win32 x64\r\n\r\nAngular: 17.0.6\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.6\r\n@angular-devkit/build-angular   17.0.6\r\n@angular-devkit/core            17.0.6\r\n@angular-devkit/schematics      17.0.6\r\n@schematics/angular             17.0.6\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.2\r\n```\r\n\r\n\r\n### Anything else relevant?\r\n\r\n- The issue does not occur for `ng serve`.\r\n- The issue goes away if I change to the old `browser` builder.","Url":"https://github.com/angular/angular-cli/issues/26653","RelatedDescription":"Closed issue \"@import with Sass causes errors with browser-esbuild and application builders\" (#26653)"},{"Id":"2040068775","IsPullRequest":true,"CreatedAt":"2023-12-13T17:16:25","Actor":"clydin","Number":"26664","RawContent":null,"Title":"fix(@angular-devkit/build-angular): ensure empty optimized Sass stylesheets stay empty","State":"closed","Body":"When an optimized Sass stylesheet becomes an empty string the AOT Angular host adapter was previously treating this as a falsy value and using the original content of the stylesheet. Empty strings are now considered valid values and will be passed to the AOT compiler as such.\r\n\r\nCloses: #26653","Url":"https://github.com/angular/angular-cli/pull/26664","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): ensure empty optimized Sass stylesheets stay empty\" (#26664)"},{"Id":"2038397973","IsPullRequest":true,"CreatedAt":"2023-12-13T16:43:53","Actor":"m4s7","Number":"26651","RawContent":null,"Title":"refactor(@angular-devkit/build-angular): unify proxy config loading iâ€¦","State":"closed","Body":"â€¦n dev-server and ssr-dev-server\r\n\r\nThis improvement harmonizes the proxy configuration loading mechanisms between the dev-server and ssr-dev-server. Previously, these servers used different methods for loading the proxy configuration, leading to inconsistencies. Notably, the ssr-dev-server was limited to loading configurations only in JSON format. This change enables the ssr-dev-server to support various configuration formats, aligning it with the dev-server's capabilities and unify proxy config loading in dev-server and ssr-dev-server\r\n\r\n## PR Checklist\r\n\r\nPlease check to confirm your PR fulfills the following requirements:\r\n\r\n<!-- Please check all that apply using \"x\". -->\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular-cli/blob/main/CONTRIBUTING.md#-commit-message-guidelines\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n## PR Type\r\n\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [x] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] Other... Please describe:\r\n\r\n## What is the current behavior?\r\n\r\nThe two dev-servers use different methods for loading the proxy configuration, leading to inconsistencies. Notably, the ssr-dev-server was limited to loading configurations only in JSON format.\r\n\r\nIssue Number: N/A\r\n\r\n## What is the new behavior?\r\n\r\nThe proxy configuration loading mechanism is now harmonized between the dev-server and ssr-dev-server. The ssr-dev-server now supports various configuration formats, aligning it with the dev-server's capabilities.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular-cli/pull/26651","RelatedDescription":"Closed or merged PR \"refactor(@angular-devkit/build-angular): unify proxy config loading iâ€¦\" (#26651)"},{"Id":"2040043414","IsPullRequest":false,"CreatedAt":"2023-12-13T16:13:40","Actor":"chandrasekhar2039","Number":"26663","RawContent":null,"Title":"Angular cli generate guard command creates DEPRECATED boilerplate templets.","State":"open","Body":"### Command\n\ngenerate\n\n### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\nNot sure, mostly in 16xx\n\n### Description\n\nWhen generating router guard using angular cli with `ng generate guard auth ` it suggests four options that are [CanActivate](https://angular.io/api/router/CanActivate), [CanDeactivate](https://angular.io/api/router/CanDeactivate),  [CanLoad](https://angular.io/api/router/CanLoad), [CanMatch](https://angular.io/api/router/CanMatch). All these are depreciated and we have a new way of implementing the functionality. \r\n\r\nIt would be great if we remove the DEPRECATED template and add directly the modified approach out of the box. \n\n### Minimal Reproduction\n\nCommand run: \r\n\r\n- `ng g g auth`\r\n- Select `CanActivate` using space and then hit enter\r\n \n\n### Exception or Error\n\n_No response_\n\n### Your Environment\n\n```text\nAngular CLI: 17.0.6\r\nNode: 18.17.1\r\nPackage Manager: npm 10.1.0\r\nOS: win32 x64\r\n\r\nAngular: 17.0.6\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.6\r\n@angular-devkit/build-angular   17.0.6\r\n@angular-devkit/core            17.0.6\r\n@angular-devkit/schematics      17.0.6\r\n@schematics/angular             17.0.6\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.2\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/26663","RelatedDescription":"Open issue \"Angular cli generate guard command creates DEPRECATED boilerplate templets.\" (#26663)"},{"Id":"2039028131","IsPullRequest":true,"CreatedAt":"2023-12-13T14:37:12","Actor":"angular-robot","Number":"26654","RawContent":null,"Title":"build: update github/codeql-action action to v2.22.10","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [github/codeql-action](https://togithub.com/github/codeql-action) | action | patch | `v2.22.9` -> `v2.22.10` |\n\n---\n\n### Release Notes\n\n<details>\n<summary>github/codeql-action (github/codeql-action)</summary>\n\n### [`v2.22.10`](https://togithub.com/github/codeql-action/compare/v2.22.9...v2.22.10)\n\n[Compare Source](https://togithub.com/github/codeql-action/compare/v2.22.9...v2.22.10)\n\n</details>\n\n---\n\n### Configuration\n\nðŸ“… **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\nðŸš¦ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\nâ™» **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\nðŸ”• **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy43NC41IiwidXBkYXRlZEluVmVyIjoiMzcuNzQuNSIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->\n","Url":"https://github.com/angular/angular-cli/pull/26654","RelatedDescription":"Closed or merged PR \"build: update github/codeql-action action to v2.22.10\" (#26654)"},{"Id":"2039786713","IsPullRequest":true,"CreatedAt":"2023-12-13T14:20:03","Actor":"alan-agius4","Number":"26662","RawContent":null,"Title":"Bump version to \"v17.1.0-next.2\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/26662","RelatedDescription":"Closed or merged PR \"Bump version to \"v17.1.0-next.2\" with changelog.\" (#26662)"},{"Id":"2039778406","IsPullRequest":true,"CreatedAt":"2023-12-13T14:00:58","Actor":"alan-agius4","Number":"26661","RawContent":null,"Title":"docs: release notes for the v17.0.7 release","State":"closed","Body":"Cherry-picks the changelog from the \"17.0.x\" branch to the next branch (main).","Url":"https://github.com/angular/angular-cli/pull/26661","RelatedDescription":"Closed or merged PR \"docs: release notes for the v17.0.7 release\" (#26661)"},{"Id":"2039737079","IsPullRequest":true,"CreatedAt":"2023-12-13T13:59:33","Actor":"alan-agius4","Number":"26660","RawContent":null,"Title":"Bump version to \"v17.0.7\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/26660","RelatedDescription":"Closed or merged PR \"Bump version to \"v17.0.7\" with changelog.\" (#26660)"},{"Id":"2039678934","IsPullRequest":true,"CreatedAt":"2023-12-13T13:22:04","Actor":"alan-agius4","Number":"26659","RawContent":null,"Title":"Revert vite","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/26659","RelatedDescription":"Closed or merged PR \"Revert vite\" (#26659)"},{"Id":"2039326581","IsPullRequest":true,"CreatedAt":"2023-12-13T12:24:47","Actor":"alan-agius4","Number":"26656","RawContent":null,"Title":"Fix MAIN CI","State":"closed","Body":"This was causing `Error: The service was stopped: write EPIPE` which caused the test to fail on Node.js 18.","Url":"https://github.com/angular/angular-cli/pull/26656","RelatedDescription":"Closed or merged PR \"Fix MAIN CI\" (#26656)"},{"Id":"2039276658","IsPullRequest":true,"CreatedAt":"2023-12-13T09:44:24","Actor":"angular-robot","Number":"26655","RawContent":null,"Title":"build: update dependency piscina to v4.2.1","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [piscina](https://togithub.com/piscinajs/piscina) | dependencies | patch | [`4.2.0` -> `4.2.1`](https://renovatebot.com/diffs/npm/piscina/4.2.0/4.2.1) |\n| [piscina](https://togithub.com/piscinajs/piscina) | devDependencies | patch | [`4.2.0` -> `4.2.1`](https://renovatebot.com/diffs/npm/piscina/4.2.0/4.2.1) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>piscinajs/piscina (piscina)</summary>\n\n### [`v4.2.1`](https://togithub.com/piscinajs/piscina/blob/HEAD/CHANGELOG.md#421-2023-12-13)\n\n[Compare Source](https://togithub.com/piscinajs/piscina/compare/v4.2.0...v4.2.1)\n\n</details>\n\n---\n\n### Configuration\n\nðŸ“… **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\nðŸš¦ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\nâ™» **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\nðŸ”• **Ignore**: Close this PR and you won't be reminded about these updates again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy43NC41IiwidXBkYXRlZEluVmVyIjoiMzcuNzQuNSIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->\n","Url":"https://github.com/angular/angular-cli/pull/26655","RelatedDescription":"Closed or merged PR \"build: update dependency piscina to v4.2.1\" (#26655)"},{"Id":"2038015188","IsPullRequest":false,"CreatedAt":"2023-12-12T17:10:38","Actor":"awaragi","Number":"26648","RawContent":null,"Title":"Building SSR project using NodeJS v18.19.0 fails with obscure error message An unexpected error occurred: [object Object]","State":"closed","Body":"### Command\n\nbuild\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nI initially found out about this bug while successfully building locally my SSR project using v18.14.2 and when building in github workflow ubuntu runner using v18.x which defaulted to v18.19.0. When I switched locally to the same version v18.19.0 I got the same error.  Switching the github workflow to use v18.14.2 was a valid workaround. I am reporting this issue in case there is a hidden issue that Node v18.19.0 unhid.\r\n\r\nI tried it with a vanilla project and the error is easily replicated. Here are the steps to replicate:\r\n- nvm install v18.19.0\r\n- ng new --ssr (default CSS)\r\n- npm run build\r\n\r\nHere is the log of my local execution with both v18.14.2 and v18.19.0 showing that the build works in one and not in the other.\r\n\r\nÂ developerÂ î‚°Â ~Â î‚±Â DevelopÂ î‚±Â ProjectsÂ î‚°Â npx @angular/cli new --ssr\r\n? What name would you like to use for the new workspace and initial project? test-node\r\n? Which stylesheet format would you like to use? CSS\r\nCREATE test-node/README.md (1062 bytes)\r\nCREATE test-node/.editorconfig (274 bytes)\r\nCREATE test-node/.gitignore (548 bytes)\r\nCREATE test-node/angular.json (2753 bytes)\r\nCREATE test-node/package.json (1272 bytes)\r\nCREATE test-node/tsconfig.json (903 bytes)\r\nCREATE test-node/tsconfig.app.json (324 bytes)\r\nCREATE test-node/tsconfig.spec.json (273 bytes)\r\nCREATE test-node/server.ts (1703 bytes)\r\nCREATE test-node/.vscode/extensions.json (130 bytes)\r\nCREATE test-node/.vscode/launch.json (470 bytes)\r\nCREATE test-node/.vscode/tasks.json (938 bytes)\r\nCREATE test-node/src/main.ts (250 bytes)\r\nCREATE test-node/src/favicon.ico (15086 bytes)\r\nCREATE test-node/src/index.html (294 bytes)\r\nCREATE test-node/src/styles.css (80 bytes)\r\nCREATE test-node/src/main.server.ts (264 bytes)\r\nCREATE test-node/src/app/app.component.css (0 bytes)\r\nCREATE test-node/src/app/app.component.html (20884 bytes)\r\nCREATE test-node/src/app/app.component.spec.ts (925 bytes)\r\nCREATE test-node/src/app/app.component.ts (367 bytes)\r\nCREATE test-node/src/app/app.config.ts (321 bytes)\r\nCREATE test-node/src/app/app.routes.ts (77 bytes)\r\nCREATE test-node/src/app/app.config.server.ts (350 bytes)\r\nCREATE test-node/src/assets/.gitkeep (0 bytes)\r\nâœ” Packages installed successfully.\r\nhint: Using 'master' as the name for the initial branch. This default branch name\r\nhint: is subject to change. To configure the initial branch name to use in all\r\nhint: of your new repositories, which will suppress this warning, call:\r\nhint: \r\nhint: \tgit config --global init.defaultBranch <name>\r\nhint: \r\nhint: Names commonly chosen instead of 'master' are 'main', 'trunk' and\r\nhint: 'development'. The just-created branch can be renamed via this command:\r\nhint: \r\nhint: \tgit branch -m <name>\r\n    Successfully initialized git.\r\nâœ” Packages installed successfully.\r\nÂ developerÂ î‚°Â ~Â î‚±Â DevelopÂ î‚±Â ProjectsÂ î‚°Â cd test-node/\r\nÂ developerÂ î‚°Â î‚ Â masterÂ î‚°Â ~Â î‚±Â DevelopÂ î‚±Â ProjectsÂ î‚±Â test-nodeÂ î‚°Â node -v\r\nv18.19.0\r\nÂ developerÂ î‚°Â î‚ Â masterÂ î‚°Â ~Â î‚±Â DevelopÂ î‚±Â ProjectsÂ î‚±Â test-nodeÂ î‚°Â npm run build\r\n\r\n> test-node@0.0.0 build\r\n> ng build\r\n\r\nAn unexpected error occurred: [object Object]\r\n\r\nÂ developerÂ î‚°Â î‚ Â masterÂ î‚°Â ~Â î‚±Â DevelopÂ î‚±Â ProjectsÂ î‚±Â test-nodeÂ î‚°Â 1Â î‚°Â nvm use v18.14.2 \r\nNow using node v18.14.2 (npm v9.6.0)\r\nÂ developerÂ î‚°Â î‚ Â masterÂ î‚°Â ~Â î‚±Â DevelopÂ î‚±Â ProjectsÂ î‚±Â test-nodeÂ î‚°Â node -v\r\nv18.14.2\r\nÂ developerÂ î‚°Â î‚ Â masterÂ î‚°Â ~Â î‚±Â DevelopÂ î‚±Â ProjectsÂ î‚±Â test-nodeÂ î‚°Â npm run build\r\n\r\n> test-node@0.0.0 build\r\n> ng build\r\n\r\nPrerendered 1 static route.\r\n\r\n\r\nInitial Chunk Files   | Names         |  Raw Size | Estimated Transfer Size\r\nmain-SS6UDOSF.js      | main          | 204.02 kB |                56.57 kB\r\npolyfills-LZBJRJJE.js | polyfills     |  32.69 kB |                10.59 kB\r\nstyles-5INURTSO.css   | styles        |   0 bytes |                 0 bytes\r\n\r\n                      | Initial Total | 236.72 kB |                67.16 kB\r\n\r\nApplication bundle generation complete. [15.972 seconds]\r\n\r\nÂ developerÂ î‚°Â î‚ Â masterÂ î‚°Â ~Â î‚±Â DevelopÂ î‚±Â ProjectsÂ î‚±Â test-nodeÂ î‚°Â 1Â î‚°Â npx ng version\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / â–³ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 17.0.6\r\nNode: 18.14.2\r\nPackage Manager: npm 9.6.0\r\nOS: linux x64\r\n\r\nAngular: 17.0.6\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, platform-server\r\n... router, ssr\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.6\r\n@angular-devkit/build-angular   17.0.6\r\n@angular-devkit/core            17.0.6\r\n@angular-devkit/schematics      17.0.6\r\n@schematics/angular             17.0.6\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.2\r\n\r\n\r\nthe generated package.json is untouched:\r\n\r\n{\r\n  \"name\": \"test-node\",\r\n  \"version\": \"0.0.0\",\r\n  \"scripts\": {\r\n    \"ng\": \"ng\",\r\n    \"start\": \"ng serve\",\r\n    \"build\": \"ng build\",\r\n    \"watch\": \"ng build --watch --configuration development\",\r\n    \"test\": \"ng test\",\r\n    \"serve:ssr:test-node\": \"node dist/test-node/server/server.mjs\"\r\n  },\r\n  \"private\": true,\r\n  \"dependencies\": {\r\n    \"@angular/animations\": \"^17.0.0\",\r\n    \"@angular/common\": \"^17.0.0\",\r\n    \"@angular/compiler\": \"^17.0.0\",\r\n    \"@angular/core\": \"^17.0.0\",\r\n    \"@angular/forms\": \"^17.0.0\",\r\n    \"@angular/platform-browser\": \"^17.0.0\",\r\n    \"@angular/platform-browser-dynamic\": \"^17.0.0\",\r\n    \"@angular/platform-server\": \"^17.0.0\",\r\n    \"@angular/router\": \"^17.0.0\",\r\n    \"@angular/ssr\": \"^17.0.6\",\r\n    \"express\": \"^4.18.2\",\r\n    \"rxjs\": \"~7.8.0\",\r\n    \"tslib\": \"^2.3.0\",\r\n    \"zone.js\": \"~0.14.2\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@angular-devkit/build-angular\": \"^17.0.6\",\r\n    \"@angular/cli\": \"^17.0.6\",\r\n    \"@angular/compiler-cli\": \"^17.0.0\",\r\n    \"@types/express\": \"^4.17.17\",\r\n    \"@types/jasmine\": \"~5.1.0\",\r\n    \"@types/node\": \"^18.18.0\",\r\n    \"jasmine-core\": \"~5.1.0\",\r\n    \"karma\": \"~6.4.0\",\r\n    \"karma-chrome-launcher\": \"~3.2.0\",\r\n    \"karma-coverage\": \"~2.2.0\",\r\n    \"karma-jasmine\": \"~5.1.0\",\r\n    \"karma-jasmine-html-reporter\": \"~2.1.0\",\r\n    \"typescript\": \"~5.2.2\"\r\n  }\r\n}\r\n\r\n![image](https://github.com/angular/angular-cli/assets/24778363/bc9adaf1-5715-44ac-a419-b08c0c34c672)\r\n\n\n### Minimal Reproduction\n\n- nvm install v18.19.0\r\n- ng new --ssr (default CSS)\r\n- npm run build\n\n### Exception or Error\n\n```text\nAn unexpected error occurred: [object Object]\n```\n\n\n### Your Environment\n\n```text\nNodeJS v18.19.0 (locally and on github ubuntu runner)\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/26648","RelatedDescription":"Closed issue \"Building SSR project using NodeJS v18.19.0 fails with obscure error message An unexpected error occurred: [object Object]\" (#26648)"},{"Id":"2038168684","IsPullRequest":true,"CreatedAt":"2023-12-12T17:10:36","Actor":"alan-agius4","Number":"26650","RawContent":null,"Title":"fix(@angular-devkit/build-angular): update ESM loader to work with Node.js 18.19.0","State":"closed","Body":"\r\n\r\nIn Node.js 18.19 ESM loaders works the same way as Node.js 20.9+\r\n\r\nCloses #26648\r\n","Url":"https://github.com/angular/angular-cli/pull/26650","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): update ESM loader to work with Node.js 18.19.0\" (#26650)"},{"Id":"2038132953","IsPullRequest":true,"CreatedAt":"2023-12-12T16:35:54","Actor":"alan-agius4","Number":"26649","RawContent":null,"Title":"fix(@angular/cli): print error code when available on unexpected error occurred","State":"closed","Body":"\r\n\r\nIn some cases, Node.js expection would only contain an error code, example `ERR_UNSUPPORTED_ESM_URL_SCHEME`. This caused `An unexpected error occurred: [object Object]` to be logged in the console.\r\n\r\nCloses #26648\r\n","Url":"https://github.com/angular/angular-cli/pull/26649","RelatedDescription":"Closed or merged PR \"fix(@angular/cli): print error code when available on unexpected error occurred\" (#26649)"},{"Id":"2037853077","IsPullRequest":true,"CreatedAt":"2023-12-12T15:04:42","Actor":"clydin","Number":"26646","RawContent":null,"Title":"[17.0.x] fix(@angular-devkit/build-angular): cache loading of component resources in JIT mode","State":"closed","Body":"The load result caching capabilities of the Angular compiler plugin used within the `application` and `browser-esbuild` builders is now used for both stylesheet and template component resources when building in JIT mode. This limits the amount of file system access required during a rebuild in JIT mode and also more accurately captures the full set of watched files.\r\n\r\n17.0.x variant of https://github.com/angular/angular-cli/pull/26636","Url":"https://github.com/angular/angular-cli/pull/26646","RelatedDescription":"Closed or merged PR \"[17.0.x] fix(@angular-devkit/build-angular): cache loading of component resources in JIT mode\" (#26646)"}],"ResultType":"GitHubIssue"},"material2-Issues":{"Issues":[{"Id":"2041214117","IsPullRequest":true,"CreatedAt":"2023-12-14T22:01:38","Actor":"crisbeto","Number":"28281","RawContent":null,"Title":"refactor(material/core): switch app background to tokens theming API","State":"closed","Body":"Switches the `mat-app-background` to use tokens for theming.","Url":"https://github.com/angular/components/pull/28281","RelatedDescription":"Closed or merged PR \"refactor(material/core): switch app background to tokens theming API\" (#28281)"},{"Id":"2042360212","IsPullRequest":true,"CreatedAt":"2023-12-14T20:18:02","Actor":"zarend","Number":"28285","RawContent":null,"Title":"fix(material/paginator): match visual and reading order","State":"closed","Body":"Fix accessibility issue in MatPaginator component. When screen is narrow, maintain the visual order with the DOM order.\r\n\r\nCurrent behavior is swappign visual order of \"Items Per Page\" and \"1 of 4\" on narrow screens. With this commit applied, no longer swap the order.","Url":"https://github.com/angular/components/pull/28285","RelatedDescription":"Closed or merged PR \"fix(material/paginator): match visual and reading order\" (#28285)"},{"Id":"2042327421","IsPullRequest":true,"CreatedAt":"2023-12-14T19:22:14","Actor":"ekkolon","Number":"28284","RawContent":null,"Title":"docs(material/list): fix grammer in MAT_LIST_CONFIG token description","State":"open","Body":"","Url":"https://github.com/angular/components/pull/28284","RelatedDescription":"Open PR \"docs(material/list): fix grammer in MAT_LIST_CONFIG token description\" (#28284)"},{"Id":"2042184755","IsPullRequest":true,"CreatedAt":"2023-12-14T17:46:13","Actor":"wagnermaciel","Number":"28283","RawContent":null,"Title":"Slider input dimensions","State":"open","Body":"","Url":"https://github.com/angular/components/pull/28283","RelatedDescription":"Open PR \"Slider input dimensions\" (#28283)"},{"Id":"2042136711","IsPullRequest":true,"CreatedAt":"2023-12-14T17:17:17","Actor":"mmalerba","Number":"28282","RawContent":null,"Title":"refactor(material/experimental): Remove theming-next directory","State":"open","Body":"This directory contains some code for an alternative theming API we explored. Deleting it for now since we went with a different API. If we ever want to consider this one again we can find it in the repo history","Url":"https://github.com/angular/components/pull/28282","RelatedDescription":"Open PR \"refactor(material/experimental): Remove theming-next directory\" (#28282)"},{"Id":"2040923263","IsPullRequest":false,"CreatedAt":"2023-12-14T05:17:35","Actor":"tenglongroy","Number":"28280","RawContent":null,"Title":"bug(mat-select): Mat-Select dropdown menu fluctuates when opened if \"focus\" event handler is added","State":"open","Body":"### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n15\n\n### Description\n\nI have a directive for adding a \"focus\" event handler to `<Mat-Select>`, so that when focusing on it, the dropdown menu opens automatically, for more friendly experience of keyboard users to press \"Tab\" key to navigate through the fields.\r\nThe above feature uses to work well in Angular v13 and v15, and no issue observed when clicking `<Mat-Select>` field.\r\n\r\nHere's the code.\r\n![image](https://github.com/angular/components/assets/5551432/4c4f7cea-9bc8-4202-b2b6-6b0ee3aef2af)\r\n\r\n\r\nAfter upgrading to Angular v17, when clicking `mat-select`, the dropdown menu opens with an obvious fluctuation. After debugging, it seems mouse clicking it will trigger \"focus\" event, hence `select.open()` is called twice eventually, causing the dropdown menu to fluctuate.\r\n\r\nI have created examples for v15 and v17 as comparison on StackBlitz.\r\n[Angular v15](https://stackblitz.com/edit/angular-7tmynx?file=src%2Fselect-open-on-focus.directive.ts) and [Angular v17](https://stackblitz.com/edit/pvsz9u-zksugu?file=src%2Fapp%2Fmat-select-focus.directive.ts)\r\n\r\nHas Angular changed how the \"click\" event is handled?\n\n### Reproduction\n\nStackBlitz link: https://stackblitz.com/edit/pvsz9u-zksugu?file=src%2Fapp%2Fmat-select-focus.directive.ts\r\nSteps to reproduce:\r\n1. click `<input>` on the page\r\n2. click `<mat-select>` on the page\r\n3. if fluctuation is not seen, repeat step 1 and 2\r\n\n\n### Expected Behavior\n\nThe dropdown menu doesn't fluctuate. Check the example StackBlitz for Angular v15\n\n### Actual Behavior\n\nThe dropdown menu fluctuates 8 times out of 10. Check the example StackBlitz for Angular v17\n\n### Environment\n\n- Angular: 17.0.5\r\n- CDK/Material: 17.0.2\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/28280","RelatedDescription":"Open issue \"bug(mat-select): Mat-Select dropdown menu fluctuates when opened if \"focus\" event handler is added\" (#28280)"},{"Id":"2040700844","IsPullRequest":true,"CreatedAt":"2023-12-14T01:01:05","Actor":"mmalerba","Number":"28279","RawContent":null,"Title":"feat(material-experimental/theming): Add support for color variants","State":"open","Body":"Adds token infrastructure to be able to support color variants for M3 components. This is accomplished by adding an additional namesapce to the token map per color variant. For example, if the mat-icon tokens live in the token map under `(mat, icon): (token-values...)`, and we want to support a primary color variant, we will add a new namespace `(mat, icon, primary): (token-value-overrides...)`.\r\n\r\nWhen applying a color or theme mixin for an M3 theme, users can specify the desired variant as an extra parameter to the mixin: `@include mat.icon-theme($theme, $color-variant: primary)`. The mixin will then merge any overrides from the variant namespace into the default values from the standard namespace to determine the final value for each CSS variable. Note that the user must provide this a keyword argument, not a positional argument. This makes the API easier to maintain should we need to add other options later.\r\n\r\nIn addition to adding the necessary infrastructure for color variants, this PR also builds out the color variant supprot for mat-icon to prove out the infrstructure and serve as an example.","Url":"https://github.com/angular/components/pull/28279","RelatedDescription":"Open PR \"feat(material-experimental/theming): Add support for color variants\" (#28279)"},{"Id":"2039218070","IsPullRequest":true,"CreatedAt":"2023-12-13T22:40:25","Actor":"crisbeto","Number":"28273","RawContent":null,"Title":"refactor(material/form-field): tokenize density overrides","State":"closed","Body":"**Note:** this is a resubmit of #28249.\r\n\r\nSwitches the custom density implementation of the form field to be based on tokens.","Url":"https://github.com/angular/components/pull/28273","RelatedDescription":"Closed or merged PR \"refactor(material/form-field): tokenize density overrides\" (#28273)"},{"Id":"2040570958","IsPullRequest":true,"CreatedAt":"2023-12-13T22:37:20","Actor":"wagnermaciel","Number":"28278","RawContent":null,"Title":"Bump version to \"v17.1.0-next.3\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/28278","RelatedDescription":"Closed or merged PR \"Bump version to \"v17.1.0-next.3\" with changelog.\" (#28278)"},{"Id":"2040560630","IsPullRequest":true,"CreatedAt":"2023-12-13T22:26:40","Actor":"wagnermaciel","Number":"28277","RawContent":null,"Title":"docs: release notes for the v17.0.4 release","State":"closed","Body":"Cherry-picks the changelog from the \"17.0.x\" branch to the next branch (main).","Url":"https://github.com/angular/components/pull/28277","RelatedDescription":"Closed or merged PR \"docs: release notes for the v17.0.4 release\" (#28277)"},{"Id":"2040544755","IsPullRequest":true,"CreatedAt":"2023-12-13T22:23:42","Actor":"wagnermaciel","Number":"28276","RawContent":null,"Title":"Bump version to \"v17.0.4\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/28276","RelatedDescription":"Closed or merged PR \"Bump version to \"v17.0.4\" with changelog.\" (#28276)"},{"Id":"2040260199","IsPullRequest":true,"CreatedAt":"2023-12-13T18:31:41","Actor":"wagnermaciel","Number":"28275","RawContent":null,"Title":"fix(material/slider): update inactive input width on value change","State":"open","Body":"* fixes https://github.com/angular/components/issues/28206","Url":"https://github.com/angular/components/pull/28275","RelatedDescription":"Open PR \"fix(material/slider): update inactive input width on value change\" (#28275)"},{"Id":"2040255258","IsPullRequest":true,"CreatedAt":"2023-12-13T18:27:58","Actor":"essjay05","Number":"28274","RawContent":null,"Title":"fix(material/form-field): failing color contrast text to bg color ratio","State":"open","Body":"\r\nRemoves :hover and .mat-focused opacity changes to .form-field-focus-overlay \r\nwhich was causing a low color contrast ratio between the text and form-field input\r\nbackground fill color.","Url":"https://github.com/angular/components/pull/28274","RelatedDescription":"Open PR \"fix(material/form-field): failing color contrast text to bg color ratio\" (#28274)"},{"Id":"2038461172","IsPullRequest":false,"CreatedAt":"2023-12-13T17:49:53","Actor":"incy-tron","Number":"28270","RawContent":null,"Title":"SnackBar no longer supports panelClass","State":"closed","Body":"### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\nAngular 14.\n\n### Description\n\nhttps://github.com/angular/components/issues/26928#issuecomment-1533422940\r\nResponding to closing of the referenced issue, which indicates \"... we generally don't support style overrides like this\".  Which contradicts the fact that you can provide a MatSnackBarConfig object when calling open on snackbar.  This config allows the passing in of \"Extra CSS classes to be added to the snack bar container.\", which doesn't work with the new MDC migration.\n\n### Reproduction\n\nStackBlitz link: \r\nSteps to reproduce:\r\n1. \r\n2.\r\n\n\n### Expected Behavior\n\nI was expecting to see my css class definition honored.\n\n### Actual Behavior\n\nClass definition not honored.  And there is no easy way to fix this without referencing the hidden css class definitions for the Snackbar.\n\n### Environment\n\n \"@angular/cdk\": \"^15.2.9\",\r\n    \"@angular/common\": \"^15.2.10\",\r\n    \"@angular/compiler\": \"^15.2.10\",\r\n    \"@angular/core\": \"^15.2.10\",\r\n    \"@angular/forms\": \"^15.2.10\",\r\n    \"@angular/material\": \"^15.2.9\",\r\n","Url":"https://github.com/angular/components/issues/28270","RelatedDescription":"Closed issue \"SnackBar no longer supports panelClass\" (#28270)"},{"Id":"2039170176","IsPullRequest":false,"CreatedAt":"2023-12-13T08:06:14","Actor":"JalmariO","Number":"28272","RawContent":null,"Title":"bug(mat-table): Opening material table breaks previous styles on table","State":"open","Body":"### Is this a regression?\r\n\r\n- [X] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\nversion 14\r\n\r\n### Description\r\n\r\nI've updated my angular project from version 14 to 17 and tried to sort out problems that followed.\r\nI can't figure out why my table styles breaks every time I open material table in my app.\r\nMat-mdc-row is always defaultin to 52px, even if I have set it to something else.\r\n\r\n### Reproduction\r\n\r\nStackBlitz link: https://stackblitz-starters-zegkxu.stackblitz.io (https://stackblitz.com/edit/stackblitz-starters-zegkxu)\r\nSteps to reproduce:\r\n1. Click row on table\r\n2. New dialog with mat table should open and underlying tables row heigth changes.\r\n\r\n\r\n### Expected Behavior\r\n\r\nHeight should not be affected.\r\n\r\n### Actual Behavior\r\n\r\nHeight is changed to default (52px).\r\n\r\n### Environment\r\n\r\n- Angular: 17\r\n- CDK/Material: 17\r\n","Url":"https://github.com/angular/components/issues/28272","RelatedDescription":"Open issue \"bug(mat-table): Opening material table breaks previous styles on table\" (#28272)"},{"Id":"2038649931","IsPullRequest":false,"CreatedAt":"2023-12-12T22:36:33","Actor":"kevindqc","Number":"28271","RawContent":null,"Title":"bug(autocomplete): Clicking inside the form field (ie. hint) but outside the input does not close the panel","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nIf I click inside the form field (ie. the hint), the autocomplete panel does not close. I can then use the TAB key to go to another field for example, and the panel is still opened. I can see in the code that it checks explicitly that if the click is in the form field, it doesn't close the panel, but that leads to this situation. \r\n\r\nNormally the hint would probably be under the panel, so you can't really click on it, but in my case, the autocomplete is near the bottom of the screen, which is way in the stackblitz link I also put it at the bottom\n\n### Reproduction\n\nStackBlitz link: https://stackblitz.com/edit/6qeuke?file=src%2Fexample%2Fautocomplete-auto-active-first-option-example.html\r\nSteps to reproduce:\r\n1. Open the autocomplete on the last form field\r\n2. Click on the hint\r\n3. Use tab to go to the first form field\r\n\r\n![autocomplete panel not closing](https://github.com/angular/components/assets/228313/5ba6199a-111b-4259-90d1-17bfb8d4c758)\r\n\n\n### Expected Behavior\n\nThe autocomplete panel should close when you click on the hint\n\n### Actual Behavior\n\nThe autocomplete panel does not close when you click on the hint\n\n### Environment\n\n- Angular: 17\r\n- CDK/Material: 17\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/28271","RelatedDescription":"Open issue \"bug(autocomplete): Clicking inside the form field (ie. hint) but outside the input does not close the panel\" (#28271)"},{"Id":"2038350030","IsPullRequest":true,"CreatedAt":"2023-12-12T19:13:41","Actor":"crisbeto","Number":"28269","RawContent":null,"Title":"Revert \"refactor(material/form-field): tokenize density overrides (#28249)\"","State":"closed","Body":"This reverts commit 087cf15c571d1d9c299e44f0a2f12aa9cdbbd9fd.","Url":"https://github.com/angular/components/pull/28269","RelatedDescription":"Closed or merged PR \"Revert \"refactor(material/form-field): tokenize density overrides (#28249)\"\" (#28269)"},{"Id":"2037628773","IsPullRequest":false,"CreatedAt":"2023-12-12T12:24:07","Actor":"seyfer","Number":"28268","RawContent":null,"Title":"Type MatChipGrid is not assignable to type MatChipGrid & MatLegacyChipList","State":"closed","Body":"### Is this a regression?\r\n\r\n- [ ] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nJust by following the example of Chips with Input from official documentation for v16 Material\r\n\r\nhttps://v16.material.angular.io/components/chips/overview#chips-connected-to-an-input-field\r\n\r\nI have the following error with this code \r\n\r\n```\r\n<mat-form-field class=\"example-chip-list\">\r\n  <mat-label>Favorite Fruits</mat-label>\r\n  <mat-chip-grid #chipGrid aria-label=\"Enter fruits\">\r\n    <mat-chip-row *ngFor=\"let fruit of fruits\"\r\n                  (removed)=\"remove(fruit)\"\r\n                  [editable]=\"true\"\r\n                  (edited)=\"edit(fruit, $event)\"\r\n                  [aria-description]=\"'press enter to edit ' + fruit.name\">\r\n      {{fruit.name}}\r\n      <button matChipRemove [attr.aria-label]=\"'remove ' + fruit.name\">\r\n        <mat-icon>cancel</mat-icon>\r\n      </button>\r\n    </mat-chip-row>\r\n    <input placeholder=\"New fruit...\"\r\n           [matChipInputFor]=\"chipGrid\"\r\n           [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\"\r\n           [matChipInputAddOnBlur]=\"addOnBlur\"\r\n           (matChipInputTokenEnd)=\"add($event)\"/>\r\n  </mat-chip-grid>\r\n</mat-form-field>\r\n```\r\n\r\nspecifically, at `[matChipInputFor]=\"chipGrid\"`\r\n\r\nthe error is:\r\n\r\n> Type MatChipGrid is not assignable to type MatChipGrid & MatLegacyChipList Â Â \r\n> Type MatChipGrid is not assignable to type MatLegacyChipList \r\n\r\nThere is SO question with the same issue, without an answer.\r\nhttps://stackoverflow.com/questions/76497544/mat-chip-grid-is-not-assignable-to-mat-chip-grid-and-mat-legacy-chip-list\r\n\r\n### Reproduction\r\n\r\nSteps to reproduce:\r\n1. just follow https://v16.material.angular.io/components/chips/overview#chips-connected-to-an-input-field\r\n\r\n\r\n### Expected Behavior\r\n\r\nNo TS error when assigning chip grid template to matChipInputFor\r\n` [matChipInputFor]='chipGrid'`\r\n\r\n### Actual Behavior\r\n\r\nTS error at ` [matChipInputFor]='chipGrid'`, see in the description.\r\n\r\n### Environment\r\n\r\n- Angular: v16 latest\r\n- CDK/Material: v16 latest\r\n- Browser(s): any\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Linux, any\r\n","Url":"https://github.com/angular/components/issues/28268","RelatedDescription":"Closed issue \"Type MatChipGrid is not assignable to type MatChipGrid & MatLegacyChipList\" (#28268)"},{"Id":"2036701829","IsPullRequest":false,"CreatedAt":"2023-12-12T12:22:34","Actor":"jakemraz20","Number":"28265","RawContent":null,"Title":"bug(MatChipGrid): Mat Chip Input includes its own styling which overwrite custom styles","State":"closed","Body":"### Is this a regression?\r\n\r\n- Unsure\r\n\r\n### Description\r\n\r\nI am working with a matChipInput and once added, it added its own styling which made the cursor blue and shifted it slightly. I should be able to have a simple matChipInput which will not overwrite my input styling.\r\n\r\n![AnuZswTPB3iaeiw](https://github.com/angular/components/assets/38114304/13ff4515-d6a8-4795-8a6b-59ad7f6532c3)\r\n\r\n\r\n### Reproduction\r\n\r\nCreate a mat chip grid and an associated input with the following line\r\n [matChipInputFor]=\"chipGrid\" where chipGrid is the mat chip grid which will be associated with this input.\r\n\r\n### Expected Behavior\r\n\r\nA regular non-styled cursor\r\n\r\n### Actual Behavior\r\n\r\na blue and shifted styled cursor\r\n\r\n### Environment\r\n\r\nAngular material on Chrome on Mac\r\n","Url":"https://github.com/angular/components/issues/28265","RelatedDescription":"Closed issue \"bug(MatChipGrid): Mat Chip Input includes its own styling which overwrite custom styles\" (#28265)"},{"Id":"2037608729","IsPullRequest":true,"CreatedAt":"2023-12-12T12:02:42","Actor":"stijnvn","Number":"28267","RawContent":null,"Title":"Do not deselect comparable already selected value with setSelection","State":"open","Body":"Do not deselect comparable already selected value with setSelection.","Url":"https://github.com/angular/components/pull/28267","RelatedDescription":"Open PR \"Do not deselect comparable already selected value with setSelection\" (#28267)"},{"Id":"2036550964","IsPullRequest":true,"CreatedAt":"2023-12-12T08:21:15","Actor":"mdemichele","Number":"28264","RawContent":null,"Title":"fix(google-maps): missing setZoom()","State":"closed","Body":"Exposes the setZoom() method made available by  the underlying Google Maps API.\r\n\r\nFixes [Issue #25274 ](https://github.com/angular/components/issues/25274)","Url":"https://github.com/angular/components/pull/28264","RelatedDescription":"Closed or merged PR \"fix(google-maps): missing setZoom()\" (#28264)"},{"Id":"2037159548","IsPullRequest":false,"CreatedAt":"2023-12-12T07:36:47","Actor":"milanstamenkovic","Number":"28266","RawContent":null,"Title":"bug(CdkDragDrop): reordering smaller against larger items produce flickering effect","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\n\r\n\r\nWhen using CdkDragDrop for reordering items with different sizes (e.g. width for horizontal orientation) in a container with greater height then of the elements there is a flickering effects. CdkDragDrop moves larger item really quickly from one side to another.\r\n\r\nTry to drag \"Iron age\" over empty space in container against some wider item (e.g. \"Early modern period\")\r\n\r\nExample uses angular 12, but in angular 17 it works the same.\r\n\n\n### Reproduction\n\nStackBlitz link: https://stackblitz.com/edit/angular-fhqz1h?file=src%2Fapp%2Fcdk-drag-drop-horizontal-sorting-example.css,src%2Fapp%2Fcdk-drag-drop-horizontal-sorting-example.ts,src%2Fapp%2Fcdk-drag-drop-horizontal-sorting-example.html\r\n\n\n### Expected Behavior\n\nReorder elements without flickering effects, as it is when reordering elements of the same size or when container is not larger (e.g. greater height for horizontal list).\n\n### Actual Behavior\n\nLarger element in the list that is reordered against moves fast from one side to another.\n\n### Environment\n\n- Angular: 12\r\n- CDK/Material: 12\r\n- Browser(s): any\r\n- Operating System (e.g. Windows, macOS, Ubuntu): any\r\n","Url":"https://github.com/angular/components/issues/28266","RelatedDescription":"Open issue \"bug(CdkDragDrop): reordering smaller against larger items produce flickering effect\" (#28266)"},{"Id":"2035462579","IsPullRequest":true,"CreatedAt":"2023-12-11T18:28:51","Actor":"andrewseguin","Number":"28262","RawContent":null,"Title":"fix(material/tabs): deprecate backgroundColor API","State":"closed","Body":"Tabs background colors should be customized using the theming API instead of using component inputs. Adding a boolean check that can be modified internally to perform cleanup before v20.","Url":"https://github.com/angular/components/pull/28262","RelatedDescription":"Closed or merged PR \"fix(material/tabs): deprecate backgroundColor API\" (#28262)"},{"Id":"2035923185","IsPullRequest":false,"CreatedAt":"2023-12-11T15:23:02","Actor":"mzeitzcf","Number":"28263","RawContent":null,"Title":"bug(Datepicker): Datepicker with Moment ignores locale","State":"open","Body":"### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n16\n\n### Description\n\nSince updating to Angular 17, my mat-datepicker ignores my locale. Everything should be in German but instead it's all in English now.\n\n### Reproduction\n\nStackBlitz link: https://components-issue-uudyxr.stackblitz.io\r\nSteps to reproduce:\r\n1. Open the datepicker to select a date\r\n2. Select a year and a month\r\n\n\n### Expected Behavior\n\nThe months are displayed in German (screenshot taken from production environment that doesn't have the update to Angular 17 yet).\r\n\r\n![image](https://github.com/angular/components/assets/141422285/662124c9-f17b-4181-a378-a103ee3c9d25)\r\n![image](https://github.com/angular/components/assets/141422285/ce836090-536a-448b-b58f-80e88172da78)\r\n\r\n\n\n### Actual Behavior\n\nThe months are displayed in English\r\n\r\n![image](https://github.com/angular/components/assets/141422285/dc658296-25f4-4221-9938-1b0b62df07e8)\r\n![image](https://github.com/angular/components/assets/141422285/5ff86a70-2566-4979-8117-aa35ce27a4f8)\r\n\n\n### Environment\n\n- Angular: 17.0.6\r\n- CDK/Material: 17.0.3\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows 11\r\n","Url":"https://github.com/angular/components/issues/28263","RelatedDescription":"Open issue \"bug(Datepicker): Datepicker with Moment ignores locale\" (#28263)"},{"Id":"2033989595","IsPullRequest":true,"CreatedAt":"2023-12-11T11:16:04","Actor":"akashar13","Number":"28256","RawContent":null,"Title":"FIX: Example of mat-tabs deletion is showing wrong index","State":"closed","Body":"bug(mat-tabs): Example of mat-tabs deletion is showing wrong index : FIXED\r\nSet Selected value at time of splicing the array","Url":"https://github.com/angular/components/pull/28256","RelatedDescription":"Closed or merged PR \"FIX: Example of mat-tabs deletion is showing wrong index\" (#28256)"},{"Id":"2035227130","IsPullRequest":true,"CreatedAt":"2023-12-11T11:10:27","Actor":"crisbeto","Number":"28260","RawContent":null,"Title":"fix(material/chips): enable hydration","State":"closed","Body":"Removes the `ngSkipHydration` from `mat-chip-listbox` since it seems to work fine in the test app.","Url":"https://github.com/angular/components/pull/28260","RelatedDescription":"Closed or merged PR \"fix(material/chips): enable hydration\" (#28260)"},{"Id":"2034275008","IsPullRequest":true,"CreatedAt":"2023-12-11T11:09:13","Actor":"crisbeto","Number":"28258","RawContent":null,"Title":"fix(material/button): remove duplicate typography styles from FAB","State":"closed","Body":"The FAB was already tokenized some time ago, but we still included typography styles both through the `without-ripple` mixin in the theme and the `static-styles` in the base component styles.\r\n\r\nThese changes remove the unnecessary styles and re-add the font smoothing since it can affect internal tests.","Url":"https://github.com/angular/components/pull/28258","RelatedDescription":"Closed or merged PR \"fix(material/button): remove duplicate typography styles from FAB\" (#28258)"},{"Id":"2035414678","IsPullRequest":false,"CreatedAt":"2023-12-11T11:04:11","Actor":"andrewseguin","Number":"28261","RawContent":null,"Title":"feat(tabs): add support for primary type","State":"open","Body":"Material 3 spec defines two tab types: primary and secondary. Angular Material currently only supports the secondary version. This issue tracks the request to add the primary version.\r\n\r\n![image](https://github.com/angular/components/assets/22898577/bf4f3696-65ec-44fb-8c79-65cec15a7cca)\r\n","Url":"https://github.com/angular/components/issues/28261","RelatedDescription":"Open issue \"feat(tabs): add support for primary type\" (#28261)"},{"Id":"2035196484","IsPullRequest":true,"CreatedAt":"2023-12-11T10:54:12","Actor":"crisbeto","Number":"28259","RawContent":null,"Title":"[Patch only] fix(multiple): add fallback root providers to injection tokens","State":"closed","Body":"Cherry-picks some of the changes from #28155 to the patch branch since they're necessary for compatibility with `@defer`.\r\n\r\nFixes #28198.","Url":"https://github.com/angular/components/pull/28259","RelatedDescription":"Closed or merged PR \"[Patch only] fix(multiple): add fallback root providers to injection tokens\" (#28259)"},{"Id":"2034187219","IsPullRequest":true,"CreatedAt":"2023-12-10T02:11:22","Actor":"mruanova","Number":"28257","RawContent":null,"Title":"docs(material/slider): value should go in the input tag","State":"open","Body":"this screen is correct\r\n![Screen Shot 2023-12-09 at 8 12 10 PM](https://github.com/angular/components/assets/15058177/424d941e-e81f-43da-9f12-04d167088b7d)\r\nbut this screen is wrong because the value should go in the input tag\r\n![Screen Shot 2023-12-09 at 8 13 10 PM](https://github.com/angular/components/assets/15058177/607cf309-069c-41cf-91ac-235825bc2361)","Url":"https://github.com/angular/components/pull/28257","RelatedDescription":"Open PR \"docs(material/slider): value should go in the input tag\" (#28257)"}],"ResultType":"GitHubIssue"}},"RunOn":"2023-12-15T03:30:02.6820672Z","RunDurationInMilliseconds":1829}