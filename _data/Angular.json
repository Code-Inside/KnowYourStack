{"Data":{"Angular-Issues":{"Issues":[{"Id":"2710254368","IsPullRequest":true,"CreatedAt":"2024-12-02T02:41:19","Actor":"JeanMeche","Number":"58994","RawContent":null,"Title":"docs(docs-infra): read jsdoctags from function overloads","State":"open","Body":"Functions like `linkedSignal` have there `@developerPreview` tags on the overload signature. This commit adds the support for them.\r\n\r\nfixes #58817\r\n","Url":"https://github.com/angular/angular/pull/58994","RelatedDescription":"Open PR \"docs(docs-infra): read jsdoctags from function overloads\" (#58994)"},{"Id":"2710129068","IsPullRequest":true,"CreatedAt":"2024-12-02T00:32:15","Actor":"gy-mate","Number":"58993","RawContent":null,"Title":"docs(docs-infra): add missing dot to `essentials/dependency-injection`","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.dev application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n\r\nN/A\r\n\r\n## What is the new behavior?\r\n\r\nN/A\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n## Other information\r\n\r\n_None._","Url":"https://github.com/angular/angular/pull/58993","RelatedDescription":"Open PR \"docs(docs-infra): add missing dot to `essentials/dependency-injection`\" (#58993)"},{"Id":"2710101564","IsPullRequest":true,"CreatedAt":"2024-12-01T23:54:05","Actor":"JeanMeche","Number":"58992","RawContent":null,"Title":"docs: escape inline docs-code content.","State":"open","Body":"This partially reverts #55016 on the file.\r\n\r\nFixes #58989\r\n","Url":"https://github.com/angular/angular/pull/58992","RelatedDescription":"Open PR \"docs: escape inline docs-code content.\" (#58992)"},{"Id":"2709759022","IsPullRequest":true,"CreatedAt":"2024-12-01T19:51:36","Actor":"EmmanuelDemey","Number":"58991","RawContent":null,"Title":"doc: add import for toObservable","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [X] Documentation content changes\r\n- [ ] angular.dev application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/58991","RelatedDescription":"Open PR \"doc: add import for toObservable\" (#58991)"},{"Id":"2709190371","IsPullRequest":true,"CreatedAt":"2024-12-01T15:14:48","Actor":"Sylar-3","Number":"58990","RawContent":null,"Title":"feat(forms): add phoneNumber validator","State":"closed","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [x] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.dev application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\nthere is no way for a formControl to validate a phoneNumber and check the number type being 'MOBILE' , 'FIXED_LINE' etc...\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\nadded the follow validator for use in formControls\r\n`const control = new FormControl({number: '1234567890', countryCode: 'US'}, Validators.phoneNumber([PhoneNumberType.MOBILE, PhoneNumberType.FIXED_LINE]));`\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [x] Yes\r\n- [ ] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\nit only needs to download `libphonenumber-js` library as a dependency so that the new validator works\r\n\r\n## Other information\r\nThe new feature is a new optional Validator that has it's own types file and new functions so it shouldn't affect any existing formControl behavior.","Url":"https://github.com/angular/angular/pull/58990","RelatedDescription":"Closed or merged PR \"feat(forms): add phoneNumber validator\" (#58990)"},{"Id":"2708844435","IsPullRequest":false,"CreatedAt":"2024-12-01T09:20:29","Actor":"robertIsaac","Number":"58989","RawContent":null,"Title":"docs-code isn't rendered at angular.dev","State":"open","Body":"### Describe the problem that you experienced\n\nwhen you go to https://angular.dev/tools/cli/template-typecheck#troubleshooting-template-errors\nyou see \n![Image](https://github.com/user-attachments/assets/eac363bd-b20e-44fb-917c-a330a831ffa1)\n\nand by looking at https://github.com/angular/angular/blob/ed965bdc0f295c00fdb17a546d59aae39f59a11b/adev/src/content/tools/cli/template-typecheck.md?plain=1#L119\nit seems that `docs-code` isn't being rendered at all\n","Url":"https://github.com/angular/angular/issues/58989","RelatedDescription":"Open issue \"docs-code isn't rendered at angular.dev\" (#58989)"},{"Id":"2708755446","IsPullRequest":true,"CreatedAt":"2024-12-01T08:12:25","Actor":"crisbeto","Number":"58988","RawContent":null,"Title":"refactor(compiler): remove allowInvalidAssignmentEvents flag","State":"open","Body":"Deletes the `allowInvalidAssignmentEvents` which was added to facilitate a migration away from invalid two-way bindings. Since the migration doesn't exist anymore, we don't need the flag either.","Url":"https://github.com/angular/angular/pull/58988","RelatedDescription":"Open PR \"refactor(compiler): remove allowInvalidAssignmentEvents flag\" (#58988)"},{"Id":"2708603790","IsPullRequest":false,"CreatedAt":"2024-12-01T06:27:41","Actor":"mattiLeBlanc","Number":"58987","RawContent":null,"Title":"Route Resolvers: allow for async (non blocking) resolve of data","State":"open","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\n\nrouter\n\n### Description\n\nFor my app I need to fetch data and I like to do this in my Router config, using Route Resolver functions.\nI prefer to load my core data via a resolver in the root, in a blocking way because it is required to render the home page.\nHowever, some other data may be resolved in a lazy fashion.\nCurrently, I can't do that in a Route resolver, I have to load it as part of a (container/page) component (either via effects or in the ngOninit).\n\n\n\n### Proposed solution\n\nCan we expand on the resolver config to allow for an Options object to be added so we can tell the Router to load the data blocking or non blocking?\n```\n{\n    path: '',\n    component: AuthenticatedLayoutComponent,\n    canActivate: [AuthGuard],\n    data: {\n      resolveAsync: ['tvs']\n    },\n    resolve: {\n      facility: facilityResolver,\n      resident: residentResolver,\n      calenderEvents: CalendarEventsResolver,\n      tvs: tvsResolver({ runAsync: true } ),                <======== Change\n      homeCards: HomeCardsResolver,\n      whoIsListening: whoIsListeningResolver,\n    },\n```\n\n### Alternatives considered\n\nSo I did a little work around, so I can configure my resolver to load async or sync:\n```\n// ROUTE SEGMENT\n{\n    path: '',\n    component: AuthenticatedLayoutComponent,\n    canActivate: [AuthGuard],\n    data: {\n      resolveAsync: ['tvs']\n    },\n    resolve: {\n      facility: facilityResolver,\n      resident: residentResolver,\n      calenderEvents: CalendarEventsResolver,\n      tvs: tvsResolver,\n      homeCards: HomeCardsResolver,\n      whoIsListening: whoIsListeningResolver,\n    },\n```\nI used `data` to pass in a variable to tell my `tvsResolver` if it should load sync or async.\n\nThen in the resolver:\n```\nexport const tvsResolver: ResolveFn<any> =\n  // (route: ActivatedRouteSnapshot, state: RouterStateSnapshot) => {\n  (route: ActivatedRouteSnapshot, state: RouterStateSnapshot) => {\n    const loadAsync = Array.isArray(route.data.resolveAsync) && route.data.resolveAsync.includes('tvs');\n\n   ....\n  if (loadAsync) {\n     // load Non Blocking\n      const sub: Subscription = deviceService.getTvs().subscribe(() => sub.unsubscribe());\n  } else {\n     // load Blocking\n     return deviceService.getTvs();\n  }\n}\n```\n\nHowever I think this could be done in a better way configuring this in the Router segment.","Url":"https://github.com/angular/angular/issues/58987","RelatedDescription":"Open issue \"Route Resolvers: allow for async (non blocking) resolve of data\" (#58987)"},{"Id":"2708318138","IsPullRequest":true,"CreatedAt":"2024-12-01T01:23:59","Actor":"Ahmed-Hakeem","Number":"58986","RawContent":null,"Title":"docs(docs-infra): handle the long API names in the API cards","State":"open","Body":"I've added elipsis to address any overflow occurs in the card's header.\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.dev application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n![image](https://github.com/user-attachments/assets/94ec5d05-1542-4b36-b094-527d779c059f)\r\n\r\n\r\n## What is the new behavior?\r\n![image](https://github.com/user-attachments/assets/fcd8405c-5c0f-4c75-a02d-f83c6771a851)\r\n\r\n\r\n\r\n\r\n","Url":"https://github.com/angular/angular/pull/58986","RelatedDescription":"Open PR \"docs(docs-infra): handle the long API names in the API cards\" (#58986)"},{"Id":"2707759860","IsPullRequest":true,"CreatedAt":"2024-11-30T18:11:43","Actor":"kauanmn","Number":"58985","RawContent":null,"Title":"docs(fix): fix a typo in an example in Templates page","State":"open","Body":"docs(fix): fix a typo in an example in Templates page of Docs\r\n\r\nFix a typo in an example in Templates page in Essentials section of Angular Docs. Instead of \"Profile file\", the correct would be \"Profile for\", according to the example's template.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [X] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [X] Tests for the changes have been added (for bug fixes / features)\r\n- [X] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [X] Documentation content changes\r\n- [ ] angular.dev application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\nFix a typo in an example in Templates page in Essentials section of Angular Docs. Instead of \"Profile file\", the correct would be \"Profile for\", according to the example's template.\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\nN/A\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [X] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/58985","RelatedDescription":"Open PR \"docs(fix): fix a typo in an example in Templates page\" (#58985)"},{"Id":"2707555667","IsPullRequest":true,"CreatedAt":"2024-11-30T15:42:46","Actor":"JeanMeche","Number":"58984","RawContent":null,"Title":"refactor(core): Instantiate the ErrorHandler lazily.","State":"open","Body":"This change prevents that user code in a custom `ErrorHandler` to run as part of `ApplicationRef`'s creation.\r\n\r\nfixes #58970\r\n","Url":"https://github.com/angular/angular/pull/58984","RelatedDescription":"Open PR \"refactor(core): Instantiate the ErrorHandler lazily.\" (#58984)"},{"Id":"2707293885","IsPullRequest":true,"CreatedAt":"2024-11-30T12:41:41","Actor":"DMezhenskyi","Number":"58983","RawContent":null,"Title":"refactor(platform-browser) improve error message for UNEXPECTED_SYNTHETIC_PROPERTY","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\nImproved error message for `RuntimeErrorCode.UNEXPECTED_SYNTHETIC_PROPERTY`. Added instructions for enabling animations using standalone API.\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [x] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.dev application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\nThe error message contains instructions on how to configure animation only for Module-based app configuration.\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\nThe error message contains instructions on how to configure animation for Standalone app configuration as well.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/58983","RelatedDescription":"Open PR \"refactor(platform-browser) improve error message for UNEXPECTED_SYNTHETIC_PROPERTY\" (#58983)"},{"Id":"2706987279","IsPullRequest":true,"CreatedAt":"2024-11-30T08:40:41","Actor":"crisbeto","Number":"58982","RawContent":null,"Title":"Add internal-only debugging attributes","State":"open","Body":"Adds some logic to include the original template location on each DOM node. Currently there's no way to enable this, apart from making a local change to the compiler. The main usage is aimed at internal tools, but we may consider exposing this in dev mode in the future.\r\n\r\nFixes #42530.","Url":"https://github.com/angular/angular/pull/58982","RelatedDescription":"Open PR \"Add internal-only debugging attributes\" (#58982)"},{"Id":"2706337758","IsPullRequest":false,"CreatedAt":"2024-11-29T22:59:35","Actor":"mvdluit","Number":"58981","RawContent":null,"Title":"docs: first app tutorial still uses assets folder for images instead of public","State":"open","Body":"### Describe the problem that you experienced\n\nWhen a new project is generated, a `public` folder is created for images. The tutorial still uses the older `assets` folder. The tutorial should stay up to date with how projects are generated on users local machines, as it is very confusing when they encounter something different in their generated project.\n\nAlready had multiple people ask questions about this on Discord.\n\n### Enter the URL of the topic with the problem\n\nhttps://angular.dev/tutorials/first-app/02-HomeComponent#add-the-new-component-to-your-apps-layout\n\n### Describe what you were looking for in the documentation\n\n_No response_\n\n### Describe the actions that led you to experience the problem\n\n_No response_\n\n### Describe what you want to experience that would fix the problem\n\nI want the tutorial to stay up to date with what users experience on their local machine, when they generate a project.\n\n### Add a screenshot if that helps illustrate the problem\n\n_No response_\n\n### If this problem caused an exception or error, please paste it here\n\n```true\n\n```\n\n### If the problem is browser-specific, please specify the device, OS, browser, and version\n\n```true\n\n```\n\n### Provide any additional information here in as much as detail as you can\n\n```true\n\n```","Url":"https://github.com/angular/angular/issues/58981","RelatedDescription":"Open issue \"docs: first app tutorial still uses assets folder for images instead of public\" (#58981)"},{"Id":"2706061414","IsPullRequest":true,"CreatedAt":"2024-11-29T20:20:32","Actor":"PrajaktaB27","Number":"58979","RawContent":null,"Title":"fix(router): update error code for NG04008 and add documentation","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.dev application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\nthe error code NG04008 had no documentation\r\n\r\nIssue Number: #58977 \r\n\r\n\r\n## What is the new behavior?\r\nThis PR adds definition and documentation for the NG04008 error to ensure that the error is properly documented in the router error codes.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/58979","RelatedDescription":"Open PR \"fix(router): update error code for NG04008 and add documentation\" (#58979)"},{"Id":"2705969388","IsPullRequest":true,"CreatedAt":"2024-11-29T19:54:19","Actor":"PrajaktaB27","Number":"58978","RawContent":null,"Title":"fix(router): resolve NG04008 error for invalid route configurations","State":"closed","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.dev application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\nthe error code NG04008 had no documentation\r\n\r\nIssue Number: #58977 \r\n\r\n\r\n## What is the new behavior?\r\nThis PR adds definition and documentation for the NG04008 error to ensure that the error is properly documented in the router error codes.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/58978","RelatedDescription":"Closed or merged PR \"fix(router): resolve NG04008 error for invalid route configurations\" (#58978)"},{"Id":"2705577346","IsPullRequest":false,"CreatedAt":"2024-11-29T16:23:37","Actor":"FloSojer","Number":"58977","RawContent":null,"Title":"NG04008 Documentation Missing","State":"open","Body":"### Describe the problem that you experienced\n\nWe have updated our Ionic Angular Application to 18.2.12 and since then we get a lot of Sentry Errors with just `Error: NG04008` and no further description.\nPlease adapt more Information about this to [https://angular.dev/errors](https://angular.dev/errors). \nI just found a similar Topic on [Stack-Overflow](https://stackoverflow.com/questions/71122841/error-error-the-requested-path-contains-undefined-segment-at-index-1) but I even get the Errors with no Childpath appending.\n\n### Enter the URL of the topic with the problem\n\nhttps://angular.dev/errors\n\n### Describe what you were looking for in the documentation\n\nAny information about NG04008.\n\n### Describe the actions that led you to experience the problem\n\nGot Sentry Error in our Application and never experienced it in testing.\n\n","Url":"https://github.com/angular/angular/issues/58977","RelatedDescription":"Open issue \"NG04008 Documentation Missing\" (#58977)"},{"Id":"2705416206","IsPullRequest":false,"CreatedAt":"2024-11-29T15:27:15","Actor":"lcottingham","Number":"58976","RawContent":null,"Title":"Loose object type inference with resource and rxResource","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nNo\n\n### Description\n\nThe new experimental `resource()` and `rxResource()` api is producing pretty loose type inference with objects. The API adds an `any[]` type (<T | any[]>), which causes typescript to throw an error when the resource value object is accessed.\n\nA simple rxResource test below shows the correct type hints within the loader() callback, and in the IDE. However, the type is lost in the `.value()` call.\n\n```\nreadonly testResource = rxResource({\n    request: () => this.submissionId(),\n    loader: ({ request: id }) => {\n        return this.submissionService.fetchCouponInformation(id).pipe(\n            map(r => r.data.submission.coupon),\n            catchError(error => of([]))\n        )\n    },\n})\n\nreadonly resourceValue = computed(() => this.testResource.value()?.id)\n```\n\nWith this test case, the output of the loader request would be `{ __typename?: \"Coupon\";     id: string;     code: string;     createdAt: string; }`\nThe resource API is adding `any[]` to the expected type, which is superseding the expected inferred type.\n\nThis creates the above type error on the computed `resourceValue`.\n\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\n[ERROR] TS2339: Property 'id' does not exist on type 'any[] | { __typename?: \"Coupon\"; id: string; code: string; createdAt: string; }'.\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 19.0.2\nNode: 20.18.0\nPackage Manager: npm 10.8.2\nOS: darwin arm64\n\nAngular: 19.0.1\n... animations, cdk, common, compiler, compiler-cli, core, forms\n... language-service, localize, platform-browser\n... platform-browser-dynamic, router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1900.2\n@angular-devkit/build-angular   19.0.2\n@angular-devkit/core            19.0.2\n@angular-devkit/schematics      19.0.2\n@angular/cli                    19.0.2\n@schematics/angular             19.0.2\nrxjs                            7.8.1\ntypescript                      5.6.3\nzone.js                         0.15.0\n```\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/58976","RelatedDescription":"Closed issue \"Loose object type inference with resource and rxResource\" (#58976)"},{"Id":"2705404951","IsPullRequest":false,"CreatedAt":"2024-11-29T15:10:05","Actor":"Yberion","Number":"58975","RawContent":null,"Title":"Missing documentation regarding `outputMode`","State":"open","Body":"### Describe the problem that you experienced\n\nI did not find any documentations regarding `outputMode`.\n\nIs it planned for a futur version of Angular ? This would require some changes for pages such as https://angular.dev/guide/prerendering#prerendering-parameterized-routes\n\n### Enter the URL of the topic with the problem\n\n_No response_\n\n### Describe what you were looking for in the documentation\n\n_No response_\n\n### Describe the actions that led you to experience the problem\n\n_No response_\n\n### Describe what you want to experience that would fix the problem\n\n_No response_\n\n### Add a screenshot if that helps illustrate the problem\n\n_No response_\n\n### If this problem caused an exception or error, please paste it here\n\n```true\n\n```\n\n### If the problem is browser-specific, please specify the device, OS, browser, and version\n\n```true\n\n```\n\n### Provide any additional information here in as much as detail as you can\n\n```true\n\n```","Url":"https://github.com/angular/angular/issues/58975","RelatedDescription":"Open issue \"Missing documentation regarding `outputMode`\" (#58975)"},{"Id":"2703688255","IsPullRequest":true,"CreatedAt":"2024-11-29T13:56:41","Actor":"PrajaktaB27","Number":"58963","RawContent":null,"Title":"docs: update two-way binding example in documentation","State":"closed","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.dev application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\nthe description needs to be updated for the two-way binding with plain properties.\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\nthe description is updated for the two way binding with plain properties to reflect better wrt code example.\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/58963","RelatedDescription":"Closed or merged PR \"docs: update two-way binding example in documentation\" (#58963)"},{"Id":"2704611369","IsPullRequest":true,"CreatedAt":"2024-11-29T13:53:52","Actor":"thesmiler","Number":"58966","RawContent":null,"Title":"docs: update state of JS banner expiry","State":"closed","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [X] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [X] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [X] Documentation content changes\r\n- [ ] angular.dev application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\nbanner expires Dec 6\r\n\r\n\r\n## What is the new behavior?\r\nbanner expires Dec 10 as per https://bsky.app/profile/sachagreif.com/post/3lc346uwcn22u\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [X] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/58966","RelatedDescription":"Closed or merged PR \"docs: update state of JS banner expiry\" (#58966)"},{"Id":"2704646408","IsPullRequest":true,"CreatedAt":"2024-11-29T13:52:34","Actor":"alan-agius4","Number":"58967","RawContent":null,"Title":"docs: correctly display note about DI tokens  ","State":"closed","Body":"The breakline was breaking the note UI\r\n","Url":"https://github.com/angular/angular/pull/58967","RelatedDescription":"Closed or merged PR \"docs: correctly display note about DI tokens  \" (#58967)"},{"Id":"2705023986","IsPullRequest":false,"CreatedAt":"2024-11-29T12:48:18","Actor":"mehedihasansjs","Number":"58972","RawContent":null,"Title":"cheatsheet not found in new website","State":"open","Body":"### Describe the problem that you experienced\n\nI was reading Angular cheatsheet from https://v17.angular.io/guide/cheatsheet and I was loving it. Then, I have tried to load it in new website and turns out the page is not exists at https://angular.dev/guide/cheatsheet.\n\n### Enter the URL of the topic with the problem\n\nhttps://v17.angular.io/guide/cheatsheet\n\n### Describe what you were looking for in the documentation\n\nNeed the awesome cheatsheet like before in the new website.\n\n### Describe the actions that led you to experience the problem\n\nGo to https://v17.angular.io/guide/cheatsheet and read the cheatsheet. Then remove `v17` and `io` from domain and try replace `io` to `dev` to load the page in the new website because all other pages works like that if you want to read from new website. But loading the url https://angular.dev/guide/cheatsheet fails.\n\n### Describe what you want to experience that would fix the problem\n\nNeed to bring back the cheatsheet page to new website. If there's already a cheatsheet, need to redirect to that page if anyone comes from old url.\n\n### Add a screenshot if that helps illustrate the problem\n\n### Old website\n\n![Image](https://github.com/user-attachments/assets/5c5c6e89-9d34-41e8-a625-856a0601fd27)\n\n### New website\n\n![Image](https://github.com/user-attachments/assets/1869a7b0-711b-401d-83f5-41f5615940a1)","Url":"https://github.com/angular/angular/issues/58972","RelatedDescription":"Open issue \"cheatsheet not found in new website\" (#58972)"},{"Id":"2704984045","IsPullRequest":false,"CreatedAt":"2024-11-29T12:27:02","Actor":"neo3587","Number":"58971","RawContent":null,"Title":"Two-way binding ignores output type since angular 17.2+","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nYes\n\n### Description\n\nWhen using two-way binding (aka banana-in-a-box), the output type is ignored or treated as `any`, after some testing it seems it started happening after v17.2.0.\nThis error stills happening in the current version (v19.0.1) and happens either with `@Output`, `output` or `model`, also happens when you bind a `WritableSignal`.\n\nExample:\n```tsx\n@Compotnent({\n    selector: 'foo',\n    ...\n})\nexport class FooComponent {\n    @Input() value: string | number | undefined;\n    @Output() valueChange = new EventEmitter<number>();\n}\n\n@Component({\n    template: `\n        <foo [(value)]=\"str\"/> <!-- ERROR: doesn't complain with 'number' is not assignable to 'string' -->\n        <foo [value]=\"str\" (valueChange)=\"str = $event\"/> <!-- OK: complains with 'number' is not assignable to 'string' -->\n    `\n})\nexport class AppComponent {\n    str: string = \"\";\n}\n```\n\nReproduction with ng17.0: https://stackblitz.com/edit/stackblitz-starters-krwib7?file=src%2Fmain.ts\nReproduction with ng17.2: https://stackblitz.com/edit/stackblitz-starters-tky4w1?file=src%2Fmain.ts\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://stackblitz.com/edit/stackblitz-starters-tky4w1?file=src%2Fmain.ts\n\n### Please provide the exception or error you saw\n\n```true\n\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 17.2.3\nNode: 18.20.3\nPackage Manager: npm 10.2.3\nOS: linux x64\n\nAngular: 17.2.4\n... animations, common, compiler, compiler-cli, core, forms\n... platform-browser, platform-browser-dynamic, router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1702.3\n@angular-devkit/build-angular   17.2.3\n@angular-devkit/core            17.2.3\n@angular-devkit/schematics      17.2.3\n@angular/cli                    17.2.3\n@schematics/angular             17.2.3\nrxjs                            7.8.1\ntypescript                      5.2.2\nzone.js                         0.14.10\n```\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/58971","RelatedDescription":"Open issue \"Two-way binding ignores output type since angular 17.2+\" (#58971)"},{"Id":"2704975924","IsPullRequest":false,"CreatedAt":"2024-11-29T12:22:40","Actor":"bjarketrux","Number":"58970","RawContent":null,"Title":"Angular 19: NG0200: Circular dependency in DI detected for ChangeDetectionScheduler","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nYes\n\n### Description\n\nWhen updating from Angular 18 to 19 I get a \"Circular dependency in DI detected\" for `ChangeDetectionScheduler` which I did not get in Angular 18.\n\nThe scenario is a bit complex and uses `CDK`, but I managed to make a simpler reproduction in StackBlitz. The issue related to using `effect` in the bootstrapping code. Angular 18 used micro tasks and that made it work. In the StackBlitz in `DirectionalityCdkOverride` it is possible to get it to run by replacing `effect` with `ɵmicrotaskEffect`. This however seems like a hack and I suppose that `ɵmicrotaskEffect` will not be available in the future.\n\n#### The scenario\nWe have our own service for keeping language information including text direction LTR/RTL. We therefore override CDK's Directionality with our own version. We also get the users preference when initializing Angular.\n\n#### The problem/question\nIt does not seem like our application has circular dependencies as the error message suggests. Also the message refers to `ChangeDetectionScheduler` which is a class out of our reach. So maybe the error message is not really applicable/informational for this scenario?\nAlso is this scenario \"illegal\" or is it a complex scenario that `effect` does not handle well?\n\nThanks\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://stackblitz.com/edit/stackblitz-starters-esaf7e?file=src%2Fdirectionality-cdk-override.service.ts\n\n### Please provide the exception or error you saw\n\n```true\nError: NG0200: Circular dependency in DI detected for ChangeDetectionScheduler. Find more at https://angular.dev/errors/NG0200\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 19.0.2\nNode: 20.18.0\nPackage Manager: npm 10.8.2\nOS: win32 x64\n\nAngular: 19.0.1\n... animations, cdk, common, compiler, compiler-cli, core, forms\n... platform-browser, platform-browser-dynamic\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1900.2\n@angular-devkit/build-angular   19.0.2\n@angular-devkit/core            19.0.2\n@angular-devkit/schematics      19.0.2\n@angular/cli                    19.0.2\n@schematics/angular             19.0.2\nrxjs                            7.8.1\ntypescript                      5.6.3\nzone.js                         0.15.0\n```\n\n### Anything else?\n\nTo see the error in StackBlitz, open the browsers DevTools console.","Url":"https://github.com/angular/angular/issues/58970","RelatedDescription":"Open issue \"Angular 19: NG0200: Circular dependency in DI detected for ChangeDetectionScheduler\" (#58970)"},{"Id":"2704900326","IsPullRequest":false,"CreatedAt":"2024-11-29T11:42:48","Actor":"BeliliFahem","Number":"58969","RawContent":null,"Title":"Angular Language Service on Zed Editor","State":"open","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\n\nlanguage-service\n\n### Description\n\nHave Angular Language Service on the Zed Editor ([www.zed.dev](http://www.zed.dev/))\n\n### Proposed solution\n\nI've tested Zed and noticed that it consumes significantly fewer resources compared to VS Code, which is impressive. I believe it would be highly beneficial to integrate angular language-service as extension into Zed alongside other tools.\n\n### Alternatives considered\n\nNo alternative on Zed Editor.","Url":"https://github.com/angular/angular/issues/58969","RelatedDescription":"Open issue \"Angular Language Service on Zed Editor\" (#58969)"},{"Id":"2704769581","IsPullRequest":false,"CreatedAt":"2024-11-29T10:57:22","Actor":"araareon","Number":"58968","RawContent":null,"Title":"NG0953 when updating an model signal within writeValue()","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nNo\n\n### Description\n\nI have a model signal\n\n`    checked = model<boolean>(false);`\n\nWithin writeValue (to implement ngModel) i have an easy .set\n\n\n```\n writeValue(value: boolean | null): void {\n        this.checked.set(value);\n    }\n```\n\nSometimes an NG0953 error comes up because the component seems to in an destroyed state and therefore he cant update the model \n(says \"OutputRef\" in the error message).\n\nDoes not happen always - i assume somehow inside @if / *ngIf\n\n\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\nNG0953\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 18.1.4\nNode: 22.11.0\nPackage Manager: npm 10.2.4\nOS: win32 x64\n\nAngular: 18.1.4\n... animations, cdk, cli, common, compiler, compiler-cli, core\n... forms, language-service, localize, platform-browser\n... platform-browser-dynamic, router, service-worker\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1801.4\n@angular-devkit/build-angular   18.1.4\n@angular-devkit/core            18.1.4\n@angular-devkit/schematics      18.1.4\n@schematics/angular             18.1.4\nng-packagr                      18.1.0\nrxjs                            7.8.1\ntypescript                      5.5.4\nwebpack                         5.95.0\nzone.js                         0.14.10\n```\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/58968","RelatedDescription":"Open issue \"NG0953 when updating an model signal within writeValue()\" (#58968)"},{"Id":"2704300385","IsPullRequest":true,"CreatedAt":"2024-11-29T08:13:54","Actor":"danymarques","Number":"58965","RawContent":null,"Title":"docs(core): improve computation example","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.dev application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\nThe actual example doesn't show how computation works.\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\nThe new example shows better how computation works.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/58965","RelatedDescription":"Open PR \"docs(core): improve computation example\" (#58965)"},{"Id":"2703511817","IsPullRequest":true,"CreatedAt":"2024-11-28T23:37:24","Actor":"BobobUnicorn","Number":"58962","RawContent":null,"Title":"fix(core): fix type inference for Resource#hasValue.","State":"open","Body":"TypeScript considers an intersection of two function types to be an overloaded function containing both signatures. The implication of this is that `Signal<T|undefined> & Signal<T>` is just `Signal<T|undefined>`, instead of `Signal<T>` as would be expected. This results in `Resource#hasValue` not correctly narrowing the type of `#value`.\r\n\r\nThis adds an additional two interfaces representing Resources that are known to have a set value, which avoids the function intersection issue.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.dev application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n","Url":"https://github.com/angular/angular/pull/58962","RelatedDescription":"Open PR \"fix(core): fix type inference for Resource#hasValue.\" (#58962)"},{"Id":"2703458909","IsPullRequest":true,"CreatedAt":"2024-11-28T23:22:53","Actor":"JeanMeche","Number":"58961","RawContent":null,"Title":"docs(docs-infra): enable tslint","State":"open","Body":"","Url":"https://github.com/angular/angular/pull/58961","RelatedDescription":"Open PR \"docs(docs-infra): enable tslint\" (#58961)"}],"ResultType":"GitHubIssue"},"AngularCli-Issues":{"Issues":[{"Id":"2709591166","IsPullRequest":false,"CreatedAt":"2024-12-01T17:53:35","Actor":"e-oz","Number":"29005","RawContent":null,"Title":"Please make timeout configurable in render-worker.ts","State":"open","Body":"### Command\n\nbuild\n\n### Description\n\nDuring pre-rendering, if we need to prerender multiple routes (like 36 routes), pre-rendering fails by timeout.\nIf I manually modify the timeout in [this file](https://github.com/angular/angular-cli/blob/aed726fca318b9aa8f8d52d7915d1da93eff3217/packages/angular/build/src/utils/server-rendering/render-worker.ts#L48), it works fine.\nYes, it takes time, but it is important to pre-render them all for us.\n\n### Describe the solution you'd like\n\nPlease add an option to `angular.json` configuration (or some flag, although an option would be much better - fewer dances with builders).\n\n### Describe alternatives you've considered\n\nThe only alternative right now is to limit the amount of pre-rendered routes.","Url":"https://github.com/angular/angular-cli/issues/29005","RelatedDescription":"Open issue \"Please make timeout configurable in render-worker.ts\" (#29005)"},{"Id":"2709503592","IsPullRequest":true,"CreatedAt":"2024-12-01T16:50:02","Actor":"guiseek","Number":"29004","RawContent":null,"Title":"refactor(@schematics/angular): add required type to CanDeactivate guard","State":"open","Body":"## PR Checklist\r\n\r\nPlease check to confirm your PR fulfills the following requirements:\r\n\r\n<!-- Please check all that apply using \"x\". -->\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular-cli/blob/main/CONTRIBUTING.md#-commit-message-guidelines\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n## PR Type\r\n\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [x] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] Other... Please describe:\r\n\r\n## What is the current behavior?\r\n\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n## What is the new behavior?\r\n\r\n<!-- Please describe the new behavior that. -->\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular-cli/pull/29004","RelatedDescription":"Open PR \"refactor(@schematics/angular): add required type to CanDeactivate guard\" (#29004)"},{"Id":"2708827978","IsPullRequest":false,"CreatedAt":"2024-12-01T08:54:18","Actor":"chihab","Number":"29003","RawContent":null,"Title":"Define, webpack transforms and esbuild plugins are not supported in v19 Karma Buillder","State":"open","Body":"### Command\n\ntest\n\n### Is this a regression?\n\n- [x] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\nv18\n\n### Description\n\nThere is no way to pass in webpack transforms or esbuild plugins or define to the internal Angular builders used in Karma.\n\n### Browser builder\nWhen using webpack (browser) builder, webpack transforms are ignored:\nhttps://github.com/angular/angular-cli/blob/main/packages/angular_devkit/build_angular/src/builders/karma/browser_builder.ts#L37\n\nI guess they should be passed in as a third parameter to [initializeBrowser](https://github.com/angular/angular-cli/blob/main/packages/angular_devkit/build_angular/src/builders/karma/browser_builder.ts#L114)\n\nas it used to be passed in in v18 here https://github.com/angular/angular-cli/blob/18.2.x/packages/angular_devkit/build_angular/src/builders/karma/index.ts#L87\n\n\n### Application builder\nWhen using the newly supported esbuild builder in Karma, esbuild `plugins` and `define` are not supported \nDefine option is not supported in Karma builder (neither exposed in the builder schema nor in the builder api)\nhttps://github.com/angular/angular-cli/blob/main/packages/angular_devkit/build_angular/src/builders/karma/application_builder.ts#L354\n\nRegarding the application I am not sure whether it is a feature request or a bug as the application builder support is new. \n\nQuestion: why are we using an internal builder with a closed configuration rather than using  the one defined in angular.json by the user?\n\n### Minimal Reproduction\n\n### Browser builder\n\n```ts\nreturn executeKarmaBuilder(options, context, {\n  webpackConfiguration: (webpackConfig) => {\n    console.log(\"webpackConfig\", webpackConfig);\n    return webpackConfig;\n  },\n});\n```\n\n### Application builder\n\n```json\n\"test\": {\n  \"builder\": \"@angular-devkit/build-angular:karma\",\n  \"options\": {\n    \"polyfills\": [\"zone.js\", \"zone.js/testing\"],\n    \"tsConfig\": \"tsconfig.spec.json\",\n    \"assets\": [\n      {\n        \"glob\": \"**/*\",\n        \"input\": \"public\"\n      }\n    ],\n    \"define\": {\n      \"ENV_MESSAGE\": \"'Hello from Angular 9'\"\n    },\n    \"styles\": [\"src/styles.css\"],\n    \"scripts\": []\n  }\n}\n```\n\n```\n> ng-app19@0.0.0 test\n> ng test\n\nError: Schema validation failed with the following errors:\n  Data path \"\" must NOT have additional properties(define).\n```\n\n### Your Environment\n\n```text\nAngular CLI: 19.0.0\nNode: 20.13.1\nPackage Manager: npm 10.8.2\nOS: darwin arm64\n\nAngular: 19.0.0\n... animations, build, cli, common, compiler, compiler-cli, core\n... forms, localize, platform-browser, platform-browser-dynamic\n... platform-server, router, ssr\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1900.0\n@angular-devkit/build-angular   19.0.0\n@angular-devkit/core            19.0.0\n@angular-devkit/schematics      19.0.0\n@schematics/angular             19.0.0\nrxjs                            7.8.1\ntypescript                      5.6.3\nzone.js                         0.15.0\n```\n","Url":"https://github.com/angular/angular-cli/issues/29003","RelatedDescription":"Open issue \"Define, webpack transforms and esbuild plugins are not supported in v19 Karma Buillder\" (#29003)"},{"Id":"2706756529","IsPullRequest":false,"CreatedAt":"2024-11-30T06:10:50","Actor":"vikaspotluri123","Number":"29002","RawContent":null,"Title":"[esbuild] `define`s do not apply to all compilation scopes","State":"open","Body":"### Command\n\nbuild\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\n[Defines](https://angular.dev/tools/cli/build-system-migration#build-time-value-replacement-define) are only applied to the `main` esbuild compilation and not others, like `global scripts`.\n\nNote: Happy to try to fix this if this is indeed a bug.\n\n\nRelated issue:\n - https://github.com/angular/angular/issues/51175 - I was trying to work around `ngDevMode` not being applied to global scripts since it's private \n\n### Minimal Reproduction\n\n```bash\n# Create a new project. Use the default values.\nnpx @angular/cli new no_define\ncd no_define\n\n# USER: Download the patch (below) to `patch`\ngit apply < patch\n\n$ yarn build --configuration development\n[...]\n\n# My comments are prefixed with `###`\n$ grep -B1 -r REPRO dist/*/browser/*.js\ndist/no_define/browser/main.js-if (true) {\n### Expected: REPRO got replaced with `true` in development (no optimization)\ndist/no_define/browser/main.js:  console.log(\"MAIN_REPRO\");\n--\ndist/no_define/browser/scripts.js:if (REPRO) {\n### Unexpected: REPRO is undefined in the global scope and should be `true` (like main.js)\ndist/no_define/browser/scripts.js:  console.log(\"SCRIPT_REPRO\");\n\n$ yarn build\n[...]\n\n$ grep -B1 -r REPRO dist/*/browser/*.js\ndist/no_define/browser/scripts-VXXF5WSM.js:REPRO&&console.log(\"SCRIPT_REPRO\");\n### Unexpected: REPRO is undefined in the global scope and the statement was not fully optimized\n```\n\n<details>\n<summary> Patch to apply </summary>\n\n```patch\ndiff --git a/angular.json b/angular.json\nindex 97abfc6..aab5772 100644\n--- a/angular.json\n+++ b/angular.json\n@@ -29,7 +29,10 @@\n             \"styles\": [\n               \"src/styles.css\"\n             ],\n-            \"scripts\": []\n+            \"scripts\": [\"src/repro.js\"],\n+            \"define\": {\n+              \"REPRO\": \"true\"\n+            }\n           },\n           \"configurations\": {\n             \"production\": {\n@@ -45,7 +48,10 @@\n                   \"maximumError\": \"8kB\"\n                 }\n               ],\n-              \"outputHashing\": \"all\"\n+              \"outputHashing\": \"all\",\n+             \"define\": {\n+                     \"REPRO\": \"false\"\n+             }\n             },\n             \"development\": {\n               \"optimization\": false,\ndiff --git a/src/main.ts b/src/main.ts\nindex 35b00f3..8e77aac 100644\n--- a/src/main.ts\n+++ b/src/main.ts\n@@ -2,5 +2,10 @@ import { bootstrapApplication } from '@angular/platform-browser';\n import { appConfig } from './app/app.config';\n import { AppComponent } from './app/app.component';\n\n+// @ts-expect-error\n+if (REPRO) {\n+       console.log('MAIN_REPRO');\n+}\n+\n bootstrapApplication(AppComponent, appConfig)\n   .catch((err) => console.error(err));\ndiff --git a/src/repro.js b/src/repro.js\nnew file mode 100644\nindex 0000000..1062bc6\n--- /dev/null\n+++ b/src/repro.js\n@@ -0,0 +1,3 @@\n+if (REPRO) {\n+       console.log('SCRIPT_REPRO');\n+}\n```\n\n\n</details>\n\n### Exception or Error\n\n```text\n\n```\n\n### Your Environment\n\n```text\n$ ng version\n\n     _                      _                 ____ _     ___\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\n                |___/\n\n\nAngular CLI: 19.0.2\nNode: 18.20.5\nPackage Manager: npm 10.8.2\nOS: linux x64\n\nAngular: 19.0.1\n... animations, common, compiler, compiler-cli, core, forms\n... platform-browser, platform-browser-dynamic, router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1900.2\n@angular-devkit/build-angular   19.0.2\n@angular-devkit/core            19.0.2\n@angular-devkit/schematics      19.0.2\n@angular/cli                    19.0.2\n@schematics/angular             19.0.2\nrxjs                            7.8.1\ntypescript                      5.6.3\nzone.js                         0.15.0\n```\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/29002","RelatedDescription":"Open issue \"[esbuild] `define`s do not apply to all compilation scopes\" (#29002)"},{"Id":"2710119992","IsPullRequest":false,"CreatedAt":"2024-11-29T22:46:49","Actor":"Zefling","Number":"29006","RawContent":null,"Title":"`::ng-deep` becomes `:is()` with CSS files","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncompiler\n\n### Is this a regression?\n\nYes\n\n### Description\n\nIn CSS file (not SCSS), when using `::ng-deep` the result is broken.\n\n\n```css\npre {\n    white-space: pre-wrap;\n\n    ::ng-deep {\n        h3 {\n            margin: 0px;\n            border-bottom: 1px solid;\n            padding: 0 6px 6px;\n        }\n\n        .license {\n            margin-right: 5px;\n            font-size: 20px;\n            text-align: right;\n        }\n    }\n}\n```\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\n**In build**\n\n\n▲ [WARNING] 1 rules skipped due to selector errors:\n  :is() -> Empty sub-selector\n\n\n**In browser**\n\n\npre[_ngcontent-ng-c2840326293] {\n    white-space:pre-wrap\n}\n:is()   h3[_ngcontent-ng-c2840326293] {\n    margin:0;\n    border-bottom:1px solid;\n    padding:0 6px 6px\n}\n:is()   .license[_ngcontent-ng-c2840326293] {\n    margin-right:5px;\n    font-size:20px;\n    text-align:right\n}\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 19.0.2\nNode: 20.11.1\nPackage Manager: npm 10.2.4\nOS: linux x64\n\nAngular: 19.0.1\n... animations, cdk, common, compiler, compiler-cli, core, forms\n... platform-browser, platform-browser-dynamic, router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1900.2\n@angular-devkit/build-angular   19.0.2\n@angular-devkit/core            19.0.2 (cli-only)\n@angular-devkit/schematics      19.0.2\n@angular/cli                    19.0.2\n@schematics/angular             19.0.2\nrxjs                            7.8.1\ntypescript                      5.6.3\nzone.js                         0.15.0\n```\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/29006","RelatedDescription":"Open issue \"`::ng-deep` becomes `:is()` with CSS files\" (#29006)"},{"Id":"2706163650","IsPullRequest":true,"CreatedAt":"2024-11-29T21:17:08","Actor":"JamesHenry","Number":"29001","RawContent":null,"Title":"fix(cli): update angular-eslint reference","State":"open","Body":"## PR Checklist\r\n\r\nPlease check to confirm your PR fulfills the following requirements:\r\n\r\n<!-- Please check all that apply using \"x\". -->\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular-cli/blob/main/CONTRIBUTING.md#-commit-message-guidelines\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n## PR Type\r\n\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [x] Other... Please describe:\r\n\r\n## What is the current behavior?\r\n\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\n`@angular-eslint/schematics` is the referenced schematic collection.\r\n\r\nIssue Number: N/A\r\n\r\n## What is the new behavior?\r\n\r\n`angular-eslint` is the referenced schematic collection, which is my recommended/the preferred way for a cleaner setup in v19 and aligns it with the angular-eslint README: https://github.com/angular-eslint/angular-eslint\r\n\r\n<!-- Please describe the new behavior that. -->\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular-cli/pull/29001","RelatedDescription":"Open PR \"fix(cli): update angular-eslint reference\" (#29001)"},{"Id":"2705429721","IsPullRequest":false,"CreatedAt":"2024-11-29T19:34:35","Actor":"gobeli","Number":"29000","RawContent":null,"Title":"Static build with localization","State":"closed","Body":"### Command\n\nbuild\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nStatic builds do not start the express server, which is specified by the ssr entry file in the `angular.json` when using localization.\n\nWhen localization is enabled the http client uses `http://ng-localhost` as the base-path instead of the server startet during the build.\n\nHow can I do http calls during build time for static site generation with localization enabled?\n\n### Minimal Reproduction\n\nhttps://github.com/gobeli/angular-repro\n\nThe Reproduction includes a simple express server, which serves an api under `/api`. This endpoint is called by the `app.component.ts` and the response used in the `app.component.html`. \n\n- `ng build -c development` Works as expected. The rendered HTML contains the server response.\n- `ng build -c production` Does not work. The rendered HTML contains `null` .\n\nIf I disable `localization` the production build works as well.\n\n### Exception or Error\n\n```text\n\n```\n\n### Your Environment\n\n```text\n_                      _                 ____ _     ___\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\n                |___/\n    \n\nAngular CLI: 19.0.2\nNode: 20.17.0\nPackage Manager: npm 10.8.2\nOS: darwin arm64\n\nAngular: 19.0.1\n... animations, common, compiler, compiler-cli, core, forms\n... localize, platform-browser, platform-browser-dynamic\n... platform-server, router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1900.2\n@angular-devkit/build-angular   19.0.2\n@angular-devkit/core            19.0.2\n@angular-devkit/schematics      19.0.2\n@angular/cli                    19.0.2\n@angular/ssr                    19.0.2\n@schematics/angular             19.0.2\nrxjs                            7.8.1\ntypescript                      5.6.3\nzone.js                         0.15.0\n```\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/29000","RelatedDescription":"Closed issue \"Static build with localization\" (#29000)"},{"Id":"2705222232","IsPullRequest":false,"CreatedAt":"2024-11-29T16:38:57","Actor":"e-oz","Number":"28997","RawContent":null,"Title":"Feature Request: SSG (prerendering) for paths with search params","State":"closed","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\n\nplatform-server\n\n### Description\n\nRight now, if I add an URL with \"[search params](https://developer.mozilla.org/en-US/docs/Web/API/URL/search)\", it will be pre-rendered, but will not be fetched.\nExample of such URLs in `routes.txt`:\n```\n/products?search=gpu&categoryId=afe28993-c73b-4b67-adaf-6f45205681ff\n/products?search=expo%20markers&categoryId=7439270e-e744-40b0-9ea9-06c0bfa5f7c7\n/products?search=expo+markers&categoryId=7439270e-e744-40b0-9ea9-06c0bfa5f7c7\n```\nAfter the `build` phase, we have pre-rendered pages:\n![Image](https://github.com/user-attachments/assets/c3f5a714-e44b-4446-bfce-164fbf27384b)\nBut if we try to open one of these URLs in the browser, the index page is returned first (so this route is not found in pre-rendered).\n\n### Proposed solution\n\nPlease make it possible :)\n\n### Alternatives considered\n\nIf there are alternatives - please let me know.","Url":"https://github.com/angular/angular-cli/issues/28997","RelatedDescription":"Closed issue \"Feature Request: SSG (prerendering) for paths with search params\" (#28997)"},{"Id":"2705383978","IsPullRequest":false,"CreatedAt":"2024-11-29T15:00:59","Actor":"k-schneider","Number":"28999","RawContent":null,"Title":"Build fails on Docker with app initializer that does http request","State":"open","Body":"### Command\n\nbuild\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nI have an Angular v19 app that is failing within a docker build due to prerendering (even though I don't have any prerendered routes).  The build succeeds when ran directly on my Windows workstation.\n\n### Minimal Reproduction\n\nI have a really simple app configuration service/provider that exposes environment variables to the client:\n\n```typescript\nexport const provideAppConfig = () =>\n  provideAppInitializer(() => appConfigInitializer(inject(AppConfigService)));\n\nfunction appConfigInitializer(appConfigService: AppConfigService) {\n  return appConfigService.load();\n}\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class AppConfigService {\n  private http = inject(HttpClient);\n  value = signal<AppConfig>({});\n\n  public async load(): Promise<void> {\n    const config = await firstValueFrom(\n      this.http.get<AppConfig>(\"/app-config\"),\n    );\n    this.value.set(config);\n  }\n\n  public get(key: string): any {\n    return this.value()[key];\n  }\n}\n\ninterface AppConfig {\n  [key: string]: any;\n}\n```\n\nAnd an express route that serves back json:\n\n```typescript\nconst route = Router();\n\n/**\n * Returns any public environment variables that start with PUBLIC_NG_ for use in the Angular app\n */\nroute.get(\"/app-config\", (req, res) => {\n  const config: Record<string, any> = {};\n  Object.keys(process.env).forEach((key) => {\n    if (key.startsWith(\"PUBLIC_NG_\")) {\n      config[key] = process.env[key];\n    }\n  });\n  res.json(config);\n});\n\nexport default route;\n```\n\nThe Dockerfile for reference is:\n\n```text\n# Use Node.js for building the Angular SSR app\nFROM node:22 AS builder\n\n# Set the working directory\nWORKDIR /app\n\n# Copy package.json and install dependencies\nCOPY package*.json ./\nRUN npm ci\n\n# Copy all files and build the Angular SSR app\nCOPY . .\nRUN npm run build\n\n# Use a minimal Node.js image to run the SSR server\nFROM node:22-alpine AS server\n\n# Set the working directory\nWORKDIR /app\n\n# Copy the built app from the builder stage\nCOPY --from=builder /app/dist /app/dist\nCOPY --from=builder /app/package.json /app\n\n# Install serve to serve the SSR app\nRUN npm install -g serve\n\n# Expose the SSR server port\nEXPOSE 4000\n\n# Command to run the SSR server\nCMD [\"npm\", \"run\", \"serve:ssr\"]\n```\n\n### Exception or Error\n\n```text\n0.233 > ng build\n0.233\n0.541 ❯ Building...\n0.944 (node:20) Warning: To load an ES module, set \"type\": \"module\" in the package.json or use the .mjs extension.\n0.944 (Use `node --trace-warnings ...` to show where the warning was created)\n4.862 ERROR vt {\n4.862   headers: e {\n4.862     headers: Map(0) {},\n4.862     normalizedNames: Map(0) {},\n4.862     lazyInit: undefined,\n4.862     lazyUpdate: null\n4.862   },\n4.862   status: 0,\n4.862   statusText: 'Unknown Error',\n4.862   url: 'http://localhost:37773/app-config',\n4.862   ok: false,\n4.862   type: undefined,\n4.862   name: 'HttpErrorResponse',\n4.862   message: 'Http failure response for http://localhost:37773/app-config: 0 undefined',\n4.862   error: TypeError: fetch failed\n4.862       at node:internal/deps/undici/undici:13178:13\n4.862       at a.invoke (file:///app/.angular/prerender-root/6d2a3b7b-b719-4cf2-96bb-7b6c75bc01a4/polyfills.server.mjs:3:6715)\n4.862       at l.run (file:///app/.angular/prerender-root/6d2a3b7b-b719-4cf2-96bb-7b6c75bc01a4/polyfills.server.mjs:3:1985)\n4.862       at file:///app/.angular/prerender-root/6d2a3b7b-b719-4cf2-96bb-7b6c75bc01a4/polyfills.server.mjs:4:576\n4.862       at a.invokeTask (file:///app/.angular/prerender-root/6d2a3b7b-b719-4cf2-96bb-7b6c75bc01a4/polyfills.server.mjs:3:7341)\n4.862       at l.runTask (file:///app/.angular/prerender-root/6d2a3b7b-b719-4cf2-96bb-7b6c75bc01a4/polyfills.server.mjs:3:2628)\n4.862       at R (file:///app/.angular/prerender-root/6d2a3b7b-b719-4cf2-96bb-7b6c75bc01a4/polyfills.server.mjs:3:9382)\n4.862       at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n4.862     [cause]: Error: connect ECONNREFUSED 127.0.0.1:37773\n4.862         at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1607:16) {\n4.862       errno: -111,\n4.862       code: 'ECONNREFUSED',\n4.862       syscall: 'connect',\n4.862       address: '127.0.0.1',\n4.862       port: 37773\n4.862     }\n4.862   }\n4.862 }\n```\n\n### Your Environment\n\n```text\nAngular CLI: 19.0.2\nNode: 20.18.0\nPackage Manager: npm 10.8.2\nOS: win32 x64\n\nAngular: 19.0.1\n... animations, common, compiler, compiler-cli, core, forms\n... platform-browser, platform-browser-dynamic, platform-server\n... router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1900.2\n@angular-devkit/build-angular   19.0.2\n@angular-devkit/core            19.0.2\n@angular-devkit/schematics      19.0.2\n@angular/cli                    19.0.2\n@angular/ssr                    19.0.2\n@schematics/angular             19.0.2\nrxjs                            7.8.1\ntypescript                      5.6.3\nzone.js                         0.15.0\n```\n\n### Anything else relevant?\n\nIf I put a try/catch around the http request and suppress the error the build succeeds.","Url":"https://github.com/angular/angular-cli/issues/28999","RelatedDescription":"Open issue \"Build fails on Docker with app initializer that does http request\" (#28999)"},{"Id":"2705249754","IsPullRequest":false,"CreatedAt":"2024-11-29T14:17:46","Actor":"c-goldschmidt","Number":"28998","RawContent":null,"Title":"Angular Proxy not forwarding if response code 204 received from backend","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\nDon't known / other\n\n### Is this a regression?\n\nYes\n\n### Description\n\nUsing a simple proxy configuration:\n\n```\n{\n    \"/api\": {\n        \"target\": \"https://<backend domain>\",\n        \"secure\": false,\n        \"changeOrigin\": true,\n        \"logLevel\": \"debug\",\n        \"pathRewrite\": {\"^/api\" : \"https://<backend domain>/api\"}\n    },\n```\n\nThe proxy responds correctly to any request. Except if that request happens to respond with a 204 and no body.\n\nCURLing to the backend directly delivers the following:\n```\n[...request omitted...]\n> content-length: 23\n>\n* We are completely uploaded and fine\n* [CONN-0-0][CF-SSL] TLSv1.3 (IN), TLS handshake, Newsession Ticket (4):\n* [CONN-0-0][CF-SSL] TLSv1.3 (IN), TLS handshake, Newsession Ticket (4):\n* old SSL session ID is stale, removing\n* Connection state changed (MAX_CONCURRENT_STREAMS == 128)!\n< HTTP/2 204 \n< date: Fri, 29 Nov 2024 13:52:15 GMT\n< vary: Accept-Language, Cookie\n< content-language: de\n< x-content-type-options: nosniff\n< referrer-policy: same-origin\n< x-frame-options: DENY\n< set-cookie: language=de; Path=/; Secure\n< set-cookie: ###REDACTED###\n< strict-transport-security: max-age=15724800; includeSubDomains\n<\n* Connection #0 to host ###REDACTED### left intact\n```\n\nThe same request to the angular proxy on localhost:\n```\n[...request omitted...same as above]\n> Content-Length: 23\n>\n```\n\n...and that's it. i do control the backend somewhat, so i changed my response to a 200 with json encoded \"OK\" as answer. That works with the proxy:\n```\n[...request omitted...same as above]\n> Content-Length: 23\n>\n* [CONN-0-0][CF-SSL] TLSv1.3 (IN), TLS handshake, Newsession Ticket (4):\n* [CONN-0-0][CF-SSL] TLSv1.3 (IN), TLS handshake, Newsession Ticket (4):\n* old SSL session ID is stale, removing\n* Mark bundle as not supporting multiuse\n< HTTP/1.1 200 OK\n< X-Powered-By: Express\n< Access-Control-Allow-Origin: *\n< date: Fri, 29 Nov 2024 14:06:47 GMT\n< content-type: application/json\n< content-length: 4\n< connection: close\n< vary: Accept-Language, Cookie\n< content-language: de\n< x-content-type-options: nosniff\n< referrer-policy: same-origin\n< x-frame-options: DENY\n< set-cookie: language=de; Path=/; Secure\n< set-cookie: ###REDACTED###\n< strict-transport-security: max-age=15724800; includeSubDomains\n<\n\"OK\"* Closing connection 0\n```\n\njust for completeness, the only difference i see in the server response for the 200 are these 4 headers:\n```\n< content-type: application/json\n< content-length: 4\n< vary: Accept-Language, Cookie\n< content-language: de\n```\nthese are present in the 200 answer, but not the 204 answer (which makes sense, because there is no body). Apparently, the angular proxy is waiting for these headers to be sent, but never receives them and is thus stuck in an infinite loop.\n\nSince 204s are rather common for DELETE statements (in this case it's a POST, but the same happens with DELETE and any other method), it would be nice if this issue could be addressed.\n\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\n\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 18.2.12\nNode: 18.20.3\nPackage Manager: npm 10.8.1\nOS: win32 x64\n\nAngular: 18.2.3\n... animations, common, compiler, compiler-cli, core, forms\n... language-service, localize, platform-browser\n... platform-browser-dynamic, router, service-worker, upgrade\n\nPackage                            Version\n------------------------------------------------------------\n@angular-devkit/architect          0.1802.12\n@angular-devkit/build-angular      18.2.12\n@angular-devkit/core               18.2.12\n@angular-devkit/schematics         18.2.12\n@angular/cdk                       18.2.14\n@angular/cli                       18.2.12\n@angular/flex-layout               15.0.0-beta.42\n@angular/material                  18.2.14\n@angular/material-moment-adapter   18.2.14\n@schematics/angular                18.2.12\nrxjs                               7.8.1\ntypescript                         5.5.4\nzone.js                            0.14.10\n```\n\n### Anything else?\n\nI Can't really pinpoint which update introduced this issue, we recently updated from angular-16 to 18. I'm pretty sure that this was not an issue in earlier versions. Also not sure what component to select above. is the proxy part of the compiler-cli?","Url":"https://github.com/angular/angular-cli/issues/28998","RelatedDescription":"Open issue \"Angular Proxy not forwarding if response code 204 received from backend\" (#28998)"},{"Id":"2704656398","IsPullRequest":false,"CreatedAt":"2024-11-29T10:27:56","Actor":"bjornharvold","Number":"28996","RawContent":null,"Title":"Bump sass version to >=1.80.7 to support Immutable v5.x","State":"closed","Body":"### Is this a bug report or a feature request?\n\n- [ ] Bug Report\n- [x] Feature Request\n\n### Please provide the steps to reproduce the issue [Bug Report only]\n\nThis is only because I want to leverage Immutable v5.x\n\n### Please provide the expected behavior vs the actual behavior you encountered [Bug Report only]\n\n_No response_\n\n### Please provide a screenshot if possible [Bug Report only]\n\n_No response_\n\n### Please provide the exception or error you saw [Bug Report only]\n\n```true\n\n```\n\n### Is this a browser-specific issue? If so, please specify the device, browser, and version. [Bug Report only]\n\n```true\n\n```\n\n### Description [Feature Request only]\n\n_No response_\n\n### Proposed solution [Feature Request only]\n\n_No response_\n\n### Alternatives considered [Feature Request only]\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/28996","RelatedDescription":"Closed issue \"Bump sass version to >=1.80.7 to support Immutable v5.x\" (#28996)"},{"Id":"2704447938","IsPullRequest":false,"CreatedAt":"2024-11-29T10:18:07","Actor":"MarcoGlauser","Number":"28995","RawContent":null,"Title":"AngularNodeAppEngine: Injected REQUEST empty on first initialization","State":"closed","Body":"### Command\n\nrun\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nWe're in the process of moving from angular 18 with the webpack ssr builder to the angular 19 application builder with server routes, since  request and response objects are now supported for dev builds. \nHowever, we started getting a lot of errors during the first page load after starting a dev server.\nIt looks like on the start of the dev server, the first request injects a value of `null` for the `REQUEST` provider. \n\n### Minimal Reproduction\n\nI've created a reproduction here:\nhttps://github.com/MarcoGlauser/angular-19-ssr-request\nhttps://stackblitz.com/github/MarcoGlauser/angular-19-ssr-request\n\nWhen starting the server, the server console will output the following on the first page load, as if it's rendering the application twice:\n```\nprovided request is null true\nprovided request is null false\n```\n\nThe response that is sent to the browser seems to be from the second pass, but the first pass causes a lot of errors in our codebase, since we're expecting the request to be set for all SSR requests.\n\n### Exception or Error\n\n```text\n\n```\n\n### Your Environment\n\n```text\n_                      _                 ____ _     ___\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\n                |___/\n    \n\nAngular CLI: 19.0.2\nNode: 22.11.0\nPackage Manager: npm 10.9.0\nOS: linux x64\n\nAngular: 19.0.1\n... animations, common, compiler, compiler-cli, core, forms\n... platform-browser, platform-browser-dynamic, platform-server\n... router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1900.2\n@angular-devkit/build-angular   19.0.2\n@angular-devkit/core            19.0.2\n@angular-devkit/schematics      19.0.2\n@angular/cli                    19.0.2\n@angular/ssr                    19.0.2\n@schematics/angular             19.0.2\nrxjs                            7.8.1\ntypescript                      5.6.3\nzone.js                         0.15.0\n```\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/28995","RelatedDescription":"Closed issue \"AngularNodeAppEngine: Injected REQUEST empty on first initialization\" (#28995)"},{"Id":"2702601899","IsPullRequest":false,"CreatedAt":"2024-11-29T07:54:31","Actor":"bertrand-ravier","Number":"28993","RawContent":null,"Title":"SSR isMainModule function return false when node app server is launched by Phusion Passenger","State":"closed","Body":"### Command\n\nother\n\n### Is this a regression?\n\n- [x] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n18.0.4\n\n### Description\n\nHi,\n\nMy application is served on a Plesk server, which first launch Phusion Passenger before executing the node application. With Angular v 18.0.4, all worked fine.\n\nI updated to Angular 19.0.x. Everything works fine in local environment. But when deployed, I can access to the root page (probably served by Nginx or Apache) and I can navigate to other pages in client side. But I get a timeout when requesting another page from server side. The node application is not listening for incoming requests.\n\nThe problem comes from the `isMainModule(url)` function, that test the first argument on the command line. I do not launch myself the node server, it is launch with Phusion Passenger. Perhaps it adds some other arguments to the command line.\n\nI bypassed the test `argv[1] === fileURLToPath(url)` with a local variable `process.env['RUN']` set in dev and production environnements. It allow to build without error (because I do not pass this variable when building) and when executing the server it now listen for requests.\n\n### Minimal Reproduction\n\nCreate an Angular v19 project, with SSR, and a route to a component (/ssr for example).\nDeploy to a server with Phusion Passenger configurated to launch a node application.\nGo to the route /ssr and wait for the timeout to occur.\n\n### Exception or Error\n\n```text\n\n```\n\n### Your Environment\n\n```text\n_                      _                 ____ _     ___\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\n                |___/\n    \n\nAngular CLI: 19.0.2\nNode: 20.15.0\nPackage Manager: npm 10.9.1\nOS: darwin arm64\n\nAngular: 19.0.1\n... animations, cdk, common, compiler, compiler-cli, core, forms\n... material, platform-browser, platform-browser-dynamic\n... platform-server, router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1900.2\n@angular-devkit/build-angular   19.0.2\n@angular-devkit/core            19.0.2\n@angular-devkit/schematics      19.0.2\n@angular/cli                    19.0.2\n@angular/ssr                    19.0.2\n@schematics/angular             19.0.2\nrxjs                            7.8.1\ntypescript                      5.6.3\nzone.js                         0.15.0\n```\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/28993","RelatedDescription":"Closed issue \"SSR isMainModule function return false when node app server is launched by Phusion Passenger\" (#28993)"},{"Id":"2703163068","IsPullRequest":false,"CreatedAt":"2024-11-28T20:28:20","Actor":"sedghi","Number":"28994","RawContent":null,"Title":"WebWorkers problem in Angular related to Vite `optimizeDeps`","State":"open","Body":"### Command\n\nserve\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nWe have a [library](https://github.com/cornerstonejs/cornerstone3D/) that utilizes web workers. It employs [the new Worker interface](https://github.com/cornerstonejs/cornerstone3D/blob/main/packages/dicomImageLoader/src/init.ts#L7-L11):\n\n```js\nconst instance = new Worker(\n    new URL('./decodeImageFrameWorker.js', import.meta.url),\n    { type: 'module' }\n);\n```\n\nWe have successfully consumed the lib in various scenarios, whether based on Webpack or Vite. See the examples below:\n-  https://github.com/cornerstonejs/vite-react-cornerstone3d\n-  https://github.com/cornerstonejs/vue-cornerstone3d\n-  https://github.com/cornerstonejs/nextjs-cornerstone3d\n\nWhen integrating into a Vite-based framework, a warning appears regarding one of the dependencies. [This is a known issue in Vite](https://github.com/vitejs/vite/issues/8427), specifically with esbuild. To resolve this, we should add the library to `optimizeDeps` in the Vite config - recommended by vite maintainers, which works well.\n\nI attempted to [integrate a poc of the same library](https://github.com/cornerstonejs/angular-cornerstone3d) in Angular and encountered a similar warning. I tried customizing Vite but faced a limitation, as there is no way to override `optimizeDeps` in Angular, as noted [here](https://github.com/angular/angular-cli/issues/26859).\n\n![Image](https://github.com/user-attachments/assets/b101e1de-a645-4248-9e89-196cd3a04aa7)\nIn some threads, I see that setting \n\n```\n\"cli\": {\n    \"cache\": {\n      \"enabled\": false\n    }\n  }\n```\n\nremoves the warning above, but then the worker is requested from an incorrect path.\n\n![Image](https://github.com/user-attachments/assets/22786cdf-ae02-4c19-9a6a-c0fed89da210)\n\nI also have tried the following \n\n```js\n\"development\": {\n        \"buildTarget\": \"angular-vite-6:build:development\",\n        \"prebundle\": false\n}\n```\n\nstill no success\n\n### Minimal Reproduction\n\nThis is basically minimal repo for reproduction \n- https://github.com/cornerstonejs/angular-cornerstone3d\n\n\ncommands to run \n\n```\nnpm i \n\nnpm run start\n```\n\n### Exception or Error\n\n```text\nWith the cache enabled, the Vite warning appears, and disabling the cache loads the worker from the wrong path.\n```\n\n### Your Environment\n\n```text\nAngular CLI: 19.0.2\nNode: 18.19.1\nPackage Manager: npm 10.2.4\nOS: darwin arm64\n\nAngular: 19.0.1\n... animations, common, compiler, compiler-cli, core, forms\n... platform-browser, platform-browser-dynamic, router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1900.2\n@angular-devkit/build-angular   19.0.2\n@angular-devkit/core            19.0.2\n@angular-devkit/schematics      19.0.2\n@angular/cli                    19.0.2\n@schematics/angular             19.0.2\nrxjs                            7.8.1\ntypescript                      5.6.3\nzone.js                         0.15.0\n```\n\n### Anything else relevant?\n\nI want to emphasize that other Vite-based implementations for [Vue](https://github.com/cornerstonejs/vue-cornerstone3d), [React](https://github.com/cornerstonejs/vite-react-cornerstone3d), and [Quasar](https://github.com/sedghi/quasar-cornerstone3D) work, so it's only Angular that's not working.\n\nIn addition, the `npm run build` also does not work and tries to load the worker from a wrong path (Again the build with vite, and webpack works)\n\n![Image](https://github.com/user-attachments/assets/2bd562aa-a0bf-46cf-ac49-0146c67c769d)\n","Url":"https://github.com/angular/angular-cli/issues/28994","RelatedDescription":"Open issue \"WebWorkers problem in Angular related to Vite `optimizeDeps`\" (#28994)"},{"Id":"2702527012","IsPullRequest":true,"CreatedAt":"2024-11-28T15:34:14","Actor":"crisbeto","Number":"28992","RawContent":null,"Title":"build: update to TypeScript 5.7","State":"open","Body":"Updates the repo to use TypeScript 5.7.\r\n","Url":"https://github.com/angular/angular-cli/pull/28992","RelatedDescription":"Open PR \"build: update to TypeScript 5.7\" (#28992)"},{"Id":"2695010515","IsPullRequest":true,"CreatedAt":"2024-11-28T13:31:29","Actor":"wkaskie","Number":"28977","RawContent":null,"Title":"feat(@angular/cli): allow for custom sha hash algos in SRI","State":"closed","Body":"## PR Checklist\r\n\r\nPlease check to confirm your PR fulfills the following requirements:\r\n\r\n<!-- Please check all that apply using \"x\". -->\r\n\r\n- [ x ] The commit message follows our guidelines: https://github.com/angular/angular-cli/blob/main/CONTRIBUTING.md#-commit-message-guidelines\r\n- [ x ] Tests for the changes have been added (for bug fixes / features)\r\n- [ x ] Docs have been added / updated (for bug fixes / features)\r\n\r\n## PR Type\r\n\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ x ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] Other... Please describe:\r\n\r\n## What is the current behavior?\r\n\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\nCurrently, enabling SRI will default to the sha384 algorithm. This is not always available on the server (s3 supports up to sha256, for example.)\r\n\r\nIssue Number: 28946\r\n\r\n## What is the new behavior?\r\n\r\n<!-- Please describe the new behavior that. -->\r\nThe modifications expose a new configuration property to match that of the webpack-subresource-integrity `hashFuncNames` which accepts an array of strings, leveraging the highest available. This allows users to set sha256 or sha512.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [ x ] No\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular-cli/pull/28977","RelatedDescription":"Closed or merged PR \"feat(@angular/cli): allow for custom sha hash algos in SRI\" (#28977)"},{"Id":"2701700062","IsPullRequest":true,"CreatedAt":"2024-11-28T10:44:02","Actor":"alan-agius4","Number":"28991","RawContent":null,"Title":"fix(@angular/ssr): correctly handle serving of prerendered i18n pages","State":"open","Body":"Ensures proper handling of internationalized (i18n) pages during the  serving of prerendered content.\r\n","Url":"https://github.com/angular/angular-cli/pull/28991","RelatedDescription":"Open PR \"fix(@angular/ssr): correctly handle serving of prerendered i18n pages\" (#28991)"},{"Id":"2700777179","IsPullRequest":false,"CreatedAt":"2024-11-28T07:39:08","Actor":"saikatmahapatra","Number":"28988","RawContent":null,"Title":"Angular CLI is hiding files from system but codebase is running","State":"closed","Body":"### Command\n\ngenerate\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nWhile I was creating a new module with routing, noticed that existing modules are vanished from file explorer and VS code also. Initially I thought it was deleted but git status is showing that its up-to-date. For my own interest I checked if application is running or not and found working perfectly even if the modules are not seen from system. I faced this issue before and I had to re-clone the project into a new workspace. \n\n### Minimal Reproduction\n\n> ng  g m modules/abc --routing --flat\n\n### Exception or Error\n\n```text\n\n```\n\n### Your Environment\n\n```text\nAngular CLI: 15.2.11\nNode: 18.18.0\nPackage Manager: npm 10.2.0\nOS: win32 x64\n\nAngular: 15.2.10\n... animations, common, compiler, compiler-cli, core, forms\n... language-service, localize, platform-browser\n... platform-browser-dynamic, router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1502.11\n@angular-devkit/build-angular   15.2.11\n@angular-devkit/core            15.2.11\n@angular-devkit/schematics      15.2.11\n@angular/cdk                    12.2.13\n@angular/cli                    15.2.11\n@schematics/angular             11.2.19\nrxjs                            6.5.5\ntypescript                      4.9.5\n```\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/28988","RelatedDescription":"Closed issue \"Angular CLI is hiding files from system but codebase is running\" (#28988)"},{"Id":"2700935251","IsPullRequest":true,"CreatedAt":"2024-11-28T06:18:05","Actor":"angular-robot","Number":"28990","RawContent":null,"Title":"build: update dependency undici to v7","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [undici](https://undici.nodejs.org) ([source](https://redirect.github.com/nodejs/undici)) | devDependencies | major | [`6.21.0` -> `7.0.0`](https://renovatebot.com/diffs/npm/undici/6.21.0/7.0.0) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>nodejs/undici (undici)</summary>\n\n### [`v7.0.0`](https://redirect.github.com/nodejs/undici/releases/tag/v7.0.0)\n\n[Compare Source](https://redirect.github.com/nodejs/undici/compare/v6.21.0...v7.0.0)\n\n#### What's Changed\n\n-   fetch: fix content-encoding order by [@&#8203;tsctx](https://redirect.github.com/tsctx) in [https://github.com/nodejs/undici/pull/3343](https://redirect.github.com/nodejs/undici/pull/3343)\n-   Add regression test for broken body by [@&#8203;mcollina](https://redirect.github.com/mcollina) in [https://github.com/nodejs/undici/pull/3346](https://redirect.github.com/nodejs/undici/pull/3346)\n-   build(deps): bump node from `075a5cc` to `9af472b` in /build by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3355](https://redirect.github.com/nodejs/undici/pull/3355)\n-   fix: post request signal by [@&#8203;Gigioliva](https://redirect.github.com/Gigioliva) in [https://github.com/nodejs/undici/pull/3354](https://redirect.github.com/nodejs/undici/pull/3354)\n-   Revert \"fix: post request signal ([#&#8203;3354](https://redirect.github.com/nodejs/undici/issues/3354))\" by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3359](https://redirect.github.com/nodejs/undici/pull/3359)\n-   websocket: don't use pooled buffer in mask pool by [@&#8203;tsctx](https://redirect.github.com/tsctx) in [https://github.com/nodejs/undici/pull/3357](https://redirect.github.com/nodejs/undici/pull/3357)\n-   fix: consider bytes read when dumping by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3360](https://redirect.github.com/nodejs/undici/pull/3360)\n-   refactor: simplify signal handling by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3362](https://redirect.github.com/nodejs/undici/pull/3362)\n-   fix: use explicit flag for when use has interacted with stream by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3361](https://redirect.github.com/nodejs/undici/pull/3361)\n-   Refactor example documentation structure and add CacheableLookup example by [@&#8203;DarkGL](https://redirect.github.com/DarkGL) in [https://github.com/nodejs/undici/pull/3363](https://redirect.github.com/nodejs/undici/pull/3363)\n-   refactor: simplify request error handling by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3364](https://redirect.github.com/nodejs/undici/pull/3364)\n-   fix: ensure onConnect is always called by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3327](https://redirect.github.com/nodejs/undici/pull/3327)\n-   Refactor responseHeader to responseHeaders by [@&#8203;DarkGL](https://redirect.github.com/DarkGL) in [https://github.com/nodejs/undici/pull/3375](https://redirect.github.com/nodejs/undici/pull/3375)\n-   fix: don't override user defined MaxListeners by [@&#8203;fawazahmed0](https://redirect.github.com/fawazahmed0) in [https://github.com/nodejs/undici/pull/3372](https://redirect.github.com/nodejs/undici/pull/3372)\n-   fix: forward dispatch return value by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3368](https://redirect.github.com/nodejs/undici/pull/3368)\n-   build(deps): bump github/codeql-action from 3.25.7 to 3.25.11 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3382](https://redirect.github.com/nodejs/undici/pull/3382)\n-   build(deps): bump codecov/codecov-action from 4.4.1 to 4.5.0 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3384](https://redirect.github.com/nodejs/undici/pull/3384)\n-   build(deps): bump actions/dependency-review-action from 4.3.2 to 4.3.3 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3383](https://redirect.github.com/nodejs/undici/pull/3383)\n-   build(deps): bump step-security/harden-runner from 2.8.0 to 2.8.1 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3381](https://redirect.github.com/nodejs/undici/pull/3381)\n-   fix: throw on retry when payload is consume by downstream by [@&#8203;climba03003](https://redirect.github.com/climba03003) in [https://github.com/nodejs/undici/pull/3389](https://redirect.github.com/nodejs/undici/pull/3389)\n-   Remove file by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3367](https://redirect.github.com/nodejs/undici/pull/3367)\n-   build(deps): bump node from `9af472b` to `138d0b5` in /build by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3392](https://redirect.github.com/nodejs/undici/pull/3392)\n-   feat!: upgrade llhttp to 9.2.0 ([#&#8203;2705](https://redirect.github.com/nodejs/undici/issues/2705)) by [@&#8203;metcoder95](https://redirect.github.com/metcoder95) in [https://github.com/nodejs/undici/pull/3388](https://redirect.github.com/nodejs/undici/pull/3388)\n-   websocket: reduce memory usage by [@&#8203;tsctx](https://redirect.github.com/tsctx) in [https://github.com/nodejs/undici/pull/3393](https://redirect.github.com/nodejs/undici/pull/3393)\n-   feat: implement `BodyReadable.bytes` by [@&#8203;tsctx](https://redirect.github.com/tsctx) in [https://github.com/nodejs/undici/pull/3391](https://redirect.github.com/nodejs/undici/pull/3391)\n-   websocket: avoid using Buffer.byteLength by [@&#8203;tsctx](https://redirect.github.com/tsctx) in [https://github.com/nodejs/undici/pull/3394](https://redirect.github.com/nodejs/undici/pull/3394)\n-   separate whatwg websocket logic from rfc 6455 by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3396](https://redirect.github.com/nodejs/undici/pull/3396)\n-   websocket: add fast-path for string input by [@&#8203;tsctx](https://redirect.github.com/tsctx) in [https://github.com/nodejs/undici/pull/3395](https://redirect.github.com/nodejs/undici/pull/3395)\n-   Add generic type for opaque object by [@&#8203;jfhr](https://redirect.github.com/jfhr) in [https://github.com/nodejs/undici/pull/3385](https://redirect.github.com/nodejs/undici/pull/3385)\n-   build(deps): bump node from `138d0b5` to `67225d4` in /build by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3398](https://redirect.github.com/nodejs/undici/pull/3398)\n-   interceptors: move throwOnError to interceptor by [@&#8203;mertcanaltin](https://redirect.github.com/mertcanaltin) in [https://github.com/nodejs/undici/pull/3331](https://redirect.github.com/nodejs/undici/pull/3331)\n-   chore!: drop interceptors by [@&#8203;metcoder95](https://redirect.github.com/metcoder95) in [https://github.com/nodejs/undici/pull/3399](https://redirect.github.com/nodejs/undici/pull/3399)\n-   build(deps-dev): bump [@&#8203;fastify/busboy](https://redirect.github.com/fastify/busboy) from 2.1.1 to 3.0.0 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3404](https://redirect.github.com/nodejs/undici/pull/3404)\n-   fix: don't call onConnect automatically by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3407](https://redirect.github.com/nodejs/undici/pull/3407)\n-   In CITGM, skip tests that are flaky there by [@&#8203;mcollina](https://redirect.github.com/mcollina) in [https://github.com/nodejs/undici/pull/3413](https://redirect.github.com/nodejs/undici/pull/3413)\n-   Update esbuild to 0.19.10 by [@&#8203;mcollina](https://redirect.github.com/mcollina) in [https://github.com/nodejs/undici/pull/3415](https://redirect.github.com/nodejs/undici/pull/3415)\n-   Fix signature of RetryHandler by [@&#8203;JbIPS](https://redirect.github.com/JbIPS) in [https://github.com/nodejs/undici/pull/3416](https://redirect.github.com/nodejs/undici/pull/3416)\n-   docs: fix ToC in CONTRIBUTING.md by [@&#8203;richardlau](https://redirect.github.com/richardlau) in [https://github.com/nodejs/undici/pull/3420](https://redirect.github.com/nodejs/undici/pull/3420)\n-   Fix fetch `duplex` docs by [@&#8203;Ethan-Arrowood](https://redirect.github.com/Ethan-Arrowood) in [https://github.com/nodejs/undici/pull/3422](https://redirect.github.com/nodejs/undici/pull/3422)\n-   fix: restore externalized Node.js dep compatibility by [@&#8203;richardlau](https://redirect.github.com/richardlau) in [https://github.com/nodejs/undici/pull/3421](https://redirect.github.com/nodejs/undici/pull/3421)\n-   fix: cast falsy servername to null to avoid falsy inequality by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3426](https://redirect.github.com/nodejs/undici/pull/3426)\n-   Add backport action by [@&#8203;mcollina](https://redirect.github.com/mcollina) in [https://github.com/nodejs/undici/pull/3427](https://redirect.github.com/nodejs/undici/pull/3427)\n-   build(deps): bump node from `67225d4` to `858234a` in /build by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3411](https://redirect.github.com/nodejs/undici/pull/3411)\n-   build(deps): bump github/codeql-action from 3.25.11 to 3.25.15 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3432](https://redirect.github.com/nodejs/undici/pull/3432)\n-   build(deps): bump actions/dependency-review-action from 4.3.3 to 4.3.4 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3431](https://redirect.github.com/nodejs/undici/pull/3431)\n-   build(deps): bump actions/upload-artifact from 4.3.3 to 4.3.4 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3430](https://redirect.github.com/nodejs/undici/pull/3430)\n-   build(deps): bump ossf/scorecard-action from 2.3.3 to 2.4.0 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3428](https://redirect.github.com/nodejs/undici/pull/3428)\n-   build(deps): bump step-security/harden-runner from 2.8.1 to 2.9.0 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3429](https://redirect.github.com/nodejs/undici/pull/3429)\n-   build(deps): bump superagent from 9.0.2 to 10.0.0 in /benchmarks by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3439](https://redirect.github.com/nodejs/undici/pull/3439)\n-   build(deps): bump node from `17e6738` to `30c5be9` in /build by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3443](https://redirect.github.com/nodejs/undici/pull/3443)\n-   docs: use default link of Web Streams API by [@&#8203;trivikr](https://redirect.github.com/trivikr) in [https://github.com/nodejs/undici/pull/3446](https://redirect.github.com/nodejs/undici/pull/3446)\n-   fix: increased memory in finalization first appearing in v6.16.0 by [@&#8203;snyamathi](https://redirect.github.com/snyamathi) in [https://github.com/nodejs/undici/pull/3445](https://redirect.github.com/nodejs/undici/pull/3445)\n-   test: add test for memory leak by [@&#8203;snyamathi](https://redirect.github.com/snyamathi) in [https://github.com/nodejs/undici/pull/3450](https://redirect.github.com/nodejs/undici/pull/3450)\n-   build: parametrize the location of wasm-opt by [@&#8203;khardix](https://redirect.github.com/khardix) in [https://github.com/nodejs/undici/pull/3454](https://redirect.github.com/nodejs/undici/pull/3454)\n-   test: streamline test scripts in regard of without-intl and run more tests for without-intl case by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3453](https://redirect.github.com/nodejs/undici/pull/3453)\n-   feat!: drop throwOnError by [@&#8203;metcoder95](https://redirect.github.com/metcoder95) in [https://github.com/nodejs/undici/pull/3451](https://redirect.github.com/nodejs/undici/pull/3451)\n-   types: allow non strict HTTPMethod by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3457](https://redirect.github.com/nodejs/undici/pull/3457)\n-   build(deps-dev): bump borp from 0.15.0 to 0.17.0 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3424](https://redirect.github.com/nodejs/undici/pull/3424)\n-   remove core isErrored and isReadable by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3459](https://redirect.github.com/nodejs/undici/pull/3459)\n-   use bodyUnusable to check if body is unusable by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3460](https://redirect.github.com/nodejs/undici/pull/3460)\n-   perf: non-recursive implementation of euclidian gcd in balanced pool by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3461](https://redirect.github.com/nodejs/undici/pull/3461)\n-   fix: do validation first before actual business logic, like super() by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3463](https://redirect.github.com/nodejs/undici/pull/3463)\n-   use FinalizationRegistry for cloned response body by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3458](https://redirect.github.com/nodejs/undici/pull/3458)\n-   perf: use isIPv6 for checking if hostname is isIPv6 by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3466](https://redirect.github.com/nodejs/undici/pull/3466)\n-   fix: stripURLForReferrer jsdoc in fetch logic by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3471](https://redirect.github.com/nodejs/undici/pull/3471)\n-   fix: remove kInterceptors in ProxyAgent by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3474](https://redirect.github.com/nodejs/undici/pull/3474)\n-   fix: fix codesmells in retry-handler by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3475](https://redirect.github.com/nodejs/undici/pull/3475)\n-   add autocompletable header types by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3462](https://redirect.github.com/nodejs/undici/pull/3462)\n-   fix: add missing kOriginalDispatch Symbol in mock-logic by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3470](https://redirect.github.com/nodejs/undici/pull/3470)\n-   fix: fix jsdoc in cookies/parse.js by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3469](https://redirect.github.com/nodejs/undici/pull/3469)\n-   fix: remove unnecessary parameters in USVString calls by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3467](https://redirect.github.com/nodejs/undici/pull/3467)\n-   fix: add jsdoc in tree.js, avoiding codesmells by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3476](https://redirect.github.com/nodejs/undici/pull/3476)\n-   perf: set isLowerCase param on all calls of HeadersList.append by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3468](https://redirect.github.com/nodejs/undici/pull/3468)\n-   fix: instantiation of ResponseError, pass headers and data correctly by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3472](https://redirect.github.com/nodejs/undici/pull/3472)\n-   ci: add WPT updater by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3482](https://redirect.github.com/nodejs/undici/pull/3482)\n-   meta: move nightly comment body to issue body by [@&#8203;RedYetiDev](https://redirect.github.com/RedYetiDev) in [https://github.com/nodejs/undici/pull/3484](https://redirect.github.com/nodejs/undici/pull/3484)\n-   chore: improve jsdoc in cookies by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3478](https://redirect.github.com/nodejs/undici/pull/3478)\n-   chore: improve jsdoc and minor changes in EventSource by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3480](https://redirect.github.com/nodejs/undici/pull/3480)\n-   types: add Autocomplete utility type by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3479](https://redirect.github.com/nodejs/undici/pull/3479)\n-   fix: instantiation of SecureProxyConnectionError should pass options to parent class by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3473](https://redirect.github.com/nodejs/undici/pull/3473)\n-   chore: replace standard and snazzy with neostandard by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3485](https://redirect.github.com/nodejs/undici/pull/3485)\n-   fix: workflow commit user by [@&#8203;tsctx](https://redirect.github.com/tsctx) in [https://github.com/nodejs/undici/pull/3491](https://redirect.github.com/nodejs/undici/pull/3491)\n-   build(deps): bump node from `30c5be9` to `a20e858` in /build by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3496](https://redirect.github.com/nodejs/undici/pull/3496)\n-   chore: add --noEmit for typescript tests by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3498](https://redirect.github.com/nodejs/undici/pull/3498)\n-   perf: only create wasm buffer if requested by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3499](https://redirect.github.com/nodejs/undici/pull/3499)\n-   fix(types): MockAgent accepts ProxyAgent, EnvHttpProxyAgent and RetryAgent for agent option by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3497](https://redirect.github.com/nodejs/undici/pull/3497)\n-   stricter Headers brand checks in cookies by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3500](https://redirect.github.com/nodejs/undici/pull/3500)\n-   Update WPT by [@&#8203;github-actions](https://redirect.github.com/github-actions) in [https://github.com/nodejs/undici/pull/3488](https://redirect.github.com/nodejs/undici/pull/3488)\n-   fix: setEncoding should not throw on body [#&#8203;1125](https://redirect.github.com/nodejs/undici/issues/1125) by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3505](https://redirect.github.com/nodejs/undici/pull/3505)\n-   websocket: set websocket readyState on fail by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3507](https://redirect.github.com/nodejs/undici/pull/3507)\n-   build(deps-dev): bump jsdom from 24.1.3 to 25.0.0 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3511](https://redirect.github.com/nodejs/undici/pull/3511)\n-   build(deps): bump wait-on from 7.2.0 to 8.0.0 in /benchmarks by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3513](https://redirect.github.com/nodejs/undici/pull/3513)\n-   Update WPT by [@&#8203;github-actions](https://redirect.github.com/github-actions) in [https://github.com/nodejs/undici/pull/3515](https://redirect.github.com/nodejs/undici/pull/3515)\n-   fix: reduce memory usage in client-h1 by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3510](https://redirect.github.com/nodejs/undici/pull/3510)\n-   fix: refactor fast timers, fix UND_ERR_CONNECT_TIMEOUT on event loop blocking by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3495](https://redirect.github.com/nodejs/undici/pull/3495)\n-   ci: make autobahn workflow reusable workflow, run the autobahn on nightly tests by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3503](https://redirect.github.com/nodejs/undici/pull/3503)\n-   remove third party everything support in fetch by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3502](https://redirect.github.com/nodejs/undici/pull/3502)\n-   remove double validation in webidl by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3516](https://redirect.github.com/nodejs/undici/pull/3516)\n-   test: improve gc detection by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3504](https://redirect.github.com/nodejs/undici/pull/3504)\n-   Update WPT by [@&#8203;github-actions](https://redirect.github.com/github-actions) in [https://github.com/nodejs/undici/pull/3519](https://redirect.github.com/nodejs/undici/pull/3519)\n-   populate defaultValues in webidl dict. converter when passing null or undefined by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3518](https://redirect.github.com/nodejs/undici/pull/3518)\n-   change webidl.util.Type return to an enum value by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3520](https://redirect.github.com/nodejs/undici/pull/3520)\n-   set default argument values to undefined instead of {} by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3521](https://redirect.github.com/nodejs/undici/pull/3521)\n-   ci: fix nightly workflow by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3525](https://redirect.github.com/nodejs/undici/pull/3525)\n-   Update WPT by [@&#8203;github-actions](https://redirect.github.com/github-actions) in [https://github.com/nodejs/undici/pull/3527](https://redirect.github.com/nodejs/undici/pull/3527)\n-   remove unused symbol by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3530](https://redirect.github.com/nodejs/undici/pull/3530)\n-   fix formdata arg validation by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3529](https://redirect.github.com/nodejs/undici/pull/3529)\n-   build(deps): bump github/codeql-action from 3.25.15 to 3.26.6 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3534](https://redirect.github.com/nodejs/undici/pull/3534)\n-   build(deps): bump hendrikmuhs/ccache-action from 1.2.13 to 1.2.14 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3536](https://redirect.github.com/nodejs/undici/pull/3536)\n-   build(deps): bump step-security/harden-runner from 2.9.0 to 2.9.1 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3535](https://redirect.github.com/nodejs/undici/pull/3535)\n-   build(deps): bump actions/upload-artifact from 4.3.4 to 4.4.0 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3537](https://redirect.github.com/nodejs/undici/pull/3537)\n-   Remove patched DOM types by [@&#8203;eXhumer](https://redirect.github.com/eXhumer) in [https://github.com/nodejs/undici/pull/3533](https://redirect.github.com/nodejs/undici/pull/3533)\n-   chore: minor changes in client-h1, use subarray instead of slice by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3538](https://redirect.github.com/nodejs/undici/pull/3538)\n-   fix: run asserts first if possible by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3541](https://redirect.github.com/nodejs/undici/pull/3541)\n-   build(deps): bump node from `a20e858` to `a17f484` in /build by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3542](https://redirect.github.com/nodejs/undici/pull/3542)\n-   chore: noop per file by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3544](https://redirect.github.com/nodejs/undici/pull/3544)\n-   build(deps): bump node from `a17f484` to `ef7b4bb` in /build by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3547](https://redirect.github.com/nodejs/undici/pull/3547)\n-   chore: rename buildUrl to serializePathWithQuery + jsdoc by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3545](https://redirect.github.com/nodejs/undici/pull/3545)\n-   fix: add jsdoc and do minor changes in utils.js by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3550](https://redirect.github.com/nodejs/undici/pull/3550)\n-   Update WPT by [@&#8203;github-actions](https://redirect.github.com/github-actions) in [https://github.com/nodejs/undici/pull/3556](https://redirect.github.com/nodejs/undici/pull/3556)\n-   Update WPT by [@&#8203;github-actions](https://redirect.github.com/github-actions) in [https://github.com/nodejs/undici/pull/3561](https://redirect.github.com/nodejs/undici/pull/3561)\n-   feat: jsdoc and minor optimizations in client-h1.js by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3551](https://redirect.github.com/nodejs/undici/pull/3551)\n-   fix: handle websocket closed correctly by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3565](https://redirect.github.com/nodejs/undici/pull/3565)\n-   fix: extract noop everywhere by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3559](https://redirect.github.com/nodejs/undici/pull/3559)\n-   chore: add jsdoc for lib/web/websocket/util.js, minor rewrite of utf8Decode by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3563](https://redirect.github.com/nodejs/undici/pull/3563)\n-   jsdoc: lib/api/readable.js, fix some types by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3567](https://redirect.github.com/nodejs/undici/pull/3567)\n-   fix: use fasttimers for all connection timeouts by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3552](https://redirect.github.com/nodejs/undici/pull/3552)\n-   chore: use 'use strict' in cjs files by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3568](https://redirect.github.com/nodejs/undici/pull/3568)\n-   chore: update typescript testing deps by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3571](https://redirect.github.com/nodejs/undici/pull/3571)\n-   build(deps)!: bump concurrently from 8.2.2 to 9.0.0 in /benchmarks (node < 18 unsupported) by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3574](https://redirect.github.com/nodejs/undici/pull/3574)\n-   build(deps): bump node from `ef7b4bb` to `3cb4748` in /build by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3573](https://redirect.github.com/nodejs/undici/pull/3573)\n-   chore: improve jsdoc of lib/core/tree.js by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3572](https://redirect.github.com/nodejs/undici/pull/3572)\n-   Update WPT by [@&#8203;github-actions](https://redirect.github.com/github-actions) in [https://github.com/nodejs/undici/pull/3576](https://redirect.github.com/nodejs/undici/pull/3576)\n-   jsdoc: improve typing of deepClone by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3575](https://redirect.github.com/nodejs/undici/pull/3575)\n-   chore: improve jsdoc of lib/core/constants.js by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3570](https://redirect.github.com/nodejs/undici/pull/3570)\n-   chore: upgrade fixed queue, lint accordingly, add jsdoc by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3577](https://redirect.github.com/nodejs/undici/pull/3577)\n-   Update WPT by [@&#8203;github-actions](https://redirect.github.com/github-actions) in [https://github.com/nodejs/undici/pull/3581](https://redirect.github.com/nodejs/undici/pull/3581)\n-   ci: less flaky test/request-timeout.js test by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3580](https://redirect.github.com/nodejs/undici/pull/3580)\n-   chore: remove pluralizer by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3586](https://redirect.github.com/nodejs/undici/pull/3586)\n-   util: rename validateHandler to assertRequestHandler, minor changes in util.js by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3583](https://redirect.github.com/nodejs/undici/pull/3583)\n-   mock: remove Error.captureStackTrace in MockNotMatchedError by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3587](https://redirect.github.com/nodejs/undici/pull/3587)\n-   fix: DRY up lib/core/diagnostics.js by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3585](https://redirect.github.com/nodejs/undici/pull/3585)\n-   fix: husky deprecation warning by [@&#8203;eXhumer](https://redirect.github.com/eXhumer) in [https://github.com/nodejs/undici/pull/3593](https://redirect.github.com/nodejs/undici/pull/3593)\n-   Update WPT by [@&#8203;github-actions](https://redirect.github.com/github-actions) in [https://github.com/nodejs/undici/pull/3598](https://redirect.github.com/nodejs/undici/pull/3598)\n-   chore: remove unused `pre-commit` dependency by [@&#8203;eXhumer](https://redirect.github.com/eXhumer) in [https://github.com/nodejs/undici/pull/3599](https://redirect.github.com/nodejs/undici/pull/3599)\n-   diagnostics-channel: use not deprecated subscribe fn by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3600](https://redirect.github.com/nodejs/undici/pull/3600)\n-   Update WPT by [@&#8203;github-actions](https://redirect.github.com/github-actions) in [https://github.com/nodejs/undici/pull/3607](https://redirect.github.com/nodejs/undici/pull/3607)\n-   fetch: make fullyReadBody sync by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3603](https://redirect.github.com/nodejs/undici/pull/3603)\n-   jsdoc: add jsdoc to lib/web/fetch/constants.js by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3597](https://redirect.github.com/nodejs/undici/pull/3597)\n-   fetch: pullAlgorithm passes the async resume function through by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3604](https://redirect.github.com/nodejs/undici/pull/3604)\n-   fix: typo in Client.md by [@&#8203;SkeLLLa](https://redirect.github.com/SkeLLLa) in [https://github.com/nodejs/undici/pull/3612](https://redirect.github.com/nodejs/undici/pull/3612)\n-   Update WPT by [@&#8203;github-actions](https://redirect.github.com/github-actions) in [https://github.com/nodejs/undici/pull/3615](https://redirect.github.com/nodejs/undici/pull/3615)\n-   Update WPT by [@&#8203;github-actions](https://redirect.github.com/github-actions) in [https://github.com/nodejs/undici/pull/3622](https://redirect.github.com/nodejs/undici/pull/3622)\n-   fetch: avoid async function in mainFetch to generate response by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3605](https://redirect.github.com/nodejs/undici/pull/3605)\n-   Update WPT by [@&#8203;github-actions](https://redirect.github.com/github-actions) in [https://github.com/nodejs/undici/pull/3626](https://redirect.github.com/nodejs/undici/pull/3626)\n-   append crlf to formdata body by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3625](https://redirect.github.com/nodejs/undici/pull/3625)\n-   fix: fire `close` on failed WebSocket connection by [@&#8203;eXhumer](https://redirect.github.com/eXhumer) in [https://github.com/nodejs/undici/pull/3566](https://redirect.github.com/nodejs/undici/pull/3566)\n-   fix: fire close on failed WebSocket connection by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3628](https://redirect.github.com/nodejs/undici/pull/3628)\n-   handle body errors by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3632](https://redirect.github.com/nodejs/undici/pull/3632)\n-   make cloned request inherit dispatcher by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3631](https://redirect.github.com/nodejs/undici/pull/3631)\n-   Remove symbols from web specs by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3633](https://redirect.github.com/nodejs/undici/pull/3633)\n-   cleanup web symbol removal by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3638](https://redirect.github.com/nodejs/undici/pull/3638)\n-   build(deps): bump mitata from 0.1.14 to 1.0.4 in /benchmarks by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3641](https://redirect.github.com/nodejs/undici/pull/3641)\n-   feat: implement WebSocketStream by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3560](https://redirect.github.com/nodejs/undici/pull/3560)\n-   export WebSocketStream, add docs and types by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3645](https://redirect.github.com/nodejs/undici/pull/3645)\n-   build(deps): bump node from `3cb4748` to `83b4d7b` in /build by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3621](https://redirect.github.com/nodejs/undici/pull/3621)\n-   feat: add DNS interceptor by [@&#8203;metcoder95](https://redirect.github.com/metcoder95) in [https://github.com/nodejs/undici/pull/3490](https://redirect.github.com/nodejs/undici/pull/3490)\n-   prefer fail over close the websocket connection in error cases by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3651](https://redirect.github.com/nodejs/undici/pull/3651)\n-   fix: various typos by [@&#8203;NathanBaulch](https://redirect.github.com/NathanBaulch) in [https://github.com/nodejs/undici/pull/3640](https://redirect.github.com/nodejs/undici/pull/3640)\n-   Update WPT by [@&#8203;github-actions](https://redirect.github.com/github-actions) in [https://github.com/nodejs/undici/pull/3634](https://redirect.github.com/nodejs/undici/pull/3634)\n-   test: increase bitness in `test/fixtures/*.pem` by [@&#8203;LiviaMedeiros](https://redirect.github.com/LiviaMedeiros) in [https://github.com/nodejs/undici/pull/3659](https://redirect.github.com/nodejs/undici/pull/3659)\n-   mock: fix mocking of Uint8Array and ArrayBuffers as provided mock-responses by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3662](https://redirect.github.com/nodejs/undici/pull/3662)\n-   test: less flaky timers acceptance test, rework fast timer tests to pass them faster by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3656](https://redirect.github.com/nodejs/undici/pull/3656)\n-   build(deps): bump github/codeql-action from 3.26.6 to 3.26.10 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3664](https://redirect.github.com/nodejs/undici/pull/3664)\n-   build(deps): bump peter-evans/create-pull-request from 6.1.0 to 7.0.5 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3665](https://redirect.github.com/nodejs/undici/pull/3665)\n-   build(deps): bump fastify/github-action-merge-dependabot from 3.10.1 to 3.10.2 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3667](https://redirect.github.com/nodejs/undici/pull/3667)\n-   build(deps): bump codecov/codecov-action from 4.5.0 to 4.6.0 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3668](https://redirect.github.com/nodejs/undici/pull/3668)\n-   ws: move implementation agnostic onFail logic to shared function by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3663](https://redirect.github.com/nodejs/undici/pull/3663)\n-   build(deps): bump step-security/harden-runner from 2.9.1 to 2.10.1 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3666](https://redirect.github.com/nodejs/undici/pull/3666)\n-   Update WPT by [@&#8203;github-actions](https://redirect.github.com/github-actions) in [https://github.com/nodejs/undici/pull/3669](https://redirect.github.com/nodejs/undici/pull/3669)\n-   fix: add option `ignoreTrailingSlash` to MockAgent and `.intercept()`  by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3655](https://redirect.github.com/nodejs/undici/pull/3655)\n-   fix: ignore leading and trailing crlfs in formdata body by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3677](https://redirect.github.com/nodejs/undici/pull/3677)\n-   test: add test to ensure full type when parsing multipart/form-data' by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3683](https://redirect.github.com/nodejs/undici/pull/3683)\n-   test: use globalThis.Headers and skip if is missing by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3684](https://redirect.github.com/nodejs/undici/pull/3684)\n-   jsdoc: adds some jsdoc to fetch headers implementation, minor changes by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3687](https://redirect.github.com/nodejs/undici/pull/3687)\n-   feat: check maxHeadersSize on client instantiation and not on Parser instantion by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3654](https://redirect.github.com/nodejs/undici/pull/3654)\n-   test: remove test for issue 1670 by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3690](https://redirect.github.com/nodejs/undici/pull/3690)\n-   replace instanceof in brand checks with isPrototypeOf by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3692](https://redirect.github.com/nodejs/undici/pull/3692)\n-   test: make fetch test independent from internet connection by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3691](https://redirect.github.com/nodejs/undici/pull/3691)\n-   build(deps-dev): bump esbuild from 0.19.12 to 0.24.0 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3698](https://redirect.github.com/nodejs/undici/pull/3698)\n-   fix: restructure determineRequestsReferrer to match better spec by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3699](https://redirect.github.com/nodejs/undici/pull/3699)\n-   set ws readyState if closed before connection could be established by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3701](https://redirect.github.com/nodejs/undici/pull/3701)\n-   types: fix return type of WebidlUtil.Type by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3685](https://redirect.github.com/nodejs/undici/pull/3685)\n-   fetch: refactor referrer policy util functions by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3706](https://redirect.github.com/nodejs/undici/pull/3706)\n-   fix: PoolBase kClose and kDestroy should await and not return the Promise by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3716](https://redirect.github.com/nodejs/undici/pull/3716)\n-   fix: data-url set extractValue of collectAnHTTPQuotedString by default to false by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3717](https://redirect.github.com/nodejs/undici/pull/3717)\n-   faster brand check by [@&#8203;tsctx](https://redirect.github.com/tsctx) in [https://github.com/nodejs/undici/pull/3720](https://redirect.github.com/nodejs/undici/pull/3720)\n-   web: mark as uncloneable when possible by [@&#8203;jazelly](https://redirect.github.com/jazelly) in [https://github.com/nodejs/undici/pull/3709](https://redirect.github.com/nodejs/undici/pull/3709)\n-   chore(H2): onboard H2 into Undici queueing system by [@&#8203;metcoder95](https://redirect.github.com/metcoder95) in [https://github.com/nodejs/undici/pull/3707](https://redirect.github.com/nodejs/undici/pull/3707)\n-   http: extract listeners from client-h1 by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3725](https://redirect.github.com/nodejs/undici/pull/3725)\n-   http2: extract listenHandlers and one bugfix by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3722](https://redirect.github.com/nodejs/undici/pull/3722)\n-   feat: http caching by [@&#8203;flakey5](https://redirect.github.com/flakey5) in [https://github.com/nodejs/undici/pull/3562](https://redirect.github.com/nodejs/undici/pull/3562)\n-   build(deps-dev): bump borp from 0.17.0 to 0.18.0 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3734](https://redirect.github.com/nodejs/undici/pull/3734)\n-   docs: fix broken link in readme by [@&#8203;pastelsky](https://redirect.github.com/pastelsky) in [https://github.com/nodejs/undici/pull/3591](https://redirect.github.com/nodejs/undici/pull/3591)\n-   chore: add jsdoc to lib/web/websocket/constants.js by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3564](https://redirect.github.com/nodejs/undici/pull/3564)\n-   chore: remove redundant async in readable.js by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3643](https://redirect.github.com/nodejs/undici/pull/3643)\n-   fix(types): add missing `cache` prop to RequestInit by [@&#8203;rindeal](https://redirect.github.com/rindeal) in [https://github.com/nodejs/undici/pull/3569](https://redirect.github.com/nodejs/undici/pull/3569)\n-   \\[http-cache] follow up by [@&#8203;Uzlopak](https://redirect.github.com/Uzlopak) in [https://github.com/nodejs/undici/pull/3733](https://redirect.github.com/nodejs/undici/pull/3733)\n-   fix([#&#8203;3736](https://redirect.github.com/nodejs/undici/issues/3736)): leaked error event on response body by [@&#8203;metcoder95](https://redirect.github.com/metcoder95) in [https://github.com/nodejs/undici/pull/3740](https://redirect.github.com/nodejs/undici/pull/3740)\n-   fix: unsafe methods not causing cache purge by [@&#8203;flakey5](https://redirect.github.com/flakey5) in [https://github.com/nodejs/undici/pull/3739](https://redirect.github.com/nodejs/undici/pull/3739)\n-   build(deps): bump node from `83b4d7b` to `f1b4315` in /build by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3756](https://redirect.github.com/nodejs/undici/pull/3756)\n-   fix filename\\* parsing by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3768](https://redirect.github.com/nodejs/undici/pull/3768)\n-   fix http2 test by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3769](https://redirect.github.com/nodejs/undici/pull/3769)\n-   add unsafe-url referrerPolicy test by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3772](https://redirect.github.com/nodejs/undici/pull/3772)\n-   chore(docs): add request() example for conditionally reading the body by [@&#8203;styfle](https://redirect.github.com/styfle) in [https://github.com/nodejs/undici/pull/3743](https://redirect.github.com/nodejs/undici/pull/3743)\n-   fix: dns interceptor ip ttl by [@&#8203;luddd3](https://redirect.github.com/luddd3) in [https://github.com/nodejs/undici/pull/3770](https://redirect.github.com/nodejs/undici/pull/3770)\n-   add node v23 workflow by [@&#8203;tsctx](https://redirect.github.com/tsctx) in [https://github.com/nodejs/undici/pull/3780](https://redirect.github.com/nodejs/undici/pull/3780)\n-   fix: dns interceptor affinity by [@&#8203;luddd3](https://redirect.github.com/luddd3) in [https://github.com/nodejs/undici/pull/3778](https://redirect.github.com/nodejs/undici/pull/3778)\n-   fix aborting Streams by [@&#8203;epistemancering](https://redirect.github.com/epistemancering) in [https://github.com/nodejs/undici/pull/3754](https://redirect.github.com/nodejs/undici/pull/3754)\n-   add tests from cookie package by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3789](https://redirect.github.com/nodejs/undici/pull/3789)\n-   disable failing test by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3782](https://redirect.github.com/nodejs/undici/pull/3782)\n-   fix: http2 queueing by [@&#8203;metcoder95](https://redirect.github.com/metcoder95) in [https://github.com/nodejs/undici/pull/3761](https://redirect.github.com/nodejs/undici/pull/3761)\n-   test(interceptors): fix dns testing on windows by [@&#8203;metcoder95](https://redirect.github.com/metcoder95) in [https://github.com/nodejs/undici/pull/3793](https://redirect.github.com/nodejs/undici/pull/3793)\n-   feat: use resolved ports in dns interceptor by [@&#8203;luddd3](https://redirect.github.com/luddd3) in [https://github.com/nodejs/undici/pull/3786](https://redirect.github.com/nodejs/undici/pull/3786)\n-   fix: cache by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3804](https://redirect.github.com/nodejs/undici/pull/3804)\n-   fix: assume blocking unless HEAD by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3771](https://redirect.github.com/nodejs/undici/pull/3771)\n-   chore: use common WASM builder by [@&#8203;mhdawson](https://redirect.github.com/mhdawson) in [https://github.com/nodejs/undici/pull/3791](https://redirect.github.com/nodejs/undici/pull/3791)\n-   refactor: silence neostandard import rules error by [@&#8203;jerome-benoit](https://redirect.github.com/jerome-benoit) in [https://github.com/nodejs/undici/pull/3776](https://redirect.github.com/nodejs/undici/pull/3776)\n-   build(deps): bump actions/dependency-review-action from 4.3.4 to 4.4.0 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3797](https://redirect.github.com/nodejs/undici/pull/3797)\n-   build(deps): bump github/codeql-action from 3.26.10 to 3.27.0 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3796](https://redirect.github.com/nodejs/undici/pull/3796)\n-   build(deps): bump fastify/github-action-merge-dependabot from 3.10.2 to 3.11.0 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3795](https://redirect.github.com/nodejs/undici/pull/3795)\n-   docs: add example using proxy with fetch by [@&#8203;dancastillo](https://redirect.github.com/dancastillo) in [https://github.com/nodejs/undici/pull/3800](https://redirect.github.com/nodejs/undici/pull/3800)\n-   fix: handle Headers in RedirectHandler by [@&#8203;iiAku](https://redirect.github.com/iiAku) in [https://github.com/nodejs/undici/pull/3777](https://redirect.github.com/nodejs/undici/pull/3777)\n-   Skip debuglog tests by [@&#8203;mcollina](https://redirect.github.com/mcollina) in [https://github.com/nodejs/undici/pull/3810](https://redirect.github.com/nodejs/undici/pull/3810)\n-   build(deps): bump actions/upload-artifact from 4.4.0 to 4.4.3 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3794](https://redirect.github.com/nodejs/undici/pull/3794)\n-   h2: do not emit data after goaway by [@&#8203;mcollina](https://redirect.github.com/mcollina) in [https://github.com/nodejs/undici/pull/3811](https://redirect.github.com/nodejs/undici/pull/3811)\n-   fix redirect interceptor with FormData body by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3815](https://redirect.github.com/nodejs/undici/pull/3815)\n-   docs: fix broken links in undici webpage by [@&#8203;dancastillo](https://redirect.github.com/dancastillo) in [https://github.com/nodejs/undici/pull/3807](https://redirect.github.com/nodejs/undici/pull/3807)\n-   fix: handle undici Headers and Maps in redirect-handler by [@&#8203;iiAku](https://redirect.github.com/iiAku) in [https://github.com/nodejs/undici/pull/3819](https://redirect.github.com/nodejs/undici/pull/3819)\n-   fix: handle undefined deref() of WeakRef(socket) by [@&#8203;hochoy](https://redirect.github.com/hochoy) in [https://github.com/nodejs/undici/pull/3751](https://redirect.github.com/nodejs/undici/pull/3751)\n-   build(deps-dev): bump [@&#8203;sinonjs/fake-timers](https://redirect.github.com/sinonjs/fake-timers) from 11.3.1 to 12.0.0 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3823](https://redirect.github.com/nodejs/undici/pull/3823)\n-   fix: range end is zero-indexed by [@&#8203;DTrombett](https://redirect.github.com/DTrombett) in [https://github.com/nodejs/undici/pull/3826](https://redirect.github.com/nodejs/undici/pull/3826)\n-   lib: more cache fixes by [@&#8203;flakey5](https://redirect.github.com/flakey5) in [https://github.com/nodejs/undici/pull/3816](https://redirect.github.com/nodejs/undici/pull/3816)\n-   fix: cache fixes by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3830](https://redirect.github.com/nodejs/undici/pull/3830)\n-   Headers webidl errors by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3833](https://redirect.github.com/nodejs/undici/pull/3833)\n-   Fix goaway by [@&#8203;mcollina](https://redirect.github.com/mcollina) in [https://github.com/nodejs/undici/pull/3835](https://redirect.github.com/nodejs/undici/pull/3835)\n-   refactor: maxEntriesCount by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3832](https://redirect.github.com/nodejs/undici/pull/3832)\n-   Update WPT by [@&#8203;github-actions](https://redirect.github.com/github-actions) in [https://github.com/nodejs/undici/pull/3693](https://redirect.github.com/nodejs/undici/pull/3693)\n-   docs: fix broken links by using absolute path by [@&#8203;dancastillo](https://redirect.github.com/dancastillo) in [https://github.com/nodejs/undici/pull/3820](https://redirect.github.com/nodejs/undici/pull/3820)\n-   fix: memory store by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3834](https://redirect.github.com/nodejs/undici/pull/3834)\n-   Update Dispatch.md to Dispatcher.md by [@&#8203;bcomnes](https://redirect.github.com/bcomnes) in [https://github.com/nodejs/undici/pull/3839](https://redirect.github.com/nodejs/undici/pull/3839)\n-   lib: add `nowAbsolute` to fast timers by [@&#8203;flakey5](https://redirect.github.com/flakey5) in [https://github.com/nodejs/undici/pull/3749](https://redirect.github.com/nodejs/undici/pull/3749)\n-   feat: cache etag support by [@&#8203;flakey5](https://redirect.github.com/flakey5) in [https://github.com/nodejs/undici/pull/3758](https://redirect.github.com/nodejs/undici/pull/3758)\n-   feat: support request cache control directives by [@&#8203;flakey5](https://redirect.github.com/flakey5) in [https://github.com/nodejs/undici/pull/3658](https://redirect.github.com/nodejs/undici/pull/3658)\n-   Bench updates prior to release by [@&#8203;mcollina](https://redirect.github.com/mcollina) in [https://github.com/nodejs/undici/pull/3845](https://redirect.github.com/nodejs/undici/pull/3845)\n-   fix([#&#8203;3817](https://redirect.github.com/nodejs/undici/issues/3817)): send servername for SNI on TLS by [@&#8203;metcoder95](https://redirect.github.com/metcoder95) in [https://github.com/nodejs/undici/pull/3821](https://redirect.github.com/nodejs/undici/pull/3821)\n-   Revert nowAbsolute, add regression test by [@&#8203;mcollina](https://redirect.github.com/mcollina) in [https://github.com/nodejs/undici/pull/3850](https://redirect.github.com/nodejs/undici/pull/3850)\n-   fix: missing error handler by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3859](https://redirect.github.com/nodejs/undici/pull/3859)\n-   fix: 301 and 302 change method to GET by [@&#8203;DTrombett](https://redirect.github.com/DTrombett) in [https://github.com/nodejs/undici/pull/3862](https://redirect.github.com/nodejs/undici/pull/3862)\n-   feat: sqlite cache store by [@&#8203;flakey5](https://redirect.github.com/flakey5) in [https://github.com/nodejs/undici/pull/3657](https://redirect.github.com/nodejs/undici/pull/3657)\n-   fix: sending formdata bodies with http2 by [@&#8203;KhafraDev](https://redirect.github.com/KhafraDev) in [https://github.com/nodejs/undici/pull/3863](https://redirect.github.com/nodejs/undici/pull/3863)\n-   Update return type of RetryCallback by [@&#8203;mqayyuum](https://redirect.github.com/mqayyuum) in [https://github.com/nodejs/undici/pull/3851](https://redirect.github.com/nodejs/undici/pull/3851)\n-   fix: cleanup sqlite store by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3868](https://redirect.github.com/nodejs/undici/pull/3868)\n-   refactor: sqlite versioning by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3870](https://redirect.github.com/nodejs/undici/pull/3870)\n-   fix: pass down context in onConnect by [@&#8203;DTrombett](https://redirect.github.com/DTrombett) in [https://github.com/nodejs/undici/pull/3858](https://redirect.github.com/nodejs/undici/pull/3858)\n-   fix: cache fixes by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3871](https://redirect.github.com/nodejs/undici/pull/3871)\n-   fix: we can redirect disturbed request body if it's not going to be used by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3873](https://redirect.github.com/nodejs/undici/pull/3873)\n-   perf: only prune if adding new entry by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3872](https://redirect.github.com/nodejs/undici/pull/3872)\n-   fix: Fixed the issue that there is no running request when http2 goaway by [@&#8203;ShenHongFei](https://redirect.github.com/ShenHongFei) in [https://github.com/nodejs/undici/pull/3875](https://redirect.github.com/nodejs/undici/pull/3875)\n-   feat: new hooks by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3878](https://redirect.github.com/nodejs/undici/pull/3878)\n-   Multiple fixes for SQLiteStore, enable it in CI by [@&#8203;mcollina](https://redirect.github.com/mcollina) in [https://github.com/nodejs/undici/pull/3881](https://redirect.github.com/nodejs/undici/pull/3881)\n-   Update WPT by [@&#8203;github-actions](https://redirect.github.com/github-actions) in [https://github.com/nodejs/undici/pull/3838](https://redirect.github.com/nodejs/undici/pull/3838)\n-   cache: fix stale-while-revalidate and stale-if-error by [@&#8203;flakey5](https://redirect.github.com/flakey5) in [https://github.com/nodejs/undici/pull/3865](https://redirect.github.com/nodejs/undici/pull/3865)\n-   refactor: port redirect handler to new hooks by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3879](https://redirect.github.com/nodejs/undici/pull/3879)\n-   Drop node v18 by [@&#8203;mcollina](https://redirect.github.com/mcollina) in [https://github.com/nodejs/undici/pull/3880](https://redirect.github.com/nodejs/undici/pull/3880)\n-   build(deps-dev): bump borp from 0.18.0 to 0.19.0 by [@&#8203;dependabot](https://redirect.github.com/dependabot) in [https://github.com/nodejs/undici/pull/3882](https://redirect.github.com/nodejs/undici/pull/3882)\n-   perf: store data as blobs in sql cache by [@&#8203;ronag](https://redirect.github.com/ronag) in [https://github.com/nodejs/undici/pull/3885](https://redirect.github.com/nodejs/undici/pull/3885)\n-   test: add cache testing suite by [@&#8203;flakey5](https://redirect.github.com/flakey5) in [https://github.com/nodejs/undici/\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n🔕 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://redirect.github.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzOS4yMS4xIiwidXBkYXRlZEluVmVyIjoiMzkuMjEuMSIsInRhcmdldEJyYW5jaCI6Im1haW4iLCJsYWJlbHMiOlsiYWN0aW9uOiBtZXJnZSIsInRhcmdldDogbWlub3IiXX0=-->\n","Url":"https://github.com/angular/angular-cli/pull/28990","RelatedDescription":"Open PR \"build: update dependency undici to v7\" (#28990)"},{"Id":"2700935068","IsPullRequest":true,"CreatedAt":"2024-11-28T06:17:57","Actor":"angular-robot","Number":"28989","RawContent":null,"Title":"build: update all non-major dependencies","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [lmdb](https://redirect.github.com/kriszyp/lmdb-js) | optionalDependencies | minor | [`3.1.6` -> `3.2.0`](https://renovatebot.com/diffs/npm/lmdb/3.1.6/3.2.0) |\n| [lmdb](https://redirect.github.com/kriszyp/lmdb-js) | devDependencies | minor | [`3.1.6` -> `3.2.0`](https://renovatebot.com/diffs/npm/lmdb/3.1.6/3.2.0) |\n| [rollup](https://rollupjs.org/) ([source](https://redirect.github.com/rollup/rollup)) | dependencies | minor | [`4.27.4` -> `4.28.0`](https://renovatebot.com/diffs/npm/rollup/4.27.4/4.28.0) |\n| [rollup](https://rollupjs.org/) ([source](https://redirect.github.com/rollup/rollup)) | devDependencies | minor | [`4.27.4` -> `4.28.0`](https://renovatebot.com/diffs/npm/rollup/4.27.4/4.28.0) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>kriszyp/lmdb-js (lmdb)</summary>\n\n### [`v3.2.0`](https://redirect.github.com/kriszyp/lmdb-js/compare/v3.1.6...v3.2.0)\n\n[Compare Source](https://redirect.github.com/kriszyp/lmdb-js/compare/v3.1.6...v3.2.0)\n\n</details>\n\n<details>\n<summary>rollup/rollup (rollup)</summary>\n\n### [`v4.28.0`](https://redirect.github.com/rollup/rollup/blob/HEAD/CHANGELOG.md#4280)\n\n[Compare Source](https://redirect.github.com/rollup/rollup/compare/v4.27.4...v4.28.0)\n\n*2024-11-30*\n\n##### Features\n\n-   Allow to specify how to handle import attributes when transpiling Rollup config files ([#&#8203;5743](https://redirect.github.com/rollup/rollup/issues/5743))\n\n##### Pull Requests\n\n-   [#&#8203;5743](https://redirect.github.com/rollup/rollup/pull/5743): fix: supports modify the import attributes key in the config file ([@&#8203;TrickyPi](https://redirect.github.com/TrickyPi), [@&#8203;lukastaegert](https://redirect.github.com/lukastaegert))\n-   [#&#8203;5747](https://redirect.github.com/rollup/rollup/pull/5747): chore(deps): update codecov/codecov-action action to v5 ([@&#8203;renovate](https://redirect.github.com/renovate)\\[bot])\n-   [#&#8203;5748](https://redirect.github.com/rollup/rollup/pull/5748): chore(deps): lock file maintenance minor/patch updates ([@&#8203;renovate](https://redirect.github.com/renovate)\\[bot])\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://redirect.github.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://redirect.github.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzOS4yMS4xIiwidXBkYXRlZEluVmVyIjoiMzkuMjEuMSIsInRhcmdldEJyYW5jaCI6Im1haW4iLCJsYWJlbHMiOlsiYWN0aW9uOiBtZXJnZSIsInRhcmdldDogbWlub3IiXX0=-->\n","Url":"https://github.com/angular/angular-cli/pull/28989","RelatedDescription":"Open PR \"build: update all non-major dependencies\" (#28989)"},{"Id":"2697750541","IsPullRequest":true,"CreatedAt":"2024-11-27T21:48:33","Actor":"alan-agius4","Number":"28983","RawContent":null,"Title":"fix(@angular/build): add timeout to route extraction","State":"closed","Body":"This commit introduces a 30-second timeout for route extraction.\r\n","Url":"https://github.com/angular/angular-cli/pull/28983","RelatedDescription":"Closed or merged PR \"fix(@angular/build): add timeout to route extraction\" (#28983)"},{"Id":"2695989169","IsPullRequest":false,"CreatedAt":"2024-11-27T21:28:34","Actor":"javiermarinros","Number":"28979","RawContent":null,"Title":"`ng build` stuck in a SSG + Zoneless app","State":"closed","Body":"### Command\n\nbuild\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nI'm trying to build an SSG and Zoneless site using the latest version of Angular, 19, as well as the new SSR rendering APIs.\n\nHowever, the process gets stuck indefinitely, without providing any clue as to what might be happening, not even when running it with the `--verbose` flag.\n\nThe development server is working as intended. It respects the server routes configuration, providing some routes as pre-rendered and others to be rendered on the client.\n\n### Minimal Reproduction\n\nI’m sorry I can’t provide more information or steps to reproduce it, but I’m completely out of leads 😅\n\nI’d be happy to share more information if there's a way to provide additional details to the `ng build` command beyond using the `verbose` flag.\n\n### Exception or Error\n\n```text\nng build --verbose\n⠙ Building...\n\n  polyfills.server.mjs  265.3kb\n\n⠼ Building...\n\n  polyfills-LDJZCKZE.js  3.0kb\n\n⠴ Building...\n● [DEBUG] This case clause will never be evaluated because it duplicates an earlier case clause [duplicate-case]\n\n    node_modules/firebaseui/dist/esm.js:4861:8:\n      4861 │         case 224:\n           ╵         ~~~~\n\n  The earlier case clause is here:\n\n    node_modules/firebaseui/dist/esm.js:4847:8:\n      4847 │         case 224:\n           ╵         ~~~~\n\n● [DEBUG] This case clause will never be evaluated because it duplicates an earlier case clause [duplicate-case]\n\n    node_modules/firebaseui/dist/esm.js:4890:8:\n      4890 │         case 192:\n           ╵         ~~~~\n\n  The earlier case clause is here:\n\n    node_modules/firebaseui/dist/esm.js:4883:8:\n      4883 │         case 192:\n           ╵         ~~~~\n⠦ Building...\n● [DEBUG] This call to \"require\" will not be bundled because the argument is not a string literal [unsupported-require-call]\n\n    node_modules/express/lib/view.js:72:13:\n      72 │     var fn = require(mod).__express;\n         ╵              ~~~~~~~\n\n● [DEBUG] This case clause will never be evaluated because it duplicates an earlier case clause [duplicate-case]\n\n    node_modules/firebaseui/dist/esm.js:4861:8:\n      4861 │         case 224:\n           ╵         ~~~~\n\n  The earlier case clause is here:\n\n    node_modules/firebaseui/dist/esm.js:4847:8:\n      4847 │         case 224:\n           ╵         ~~~~\n\n● [DEBUG] This case clause will never be evaluated because it duplicates an earlier case clause [duplicate-case]\n\n    node_modules/firebaseui/dist/esm.js:4890:8:\n      4890 │         case 192:\n           ╵         ~~~~\n\n  The earlier case clause is here:\n\n    node_modules/firebaseui/dist/esm.js:4883:8:\n      4883 │         case 192:\n           ╵         ~~~~\n\n● [DEBUG] Using direct eval with a bundler is not recommended and may cause problems [direct-eval]\n\n    node_modules/lottie-web/build/player/lottie.js:14327:32:\n      14327 │       var expression_function = eval('[function _expression_function(){' + val + ';scoped_bm_rt=$bm_rt}]')[0]; // eslint-disable-line no-eval\n            ╵                                 ~~~~\n\n  You can read more about direct eval and bundling here: https://esbuild.github.io/link/direct-eval\n\n● [DEBUG] Using direct eval with a bundler is not recommended and may cause problems [direct-eval]\n\n    node_modules/lottie-web/build/player/lottie.js:14327:32:\n      14327 │       var expression_function = eval('[function _expression_function(){' + val + ';scoped_bm_rt=$bm_rt}]')[0]; // eslint-disable-line no-eval\n            ╵                                 ~~~~\n\n  You can read more about direct eval and bundling here: https://esbuild.github.io/link/direct-eval\n⠏ Building...\n\n  dashboard.module-SKN3URED.js                 641.9kb\n  chunk-TRDLCWMT.js                            457.9kb\n  chunk-TCWFX2OP.js                            353.2kb\n  lottie-2DXNGVHK.js                           300.8kb\n  landing.module-WNLSJS2C.js                   248.1kb\n  esm-JIBECP67.js                              241.0kb\n  chunk-7TNZHTMF.js                            177.2kb\n  chunk-XO5U7OM6.js                            115.8kb\n  chunk-CZVGQAUF.js                             98.8kb\n  flickity-LRPAAVJJ.js                          49.5kb\n  cropper.esm-SMYEZKPD.js                       37.2kb\n  chunk-4WZ7BYRL.js                             31.6kb\n  chunk-DTV5PRJY.js                             15.6kb\n  waves.component-A6GXTZDP.js                   13.1kb\n  ken-burns.component-Z76SXEAB.js                7.6kb\n  chunk-VXWYNNZW.js                              4.3kb\n  chunk-SUV4EREZ.js                              3.2kb\n  ...and 10 more output files...\n\n⠋ Building...\n\n  server.mjs          827.2kb\n  xhr2-HFH3W27K.mjs    11.9kb\n  chunk-GFUZYSQG.mjs    1.2kb\n\n⚡ Done in 5107ms\n● [DEBUG] Using direct eval with a bundler is not recommended and may cause problems [direct-eval]\n\n    node_modules/@protobufjs/inquire/index.js:13:14:\n      13 │     var mod = eval(\"quire\".replace(/^/, \"re\"))(moduleName); // eslint-disable-line no-eval\n         ╵               ~~~~\n\n  You can read more about direct eval and bundling here: https://esbuild.github.io/link/direct-eval\n\n\n  chunk-HCT7J33W.mjs                            778.3kb\n  dashboard.module-EQ2BXEUI.mjs                 642.0kb\n  chunk-TCHICX4X.mjs                            468.1kb\n  main.server.mjs                               435.4kb\n  chunk-NGKSIHBQ.mjs                            352.9kb\n  lottie-L2XGBWI3.mjs                           300.8kb\n  esm-4KAGCK6Y.mjs                              250.5kb\n  landing.module-MIWFZB35.mjs                   248.2kb\n  chunk-IULWPRNK.mjs                            202.5kb\n  chunk-5O64WG6G.mjs                             98.9kb\n  flickity-YU4KQ552.mjs                          49.6kb\n  cropper.esm-JAVITYCY.mjs                       37.2kb\n  chunk-AFQASQ3R.mjs                             31.6kb\n  chunk-WUY6AJ2G.mjs                             15.7kb\n  waves.component-WXKAN4UX.mjs                   13.2kb\n  xhr2-IMDMNIVD.mjs                              11.8kb\n  ken-burns.component-OOVH4RP7.mjs                7.6kb\n  ...and 11 more output files...\n\n⠋ Building...\n\n```\nAnd it stays in this last step here forever...\n\n### Your Environment\n\n```text\nAngular CLI: 19.0.2\nNode: 22.2.0\nPackage Manager: npm 10.9.1\nOS: darwin arm64\n\nAngular: 19.0.1\n... animations, common, compiler, compiler-cli, core, forms\n... localize, platform-browser, platform-browser-dynamic\n... platform-server, router\n\nPackage                      Version\n------------------------------------------------------\n@angular-devkit/architect    0.1900.2\n@angular-devkit/core         18.2.12\n@angular-devkit/schematics   18.2.12\n@angular/build               19.0.2\n@angular/cdk                 19.0.0\n@angular/cli                 19.0.2\n@angular/material            19.0.0\n@angular/ssr                 19.0.2\n@schematics/angular          19.0.2\nrxjs                         7.8.1\ntypescript                   5.6.3\n```\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/28979","RelatedDescription":"Closed issue \"`ng build` stuck in a SSG + Zoneless app\" (#28979)"},{"Id":"2698859993","IsPullRequest":false,"CreatedAt":"2024-11-27T15:02:11","Actor":"MikaStark","Number":"28987","RawContent":null,"Title":"Using jasmine.clock().install() in unit tests with builderMode set to application throw an error","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nDon't known / other\n\n### Is this a regression?\n\nYes\n\n### Description\n\nHello everyone !\n\nI started using the new `builderMode` option by setting it to `application` to leverage the power of esbuild for my tests (angular.json). But since all my thousands tests passed before, now I get dozens of random errors across my apps but the common point seems to be the use of `jasmine.clock()` at some key points. I get multiple times this cryptic error : \n\n`Error: Jasmine Clock was unable to install over custom global timer functions. Is the clock already installed?`\n\nSince I never got this error before setting `builderMode` to `application` I don't see what I'm doing wrong.\n\nSo I started a fresh project (just a plain `ng new` hello world app) and just tried to install a clock on the existing unit test. Nothing more. An boom, I got the error I mentionned earlier.\nSorry I can't provide you much more informations as I just don't understand what's going on but I hope someone will find a way to solve this problem which seems to be the source of all my trouble in unit tests with esbuild.\n\nThank you for your efforts :)\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\nError: Jasmine Clock was unable to install over custom global timer functions. Is the clock already installed?\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 19.0.2\nNode: 22.11.0\nPackage Manager: npm 10.9.1\nOS: linux x64\n\nAngular: 19.0.0\n... animations, cdk, common, compiler, compiler-cli, core, forms\n... material, platform-browser, platform-browser-dynamic, router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1900.2\n@angular-devkit/build-angular   19.0.2\n@angular-devkit/core            19.0.2\n@angular-devkit/schematics      19.0.2\n@angular/cli                    19.0.2\n@schematics/angular             19.0.2\nrxjs                            7.8.1\ntypescript                      5.6.3\nzone.js                         0.15.0\n```\n\n### Anything else?\n\nTo reproduce : \n- Run `ng new` and keep the default options\n- add `\"builderMode\": \"application\"` in `angular.json` \"test\" builder options\n- add `jasmine.clock().install();` to `it('should create the app')` unit test (app.component.spec.ts)\n- run `ng test`","Url":"https://github.com/angular/angular-cli/issues/28987","RelatedDescription":"Closed issue \"Using jasmine.clock().install() in unit tests with builderMode set to application throw an error\" (#28987)"},{"Id":"2698363902","IsPullRequest":false,"CreatedAt":"2024-11-27T14:01:01","Actor":"samir-dahal","Number":"28985","RawContent":null,"Title":"bug(*): Issue with `ng add @angular/material` in Angular CLI","State":"closed","Body":"### Is this a regression?\n\n- [x] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n17.3.5\n\n### Description\n\nDear Angular Team,\n\nI encountered an issue while using the Angular CLI to integrate `@angular/material` into a new project. Here are the steps I followed and the problem I observed:\n\n1. **Environment**:\n   - Angular project created using the Angular CLI.\n   - Angular CLI version: [18.2.12].\n   - Node.js version: [22.11.0].\n\n2. **Issue**:\n   - I ran the command `ng add @angular/material` in the terminal.\n   - The installation was marked as successful, but the necessary project files (e.g., `angular.json`, `app.config.ts, styles.css`, etc) were not modified.\n   - Additionally, the following error was displayed:\n     ```\n     Cannot find module '\\node_modules\\@angular\\cli\\node_modules\\@schematics\\angular\\private\\components.js'\n     ```\nI also checked the node_modules folder but didn't find any folder named \"private\"\n\n### Reproduction\n\nStackBlitz link: Sorry, I am working on my local machine, so cannot provide the link here.\nSteps to reproduce:\n1. Create a new project using angular CLI\n2. Add the @angular/material using `ng add @angular/material`\n\n### Expected Behavior\n\nShould properly install the @angular/material package.\n\n### Actual Behavior\n\nError after installing the package.\n```\n     Cannot find module '\\node_modules\\@angular\\cli\\node_modules\\@schematics\\angular\\private\\components.js'\n```\n\n### Environment\n\n- Angular: 18.2.12\n- CDK/Material: 19.0.0\n- Browser(s): Microsoft Edge 131.0.2903.63 (Official build) (64-bit) \n- Operating System (e.g. Windows, macOS, Ubuntu):\n","Url":"https://github.com/angular/angular-cli/issues/28985","RelatedDescription":"Closed issue \"bug(*): Issue with `ng add @angular/material` in Angular CLI\" (#28985)"},{"Id":"2698606834","IsPullRequest":true,"CreatedAt":"2024-11-27T14:01:00","Actor":"alan-agius4","Number":"28986","RawContent":null,"Title":"fix(@angular/cli): correctly select package versions in descending order during `ng add`","State":"closed","Body":"\r\n\r\nWhen using the `ng add` command, the package version selection logic was not correctly selected based on the available versions in desc order. This could lead to selecting an unintended version of the package.\r\n\r\nCloses: #28985","Url":"https://github.com/angular/angular-cli/pull/28986","RelatedDescription":"Closed or merged PR \"fix(@angular/cli): correctly select package versions in descending order during `ng add`\" (#28986)"},{"Id":"2697992890","IsPullRequest":true,"CreatedAt":"2024-11-27T10:20:44","Actor":"angular-robot","Number":"28984","RawContent":null,"Title":"build: update angular","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@angular/animations](https://redirect.github.com/angular/animations-builds) | dependencies | digest | `5fc988c` -> `38ae6e0` |\n| [@angular/build-tooling](https://redirect.github.com/angular/dev-infra-private-build-tooling-builds) | devDependencies | digest | `41d5efa` -> `a35ad7f` |\n| [@angular/cdk](https://redirect.github.com/angular/cdk-builds) | dependencies | digest | `71de1cc` -> `534a288` |\n| [@angular/cdk](https://redirect.github.com/angular/components) | devDependencies | patch | [`19.0.0` -> `19.0.1`](https://renovatebot.com/diffs/npm/@angular%2fcdk/19.0.0/19.0.1) |\n| [@angular/common](https://redirect.github.com/angular/common-builds) | dependencies | digest | `12e8b1d` -> `d2a8712` |\n| [@angular/compiler](https://redirect.github.com/angular/compiler-builds) | dependencies | digest | `fff333d` -> `9d99d54` |\n| [@angular/compiler-cli](https://redirect.github.com/angular/compiler-cli-builds) | dependencies | digest | `93172d9` -> `0e15c64` |\n| [@angular/core](https://redirect.github.com/angular/core-builds) | dependencies | digest | `3b7c1bb` -> `6200da6` |\n| [@angular/forms](https://redirect.github.com/angular/forms-builds) | dependencies | digest | `f2e85d1` -> `8b3a5c4` |\n| [@angular/language-service](https://redirect.github.com/angular/language-service-builds) | dependencies | digest | `cacc16a` -> `d6a1fe4` |\n| [@angular/localize](https://redirect.github.com/angular/localize-builds) | dependencies | digest | `8c62e22` -> `4876aa1` |\n| [@angular/material](https://redirect.github.com/angular/material-builds) | dependencies | digest | `352755f` -> `8e90438` |\n| [@angular/material](https://redirect.github.com/angular/components) | devDependencies | patch | [`19.0.0` -> `19.0.1`](https://renovatebot.com/diffs/npm/@angular%2fmaterial/19.0.0/19.0.1) |\n| [@angular/material-moment-adapter](https://redirect.github.com/angular/material-moment-adapter-builds) | dependencies | digest | `85a8c12` -> `0ecb941` |\n| [@angular/ng-dev](https://redirect.github.com/angular/dev-infra-private-ng-dev-builds) | devDependencies | digest | `47ccf2c` -> `dde9fb8` |\n| [@angular/platform-browser](https://redirect.github.com/angular/platform-browser-builds) | dependencies | digest | `4c6f919` -> `a56a683` |\n| [@angular/platform-browser-dynamic](https://redirect.github.com/angular/platform-browser-dynamic-builds) | dependencies | digest | `7b858ec` -> `71ef4a2` |\n| [@angular/platform-server](https://redirect.github.com/angular/platform-server-builds) | dependencies | digest | `936283e` -> `77b2216` |\n| [@angular/router](https://redirect.github.com/angular/router-builds) | dependencies | digest | `83d5efe` -> `97d0665` |\n| [@angular/service-worker](https://redirect.github.com/angular/service-worker-builds) | dependencies | digest | `8e81941` -> `e1f7700` |\n| angular/dev-infra | action | digest | `9bf81f9` -> `9ad44d7` |\n\n🔡 If you wish to disable git hash updates, add `\":disableDigestUpdates\"` to the extends array in your config.\n\n---\n\n### Release Notes\n\n<details>\n<summary>angular/components (@&#8203;angular/cdk)</summary>\n\n### [`v19.0.1`](https://redirect.github.com/angular/components/blob/HEAD/CHANGELOG.md#1901-mercury-mailbox-2024-11-27)\n\n[Compare Source](https://redirect.github.com/angular/components/compare/19.0.0...19.0.1)\n\n##### material\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [2d7e078bb](https://redirect.github.com/angular/components/commit/2d7e078bb46d665f21a6ef3ff1b76fec336862bc) | fix | **button-toggle:** animate checkbox ([#&#8203;30025](https://redirect.github.com/angular/components/pull/30025)) |\n| [edac40645](https://redirect.github.com/angular/components/commit/edac40645f5130a9b85eaefa2479792a93d62396) | fix | **chips:** emit state changes when chip grid is disabled ([#&#8203;30033](https://redirect.github.com/angular/components/pull/30033)) |\n| [18f7f4bb9](https://redirect.github.com/angular/components/commit/18f7f4bb9e3b9cae8563f3134aadede818140e9d) | fix | **datepicker:** adds comparison ids and aria-describedby spans ([#&#8203;30040](https://redirect.github.com/angular/components/pull/30040)) |\n| [375435497](https://redirect.github.com/angular/components/commit/375435497fa42446ea51d11f72c32853fb337933) | fix | **slider:** update documentation ([#&#8203;30029](https://redirect.github.com/angular/components/pull/30029)) |\n| [a31201475](https://redirect.github.com/angular/components/commit/a3120147523da86bc0e8d9531344d3c531c4795b) | fix | **timepicker:** make disabled input public ([#&#8203;30063](https://redirect.github.com/angular/components/pull/30063)) |\n\n##### docs\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [f9d9d2c81](https://redirect.github.com/angular/components/commit/f9d9d2c8115da469c234768c220205feb2a58eb1) | fix | update errorState example to cover handle missing state ([#&#8203;30059](https://redirect.github.com/angular/components/pull/30059)) |\n\n##### multiple\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [59b7f436a](https://redirect.github.com/angular/components/commit/59b7f436acc5c4b2e732ec09ac44e031e8b422bf) | fix | use cross-compatible type for setTimeout ([#&#8203;30073](https://redirect.github.com/angular/components/pull/30073)) |\n\n<!-- CHANGELOG SPLIT MARKER -->\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://redirect.github.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://redirect.github.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzOS4yMS4xIiwidXBkYXRlZEluVmVyIjoiMzkuMjEuMSIsInRhcmdldEJyYW5jaCI6Im1haW4iLCJsYWJlbHMiOlsiYWN0aW9uOiBtZXJnZSIsInRhcmdldDogbWlub3IiXX0=-->\n","Url":"https://github.com/angular/angular-cli/pull/28984","RelatedDescription":"Open PR \"build: update angular\" (#28984)"},{"Id":"2697266655","IsPullRequest":true,"CreatedAt":"2024-11-27T06:20:14","Actor":"angular-robot","Number":"28982","RawContent":null,"Title":"build: update dependency tar to v7","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [tar](https://redirect.github.com/isaacs/node-tar) | devDependencies | major | [`^6.1.6` -> `^7.0.0`](https://renovatebot.com/diffs/npm/tar/6.2.1/7.4.3) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>isaacs/node-tar (tar)</summary>\n\n### [`v7.4.3`](https://redirect.github.com/isaacs/node-tar/compare/v7.4.2...v7.4.3)\n\n[Compare Source](https://redirect.github.com/isaacs/node-tar/compare/v7.4.2...v7.4.3)\n\n### [`v7.4.2`](https://redirect.github.com/isaacs/node-tar/compare/v7.4.1...v7.4.2)\n\n[Compare Source](https://redirect.github.com/isaacs/node-tar/compare/v7.4.1...v7.4.2)\n\n### [`v7.4.1`](https://redirect.github.com/isaacs/node-tar/compare/v7.4.0...v7.4.1)\n\n[Compare Source](https://redirect.github.com/isaacs/node-tar/compare/v7.4.0...v7.4.1)\n\n### [`v7.4.0`](https://redirect.github.com/isaacs/node-tar/compare/v7.3.0...v7.4.0)\n\n[Compare Source](https://redirect.github.com/isaacs/node-tar/compare/v7.3.0...v7.4.0)\n\n### [`v7.3.0`](https://redirect.github.com/isaacs/node-tar/compare/v7.2.0...v7.3.0)\n\n[Compare Source](https://redirect.github.com/isaacs/node-tar/compare/v7.2.0...v7.3.0)\n\n### [`v7.2.0`](https://redirect.github.com/isaacs/node-tar/compare/v7.1.0...v7.2.0)\n\n[Compare Source](https://redirect.github.com/isaacs/node-tar/compare/v7.1.0...v7.2.0)\n\n### [`v7.1.0`](https://redirect.github.com/isaacs/node-tar/compare/v7.0.1...v7.1.0)\n\n[Compare Source](https://redirect.github.com/isaacs/node-tar/compare/v7.0.1...v7.1.0)\n\n### [`v7.0.1`](https://redirect.github.com/isaacs/node-tar/compare/v7.0.0...v7.0.1)\n\n[Compare Source](https://redirect.github.com/isaacs/node-tar/compare/v7.0.0...v7.0.1)\n\n### [`v7.0.0`](https://redirect.github.com/isaacs/node-tar/compare/v6.2.1...v7.0.0)\n\n[Compare Source](https://redirect.github.com/isaacs/node-tar/compare/v6.2.1...v7.0.0)\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n🔕 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://redirect.github.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzOS4yMS4xIiwidXBkYXRlZEluVmVyIjoiMzkuMjEuMSIsInRhcmdldEJyYW5jaCI6Im1haW4iLCJsYWJlbHMiOlsiYWN0aW9uOiBtZXJnZSIsInRhcmdldDogbWlub3IiXX0=-->\n","Url":"https://github.com/angular/angular-cli/pull/28982","RelatedDescription":"Open PR \"build: update dependency tar to v7\" (#28982)"},{"Id":"2696276426","IsPullRequest":true,"CreatedAt":"2024-11-26T22:34:50","Actor":"bampakoa","Number":"28981","RawContent":null,"Title":"refactor(@schematics/angular): remove extraneous import from spec file","State":"open","Body":"## PR Checklist\n\nPlease check to confirm your PR fulfills the following requirements:\n\n<!-- Please check all that apply using \"x\". -->\n\n- [x] The commit message follows our guidelines: https://github.com/angular/angular-cli/blob/main/CONTRIBUTING.md#-commit-message-guidelines\n- [ ] Tests for the changes have been added (for bug fixes / features)\n- [ ] Docs have been added / updated (for bug fixes / features)\n\n## PR Type\n\nWhat kind of change does this PR introduce?\n\n<!-- Please check the one that applies to this PR using \"x\". -->\n\n- [ ] Bugfix\n- [ ] Feature\n- [ ] Code style update (formatting, local variables)\n- [x] Refactoring (no functional changes, no api changes)\n- [ ] Build related changes\n- [ ] CI related changes\n- [ ] Documentation content changes\n- [ ] Other... Please describe:\n\n## What is the current behavior?\n\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\n\nIssue Number: N/A\n\n## What is the new behavior?\n\n<!-- Please describe the new behavior that. -->\n\n## Does this PR introduce a breaking change?\n\n- [ ] Yes\n- [x] No\n\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\n\n## Other information\n","Url":"https://github.com/angular/angular-cli/pull/28981","RelatedDescription":"Open PR \"refactor(@schematics/angular): remove extraneous import from spec file\" (#28981)"},{"Id":"2695992376","IsPullRequest":false,"CreatedAt":"2024-11-26T20:32:38","Actor":"johncrim","Number":"28980","RawContent":null,"Title":"Vite dev server failure referencing local libraries","State":"open","Body":"### Command\n\nserve\n\n### Is this a regression?\n\n- [x] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\nbrowser builder\n\n### Description\n\nI'm trying to migrate to the new builders ( browser -> application or browser -> esbuild-browser), and building works fine, however trying to use the dev server `ng serve` I receive errors like the following:\n\n```\nError: Failed to resolve entry for package \"@acme/components\". The package may have incorrect main/module/exports specified in its package.json.\n    at packageEntryFailure (file:///C:/src/acme/node_modules/vite/dist/node/chunks/dep-CB_7IfJ-.js:46637:15)\n    at resolvePackageEntry (file:///C:/src/acme/node_modules/vite/dist/node/chunks/dep-CB_7IfJ-.js:46634:3)\n    at tryNodeResolve (file:///C:/src/acme/node_modules/vite/dist/node/chunks/dep-CB_7IfJ-.js:46450:16)\n    at ResolveIdContext.resolveId (file:///C:/src/acme/node_modules/vite/dist/node/chunks/dep-CB_7IfJ-.js:46200:19)\n    at PluginContainer.resolveId (file:///C:/src/acme/node_modules/vite/dist/node/chunks/dep-CB_7IfJ-.js:49015:17)\n    at async file:///C:/src/acme/node_modules/vite/dist/node/chunks/dep-CB_7IfJ-.js:66266:15\n    at async file:///C:/src/acme/node_modules/vite/dist/node/chunks/dep-CB_7IfJ-.js:49930:14\n    at async addManuallyIncludedOptimizeDeps (file:///C:/src/acme/node_modules/vite/dist/node/chunks/dep-CB_7IfJ-.js:50981:23)\n    at async createDepsOptimizer (file:///C:/src/acme/node_modules/vite/dist/node/chunks/dep-CB_7IfJ-.js:50149:5)\n    at async initDepsOptimizer (file:///C:/src/acme/node_modules/vite/dist/node/chunks/dep-CB_7IfJ-.js:50044:5) {\n  code: 'ERR_RESOLVE_PACKAGE_ENTRY_FAIL'\n}\n```\n\nThis occurs for all projects. Our file organization is:\n\n```\n+ root/workspace\n    + apps\n    + libs\n    + node_modules\n    + dist   \n        + node_modules\n```\n\nAll of the failing references with `initDepsOptimizer` at the bottom of the call stack are our internal libraries, which are built into `./dist/node_modules`.\n\nAs I said above - build works fine, it's only the vite dev server where I'm seeing this problem.\n\n### Minimal Reproduction\n\nI have tried creating a new project that is organized similarly to provide a minimal repro case, but so far the dev server works in that project. It doesn't appear to be triggering `initDepsOptimizer()` - any idea how I can force that to be triggered? Or is there a way to provide a vite config to skip optimizing our internal libs?\n\n### Exception or Error\n\n```text\nError: Failed to resolve entry for package \"@acme/components\". The package may have incorrect main/module/exports specified in its package.json.\n    at packageEntryFailure (file:///C:/src/acme/node_modules/vite/dist/node/chunks/dep-CB_7IfJ-.js:46637:15)\n    at resolvePackageEntry (file:///C:/src/acme/node_modules/vite/dist/node/chunks/dep-CB_7IfJ-.js:46634:3)\n    at tryNodeResolve (file:///C:/src/acme/node_modules/vite/dist/node/chunks/dep-CB_7IfJ-.js:46450:16)\n    at ResolveIdContext.resolveId (file:///C:/src/acme/node_modules/vite/dist/node/chunks/dep-CB_7IfJ-.js:46200:19)\n    at PluginContainer.resolveId (file:///C:/src/acme/node_modules/vite/dist/node/chunks/dep-CB_7IfJ-.js:49015:17)\n    at async file:///C:/src/acme/node_modules/vite/dist/node/chunks/dep-CB_7IfJ-.js:66266:15\n    at async file:///C:/src/acme/node_modules/vite/dist/node/chunks/dep-CB_7IfJ-.js:49930:14\n    at async addManuallyIncludedOptimizeDeps (file:///C:/src/acme/node_modules/vite/dist/node/chunks/dep-CB_7IfJ-.js:50981:23)\n    at async createDepsOptimizer (file:///C:/src/acme/node_modules/vite/dist/node/chunks/dep-CB_7IfJ-.js:50149:5)\n    at async initDepsOptimizer (file:///C:/src/acme/node_modules/vite/dist/node/chunks/dep-CB_7IfJ-.js:50044:5) {\n  code: 'ERR_RESOLVE_PACKAGE_ENTRY_FAIL'\n}\n```\n\n### Your Environment\n\n```text\nAngular CLI: 19.0.2\nNode: 22.6.0\nPackage Manager: yarn 4.5.3\nOS: win32 x64\n\nAngular: 19.0.1\n... animations, common, compiler, compiler-cli, core, forms\n... language-service, platform-browser, platform-browser-dynamic\n... router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1900.2\n@angular-devkit/build-angular   19.0.2\n@angular-devkit/core            19.0.2\n@angular-devkit/schematics      19.0.2\n@angular/cdk                    19.0.0\n@angular/cli                    19.0.2\n@schematics/angular             19.0.2\nng-packagr                      19.0.1\nrxjs                            7.8.1\ntypescript                      5.6.3\nwebpack                         5.96.1\nzone.js                         0.15.0\n```\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/28980","RelatedDescription":"Open issue \"Vite dev server failure referencing local libraries\" (#28980)"},{"Id":"2694946470","IsPullRequest":true,"CreatedAt":"2024-11-26T14:57:24","Actor":"wkaskie","Number":"28975","RawContent":null,"Title":"feat(@angular/cli): allow for custom sha hash algos in SRI","State":"closed","Body":"## PR Checklist\r\n\r\nPlease check to confirm your PR fulfills the following requirements:\r\n\r\n<!-- Please check all that apply using \"x\". -->\r\n\r\n- [ x ] The commit message follows our guidelines: https://github.com/angular/angular-cli/blob/main/CONTRIBUTING.md#-commit-message-guidelines\r\n- [ x ] Tests for the changes have been added (for bug fixes / features)\r\n- [ x ] Docs have been added / updated (for bug fixes / features)\r\n\r\n## PR Type\r\n\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ x ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] Other... Please describe:\r\n\r\n## What is the current behavior?\r\n\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\nCurrently, enabling SRI will default to the sha384 algorithm. This is not always available on the server (s3 supports up to sha256, for example.)\r\n\r\nIssue Number: 28946\r\n\r\n## What is the new behavior?\r\n\r\n<!-- Please describe the new behavior that. -->\r\nThe modifications expose a new configuration property to match that of the webpack-subresource-integrity `hashFuncNames` which accepts an array of strings, leveraging the highest available. This allows users to set sha256 or sha512.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [ x ] No\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular-cli/pull/28975","RelatedDescription":"Closed or merged PR \"feat(@angular/cli): allow for custom sha hash algos in SRI\" (#28975)"}],"ResultType":"GitHubIssue"},"material2-Issues":{"Issues":[{"Id":"2710269976","IsPullRequest":false,"CreatedAt":"2024-12-02T02:55:52","Actor":"yvesguilherme","Number":"30112","RawContent":null,"Title":"bug(COMPONENT): Problem with mat-select in MFE: Options not displaying correctly inside cdk-overlay-container","State":"open","Body":"### Is this a regression?\n\n- [x] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n15\n\n### Description\n\nHey guys, how are you?\n\nI'm having an issue when using the mat-select component in an MFE (Micro Frontend). The MFE is loaded into a shell, which I called mfe-login.\n\nThe problem is that when selecting an item, the mat-options do not appear. They only show up when I scroll, and even then, the dropdown does not disappear properly.\n\nAs you can see in the video below, there's a white vertical bar at the top of the page, and I believe the issue is related to the cdk-overlay-container. Has anyone else faced this issue? If so, how did you fix it?\n\nI've been trying to resolve this for a few days now and even attempted adjusting the z-index, though I consider that a bad practice, and it still didn't work.\n\nAny help would be greatly appreciated!\n\nhttps://github.com/user-attachments/assets/78a9c3b5-cfbc-4f91-82b7-6eb2317f46ef\n\n\n### Reproduction\n\nUnfortunately, I am unable to create a StackBlitz reproduction of this issue due to the complexity and size of the current project. I'm not sure if StackBlitz would support all the dependencies and configurations I've used in this project. However, I can provide any additional details or code snippets to help the team reliably reproduce the issue.\n\n### Expected Behavior\n\nI expected the mat-select options to appear correctly when an item is selected. The dropdown should display the mat-options immediately without the need for scrolling, and the dropdown should close properly once an option is selected. There should be no unexpected visual artifacts, such as the white vertical bar at the top of the page.\n\n### Actual Behavior\n\nWhen selecting an item from the mat-select, the mat-options do not appear immediately. They only become visible after scrolling, and even then, the dropdown does not close properly. Additionally, a white vertical bar appears at the top of the page, which I believe is related to the cdk-overlay-container.\n\n### Environment\n\n- Angular: **18.2.0**\n- CDK/Material: **18.2.14**\n- Browser(s): \n   - **Brave** _Version 1.73.91 Chromium: 131.0.6778.85 (64-bit)_\n   - **Chrome** _Version 131.0.6778.85 (Official Build) (64-bit)_\n- Operating System (e.g. Windows, macOS, Ubuntu): **Pop!_OS 22.04 LTS**\n","Url":"https://github.com/angular/components/issues/30112","RelatedDescription":"Open issue \"bug(COMPONENT): Problem with mat-select in MFE: Options not displaying correctly inside cdk-overlay-container\" (#30112)"},{"Id":"2708941881","IsPullRequest":false,"CreatedAt":"2024-12-01T10:38:18","Actor":"xylplm","Number":"30111","RawContent":null,"Title":"bug(COMPONENT): cdkDragHandle not work in mat-table td","State":"open","Body":"### Is this a regression?\n\n- [x] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nMy table rows can be dragged. But I don't want the entire row to trigger dragging. Use cdkDragHandle to specify a drag button on td to achieve row dragging.\nBut cdkDragHandle did not take effect, and now the entire row can still trigger dragging。\n\n### Reproduction\n\nStackBlitz link: https://stackblitz.com/edit/w368zz?file=src%2Fexample%2Ftable-basic-example.html\nSteps to reproduce:\n1. \n2.\n\n\n### Expected Behavior\n\nOnly buttons can be dragged, other positions in the row cannot be dragged\n\n### Actual Behavior\n\nBoth rows and buttons can trigger dragging\n\n### Environment\n\n- Angular:18/19\n- CDK/Material:18/19\n- Browser(s):edge\n- Operating System (e.g. Windows, macOS, Ubuntu):win11\n","Url":"https://github.com/angular/components/issues/30111","RelatedDescription":"Open issue \"bug(COMPONENT): cdkDragHandle not work in mat-table td\" (#30111)"},{"Id":"2707589696","IsPullRequest":false,"CreatedAt":"2024-11-30T16:36:57","Actor":"Vagner8","Number":"30110","RawContent":null,"Title":"When switch to a mobile view the MatBottomSheetModule does not work correctly","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nI happens only on the mobile view. \nWhen you clicked the edge of the MatBottomSheetModule  the whole MatBottomSheetModule is blinking.\n\n### Reproduction\n\nStackBlitz link: https://material.angular.io/components/bottom-sheet/overview\nSteps to reproduce:\n1.  Go to the link - https://material.angular.io/components/bottom-sheet/overview\n2. Switch to the mobile view\n3. Click at the edge of the MatBottomSheetModule like on the screen\n![Image](https://github.com/user-attachments/assets/0e669caa-b739-43d9-a2f1-d1561aefba4d)\n![Image](https://github.com/user-attachments/assets/ff3e1c45-6096-4f25-9347-0e2af56b2a29)\n\n\n\n\n### Expected Behavior\n\nthe MatBottomSheetModule does not blink\n\n### Actual Behavior\n\nthe MatBottomSheetModule is blinking\n\n### Environment\n\n- Angular: 18.2.11\n- CDK/Material: 18.2.14\n- Browser(s): Chrom\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows![Image](https://github.com/user-attachments/assets/dc315ea7-f608-4c1c-af7c-a32e4e24380d)\n\n","Url":"https://github.com/angular/components/issues/30110","RelatedDescription":"Open issue \"When switch to a mobile view the MatBottomSheetModule does not work correctly\" (#30110)"},{"Id":"2707299905","IsPullRequest":true,"CreatedAt":"2024-11-30T12:51:11","Actor":"andgdk","Number":"30109","RawContent":null,"Title":"docs: remove duplicated tabs example","State":"open","Body":"This PR drops a duplicated example.\r\n\r\nThe tab-group-inverted-example is removed in favor of the identical tab-group-header-below example. Remaining consistent with the allowed inputs for `headerPosition` (`above || below`)","Url":"https://github.com/angular/components/pull/30109","RelatedDescription":"Open PR \"docs: remove duplicated tabs example\" (#30109)"},{"Id":"2707259086","IsPullRequest":true,"CreatedAt":"2024-11-30T11:34:47","Actor":"Sepandard","Number":"30108","RawContent":null,"Title":"fix(material/theming): fix not found error in the guide duplicate theming styles document","State":"open","Body":"bring back the missing document\r\nresolves #30072\r\n","Url":"https://github.com/angular/components/pull/30108","RelatedDescription":"Open PR \"fix(material/theming): fix not found error in the guide duplicate theming styles document\" (#30108)"},{"Id":"2705545515","IsPullRequest":false,"CreatedAt":"2024-11-30T08:35:09","Actor":"KamranSohail619","Number":"30107","RawContent":null,"Title":"Yes, this behavior used to work in the previous version","State":"closed","Body":"","Url":"https://github.com/angular/components/issues/30107","RelatedDescription":"Closed issue \"Yes, this behavior used to work in the previous version\" (#30107)"},{"Id":"2705538477","IsPullRequest":false,"CreatedAt":"2024-11-29T15:58:21","Actor":"KamranSohail619","Number":"30106","RawContent":null,"Title":"Unexpected Numbers Displayed in Angular Material Datepicker Calendar","State":"open","Body":"\n### Description\n\nI am using Angular Material's mat-datepicker in my Angular project. The datepicker UI is displaying incorrect numbers instead of proper dates (see screenshot). I want to show a proper calendar for date selection. \nNote: I have already imported all the required Angular Material modules, including MatDatepickerModule, MatInputModule, and MatNativeDateModule,\n\nHere's the relevant code snippet:\n<mat-form-field>\n  <mat-label>Choose a To date</mat-label>\n  <input\n    matInput\n    readonly\n    [min]=\"selectedFromDate\"\n    [matDatepicker]=\"ToDatepicker\"\n    [(ngModel)]=\"selectedToDate\"\n    (dateChange)=\"onDateChange($event.value, 'addedon', 'lte')\"\n    placeholder=\"MM/DD/YYYY\"\n  />\n  <mat-icon matSuffix [for]=\"ToDatepicker\">event</mat-icon>\n  <mat-datepicker #ToDatepicker></mat-datepicker>\n</mat-form-field>\n\n![Image](https://github.com/user-attachments/assets/f9a03e85-5c90-40c2-a19c-784b4776e86e)\n\n### Reproduction\n\nStackBlitz link: \nSteps to reproduce:\n1. \n2.\n\n\n### Expected Behavior\n\n![Image](https://github.com/user-attachments/assets/034ce39f-9907-4051-b244-e17c78fd559d)\n\n\n### Actual Behavior\n\n![Image](https://github.com/user-attachments/assets/1053c293-2c6d-4f6a-a33f-810ec8993fbd)\n\n\n### Environment\n\n- Angular:\n- CDK/Material:\n- Browser(s):\n- Operating System (e.g. Windows, macOS, Ubuntu):\n","Url":"https://github.com/angular/components/issues/30106","RelatedDescription":"Open issue \"Unexpected Numbers Displayed in Angular Material Datepicker Calendar\" (#30106)"},{"Id":"2705207813","IsPullRequest":false,"CreatedAt":"2024-11-29T13:57:45","Actor":"97fwqf5z","Number":"30105","RawContent":null,"Title":"feat(timepicker): Timepicker and Datepicker Components Inconsistent Dialog Behavior","State":"open","Body":"### Feature Description\n\nThe timepicker component opens a dialog when you click on either the toggle button or the input field.\nhttps://material.angular.io/components/timepicker/overview\n\nThe datepicker component opens a dialog only when you click on the toggle button.\nhttps://material.angular.io/components/datepicker/overview\n\nThat is an inconsistency.\n\n\n### Use Case\n\n_No response_","Url":"https://github.com/angular/components/issues/30105","RelatedDescription":"Open issue \"feat(timepicker): Timepicker and Datepicker Components Inconsistent Dialog Behavior\" (#30105)"},{"Id":"2705191682","IsPullRequest":false,"CreatedAt":"2024-11-29T13:50:00","Actor":"Parnavs","Number":"30104","RawContent":null,"Title":"bug(MatSlideToggle): Design styling tokens don't properly override the theme","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nI've added some styling to the MatSlideToggle component using the design tokens from the documentation, but some of them seem not to work. They get ignored because of the theme. It seems like they have a lower specificity. \n\n### Reproduction\n\nStackBlitz link: https://stackblitz.com/edit/stackblitz-starters-i9rg73?file=angular.json\nSteps to reproduce:\n1. Have the azure-blue theme installed\n1. Override the styling using the mixin from angular documentation \n2. Some styling get's striked through in favor of the azure blue theme\n3. ![Image](https://github.com/user-attachments/assets/c3f88cdd-4f7c-44a4-a3d6-8d2b48a7ae84)\n\n\n### Expected Behavior\n\nI'm expecting that the mixin would be enough to override as they work for the other tokens\n\n### Actual Behavior\n\nThe styling gets ignored in favor of the theme's styling\n\n### Environment\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit/architect       0.1802.10\n@angular-devkit/build-angular   18.2.10\n@angular-devkit/core            18.2.10\n@angular-devkit/schematics      18.2.10\n@angular/cdk                    18.2.10\n@angular/cli                    18.2.10\n@angular/material               18.2.10\n@schematics/angular             18.2.10\nrxjs                            7.8.1\ntypescript                      5.5.4\nzone.js                         0.14.10\n\nChrome, Windows","Url":"https://github.com/angular/components/issues/30104","RelatedDescription":"Open issue \"bug(MatSlideToggle): Design styling tokens don't properly override the theme\" (#30104)"},{"Id":"2704899992","IsPullRequest":true,"CreatedAt":"2024-11-29T11:42:39","Actor":"crisbeto","Number":"30103","RawContent":null,"Title":"fix(material/button-toggle): unable to tab into ngModel-based group on first render","State":"open","Body":"Fixes an issue where the button toggle group would reset all the buttons back to `tabindex=\"-1\"` if they're all static (e.g. not in a loop) and none of them match the value.\r\n\r\nFixes #30097.","Url":"https://github.com/angular/components/pull/30103","RelatedDescription":"Open PR \"fix(material/button-toggle): unable to tab into ngModel-based group on first render\" (#30103)"},{"Id":"2694209964","IsPullRequest":true,"CreatedAt":"2024-11-29T09:35:15","Actor":"Sepandard","Number":"30087","RawContent":null,"Title":"fix(cdk/accordion): improve accessibility in example code","State":"closed","Body":"Updated the example code for the CDK accordion component to address accessibility issues\r\n\r\nresolves #30041","Url":"https://github.com/angular/components/pull/30087","RelatedDescription":"Closed or merged PR \"fix(cdk/accordion): improve accessibility in example code\" (#30087)"},{"Id":"2701594919","IsPullRequest":true,"CreatedAt":"2024-11-29T09:34:31","Actor":"crisbeto","Number":"30099","RawContent":null,"Title":"fix(material/menu): remove dependency on animations module","State":"closed","Body":"Reworks the menu so it no longer depends on the animations module. This should allow us to avoid some of the pitfalls of the animations module like occasional memory leaks (e.g. #47748) and reduce the bundle size.","Url":"https://github.com/angular/components/pull/30099","RelatedDescription":"Closed or merged PR \"fix(material/menu): remove dependency on animations module\" (#30099)"},{"Id":"2703087084","IsPullRequest":false,"CreatedAt":"2024-11-28T19:25:42","Actor":"therlaup","Number":"30102","RawContent":null,"Title":"bug(mat-slider): Slider thumb cannot be moved by dragging the track on iOS","State":"open","Body":"### Is this a regression?\n\n- [x] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n15.2.9\n\n### Description\n\nThe behavior of mat-slider components differs on iOS compared to other devices. On iOS, the thumb position is not updated when the finger touches down on the screen (i.e. \"touchstart\" event) if the track is touched. To move the thumb, a drag must start on the thumb itself. This makes it hard for users to drag the slider since they need to very precisely touch the thumb. However, if a pointer drag event starts on slider track (from a mouse or touchpad), then the thumb moves appropriately (i.e. mousedown or pointerdown event).\n\nWe've had several complains from our users on this topic and this is becoming a major issue for us. The sliders worked perfectly in version 15.\n\n### Reproduction\n\nA specific StackBlitz is not necessary as the behavor can be reproduced from https://material.angular.io/components/slider/overview\n\n\nSteps to reproduce:\n1. Use Safari or Chrome on iOS and go to: https://material.angular.io/components/slider/overview\n2. Using finger on touchscreen, drag the track of any of the sliders. The thumb does not move despite the ripple effect being triggered.\n3. Use a mouse or a touchpad to drag the track of any slider. The thumb moves with the drag.\n\n\n### Expected Behavior\n\nThe thumb position should update on touchstart event on the track. If you use v15.2.9 of the Angular material components (https://v15.material.angular.io/components/slider/overview), the dragging behavior works perfectly.\n\n### Actual Behavior\n\nOn iOS, the thumb position is not updated on touchstart event if the track is touched. To move the thumb, a drag must start on the thumb itself. \n\n### Environment\n\n- Angular: 16.0.0 to 19.0.0\n- CDK/Material: 16.0.0 to 19.0.0\n- Browser(s): Safari or Chrome\n- Operating System (e.g. Windows, macOS, Ubuntu): iOS\n","Url":"https://github.com/angular/components/issues/30102","RelatedDescription":"Open issue \"bug(mat-slider): Slider thumb cannot be moved by dragging the track on iOS\" (#30102)"},{"Id":"2701213492","IsPullRequest":false,"CreatedAt":"2024-11-28T12:06:25","Actor":"tjaz-brelih","Number":"30098","RawContent":null,"Title":"docs-bug(Ripple): Styling documentation tab doesn't load","State":"closed","Body":"### Documentation Feedback\n\nWhen navigating to the Styling tab for Ripple component the tab content only says Loading.\nHTTP request for URL `https://material.angular.io/docs-content/tokens/material/ripple/ripple.json` returns a generic Firebase \"Page Not Found\" page with HTTP status 404.\n\n### Affected documentation page\n\nhttps://material.angular.io/components/ripple/styling","Url":"https://github.com/angular/components/issues/30098","RelatedDescription":"Closed issue \"docs-bug(Ripple): Styling documentation tab doesn't load\" (#30098)"},{"Id":"2701771848","IsPullRequest":false,"CreatedAt":"2024-11-28T11:00:10","Actor":"endlacer","Number":"30101","RawContent":null,"Title":"feat(drag-drop): New Optional Input [cdkDragStartPredicate]","State":"open","Body":"## Feature Request\n### Problem Statement\nCurrently, the CdkDrag directive doesn't provide a way to conditionally prevent drag operations from starting based on the initial mouse/touch event. This makes it impossible to implement complex drag start conditions, such as only allowing drags from specific elements or under certain event conditions.\nAdd a new input [cdkDragStartPredicate] to the CdkDrag directive that accepts a predicate function to determine whether a drag operation should start.\n### Proposed API\n```typescript\n@Input('cdkDragStartPredicate')\ndragStartPredicate: ((event: TouchEvent | MouseEvent) => boolean) | undefined;\n```\n### Example Usage\n_HTML:_\n```html\n<div cdkDrag [cdkDragStartPredicate]=\"myDragStartPredicate\">\n  Draggable content\n  <input #input>\n</div>\n```\n_component:_\n```typescript\nmyDragStartPredicate(event: TouchEvent | MouseEvent): boolean {\n  const element = event.target as HTMLElement;\n  // Check if the target or any of its parents is an input element\n  return !element.closest('input, textarea, [contenteditable=\"true\"]');\n}\n```\nSee: https://stackblitz.com/edit/wc3rt4?file=src%2Fexample%2Fcdk-drag-drop-sorting-example.css\n\n# Details\n### Benefits\n- More granular control over drag initialization\n- Better integration with custom UI patterns\n- Improved accessibility by allowing precise control over drag triggers\n- Reduced need for workarounds using multiple directives\n- \n### Implementation Notes\n- The predicate should be called before the drag sequence begins\n- Return true to allow the drag to start, false to prevent it\n- Should work with both mouse and touch events\n- Should integrate well with existing cdkDragHandle functionality\n- \n### Related Issues\nThis would also resolve this issue: https://github.com/angular/components/issues/14117\n\n### Use Case\n\n- Prevent drags from starting on specific child elements\n- Implement custom handle logic without using cdkDragHandle\n- Add conditional drag start behavior based on application state\n- Implement complex touch gesture requirements\n","Url":"https://github.com/angular/components/issues/30101","RelatedDescription":"Open issue \"feat(drag-drop): New Optional Input [cdkDragStartPredicate]\" (#30101)"},{"Id":"2701632032","IsPullRequest":false,"CreatedAt":"2024-11-28T10:21:14","Actor":"mstawick","Number":"30100","RawContent":null,"Title":"bug(FixedSizeVirtualScrollStrategy): Not all items rendered on source list change","State":"open","Body":"### Is this a regression?\n\n- [x] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n18\n\n### Description\n\nWhen a list of rendered items changes (new list, ie. new reference) and the length difference isn't big, only the amount of items from the previous list are rendered. I.e. if the previous list had `two` items, and the new list has `three` items, then only `two` items from the new list are rendered.\n\nI think it has something to do with initial buffer settings. Changing the size of the browser window fixes the problem - which makes me think some recalculation is triggered on window size change.\n\nI think manually setting initial values for `maxBufferPx` and `minBufferPx` mitigates the issue.\n\n### Reproduction\n\nHere is a reproduction repo:\nhttps://github.com/mstawick/virtual-scroll-repro\n\nIt doesn't reproduce in StackBlitz, can't say why.\n\nSteps to reproduce:\n* make window full-screen,\n* reload the page,\n* click the buttons in order - List 1 .... List 4,\n* you should see that rendered items don't change when pressing List 3 and List 4.\n\n* resize the window,\n* now rendered items will change as they should.\n\nHere is a short video demonstrating the issue:\nhttps://github.com/user-attachments/assets/86e24e29-19f8-4713-9a9d-a79be844f931\n\n\n### Expected Behavior\n\nAll items should be rendered correctly.\n\n### Actual Behavior\n\nSome items are not rendered.\n\n\n\n### Environment\n\n- Angular: 19.0.0\n- CDK/Material: 19.0.1\n- Browser(s): Chrome/Firefox\n- Operating System (e.g. Windows, macOS, Ubuntu): Debiankate\n","Url":"https://github.com/angular/components/issues/30100","RelatedDescription":"Open issue \"bug(FixedSizeVirtualScrollStrategy): Not all items rendered on source list change\" (#30100)"},{"Id":"2698869065","IsPullRequest":false,"CreatedAt":"2024-11-27T15:06:57","Actor":"BojanSlavkovskii","Number":"30097","RawContent":null,"Title":"bug(Button Toggle): Template-driven form not focusable","State":"open","Body":"### Is this a regression?\n\n- [x] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\nUp until v18\n\n### Description\n\nOn Button Toggle, in the examples with forms, the Reactive form is working fine but the \"Template-driven form\" is not focusable, when you try to tab into it, it just skips it.\nAll buttons in there has tabindex=\"-1\" where in reactive-form only the first button has tabindex=\"0\", even without any control ( formControl or ngModel ) it works fine and tabindex on the first button is 0 (if nothing is selected).\nIf there is anything selected when using ngModel, then it works fine as the other two (with formControl and without any control).\n\nUPDATE: If there is button that reset the formControl, you also cannot access the toggle-button.\n\n### Reproduction\n\nMaterial link: https://material.angular.io/components/button-toggle/examples\nSteps to reproduce:\n1. Go to the second example.\n2. Tab into it, and try focusing the first button-toggle-group ( Template-driven form ) without pre-selecting value.\n\n\n### Expected Behavior\n\nExpected behavior is to behave as the one that has FormControl and the one that has nothing in it. It's expected the first button to be focused if value isn't selected.  \n\n### Actual Behavior\n\nButton-toggle is not focusable if there isn't any selected value like without using ngModel.\n\n### Environment\n\n- Angular: 19\n- CDK/Material: 19\n- Browser(s): Chrome\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\n","Url":"https://github.com/angular/components/issues/30097","RelatedDescription":"Open issue \"bug(Button Toggle): Template-driven form not focusable\" (#30097)"},{"Id":"2698393555","IsPullRequest":true,"CreatedAt":"2024-11-27T14:00:26","Actor":"crisbeto","Number":"30096","RawContent":null,"Title":"docs(material/timepicker): fix missing icon in example","State":"closed","Body":"Fixes that one of the timepicker examples didn't have an icon.\r\n\r\nFixes #30076.","Url":"https://github.com/angular/components/pull/30096","RelatedDescription":"Closed or merged PR \"docs(material/timepicker): fix missing icon in example\" (#30096)"},{"Id":"2697974502","IsPullRequest":false,"CreatedAt":"2024-11-27T14:00:10","Actor":"dil-btarkovacs","Number":"30091","RawContent":null,"Title":"bug(Button): Icon is clipped on disable button","State":"closed","Body":"### Is this a regression? - dunno\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nThe example heart icon on the Angular Material - Component - Buttons page is clipped on the disabled icon.\nhttps://next.material.angular.io/components/button/overview\n![Image](https://github.com/user-attachments/assets/ed170ebe-acaf-4672-a7dc-ef0d16abb701)\n\n\n### Reproduction\n\nStackBlitz link: https://stackblitz.com/run?file=src%2Fexample%2Fbutton-overview-example.css\nSteps to reproduce: look at the disabled button\n\n\n### Expected Behavior\n\nHeart icon should not be clipped\n\n### Actual Behavior\n\nHeart icon is clipped\n\n### Environment\n\n- Angular: 19\n- CDK/Material: 19\n- Browser(s): Chrome\n- Operating System (e.g. Windows, macOS, Ubuntu): macOS\n","Url":"https://github.com/angular/components/issues/30091","RelatedDescription":"Closed issue \"bug(Button): Icon is clipped on disable button\" (#30091)"},{"Id":"2698358884","IsPullRequest":true,"CreatedAt":"2024-11-27T14:00:09","Actor":"crisbeto","Number":"30095","RawContent":null,"Title":"docs(material/button): avoid clipping icon","State":"closed","Body":"Fixes that the container in the button example was too narrow and was clipping the button.\r\n\r\nFixes #30091.","Url":"https://github.com/angular/components/pull/30095","RelatedDescription":"Closed or merged PR \"docs(material/button): avoid clipping icon\" (#30095)"},{"Id":"2694037224","IsPullRequest":true,"CreatedAt":"2024-11-27T13:59:52","Actor":"crisbeto","Number":"30086","RawContent":null,"Title":"fix(cdk/menu): disable flexible dimensions","State":"closed","Body":"Disables flexible dimensions for the CDK menu since supporting them properly requires some CSS tweaks and we don't control the CSS of the menu.\r\n\r\nFixes #30077.","Url":"https://github.com/angular/components/pull/30086","RelatedDescription":"Closed or merged PR \"fix(cdk/menu): disable flexible dimensions\" (#30086)"},{"Id":"2693970216","IsPullRequest":true,"CreatedAt":"2024-11-27T12:10:12","Actor":"crisbeto","Number":"30085","RawContent":null,"Title":"fix(material/core): optgroup label color not inferred correctly","State":"closed","Body":"Fixes that we weren't setting the color of the `mat-optgroup` label correctly, resulting in it being taken from `mat-list`.\r\n\r\nFixes #30081.","Url":"https://github.com/angular/components/pull/30085","RelatedDescription":"Closed or merged PR \"fix(material/core): optgroup label color not inferred correctly\" (#30085)"},{"Id":"2698254479","IsPullRequest":true,"CreatedAt":"2024-11-27T11:34:44","Actor":"crisbeto","Number":"30094","RawContent":null,"Title":"Bump version to \"v19.1.0-next.0\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/30094","RelatedDescription":"Closed or merged PR \"Bump version to \"v19.1.0-next.0\" with changelog.\" (#30094)"},{"Id":"2698194641","IsPullRequest":true,"CreatedAt":"2024-11-27T11:29:06","Actor":"crisbeto","Number":"30093","RawContent":null,"Title":"docs: release notes for the v19.0.1 release","State":"closed","Body":"Cherry-picks the changelog from the \"19.0.x\" branch to the next branch (main).","Url":"https://github.com/angular/components/pull/30093","RelatedDescription":"Closed or merged PR \"docs: release notes for the v19.0.1 release\" (#30093)"},{"Id":"2698191875","IsPullRequest":true,"CreatedAt":"2024-11-27T11:23:56","Actor":"crisbeto","Number":"30092","RawContent":null,"Title":"Bump version to \"v19.0.1\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/30092","RelatedDescription":"Closed or merged PR \"Bump version to \"v19.0.1\" with changelog.\" (#30092)"},{"Id":"2696261964","IsPullRequest":false,"CreatedAt":"2024-11-26T22:24:47","Actor":"gillerr","Number":"30089","RawContent":null,"Title":"bug(MatFormField): textarea can be reduce to a smaller height than it's content","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nA `textarea` within a `mat-form-field` can be resized using the mouse. If its height is reduced to less than the height of a single line of text, a vertical scrollbar will appear, and the text within the `textarea` will become truncated. This occurs while the parent `mat-form-field` maintains a minimum height of 56px.\n\n\n### Reproduction\n\nStackBlitz link:  https://stackblitz.com/edit/components-issue-starter-wybpxw?file=src%2Findex.html,src%2Fmain.ts\nSteps to reproduce:\n1.  using the mouse, reduce the `textarea` height below 24pixels => a vertical scrollbar appears\n\nThis bug can also be reproduced on Material's documentation: https://material.angular.io/components/form-field/overview#form-field-overview\n\n### Expected Behavior\n\nIt should not be possible to reduce a `textarea` height below 24px, which represents a single line of text.\n\n### Actual Behavior\n\nWhen a `textarea` height is reduced below 24px, a vertical scrollbar appears even though the parent `mat-form-field` keeps a minimal height of 56px.\n\nI also noticed that when the `textarea` height is reduced from 28px to 27px, the text within the `textarea` is moved up by 1px. The same behavior can be observed down to 24px. I couldn't understand why this occurs and I'm not sure it is related to the height problem described above.\n\n### Environment\n\n- Angular: 18.2.8\n- CDK/Material: 18.2.8 (but could be reproduced on all versions of the Material documentation)\n- Browser(s): Edge 131.0.2903.51 / Chrome 130.0.6723.116\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows / Ubuntu\n","Url":"https://github.com/angular/components/issues/30089","RelatedDescription":"Open issue \"bug(MatFormField): textarea can be reduce to a smaller height than it's content\" (#30089)"},{"Id":"2694674511","IsPullRequest":true,"CreatedAt":"2024-11-26T17:28:46","Actor":"JankaSvK","Number":"30088","RawContent":null,"Title":"fix(docs): Fix missing comma in the example theme config","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/30088","RelatedDescription":"Closed or merged PR \"fix(docs): Fix missing comma in the example theme config\" (#30088)"},{"Id":"2691642383","IsPullRequest":false,"CreatedAt":"2024-11-26T09:50:36","Actor":"martinboue","Number":"30082","RawContent":null,"Title":"docs-bug(list): `list-item-hover-leading-icon-color` token is missing in doc","State":"closed","Body":"### Documentation Feedback\n\nFor Angular Material v19, token `list-item-hover-leading-icon-color` is missing in the [style documentation for the List component](https://material.angular.io/components/list/styling):\n\n![Image](https://github.com/user-attachments/assets/6e68677c-2e47-4f4f-8774-0c54ed498acd)\n\nbut it can be used in mixins:\n```\nhtml {\n   @include mat.list-overrides((\n      list-item-hover-leading-icon-color: red\n   ));\n}\n```\n\nand works fine:\n![Image](https://github.com/user-attachments/assets/6ee993ac-8e88-4b27-842c-4dc1168275c9)\n\n\n\n\n### Affected documentation page\n\nhttps://material.angular.io/components/list/styling","Url":"https://github.com/angular/components/issues/30082","RelatedDescription":"Closed issue \"docs-bug(list): `list-item-hover-leading-icon-color` token is missing in doc\" (#30082)"},{"Id":"2693896400","IsPullRequest":true,"CreatedAt":"2024-11-26T09:50:35","Actor":"crisbeto","Number":"30084","RawContent":null,"Title":"build: some tokens not being extracted","State":"closed","Body":"Fixes that the token extraction script wasn't exposing some tokens, because it failed to determine their type. The two main root causes I saw were that some tokens aren't defined in M3 and some tokens were hardcoded. I've also added a hard error in case we can't resolve the type of a token.\r\n\r\nFixes #30082.","Url":"https://github.com/angular/components/pull/30084","RelatedDescription":"Closed or merged PR \"build: some tokens not being extracted\" (#30084)"},{"Id":"2691799265","IsPullRequest":false,"CreatedAt":"2024-11-25T18:37:36","Actor":"martinboue","Number":"30083","RawContent":null,"Title":"feat(theming): Mixins for reading component style tokens","State":"open","Body":"### Feature Description\n\nMixins to get values from a component theme that takes a token as parameter, for example:\n```\np {\n   color: @include mat.button-get(text-label-text-color);\n}\n```\nit would generate:\n```\np {\n   color: var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary)); // <== Actual value used for text-button\n}\n```\n\nIdeally, we would have as many mixins as there are components (+core) and we could use the same tokens as the `mat.<component>-overrides` mixins.\n\n> The `mat.<component>-get` mixin name is a proposal, open to suggestions.\n\n### Use Case\n\nI have a custom component and I want to apply the same style as a material component. I also want to make sure that they are always in sync when I change my theme.\n\nFor example, I want to have a text `<p>` with the same font color as my `mat-button` next to it.\n\nFor now, I need to rely on private CSS variables to do that, which is not ideal for maintainability.","Url":"https://github.com/angular/components/issues/30083","RelatedDescription":"Open issue \"feat(theming): Mixins for reading component style tokens\" (#30083)"}],"ResultType":"GitHubIssue"}},"RunOn":"2024-12-02T03:30:02.4303683Z","RunDurationInMilliseconds":1600}