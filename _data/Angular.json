{"Data":{"Angular-Issues":{"Issues":[{"Id":"1091265910","IsPullRequest":true,"CreatedAt":"2021-12-30T19:14:38","Actor":"JoostK","Number":"44587","RawContent":null,"Title":"fix(compiler-cli): various improvements to import generation logic","State":"open","Body":"See individual commits.\r\n\r\nCloses #44414\r\nFixes #43624","Url":"https://github.com/angular/angular/pull/44587","RelatedDescription":"Open PR \"fix(compiler-cli): various improvements to import generation logic\" (#44587)"},{"Id":"1091203534","IsPullRequest":false,"CreatedAt":"2021-12-30T16:39:11","Actor":"pauldraper","Number":"44586","RawContent":null,"Title":"Tree shakeable components/directives/pipes","State":"open","Body":"### Which @angular/* package(s) are relevant/releated to the feature request?\r\n\r\ncompiler\r\n\r\n### Description\r\n\r\nAngular mutates classes with properties like so:\r\n\r\n```\r\nclass LowerCasePipe {\r\n    transform(value) {\r\n        if (value == null)\r\n            return null;\r\n        if (typeof value !== 'string') {\r\n            throw invalidPipeArgumentError(LowerCasePipe, value);\r\n        }\r\n        return value.toLowerCase();\r\n    }\r\n}\r\nLowerCasePipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LowerCasePipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });\r\nLowerCasePipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LowerCasePipe, name: \"lowercase\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LowerCasePipe, decorators: [{\r\n            type: Pipe,\r\n            args: [{ name: 'lowercase' }]\r\n        }] });\r\n ```\r\n\r\nThis prevents tree shaking.\r\n\r\nDemonstration with rollup, webpack, uglify, terser: https://github.com/pauldraper/angular-doesnt-tree-shake\r\n\r\n### Proposed solution\r\n\r\nIf Angular compiler emitted static class members, instead of mutating classes, tree shaking would work.\r\n\r\n### Alternatives considered\r\n\r\nI noticed the angular/angular-cli project has a \"@angular-devkit/build-optimizer\" package.\r\n\r\nHowever, it's undocumented, and after playing around with it, AFAIK works only for @angular-scoped npm packages, requries packages be installed in a certain location....has a whole mess of issues.\r\n\r\nMy best alternative solution is probably forking that.\r\n\r\nI think the best solution however is to just have ngtsc emit tree shakeable code from the start.","Url":"https://github.com/angular/angular/issues/44586","RelatedDescription":"Open issue \"Tree shakeable components/directives/pipes\" (#44586)"},{"Id":"1091172846","IsPullRequest":true,"CreatedAt":"2021-12-30T15:34:45","Actor":"SerheyDolgushev","Number":"44585","RawContent":null,"Title":"docs: fixed meetup URL","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nMeetup URL contains a quotation mark at the end.\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe redundant extra quotation mark is removed from meetup URL.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/44585","RelatedDescription":"Open PR \"docs: fixed meetup URL\" (#44585)"},{"Id":"1091143913","IsPullRequest":false,"CreatedAt":"2021-12-30T14:38:40","Actor":"yuriybelike","Number":"44583","RawContent":null,"Title":"docs: No longer valid link in https://angular.io/guide/npm-packages","State":"open","Body":"### Description\r\n\r\nThe \"Library support\" link in the blue \"Library developers\" alert in https://angular.io/guide/npm-packages#:~:text=Library%20Support,. no longer points to anything useful. It is redirected to the repo main URL.\r\n\r\n### What is the affected URL?\r\n\r\nhttps://angular.io/guide/npm-packages#packagejson\r\n\r\n### Please provide the steps to reproduce the issue\r\n\r\n1. Go to https://angular.io/guide/npm-packages\r\n1. Scroll down to \"package.json\" section, to the blue alert at the end\r\n1. Click on \"Library Support\"\r\n1. Be navigated to \r\n\r\n### Please provide the expected behavior vs the actual behavior you encountered\r\n\r\nExpected: A \"CLI wiki page\"\r\nActual: Main page of the Angular CLI repo (https://github.com/angular/angular-cli)\r\n\r\n### Please provide a screenshot if possible\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n### Is this a browser-specific issue? If so, please specify the device, browser, and version.\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/44583","RelatedDescription":"Open issue \"docs: No longer valid link in https://angular.io/guide/npm-packages\" (#44583)"},{"Id":"1091137430","IsPullRequest":true,"CreatedAt":"2021-12-30T14:26:42","Actor":"AlirezaEbrahimkhani","Number":"44582","RawContent":null,"Title":"refactor(docs-infra): fix ngOnChange description issue","State":"open","Body":"ngOnChange respond when Angular sets or resets data-bound @input properties and description of the ngOnChanges should be `When an [input](#input) binding value changes` instead of `When an [input](#input)/[output](#output) binding value changes`\r\n\r\nresolves angular#44559\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [x] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/44582","RelatedDescription":"Open PR \"refactor(docs-infra): fix ngOnChange description issue\" (#44582)"},{"Id":"1089834029","IsPullRequest":true,"CreatedAt":"2021-12-30T14:23:27","Actor":"AlirezaEbrahimkhani","Number":"44572","RawContent":null,"Title":"docs(upgrade glossary): fix ngOnChange description issue in glossary.md ","State":"closed","Body":"ngOnChange respond when Angular sets or resets data-bound @input properties and description of the ngOnChanges should be `When an [input](#input) binding value changes` instead of `When an [input](#input)/[output](#output) binding value changes`\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [x] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/44572","RelatedDescription":"Closed or merged PR \"docs(upgrade glossary): fix ngOnChange description issue in glossary.md \" (#44572)"},{"Id":"1088713144","IsPullRequest":false,"CreatedAt":"2021-12-30T11:23:03","Actor":"A11Ybot-OP","Number":"44566","RawContent":null,"Title":"Website Accessibility-WCAG 1.3.1-Ensures <li> elements are used semantically-ul[role=\"navigation\"] > li:nth-child(5)","State":"closed","Body":"### Description\r\n\r\nIssue \r\nEnsures ````<li> elements are used semantically````\r\n\r\nTarget application\r\nhttps://angular.io/\r\n\r\nPath \r\n````ul[role=\"navigation\"] > li:nth-child(5)````\r\n\r\nSnippet\r\n````<li class=\"ng-star-inserted\"><a class=\"nav-link\" href=\"https://blog.angular.io/\" title=\"Blog.\"><span class=\"nav-link-inner\">Blog</span></a></li>````\r\n\r\nFix the following:\r\nList item does not have a ````<ul>, <ol>```` parent element without a role, or a role=\"list\"\r\n\r\nEnvironment\r\nMicrosoft Edge version 96.0.1054.62\r\n\r\n","Url":"https://github.com/angular/angular/issues/44566","RelatedDescription":"Closed issue \"Website Accessibility-WCAG 1.3.1-Ensures <li> elements are used semantically-ul[role=\"navigation\"] > li:nth-child(5)\" (#44566)"},{"Id":"1088712631","IsPullRequest":false,"CreatedAt":"2021-12-30T11:23:02","Actor":"A11Ybot-OP","Number":"44565","RawContent":null,"Title":"Website Accessibility-WCAG 1.3.1-Ensures <li> elements are used semantically-ul[role=\"navigation\"] > li:nth-child(4)","State":"closed","Body":"### Description\r\n\r\n### Description\r\n\r\nIssue \r\nEnsures ````<li> elements are used semantically````\r\n\r\nTarget application\r\nhttps://angular.io/\r\n\r\nPath \r\n````ul[role=\"navigation\"] > li:nth-child(4)````\r\n\r\nSnippet\r\n````<li class=\"ng-star-inserted\"><a class=\"nav-link\" href=\"events\" title=\"Events.\"><span class=\"nav-link-inner\">Events</span></a></li>````\r\n\r\nFix the following:\r\nList item does not have a ````<ul>, <ol>```` parent element without a role, or a role=\"list\"\r\n\r\nEnvironment\r\nMicrosoft Edge version 96.0.1054.62","Url":"https://github.com/angular/angular/issues/44565","RelatedDescription":"Closed issue \"Website Accessibility-WCAG 1.3.1-Ensures <li> elements are used semantically-ul[role=\"navigation\"] > li:nth-child(4)\" (#44565)"},{"Id":"1088712004","IsPullRequest":false,"CreatedAt":"2021-12-30T11:23:02","Actor":"A11Ybot-OP","Number":"44564","RawContent":null,"Title":"Website Accessibility-WCAG 1.3.1-Ensures <li> elements are used semantically-ul[role=\"navigation\"] > li:nth-child(3)","State":"closed","Body":"### Description\r\n\r\n### Description\r\n\r\nIssue \r\nEnsures ````<li> elements are used semantically````\r\n\r\nTarget application\r\nhttps://angular.io/\r\n\r\nPath \r\n````ul[role=\"navigation\"] > li:nth-child(3)````\r\n\r\nSnippet\r\n````<li class=\"ng-star-inserted\"><a class=\"nav-link\" href=\"resources\" title=\"Resources.\"><span class=\"nav-link-inner\">Resources</span></a></li>````\r\n\r\nFix the following:\r\nList item does not have a ````<ul>, <ol>```` parent element without a role, or a role=\"list\"\r\n\r\nEnvironment\r\nMicrosoft Edge version 96.0.1054.62","Url":"https://github.com/angular/angular/issues/44564","RelatedDescription":"Closed issue \"Website Accessibility-WCAG 1.3.1-Ensures <li> elements are used semantically-ul[role=\"navigation\"] > li:nth-child(3)\" (#44564)"},{"Id":"1088711457","IsPullRequest":false,"CreatedAt":"2021-12-30T11:23:02","Actor":"A11Ybot-OP","Number":"44563","RawContent":null,"Title":"Website Accessibility-WCAG 1.3.1-Ensures <li> elements are used semantically-ul[role=\"navigation\"] > li:nth-child(2)","State":"closed","Body":"### Description\r\n\r\nIssue \r\nEnsures ````<li> elements are used semantically````\r\n\r\nTarget application\r\nhttps://angular.io/\r\n\r\nPath\r\n````ul[role=\"navigation\"] > li:nth-child(2)````\r\n\r\nSnippet\r\n````<li class=\"ng-star-inserted\"><a class=\"nav-link\" href=\"docs\" title=\"Docs.\"><span class=\"nav-link-inner\">Docs</span></a></li>````\r\n\r\nFix the following:\r\nList item does not have a ````<ul>, <ol>```` parent element without a role, or a role=\"list\"\r\n\r\nEnvironment\r\nMicrosoft Edge version 96.0.1054.62\r\n","Url":"https://github.com/angular/angular/issues/44563","RelatedDescription":"Closed issue \"Website Accessibility-WCAG 1.3.1-Ensures <li> elements are used semantically-ul[role=\"navigation\"] > li:nth-child(2)\" (#44563)"},{"Id":"1090998063","IsPullRequest":false,"CreatedAt":"2021-12-30T09:59:25","Actor":"m7mdrmdan","Number":"44581","RawContent":null,"Title":"after upgrading to angular 13 when run ng test --code-coverage  not working !!!","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncompiler-cli, upgrade\n\n### Is this a regression?\n\nYes\n\n### Description\n\nafter upgrading to angular 13 when run ng test --code-coverage \r\nError: Module not found: Error: Can't resolve 'core-js/proposals/reflect-metadata'\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 13.1.2\r\nNode: 14.15.1\r\nPackage Manager: npm 6.14.8\r\nOS: win32 x64\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/44581","RelatedDescription":"Open issue \"after upgrading to angular 13 when run ng test --code-coverage  not working !!!\" (#44581)"},{"Id":"1090959711","IsPullRequest":true,"CreatedAt":"2021-12-30T08:45:08","Actor":"crisbeto","Number":"44580","RawContent":null,"Title":"feat(compiler): add support for safe calls in templates","State":"open","Body":"Adds support for safely calling functions that may be undefined inside template expressions. E.g. `maybeUndefined?.()`\r\n\r\nFixes #42298.","Url":"https://github.com/angular/angular/pull/44580","RelatedDescription":"Open PR \"feat(compiler): add support for safe calls in templates\" (#44580)"},{"Id":"1090826298","IsPullRequest":false,"CreatedAt":"2021-12-30T01:42:09","Actor":"jeffschulzusc","Number":"44579","RawContent":null,"Title":"\"budgets\" in build configuration: clarify and add ...","State":"open","Body":"### Which @angular/* package(s) are relevant/releated to the feature request?\n\ncompiler-cli\n\n### Description\n\n#### [Configuring size budgets](https://angular.io/guide/build#configuring-size-budgets)\r\n\r\n1. \"_initial - The size of JavaScript needed for bootstrapping the application. Defaults to warning @ 500kb and erroring at 1mb_\" \r\nthis is not very clear what it means ... is it exactly the value shown in the table of the cli ng build output \"Initial Total\" ?  if so, **can we mention that in the doc**\r\n2. \"_baseline_\" \r\n  im not setting this in my budgets ... does that mean it defaults to 0 ?\r\n  the effect of baseline is unclear, **can we add a sample snippet** to doc that has a \"baseline\" value ?\r\n3. \"_anyScript_\"\r\nnot sure how useful it is, because ex. i have many lazy-loaded chunks i wish to keep small, but my vendor.\\*.js and main.\\*.js will always be comparatively large ... request: **can we add \"anyLazyLoadedScript\"** property ?\r\n4. similarly, \"_bundle_\",\"_name_\" ... how useful is it if have \"outputHashing\" : \"all\" ? **can the name be regex or wildcard** ? ex: \"main.\\*.js\", \"vendor.\\*,js\"\r\n5. request **property \"assets\"** ... so can budget the size of the assets folder ... ex. fonts here can be very big    \n\n### Proposed solution\n\nsee Description ...\r\n\r\nfor example:\r\n<pre>\r\n             \"budgets\": [\r\n                {\r\n                  \"type\": \"initial\",\r\n                  \"maximumError\": \"3.25mb\"\r\n                },\r\n                {\r\n                  \"type\": \"bundle\",\r\n                  \"name\": \"main.*.js\",\r\n                  \"maximumError\": \"1.5mb\"\r\n                },\r\n                {\r\n                  \"type\": \"bundle\",\r\n                  \"name\": \"vendor.*.js\",\r\n                  \"maximumError\": \"2mb\"\r\n                },\r\n               {\r\n                  \"type\": \"anyLazyLoadedScript\",\r\n                  \"maximumError\": \"1mb\"\r\n                },\r\n                 {\r\n                  \"type\": \"anyComponentStyle\",\r\n                  \"maximumError\": \"10kb\"\r\n                },\r\n                {\r\n                  \"type\": \"assets\",\r\n                  \"maximumError\": \"2.5mb\"\r\n                },\r\n                {\r\n                  \"type\": \"all\",\r\n                  \"maximumError\": \"3.75mb\"\r\n                }\r\n              ]\r\n</pre>\r\n \n\n### Alternatives considered\n\ni could not achieve the result i wanted given the currently available properties","Url":"https://github.com/angular/angular/issues/44579","RelatedDescription":"Open issue \"\"budgets\" in build configuration: clarify and add ...\" (#44579)"},{"Id":"1090728819","IsPullRequest":true,"CreatedAt":"2021-12-29T20:14:59","Actor":"dario-piotrowicz","Number":"44578","RawContent":null,"Title":"fix(animations): retain triggers values for moved tracked list items","State":"open","Body":"when reordering a list with animations the list items lose their current\r\ntriggers values, that is because the reordering of an item is implemented\r\nas follows (_note:_ the following implementation has been added in PR #23534)\r\n - the item is removed and marked _setForRemoval_\r\n - the item is re-inserted, and the _setForRemoval_ is changed to _setForMove_\r\n - the player set for animating the removal is destroyed when _setForMove_ is detected\r\n\r\nthe above steps allow the element not to be animated and to keep its styling but the\r\ntriggers values get lost since the removal transition/player has already been initialized,\r\nso this change adds a _previousTriggersValues_ map in the _REMOVAL_FLAG_ field in order to\r\nrestore the triggers values if/when the removal turns out to be a move, changing the above steps to:\r\n - the item is removed and marked setForRemoval __and its current triggers values are saved as well__\r\n - the item is re-inserted, and the setForRemoval is changed to setForMove\r\n - the player set for animating the removal is destroyed when setForMove is detected __and the\r\n   trigger values are re-applied in the engine's statesByElement map__\r\n\r\nresolves #29526\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## Issue\r\n\r\nIssue Number: #29526\r\n\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n___\r\n\r\n@jessicajaniuk 😄 ","Url":"https://github.com/angular/angular/pull/44578","RelatedDescription":"Open PR \"fix(animations): retain triggers values for moved tracked list items\" (#44578)"},{"Id":"1090716525","IsPullRequest":false,"CreatedAt":"2021-12-29T19:45:01","Actor":"Carlosamouco","Number":"44577","RawContent":null,"Title":"RouteConfigLoadStart event not firing if the navigation of a lazy loaded route was previously canceled","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\nrouter\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nIf the navigation of a lazy loaded route was previously canceled, the `RouteConfigLoadStart` event is never fired again, although the `RouteConfigLoadEnd` fires. \r\n\r\nIt seams that the loader that contains the observable is returned immediately without triggering the `RouteConfigLoadStart`. This invalidates the possibility to track the loading progress of a route when the navigation is canceled and resumed sometime in the future (see code below).\r\n\r\nI am not sure how I can provide a reproduction for this since the loading of the route is network dependent, but I think that by looking at the code below, is easy to understand the problem.\r\n\r\n[router_config_loader.ts](https://github.com/angular/angular/blob/master/packages/router/src/router_config_loader.ts)\r\n```javascript \r\nload(parentInjector: Injector, route: Route): Observable<LoadedRouterConfig> {\r\n    if (route._loader$) {\r\n      return route._loader$;\r\n    }\r\n\r\n    if (this.onLoadStartListener) {\r\n      this.onLoadStartListener(route);\r\n    }\r\n...\r\n```\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: 13.1.2\r\nNode: 12.22.2\r\nPackage Manager: npm 6.14.13\r\nOS: win32 x64\r\n\r\nAngular: 13.1.1\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... localize, platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1301.2\r\n@angular-devkit/build-angular   13.1.2\r\n@angular-devkit/core            13.1.2\r\n@angular-devkit/schematics      13.1.2\r\n@angular/cli                    13.1.2\r\n@schematics/angular             13.1.2\r\nng-packagr                      13.0.8\r\nrxjs                            7.4.0\r\ntypescript                      4.4.4\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/44577","RelatedDescription":"Open issue \"RouteConfigLoadStart event not firing if the navigation of a lazy loaded route was previously canceled\" (#44577)"},{"Id":"1090588118","IsPullRequest":false,"CreatedAt":"2021-12-29T15:19:56","Actor":"ah1508","Number":"44576","RawContent":null,"Title":"Improve documentation about AngularWebpackPlugin or give an official seed project","State":"open","Body":"### Which @angular/* package(s) are relevant/releated to the feature request?\n\n_No response_\n\n### Description\n\nFor those who want to use angular without CLI, `@ngtools/webpack` provides a loader and a plugin which helps to have a working angular application with a minimal webpack.config.js. \r\n\r\n```javascript\r\nimport path from 'path';\r\nimport HtmlWebpackPlugin from 'html-webpack-plugin';\r\nimport { AngularWebpackPlugin } from '@ngtools/webpack';\r\nimport linkerPlugin from '@angular/compiler-cli/linker/babel';\r\n\r\nconst __dirname = path.dirname(new URL(import.meta.url).pathname)\r\n\r\nexport default function (env, options) {\r\n    return {\r\n        entry: { polyfills: \"./src/polyfills.ts\", main: \"./src/main.ts\" },\r\n        resolve: { extensions: ['.js', '.ts'] },\r\n        output: { path: path.resolve(__dirname, 'dist'), filename: \"[name].js\" },\r\n        module: {\r\n            rules: [\r\n                { test: /\\.ts$/, use: '@ngtools/webpack' },\r\n                { test: /\\.m?js$/, use: { loader: 'babel-loader', options: { plugins: [linkerPlugin] } } }\r\n            ]\r\n        },\r\n        plugins: [\r\n            new AngularWebpackPlugin(),\r\n            new HtmlWebpackPlugin({ template: \"./src/index.html\" })\r\n        ],\r\n        devtool: \"source-map\",\r\n        devServer: {\r\n            historyApiFallback: true\r\n        }\r\n    }\r\n};\r\n\r\n```\r\n\r\nHowever bundle size and startup time are not as good as what we get with the CLI :\r\n\r\n* `npm start` : \r\n  * is a shortcut to `ng serve` with the CLI version and takes 6 seconds.\r\n  * is a shortcut to `webpack-dev-server  --mode development` without the CLI and takes 19 seconds.\r\n* `npm run build` : \r\n  * is a shortcut to `ng build` with the CLI and results in a 199 kb bundle (main.js + runtime.js)\r\n  * is a shortcut to `webpack --mode production` without the CLI and results in a 475 kb bundle (main.js).\r\n\r\nthe tsconfig.json is the same (the one created by the CLI).\r\n\n\n### Proposed solution\n\nThe documentation of the plugin could explain how to get an optimized bundle and a good startup time (which is not as important as the bundle size since the app starts only once, after that the hot reload is very fast).\r\n\n\n### Alternatives considered\n\nA seed project we could get with a npx command and which would include : \r\n\r\n* package.json\r\n* webpack.config.js (minimalist but tuned for startup time and bundle size).\r\n* tsconfig.json\r\n* index.html\r\n* main.ts, app.module.ts, app.component.ts","Url":"https://github.com/angular/angular/issues/44576","RelatedDescription":"Open issue \"Improve documentation about AngularWebpackPlugin or give an official seed project\" (#44576)"},{"Id":"1090549083","IsPullRequest":true,"CreatedAt":"2021-12-29T14:15:47","Actor":"yousafnawaz","Number":"44575","RawContent":null,"Title":"docs(docs-infra): fix numbering of 'running your application locally' steps","State":"open","Body":"fix numbering of 'running your application locally' steps and corrected step 1 statement\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n![image](https://user-images.githubusercontent.com/91653057/147674065-9e174341-b3be-4e0e-98e2-cb5d2c0b0a51.png)\r\n\r\n\r\nIssue Number: N/A \r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/44575","RelatedDescription":"Open PR \"docs(docs-infra): fix numbering of 'running your application locally' steps\" (#44575)"},{"Id":"1090532008","IsPullRequest":true,"CreatedAt":"2021-12-29T13:47:04","Actor":"yousafnawaz","Number":"44574","RawContent":null,"Title":"docs(docs-infra): add missing npm install instruction","State":"open","Body":"add missing npm install instruction to start->deploying an application\r\n\r\nFixes #44542\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: #44542 \r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/44574","RelatedDescription":"Open PR \"docs(docs-infra): add missing npm install instruction\" (#44574)"},{"Id":"1089909042","IsPullRequest":true,"CreatedAt":"2021-12-28T13:49:02","Actor":"dimakuba","Number":"44573","RawContent":null,"Title":"feat(router): take only the first emitted value of every resolver","State":"open","Body":"For now the router waits for resolvers to complete even they emitted at\r\nleast one value. The changes make it possible to take only the first\r\nemitted value of every resolver and proceed the navigation.\r\n","Url":"https://github.com/angular/angular/pull/44573","RelatedDescription":"Open PR \"feat(router): take only the first emitted value of every resolver\" (#44573)"},{"Id":"1089818832","IsPullRequest":false,"CreatedAt":"2021-12-28T11:27:54","Actor":"yuwu9145","Number":"44571","RawContent":null,"Title":"ng-dev build-and-link does not work","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\nDon't known / other\n\n### Is this a regression?\n\nYes\n\n### Description\n\nAccording to [developer guid](https://github.com/angular/angular/blob/master/docs/DEVELOPER.md#testing-changes-against-a-local-libraryproject),\r\n\r\n`yarn ng-dev build-and-link <path-to-local-project-root>` should work.\r\n\r\nHowever, looks like `build-and-link` is not available.\r\n\r\n```sh\r\nng-dev <command>\r\n\r\nCommands:\r\n  ng-dev commit-message <command>\r\n  ng-dev format <command>\r\n  ng-dev pr <command>\r\n  ng-dev pullapprove <command>\r\n  ng-dev release <command>\r\n  ng-dev ts-circular-deps <command>\r\n  ng-dev caretaker <command>\r\n  ng-dev misc <command>\r\n\r\nOptions:\r\n  --help     Show help                                                                                         [boolean]\r\n  --version  Show version number                                                                               [boolean]\r\n\r\nUnknown arguments: build-and-link, /Users/yuchao/Projects/angular-accessor\r\nerror Command failed with exit code 1.\r\n```\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\n_                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n\r\n\r\nAngular CLI: 13.0.4\r\nNode: 14.15.0\r\nPackage Manager: yarn 1.22.17\r\nOS: darwin x64\r\n\r\nAngular: undefined\r\n...\r\n\r\nPackage                                Version\r\n----------------------------------------------------------------\r\n@angular-devkit/architect              0.1300.4\r\n@angular-devkit/build-angular          13.0.4\r\n@angular-devkit/build-optimizer        0.1300.4\r\n@angular-devkit/core                   13.0.4\r\n@angular-devkit/schematics             13.0.4\r\n@angular/animations-12                 12.2.13\r\n@angular/cli                           13.0.4\r\n@angular/common-12                     12.2.13\r\n@angular/core-12                       12.2.13\r\n@angular/dev-infra-private             0.0.0-486b6e2b6388e2bebf19e6daf0b4b997df62693c\r\n@angular/forms-12                      12.2.13\r\n@angular/platform-browser-12           12.2.13\r\n@angular/platform-browser-dynamic-12   12.2.13\r\n@angular/platform-server-12            12.2.13\r\n@angular/router-12                     12.2.13\r\n@bazel/bazelisk                        1.10.1\r\n@bazel/buildifier                      4.2.3\r\n@bazel/concatjs                        4.4.6\r\n@bazel/esbuild                         4.4.6\r\n@bazel/ibazel                          v0.15.10\r\n@bazel/jasmine                         4.4.6\r\n@bazel/protractor                      4.4.6\r\n@bazel/rollup                          4.4.6\r\n@bazel/runfiles                        4.4.6\r\n@bazel/terser                          4.4.6\r\n@bazel/typescript                      4.4.6\r\n@schematics/angular                    13.0.4\r\nrxjs                                   6.6.7\r\ntypescript                             4.5.2\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/44571","RelatedDescription":"Open issue \"ng-dev build-and-link does not work\" (#44571)"},{"Id":"1089322664","IsPullRequest":false,"CreatedAt":"2021-12-27T17:43:46","Actor":"ZBAGI","Number":"44569","RawContent":null,"Title":"Incorrect DatePipe year formatter","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncommon\n\n### Is this a regression?\n\nNo\n\n### Description\n\n`DatePipe` has incorrect `Y`, `YY`, `YYY` and `YYYY` formatter for dates that first thursday happens to be in previous year.\r\nAll of the year formats listed above uses [`weekNumberingYearGetter`](https://github.com/angular/angular/blob/fe691935091aaf7090864c8111a15f7cc7e53b6c/packages/common/src/i18n/format_date.ts#L486) that internally uses [`getThursdayThisWeek`](https://github.com/angular/angular/blob/fe691935091aaf7090864c8111a15f7cc7e53b6c/packages/common/src/i18n/format_date.ts#L434) which causes year to be shifted back before parsed to string.\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 13.0.4\r\nNode: 16.13.0\r\nPackage Manager: npm 8.1.4\r\nOS: win32 x64\r\n\r\nAngular: 13.0.3\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... material, platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1300.4\r\n@angular-devkit/build-angular   13.0.4\r\n@angular-devkit/core            13.0.4\r\n@angular-devkit/schematics      13.0.4\r\n@angular/cli                    13.0.4\r\n@angular/flex-layout            13.0.0-beta.36\r\n@schematics/angular             13.0.4\r\nrxjs                            7.4.0\r\ntypescript                      4.4.4\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/44569","RelatedDescription":"Closed issue \"Incorrect DatePipe year formatter\" (#44569)"},{"Id":"1089365062","IsPullRequest":true,"CreatedAt":"2021-12-27T17:06:09","Actor":"dario-piotrowicz","Number":"44570","RawContent":null,"Title":"refactor(docs-infra): remove IE11 code","State":"open","Body":"since IE11 is no longer a supported browser, remove angular.io code\r\nimplemented specifically for IE11 support\r\n\r\nthis change reverts the following PRs:\r\n - #26059 (slightly)\r\n - #28188 (fully)\r\n - #32871 (fully)\r\n - #41183 (partially)\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [x] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## Issue\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n## Other information\r\n @gkalpak 🙂 👍 ","Url":"https://github.com/angular/angular/pull/44570","RelatedDescription":"Open PR \"refactor(docs-infra): remove IE11 code\" (#44570)"},{"Id":"1089181366","IsPullRequest":true,"CreatedAt":"2021-12-27T11:34:29","Actor":"dario-piotrowicz","Number":"44567","RawContent":null,"Title":"docs(animations): add section about animating reordering list items","State":"open","Body":"add a section regarding reordering list items in the complex animation\r\nsequences guide to help developers rememeber to use a `TrackByFunction`\r\nwhenever they are animating `*ngFor` list items which change their\r\nordering\r\n\r\nas suggested here: https://github.com/angular/angular/issues/42750#issuecomment-979127165\r\n\r\nrelates to issue #28040 and #42750\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## Issue\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n\r\n## Other information\r\n - As suggested by @petebacondarwin 😄 \r\n - I _think_ the complex animation sequences guide is the right place for this section, please let me know if you disagree 🙂  \r\n - @jessicajaniuk 🙂 ","Url":"https://github.com/angular/angular/pull/44567","RelatedDescription":"Open PR \"docs(animations): add section about animating reordering list items\" (#44567)"},{"Id":"1088709452","IsPullRequest":false,"CreatedAt":"2021-12-26T06:37:51","Actor":"A11Ybot-OP","Number":"44562","RawContent":null,"Title":"Website Accessibility-WCAG 1.3.1-Ensures <li> elements are used semantically-ul[role=\"navigation\"] > li:nth-child(1)","State":"open","Body":"### Description\r\n\r\nIssue \r\nEnsures ````<li> elements are used semantically````\r\n\r\nTarget application\r\nhttps://angular.io/\r\n\r\nPath\r\nul[role=\"navigation\"] > li:nth-child(1)\r\n\r\nSnippet\r\n```\r\n<li class=\"ng-star-inserted\"><a class=\"nav-link\" href=\"features\" title=\"Features.\"><span class=\"nav-link-inner\">Features</span></a></li>\r\n```\r\n\r\nHow to fix\r\nFix the following:\r\nList item does not have a ````<ul >, <ol>```` parent element without a role, or a role=\"list\"'\r\n\r\nEnvironment\r\nMicrosoft Edge version 96.0.1054.62\r\n\r\n","Url":"https://github.com/angular/angular/issues/44562","RelatedDescription":"Open issue \"Website Accessibility-WCAG 1.3.1-Ensures <li> elements are used semantically-ul[role=\"navigation\"] > li:nth-child(1)\" (#44562)"},{"Id":"1088563514","IsPullRequest":true,"CreatedAt":"2021-12-25T07:45:51","Actor":"crisbeto","Number":"44561","RawContent":null,"Title":"test: clean up more entryComponents usages","State":"open","Body":"Cleans up some more tests that were using `entryComponents`.","Url":"https://github.com/angular/angular/pull/44561","RelatedDescription":"Open PR \"test: clean up more entryComponents usages\" (#44561)"},{"Id":"1088435373","IsPullRequest":false,"CreatedAt":"2021-12-24T16:38:50","Actor":"123NeNaD","Number":"44560","RawContent":null,"Title":"Angular v13.0.0 is missing in CHANGELOG.md","State":"closed","Body":"### Description\n\nI was reading the [blog post](https://blog.angular.io/angular-v13-is-now-available-cce66f7bc296) for the new release of Angular v13, and in the end there is the link to the [CHANGELOG](https://github.com/angular/angular/blob/master/CHANGELOG.md) for more details. I noticed that changes for v13.0.0 are not included.\r\n\r\nI investigated a little and noticed that changes were included before, but they are removed in one of the latest commits. I think these changes should be in the CHANGELOG.md since they include all important breaking changes between v12 and v13.\r\n\r\nThis is the [commit](https://github.com/angular/angular/commit/532d7d436fa1e7a1ea97ea3288f0f6c6c4e34b71#diff-06572a96a58dc510037d5efa622f9bec8519bc1beab13c9f251e97e657a9d4ed) that removed the changes.\n\n### What is the affected URL?\n\nhttps://github.com/angular/angular/blob/master/CHANGELOG.md\n\n### Please provide the steps to reproduce the issue\n\n_No response_\n\n### Please provide the expected behavior vs the actual behavior you encountered\n\n_No response_\n\n### Please provide a screenshot if possible\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Is this a browser-specific issue? If so, please specify the device, browser, and version.\n\n_No response_","Url":"https://github.com/angular/angular/issues/44560","RelatedDescription":"Closed issue \"Angular v13.0.0 is missing in CHANGELOG.md\" (#44560)"},{"Id":"1087970065","IsPullRequest":false,"CreatedAt":"2021-12-23T20:15:55","Actor":"thirumanidev","Number":"44559","RawContent":null,"Title":"Does ngOnChanges() trigger when @Output property changed?","State":"open","Body":"### Description\n\nhttps://angular.io/guide/glossary#lifecycle-hook\r\nAs per this document, ngOnChanges() method can trigger for both @Input and @Output properties, but.\r\n\r\nI tested the ngOnChanges() method while changes occurring for the @Input and @Output properties.\r\nThe ngOnChanges() method triggers well in Child component if @input properties changed, but nothing happened on both Parent & Child components' ngOnChanges() method while changes occurring in @Output properties.\n\n### What is the affected URL?\n\nhttps://angular.io/guide/glossary#lifecycle-hook\n\n### Please provide the steps to reproduce the issue\n\n### Parent Component\r\n```\r\nngOnChanges(): void {\r\n  console.log(\"ngOnChanges from Parent\");\r\n}\r\nchild1OutputValue!: string;\r\n  child1OutputPrint(event: any) {\r\n  console.log(event);\r\n  this.child1OutputValue = event;\r\n}\r\n```\r\n\r\n`<app-child1 (child1Output)=\"child1OutputPrint($event)\"></app-child1>`\r\n\r\n### Child Component\r\n```\r\nngOnChanges(): void {\r\n  console.log(\"ngOnChanges from Child\");\r\n}\r\n@Output() child1Output = new EventEmitter();\r\noutputPass() {\r\n  this.child1Output.emit('Test output 123');\r\n}\r\n```\r\n`<button (click)=\"outputPass()\">Output</button>`\n\n### Please provide the expected behavior vs the actual behavior you encountered\n\nAs per the official document, I expected the ngOnChanges() method triggers on either Parent's or Child's. But neither triggered.\n\n### Please provide a screenshot if possible\n\n![image](https://user-images.githubusercontent.com/55808656/147287008-ad7959b8-a58a-403d-87a1-63a9fe75fd4a.png)\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Is this a browser-specific issue? If so, please specify the device, browser, and version.\n\n_No response_","Url":"https://github.com/angular/angular/issues/44559","RelatedDescription":"Open issue \"Does ngOnChanges() trigger when @Output property changed?\" (#44559)"},{"Id":"1087959956","IsPullRequest":false,"CreatedAt":"2021-12-23T19:55:06","Actor":"vitaly-t","Number":"44558","RawContent":null,"Title":"Support for AsyncIterable within ngFor","State":"open","Body":"### Description\r\n\r\nAngular can render native `Iterable` within its `ngFor` directive, but not `AsyncIterable`, complaining when we add `| async` filter to such a type.\r\n\r\n### Proposed solution\r\n\r\n`AsyncIterable` should be supported with `| async` filter, the same as for any `Observable`.\r\n\r\n### Alternatives considered\r\n\r\nWrapping native `AsyncIterable` into RXJS observable just to make it usable within HTML-rendering engine - isn't great, and it creates an unnecessary overhead for a native type, which adds a subscription logic (`AsyncIterable` is simpler, and it doesn't need any subscription logic)\r\n\r\n---\r\n\r\n**Afterthought:** It should work not just with `ngFor`, but everywhere where `| async` filter is applicable.","Url":"https://github.com/angular/angular/issues/44558","RelatedDescription":"Open issue \"Support for AsyncIterable within ngFor\" (#44558)"},{"Id":"1087895985","IsPullRequest":true,"CreatedAt":"2021-12-23T17:44:02","Actor":"dario-piotrowicz","Number":"44557","RawContent":null,"Title":"refactor(docs-infra): fix template eslint issues in aio examples","State":"open","Body":"the aio examples have various eslint issues regarding template rules, those\r\nare currently turned off and TODO comments have been added to them in the\r\nexamples eslintrc, fix such issues and remove the respective TODO comments\r\n\r\nthis also includes examples refactoring to use buttons for better accessibility,\r\nthis change tries to make the smallest amound of changes to the examples' behaviors\r\nand designs/UI\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [x] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## Issue\r\nIssue Number: N/A\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n## Other information\r\n@gkalpak 😃 👍 ","Url":"https://github.com/angular/angular/pull/44557","RelatedDescription":"Open PR \"refactor(docs-infra): fix template eslint issues in aio examples\" (#44557)"},{"Id":"1087831007","IsPullRequest":false,"CreatedAt":"2021-12-23T15:59:20","Actor":"childersd","Number":"44556","RawContent":null,"Title":"Simple API for checking if a path is accessible (would pass all guards)","State":"open","Body":"### Which @angular/* package(s) are relevant/releated to the feature request?\r\n\r\nrouter\r\n\r\n### Description\r\n\r\nImagine that you are adding menu entries for pages of your application. The menu includes pages (routes) that are not accessible depending on the user's role. Guards decline navigation to them if necessary.\r\n\r\nFor better UX, you only show those menu entries that are available to the current user.\r\n\r\n### Proposed solution\r\n\r\nIt would be great if you could ask the router whether a path is accessible based on the guards that are associated with it. For example,\r\n\r\n```typescript\r\nthis.router.isAccessible(\"admin\");\r\n```\r\n\r\nThis would return an observable that resolves (completes) to true or false, indicating accessibility. This would be based on any `canActivate`, `canActivateChild` or `canLoad` guards that target the specified path. By calling this method and subscribing to the returned observable you'd essentially perform a \"dry-run\" navigation event to check if it is cancelled (or altered) by any guards, without updating the view. Documentation should clearly state that guards should not have side effects when making use of this utility.\r\n\r\n### Alternatives considered\r\n\r\nAlternatively, you could extract the checks from the guards and group them into some service. Then guards and any other logic could ask it whether a given path is accessible.\r\n\r\nThe problem I have with this is that this partly defeats the purpose of having guards. For me, the power of Angular is that it is opinionated and that in-house solutions are very often unnecessary. Guards are testable in isolation and are the expected location for logic related to authorization of routes. \"Where's the logic that checks the permissions of a user before entering a certain page? — Oh, it's in the PermissionsGuard, of course.\"\r\n\r\nI hope this made sense. Thanks for your time and consideration. :)\r\n\r\n","Url":"https://github.com/angular/angular/issues/44556","RelatedDescription":"Open issue \"Simple API for checking if a path is accessible (would pass all guards)\" (#44556)"}],"ResultType":"GitHubIssue"},"AngularCli-Issues":{"Issues":[{"Id":"1091383351","IsPullRequest":false,"CreatedAt":"2021-12-31T02:24:16","Actor":"gyerts","Number":"22438","RawContent":null,"Title":"TypeError [ERR_WORKER_UNSUPPORTED_OPERATION] [ERR_WORKER_UNSUPPORTED_OPERATION]: process.chdir() is not supported in workers","State":"open","Body":"# 🐞 Bug report\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [x] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Is this a regression?\r\n\r\nYes it has been working with version `\"@angular-devkit/build-angular\": \"0.1102.2\"`, after upgrade to the `\"@angular-devkit/build-angular\": \"12.2.14\"` tests not working any more.\r\n\r\n### Description\r\n\r\nWhen running tests `bazel test //browserclient:test`, I see this error in the logs\r\n<pre><code>\r\nTypeError [ERR_WORKER_UNSUPPORTED_OPERATION] [ERR_WORKER_UNSUPPORTED_OPERATION]: process.chdir() is not supported in workers\r\n</code></pre>\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\nclone test project [https://github.com/gyerts/angular_bazel_architect_fork](https://github.com/gyerts/angular_bazel_architect_fork)\r\n`cd rules_nodejs/examples/angular_bazel_architect_fork/`\r\n\r\nrun `bazel test //browserclient:test`\r\neverything should work fine\r\n\r\nopen `browserclient/package.json`\r\nchange version of `@angular-devkit/build-angular` from \"0.1102.2\" to \"12.2.14\"\r\nrun `yarn install` to update `yarn.lock` file\r\nrun `bazel test //browserclient:test` <- now it fails\r\n\r\n\r\n## 🔥 Exception or Error\r\n\r\n<pre><code>\r\nTypeError [ERR_WORKER_UNSUPPORTED_OPERATION] [ERR_WORKER_UNSUPPORTED_OPERATION]: process.chdir() is not supported in workers\r\n    at process.unavailableInWorker [as chdir] (internal/process/worker_thread_only.js:12:11)\r\n    at Object.<anonymous> (browserclient/__chdir.js__:1:9)\r\n    at Module._compile (internal/modules/cjs/loader.js:1072:14)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1101:10)\r\n    at Module.load (internal/modules/cjs/loader.js:937:32)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:778:12)\r\n    at Module.require (internal/modules/cjs/loader.js:961:19)\r\n    at Module._preloadModules (internal/modules/cjs/loader.js:1231:12)\r\n    at loadPreloadModules (internal/bootstrap/pre_execution.js:468:5)\r\n    at MessagePort.<anonymous> (internal/main/worker_thread.js:151:5)\r\nTypeError [ERR_WORKER_UNSUPPORTED_OPERATION] [ERR_WORKER_UNSUPPORTED_OPERATION]: process.chdir() is not supported in workers\r\n    at process.unavailableInWorker [as chdir] (internal/process/worker_thread_only.js:12:11)\r\n    at Object.<anonymous> (browserclient/__chdir.js__:1:9)\r\n    at Module._compile (internal/modules/cjs/loader.js:1072:14)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1101:10)\r\n    at Module.load (internal/modules/cjs/loader.js:937:32)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:778:12)\r\n    at Module.require (internal/modules/cjs/loader.js:961:19)\r\n    at Module._preloadModules (internal/modules/cjs/loader.js:1231:12)\r\n    at loadPreloadModules (internal/bootstrap/pre_execution.js:468:5)\r\n    at MessagePort.<anonymous> (internal/main/worker_thread.js:151:5)\r\n</code></pre>\r\n\r\n## 🌍 Your Environment\r\n\r\n<pre><code>\r\nAngular CLI: 12.2.14\r\nNode: 14.17.3\r\nPackage Manager: yarn 1.22.10\r\nOS: darwin x64\r\n\r\nAngular: 12.2.15\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1202.14\r\n@angular-devkit/architect-cli   0.1102.2\r\n@angular-devkit/build-angular   12.2.14\r\n@angular-devkit/core            12.2.14\r\n@angular-devkit/schematics      12.2.14\r\n@angular/cli                    12.2.14\r\n@bazel/bazelisk                 1.11.0\r\n@bazel/buildifier               4.2.4\r\n@bazel/ibazel                   v0.15.10\r\n@schematics/angular             12.2.14\r\nrxjs                            6.6.7\r\ntypescript                      4.3.5\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\nThis project based on [bazel-test-angular-architect project](https://github.com/bazelbuild/rules_nodejs/tree/stable/examples/angular_bazel_architect), the only difference between [bazel-test-angular-architect project](https://github.com/bazelbuild/rules_nodejs/tree/stable/examples/angular_bazel_architect) and [my-forked-example](https://github.com/gyerts/angular_bazel_architect_fork)\r\n* frontend code was moved to the browserclient folder\r\n* into each bazel rule `architect` and `architect_test` was added `chdir = package_name()` parameter\r\n* angular was upgraded from 11 to 12","Url":"https://github.com/angular/angular-cli/issues/22438","RelatedDescription":"Open issue \"TypeError [ERR_WORKER_UNSUPPORTED_OPERATION] [ERR_WORKER_UNSUPPORTED_OPERATION]: process.chdir() is not supported in workers\" (#22438)"},{"Id":"1091217332","IsPullRequest":false,"CreatedAt":"2021-12-30T17:10:05","Actor":"Cephyric-gh","Number":"22437","RawContent":null,"Title":"Build outputting warning about :where pseudo-selector","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Is this a regression?\r\n\r\nIt has only come to light with the latest version of Tailwind, so unsure\r\n\r\n### Description\r\n\r\nWhen loading in the latest version of tailwind (3.0.8) the CLI outputs a warning about the `:where` pseudo-selector not being valid.\r\n\r\n```\r\n1 rules skipped due to selector errors:\r\n  abbr:where([title]) -> unmatched pseudo-class :where\r\n```\r\n\r\nHowever according to caniuse.com the selector is available based on the browserslistrc file that I am using -\r\n```\r\nlast 1 Chrome version\r\nlast 1 Firefox version\r\nlast 2 Edge major versions\r\nlast 2 Safari major versions\r\nlast 2 iOS major versions\r\nFirefox ESR\r\nnot IE 11 # Angular supports IE 11 only as an opt-in. To opt-in, remove the 'not' prefix on this line.\r\n```\r\n\r\nWhen looking for similar reported issues I found other reported warnings from the CLI (that are not the same as this 1) that suggested that the issue be taken up with the third part package a it was their end, however Tailwind have informed me that the selector should be available based on that browserslist (https://github.com/tailwindlabs/tailwindcss/issues/6805) which makes me assume there is something happening with the CLI that is causing it to erroneously report that the selector does not exist\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\nDefault angular project with tailwind configured on it (added as a dependency, basic config file + their imports needed ib the base scss file)\r\n\r\n## 🔥 Exception or Error\r\n\r\n<pre><code>\r\n1 rules skipped due to selector errors:\r\n  abbr:where([title]) -> unmatched pseudo-class :where\r\n\r\n</code></pre>\r\n\r\n## 🌍 Your Environment\r\n\r\n<pre><code>\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n\r\n\r\nAngular CLI: 13.1.2\r\nNode: 16.13.0\r\nPackage Manager: yarn 1.22.17\r\nOS: darwin x64\r\n\r\nAngular: 13.1.1\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... material, material-moment-adapter, platform-browser\r\n... platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1301.2\r\n@angular-devkit/build-angular   13.1.2\r\n@angular-devkit/core            13.1.2\r\n@angular-devkit/schematics      13.1.2\r\n@angular/cli                    13.1.2\r\n@schematics/angular             13.1.2\r\nng-packagr                      13.1.2\r\nrxjs                            7.5.1\r\ntypescript                      4.5.4\r\n\r\n</code></pre>\r\n","Url":"https://github.com/angular/angular-cli/issues/22437","RelatedDescription":"Open issue \"Build outputting warning about :where pseudo-selector\" (#22437)"},{"Id":"1091202478","IsPullRequest":false,"CreatedAt":"2021-12-30T16:36:43","Actor":"pauldraper","Number":"22436","RawContent":null,"Title":"Make build optimizer work for all packages","State":"open","Body":"It seems that build optimizer is stingy, and only applies to certain packages: https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/build_optimizer/src/build-optimizer/build-optimizer.ts#L22\r\n\r\nThere are multiple issues here:\r\n\r\n(1) node_modules/@angular/core etc might not be the fully resolved name of the package. For example, a user make symlink node_modules/@angular/core to angular-core-13.1.1. Actually, the Node.js docs on package managers suggests this sort of approach.\r\n\r\n(2) This only works for @angular packages. Other packages matter too!\r\n\r\nPerhaps there is a config option that would allow it?","Url":"https://github.com/angular/angular-cli/issues/22436","RelatedDescription":"Open issue \"Make build optimizer work for all packages\" (#22436)"},{"Id":"1091001479","IsPullRequest":false,"CreatedAt":"2021-12-30T15:16:12","Actor":"danilmoro3","Number":"22434","RawContent":null,"Title":"Angular 13: Add ability to generate esm5 bundle","State":"closed","Body":"# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Description\r\n\r\nAs IE11 is no longer supported by Angular 13, there is no way to generate `esm5` bundle.\r\nTherefore, generated `esm2020` bundles is not compatible in the projects with an old version of angular.\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\nRun the following command in any project:\r\n\r\n`nx build some-lib`\r\n\r\n## 🔥 Exception or Error\r\n\r\nSee generated bundle, there are no `esm5` and `lib` bundles with **.js** files inside (not **.mjs**):\r\n\r\n<pre><code>\r\n- esm2020\r\n- fesm2015\r\n- fesm2020\r\n- lib\r\n...\r\n</code></pre>\r\n\r\n## 🌍 Your Environment\r\n\r\n`nx report`:\r\n\r\n<pre><code>\r\n  Node : 14.15.0\r\n  OS   : darwin x64\r\n  npm  : 6.14.8\r\n  \r\n  nx : 13.3.6\r\n  @nrwl/angular : 13.3.6\r\n  @nrwl/cli : 13.3.6\r\n  @nrwl/cypress : 13.3.6\r\n  @nrwl/devkit : 13.1.3\r\n  @nrwl/eslint-plugin-nx : 13.3.6\r\n  @nrwl/express : undefined\r\n  @nrwl/jest : 13.3.6\r\n  @nrwl/linter : 13.3.6\r\n  @nrwl/nest : undefined\r\n  @nrwl/next : undefined\r\n  @nrwl/node : undefined\r\n  @nrwl/nx-cloud : 13.0.0\r\n  @nrwl/react : undefined\r\n  @nrwl/react-native : undefined\r\n  @nrwl/schematics : undefined\r\n  @nrwl/tao : 13.3.6\r\n  @nrwl/web : undefined\r\n  @nrwl/workspace : 13.3.6\r\n  @nrwl/storybook : 13.3.6\r\n  @nrwl/gatsby : undefined\r\n  typescript : 4.4.4\r\n  rxjs : 7.4.0\r\n  ---------------------------------------\r\n  Community plugins:\r\n         @angular/animations: 13.1.1\r\n         @angular/cdk: 13.1.0\r\n         @angular/common: 13.1.1\r\n         @angular/compiler: 13.1.1\r\n         @angular/core: 13.1.1\r\n         @angular/elements: 13.1.1\r\n         @angular/forms: 13.1.1\r\n         @angular/platform-browser: 13.1.1\r\n         @angular/platform-browser-dynamic: 13.1.1\r\n         @angular/router: 13.1.1\r\n         ng-zorro-antd: 12.1.0\r\n         @angular-devkit/build-angular: 13.0.0\r\n         @angular-eslint/builder: 13.0.1\r\n         @angular-eslint/schematics: 13.0.1\r\n         @angular/cli: 13.1.2\r\n         @angular/compiler-cli: 13.1.1\r\n         @angular/language-service: 13.1.1\r\n         @storybook/angular: 6.4.9\r\n</code></pre>\r\n\r\n`tsconfig.base.json`\r\n\r\n<pre><code>\r\n...\r\n\"target\": \"es2015\",\r\n\"module\": \"esnext\",\r\n\"typeRoots\": [\"node_modules/@types\"],\r\n\"lib\": [\"es2015\", \"es2019\", \"dom\"],\r\n...\r\n</code></pre>\r\n","Url":"https://github.com/angular/angular-cli/issues/22434","RelatedDescription":"Closed issue \"Angular 13: Add ability to generate esm5 bundle\" (#22434)"},{"Id":"1091164054","IsPullRequest":false,"CreatedAt":"2021-12-30T14:47:22","Actor":"reifi","Number":"22435","RawContent":null,"Title":"Development with ng serve gets \"stuck\" with $localize error when using i18n attributes and localize option set to sourceLocale ","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\nlocalize, Don't known / other\r\n\r\n### Is this a regression?\r\n\r\nYes\r\n\r\n### Description\r\n\r\nCalling ng serve with a configuration that uses the \"localize\" option set to the sourceLocale (mine is 'de-AT'),\r\nfor example `ng serve  --browserTarget=my-app:build:development,locale-de-at`\r\nwill lead to a **false** $localize error message and forces you to delete .angular cache and restart ng serve.\r\n\r\nWorked in v13.0.3 but will only show incorrect error message during development in v13.1.0+\r\n\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps://gist.github.com/reifi/a7528447fb5aca26b34097d2ef03f46f\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nERROR Error: It looks like your application or one of its dependencies is using i18n.\r\nAngular 9 introduced a global `$localize()` function that needs to be loaded.\r\nPlease run `ng add @angular/localize` from the Angular CLI.\r\n(For non-CLI projects, add `import '@angular/localize/init';` to your `polyfills.ts` file.\r\nFor server-side rendering applications add the import to your `main.server.ts` file.)\r\n    localize Angular\r\n    consts app.component.html:4\r\n    Angular 18\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: 13.1.2\r\nNode: 16.13.0\r\nPackage Manager: npm 8.1.0\r\nOS: win32 x64\r\n\r\nAngular: 13.1.1\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... localize, platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1301.2\r\n@angular-devkit/build-angular   13.1.2\r\n@angular-devkit/core            13.1.2\r\n@angular-devkit/schematics      13.1.2\r\n@angular/cli                    13.1.2\r\n@schematics/angular             13.1.2\r\nrxjs                            7.4.0\r\ntypescript                      4.4.4\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\nAfter updating to from angular v13.0.3 to **v13.1.1** the **$localize error** appeared every time I _accidentally_ made a mistake during development with **ng serve** and did not go away until I deleted the .angular directory and restarted ng serve.\r\n\r\nI was able to [reproduce](https://gist.github.com/reifi/a7528447fb5aca26b34097d2ef03f46f#file-reproduction_description-txt) it with a newly generated app I updated to v13.1.1.\r\nhttps://gist.github.com/reifi/a7528447fb5aca26b34097d2ef03f46f\r\n\r\n- Add i18n @angular/localize to newly generated app (I upgraded from 13.0.3 to 13.1.1)\r\n  - configure i18n with localize profiles in  [angular.json](https://gist.github.com/reifi/a7528447fb5aca26b34097d2ef03f46f#file-angular-json)\r\n  <pre>\r\n      \"i18n\": {\r\n        \"locales\": {\r\n          \"it\": {\r\n            \"translation\": \"messages.it.xlf\"\r\n          }\r\n        },\r\n        \"sourceLocale\": {\r\n          \"code\": \"de-AT\"\r\n        }\r\n      },\r\n      ...\r\n     \"configurations\": {\r\n            \"locale-it\": {\r\n              \"localize\": [\r\n                \"it\"\r\n              ]\r\n            },\r\n            \"locale-de-at\": {\r\n              \"localize\": [\r\n                \"de-AT\"\r\n              ]\r\n            }\r\n     },....\r\n  </pre>\r\n  - add some tag with i18n attribute or use this [app.component.html](https://gist.github.com/reifi/a7528447fb5aca26b34097d2ef03f46f#file-app-component-html)\r\n\r\n\r\n* Start development with `ng serve  --browserTarget=my-app:build:development,locale-de-at`\r\n* Change something that leads to an error in app.component.html and save it so error will be shown in browser\r\n* Change it back and fix error -> $localize error will be shown in console and can only be fixed by deleting .angular directory.\r\n\r\nUsing `ng serve  --browserTarget=my-app:build:development,locale-it` (using localize 'it') works, probably because it's not the sourceLocale.\r\n\r\n### Workaround:\r\nUsing `ng serve  --browserTarget=my-app:build:development,locale-de-at` (using localize 'de-AT') does not work, but **omitting the 'localize' option** like  `ng serve  --browserTarget=my-app:build:development` does - although probably ignoring additional configuration like baseHref in i18n.\r\n\r\n\r\n### Found differences in cache\r\nThe cached content in  **.angular/cache/babel-dev-server-i18n/** will change from (for example)\r\n<pre>... else {\\n      i18n_0 = \\\"Unter dieser Url ist noch kein websms Partner aktiv\\\";\\n    } </pre>\r\nto\r\n<pre>... else {\\n      i18n_0 = $localize`:@@view.not_found.paragraph.reseller_not_found:Unter dieser Url ist noch kein websms Partner aktiv`;</pre>\r\nwhich leads to the error because \"$localize\" is not needed during runtime","Url":"https://github.com/angular/angular-cli/issues/22435","RelatedDescription":"Open issue \"Development with ng serve gets \"stuck\" with $localize error when using i18n attributes and localize option set to sourceLocale \" (#22435)"},{"Id":"1090895922","IsPullRequest":false,"CreatedAt":"2021-12-30T06:04:00","Actor":"iRealNirmal","Number":"22433","RawContent":null,"Title":"vulnerable package version of custom-webpack being used inside build-angular for v12","State":"open","Body":"Recently GitHub dependbot showing vulnerability for ansi-html in package-lock.json for projects.\r\n\r\nOn back tracking it was  coming from webpack-dev-server version 3.11.2 but it's removed in 3.11.3 patch update.\r\n\r\nOnce webpack-dev-server version is updated to v3.11.3 this issue will be resolved.","Url":"https://github.com/angular/angular-cli/issues/22433","RelatedDescription":"Open issue \"vulnerable package version of custom-webpack being used inside build-angular for v12\" (#22433)"},{"Id":"1090604000","IsPullRequest":false,"CreatedAt":"2021-12-29T15:47:13","Actor":"lynxeyedua","Number":"22432","RawContent":null,"Title":"Stylus support: why removed?","State":"open","Body":"Hello. In the most recent versions on Angular CLI we start seeing warning _\"Stylus usage is deprecated and will be removed in a future major version. To opt-out of the deprecated behaviour, please migrate to another stylesheet language.\"_\r\n\r\nThe problem is that we heavily rely on it, and can't easily move to other stylesheet language. This will very likely block us from using latest versions of Angular in the near future.\r\n\r\nAlso, the reasons behind this decision are also not clear. Even if only 0.3% users use stylus, this is thousands of developers, which will have one more pain to solve. And repository is not so dead anymore https://github.com/stylus/stylus/commits/dev\r\n\r\nPlease, check this, review the decision and keep Stylus support in the future versions. \r\n\r\nIf this is not possible, how about postponing Stylus removal to a far future versions (e.g. do this in Angular 16)?\r\n\r\nThanks in advance!\r\n\r\nSerhii","Url":"https://github.com/angular/angular-cli/issues/22432","RelatedDescription":"Open issue \"Stylus support: why removed?\" (#22432)"},{"Id":"1090225239","IsPullRequest":false,"CreatedAt":"2021-12-29T02:19:58","Actor":"johncrim","Number":"22431","RawContent":null,"Title":"Optional chaining removed on some objects when target: es2020","State":"open","Body":"# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Is this a regression?\r\n\r\nI don't know - I wasn't able to target es2020 before due to the zone.js issue. Per #18204 this should\r\nhave been fixed with webpack 5 support #17555, but it doesn't work.\r\n\r\nGiven this example:\r\n```ts\r\nexport class AppComponent implements OnInit {\r\n  b = 'uninitialized';\r\n  environmentFoo?: string;\r\n\r\n  ngOnInit() {\r\n    const a: any = undefined;\r\n    this.b = a?.foo ?? 'default value';\r\n    this.environmentFoo = environment.optionalObject?.foo;\r\n  }\r\n}\r\n```\r\n\r\nThe es2020 output is:\r\n```js\r\nclass AppComponent {\r\n    constructor() {\r\n        this.b = 'uninitialized';\r\n    }\r\n    ngOnInit() {\r\n        const a = undefined;\r\n        this.b = a?.foo ?? 'default value';\r\n        this.environmentFoo = _environments_environment__WEBPACK_IMPORTED_MODULE_0__.environment.optionalObject.foo;\r\n    }\r\n}\r\n```\r\n\r\nYou can see that the `?.` is removed from `environment.optionalObject?.foo`. But the optional chaining on `a` is preserved.\r\n\r\n### Description\r\n\r\nWhen the tsconfig target is set to es2020 or later, optional chaining (eg `object?.property`) on some objects is removed in the build output, resulting in js output like `object.property`, causing a runtime error when object is undefined.\r\n\r\nInitially I thought this was roughly the same bug as #18204, but it's not:\r\n* It's a runtime error, not a compile error\r\n* Most normal optional chaining works (the `?.` text is in the output)\r\n* Some optional chaining, like on the `environment` object, is removed in the build output.\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\n```\r\ngit clone git@github.com:johncrim/repro-ng13.git\r\nyarn\r\nyarn start\r\n```\r\n\r\nView in browser http://localhost:4200/\r\n\r\nOr debug in VS Code.\r\n\r\n\r\n## 🔥 Exception or Error\r\n\r\nRunning the repro results in an error:\r\n\r\n<pre><code>\r\n```\r\ncore.mjs:6484 ERROR TypeError: Cannot read properties of undefined (reading 'foo')\r\n    at AppComponent.ngOnInit (app.component.ts:39)\r\n    at callHook (core.mjs:2533)\r\n    at callHooks (core.mjs:2502)\r\n    at executeInitAndCheckHooks (core.mjs:2453)\r\n    at refreshView (core.mjs:9499)\r\n    at renderComponentOrTemplate (core.mjs:9598)\r\n    at tickRootContext (core.mjs:10829)\r\n    at detectChangesInRootView (core.mjs:10854)\r\n    at RootViewRef.detectChanges (core.mjs:21425)\r\n    at ApplicationRef.tick (core.mjs:26431)\r\n```\r\n</code></pre>\r\n\r\n## 🌍 Your Environment\r\n\r\n<pre><code>\r\nAngular CLI: 13.1.2\r\nNode: 16.12.0\r\nPackage Manager: yarn 1.22.15\r\nOS: win32 x64\r\n\r\nAngular: 13.1.1\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1301.2\r\n@angular-devkit/build-angular   13.1.2\r\n@angular-devkit/core            13.1.2\r\n@angular-devkit/schematics      13.1.2\r\n@angular/cli                    13.1.2\r\n@schematics/angular             13.1.2\r\nrxjs                            7.4.0\r\ntypescript                      4.5.4\r\n</code></pre>\r\n\r\n## Workarounds\r\n\r\n1. Set tsconfig target to `es2019`\r\n\r\nResults in transpiling optional chaining:\r\n\r\n```js\r\nclass AppComponent {\r\n    constructor() {\r\n        this.b = 'uninitialized';\r\n    }\r\n    ngOnInit() {\r\n        var _a, _b;\r\n        const a = undefined;\r\n        this.b = (_a = a === null || a === void 0 ? void 0 : a.foo) !== null && _a !== void 0 ? _a : 'default value';\r\n        this.environmentFoo = (_b = _environments_environment__WEBPACK_IMPORTED_MODULE_0__.environment.optionalObject) === null || _b === void 0 ? void 0 : _b.foo;\r\n    }\r\n}\r\n```\r\n\r\n2. Or: Store the environment object in a new variable. \r\n \r\nGiven this example:\r\n```ts\r\nexport class AppComponent implements OnInit {\r\n  b = 'uninitialized';\r\n  environmentFoo?: string;\r\n\r\n  ngOnInit() {\r\n    const a: any = undefined;\r\n    this.b = a?.foo ?? 'default value';\r\n    const obj = environment.optionalObject;\r\n    this.environmentFoo = obj?.foo;\r\n  }\r\n}\r\n```\r\n\r\nThe es2020 output is:\r\n```js\r\nclass AppComponent {\r\n    constructor() {\r\n        this.b = 'uninitialized';\r\n    }\r\n    ngOnInit() {\r\n        const a = undefined;\r\n        this.b = a?.foo ?? 'default value';\r\n        const obj = _environments_environment__WEBPACK_IMPORTED_MODULE_0__.environment.optionalObject;\r\n        this.environmentFoo = obj?.foo;\r\n    }\r\n}\r\n```\r\n\r\n","Url":"https://github.com/angular/angular-cli/issues/22431","RelatedDescription":"Open issue \"Optional chaining removed on some objects when target: es2020\" (#22431)"},{"Id":"1089451701","IsPullRequest":false,"CreatedAt":"2021-12-27T20:13:37","Actor":"jeffschulzusc","Number":"22430","RawContent":null,"Title":"Create a new workspace, npm install has many warnings.","State":"open","Body":"\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n- [x] new\r\n\r\n### Is this a regression?\r\n\r\nsince 12 ...\r\n(happens on v13 too)\r\n\r\n### Description\r\n\r\ncreate a new ng workspace:\r\n$ ng new --minimal --skip-tests\r\n\r\nthen \r\n$ npm install \r\n\r\n## Expectation\r\n\r\n- should have clean install after create a new workspace\r\n- should NOT have to run <i>npm install -f</i>\r\n\r\n## 🔥 Exception or Error\r\n\r\n<pre><code>\r\nnpm WARN ajv-keywords@3.5.2 requires a peer of ajv@^6.9.1 but none is installed. You must install peer dependencies yourself.\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: esbuild-freebsd-arm64@0.13.8 (node_modules/esbuild-freebsd-arm64):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for esbuild-freebsd-arm64@0.13.8: wanted {\"os\":\"freebsd\",\"arch\":\"arm64\"} (current: {\"os\":\"darwin\",\"arch\":\"x64\"})\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: esbuild-darwin-arm64@0.13.8 (node_modules/esbuild-darwin-arm64):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for esbuild-darwin-arm64@0.13.8: wanted {\"os\":\"darwin\",\"arch\":\"arm64\"} (current: {\"os\":\"darwin\",\"arch\":\"x64\"})\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: esbuild-android-arm64@0.13.8 (node_modules/esbuild-android-arm64):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for esbuild-android-arm64@0.13.8: wanted {\"os\":\"android\",\"arch\":\"arm64\"} (current: {\"os\":\"darwin\",\"arch\":\"x64\"})\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: esbuild-linux-arm@0.13.8 (node_modules/esbuild-linux-arm):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for esbuild-linux-arm@0.13.8: wanted {\"os\":\"linux\",\"arch\":\"arm\"} (current: {\"os\":\"darwin\",\"arch\":\"x64\"})\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: esbuild-linux-arm64@0.13.8 (node_modules/esbuild-linux-arm64):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for esbuild-linux-arm64@0.13.8: wanted {\"os\":\"linux\",\"arch\":\"arm64\"} (current: {\"os\":\"darwin\",\"arch\":\"x64\"})\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: esbuild-freebsd-64@0.13.8 (node_modules/esbuild-freebsd-64):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for esbuild-freebsd-64@0.13.8: wanted {\"os\":\"freebsd\",\"arch\":\"x64\"} (current: {\"os\":\"darwin\",\"arch\":\"x64\"})\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: esbuild-sunos-64@0.13.8 (node_modules/esbuild-sunos-64):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for esbuild-sunos-64@0.13.8: wanted {\"os\":\"sunos\",\"arch\":\"x64\"} (current: {\"os\":\"darwin\",\"arch\":\"x64\"})\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: esbuild-linux-ppc64le@0.13.8 (node_modules/esbuild-linux-ppc64le):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for esbuild-linux-ppc64le@0.13.8: wanted {\"os\":\"linux\",\"arch\":\"ppc64\"} (current: {\"os\":\"darwin\",\"arch\":\"x64\"})\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: esbuild-linux-mips64le@0.13.8 (node_modules/esbuild-linux-mips64le):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for esbuild-linux-mips64le@0.13.8: wanted {\"os\":\"linux\",\"arch\":\"mips64el\"} (current: {\"os\":\"darwin\",\"arch\":\"x64\"})\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: esbuild-linux-32@0.13.8 (node_modules/esbuild-linux-32):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for esbuild-linux-32@0.13.8: wanted {\"os\":\"linux\",\"arch\":\"ia32\"} (current: {\"os\":\"darwin\",\"arch\":\"x64\"})\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: esbuild-linux-64@0.13.8 (node_modules/esbuild-linux-64):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for esbuild-linux-64@0.13.8: wanted {\"os\":\"linux\",\"arch\":\"x64\"} (current: {\"os\":\"darwin\",\"arch\":\"x64\"})\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: esbuild-netbsd-64@0.13.8 (node_modules/esbuild-netbsd-64):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for esbuild-netbsd-64@0.13.8: wanted {\"os\":\"netbsd\",\"arch\":\"x64\"} (current: {\"os\":\"darwin\",\"arch\":\"x64\"})\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: esbuild-openbsd-64@0.13.8 (node_modules/esbuild-openbsd-64):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for esbuild-openbsd-64@0.13.8: wanted {\"os\":\"openbsd\",\"arch\":\"x64\"} (current: {\"os\":\"darwin\",\"arch\":\"x64\"})\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: esbuild-windows-64@0.13.8 (node_modules/esbuild-windows-64):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for esbuild-windows-64@0.13.8: wanted {\"os\":\"win32\",\"arch\":\"x64\"} (current: {\"os\":\"darwin\",\"arch\":\"x64\"})\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: esbuild-windows-32@0.13.8 (node_modules/esbuild-windows-32):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for esbuild-windows-32@0.13.8: wanted {\"os\":\"win32\",\"arch\":\"ia32\"} (current: {\"os\":\"darwin\",\"arch\":\"x64\"})\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: esbuild-windows-arm64@0.13.8 (node_modules/esbuild-windows-arm64):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for esbuild-windows-arm64@0.13.8: wanted {\"os\":\"win32\",\"arch\":\"arm64\"} (current: {\"os\":\"darwin\",\"arch\":\"x64\"})\r\n</code></pre>\r\n\r\n## 🌍 Your Environment\r\n\r\n<pre><code>\r\nAngular CLI: 12.2.14\r\nNode: 14.18.1\r\nPackage Manager: npm 6.14.15\r\nOS: darwin x64\r\n\r\nAngular: 12.2.15\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1202.14\r\n@angular-devkit/build-angular   12.2.14\r\n@angular-devkit/core            12.2.14\r\n@angular-devkit/schematics      12.2.14\r\n@angular/cli                    12.2.14\r\n@schematics/angular             12.2.14\r\nrxjs                            6.6.7\r\ntypescript                      4.3.5\r\n</code></pre>\r\n\r\n\r\n","Url":"https://github.com/angular/angular-cli/issues/22430","RelatedDescription":"Open issue \"Create a new workspace, npm install has many warnings.\" (#22430)"},{"Id":"1089220955","IsPullRequest":false,"CreatedAt":"2021-12-27T13:08:54","Actor":"Waseem-Isaac","Number":"22429","RawContent":null,"Title":"Production build fails after upgrade to version 12, Support for the experimental syntax 'dynamicImport' isn't currently enabled","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\ncompiler-cli, @angular-devkit/build-angular,  Don't known / other\r\n\r\n### Is this a regression?\r\n\r\nYes\r\n\r\n### Description\r\n\r\nI got **Support for the experimental syntax 'dynamicImport' isn't currently enabled** error after upgrade Angular to **version `12.2`** while running `ng build --configuration producuction` , \r\nHowever, `ng build --aot=true` works.\r\n\r\nangular.json : \r\n```\r\n{\r\n \"projects\" : {\r\n   ...\r\n   \"architect\" : {\r\n      \"build: {\r\n         \"configurations\" :{\r\n           \"production: {\r\n             \"optimization\": true,\r\n              \"outputHashing\": \"all\",\r\n              \"sourceMap\": false,\r\n              \"namedChunks\": false,\r\n              \"extractLicenses\": true,\r\n              \"vendorChunk\": false,\r\n              \"buildOptimizer\": true,\r\n              \"budgets\": [\r\n                {\r\n                  \"type\": \"initial\",\r\n                  \"maximumWarning\": \"4mb\",\r\n                  \"maximumError\": \"10mb\"\r\n                },\r\n                {\r\n                  \"type\": \"anyComponentStyle\",\r\n                  \"maximumWarning\": \"8kb\"\r\n                }\r\n              ],\r\n              \"serviceWorker\": false,\r\n              \"fileReplacements\": [\r\n                {\r\n                  \"replace\": \"src/environments/environment.ts\",\r\n                  \"with\": \"src/environments/environment.prod.ts\"\r\n                }\r\n              ]\r\n             }\r\n          }\r\n        }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\n./src/app/app-routing.module.ts - Error: Module build failed (from ./node_modules/@angular-devkit/build-angular/src/babel/webpack-loader.js):\r\nSyntaxError: D:\\projects\\XX\\src\\app\\app-routing.module.ts: Support for the experimental syntax 'dynamicImport' isn't currently enabled (9:33):\r\n\r\n   7 |         {\r\n   8 |             path: 'clients',\r\n>  9 |             loadChildren: () => import('./XX/XX.module').then((m) => m.XXModule),\r\n     |                                 ^\r\n\r\nAdd @babel/plugin-syntax-dynamic-import (https://git.io/vb4Sv) to the 'plugins' section of your Babel config to enable parsing.\r\n    at Parser.raise (D:\\projects\\XX\\node_modules\\@babel\\parser\\lib\\index.js:6325:17)\r\n    at Parser.expectPlugin (D:\\projects\\XX\\node_modules\\@babel\\parser\\lib\\index.js:7647:18)\r\n    at Parser.parseExprAtom (D:\\projects\\XX\\node_modules\\@babel\\parser\\lib\\index.js:8684:14)\r\n    at Parser.parseExprSubscripts (D:\\projects\\XX\\node_modules\\@babel\\parser\\lib\\index.js:8412:23)\r\n    at Parser.parseMaybeUnary (D:\\projects\\XX\\node_modules\\@babel\\parser\\lib\\index.js:8392:21)\r\n    at Parser.parseExprOps (D:\\projects\\XX\\node_modules\\@babel\\parser\\lib\\index.js:8267:23)\r\n    at Parser.parseMaybeConditional (D:\\projects\\XX\\node_modules\\@babel\\parser\\lib\\index.js:8240:23)\r\n    at Parser.parseMaybeAssign (D:\\projects\\XX\\node_modules\\@babel\\parser\\lib\\index.js:8187:21)\r\n    at Parser.parseFunctionBody (D:\\projects\\XX\\node_modules\\@babel\\parser\\lib\\index.js:9406:24)\r\n    at Parser.parseArrowExpression (D:\\projects\\XX\\node_modules\\@babel\\parser\\lib\\index.js:9365:10)\r\n    at Parser.parseParenAndDistinguishExpression (D:\\projects\\XX\\node_modules\\@babel\\parser\\lib\\index.js:9002:12)\r\n    at Parser.parseExprAtom (D:\\projects\\XX\\node_modules\\@babel\\parser\\lib\\index.js:8762:21)\r\n    at Parser.parseExprSubscripts (D:\\projects\\XX\\node_modules\\@babel\\parser\\lib\\index.js:8412:23)\r\n    at Parser.parseMaybeUnary (D:\\projects\\XX\\node_modules\\@babel\\parser\\lib\\index.js:8392:21)\r\n    at Parser.parseExprOps (D:\\projects\\XX\\node_modules\\@babel\\parser\\lib\\index.js:8267:23)\r\n    at Parser.parseMaybeConditional (D:\\projects\\XX\\node_modules\\@babel\\parser\\lib\\index.js:8240:23)\r\n    \r\n    Add @babel/plugin-syntax-dynamic-import (https://git.io/vb4Sv) to the 'plugins' section of your Babel config to enable parsing.\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: 12.2.14\r\nNode: 14.17.1\r\nPackage Manager: npm 6.14.13\r\nOS: win32 x64\r\n\r\nAngular: 12.2.15\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router, service-worker\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.1202.14\r\n@angular-devkit/build-angular      12.2.14\r\n@angular-devkit/core               12.2.14\r\n@angular-devkit/schematics         12.2.14\r\n@angular/cdk                       12.2.13\r\n@angular/cli                       12.2.14\r\n@angular/flex-layout               12.0.0-beta.35\r\n@angular/material                  12.2.13\r\n@angular/material-moment-adapter   12.2.13\r\n@schematics/angular                12.2.14\r\nrxjs                               6.5.4\r\ntypescript                         4.3.5\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular-cli/issues/22429","RelatedDescription":"Closed issue \"Production build fails after upgrade to version 12, Support for the experimental syntax 'dynamicImport' isn't currently enabled\" (#22429)"},{"Id":"1088750005","IsPullRequest":false,"CreatedAt":"2021-12-26T11:15:14","Actor":"hiepxanh","Number":"22428","RawContent":null,"Title":"angular 13 ng serve normal, ng build sometime work, sometime not, maybe web worker not working (used to work with angular 12)","State":"open","Body":"\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Is this a regression?\r\n\r\nYes, It just work normal in angular 12\r\n\r\n### Description\r\n\r\nI build my app today after upgrade angular 13, my app build perfectly then after some change and save it. I rebuild it success but next time it not, build failing, and get this error very randomly, 10 time build 7 time success, 3 time fail. Even with the same code (not change anything, just new build):\r\nError: Cannot read properties of undefined (reading '0')\r\nG:\\small-cosmos\\awread\\libs\\feature\\upload-book\\src\\lib\\gears\\upload-book.gear.ts for concatenation\r\n```\r\n\r\n./libs/writer/web/ui-creation/src/lib/pages/detail-toc/detail-toc.page.ts + 8 modules - Error: Cannot read properties of undefined (reading '0')\r\n\r\nwhile analysing module G:\\small-cosmos\\awread\\node_modules\\.pnpm\\@angular-devkit+build-angular@13.1.2_399195a0fd38bd91aa8dde0856a90a6a\\node_modules\\@angular-devkit\\build-angular\\src\\babel\\webpack-loader.js??ruleSet[1].rules[2].use[0]!\r\nG:\\small-cosmos\\awread\\node_modules\\.pnpm\\@ngtools+webpack@13.1.2_08e2bc1fe65a4145f6802de023172619\\node_modules\\@ngtools\\webpack\\src\\ivy\\index.js!\r\nG:\\small-cosmos\\awread\\libs\\feature\\upload-book\\src\\lib\\gears\\upload-book.gear.ts for concatenation\r\n```\r\n\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\nI already try to isolate problem and see the problem is `new Worker`. with it it have error but will not if we remove it.\r\n\r\n![image](https://user-images.githubusercontent.com/16970990/147406259-b0d96682-ee47-4c01-b8cc-7cbb354ee6fd.png)\r\n\r\n\r\n\r\n## 🔥 Exception or Error\r\nnot error\r\n\r\n## 🌍 Your Environment\r\n\r\n```\r\nAngular CLI: 13.1.2\r\nNode: 16.13.1\r\nPackage Manager: pnpm 6.11.5\r\nOS: win32 x64\r\n\r\nAngular: 13.1.1\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... language-service, material, platform-browser\r\n... platform-browser-dynamic, platform-server, router\r\n... service-worker\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1301.2\r\n@angular-devkit/build-angular   13.1.2\r\n@angular-devkit/core            13.1.2\r\n@angular-devkit/schematics      13.1.2\r\n@angular/cli                    13.1.2\r\n@nguniversal/builders           13.0.1\r\n@nguniversal/express-engine     13.0.1\r\n@schematics/angular             13.1.2\r\nrxjs                            7.4.0\r\ntypescript                      4.5.4\r\nwebpack                         5.65.0\r\n\r\n```\r\n\r\n\r\n**Anything else relevant?**\r\n\r\ni dont know what to do. when I build 10 time, it just work and not work randomly. I cannot find exactly what causing the problem, it just work 7/10 times\r\n\r\nthis is the build process for the same code:\r\n\r\n\r\n#### some time it work\r\n\r\n```\r\n\r\nhiepx@HIEP-MOON MINGW64 /g/small-cosmos/awread (master)\r\n$ pnpm build:writer\r\n\r\n> awread@1.3.0 build:writer G:\\small-cosmos\\awread\r\n> export ENVIRONMENT=production || set ENVIRONMENT=production&& pnpm timestamp writer && pnpm build writer-web\r\n\r\n'export' is not recognized as an internal or external command,\r\noperable program or batch file.\r\n\r\n> awread@1.3.0 timestamp G:\\small-cosmos\\awread\r\n> pnpm ts-node ./tools/builds/replacer-build.ts \"writer\"\r\n\r\nReplacement results: [\r\n  {\r\n    file: './libs/global/environments/src/lib/domains/environment.writer.ts',\r\n    hasChanged: true\r\n  }\r\n]\r\n\r\n\r\n------------------------------------------------------------------\r\n\r\n> awread@1.3.0 build G:\\small-cosmos\\awread\r\n> ng build \"writer-web\"\r\n\r\n✔ Browser application bundle generation complete.\r\n✔ Copying assets complete.\r\n✔ Index html generation complete.\r\n\r\nInitial Chunk Files           | Names                                                            |  Raw Size | Estimated Transfer Size\r\nmain.cf44a3da048dc969.js      | main                                                             |   1.36 MB |               319.33 kB\r\nstyles.01f6aeaa8057a06d.css   | styles                                                           | 109.50 kB |                14.51 kB\r\npolyfills.4fcbb58e454cc371.js | polyfills                                                        |  36.19 kB |                11.50 kB\r\nruntime.64418dfd043f52d9.js   | runtime                                                          |   4.06 kB |                 1.94 kB\r\n\r\n                              | Initial Total                                                    |   1.51 MB |               347.29 kB\r\n\r\nLazy Chunk Files              | Names                                                            |  Raw Size | Estimated Transfer Size\r\n208.b1f6c7dfd34be554.js       | -                                                                | 509.78 kB |               105.55 kB\r\n785.7d6c24ef55482587.js       | quill                                                            | 209.13 kB |                42.06 kB\r\n633.2aef92a1a8b693e4.js       | pages-list-desktop-list-desktop-module                           |  46.46 kB |                11.45 kB\r\n228.2be8725b68e3d263.js       | pages-business-desktop-business-desktop-module                   |  45.48 kB |                 9.59 kB\r\n926.3a2170f330e06499.js       | pages-landing-mobile-landing-mobile-module                       |  31.28 kB |                 5.88 kB\r\n837.36441e40338f47f8.js       | pages-book-prices-desktop-book-prices-desktop-module             |  31.27 kB |                 7.29 kB\r\n105.e504fbdb919f4140.js       | pages-profile-desktop-profile-desktop-module                     |  27.57 kB |                 6.22 kB\r\n368.6eb108def5718de0.js       | pages-register-complete-mobile-register-complete-mobile-module   |  26.50 kB |                 5.36 kB\r\n265.95010adef73a1675.js       | pages-list-desktop-list-desktop-module                           |  23.72 kB |                 5.44 kB\r\ncommon.ca69fa475b13dd6e.js    | common                                                           |  22.31 kB |                 5.79 kB\r\n112.3d7f0dcd20b43b39.js       | pages-landing-desktop-landing-desktop-module                     |  22.03 kB |                 4.66 kB\r\n269.636a0928417dcf10.js       | pages-detail-toc-mobile-detail-toc-mobile-module                 |  19.83 kB |                 6.10 kB\r\n45.2d1798d7100ffabd.js        | pages-book-prices-mobile-book-prices-mobile-module               |  19.82 kB |                 4.38 kB\r\n943.729f666b7762b0e8.js       | pages-writing-mobile-writing-mobile-module                       |  16.60 kB |                 5.10 kB\r\n593.cedd0bee1a423ad1.js       | pages-detail-toc-desktop-detail-toc-desktop-module               |  16.42 kB |                 4.29 kB\r\n459.8649560da27aa2da.js       | pages-writing-desktop-writing-desktop-module                     |  15.99 kB |                 4.12 kB\r\n431.5a15a58d3ee5fc50.js       | pages-landing-mobile-landing-mobile-module                       |  15.05 kB |                 4.77 kB\r\n306.90ca7646a8b3fc1a.js       | pages-detail-book-desktop-detail-book-desktop-module             |  14.46 kB |                 3.34 kB\r\n162.fb351e89c7528b78.js       | pages-forgot-mobile-forgot-mobile-module                         |  11.98 kB |                 2.57 kB\r\n9.bee45e4043a6a075.js         | pages-new-password-desktop-new-password-desktop-module           |   7.42 kB |                 2.08 kB\r\n849.e116ddd321f93b85.js       | pages-register-complete-mobile-register-complete-mobile-module   |   1.39 kB |               621 bytes\r\n294.713f3d3cea59603f.js       | pages-analytic-desktop-analytic-desktop-module                   |   1.37 kB |               703 bytes\r\n911.418f4bf405f8fd7c.js       | pages-register-complete-desktop-register-complete-desktop-module |   1.36 kB |               615 bytes\r\n77.66c5cf5e52fcdaa8.js        | pages-forgot-mobile-forgot-mobile-module                         |   1.02 kB |               508 bytes\r\n82.8f20d2acb99fd2db.js        | pages-forgot-desktop-forgot-desktop-module                       |   1.02 kB |               508 bytes\r\n968.fb98dcdf2b9d491a.js       | pages-new-password-mobile-new-password-mobile-module             | 899 bytes |               442 bytes\r\n215.534af9ee4f421088.js       | pages-book-prices-mobile-book-prices-mobile-module               | 898 bytes |               446 bytes\r\n111.6ce385f966238514.js       | pages-detail-book-mobile-detail-book-mobile-module               | 896 bytes |               448 bytes\r\n410.c7f0d369b1c17498.js       | pages-detail-toc-mobile-detail-toc-mobile-module                 | 893 bytes |               446 bytes\r\n974.693fd27cb88b9af3.js       | pages-business-mobile-business-mobile-module                     | 889 bytes |               438 bytes\r\n260.e655e4b0b88f3a8b.js       | pages-analytic-mobile-analytic-mobile-module                     | 888 bytes |               438 bytes\r\n99.f5a4a49af5e86395.js        | pages-setting-desktop-setting-desktop-module                     | 887 bytes |               437 bytes\r\n671.0b22c8eaf69ffe1a.js       | pages-writing-mobile-writing-mobile-module                       | 885 bytes |               439 bytes\r\n730.8746940e0cae178a.js       | pages-profile-mobile-profile-mobile-module                       | 884 bytes |               435 bytes\r\n8.fe58215d070b5b61.js         | pages-setting-mobile-setting-mobile-module                       | 883 bytes |               439 bytes\r\n175.46aec21187169569.js       | pages-home-desktop-home-desktop-module                           | 879 bytes |               437 bytes\r\n335.b986ef15580b72a7.js       | pages-list-mobile-list-mobile-module                             | 876 bytes |               440 bytes\r\n48.ad874b4e6fc1fb84.js        | pages-home-mobile-home-mobile-module                             | 875 bytes |               438 bytes\r\n676.252724c5c18b05c4.js       | pages-list-desktop-list-desktop-module                           | 865 bytes |               419 bytes\r\n\r\nBuild at: 2021-12-26T10:46:53.464Z - Hash: 6855762c4063578f - Time: 48044ms\r\n\r\nWarning: G:/small-cosmos/awread/libs/writer/web/ui-single/src/lib/atomics/molecs/lp-section-header/lp-section-header.molec.scss exceeded maximum budget. Budget 3.00 kB was not met by 2.84 kB with a total of 5.84 kB.\r\n\r\nWarning: bundle initial exceeded maximum budget. Budget 500.00 kB was not met by 1.02 MB with a total of 1.51 MB.\r\n\r\n\r\n\r\n```\r\n\r\n#### some time it not work, does not change anything on the code base\r\n\r\n```\r\n\r\nhiepx@HIEP-MOON MINGW64 /g/small-cosmos/awread (master)\r\n$ pnpm build:writer\r\n\r\n> awread@1.3.0 build:writer G:\\small-cosmos\\awread\r\n> export ENVIRONMENT=production || set ENVIRONMENT=production&& pnpm timestamp writer && pnpm build writer-web\r\n\r\n'export' is not recognized as an internal or external command,\r\noperable program or batch file.\r\n\r\n> awread@1.3.0 timestamp G:\\small-cosmos\\awread\r\n> pnpm ts-node ./tools/builds/replacer-build.ts \"writer\"\r\n\r\nReplacement results: [\r\n  {\r\n    file: './libs/global/environments/src/lib/domains/environment.writer.ts',\r\n    hasChanged: true\r\n  }\r\n]\r\n\r\n> awread@1.3.0 build G:\\small-cosmos\\awread\r\n> ng build \"writer-web\"\r\n\r\n✔ Browser application bundle generation complete.\r\n\r\nWarning: G:/small-cosmos/awread/libs/writer/web/ui-single/src/lib/atomics/molecs/lp-section-header/lp-section-header.molec.scss exceeded maximum budget. Budget 3.00 kB was not met by 2.84 kB with a total of 5.84 kB.\r\n\r\n\r\n\r\n./libs/writer/web/ui-creation/src/lib/pages/detail-toc/detail-toc.page.ts + 8 modules - Error: Cannot read properties of undefined (reading '0')\r\n\r\nwhile analysing module G:\\small-cosmos\\awread\\node_modules\\.pnpm\\@angular-devkit+build-angular@13.1.2_399195a0fd38bd91aa8dde0856a90a6a\\node_modules\\@angular-devkit\\build-angular\\src\\babel\\webpack-loader.js??ruleSet[1].rules[2].use[0]!\r\nG:\\small-cosmos\\awread\\node_modules\\.pnpm\\@ngtools+webpack@13.1.2_08e2bc1fe65a4145f6802de023172619\\node_modules\\@ngtools\\webpack\\src\\ivy\\index.js!\r\nG:\\small-cosmos\\awread\\libs\\feature\\upload-book\\src\\lib\\gears\\upload-book.gear.ts for concatenation\r\n\r\n\r\n ERROR  Command failed with exit code 1.\r\n ERROR  Command failed with exit code 1.\r\n\r\n```\r\n\r\n\r\ni belive it maybe have some connection with this: https://github.com/angular/angular-cli/issues/22388 and this issue https://github.com/angular/angular-cli/issues/22351\r\n\r\nI can close this issue if the cause if it duplicate with those issue above","Url":"https://github.com/angular/angular-cli/issues/22428","RelatedDescription":"Open issue \"angular 13 ng serve normal, ng build sometime work, sometime not, maybe web worker not working (used to work with angular 12)\" (#22428)"},{"Id":"1088569529","IsPullRequest":false,"CreatedAt":"2021-12-25T08:39:58","Actor":"born2net","Number":"22427","RawContent":null,"Title":"angular cli 13 keeps recompiling... ","State":"open","Body":"Angular just keeps recompiling in infinite loop running the command:\r\n\r\n```\r\nnode --max_old_space_size=16834 ./node_modules/@angular/cli/bin/ng serve --configuration=dev --proxy-config proxy.json\r\n```\r\n\r\nthis is proxy.json\r\n\r\n```\r\n{\r\n  \"/api\": {\r\n    \"target\": \"https://earth.xxxxe.me:8080\",\r\n    \"secure\": false,\r\n    \"pathRewrite\": {\r\n      \"^/api\": \"\"\r\n    },\r\n    \"changeOrigin\": true\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n```\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1301.2\r\n@angular-devkit/build-angular   13.1.2\r\n@angular-devkit/core            13.1.2\r\n@angular-devkit/schematics      13.1.2\r\n@angular/cli                    13.1.2\r\n@angular/flex-layout            13.0.0-beta.36\r\n@angular/google-maps            9.2.4\r\n@angular/pwa                    13.1.2\r\n@schematics/angular             13.1.2\r\nrxjs                            7.4.0\r\ntypescript                      4.5.4\r\n\r\n```\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/5090936/147381117-20f5ee43-f31f-458a-a445-f77463fc867b.png)\r\n\r\nat first all is well, but after 10 minutes of development, things go nutz,\r\nlet me know what other info I can provide, anyone else seeing this?\r\n\r\nregards\r\n\r\nSean.\r\n","Url":"https://github.com/angular/angular-cli/issues/22427","RelatedDescription":"Open issue \"angular cli 13 keeps recompiling... \" (#22427)"},{"Id":"1088272944","IsPullRequest":false,"CreatedAt":"2021-12-24T09:34:37","Actor":"mbx2015","Number":"22426","RawContent":null,"Title":"webpack-dev-server hot-reload issue after upgrade from 12.1.14 to 13.1.1","State":"open","Body":"Can you setup a minimal repro please?\r\n\r\nYou can read [here](https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue) why this is needed. A good way to make a minimal repro is to create a new app via `ng new repro-app` and adding the minimum possible code to show the problem. Then you can push this repository to github and link it here.\r\n\r\nThis might be related to your directory structure so its really important to get an accurate repro to diagnose this.\r\n\r\n_Originally posted by @alan-agius4 in https://github.com/angular/angular-cli/issues/22194#issuecomment-973189116_\r\n\r\n\r\nRegarding this issue, I found that in dev mode I can't work with websocket when the backend listen to `/ws` but when I change the path to something else (e.a: /websocket) it works.\r\n\r\nthe problem is in the dev-server.\r\n","Url":"https://github.com/angular/angular-cli/issues/22426","RelatedDescription":"Open issue \"webpack-dev-server hot-reload issue after upgrade from 12.1.14 to 13.1.1\" (#22426)"},{"Id":"1086257747","IsPullRequest":true,"CreatedAt":"2021-12-24T00:31:52","Actor":"kormide","Number":"22416","RawContent":null,"Title":"build: perform package.json substitutions in bazel build","State":"closed","Body":"@josephperrott @gregmagolan \r\n\r\nThis pr mimics the `package.json` substitutions that `build.ts` performs, minus substituting dependency versions for tar paths on a local build (that's coming up in the next pr). The current build will not be affected by this change as we haven't yet flipped `build.ts` to use bazel.","Url":"https://github.com/angular/angular-cli/pull/22416","RelatedDescription":"Closed or merged PR \"build: perform package.json substitutions in bazel build\" (#22416)"},{"Id":"1088061309","IsPullRequest":true,"CreatedAt":"2021-12-24T00:31:34","Actor":"kormide","Number":"22425","RawContent":null,"Title":"build: perform package.json substitutions in bazel build","State":"open","Body":"@josephperrott @gregmagolan \r\n\r\nThis pr mimics the package.json substitutions that build.ts performs. The current build will not be affected by this change as we haven't yet flipped build.ts to use bazel.","Url":"https://github.com/angular/angular-cli/pull/22425","RelatedDescription":"Open PR \"build: perform package.json substitutions in bazel build\" (#22425)"},{"Id":"1088014462","IsPullRequest":false,"CreatedAt":"2021-12-23T22:06:15","Actor":"dianjuar","Number":"22424","RawContent":null,"Title":"Multiple `--configuration` doesn't work on `ng serve`","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [x] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Is this a regression?\r\n\r\nI don't know\r\n\r\n### Description\r\n\r\nI want to use the feature of multiple configurations using the `--configuration` on [build](https://angular.io/guide/workspace-config#alternate-build-configurations) and [serve](https://angular.io/cli/serve#ng-serve).\r\n\r\nIn `ng serve` is not working properly.\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for the reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem.\r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\nRepo https://github.com/dianjuar/example-serve-multipli-config-bug-ngcli\r\n\r\n```json\r\n\"build\": {\r\n  \"configurations\": {\r\n    \"development\": {\r\n      \"buildOptimizer\": false,\r\n      \"optimization\": false,\r\n      \"vendorChunk\": true,\r\n      \"extractLicenses\": false,\r\n      \"sourceMap\": true,\r\n      \"namedChunks\": true\r\n    },\r\n    \"local-against-dev\": {\r\n      \"fileReplacements\": [\r\n        {\r\n          \"replace\": \"src/environments/environment.ts\",\r\n          \"with\": \"src/environments/environment.local-against-dev.ts\"\r\n        }\r\n      ]\r\n    }\r\n  }\r\n},\r\n\"serve\": {\r\n  \"configurations\": {\r\n    \"development\": {\r\n      \"browserTarget\": \"example-serve-multipli-config-bug:build:development\"\r\n    },\r\n    \"local-against-dev\": {\r\n      \"browserTarget\": \"example-serve-multipli-config-bug:build:local-against-dev\"\r\n    }\r\n  },\r\n  \"defaultConfiguration\": \"development\"\r\n}\r\n```\r\n\r\nI tried to serve the application using the _development_ settings defined in my `development` configuration but also I want to apply the configuration of my `local-against-dev` environment. So the command to make this happen would be:\r\n\r\n`ng serve --configuration development,local-againts-dev`\r\n\r\nThe parameter `development` is not being taken into account, is not applying all the configurations that I placed there on the `development` configuration. A way to prove my statement is because no source maps are generated, you can not access the `app.component.ts` file using the chrome dev tools.\r\n\r\n## 🔥 Exception or Error\r\n\r\nNo error is shown\r\n\r\n## 🌍 Your Environment\r\n\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\nAngular CLI: 12.2.14\r\nNode: 16.13.1 (Unsupported)\r\nPackage Manager: npm 8.1.2\r\nOS: darwin x64\r\n\r\nAngular: 12.2.15\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1202.14\r\n@angular-devkit/build-angular   12.2.14\r\n@angular-devkit/core            12.2.14\r\n@angular-devkit/schematics      12.2.14\r\n@angular/cli                    12.2.14\r\n@schematics/angular             12.2.14\r\nrxjs                            6.6.7\r\ntypescript                      4.3.5\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/22424","RelatedDescription":"Open issue \"Multiple `--configuration` doesn't work on `ng serve`\" (#22424)"},{"Id":"1087535574","IsPullRequest":false,"CreatedAt":"2021-12-23T09:30:20","Actor":"Andrew7070","Number":"22423","RawContent":null,"Title":"Not seeing Angular CLI proxy debugging information even with --verbose flag","State":"open","Body":"Sorry. I was using npm run start --verbose.  \r\n\r\nng serve --verbose exposed the logs.\r\n\r\nMost sorry for the false alarm.\r\n\r\n\r\n\r\nHello,\r\nConcerning the breaking webpack change that requires use of the --verbose flag to see proxy debugging output, I am unable to view such output in my development app updated from Angular 12.\r\n\r\nI am working on a new Angular 13 app and will greatly appreciate seeing the debugging output as currently the proxy is not working as expected.\r\n\r\nThanks\r\n\r\n\r\n\r\nHi, \r\n\r\nThis is caused by one of the breaking changes of webpack-dev-server version 4 which is now being used by Angular CLI version 13. \r\n\r\nUnlikely previously, information logs are not emitted directly to the console, but the built-in webpack logger is used instead. This is described in the breaking changes section of the webpack-dev-server release notes which can be found https://github.com/webpack/webpack-dev-server/blob/master/CHANGELOG.md#400-beta0-2020-11-27.\r\n\r\nTo display these information logs the build needs to be run in [verbose](https://angular.io/cli/serve) mode using the `--verbose` option.\r\n\r\n_Originally posted by @alan-agius4 in https://github.com/angular/angular-cli/issues/22112#issuecomment-962987474_","Url":"https://github.com/angular/angular-cli/issues/22423","RelatedDescription":"Open issue \"Not seeing Angular CLI proxy debugging information even with --verbose flag\" (#22423)"},{"Id":"1087292199","IsPullRequest":true,"CreatedAt":"2021-12-23T01:11:33","Actor":"kormide","Number":"22422","RawContent":null,"Title":"build: wrap bazel-built tars in a package folder","State":"open","Body":"@josephperrott @gregmagolan \r\n\r\nThe tars produced by the current build script enclose the tar contents in a `package` folder. See https://github.com/angular/angular-cli/blob/master/scripts/build.ts#L76.\r\n\r\nIs this something you want to preserve?\r\n\r\nIt turns out that the tar functionality built into `pkg_npm` already does this by default so we can just use that instead of `pkg_tar`.","Url":"https://github.com/angular/angular-cli/pull/22422","RelatedDescription":"Open PR \"build: wrap bazel-built tars in a package folder\" (#22422)"},{"Id":"1087211192","IsPullRequest":false,"CreatedAt":"2021-12-22T23:13:47","Actor":"arobinson","Number":"22421","RawContent":null,"Title":"Build fails due to tsparticles with Angular 13 due to @babel/runtime location","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> Yes, the previous version in which this bug was not present was: ....\r\nYes, working with Angular 11\r\n\r\n### Description\r\n\r\n<!-- ✍️--> A clear and concise description of the problem...\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\nrunning `ng b` fails, but `ng b -c production` is working for one of our projects\r\n\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem.\r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n## 🔥 Exception or Error\r\n\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ✍️-->\r\n./node_modules/tsparticles/Core/Container.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Core'\r\n\r\n./node_modules/tsparticles/Core/Loader.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Core'\r\n\r\n./node_modules/tsparticles/Interactions/External/Attract/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Interactions/External/Attract'\r\n\r\n./node_modules/tsparticles/Interactions/External/Bounce/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Interactions/External/Bounce'\r\n\r\n./node_modules/tsparticles/Interactions/External/Bubble/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Interactions/External/Bubble'\r\n\r\nm./node_modules/tsparticles/Interactions/External/Connect/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Interactions/External/Connect'\r\n\r\n./node_modules/tsparticles/Interactions/External/Grab/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Interactions/External/Grab'\r\n\r\n./node_modules/tsparticles/Interactions/External/Repulse/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Interactions/External/Repulse'\r\n\r\n./node_modules/tsparticles/Interactions/External/Trail/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Interactions/External/Trail'\r\n\r\n./node_modules/tsparticles/Interactions/Particles/Attract/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Interactions/Particles/Attract'\r\n\r\n./node_modules/tsparticles/Interactions/Particles/Collisions/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Interactions/Particles/Collisions'\r\n\r\n./node_modules/tsparticles/Interactions/Particles/Links/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Interactions/Particles/Links'\r\n\r\n./node_modules/tsparticles/Interactions/Particles/Links/plugin.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Interactions/Particles/Links'\r\n\r\n./node_modules/tsparticles/Plugins/Absorbers/plugin.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Plugins/Absorbers'\r\n\r\n./node_modules/tsparticles/Plugins/Emitters/plugin.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Plugins/Emitters'\r\n\r\n./node_modules/tsparticles/Plugins/PolygonMask/PolygonMaskInstance.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Plugins/PolygonMask'\r\n\r\n./node_modules/tsparticles/Plugins/PolygonMask/plugin.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Plugins/PolygonMask'\r\n\r\n./node_modules/tsparticles/Shapes/Circle/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Shapes/Circle'\r\n\r\n./node_modules/tsparticles/Shapes/Image/ImageDrawer.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Shapes/Image'\r\n\r\n./node_modules/tsparticles/Shapes/Image/Utils.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Shapes/Image'\r\n\r\n./node_modules/tsparticles/Shapes/Image/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Shapes/Image'\r\n\r\n./node_modules/tsparticles/Shapes/Line/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Shapes/Line'\r\n\r\n./node_modules/tsparticles/Shapes/Polygon/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Shapes/Polygon'\r\n\r\n./node_modules/tsparticles/Shapes/Square/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Shapes/Square'\r\n\r\n./node_modules/tsparticles/Shapes/Star/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Shapes/Star'\r\n\r\n./node_modules/tsparticles/Shapes/Text/TextDrawer.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Shapes/Text'\r\n\r\n./node_modules/tsparticles/Shapes/Text/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Shapes/Text'\r\n\r\n./node_modules/tsparticles/Updaters/Angle/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Updaters/Angle'\r\n\r\n./node_modules/tsparticles/Updaters/Color/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Updaters/Color'\r\n\r\n./node_modules/tsparticles/Updaters/Life/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Updaters/Life'\r\n\r\n./node_modules/tsparticles/Updaters/Opacity/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Updaters/Opacity'\r\n\r\n./node_modules/tsparticles/Updaters/OutModes/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Updaters/OutModes'\r\n\r\n./node_modules/tsparticles/Updaters/Roll/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Updaters/Roll'\r\n\r\n./node_modules/tsparticles/Updaters/Size/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Updaters/Size'\r\n\r\n./node_modules/tsparticles/Updaters/StrokeColor/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Updaters/StrokeColor'\r\n\r\n./node_modules/tsparticles/Updaters/Tilt/index.jsm:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Updaters/Tilt'\r\n\r\n./node_modules/tsparticles/Updaters/Wobble/index.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Updaters/Wobble'\r\n\r\n./node_modules/tsparticles/Utils/Utils.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles/Utils'\r\n\r\n./node_modules/tsparticles/full.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles'\r\n\r\n./node_modules/tsparticles/main.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles'\r\n\r\n./node_modules/tsparticles/slim.js:3:24-181 - Error: Module not found: Error: Can't resolve '/Users/andrew/development/work/nw-login/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js' in '/Users/andrew/development/work/nw-login/node_modules/tsparticles'\r\n</code></pre>\r\n\r\n## 🌍 Your Environment\r\n\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\nAngular CLI: 13.1.2\r\nNode: 14.17.1\r\nPackage Manager: npm 6.14.13\r\nOS: darwin x64\r\n\r\nAngular: 13.1.1\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1301.2\r\n@angular-devkit/build-angular   13.1.2\r\n@angular-devkit/core            13.1.2\r\n@angular-devkit/schematics      13.1.2\r\n@angular/cli                    13.1.2\r\n@schematics/angular             13.1.2\r\nrxjs                            7.4.0\r\ntypescript                      4.5.4\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n\r\nHappening after upgrading from Angular 11 to 13. It seems like this may potentially be a regression caused by https://github.com/angular/angular-cli/issues/20800\r\n\r\n`@babel/runtime` is hoisted as multiple packages are using it in our project:\r\n```\r\n├─┬ @angular-devkit/build-angular@13.1.2\r\n│ ├─┬ @babel/preset-env@7.16.4\r\n│ │ └─┬ @babel/plugin-transform-regenerator@7.16.5\r\n│ │   └─┬ regenerator-transform@0.14.5\r\n│ │     └── @babel/runtime@7.16.3  deduped\r\n│ └── @babel/runtime@7.16.3\r\n├─┬ @angular-eslint/eslint-plugin-template@13.0.1\r\n│ └─┬ aria-query@4.2.2\r\n│   └── @babel/runtime@7.16.3  deduped\r\n└─┬ broadcast-channel@4.8.0\r\n  ├── @babel/runtime@7.16.3  deduped\r\n  └─┬ unload@2.3.1\r\n    └── @babel/runtime@7.16.3  deduped\r\n```\r\n\r\nIt seems some code is assuming incorrectly that the @babel folder would not be hoisted and is assuming that it should be under `node_modules/@angular-devkit/build-angular/node_modules`\r\n\r\nThis is all that is under that folder:\r\n```\r\nll node_modules/@angular-devkit/build-angular/node_modules\r\ntotal 0\r\ndrwxr-xr-x  16 andrew  staff   512B Dec 22 14:25 core-js\r\ndrwxr-xr-x   7 andrew  staff   224B Dec 22 14:25 esbuild\r\ndrwxr-xr-x  75 andrew  staff   2.3K Dec 22 14:25 rxjs\r\n```\r\n \r\n\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/22421","RelatedDescription":"Closed issue \"Build fails due to tsparticles with Angular 13 due to @babel/runtime location\" (#22421)"},{"Id":"1087117960","IsPullRequest":true,"CreatedAt":"2021-12-22T19:17:41","Actor":"dymart","Number":"22420","RawContent":null,"Title":"test: add multiple node versions for each test","State":"open","Body":"","Url":"https://github.com/angular/angular-cli/pull/22420","RelatedDescription":"Open PR \"test: add multiple node versions for each test\" (#22420)"},{"Id":"1087042156","IsPullRequest":false,"CreatedAt":"2021-12-22T17:35:45","Actor":"digit81","Number":"22419","RawContent":null,"Title":"Conflicting peer dependency","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nservice-worker\n\n### Is this a regression?\n\nNo\n\n### Description\n\nI have such error when updating libraries:\r\n\r\n```\r\nnpm ERR! Found: @angular-devkit/build-angular@13.0.4\r\nnpm ERR! node_modules/@angular-devkit/build-angular\r\nnpm ERR!   dev @angular-devkit/build-angular@\"~13.1.2\" from the root project\r\nnpm ERR! \r\nnpm ERR! Could not resolve dependency:\r\nnpm ERR! dev @angular-devkit/build-angular@\"~13.1.2\" from the root project\r\nnpm ERR! \r\nnpm ERR! Conflicting peer dependency: @angular/core@13.1.1\r\nnpm ERR! node_modules/@angular/core\r\nnpm ERR!   peer @angular/core@\"13.1.1\" from @angular/service-worker@13.1.1\r\nnpm ERR!   node_modules/@angular/service-worker\r\nnpm ERR!     peerOptional @angular/service-worker@\"^13.0.0 || ^13.1.0-next\" from @angular-devkit/build-angular@13.1.2\r\nnpm ERR!     node_modules/@angular-devkit/build-angular\r\nnpm ERR!       dev @angular-devkit/build-angular@\"~13.1.2\" from the root project\r\n```\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nYour global Angular CLI version (13.1.2) is greater than your local version (13.0.4). The local Angular CLI version is used.\r\n\r\nTo disable this warning use \"ng config -g cli.warnings.versionMismatch false\".\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 13.0.4\r\nNode: 16.13.1\r\nPackage Manager: npm 8.3.0\r\nOS: linux x64\r\n\r\nAngular: 13.0.3\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1300.4\r\n@angular-devkit/build-angular   13.0.4\r\n@angular-devkit/core            13.0.4\r\n@angular-devkit/schematics      13.0.4\r\n@angular/cdk                    13.0.4\r\n@angular/cli                    13.0.4\r\n@schematics/angular             13.0.4\r\nrxjs                            7.4.0\r\ntypescript                      4.4.4\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/22419","RelatedDescription":"Closed issue \"Conflicting peer dependency\" (#22419)"},{"Id":"1086948007","IsPullRequest":false,"CreatedAt":"2021-12-22T15:37:32","Actor":"SamShekhovtsov","Number":"22418","RawContent":null,"Title":"Can't customize path for lazy loaded module chunks","State":"open","Body":"# 🐞 Bug report\r\nProvided that Angular files are served not from the application root, but custom folder, there is no way to customize path for loaded chunks.\r\n\r\n### Is this a regression?\r\nno\r\n\r\n### Description\r\n\r\nLet's say that there is a multi - modular Angular 13 application, where modules are loaded using lazy - loading. The problem happens when the generated Angular files like main.[hash].js, pollyfils.[hash].js and runtime.[hash].js are located NOT at the site root. The structure looks like following:\r\n\r\n/index.html\r\n  /mysitefolder/main.f29052602897eb02.js\r\n  /mysitefolder/styles.755cfc65dad8627d.css\r\n  /mysitefolder/polyfills.eca354b64e370005.js\r\n  /mysitefolder/runtime.54752149a889ba60.js\r\n  /mysitefolder/815.d3bd01384abd247c.js\r\n\r\nWhen application runs, it tries to load the chunk file 815.d3bd01384abd247c.js from the application root, not from it's actual location, obviously chunk load fails. There is no configuration to customize chunk base path.\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\nCreate a simple Angular application, where files are located not at the server root but at the custom directory. The chunks are not loaded. For this example, let's say that the Angular.json file has following setting:\r\n\r\n\"outputPath\": \"../public/mysitefolder\"\r\n\r\n## 🔥 Exception or Error\r\n\r\n## 🌍 Your Environment\r\n\r\n<pre><code>\r\nAngular CLI: 13.0.2\r\nNode: 12.22.7\r\nPackage Manager: npm 8.1.0\r\nOS: linux x64\r\n\r\nAngular: 13.0.1\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1300.2\r\n@angular-devkit/build-angular   13.0.2\r\n@angular-devkit/core            13.0.2\r\n@angular-devkit/schematics      13.0.2\r\n@angular/cli                    13.0.2\r\n@schematics/angular             13.0.2\r\nrxjs                            7.4.0\r\ntypescript                      4.4.4\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/22418","RelatedDescription":"Open issue \"Can't customize path for lazy loaded module chunks\" (#22418)"},{"Id":"1086743108","IsPullRequest":true,"CreatedAt":"2021-12-22T11:46:24","Actor":"fALKENdk","Number":"22417","RawContent":null,"Title":"refactor(@schematics/angular): changed casings and small reorganizing","State":"open","Body":"Updated casings so all categories starts with a capital letter and did some small reorganizations ","Url":"https://github.com/angular/angular-cli/pull/22417","RelatedDescription":"Open PR \"refactor(@schematics/angular): changed casings and small reorganizing\" (#22417)"},{"Id":"1085856131","IsPullRequest":false,"CreatedAt":"2021-12-21T13:51:35","Actor":"sandeeppatidar30","Number":"22415","RawContent":null,"Title":"ng g @nrwl/angular:application failing while running using externalSchematic","State":"open","Body":"# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [X] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Is this a regression?\r\nNo\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> Yes, the previous version in which this bug was not present was: ....\r\n\r\n### Description\r\n\r\n<!-- ✍️--> ng g `@nrwl/angular:application` if i run it using `externalSchematic`.\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\n1. Create a custom generator\r\n2. Run ng g @nrwl/angular:application using externalSchematics\r\n\r\n```ts\r\nimport { chain, externalSchematic, mergeWith, Rule, SchematicContext, template, Tree,  url } from '@angular-devkit/schematics';\r\n   export default function(schema: Schema): Rule {\r\n     return (host: Tree, context: SchematicContext) => {\r\n   \r\n       return chain([\r\n         externalSchematic('@nrwl/angular', 'application', {\r\n           name: 'myapp'\r\n         })\r\n       ])(host, context);\r\n     };\r\n   }\r\n```\r\n3. After running above generator e.g. `ng g @org/mylib:my-custom-generator`\r\n\r\n## 🔥 Exception or Error\r\n\r\n```\r\n\r\n[NX] Angular devkit called `writeWorkspace`, this may have had unintended consequences in angular.json\r\n[NX] Double check angular.json before proceeding\r\nError: Could not find an NgModule. Use the skip-import option to skip importing in NgModule.\r\n   at findModule (C:\\workspace\\tooling\\tooling-examples\\556-check\\ruf560test5\\node_modules\\@schematics\\angular\\utility\\find-module.js:81:11)\r\n   at findModuleFromOptions (C:\\workspace\\tooling\\tooling-examples\\556-check\\ruf560test5\\node_modules\\@schematics\\angular\\utility\\find-module.js:26:38)\r\n   at C:\\workspace\\tooling\\tooling-examples\\556-check\\ruf560test5\\node_modules\\@schematics\\angular\\component\\index.js:105:66\r\n   at processTicksAndRejections (internal/process/task_queues.js:93:5)\r\nError: Could not find an NgModule. Use the skip-import option to skip importing in NgModule.\r\n   at findModule (C:\\workspace\\tooling\\tooling-examples\\556-check\\ruf560test5\\node_modules\\@schematics\\angular\\utility\\find-module.js:81:11)\r\n   at findModuleFromOptions (C:\\workspace\\tooling\\tooling-examples\\556-check\\ruf560test5\\node_modules\\@schematics\\angular\\utility\\find-module.js:26:38)\r\nodule.\r\n   at findModule (C:\\workspace\\tooling\\tooling-examples\\556-check\\ruf560test5\\node_modules\\@schematics\\angular\\utility\\find-module.js:81:11)\r\n   at findModuleFromOptions (C:\\workspace\\tooling\\tooling-examples\\556-check\\ruf560test5\\node_modules\\@schematics\\angular\\utility\\find-module.js:26:38)\r\n   at C:\\workspace\\tooling\\tooling-examples\\556-check\\ruf560test5\\node_modules\\@schematics\\angular\\component\\index.js:105:66\r\n   at processTicksAndRejections (internal/process/task_queues.js:93:5)\r\nError: Could not find an NgModule. Use the skip-import option to skip importing in NgModule.\r\n   at findModule (C:\\workspace\\tooling\\tooling-examples\\556-check\\ruf560test5\\node_modules\\@schematics\\angular\\utility\\find-module.js:81:11)\r\n   at findModuleFromOptions (C:\\workspace\\tooling\\tooling-examples\\556-check\\ruf560test5\\node_modules\\@schematics\\angular\\utility\\find-module.js:26:38)\r\n   at C:\\workspace\\tooling\\tooling-examples\\556-check\\ruf560test5\\node_modules\\@schem\r\n```\r\n\r\n## 🌍 Your Environment\r\n\r\n@angular-devkit/architect v0.1301.2\r\n@angular-devkit/build-angular v13.1.2\r\n@angular-devkit/schematics v13.1.2\r\n@nrwl/angular v13.3.11\r\n<img width=\"605\" alt=\"nrwl\" src=\"https://user-images.githubusercontent.com/31273891/146940998-d5761d7c-a6b0-4913-968f-0ea52da63d09.png\">\r\n\r\n","Url":"https://github.com/angular/angular-cli/issues/22415","RelatedDescription":"Open issue \"ng g @nrwl/angular:application failing while running using externalSchematic\" (#22415)"},{"Id":"1085539338","IsPullRequest":false,"CreatedAt":"2021-12-21T06:51:06","Actor":"dulikmixail","Number":"22414","RawContent":null,"Title":"Angular tree-shaking don't remove unused providers","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncompiler-cli, compiler\n\n### Is this a regression?\n\nNo\n\n### Description\n\nThere are two projects. Projects use dynamic component rendering by component token(see `DynamicComponentDirective`). \r\n\r\nThe first project has a `HeaderModule` with  `providers: [{ provide: HeaderToken, useValue: HeaderComponent }]`\r\n`HeaderModule` imported  in `AppModule`.\r\n\r\nThe second project imports the `AppModule` from the first project into the `AppModule`. `AppModule` of the second project imports a new `HeaderModule`, which provides `HeaderToken` with new value `OverrideHeaderComponent`.\r\n\r\nI expect the build of the second project will only include the `OverrideHeaderComponent`, but the build includes the `HeaderComponent` and the `OverrideHeaderComponent`. How do I exclude the `HeaderComponent` from the build of the second project?\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://github.com/dulikmixail/project-hierarchy-sample\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 11.2.17\r\nNode: 14.17.0\r\nOS: linux x64\r\n\r\nAngular: 11.2.14\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1102.17\r\n@angular-devkit/build-angular   0.1102.17\r\n@angular-devkit/core            11.2.17\r\n@angular-devkit/schematics      11.2.17\r\n@angular/cli                    11.2.17\r\n@schematics/angular             11.2.17\r\n@schematics/update              0.1102.17\r\nng-packagr                      11.2.4\r\nrxjs                            6.6.7\r\ntypescript                      4.1.6\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/22414","RelatedDescription":"Open issue \"Angular tree-shaking don't remove unused providers\" (#22414)"},{"Id":"1084844205","IsPullRequest":false,"CreatedAt":"2021-12-20T11:43:40","Actor":"zmara","Number":"22413","RawContent":null,"Title":"Require in prod build: ReferenceError: require is not defined","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\ncompiler, core\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nImporting libraries via require should work in production build too. (It works in development build)\r\n\r\nHow else should I import libraries that cannot be imported via import.\r\n\r\nFor exmple bpmn-js\r\n```\r\n\r\n`import 'bpmn-js/dist/bpmn-viewer.development.js';\r\nimport 'bpmn-js/dist/bpmn-modeler.development.js';\r\nimport 'diagram-js/lib/draw/BaseRenderer.js';\r\nimport 'bpmn-js-properties-panel';\r\nimport 'bpmn-js-properties-panel/lib/factory/EntryFactory';\r\nimport 'bpmn-js/lib/features/palette/PaletteProvider';\r\nimport 'bpmn-js-properties-panel/lib/provider/bpmn';\r\n\r\nexport const InjectionNames = {\r\n  eventBus: 'eventBus',\r\n  bpmnFactory: 'bpmnFactory',\r\n  elementRegistry: 'elementRegistry',\r\n  translate: 'translate',\r\n  propertiesProvider: 'propertiesProvider',\r\n  bpmnPropertiesProvider: 'bpmnPropertiesProvider',\r\n  paletteProvider: 'paletteProvider',\r\n  originalPaletteProvider: 'originalPaletteProvider',\r\n};\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-var-requires\r\nexport const BpmnViewer = require('bpmn-js/dist/bpmn-viewer.development.js');\r\n// eslint-disable-next-line @typescript-eslint/no-var-requires\r\nexport const BpmnModeler = require('bpmn-js/dist/bpmn-modeler.development.js');\r\n// eslint-disable-next-line @typescript-eslint/no-var-requires\r\nexport const BpmnBaseRenderer = require('diagram-js/lib/draw/BaseRenderer.js');\r\n// eslint-disable-next-line @typescript-eslint/no-var-requires\r\nexport const PropertiesPanelModule = require('bpmn-js-properties-panel');\r\n// eslint-disable-next-line @typescript-eslint/no-var-requires\r\nexport const EntryFactory = require('bpmn-js-properties-panel/lib/factory/EntryFactory');\r\n// eslint-disable-next-line @typescript-eslint/no-var-requires\r\nexport const OriginalPaletteProvider = require('bpmn-js/lib/features/palette/PaletteProvider');\r\n// eslint-disable-next-line @typescript-eslint/no-var-requires\r\nexport const OriginalPropertiesProvider = require('bpmn-js-properties-panel/lib/provider/bpmn');`\r\n```\r\n","Url":"https://github.com/angular/angular-cli/issues/22413","RelatedDescription":"Open issue \"Require in prod build: ReferenceError: require is not defined\" (#22413)"},{"Id":"1083831639","IsPullRequest":false,"CreatedAt":"2021-12-20T10:29:46","Actor":"RaviGuggilam","Number":"22408","RawContent":null,"Title":"unable to install angular 12 globally from 13.2.0-next.1","State":"closed","Body":"Unable to install angular 12 from 13.2.0-next.1\r\n\r\nI tried below command\r\nnpm install -g @angular/cli@12\r\n\r\nPFA reference\r\n\r\n![image](https://user-images.githubusercontent.com/66006795/146642433-e53979de-2b83-4bd1-9477-18189c216780.png)\r\n","Url":"https://github.com/angular/angular-cli/issues/22408","RelatedDescription":"Closed issue \"unable to install angular 12 globally from 13.2.0-next.1\" (#22408)"},{"Id":"1084503583","IsPullRequest":true,"CreatedAt":"2021-12-20T08:32:32","Actor":"renovate[bot]","Number":"22411","RawContent":null,"Title":"build: lock file maintenance","State":"open","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Update | Change |\n|---|---|\n| lockFileMaintenance | All locks refreshed |\n\n🔧 This Pull Request updates lock files to use the latest dependency versions.\n\n---\n\n### Configuration\n\n📅 **Schedule**: \"before 5am on monday\" in timezone America/Tijuana.\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/renovatebot/renovate/discussions) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/22411","RelatedDescription":"Open PR \"build: lock file maintenance\" (#22411)"},{"Id":"1084843779","IsPullRequest":false,"CreatedAt":"2021-12-20T08:18:48","Actor":"Karan653","Number":"22412","RawContent":null,"Title":"can't find stylesheet to import \"~@angular/material/theming\";","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\nupgrade\n\n### Is this a regression?\n\nNo\n\n### Description\n\n We have migrated our angular version from 11 to 12 and removed 'node-sass' in the favour of sass package , we have a shared library used across multiple mircro applications. While building library we are getting following isssue\r\n\r\ncan't find stylesheet to import \"~@angular/material/theming\";\r\n\r\nwe have tried different alternatives with and without tilday (~) and adding node_modules In the path. Please suggest if this is \r\nbug or we have any resolution for that\r\n\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\ncan't find stylesheet to import \"~@angular/material/theming\";\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\n\"@angular-devkit/build-angular\": \"12.2.14\",\r\n    \"@angular/animations\": \"~12.2.15\",\r\n    \"@angular/cdk\": \"^12.2.13\",\r\n    \"@angular/cli\": \"~12.2.14\",\r\n    \"@angular/common\": \"~12.2.15\",\r\n    \"@angular/compiler\": \"~12.2.15\",\r\n    \"@angular/compiler-cli\": \"~12.2.15\",\r\n    \"@angular/core\": \"~12.2.15\",\r\n    \"@angular/elements\": \"~12.2.15\",\r\n    \"@angular/forms\": \"~12.2.15\",\r\n    \"@angular/language-service\": \"~12.2.15\",\r\n    \"@angular/material\": \"~12.2.13\",\r\n    \"@angular/material-moment-adapter\": \"~12.2.13\",\r\n    \"@angular/platform-browser\": \"~12.2.15\",\r\n    \"@angular/platform-browser-dynamic\": \"~12.2.15\",\r\n    \"@angular/router\": \"~12.2.15\",\r\n      \"ng-packagr\": \"^12.2.6\",\r\n       \"sass\": \"^1.45.0\",\n```\n\n\n### Anything else?\n\nPrior to this we were using angular 11 and node-sass where it was working fine and were using following import \r\n\r\n@use \"~@angular/material\" as mat; ()\r\n\r\n // CUSTOM THEME FOR ANGULAR MATERIALS\r\n@import \"node_modules/@angular/material/theming\";\r\n","Url":"https://github.com/angular/angular-cli/issues/22412","RelatedDescription":"Open issue \"can't find stylesheet to import \"~@angular/material/theming\";\" (#22412)"},{"Id":"1084119043","IsPullRequest":false,"CreatedAt":"2021-12-19T19:26:06","Actor":"iharsh0088","Number":"22410","RawContent":null,"Title":"Error while running ng build --prod Unexpected character '@' [node_modules/material-design-icons/iconfont/material-icons.css:1,0]","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\nDo not know\r\n### Description\r\n\r\n\r\nWhen trying to run ng build --prod it is giving error.\r\n## 🔬 Minimal Reproduction\r\n### package.json\r\n\r\n> {\r\n>   \"name\": \"app\",\r\n>   \"version\": \"1.0.0\",\r\n>   \"scripts\": {\r\n>     \"ng\": \"ng\",\r\n>     \"start\": \"ng serve\",\r\n>     \"build\": \"ng build\",\r\n>     \"test\": \"ng test\",\r\n>     \"lint\": \"ng lint\",\r\n>     \"e2e\": \"ng e2e\"\r\n>   },\r\n>   \"private\": true,\r\n>   \"dependencies\": {\r\n>     \"@angular/animations\": \"~11.2.4\",\r\n>     \"@angular/cdk\": \"^11.2.13\",\r\n>     \"@angular/common\": \"~11.2.4\",\r\n>     \"@angular/compiler\": \"~11.2.4\",\r\n>     \"@angular/core\": \"~11.2.4\",\r\n>     \"@angular/forms\": \"~11.2.4\",\r\n>     \"@angular/material\": \"^11.2.13\",\r\n>     \"@angular/platform-browser\": \"~11.2.4\",\r\n>     \"@angular/platform-browser-dynamic\": \"~11.2.4\",\r\n>     \"@angular/router\": \"~11.2.4\",\r\n>     \"angular-gridster2\": \"^11.2.0\",\r\n>     \"d3\": \"^7.1.1\",\r\n>     \"material-design-icons\": \"^3.0.1\",\r\n>     \"ng-circle-progress\": \"^1.6.0\",\r\n>     \"rxjs\": \"~6.6.0\",\r\n>     \"toastr\": \"^2.1.4\",\r\n>     \"tslib\": \"^2.0.0\",\r\n>     \"videojs-offset\": \"^2.1.3\",\r\n>     \"videojs-youtube\": \"^2.6.1\",\r\n>     \"zone.js\": \"~0.11.3\"\r\n>   },\r\n>   \"devDependencies\": {\r\n>     \"@angular-devkit/build-angular\": \"~0.1102.3\",\r\n>     \"@angular/cli\": \"~11.2.3\",\r\n>     \"@angular/compiler-cli\": \"~11.2.4\",\r\n>     \"@types/d3\": \"^7.0.0\",\r\n>     \"@types/jasmine\": \"~3.6.0\",\r\n>     \"@types/node\": \"^12.11.1\",\r\n>     \"codelyzer\": \"^6.0.0\",\r\n>     \"jasmine-core\": \"~3.6.0\",\r\n>     \"jasmine-spec-reporter\": \"~5.0.0\",\r\n>     \"karma\": \"~6.1.0\",\r\n>     \"karma-chrome-launcher\": \"~3.1.0\",\r\n>     \"karma-coverage\": \"~2.0.3\",\r\n>     \"karma-jasmine\": \"~4.0.0\",\r\n>     \"karma-jasmine-html-reporter\": \"^1.5.0\",\r\n>     \"protractor\": \"~7.0.0\",\r\n>     \"ts-node\": \"~8.3.0\",\r\n>     \"tslint\": \"~6.1.0\",\r\n>     \"typescript\": \"~4.1.5\"\r\n>   }\r\n> }\r\n\r\n### angular.json\r\n\r\n> {\r\n>   \"$schema\": \"./node_modules/@angular/cli/lib/config/schema.json\",\r\n>   \"version\": 1,\r\n>   \"newProjectRoot\": \"projects\",\r\n>   \"projects\": {\r\n>     \"app\": {\r\n>       \"projectType\": \"application\",\r\n>       \"schematics\": {\r\n>         \"@schematics/angular:application\": {\r\n>           \"strict\": true\r\n>         }\r\n>       },\r\n>       \"root\": \"\",\r\n>       \"sourceRoot\": \"src\",\r\n>       \"prefix\": \"app\",\r\n>       \"architect\": {\r\n>         \"build\": {\r\n>           \"builder\": \"@angular-devkit/build-angular:browser\",\r\n>           \"options\": {\r\n>             \"outputPath\": \"dist/app\",\r\n>             \"index\": \"src/index.html\",\r\n>             \"main\": \"src/main.ts\",\r\n>             \"polyfills\": \"src/polyfills.ts\",\r\n>             \"tsConfig\": \"tsconfig.app.json\",\r\n>             \"aot\": true,\r\n>             \"assets\": [\r\n>               \"src/favicon.ico\",\r\n>               \"src/assets\"\r\n>             ],\r\n>             \"styles\": [\r\n>               \"./node_modules/video.js/dist/video-js.min.css\",\r\n>               \"./node_modules/material-design-icons/iconfont/material-icons.css\",\r\n>               \"./node_modules/@angular/material/prebuilt-themes/indigo-pink.css\",\r\n>               \"src/styles.css\"\r\n>             ],\r\n>             \"scripts\": [\r\n>               \"./node_modules/material-design-icons/iconfont/material-icons.css\",\r\n>             \"./node_modules/video.js/dist/video.min.js\",\r\n>               \"./node_modules/videojs-youtube/dist/Youtube.min.js\",\r\n>               \"./node_modules/videojs-offset/dist/videojs-offset.js\",\r\n>               \"./node_modules/toastr/toastr.js\",\r\n>               \"./node_modules/toastr/toastr.scss\" \r\n>             ]\r\n>           },\r\n>           \"configurations\": {\r\n>             \"production\": {\r\n>               \"fileReplacements\": [\r\n>                 {\r\n>                   \"replace\": \"src/environments/environment.ts\",\r\n>                   \"with\": \"src/environments/environment.prod.ts\"\r\n>                 }\r\n>               ],\r\n>               \"optimization\": true,\r\n>               \"outputHashing\": \"all\",\r\n>               \"sourceMap\": false,\r\n>               \"namedChunks\": false,\r\n>               \"extractLicenses\": true,\r\n>               \"vendorChunk\": false,\r\n>               \"buildOptimizer\": true,\r\n>               \"budgets\": [\r\n>                 {\r\n>                   \"type\": \"initial\",\r\n>                   \"maximumWarning\": \"500kb\",\r\n>                   \"maximumError\": \"1mb\"\r\n>                 },\r\n>                 {\r\n>                   \"type\": \"anyComponentStyle\",\r\n>                   \"maximumWarning\": \"2kb\",\r\n>                   \"maximumError\": \"4kb\"\r\n>                 }\r\n>               ]\r\n>             }\r\n>           }\r\n>         },\r\n>         \"serve\": {\r\n>           \"builder\": \"@angular-devkit/build-angular:dev-server\",\r\n>           \"options\": {\r\n>             \"browserTarget\": \"app:build\"\r\n>           },\r\n>           \"configurations\": {\r\n>             \"production\": {\r\n>               \"browserTarget\": \"app:build:production\"\r\n>             }\r\n>           }\r\n>         },\r\n>         \"extract-i18n\": {\r\n>           \"builder\": \"@angular-devkit/build-angular:extract-i18n\",\r\n>           \"options\": {\r\n>             \"browserTarget\": \"app:build\"\r\n>           }\r\n>         },\r\n>         \"test\": {\r\n>           \"builder\": \"@angular-devkit/build-angular:karma\",\r\n>           \"options\": {\r\n>             \"main\": \"src/test.ts\",\r\n>             \"polyfills\": \"src/polyfills.ts\",\r\n>             \"tsConfig\": \"tsconfig.spec.json\",\r\n>             \"karmaConfig\": \"karma.conf.js\",\r\n>             \"assets\": [\r\n>               \"src/favicon.ico\",\r\n>               \"src/assets\"\r\n>             ],\r\n>             \"styles\": [\r\n>               \"./node_modules/@angular/material/prebuilt-themes/indigo-pink.css\",\r\n>               \"src/styles.css\"\r\n>             ],\r\n>             \"scripts\": []\r\n>           }\r\n>         },\r\n>         \"lint\": {\r\n>           \"builder\": \"@angular-devkit/build-angular:tslint\",\r\n>           \"options\": {\r\n>             \"tsConfig\": [\r\n>               \"tsconfig.app.json\",\r\n>               \"tsconfig.spec.json\",\r\n>               \"e2e/tsconfig.json\"\r\n>             ],\r\n>             \"exclude\": [\r\n>               \"**/node_modules/**\"\r\n>             ]\r\n>           }\r\n>         },\r\n>         \"e2e\": {\r\n>           \"builder\": \"@angular-devkit/build-angular:protractor\",\r\n>           \"options\": {\r\n>             \"protractorConfig\": \"e2e/protractor.conf.js\",\r\n>             \"devServerTarget\": \"app:serve\"\r\n>           },\r\n>           \"configurations\": {\r\n>             \"production\": {\r\n>               \"devServerTarget\": \"app:serve:production\"\r\n>             }\r\n>           }\r\n>         }\r\n>       }\r\n>     }\r\n>   },\r\n>   \"defaultProject\": \"app\"\r\n> }\r\n\r\n\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem.\r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n## 🔥 Exception or Error\r\n\r\n<pre><code>\r\n$ ng build --prod --source-map\r\nWarning: Support was requested for IE 9 & IE 10 in the project's browserslist configuration. These browsers are no longer officially supported with Angular v11 and higher.\r\nFor additional information: https://v10.angular.io/guide/deprecations#ie-9-10-and-mobile\r\n✔ Browser application bundle generation complete.\r\n\r\nUnexpected character '@' [node_modules/material-design-icons/iconfont/material-icons.css:1,0][scripts.ddd1e2a85034a709d624.js:1,0]\r\n    at js_error (/mnt/h/dir/app/node_modules/terser/dist/bundle.min.js:546:11)\r\n    at parse_error (/mnt/h/dir/app/node_modules/terser/dist/bundle.min.js:682:9)\r\n    at Object.next_token [as input] (/mnt/h/dir/app/node_modules/terser/dist/bundle.min.js:1109:9)\r\n    at peek (/mnt/h/dir/app/node_modules/terser/dist/bundle.min.js:1244:56)\r\n    at next (/mnt/h/dir/app/node_modules/terser/dist/bundle.min.js:1249:24)\r\n    at parse (/mnt/h/dir/app/node_modules/terser/dist/bundle.min.js:1238:15)\r\n    at minify (/mnt/h/dir/app/node_modules/terser/dist/bundle.min.js:26237:38)\r\n    at minify (/mnt/h/dir/app/node_modules/terser-webpack-plugin/dist/minify.js:162:24)\r\n    at Object.transform (/mnt/h/dir/app/node_modules/terser-webpack-plugin/dist/minify.js:175:10)\r\n    at execFunction (/mnt/h/dir/app/node_modules/jest-worker/build/workers/processChild.js:145:17)\r\n\r\n</code></pre>\r\n\r\n## 🌍 Your Environment\r\n\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\nng version\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 11.2.3\r\nNode: 10.24.1\r\nOS: linux x64\r\n\r\nAngular: \r\n... \r\nIvy Workspace: \r\n\r\nPackage                      Version\r\n------------------------------------------------------\r\n@angular-devkit/architect    0.1102.3 (cli-only)\r\n@angular-devkit/core         11.2.3 (cli-only)\r\n@angular-devkit/schematics   11.2.3 (cli-only)\r\n@schematics/angular          11.2.3 (cli-only)\r\n@schematics/update           0.1102.3 (cli-only)\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/22410","RelatedDescription":"Closed issue \"Error while running ng build --prod Unexpected character '@' [node_modules/material-design-icons/iconfont/material-icons.css:1,0]\" (#22410)"}],"ResultType":"GitHubIssue"},"material2-Issues":{"Issues":[{"Id":"1091413361","IsPullRequest":false,"CreatedAt":"2021-12-31T04:35:40","Actor":"james-schwartzkopf","Number":"24147","RawContent":null,"Title":"bug(mat-tab): isActive is not set, and no events are emitted when active tab is replaced","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\nI think this issue has always been present\n\n### Description\n\nWhen the active tab is replaced (e.g. when *ngFor sees a new object in the active tabs position), no events are emitted, and the new tab does not have isActive set.\r\n\r\nI can understand selectedIndexChange not firing since the selected index hasn't changed, but I'd argue there is a case for emitting selectedTabChange since the selected tab instance has changed.  \r\n\r\nEither way, isActive should be set on the new tabs instance.\n\n### Reproduction\n\nSteps to reproduce:\r\nhttps://stackblitz.com/edit/components-issue-fmcjbc?devtoolsheight=33&file=src%2Fapp%2Fexample-component.html\r\n1. Switch tabs, notice the events fire and tab.isActive updates\r\n2. Click the \"Replace tab instance\"\r\n3. Note that no events are emitted and tab.isActive is no longer true.\r\n\n\n### Expected Behavior\n\nI would expect selectedTabChange to emit, and for tab.isActive to be true.\n\n### Actual Behavior\n\nNo events are emitted and tab.isActive is not false.\n\n### Environment\n\nThe stackblitz issue template appears to be 12.2, but I have duplicated this in 13.  I was unable to fork the stackblitz from the tab examples in the docs.","Url":"https://github.com/angular/components/issues/24147","RelatedDescription":"Open issue \"bug(mat-tab): isActive is not set, and no events are emitted when active tab is replaced\" (#24147)"},{"Id":"1091217256","IsPullRequest":false,"CreatedAt":"2021-12-30T17:09:55","Actor":"pauldraper","Number":"24146","RawContent":null,"Title":"Unlisted dependency on @angular/platform-browser","State":"open","Body":"### Feature Description\n\nThere is a dependency on the `@angular/platform-browser` package, but this dependency is missing from package.json.\r\n\r\nhttps://github.com/angular/components/blob/59002e1649123922df3532f4be78c485a73c5bc1/src/material/button/button.ts\n\n### Use Case\n\nThis can make package managers not link properly.","Url":"https://github.com/angular/components/issues/24146","RelatedDescription":"Open issue \"Unlisted dependency on @angular/platform-browser\" (#24146)"},{"Id":"1091162318","IsPullRequest":false,"CreatedAt":"2021-12-30T15:13:56","Actor":"enten","Number":"24145","RawContent":null,"Title":"help(material-experimental/mdc-button): Why `MatFabAnchor` component using `MAT_BUTTON_INPUTS`?","State":"open","Body":"### What are you trying to do?\r\n\r\nI'm wondering why `MatFabAnchor` component using `MAT_BUTTON_INPUTS` as component's inputs? Would that be a mistake?\r\n\r\nWe can see that `MatMiniFabAnchor` component using `MAT_ANCHOR_INPUTS` as component's inputs (instead of `MAT_BUTTON_INPUTS`).\r\n\r\n```ts\r\n@Component({\r\n  selector: `a[mat-fab]`,\r\n  templateUrl: 'button.html',\r\n  styleUrls: ['fab.css'],\r\n  inputs: [...MAT_BUTTON_INPUTS, 'extended'],\r\n  host: {\r\n    ...MAT_ANCHOR_HOST,\r\n    '[class.mdc-fab--extended]': 'extended',\r\n    '[class.mat-mdc-extended-fab]': 'extended',\r\n  },\r\n  exportAs: 'matButton, matAnchor',\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MatFabAnchor extends MatAnchor {\r\n  // ...\r\n}\r\n\r\n@Component({\r\n  selector: `a[mat-mini-fab]`,\r\n  templateUrl: 'button.html',\r\n  styleUrls: ['fab.css'],\r\n  inputs: MAT_ANCHOR_INPUTS,\r\n  host: MAT_ANCHOR_HOST,\r\n  exportAs: 'matButton, matAnchor',\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MatMiniFabAnchor extends MatAnchor {\r\n  // ...\r\n}\r\n```\r\n\r\n### What troubleshooting steps have you tried?\r\n\r\nNA\r\n\r\n### Reproduction\r\n\r\nSteps to reproduce:\r\n1. See source code [material-experimental/mdc-button/fab.ts#L145](https://github.com/angular/components/blob/24180d1/src/material-experimental/mdc-button/fab.ts#L145)\r\n\r\n\r\n### Environment\r\n\r\n- Angular: All\r\n- CDK/Material: material-experimental 24180d1\r\n- Browser(s): All\r\n- Operating System (e.g. Windows, macOS, Ubuntu): All\r\n","Url":"https://github.com/angular/components/issues/24145","RelatedDescription":"Open issue \"help(material-experimental/mdc-button): Why `MatFabAnchor` component using `MAT_BUTTON_INPUTS`?\" (#24145)"},{"Id":"1090205154","IsPullRequest":false,"CreatedAt":"2021-12-30T13:44:53","Actor":"ArneAdriaenssens","Number":"24141","RawContent":null,"Title":"bug(mat-selection-list): using objects as value for the mat-list-options does not work","State":"closed","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nWhen using the `mat-selection-list` with objects to use as values for the nested `mat-list-option` components, the application freezes and crashes. At first I thought it was a matter of passing a valid function to the ` compareWith` prop but it turns out this function is never called.  \r\n\r\nDuring my investigation I noticed that depending on the `ChangeDetectionStrategy` used, we can prevent a browser crash. When set to `Default` the browser will crash but using `OnPush` will prevent this (probably unrelated but useful for debugging). \r\n\r\nWhen using the exact same setup but passing strings as values for the nested `mat-list-options` components, it works as expected and allows for selecting/deselecting options.\r\n\r\nI did not find other bugs that report this behavior, however there is [another bug](https://github.com/angular/components/issues/15495) that talks about the `compareWith` not being called which might be part of the issue.\n\n### Reproduction\n\nSteps to reproduce:\r\n1. https://stackblitz.com/edit/components-issue-wp9cof?file=src/app/example-component.html\r\n\r\nThe first `mat-selection-list` uses strings and works as expected. The second one fails and does nothing. When changing the change detection to `Default` it will freeze up your browser.\r\n\n\n### Expected Behavior\n\nWhen passing an object as value to the `mat-list-option` it should allow for selecting and deselecting the corresponding `mat-list-option` and the `mat-selection-list` should emit the correct value.\n\n### Actual Behavior\n\nWhen passing an object as value to the `mat-list-option` the browser freezes or the `mat-selection-list` does not emit anything\n\n### Environment\n\nAngular CLI: 13.0.3\r\nNode: 16.13.0\r\nPackage Manager: npm 8.1.0\r\nOS: darwin arm64\r\n\r\nAngular: 13.0.2\r\n... animations, common, compiler, core, forms\r\n... platform-browser, platform-browser-dynamic\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1300.3\r\n@angular-devkit/build-angular   13.0.3\r\n@angular-devkit/core            13.0.3\r\n@angular-devkit/schematics      13.0.3\r\n@angular/cdk                    12.2.13\r\n@angular/cli                    13.0.3\r\n@angular/material               12.2.13\r\n@schematics/angular             13.0.3\r\nrxjs                            7.4.0\r\ntypescript                      4.4.4\r\n    \r\n","Url":"https://github.com/angular/components/issues/24141","RelatedDescription":"Closed issue \"bug(mat-selection-list): using objects as value for the mat-list-options does not work\" (#24141)"},{"Id":"1090884875","IsPullRequest":false,"CreatedAt":"2021-12-30T13:37:54","Actor":"bhadresh-dahanuwala","Number":"24144","RawContent":null,"Title":"MatButtonModule: mat-raised-button not working in child component within a module","State":"closed","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\n\r\n### Issue:\r\n\r\nmat-raised-button color=\"warn\" not working in child components of a module\r\n\r\nThis works fine in app-component.html but the same does not work in other component which I have. \r\n\r\nThere is no compilation error neither in \"ng serve\" nor when I inspect in chrome.\r\n\r\n### Directory Structure\r\n\r\n<img width=\"299\" alt=\"DirectoryStructure\" src=\"https://user-images.githubusercontent.com/38015612/147722959-322fae8e-5c69-454b-893f-1f05236463fe.png\">\r\n\r\n### user.module.ts\r\n\r\n<img width=\"912\" alt=\"user module ts\" src=\"https://user-images.githubusercontent.com/38015612/147723150-350d59aa-78d3-4aa8-a5c9-ca2d7fca32a8.png\">\r\n\r\n### user-login.component.html\r\n\r\n<img width=\"851\" alt=\"user-login component html\" src=\"https://user-images.githubusercontent.com/38015612/147723352-b7eb8ffb-d617-4c8b-a291-62b00b21c80d.png\">\r\n\r\n### app.module.ts\r\n\r\n<img width=\"819\" alt=\"app module ts\" src=\"https://user-images.githubusercontent.com/38015612/147723443-52c1bb32-6952-4768-bfd4-d0f1c80489f3.png\">\r\n\r\n### app.component.html\r\n\r\n<img width=\"857\" alt=\"app component html\" src=\"https://user-images.githubusercontent.com/38015612/147723479-3f359c88-1c88-4033-856b-e9cf66a169de.png\">\r\n\r\n### Output on webpage\r\n\r\n<img width=\"1079\" alt=\"webpage\" src=\"https://user-images.githubusercontent.com/38015612/147723531-91e7173f-181b-4356-a63c-1f895fbc486b.png\">\r\n\r\n### Note\r\n\r\nThe first button with the correct style is coming from app.component.html and the second one where the style is not getting applied is coming from user-login.component.html\r\n\r\n\r\n\n\n### Reproduction\n\nSteps to reproduce:\r\n\r\nUse the attached directory structure as a reference\r\n\r\n1. Add import { MatButtonModule } from '@angular/material/button'; to the app component\r\n2. Add the same to some other component within a module (in a separate directory)\r\n3. Add button to both the html files\r\n\n\n### Expected Behavior\n\nBoth the buttons should use the style and be shown in Red\n\n### Actual Behavior\n\nThe button in the app.component.html is applying the style and showing Red as expected\r\n\r\nThe button in user-login.component.html is not applying the style\n\n### Environment\n\nOS: MacOS 12.1\r\nnpm: 8.1.2\r\nng --version\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1301.2\r\n@angular-devkit/build-angular   13.1.2\r\n@angular-devkit/core            13.1.2\r\n@angular-devkit/schematics      13.1.2\r\n@angular/cli                    13.1.2\r\n@schematics/angular             13.1.2\r\nrxjs                            7.4.0\r\ntypescript                      4.5.4\r\n\r\nBrowser: Chrome and Safari","Url":"https://github.com/angular/components/issues/24144","RelatedDescription":"Closed issue \"MatButtonModule: mat-raised-button not working in child component within a module\" (#24144)"},{"Id":"1087363287","IsPullRequest":false,"CreatedAt":"2021-12-30T13:33:45","Actor":"phihochzwei","Number":"24130","RawContent":null,"Title":"Include MarkerClusterer Script/Class in ","State":"closed","Body":"### Feature Description\n\nCurrently, when using @angular/google-maps you get access to the <map-marker-clusterer>-component. However, you have to manually add the script to load MarkerClusterPlus in your index.html to make it actually work, which is quite weird to understand. Therefore it would be great, also in terms of lazy loading, to include this class into the package to remove the necessity to add it manually\n\n### Use Case\n\nBasically any use case where you need the clustering :)","Url":"https://github.com/angular/components/issues/24130","RelatedDescription":"Closed issue \"Include MarkerClusterer Script/Class in \" (#24130)"},{"Id":"1085906807","IsPullRequest":false,"CreatedAt":"2021-12-30T13:32:30","Actor":"Nikita-schetko","Number":"24127","RawContent":null,"Title":"feat(snack-bar): inject/override custom animation for MatSnackBar","State":"closed","Body":"### Feature Description\n\nHi guys! \r\nIs it possible to override standard animation located [here](https://github.com/angular/components/blob/master/src/material/snack-bar/snack-bar-animations.ts) with custom one? \r\n\n\n### Use Case\n\nI would like to tweak animation little bit and make it more look like spotify's one:\r\n\r\n![](https://media0.giphy.com/media/e09OgqaZO3DtRrH9JL/giphy.gif?cid=790b76116bd3f5b5cede0c885ad20104dc29d22f28ece0da&rid=giphy.gif&ct=g)","Url":"https://github.com/angular/components/issues/24127","RelatedDescription":"Closed issue \"feat(snack-bar): inject/override custom animation for MatSnackBar\" (#24127)"},{"Id":"1090626910","IsPullRequest":false,"CreatedAt":"2021-12-29T16:28:25","Actor":"lvimalchandran","Number":"24143","RawContent":null,"Title":"Clipboard: copy method returns false inside observable","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nthis.clipBoard.copy('copy text') is not working in Chrome. It always return false when its inside the observable and the response of the observable takes more time. This same scenario works fine when I tested in IE. There are not warnings/error in browser console.\r\n\r\nI have also tried with beginCopy/copy/destroy methods but it didnt get copied and no errors in browser console.\r\n\r\nThere are other places I have used the copy method inside observable and it works fine. The difference in this observable is it returns the observable response faster than the one which doesn't work.\n\n### Reproduction\n\n onSubmitClick() {\r\n    this.statusMessage = 'Processing, please wait...';\r\n          const inputParam = new UIInputVO();\r\n          this.service.generateOutput('inputType', inputParam).subscribe(\r\n            (response: any) => {\r\n              this.statusMessage = response.resultMsg;\r\n              this.txtOutputList = response.txtOutputInfo;\r\n              this.clipBoard.copy(response.windowsPath);\r\n              if (!this.btndisabled) {\r\n                  setTimeout(() => {\r\n                      // this will make the execution after the above boolean has changed\r\n                      this.submitbtn.nativeElement.focus();\r\n                  }, 0);\r\n              }\r\n            }\r\n          );\r\n  }\r\n\n\n### Expected Behavior\n\nIt should copy to user clipboard\n\n### Actual Behavior\n\nnot copied the string passed to copy method\n\n### Environment\n\n- Angular:9.1.12\r\n- CDK/Material:9.2.4\r\n- Browser(s): Chrome - Version 96.0.4664.110 (\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/24143","RelatedDescription":"Open issue \"Clipboard: copy method returns false inside observable\" (#24143)"},{"Id":"1089381773","IsPullRequest":true,"CreatedAt":"2021-12-29T11:13:35","Actor":"lukonik","Number":"24138","RawContent":null,"Title":"fix(material/slider): change calculatePercent method, to calculate pr…","State":"closed","Body":"…opertly when min,max,value are 0\r\n\r\nFixes #23913","Url":"https://github.com/angular/components/pull/24138","RelatedDescription":"Closed or merged PR \"fix(material/slider): change calculatePercent method, to calculate pr…\" (#24138)"},{"Id":"1090328754","IsPullRequest":true,"CreatedAt":"2021-12-29T07:39:26","Actor":"crisbeto","Number":"24142","RawContent":null,"Title":"build: add all prebuilt themes to experimental","State":"open","Body":"Adds the same set of prebuilt themes to experimental as in the stable package.","Url":"https://github.com/angular/components/pull/24142","RelatedDescription":"Open PR \"build: add all prebuilt themes to experimental\" (#24142)"},{"Id":"1089716344","IsPullRequest":true,"CreatedAt":"2021-12-28T08:53:53","Actor":"crisbeto","Number":"24140","RawContent":null,"Title":"fix(material-experimental/mdc-dialog): remove extra outline in high contrast mode","State":"open","Body":"MDC have started including their own `border` in high contrast mode so our `outline` isn't necessary anymore.","Url":"https://github.com/angular/components/pull/24140","RelatedDescription":"Open PR \"fix(material-experimental/mdc-dialog): remove extra outline in high contrast mode\" (#24140)"},{"Id":"1089511569","IsPullRequest":false,"CreatedAt":"2021-12-27T23:02:34","Actor":"shb98","Number":"24139","RawContent":null,"Title":"(bug) [Mat-table]: sorting indicator not visible under high contrast mode","State":"open","Body":"### Is this a regression?\r\n\r\n- [ ] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nmat-table sort indicator not visible under high contrast mode\r\n\r\n### Reproduction\r\n\r\nSteps to reproduce:\r\n1. Switch to Windows high contrast mode \r\n![image](https://user-images.githubusercontent.com/10054756/147512418-b2f5ae34-06fa-419a-a528-4e740266c185.png)\r\n\r\n2. Go to the official [sample mat-table sorting page](https://material.angular.io/components/table/overview#sorting)\r\n3. Click the header to sort\r\n\r\n\r\n### Expected Behavior\r\n\r\nSort indicator (up/down arrow) should be visible under high contrast mode as normal display mode\r\n\r\n### Actual Behavior\r\n\r\nSort indicator (up/down arrow) is NOT visible under high contrast mode as below\r\n![image](https://user-images.githubusercontent.com/10054756/147512566-d3081273-ece2-41e4-97aa-c1f68ed3a26c.png)\r\n\r\n\r\n### Environment\r\n\r\n- Angular: 12\r\n- CDK/Material: 12\r\n- Browser(s): ANY\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows \r\n","Url":"https://github.com/angular/components/issues/24139","RelatedDescription":"Open issue \"(bug) [Mat-table]: sorting indicator not visible under high contrast mode\" (#24139)"},{"Id":"1089371948","IsPullRequest":true,"CreatedAt":"2021-12-27T17:28:46","Actor":"lukonik","Number":"24137","RawContent":null,"Title":"fix: calculatePercentage returns NAN when min,max,value are 0","State":"closed","Body":"Fixes #23913","Url":"https://github.com/angular/components/pull/24137","RelatedDescription":"Closed or merged PR \"fix: calculatePercentage returns NAN when min,max,value are 0\" (#24137)"},{"Id":"1089252064","IsPullRequest":true,"CreatedAt":"2021-12-27T17:13:58","Actor":"lukonik","Number":"24136","RawContent":null,"Title":"fix: calculatePercentage returns NAN when min,max,value are 0","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/24136","RelatedDescription":"Closed or merged PR \"fix: calculatePercentage returns NAN when min,max,value are 0\" (#24136)"},{"Id":"1089147195","IsPullRequest":true,"CreatedAt":"2021-12-27T10:40:19","Actor":"crisbeto","Number":"24135","RawContent":null,"Title":"fix(material/snack-bar): handle long single-line content","State":"open","Body":"Fixes that long strings without spaces were breaking the layout of the snack bar.\r\n\r\nFixes #21681.","Url":"https://github.com/angular/components/pull/24135","RelatedDescription":"Open PR \"fix(material/snack-bar): handle long single-line content\" (#24135)"},{"Id":"1088833599","IsPullRequest":false,"CreatedAt":"2021-12-27T05:58:22","Actor":"kianooshsanatkar","Number":"24134","RawContent":null,"Title":"bug(COMPONENT): Horizontal List Orientation under an RTL element does not work properly","State":"closed","Body":"### Is this a regression?\r\n\r\n- [ ] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nWhen I add `direction:rtl;` style to HTML (or any parent element) drop behavior does not work properly, it moves the item but in the wrong index.\r\n\r\n---\r\n\r\nI use a simple trick to handled it. But still, I thought it might need to be reported. And maybe we can use a simple way to handle the problem.\r\n\r\nIn my case I just change the `drop` function like this:\r\n\r\n```\r\ndrop(event: CdkDragDrop<string[]>): void {\r\n  let totalLists = this.myLists.length - 1;\r\n  let previousIndex = totalLists - event.previousIndex;\r\n  let currentIndex = totalLists - event.currentIndex;\r\n  moveItemInArray(this.myLists, previousIndex, currentIndex);\r\n}\r\n```\r\n\r\nI guess it must be a bit complex to find if an oriented list is truly right to left or left to right, but a very simple way is to use a flag for reverse calculation.\r\n\r\n### Reproduction\r\n\r\nSteps to reproduce:\r\n\r\n1. For demonstration we can use an example by the documentation.\r\n[material.angular.io/#horizontal-sorting](https://material.angular.io/cdk/drag-drop/overview#cdk-drag-drop-horizontal-sorting)\r\n[stackbliz](https://stackblitz.com/run?file=src/app/cdk-drag-drop-horizontal-sorting-example.ts)\r\n2. Just add RTL direction to html or body in style.css\r\n`body {\r\n  direction: rtl;\r\n}`\r\n \r\n\r\n\r\n### Expected Behavior\r\n\r\nDrop to the correct Index\r\n\r\n### Actual Behavior\r\n\r\nThe items are dropped in reverse order.\r\n\r\n\r\n### Environment\r\n\r\n- Angular: 12.1.4\r\n- CDK/Material: 12.1.4\r\n- Browser(s): chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/24134","RelatedDescription":"Closed issue \"bug(COMPONENT): Horizontal List Orientation under an RTL element does not work properly\" (#24134)"},{"Id":"1088206792","IsPullRequest":true,"CreatedAt":"2021-12-24T07:24:27","Actor":"crisbeto","Number":"24133","RawContent":null,"Title":"feat(cdk/table): allow text column to be centered","State":"open","Body":"Allows for the text inside a text column to be centered.\r\n\r\nFixes #23920.","Url":"https://github.com/angular/components/pull/24133","RelatedDescription":"Open PR \"feat(cdk/table): allow text column to be centered\" (#24133)"},{"Id":"1087693960","IsPullRequest":true,"CreatedAt":"2021-12-23T12:57:58","Actor":"andrewseguin","Number":"24132","RawContent":null,"Title":"fix(material/core): move pseudo-checkbox module to same directory","State":"open","Body":"Move the module definition next to the component definition so that the BUILD can be correctly defined (and enable taze). \r\n\r\nCaretaker note: Must patch cl/417987200 with this change","Url":"https://github.com/angular/components/pull/24132","RelatedDescription":"Open PR \"fix(material/core): move pseudo-checkbox module to same directory\" (#24132)"},{"Id":"1087571378","IsPullRequest":true,"CreatedAt":"2021-12-23T10:14:45","Actor":"crisbeto","Number":"24131","RawContent":null,"Title":"fix(material/stepper): icon not centered in header if direction changes","State":"open","Body":"Fixes that the icon in the step header was being rendered outside of the circle of the page direction changes. This seems to be a browser rendering issue due to the fact that we were applying a `position: absolute` and a `transform` both on the icon and its parent. Since this is unnecessary, I've removed the styles from the icon and added an extra `display: flex` to fix the centering.\r\n\r\nFixes #24046.","Url":"https://github.com/angular/components/pull/24131","RelatedDescription":"Open PR \"fix(material/stepper): icon not centered in header if direction changes\" (#24131)"},{"Id":"1086613914","IsPullRequest":true,"CreatedAt":"2021-12-22T09:13:33","Actor":"crisbeto","Number":"24129","RawContent":null,"Title":"fix(material-experimental/mdc-select): change max height to show scrollability","State":"open","Body":"Increases the maximum height of the MDC-based select panel in order to partially show the next option so that it is easier to see when the panel is scrollable.\r\n\r\nRelated to b/211518654.","Url":"https://github.com/angular/components/pull/24129","RelatedDescription":"Open PR \"fix(material-experimental/mdc-select): change max height to show scrollability\" (#24129)"},{"Id":"1085973056","IsPullRequest":false,"CreatedAt":"2021-12-21T15:50:55","Actor":"dgerhardt","Number":"24128","RawContent":null,"Title":"bug(Material): Relative CDK SASS imports break Yarn PnP compatibility","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nWith the packaging changes in Angular 13 and further optimizations in 13.1, projects can now be successfully built using Yarn's Plug'n'Play module strategy. Projects using Angular Material components can also be build as long as they only use a prebuilt CSS theme. Once `@angular/material` is imported to the project's SCSS to customize a theme (following https://material.angular.io/guide/theming#custom-themes-with-sass), the build breaks.\r\n\r\nIt looks like the issue is caused by relative paths to files in the `cdk` directory (e.g. https://github.com/angular/components/blob/13.1.1/src/material/core/_core.scss#L1) which is no longer a sibling in the `node_modules` directory with PnP enabled.\r\n\r\nRelated CLI issue: https://github.com/angular/angular-cli/issues/16980\n\n### Reproduction\n\nReproduction repo: https://github.com/dgerhardt/angular13.1-yarn3.2-pnp-sass-loader-repro\r\n\r\nSteps for manual reproduction (w/o the repo):\r\n1. Create a new Angular project.\r\n2. Import Material to the SCSS (`@use '@angular/material' as mat;`).\r\n3. Use Yarn 3.2 as package manager (`yarn set version canary` while still in RC phase)\r\n4. Make sure that PnP is enabled in `.yarnrc.yml` (`nodeLinker: pnp`)\r\n5. `yarn && yarn build`\n\n### Expected Behavior\n\nThe build should succeed without SASS errors.\n\n### Actual Behavior\n\nThe build fails with an SASS error:\r\n```\r\nHookWebpackError: Module build failed (from ./.yarn/__virtual__/sass-loader-virtual-a07e2721d3/0/cache/sass-loader-npm-12.4.0-3d3847fd35-0f7ca3633e.zip/node_modules/sass-loader/dist/cjs.js):\r\nSassError: Can't find stylesheet to import.\r\n  ╷\r\n1 │ @use '../../cdk/overlay';\r\n  │ ^^^^^^^^^^^^^^^^^^^^^^^^\r\n  ╵\r\n  .yarn/__virtual__/@angular-material-virtual-f113869c44/0/cache/@angular-material-npm-13.1.1-701561aec7-d592b46c92.zip/node_modules/@angular/material/core/_core.scss 1:1  @forward\r\n  .yarn/__virtual__/@angular-material-virtual-f113869c44/0/cache/@angular-material-npm-13.1.1-701561aec7-d592b46c92.zip/node_modules/@angular/material/_index.scss 18:1     @use\r\n  src/styles.scss 2:1                                                                                                                                                       root stylesheet\r\n    at tryRunOrWebpackError (/home/dgerhardt/angular13.1-yarn3.2-pnp-sass-loader-repro/angular-material-yarn-pnp/.yarn/__virtual__/webpack-virtual-47b0d1e1c6/0/cache/webpack-npm-5.65.0-da658c1b49-221ab8ccd4.zip/node_modules/webpack/lib/HookWebpackError.js:88:9)\r\n    at __webpack_require_module__ (/home/dgerhardt/angular13.1-yarn3.2-pnp-sass-loader-repro/angular-material-yarn-pnp/.yarn/__virtual__/webpack-virtual-47b0d1e1c6/0/cache/webpack-npm-5.65.0-da658c1b49-221ab8ccd4.zip/node_modules/webpack/lib/Compilation.js:4979:12)\r\n    at __webpack_require__ (/home/dgerhardt/angular13.1-yarn3.2-pnp-sass-loader-repro/angular-material-yarn-pnp/.yarn/__virtual__/webpack-virtual-47b0d1e1c6/0/cache/webpack-npm-5.65.0-da658c1b49-221ab8ccd4.zip/node_modules/webpack/lib/Compilation.js:4936:18)\r\n    at /home/dgerhardt/angular13.1-yarn3.2-pnp-sass-loader-repro/angular-material-yarn-pnp/.yarn/__virtual__/webpack-virtual-47b0d1e1c6/0/cache/webpack-npm-5.65.0-da658c1b49-221ab8ccd4.zip/node_modules/webpack/lib/Compilation.js:5007:20\r\n    at symbolIterator (/home/dgerhardt/angular13.1-yarn3.2-pnp-sass-loader-repro/angular-material-yarn-pnp/.yarn/cache/neo-async-npm-2.6.2-75d6902586-deac9f8d00.zip/node_modules/neo-async/async.js:3485:9)\r\n    at done (/home/dgerhardt/angular13.1-yarn3.2-pnp-sass-loader-repro/angular-material-yarn-pnp/.yarn/cache/neo-async-npm-2.6.2-75d6902586-deac9f8d00.zip/node_modules/neo-async/async.js:3527:9)\r\n    at Hook.eval [as callAsync] (eval at create (/home/dgerhardt/angular13.1-yarn3.2-pnp-sass-loader-repro/angular-material-yarn-pnp/.yarn/cache/tapable-npm-2.2.1-8cf5ff3039-3b7a1b4d86.zip/node_modules/tapable/lib/HookCodeFactory.js:33:10), <anonymous>:15:1)\r\n    at Hook.CALL_ASYNC_DELEGATE [as _callAsync] (/home/dgerhardt/angular13.1-yarn3.2-pnp-sass-loader-repro/angular-material-yarn-pnp/.yarn/cache/tapable-npm-2.2.1-8cf5ff3039-3b7a1b4d86.zip/node_modules/tapable/lib/Hook.js:18:14)\r\n    at /home/dgerhardt/angular13.1-yarn3.2-pnp-sass-loader-repro/angular-material-yarn-pnp/.yarn/__virtual__/webpack-virtual-47b0d1e1c6/0/cache/webpack-npm-5.65.0-da658c1b49-221ab8ccd4.zip/node_modules/webpack/lib/Compilation.js:4914:43\r\n    at symbolIterator (/home/dgerhardt/angular13.1-yarn3.2-pnp-sass-loader-repro/angular-material-yarn-pnp/.yarn/cache/neo-async-npm-2.6.2-75d6902586-deac9f8d00.zip/node_modules/neo-async/async.js:3482:9)\r\n```\n\n### Environment\n\n- Angular: 13.1.1\r\n- CDK/Material: 13.1.1\r\n- Package Manager: yarn 3.2.0-rc.8 (with nodeLinker=pnp)","Url":"https://github.com/angular/components/issues/24128","RelatedDescription":"Open issue \"bug(Material): Relative CDK SASS imports break Yarn PnP compatibility\" (#24128)"},{"Id":"1085654783","IsPullRequest":false,"CreatedAt":"2021-12-21T13:27:29","Actor":"splincode","Number":"24126","RawContent":null,"Title":"error TS2322: Type 'MatMenu' is not assignable to type 'MatMenuPanel<any>'","State":"closed","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\n```ts\r\n <button mat-button [matMenuTriggerFor]=\"menu\">{{ price | currency }}</button>\r\n<mat-menu #menu=\"matMenu\">\r\n    <button mat-menu-item>EUR</button>\r\n    <button mat-menu-item>DOL</button>\r\n</mat-menu>\r\n```\r\n\r\nWhen I enable in `tsconfig.json` exactOptionalPropertyTypes I have problem \r\n```\r\n\"exactOptionalPropertyTypes\": true,\r\n```\r\n\r\nError\r\n\r\n```\r\nError: integration/apps/virtual-table/src/samples/sample-second/sample-second.component.html:253:41 - error TS2322: Type 'MatMenu' is not assignable to type 'MatMenuPanel<any>'.\r\n  Types of property 'hasBackdrop' are incompatible.\r\n    Type 'boolean | undefined' is not assignable to type 'boolean'.\r\n      Type 'undefined' is not assignable to type 'boolean'.\r\n\r\n253                     <button mat-button [matMenuTriggerFor]=\"menu\">{{ price | currency }}</button>\r\n                                            ~~~~~~~~~~~~~~~~~\r\n\r\n  integration/apps/virtual-table/src/samples/sample-second/sample-second.component.ts:21:18\r\n    21     templateUrl: './sample-second.component.html',\r\n                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    Error occurs in the template of component SampleSecondComponent.\r\n\r\n```\n\n### Reproduction\n\nGit clone https://github.com/angular-ru/angular-ru-sdk/\r\n\r\nreplace `<button mat-button [matMenuTriggerFor]=\"$any(menu)\">{{ price | currency }}</button>`\r\nto `<button mat-button [matMenuTriggerFor]=\"menu\">{{ price | currency }}</button>`\r\n\n\n### Expected Behavior\n\n```\r\nError: integration/apps/virtual-table/src/samples/sample-second/sample-second.component.html:253:41 - error TS2322: Type 'MatMenu' is not assignable to type 'MatMenuPanel<any>'.\r\n  Types of property 'hasBackdrop' are incompatible.\r\n    Type 'boolean | undefined' is not assignable to type 'boolean'.\r\n      Type 'undefined' is not assignable to type 'boolean'.\r\n\r\n253                     <button mat-button [matMenuTriggerFor]=\"menu\">{{ price | currency }}</button>\r\n                                            ~~~~~~~~~~~~~~~~~\r\n\r\n  integration/apps/virtual-table/src/samples/sample-second/sample-second.component.ts:21:18\r\n    21     templateUrl: './sample-second.component.html',\r\n                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    Error occurs in the template of component SampleSecondComponent.\r\n\r\n```\n\n### Actual Behavior\n\nNo error\n\n### Environment\n\n- Angular: 12\r\n- CDK/Material: 12\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): macOS\r\n ","Url":"https://github.com/angular/components/issues/24126","RelatedDescription":"Closed issue \"error TS2322: Type 'MatMenu' is not assignable to type 'MatMenuPanel<any>'\" (#24126)"},{"Id":"1085498857","IsPullRequest":true,"CreatedAt":"2021-12-21T06:53:43","Actor":"crisbeto","Number":"24125","RawContent":null,"Title":"docs: add note about mat-app-background to theming guide","State":"open","Body":"We used to have this note in the old theming guide, but it looks like it was lost in-between the rewrites.\r\n\r\nFixes #24090.","Url":"https://github.com/angular/components/pull/24125","RelatedDescription":"Open PR \"docs: add note about mat-app-background to theming guide\" (#24125)"},{"Id":"1085382947","IsPullRequest":true,"CreatedAt":"2021-12-21T02:55:52","Actor":"zarend","Number":"24124","RawContent":null,"Title":"Calendar navigation","State":"open","Body":"Draft PR of fixing focus and navigation issues on the calendar. Please see commit messages for details on these changes.\r\n\r\nThis is still a draft at least until I can do more testing across different browsers and screen readers.","Url":"https://github.com/angular/components/pull/24124","RelatedDescription":"Open PR \"Calendar navigation\" (#24124)"},{"Id":"1083947489","IsPullRequest":false,"CreatedAt":"2021-12-20T21:59:24","Actor":"andrewalderson","Number":"24119","RawContent":null,"Title":"bug(MatDrawer): Resizing drawer after 'mat-drawer-transition' class added causes animation lag","State":"closed","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nCurrently the MatDrawer component is able to resize the content when the size of the drawer changes. This works great unless you add an animation to the drawer's width after the 'mat-drawer-transition' class has been added to the drawer container. After the class has been added the animation for the drawer content lags behind the animation for the drawer width.\r\n\r\nCurrently all of the hacks and work arounds I have seen for this behavior don't take into account resizing after the drawer has been toggled open and closed. Toggling the drawer adds a class called 'mat-drawer-transition' to the drawer container in the ```_watchDrawerToggle``` method of MatDrawerContainer. This class adds the css transitions for the drawer content and backdrop and these animations seem to cause the issue. Also setting the ```autosize``` property on the drawer container does nothing in this instance.\r\n\r\nIn the sample I provided I use an inner component in the drawer to do the resizing. This encapsulates the behavior and causes the drawer itself to resize. I also use a ResizeObserver (because it is almost 2022 and we don't support IE anymore) to update the content margins continually during the width animation. I have also not used the ```autosize``` property on the drawer container because it doesn't do anything to fix the issue and the content margins are being updated during the width animation.\r\n\r\n**In my experiments removing the 'mat-drawer-transition' class after the drawer open/close animation completes fixes the issue.**\n\n### Reproduction\n\nStackblitz of the issue is here: https://stackblitz.com/edit/angular-ivy-ftfajt?file=src%2Fapp%2Fapp.component.ts\r\nSteps to reproduce:\r\n1. Launch the Stackblitz sample\r\n2. Toggle the size of the drawer with the arrow icon at the top of the drawer - Animation works correctly\r\n3. Toggle the drawer open and closed with the menu icon at the top of the content - Animation works correctly\r\n4. Repeat step 2 - Animation for the content left margin lags behind the animation for the drawer.\r\n\r\nTo see it working properly uncomment the code in the AppComponent openChanged method and run steps again.\n\n### Expected Behavior\n\nThe animation for the drawer should not lag behind the animation for the content.\n\n### Actual Behavior\n\nThe animation for the content lags behind the animation for the drawer when the 'mat-drawer-transition' class is present on the MatDrawerContainer.\n\n### Environment\n\n- Angular: 13.1.1\r\n- CDK/Material: 13.1.1\r\n- Browser(s): Edge (Chromium) 96.0.1054.57\r\n- Operating System: Windows 11\r\n","Url":"https://github.com/angular/components/issues/24119","RelatedDescription":"Closed issue \"bug(MatDrawer): Resizing drawer after 'mat-drawer-transition' class added causes animation lag\" (#24119)"},{"Id":"1084609933","IsPullRequest":false,"CreatedAt":"2021-12-20T10:23:17","Actor":"LironHazan","Number":"24123","RawContent":null,"Title":"Getting export '_MatMenuDirectivesModule'  was not found in '@angular/material/menu' on serving fresh installation ","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncompiler, Don't known / other\n\n### Is this a regression?\n\nYes\n\n### Description\n\nWhen removing my prevues package-lock.json and running installation (npm) and starting the project (ng-serve) \r\nI'm getting an error of the module **_MatMenuDirectivesModule** that cannot be found at: @angular/material/menu.\r\n\r\nThe post installation script is as follows: ```  ngcc --properties es2015 browser module main ```.\r\nAnd I verified it compiled following:\r\n```\r\nCompiling @angular/material/menu : es2015 as esm2015\r\nCompiling @angular/material/menu : main as umd.\r\n```\r\n\r\nWhen I'm switching back to my older package-lock.json and running installation I can see that the _MatMenuDirectivesModule module was properly declared under @angular/material/menu on menu-module.d.ts!!\r\n\r\nThe only relevant difference I can think of is the @angular/material versions diff, 12.2.13 vs 12.2.0 but it's a minor version so why should that happen?\r\n\r\n(My original scenario btw was copying the project into another folder without the node_modules and the package-lock.json and then I've faced the issue.)\r\n\r\nAm I missing something here?\r\n\r\n\r\nAngular dependencies tuned on version: **12.2.0**\r\n\r\nNew package-lock.json \r\n\r\n```\r\n    \"@angular/material\": {\r\n      \"version\": \"12.2.13\",\r\n      \"resolved\": \"https://registry.npmjs.org/@angular/material/-/material-12.2.13.tgz\",\r\n      \"integrity\": \"sha512-6g2GyN4qp2D+DqY2AwrQuPB3cd9gybvQVXvNRbTPXEulHr+LgGei00ySdFHFp6RvdGSMZ4i3LM1Fq3VkFxhCfQ==\",\r\n      \"requires\": {\r\n        \"tslib\": \"^2.2.0\"\r\n      }\r\n    }\r\n```\r\nOld package-lock.json:\r\n```\r\n    \"@angular/material\": {\r\n      \"version\": \"12.2.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/@angular/material/-/material-12.2.0.tgz\",\r\n      \"integrity\": \"sha512-onrWWoukVDt+lBRFLAaw9JFjncGMKGBPRq0VyT/ppl6tfw3+l/AiQsUd9lzpFmZfkH6PZZwv97k/5eu+6Y8jdg==\",\r\n      \"requires\": {\r\n        \"tslib\": \"^2.2.0\"\r\n      }\r\n    }\r\n```\r\nError:\r\n```\r\nexport '_MatMenuDirectivesModule' (imported as '_MatMenuDirectivesModule') was not found in '@angular/material/menu'\r\n\r\n(possible exports: MAT_MENU_CONTENT, MAT_MENU_DEFAULT_OPTIONS, MAT_MENU_PANEL, MAT_MENU_SCROLL_STRATEGY, MatMenu, MatMenuContent, MatMenuItem, MatMenuModule, MatMenuTrigger, _MatMenuBase, _MatMenuContentBase, _MatMenuTriggerBase, fadeInItems, matMenuAnimations, transformMenu, ɵangular_material_src_material_menu_menu_a, ɵangular_material_src_material_menu_menu_b, ɵangular_material_src_material_menu_menu_c)\r\n```\r\n\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\nexport '_MatMenuDirectivesModule' (imported as '_MatMenuDirectivesModule') was not found in '@angular/material/menu'\r\n\r\n(possible exports: MAT_MENU_CONTENT, MAT_MENU_DEFAULT_OPTIONS, MAT_MENU_PANEL, MAT_MENU_SCROLL_STRATEGY, MatMenu, MatMenuContent, MatMenuItem, MatMenuModule, MatMenuTrigger, _MatMenuBase, _MatMenuContentBase, _MatMenuTriggerBase, fadeInItems, matMenuAnimations, transformMenu, ɵangular_material_src_material_menu_menu_a, ɵangular_material_src_material_menu_menu_b, ɵangular_material_src_material_menu_menu_c)\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 12.2.0\r\nNode: 14.15.5\r\nPackage Manager: npm 6.14.13\r\nOS: darwin x64\r\n\r\n@angular-devkit/architect       0.1202.0\r\n@angular-devkit/build-angular   12.2.11\r\n@angular-devkit/core            12.2.0\r\n@angular-devkit/schematics      12.2.0\r\n@angular/animations             12.2.4\r\n@nguniversal/express-engine     11.1.1\r\n@schematics/angular             12.2.0\r\nrxjs                            6.6.7\r\ntypescript                      4.2.4\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/components/issues/24123","RelatedDescription":"Closed issue \"Getting export '_MatMenuDirectivesModule'  was not found in '@angular/material/menu' on serving fresh installation \" (#24123)"},{"Id":"1084572563","IsPullRequest":false,"CreatedAt":"2021-12-20T09:43:57","Actor":"Sushma-tiwari","Number":"24122","RawContent":null,"Title":"When drag the div sometime drag-active class is not applied","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nWhen dragging the div sometimes the drag-active class is not applied. Normal drag & drop is working fine in the drag-drop zone.\r\nand I noticed when we drag the div drag-active class is applied and I already applied some CSS on the drag-active class of div but sometimes that CSS is also not so that I can say here drag-active class is missing.\r\nHere is the snap which is working fine : [https://prnt.sc/23osluv](url)\r\nNot working properly please check to snap : [https://prnt.sc/23osum9](url)\r\n\r\nAnd because of an above issue as I think dropzone issue occurred like(When you move a div from 1st left and then right then ui break) : [https://prnt.sc/23ot3jc](url)\n\n### Reproduction\n\nSteps to reproduce:\r\n1. \r\n2. \r\n\n\n### Expected Behavior\n\n[https://prnt.sc/23osluv](url)\n\n### Actual Behavior\n\n[https://prnt.sc/23osum9](url)\n\n### Environment\n\n- Angular: 8.0.2\r\n- CDK/Material:8.2.3\r\n- Browser(s):Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu):Windows\r\n","Url":"https://github.com/angular/components/issues/24122","RelatedDescription":"Open issue \"When drag the div sometime drag-active class is not applied\" (#24122)"},{"Id":"1084428337","IsPullRequest":true,"CreatedAt":"2021-12-20T06:56:59","Actor":"crisbeto","Number":"24121","RawContent":null,"Title":"fix(material/dialog): don't wait for animation before moving focus","State":"open","Body":"For a long time we used to move focus into the dialog after the opening animation was finished, because it allowed for the content to settle in case something like an autocomplete needed to open. This approach has caused us accessibility issues in the past, because we've had to find ways to prevent the user from interacting with content behind the dialog while the opening animation is running.\r\n\r\nInitially we used to move focus to the dialog container before transferring it into the dialog, but that ended up interrupting the screen reader. In a later change we started returning the previous dialog ref if the same kind of dialog is opened while the animation is still running. The problem with this approach is that it doesn't allow for multiple dialog to be opened quickly (see #24037).\r\n\r\nThese changes aim to address the root cause by moving focus immediately after the dialog content is attached. If this causes regressions with autocompletes inside dialogs, we now have APIs that allow users to customize the focus behavior.\r\n\r\nFixes #24037.","Url":"https://github.com/angular/components/pull/24121","RelatedDescription":"Open PR \"fix(material/dialog): don't wait for animation before moving focus\" (#24121)"},{"Id":"1084072976","IsPullRequest":true,"CreatedAt":"2021-12-19T11:13:26","Actor":"crisbeto","Number":"24120","RawContent":null,"Title":"fix(material/core): disable strong focus indicators in high contrast mode","State":"open","Body":"Most components have special handling for high contrast mode which can cause double focus indication when strong focus indication is disabled.\r\n\r\nThese changes remove the strong focus indicators if such a case is detected.\r\n\r\nFixes #24097.\r\n\r\ncc @zelliott ","Url":"https://github.com/angular/components/pull/24120","RelatedDescription":"Open PR \"fix(material/core): disable strong focus indicators in high contrast mode\" (#24120)"},{"Id":"1083812890","IsPullRequest":true,"CreatedAt":"2021-12-18T11:32:43","Actor":"crisbeto","Number":"24118","RawContent":null,"Title":"fix(material/tabs): wrong scroll distance if selected tab is removed","State":"open","Body":"Fixes the case where the user has scrolled to the end of the tab list and the selected tab from the beginning is removed. Since we no longer have a selected tab, the scroll distance wasn't being updated.\r\n\r\nFixes #24117.","Url":"https://github.com/angular/components/pull/24118","RelatedDescription":"Open PR \"fix(material/tabs): wrong scroll distance if selected tab is removed\" (#24118)"}],"ResultType":"GitHubIssue"}},"RunOn":"2021-12-31T05:30:04.1165606Z","RunDurationInMilliseconds":2254}