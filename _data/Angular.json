{"Data":{"Angular-Issues":{"Issues":[{"Id":"655330455","IsPullRequest":false,"CreatedAt":"2020-07-12T04:46:11","Actor":"digitalstaub","Number":"38016","RawContent":null,"Title":"HttpClient no redirect following on platform-server","State":"open","Body":"Hi,\r\n\r\n\r\n# üêû bug report\r\n\r\n### Affected Package\r\nplatform-server, HttpClientModule\r\n\r\n\r\n### Is this a regression?\r\ntested 7.1.4 and 8.2.14. happens on both.\r\n\r\n\r\n### Description\r\n\r\nWhen using the http module in server mode, a redirected request doesn't follow the redirection and ends with:\r\n`Http failure response for (unknown url): 0 Unknown Error`\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\n```\r\ngit clone https://github.com/digitalstaub/universal-starter.git\r\ncd universal-starter\r\nnpm i\r\nnpm run build:ssr\r\nnpm run serve:ssr\r\ncurl -I localhost:4000\r\n\r\n```\r\n\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\nHttpErrorResponse {\r\n  headers: HttpHeaders {\r\n    normalizedNames: Map {},\r\n    lazyUpdate: null,\r\n    headers: Map {}\r\n  },\r\n  status: 0,\r\n  statusText: 'Unknown Error',\r\n  url: null,\r\n  ok: false,\r\n  name: 'HttpErrorResponse',\r\n  message: 'Http failure response for (unknown url): 0 Unknown Error',\r\n</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\nAngular CLI: 8.3.26\r\nNode: 12.8.0\r\nOS: darwin x64\r\nAngular: 8.2.14\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... platform-server, router, service-worker\r\n\r\nPackage                                    Version\r\n--------------------------------------------------------------------\r\n@angular-devkit/architect                  0.803.26\r\n@angular-devkit/build-angular              0.803.26\r\n@angular-devkit/build-optimizer            0.803.26\r\n@angular-devkit/build-webpack              0.803.26\r\n@angular-devkit/core                       8.0.6\r\n@angular-devkit/schematics                 8.0.6\r\n@angular/cli                               8.3.26\r\n@angular/pwa                               0.800.6\r\n@ngtools/webpack                           8.3.26\r\n@nguniversal/aspnetcore-engine             8.2.6\r\n@nguniversal/express-engine                8.2.6\r\n@nguniversal/module-map-ngfactory-loader   8.1.1\r\n@schematics/angular                        8.0.6\r\n@schematics/update                         0.803.26\r\nrxjs                                       6.5.4\r\ntypescript                                 3.5.3\r\nwebpack                                    4.39.2\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\nthe xhr2 module which is used seems to support http redirects\r\n","Url":"https://github.com/angular/angular/issues/38016","RelatedDescription":"Open issue \"HttpClient no redirect following on platform-server\" (#38016)"},{"Id":"655294236","IsPullRequest":false,"CreatedAt":"2020-07-11T23:01:39","Actor":"SalathielGenese","Number":"38015","RawContent":null,"Title":"Feature: Dynamic control over host element binding","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ \r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üöÄ feature request\r\n\r\n### Relevant Package\r\n<!-- Can you pin-point one or more @angular/* packages the are relevant for this feature request? -->\r\n<!-- ‚úçÔ∏èedit: --> This feature request is for @angular/core (I believe).\r\n\r\n\r\n### Description\r\n<!-- ‚úçÔ∏è-->\r\nHello, folks from our loved community,\r\n\r\nWe are using Nebular in one of our apps and the `<nb-card-back/>` and `<nb-card-front/>`,  children of `<nb-flip-card/>`, turns out to be tricky. When using `<nb-card/>` right inside those children (as the docs suggest), it works great... But I've had the morning figure out why our form in the back element is not rendered :(\r\n\r\nI just realized that the Nebular component doesn't like it when its cards are wrapped in another element: a component (like our form) or even a `<div/>`... So I have come up with one idea - to have the host element rendering optional for my form. But it doesn't seem to me as some that can be dynamic (and therefore, could be orchestrated with an attribute binding).\r\n\r\nI came up with a second idea of allowing my component to be activated/selected as an attribute (like common directives) but next question is: **Can I know at runtime which selector matched my component?** While I'd like to blame the constraining design of those components, my problem is happening now and I believe that such a feature would not be much insane.\r\n\r\n\r\n### Describe the solution you'd like\r\n<!-- ‚úçÔ∏è-->\r\nIt would make sense to have one of these two solutions:\r\n\r\n- The ability to control dynamically (as opposed to statically, as currently is), whether a component host should be rendered.\r\n- Empower developers with the ability to access Ivy metadata like the component matched selector (element, attribute, etc) - maybe by injecting it into the component but components and directives only.\r\n\r\n\r\n### Describe alternatives you've considered\r\n<!-- ‚úçÔ∏è-->\r\n\r\n- Send this issue link to the Nebular developer team!?\r\n","Url":"https://github.com/angular/angular/issues/38015","RelatedDescription":"Open issue \"Feature: Dynamic control over host element binding\" (#38015)"},{"Id":"655232260","IsPullRequest":true,"CreatedAt":"2020-07-11T15:52:09","Actor":"crisbeto","Number":"38014","RawContent":null,"Title":"fix(core): error due to integer overflow when there are too many host bindings","State":"open","Body":"We currently use 16 bits to store information about nodes in a view. The 16 bits give us 65536 entries in the array, but the problem is that while the number is large, it can be reached by ~4300 directive instances with host bindings which could realistically happen in a very large view, as seen in #37876. Once we hit the limit, we end up overflowing which eventually leads to a runtime error.\r\n\r\nThese changes bump to using 20 bits which gives us around 1048576 entries in the array or 16 times more than the current amount which could still technically be reached, but is much less likely and the user may start hitting browser limitations by that point.\r\n\r\nI picked the 20 bit number since it gives us enough buffer over the 16 bit one, while not being as massive as a 24 bit or 32 bit.\r\n\r\nI've also added a dev mode assertion so it's easier to track down if it happens again in the future.\r\n\r\nFixes #37876.","Url":"https://github.com/angular/angular/pull/38014","RelatedDescription":"Open PR \"fix(core): error due to integer overflow when there are too many host bindings\" (#38014)"},{"Id":"655220427","IsPullRequest":false,"CreatedAt":"2020-07-11T15:11:25","Actor":"illuminati-code","Number":"38013","RawContent":null,"Title":"Link broken for https://angularconsole.com/ at https://angular.io/cli#cli-overview-and-command-reference","State":"closed","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n# üìö Docs or angular.io bug report\r\n\r\n### Description\r\n\r\nLink for [angularconsole.com](https://angularconsole.com/) is broken at [CLI Overview and Command Reference](https://angular.io/cli#cli-overview-and-command-reference).\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\n### What's the affected URL?**\r\nhttps://angular.io/cli#cli-overview-and-command-reference\r\n\r\n### Reproduction Steps**\r\nGo to [CLI Overview and Command Reference](https://angular.io/cli#cli-overview-and-command-reference)\r\n\r\n### Expected vs Actual Behavior**\r\n\r\nExpected https://angularconsole.com/ should be working or link should be updated to the proper resource.\r\n\r\n\r\n## üì∑Screenshot\r\n\r\n![Screenshot (1)](https://user-images.githubusercontent.com/63699621/87226544-0b55f880-c3b2-11ea-8620-a26c8f21af3c.png)\r\n\r\n![Screenshot (2)](https://user-images.githubusercontent.com/63699621/87226545-0db85280-c3b2-11ea-8893-cdeac8f471e0.png)\r\n\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\nSite Not Found\r\n</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n### Browser info\r\nFirefox Beta - 78.0beta\r\n","Url":"https://github.com/angular/angular/issues/38013","RelatedDescription":"Closed issue \"Link broken for https://angularconsole.com/ at https://angular.io/cli#cli-overview-and-command-reference\" (#38013)"},{"Id":"655197099","IsPullRequest":false,"CreatedAt":"2020-07-11T14:39:42","Actor":"dyingangel666","Number":"38011","RawContent":null,"Title":"$localize error when gzip is enabled","State":"closed","Body":"# üêû bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ‚úçÔ∏èedit: --> The issue is caused by package @angular/localize\r\n\r\n### Description\r\n\r\n<!-- ‚úçÔ∏è--> I have a i18n project which uses two languages (en, de) and all is working without any issues. Then we have enabled gzip_static compression on our nginx. I'm using a custom webpack config with the compression-webpack-plugin which precompresses the js and css files. With gzip_static on i now receive the following error and js is completely broken:\r\n\r\n```\r\nmain.fac96a836ab6c611ad83.js:1 Uncaught ReferenceError: $localize is not defined\r\n    at Module.zUnb (main.fac96a836ab6c611ad83.js:1)\r\n    at u (runtime.4e1de19760d0e13f65d7.js:1)\r\n    at Object.0 (main.fac96a836ab6c611ad83.js:1)\r\n    at u (runtime.4e1de19760d0e13f65d7.js:1)\r\n    at t (runtime.4e1de19760d0e13f65d7.js:1)\r\n    at Array.r [as push] (runtime.4e1de19760d0e13f65d7.js:1)\r\n    at main.fac96a836ab6c611ad83.js:1\r\n```\r\n\r\nI'm also using scully in this project as static site generator, but i have it also tested without scully and the same error pops up. I think it has something to do with the custom webpack config and when $localize stuff is parsed. It currently looks like the files are gzipped before the $localize stuff is parsed\r\n\r\n## üî¨ Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-ivy\r\n-->\r\nhttps://marketplace.staging.softgarden.io/de/\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / ‚ñ≥ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 9.1.11\r\nNode: 14.5.0\r\nOS: darwin x64\r\n\r\nAngular: 9.1.12\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, localize, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.901.11\r\n@angular-devkit/build-angular     0.901.11\r\n@angular-devkit/build-optimizer   0.901.11\r\n@angular-devkit/build-webpack     0.901.11\r\n@angular-devkit/core              9.1.11\r\n@angular-devkit/schematics        9.1.11\r\n@angular/cdk                      9.2.4\r\n@angular/cli                      9.1.11\r\n@ngtools/webpack                  9.1.11\r\n@schematics/angular               9.1.11\r\n@schematics/update                0.803.28\r\nrxjs                              6.5.5\r\ntypescript                        3.8.3\r\nwebpack                           4.42.0\r\n\r\n</code></pre>\r\n","Url":"https://github.com/angular/angular/issues/38011","RelatedDescription":"Closed issue \"$localize error when gzip is enabled\" (#38011)"},{"Id":"655209931","IsPullRequest":false,"CreatedAt":"2020-07-11T13:39:26","Actor":"hosseinjafari24","Number":"38012","RawContent":null,"Title":"How to Hide angular From wappalyzer ? ","State":"closed","Body":"Hi ,\r\n\r\nI want to hide angular from wappalyzer extention.\r\n","Url":"https://github.com/angular/angular/issues/38012","RelatedDescription":"Closed issue \"How to Hide angular From wappalyzer ? \" (#38012)"},{"Id":"655175766","IsPullRequest":false,"CreatedAt":"2020-07-11T09:47:26","Actor":"GeorgeHulpoi","Number":"38010","RawContent":null,"Title":"initialNavigation with lazy loading crashes application with no error","State":"open","Body":"# üêû bug report\r\n\r\n\r\n### Is this a regression?\r\nNo\r\n\r\n### Description\r\n\r\nWhen you have routes using lazy loading and initialNavigation enabled, the app-root or the bootstrap component is not rendered.\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\nhttps://github.com/GeorgeHulpoi/ng-initialNavigation-lazy-loading\r\n\r\n## üî• Exception or Error\r\n\r\nNone (it should be at least...)\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / ‚ñ≥ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n\r\n\r\nAngular CLI: 9.1.7\r\nNode: 12.17.0\r\nOS: win32 x64\r\n\r\nAngular:\r\n...\r\nIvy Workspace:\r\n\r\nPackage                      Version\r\n------------------------------------------------------\r\n@angular-devkit/architect    0.901.7\r\n@angular-devkit/core         9.1.7\r\n@angular-devkit/schematics   9.1.7\r\n@schematics/angular          9.1.7\r\n@schematics/update           0.901.7\r\nrxjs                         6.5.4\r\n</code></pre>","Url":"https://github.com/angular/angular/issues/38010","RelatedDescription":"Open issue \"initialNavigation with lazy loading crashes application with no error\" (#38010)"},{"Id":"655159199","IsPullRequest":true,"CreatedAt":"2020-07-11T07:53:25","Actor":"ajitsinghkaler","Number":"38009","RawContent":null,"Title":"fix(common): stop date pipe from rounding","State":"open","Body":"Date pipe rounds up milliseconds when passed fractional dates.\r\nECMAScript spec defines that non-integer values passed for any of the parameters to\r\nnew Date(year, month, date, hours, minutes, seconds, ms)\r\nshould call floor() to remove the fractional part.\r\n\r\nBREAKING CHANGE:  Some people may rely on the rounding functionality of date pipe\r\nFixes #37989\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\nDate pipe rounds fractional part of seconds\r\n\r\nIssue Number: #37989 \r\n\r\n\r\n## What is the new behavior?\r\nDatepipe floors fractional seconds\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [x] Yes\r\n- [ ] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/38009","RelatedDescription":"Open PR \"fix(common): stop date pipe from rounding\" (#38009)"},{"Id":"655154242","IsPullRequest":false,"CreatedAt":"2020-07-11T07:16:45","Actor":"baarney","Number":"38008","RawContent":null,"Title":"Add model-view type converters to form controls","State":"open","Body":"# üöÄ feature request\r\n\r\n### Relevant Package\r\nThis feature request is for @angular/forms\r\n\r\n### Description\r\nAdd an optional converter to angular form controls, so that view-to-model and model-to-view value conversions are performed by the control, and all external users of the control (`control.value`, `control.setValue()`, `control.valueChanges.subscribe()` etc.) all see model values.\r\n\r\n### Describe the solution you'd like\r\n\r\n- Add a new interface, similar to the following:\r\n```\r\nexport interface Converter<M, V> {\r\n  // assumes always able to convert a valid model\r\n  modelToView(model: M): V;\r\n\r\n  // return undefined to indicate failure\r\n  viewToModel(view: V): M | undefined;\r\n}\r\n```\r\n\r\n- Add a converter to `AbstractControlOptions` to assign it to the control:\r\n```\r\nclass WidgetConverter implements Converter<Widget, string> {\r\n  ...\r\n}\r\n\r\nthis.control = new FormControl('', { converter: new WidgetConverter(); });\r\n```\r\n\r\n- `control.value` returns a converted model value.\r\n- `control.valueChanges` observable produces converted model values.\r\n- `control.setValue()` accepts a model value.\r\n- Internally, `ControlValueAccessor.writeValue` passes the view value.\r\n- Conversion probably takes place before validation, so validators also work on the model value.\r\n- Conversion may return an error, to be treated like any other validation error.\r\n- Can also trigger a write-back on blur or submit to update the displayed value.\r\n\r\nThese are just all my thoughts on how it should work based on what I'm currently trying to achieve. More than happy to be corrected if there are better ways of doing this. Fundamentally, I'm just trying to shove the conversion inside the control and not have to worry about it every time I use that control.\r\n\r\n### Describe alternatives you've considered\r\nI can get most of this working using a custom CVA, but I can't see where to hook in to the model-to-view pipeline to intercept the `control.setValue()` call and call the converter `modelToView` method. \r\n\r\nHere's a stackblitz with a Widget:\r\n- made up of a string code and a numeric catalogue number\r\n- the users know them off by heart and just want to type straight into a single text field\r\n- the input should allow upper/lower case text and an optional hyphen\r\n- the output should always be formatted ABC-123.\r\n\r\nhttps://stackblitz.com/edit/angular-ivy-2rhvar \r\n\r\nIt mostly works, until you press the 'Set Value' button, when it does not convert the object back to the view type.\r\n\r\n","Url":"https://github.com/angular/angular/issues/38008","RelatedDescription":"Open issue \"Add model-view type converters to form controls\" (#38008)"},{"Id":"654991889","IsPullRequest":false,"CreatedAt":"2020-07-10T19:30:06","Actor":"ukrukarg","Number":"38007","RawContent":null,"Title":"'pathParamsOrQueryParamsChange' checks different pathParams then 'paramsChange'?","State":"open","Body":"# üêû bug report\r\n\r\n### Affected Package\r\n@angular/router\r\n\r\n### Is this a regression?\r\nNot sure.\r\n\r\n### Description\r\nI switched runGuardsAndResolvers from paramsChange to pathParamsOrQueryParamsChange (I don't want to trigger resolvers when matrix params change). Now resolvers are not longer rerun when path params change either.\r\n\r\nI have a lazy router route like this:\r\n\r\n    RouterModule.forRoot([{\r\n      path: 'instances/:instanceId/page',\r\n      loadChildren: () => import('./lazy-loaded/page.module').then(m => m.AdminModule),\r\n    }], {\r\n      paramsInheritanceStrategy: 'always',\r\n    }),\r\nthat is supposed to load this module:\r\n\r\n    RouterModule.forChild([{\r\n      path: '',\r\n      component: AdminComponent,\r\n      resolve: {\r\n        data: AdminResolver,\r\n      },\r\n      runGuardsAndResolvers: 'pathParamsOrQueryParamsChange',\r\n    }])\r\nI specify runGuardsAndResolvers: 'pathParamsOrQueryParamsChange' because the page uses a bunch of matrix params and I don't want to rerun resolvers when those change.\r\n\r\nI would expect that AdminResolver will be called when I navigate from instances/abd/page to instance/def/page but it's never called.\r\n\r\n## üî¨ Minimal Reproduction\r\nhttps://stackblitz.com/edit/angular-ivy-jxfove\r\n\r\nYou can see same exact app with runGuardsAndResolvers=paramsChange here: https://stackblitz.com/edit/angular-ivy-sp9fub\r\n\r\n## üî• Exception or Error\r\nNo exceptions, just resolvers are not run.\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n10","Url":"https://github.com/angular/angular/issues/38007","RelatedDescription":"Open issue \"'pathParamsOrQueryParamsChange' checks different pathParams then 'paramsChange'?\" (#38007)"},{"Id":"654981737","IsPullRequest":true,"CreatedAt":"2020-07-10T19:09:24","Actor":"kapunahelewong","Number":"38006","RawContent":null,"Title":"docs: edit intro testing page","State":"open","Body":"This commit edits the copy of the introductory page to the testing section. It removes colloquialisms and brings document in line with Google style guide.  \r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nCurrently text isn't completely inline with Google style guide.\r\n \r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\nUpdates to style guide styles.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/38006","RelatedDescription":"Open PR \"docs: edit intro testing page\" (#38006)"},{"Id":"654412685","IsPullRequest":true,"CreatedAt":"2020-07-10T18:24:41","Actor":"atscott","Number":"37997","RawContent":null,"Title":"docs(router): fix routerLink docs","State":"closed","Body":"The current content for the routerLink commands input does not make it to aio.\r\nfixes #35414\r\n","Url":"https://github.com/angular/angular/pull/37997","RelatedDescription":"Closed or merged PR \"docs(router): fix routerLink docs\" (#37997)"},{"Id":"654936484","IsPullRequest":false,"CreatedAt":"2020-07-10T17:46:28","Actor":"yeshwanthmn","Number":"38005","RawContent":null,"Title":"Detect browser close ","State":"closed","Body":"How to Detect whether User has click the browser refresh button or Close button. Please help.me out","Url":"https://github.com/angular/angular/issues/38005","RelatedDescription":"Closed issue \"Detect browser close \" (#38005)"},{"Id":"654855732","IsPullRequest":false,"CreatedAt":"2020-07-10T16:46:08","Actor":"jtsom","Number":"38001","RawContent":null,"Title":"Many \"Circular source file mapping dependency\" warnings on first build","State":"closed","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ‚úçÔ∏èedit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [X] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\nYes\r\n<!-- ‚úçÔ∏è--> Yes, the previous version in which this bug was not present was: ....\r\n10.0.2\r\n\r\n### Description\r\n\r\n<!-- ‚úçÔ∏è--> A clear and concise description of the problem...\r\nAfter updating a very simple, almost stock 'ng new'd application to 10.0.2, upon first build (ng serve), lots of these circular dependency warnings appeared during the first pass (building for es2015)\r\n\r\n```\r\nCompiling @angular/core : es2015 as esm2015\r\nCompiling @angular/cdk/keycodes : es2015 as esm2015\r\nCompiling @angular/animations : es2015 as esm2015\r\nCompiling @angular/compiler/testing : es2015 as esm2015\r\nWarning: Unable to fully load /Users/johntsombakos/Dev/ng9-test/node_modules/@angular/cdk/keycodes/index.d.ts for source-map flattening: Circular source file mapping dependency: /Users/johntsombakos/Dev/ng9-test/node_modules/@angular/cdk/keycodes/index.d.ts.map -> /Users/johntsombakos/Dev/ng9-test/node_modules/@angular/cdk/keycodes/index.d.ts.map\r\nCompiling @angular/animations/browser : es2015 as esm2015\r\nCompiling @angular/cdk/observers : es2015 as esm2015\r\nCompiling @angular/cdk/collections : es2015 as esm2015\r\nCompiling @angular/common : es2015 as esm2015\r\nCompiling @angular/core/testing : es2015 as esm2015\r\nWarning: Unable to fully load /Users/johntsombakos/Dev/ng9-test/node_modules/@angular/cdk/collections/unique-selection-dispatcher.d.ts for source-map flattening: Circular source file mapping dependency: /Users/johntsombakos/Dev/ng9-test/node_modules/@angular/cdk/collections/unique-selection-dispatcher.d.ts.map -> /Users/johntsombakos/Dev/ng9-test/node_modules/@angular/cdk/collections/unique-selection-dispatcher.d.ts.map\r\nWarning: Unable to fully load /Users/johntsombakos/Dev/ng9-test/node_modules/@angular/cdk/collections/index.d.ts for source-map flattening: Circular source file mapping dependency: /Users/johntsombakos/Dev/ng9-test/node_modules/@angular/cdk/collections/index.d.ts.map -> /Users/johntsombakos/Dev/ng9-test/node_modules/@angular/cdk/collections/index.d.ts.map\r\n```\r\n\r\n## üî¨ Minimal Reproduction\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nUpdate an existing 10.0.1 application to 10.0.2\r\nStart with ng serve\r\n\r\nUnfortunately, subsequent ng serve commands do not do the first es2015 pass, and I don't know how to force it to.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue. \r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n## üî• Exception or Error\r\n<pre><code>Warning: Unable to fully load /Users/johntsombakos/Dev/ng9-test/node_modules/@angular/cdk/keycodes/index.d.ts for source-map flattening: Circular source file mapping dependency: /Users/johntsombakos/Dev/ng9-\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ‚úçÔ∏è-->\r\n\r\n</code></pre>\r\n\r\n\r\n## üåç Your Environment\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ‚úçÔ∏è-->\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / ‚ñ≥ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n\r\n\r\nAngular CLI: 10.0.2\r\nNode: 14.5.0\r\nOS: darwin x64\r\n\r\nAngular: 10.0.3\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.1000.2\r\n@angular-devkit/build-angular     0.1000.2\r\n@angular-devkit/build-optimizer   0.1000.2\r\n@angular-devkit/build-webpack     0.1000.2\r\n@angular-devkit/core              10.0.2\r\n@angular-devkit/schematics        10.0.2\r\n@angular/cdk                      10.0.1\r\n@angular/cli                      10.0.2\r\n@angular/material                 10.0.1\r\n@ngtools/webpack                  10.0.2\r\n@schematics/angular               10.0.2\r\n@schematics/update                0.1000.2\r\nrxjs                              6.6.0\r\ntypescript                        3.9.6\r\nwebpack                           4.43.0\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular/issues/38001","RelatedDescription":"Closed issue \"Many \"Circular source file mapping dependency\" warnings on first build\" (#38001)"},{"Id":"654904792","IsPullRequest":true,"CreatedAt":"2020-07-10T16:43:53","Actor":"clydin","Number":"38004","RawContent":null,"Title":"fix(compiler-cli): match wrapHost parameter types within plugin interface","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [X] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [X] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\nThe `TscPlugin` interface using a type of `ts.CompilerHost&Partial<UnifiedModulesHost>` for the `host` parameter of the `wrapHost` method.  However, prior to this change, the interface implementing `NgTscPlugin` class used a type of `ts.CompilerHost&UnifiedModulesHost` for the parameter.  \r\n\r\n## What is the new behavior?\r\nThis change corrects the inconsistency and allows `UnifiedModulesHost` members to be optional when using the `NgtscPlugin`.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [X] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/38004","RelatedDescription":"Open PR \"fix(compiler-cli): match wrapHost parameter types within plugin interface\" (#38004)"},{"Id":"654861693","IsPullRequest":false,"CreatedAt":"2020-07-10T16:18:55","Actor":"vprothais","Number":"38002","RawContent":null,"Title":"Anchor link outside of Angular App refresh the page (skip to content link)","State":"closed","Body":"# üêû bug report\r\n\r\n### Affected Package\r\nThis issue might be caused by the `@angular/router` module.\r\n\r\n### Is this a regression?\r\nIt is probably not a regression regarding this similar issue talking about Angular 2 : https://github.com/angular/angular/issues/13622\r\n\r\n### Description\r\nHello,\r\nIn my application I have a [skip to content link](https://css-tricks.com/how-to-create-a-skip-to-content-link/) for accessibility improvement. This link is created by an external script, and therefore is not inside my Angular App.\r\n\r\nThe skip link is just an HTML link with `href=\"#anchor\"` and an element having the corresponding id in the DOM.\r\n\r\nIf I click on the skip link, on the \"/\" route, it works as intended. But if the path is not empty, the link seems to refresh the page to the root path and doesn't go to the anchor.\r\n\r\n## üî¨ Minimal Reproduction\r\nhttps://stackblitz.com/edit/angular-outside-anchor\r\n\r\n 1 - Click on the \"Go to test route\" to navigate to a `/test` path (you should see the component in the `router-outlet`)\r\n 2 - Click on the \"Go to the anchor\" link\r\n 3 - We can see the `/test#anchor` in the address bar, but it redirect instantly to `/#anchor`\r\n 4 - I'm not on the route I was and i didn't get to the anchored (can i say that ?) element.\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:** Angular 10, Angular 9\r\n\r\n## Notes\r\nThere is an onclick approach, as suggested  in this SO response : https://stackoverflow.com/questions/50836497/using-html-anchor-link-id-in-angular-6 but I think the standard link approach without onclick event should work as intended.\r\n\r\nThe `anchorScrolling: \"enabled\"` option on the `RouterModule` doesn't change anything.","Url":"https://github.com/angular/angular/issues/38002","RelatedDescription":"Closed issue \"Anchor link outside of Angular App refresh the page (skip to content link)\" (#38002)"},{"Id":"654870703","IsPullRequest":true,"CreatedAt":"2020-07-10T15:45:08","Actor":"petebacondarwin","Number":"38003","RawContent":null,"Title":"fix(ngcc): report a warning if ngcc tries to use a solution-style tsconfig","State":"open","Body":"\r\nIn CLI v10 there was a move to use the new solution-style tsconfig\r\nwhich became available in TS 3.9. The result of this is that the standard\r\ntsconfig.json, which ngcc (and ngc and tsc) infer if not given a explicit\r\ntsconfig file path no longer contains important information such as\r\n\"paths\" mappings, which ngcc might need to correctly compute\r\ndependencies.\r\n\r\nThis commit logs a warning in this case to inform the developer\r\nthat they might not have meant to load this tsconfig and offer\r\nalternative options.\r\n\r\nFixes #36386\r\n","Url":"https://github.com/angular/angular/pull/38003","RelatedDescription":"Open PR \"fix(ngcc): report a warning if ngcc tries to use a solution-style tsconfig\" (#38003)"},{"Id":"654499457","IsPullRequest":false,"CreatedAt":"2020-07-10T09:43:48","Actor":"uuk007","Number":"37998","RawContent":null,"Title":"Failed to load js when accessing invalid url","State":"closed","Body":"Following is my route\r\n\r\n`\r\nconst routes: Routes = [\r\n\r\n  {\r\n\r\n    path: '', component: Layout, \r\n\r\n    children: [\r\n\r\n      { path: 'home', component: HomeComponent},\r\n\r\n      {\r\n\r\n        path: 'Product', component: ProductComponent},\r\n\r\n        children: [\r\n\r\n          { path: '', component: ProducListComponent},\r\n\r\n          { path: 'add', component: ProductAddComponent },\r\n\r\n        ]\r\n\r\n      },\r\n\r\n    ],\r\n\r\n  },\r\n\r\n  { path: '**', component: PageNotFoundComponent },\r\n\r\n];\r\n`\r\nThis is working as expected.\r\n\r\nWhen i access url directly, i am facing some weird behaviour\r\n\r\nhttp://localhost:4200/home -- Working\r\n\r\nhttp://localhost:4200/Product - Working\r\n\r\nhttp://localhost:4200/Products - Working (Page not found is getting rendered)\r\n\r\nBut when i access below url manually, i am getting blank page\r\n\r\nhttp://localhost:4200/Product/1 -- Blank page\r\n\r\nhttp://localhost:4200/Product/add -- Blank page\r\n\r\nMy expectation is it should redirect to Page not found component...What is the issue in the configuration","Url":"https://github.com/angular/angular/issues/37998","RelatedDescription":"Closed issue \"Failed to load js when accessing invalid url\" (#37998)"},{"Id":"654572541","IsPullRequest":true,"CreatedAt":"2020-07-10T07:28:00","Actor":"OmarioHasan","Number":"37999","RawContent":null,"Title":"docs: Testing for real response with TestBed","State":"open","Body":"I think it will worth adding an example for testing on real response\r\nI know this can be written in a more perfect style but I was asking if this really worth to mention or not\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [X] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [X] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [X] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/37999","RelatedDescription":"Open PR \"docs: Testing for real response with TestBed\" (#37999)"},{"Id":"654392615","IsPullRequest":false,"CreatedAt":"2020-07-09T22:45:46","Actor":"santokt","Number":"37996","RawContent":null,"Title":"Set cursor position in contenteditable div - updating when matching character","State":"open","Body":"When user types 'foo' it's automatically changes to bar(this changes based on some condition) , but the caret/cursur keeps going to start position and typing backward.below is the code in stackblitz.\r\n\r\nhttps://stackblitz.com/edit/angular-ivy-sjhbb6\r\n\r\nstackoverlofw question link\r\nhttps://stackoverflow.com/questions/62799054/angular-and-typescript-set-cursur-position-multiple-child-element-in-contented\r\n\r\nThank you.","Url":"https://github.com/angular/angular/issues/37996","RelatedDescription":"Open issue \"Set cursor position in contenteditable div - updating when matching character\" (#37996)"},{"Id":"654237939","IsPullRequest":false,"CreatedAt":"2020-07-09T17:44:31","Actor":"dannymcgee","Number":"37995","RawContent":null,"Title":"[feature] Ability to clone a TemplateRef to multiple outlets at once","State":"open","Body":"# üöÄ Ability to clone a TemplateRef to multiple outlets at once\r\n\r\n### Relevant Package\r\nI could see this being a useful utility in `@angular/cdk`, but would likely require an update to `@angular/core`. I'm honestly not sure.\r\n\r\n\r\n### Description\r\nEssentially, I would like to have the ability to take a `TemplateRef` and inject _copies_ of it into multiple template outlets. The use case that made me aware of this limitation was trying to create a `<select>`-style form control, where consumers could put any arbitrary content into an option (not just text, but icons, images, components, etc.). When an option is selected, the Select component would _re_-project that option's content into the Select's template to indicate the currently selected option.\r\n\r\nIn case that's not clear, here's a simplified/truncated version of the solution that I attempted.\r\n\r\n```typescript\r\n@Component({\r\n  selector: 'my-select',\r\n  template: `\r\n    <div class=\"selected-value\">\r\n      <ng-container *ngTemplateOutlet=\"selectedTemplate\"></ng-container>\r\n      <ng-container *ngIf=\"!selectedTemplate\">{{ placeholder }}</ng-container>\r\n    </div>\r\n    <div class=\"options\">\r\n      <ng-content></ng-content>\r\n    </div>\r\n  `\r\n})\r\nexport class SelectComponent implements AfterContentInit {\r\n\r\n  @Input() placeholder = \"Select an option\";\r\n  @ContentChildren(OptionComponent) options: QueryList<OptionComponent>;\r\n  selectedTemplate: TemplateRef<null>;\r\n\r\n  ngAfterContentInit() {\r\n    this.options.forEach(option => {\r\n      option.selected.subscribe(() => {\r\n        this.selectedTemplate = option.contentTemplate;\r\n      });\r\n    });\r\n  }\r\n\r\n}\r\n\r\n@Component({\r\n  selector: 'my-option',\r\n  template: `\r\n    <ng-container *ngTemplateOutlet=\"contentTemplate\"></ng-container>\r\n    <ng-template #contentTemplate>\r\n      <ng-content></ng-content>\r\n    </ng-template>\r\n  `\r\n})\r\nexport class OptionComponent {\r\n\r\n  @Output() selected = new EventEmitter<void>();\r\n  @ViewChild('contentTemplate') contentTemplate: TemplateRef<null>;\r\n\r\n  @HostListener('click') onClick() {\r\n    this.selected.emit();\r\n  }\r\n\r\n}\r\n```\r\n\r\nAnd here's an example usage that takes advantage of the template cloning:\r\n\r\n```html\r\n<label for=\"status\">Task Status</label>\r\n<my-select id=\"status\" [(ngModel)]=\"statusValue\">\r\n  <my-option [value]=\"Status.Blocked\">\r\n    <my-icon icon=\"ban\"></my-icon> Blocked\r\n  </my-option>\r\n  <my-option [value]=\"Status.Researching\">\r\n    <my-icon icon=\"science\"></my-icon> Researching\r\n  </my-option>\r\n  <my-option [value]=\"Status.InProgress\">\r\n    <my-icon icon=\"ellipsis\"></my-icon> In Progress\r\n  <my-option>\r\n  <my-option [value]=\"Status.Done\">\r\n    <my-icon icon=\"check\"></my-icon> Done\r\n  </my-option>\r\n</my-select>\r\n```\r\n\r\nThis works as intended, except it appears that the `TemplateRef` can only be embedded into one view container at any given time. So, when an option is selected, it appears in the SelectComponent's template outlet (üéâ), but _disappears_ from the OptionComponent's template outlet (üò≠), leaving a blank spot in the options list.\r\n\r\n![TemplateRef copy attempt](https://user-images.githubusercontent.com/13191586/87069082-984b5700-c1e4-11ea-8984-fa8d804fa7d7.png)\r\n\r\n\r\n### Describe the solution you'd like\r\nIt would be great if the sample code above just worked as expected out of the box, but I can understand if that's not feasible, or if it's undesirable for some reason I'm not aware of.\r\n\r\nI dug through some of CDK's source code, because I knew that its Drag-and-Drop feature was doing some sort of element cloning for the preview and placeholder elements, so I hoped that maybe they were making use of some Angular template/view APIs that I was unfamiliar with. Unfortunately, it looks like that feature is just using some [raw, low-level DOM manipulation](https://github.com/angular/components/blob/fb769ef421f5b73a5d88163864e89e1b834086ec/src/cdk/drag-drop/drag-ref.ts#L1316) to achieve this, which would be way overkill for my use case.\r\n\r\nI wonder if it would be possible to add a `clone` method to the `TemplateRef` class, which would return a new `TemplateRef` that could be embedded into an additional template outlet without detaching the original?\r\n\r\n\r\n### Describe alternatives you've considered\r\n\r\nIf I specifically wanted to enable icons in my OptionComponent, of course I could add an `@Input() icon: IconName`, and replicate that to my SelectComponent. I could make the OptionComponent's label a simple `@Input label: string` while I'm at it, instead of fiddling with the content projection at all. But I like to keep these types of core UI components as flexible as possible for a wide variety of use cases, so that when a new use case comes up that I hadn't originally anticipated, it can be accommodated without needing to make major updates to the component or [endlessly tack on configuration options](https://youtu.be/0BikjL858OQ?t=324). If there's another alternative or workaround that I haven't thought of, I would love to hear it.","Url":"https://github.com/angular/angular/issues/37995","RelatedDescription":"Open issue \"[feature] Ability to clone a TemplateRef to multiple outlets at once\" (#37995)"},{"Id":"654195528","IsPullRequest":true,"CreatedAt":"2020-07-09T17:11:20","Actor":"atscott","Number":"37993","RawContent":null,"Title":"ci: fix payload size","State":"closed","Body":"Payload size test is failing on the 10.0.x branch at the moment.\r\n\r\nhttps://app.circleci.com/pipelines/github/angular/angular/18305/workflows/ac9b3755-03dc-46ea-94dd-fe1deb576721/jobs/760453/steps","Url":"https://github.com/angular/angular/pull/37993","RelatedDescription":"Closed or merged PR \"ci: fix payload size\" (#37993)"},{"Id":"654209809","IsPullRequest":true,"CreatedAt":"2020-07-09T16:55:15","Actor":"jelbourn","Number":"37994","RawContent":null,"Title":"ci: add more owners for some categories","State":"open","Body":"* Add petebacondarwin to public-api, size-tracking, and\r\n-circular-dependencies\r\n* Add josephperrott and jelbourn to code-ownership","Url":"https://github.com/angular/angular/pull/37994","RelatedDescription":"Open PR \"ci: add more owners for some categories\" (#37994)"},{"Id":"654179179","IsPullRequest":true,"CreatedAt":"2020-07-09T16:06:10","Actor":"IgorMinar","Number":"37992","RawContent":null,"Title":"Update closure integration tests + add closure compatible build","State":"open","Body":"","Url":"https://github.com/angular/angular/pull/37992","RelatedDescription":"Open PR \"Update closure integration tests + add closure compatible build\" (#37992)"},{"Id":"654081852","IsPullRequest":false,"CreatedAt":"2020-07-09T13:57:00","Actor":"n2pro","Number":"37990","RawContent":null,"Title":"Service Worker does not work correctly until the first refresh app","State":"open","Body":"# üêû bug report\r\n\r\n### Affected Package\r\nThe issue is caused by package @angular/service-worker\": \"9.1.11\"\r\n\r\n### Description\r\n\r\nThe service worker does not work correctly until the page refresh (F5) , only after the first refresh we can work offline.\r\nWe must refresh  the page in order to work offline\r\n\r\nCould you tell me why only after the first refresh we can work offline, is this the bug or a features?\r\n\r\n\r\nPossible premises\r\nWhen loading the first time page in accordance with the dev tools, the application cache does not end, only after the first restart of the application the cache is typed, all requests over the network are under the service worker.\r\n![image](https://user-images.githubusercontent.com/13115017/87047851-51b52700-c1fb-11ea-80ba-2a9264901122.png)\r\n\r\nScreenshot below\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\nAs a new user, the first time (Dev tools -> Clear storage 0 b)\r\nI go to the site, after downloading the application\r\nI go offline and reload the page\r\n\r\nActual result: site is down.\r\nExpected Result: site is loading.\r\n\r\nFor example:\r\nWhen you first visit the site [developers.google.com](https://developers.google.com/ ) when switching to offline mode, we will get `Service Unavailable`, only after the first reload the site becomes accessible in offline mode\r\n\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem.\r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n## üåç  Your Environment\r\nGoogle Chrome x64 v 83.0.4103.116\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 9.1.9\r\nNode: 13.8.0\r\nOS: win32 x64\r\n\r\nAngular: 9.1.11\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router, service-worker\r\nIvy Workspace: No\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.901.0\r\n@angular-devkit/build-angular     0.901.9\r\n@angular-devkit/build-optimizer   0.901.9\r\n@angular-devkit/build-webpack     0.901.9\r\n@angular-devkit/core              9.1.0\r\n@angular-devkit/schematics        9.1.9\r\n@angular/cli                      9.1.9\r\n@ngtools/webpack                  9.1.0\r\n@schematics/angular               9.1.9\r\n@schematics/update                0.901.9\r\nrxjs                              6.5.5\r\ntypescript                        3.8.3\r\nwebpack                           4.42.1\r\n</code></pre>\r\n\r\n","Url":"https://github.com/angular/angular/issues/37990","RelatedDescription":"Open issue \"Service Worker does not work correctly until the first refresh app\" (#37990)"},{"Id":"654069911","IsPullRequest":false,"CreatedAt":"2020-07-09T13:40:26","Actor":"antoinebrault","Number":"37989","RawContent":null,"Title":"bug(common): date pipe rounds up date when fractional second is more than 3 digits","State":"open","Body":"Hi, \r\n\r\nI believe I've come across a bug in the date parsing. \r\nI haven't seen any indications that this is expected behavior, so I'm opening an issue here.\r\n\r\n# üêû bug report\r\n\r\n### Affected Package\r\n@angular/common\r\nSeems to be in every version I tested. Angular 6, 9, 10\r\n\r\nhttps://github.com/angular/angular/blob/d1ea1f4c7f3358b730b0d94e65b00bc28cae279c/packages/common/src/i18n/format_date.ts#L735\r\n\r\n### Is this a regression?\r\nNot that I've seen.\r\n\r\n### Description\r\nThe Date pipe has some unexpected behavior when second fractions have more than 3 digits.\r\n\r\nISO 8601 format is not capped on fractional second number of digits.\r\nhttps://www.w3.org/TR/NOTE-datetime\r\nhttps://en.wikipedia.org/wiki/ISO_8601#:~:text=There%20is%20no%20limit%20on%20the%20number%20of%20decimal%20places%20for%20the%20decimal%20fraction\r\nhttps://momentjs.com/docs/#:~:text=Fractional%20Second\r\nhttps://date-fns.org/v2.14.0/docs/format#:~:text=Fraction%20of%20second\r\n\r\n## üî¨ Minimal Reproduction\r\nhttps://stackblitz.com/edit/angular-date-fractional-second-test\r\n```\r\n  3 digits: {{ '2020-08-01T23:59:59.999' | date: 'yyyy-MM-dd' }} \r\n  <br>\r\n  4 digits: {{ '2020-08-01T23:59:59.9999' | date: 'yyyy-MM-dd' }}\r\n```","Url":"https://github.com/angular/angular/issues/37989","RelatedDescription":"Open issue \"bug(common): date pipe rounds up date when fractional second is more than 3 digits\" (#37989)"},{"Id":"654037732","IsPullRequest":false,"CreatedAt":"2020-07-09T12:54:14","Actor":"wobblycogs","Number":"37988","RawContent":null,"Title":"Poorly coded reactive form doesn't throw an exception","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû bug report\r\n\r\n### Affected Package\r\nPresumably @angular/forms\r\n\r\n\r\n### Is this a regression?\r\n\r\nNot as far as I know\r\n\r\n\r\n### Description\r\n\r\nI can write a very poorly coded reactive form and the system will still attempt to interpret it with unexpected results. I would expect either an exception or nothing, I didn't expect it to splurge out a chunk of code.\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\n```typescript\r\nthis.form = this.fb.group({\r\n    name: ['', [Validators.required]],\r\n    description: [[Validators.required]],\r\n});\r\n````\r\n\r\n```\r\n...\r\n<mat-form-field>\r\n    <input type=\"text\" matInput placeholder=\"Description\" id=\"description\" formControlName=\"description\" autocomplete=\"off\"/>\r\n</mat-form-field>\r\n...\r\n```\r\n\r\n## üî• Exception or Error\r\nDescription field of the above form field displays the text:\r\n>required(control) {        return isEmptyInputValue(control.value) ? { 'required': true } : null;    }\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\nAngular CLI: 9.0.4\r\nNode: 12.18.1\r\nOS: win32 x64\r\n\r\nAngular: 9.0.4\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.900.4\r\n@angular-devkit/build-angular      0.900.4\r\n@angular-devkit/build-optimizer    0.900.4\r\n@angular-devkit/build-webpack      0.900.4\r\n@angular-devkit/core               9.0.4\r\n@angular-devkit/schematics         9.0.4\r\n@angular/cdk                       9.1.0\r\n@angular/flex-layout               9.0.0-beta.29\r\n@angular/material                  9.1.0\r\n@angular/material-moment-adapter   9.2.4\r\n@ngtools/webpack                   9.0.4\r\n@schematics/angular                9.0.4\r\n@schematics/update                 0.900.4\r\nrxjs                               6.5.3\r\ntypescript                         3.7.5\r\nwebpack                            4.41.2\r\n\r\n\r\n**Anything else relevant?**\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular/issues/37988","RelatedDescription":"Open issue \"Poorly coded reactive form doesn't throw an exception\" (#37988)"},{"Id":"653913087","IsPullRequest":false,"CreatedAt":"2020-07-09T11:18:40","Actor":"Anna-liu-77","Number":"37985","RawContent":null,"Title":"Angular2 UT error: $(...).popover is not a function /  TypeError: Cannot read property 'focus' of null","State":"closed","Body":"Recently I test the component with directives (likes tooltip), but when I run this spec.ts file, I always got the error likes this: $(...).popover is not a function. So how can I handle with this problem?\r\nThank you in advance!","Url":"https://github.com/angular/angular/issues/37985","RelatedDescription":"Closed issue \"Angular2 UT error: $(...).popover is not a function /  TypeError: Cannot read property 'focus' of null\" (#37985)"},{"Id":"653968665","IsPullRequest":true,"CreatedAt":"2020-07-09T10:57:35","Actor":"olliveirallucas","Number":"37987","RawContent":null,"Title":"Adapt the Http Client to return class objects","State":"open","Body":"This proposal aims to establish the fromJSON/toJSON standard and adapt the Http Client to use it to return class objects.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [x] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n\r\nCurrently, the Http Client provides the return types: string, ArrayBuffer, Blob and JSON objects typed with interfaces.\r\n\r\nAs an example, consider that we have an API endpoint that delivers the following JSON response and a class to manage this information:\r\n\r\n```\r\n {\r\n    \"firstName\": \"John\",\r\n    \"lastName\": \"Smith\",\r\n    \"dateOfBirth\": \"2000-01-01\"\r\n }\r\n```\r\n\r\n```\r\n class Person {\r\n    firstName: string;\r\n    lastName: string;\r\n    dateOfBirth: Date;\r\n\r\n    getFullName(): string {\r\n        return this.firstName + ' ' + this.lastName;\r\n    }\r\n }\r\n```\r\n\r\nIn order to get a typed response, we can create the following interface and use a map to parse the response:\r\n\r\n```\r\n interface PersonJson {\r\n \tfirstName: string;\r\n\tlastName: string;\r\n\tdateOfBirth: string;\r\n }\r\n\r\n function getPerson(): Observable<Person> {\r\n    this.httpClient.get<PersonJson>('/person').pipe(map(personJson => {\r\n        const person = new Person();\r\n        person.firstName = personJson.firstName;\r\n        person.lastName = personJson.lastName;\r\n        person.dateOfBirth = new Date(personJson.dateOfBirth + ' 00:00:00');\r\n    }));\r\n }\r\n```\r\n\r\n## What is the new behavior?\r\n\r\nFirst, I would like to propose the standard of implementing the methods toJSON (standard JavaScript function) and fromJSON (static) in the Person class:\r\n\r\n```\r\n class Person {\r\n    firstName: string;\r\n    lastName: string;\r\n    dateOfBirth: Date;\r\n\r\n    static fromJSON(obj: any): Person {\r\n         const person = new Person();\r\n         person.firstName = obj.firstName;\r\n         person.lastName = obj.lastName;\r\n         person.dateOfBirth = new Date(obj.dateOfBirth + ' 00:00:00');\r\n         return person;\r\n    }\r\n\r\n    toJSON(): object {\r\n        return {\r\n            ...this,\r\n            dateOfBirth: this.dateOfBirth.getFullYear().toString() + '-' +\r\n                (this.dateOfBirth.getMonth() + 1).toString().padStart(2, '0') + '-' +\r\n                this.dateOfBirth.getDate().toString().padStart(2, '0')\r\n        };\r\n    }\r\n\r\n    getFullName(): string {\r\n        return this.firstName + ' ' + this.lastName;\r\n    }\r\n }\r\n```\r\n\r\nThis way, with no modifications in the Http Client, the last code can be shortened to:\r\n\r\n```\r\n getPerson(): Observable<Person> {\r\n    return this.httpClient.get('/person').pipe(map(Person.fromJSON));\r\n }\r\n```\r\n\r\nBut it could be even shorter/better if we adapt the Http Client to recognize this standard and accept as a parameter a class that implements the static method fromJSON. By doing this, the Http Client can use the fromJSON method to return parsed class objects instead of plain JSON objects. The proposed implementation results in the following code:\r\n\r\n```\r\n getPerson(): Observable<Person> {\r\n    return this.httpClient.get('/person', Person);\r\n }\r\n```\r\n\r\nComplementary, it is important to remark that the standard toJSON method is automatically used by the Http Client to parse Person objects to JSON objects when sending it in the body of PATCH/POST/PUT requests.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n## Other information\r\n\r\nSupport for array of objects is also added. Consider that in the above example the endpoint returns an array of Persons. In this case, it is only necessary to change the generic type of the get function to Person[]:\r\n\r\n```\r\n function getPerson(): Observable<Person> {\r\n    return this.httpClient.get<Person[]>('/person', Person);\r\n }\r\n```\r\n\r\nAdditionally, a second commit was included to fix some typos and missing punctuation.\r\n","Url":"https://github.com/angular/angular/pull/37987","RelatedDescription":"Open PR \"Adapt the Http Client to return class objects\" (#37987)"},{"Id":"653727272","IsPullRequest":true,"CreatedAt":"2020-07-09T03:09:06","Actor":"ivanwonder","Number":"37983","RawContent":null,"Title":"fix(language-service): remove completion for string","State":"open","Body":"If the user inputs a string(e.g. `<div [ngClass]=\"'str~{cursor}'\"></div>`), the completion is useless.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/37983","RelatedDescription":"Open PR \"fix(language-service): remove completion for string\" (#37983)"}],"ResultType":"GitHubIssue"},"AngularCli-Issues":{"Issues":[{"Id":"655309887","IsPullRequest":true,"CreatedAt":"2020-07-12T01:19:40","Actor":"clydin","Number":"18232","RawContent":null,"Title":"fix(@angular-devkit/build-angular): wrap ES5 differential loading bundles","State":"open","Body":"This change ensures that classic (ES5) script's top-level function helpers do not get overwritten by other scripts top-level functions that happen to have the same name.  This is not an issue when using module script types because each module has its own scope.","Url":"https://github.com/angular/angular-cli/pull/18232","RelatedDescription":"Open PR \"fix(@angular-devkit/build-angular): wrap ES5 differential loading bundles\" (#18232)"},{"Id":"655304653","IsPullRequest":false,"CreatedAt":"2020-07-12T00:32:19","Actor":"KShewengger","Number":"18231","RawContent":null,"Title":"Building Angular 10 app shows incomplete \"Warning in\" messages","State":"open","Body":"# üêû Bug report\r\n\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\nYes\r\n\r\n\r\n### Description\r\nWhenever I tried to build my app, there are warning in relevance to _\"Fix CommonJS or AMD dependencies can cause optimization bailouts\"_ and incomplete _\"Warning in\"_ message but the first one is now resolved through editing  the `angular.json` and add this line right here:\r\n\r\n```\r\n\"allowedCommonJsDependencies\": [\r\n        \"...\"\r\n ]\r\n```\r\n\r\nBut the 2nd issue - incomplete _\"Warning in\"_ messages still persists. With this, would like to be guided.\r\n\r\n## üî¨ Minimal Reproduction\r\nIt is through when running `ng build --prod` but since the warning shown is incomplete, I'm quite not sure when does it persist but these are the list of packages that I have added under `allowedCommonJsDependencies`\r\n\r\n```\r\n\"allowedCommonJsDependencies\": [\r\n              \"ngx-lightbox\",\r\n              \"ngx-flickity\",\r\n              \"lodash\",\r\n              \"flickity\",\r\n              \"flickity-imagesloaded\",\r\n              \"imagesloaded/imagesloaded\"\r\n ]\r\n``` \r\n\r\n## üî• Exception or Error\r\n![image](https://user-images.githubusercontent.com/7908747/87236252-666f0600-c419-11ea-99f3-1f9412b98689.png)\r\n\r\n\r\n## üåç Your Environment\r\nAngular CLI: 10.0.2\r\nNode: 12.11.1\r\nOS: macOS Catalina\r\nAngular: 10.0.3","Url":"https://github.com/angular/angular-cli/issues/18231","RelatedDescription":"Open issue \"Building Angular 10 app shows incomplete \"Warning in\" messages\" (#18231)"},{"Id":"655262533","IsPullRequest":false,"CreatedAt":"2020-07-11T19:07:56","Actor":"akshata456","Number":"18230","RawContent":null,"Title":"preloadingStrategy  not working","State":"open","Body":"üêû Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ‚úçÔ∏èedit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [x] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> Yes, the previous version in which this bug was not present was: ....\r\n\r\n\r\n### Description\r\nI used preloadingStrategy in app-routes.like this way\r\n imports: [RouterModule.forRoot(routes, { preloadingStrategy: AppCustomPreloader })]\r\nbut it not works.\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\nadd preloadingStrategy in app routes under imports\r\n\r\n## üî• Exception or Error\r\nNo modules get preloaded.\r\n\r\n\r\n\r\n## üåç Your Environment\r\nAngular CLI: 7.2.0\r\nNode: 10.21.0\r\nOS: win32 x64\r\nAngular: 7.1.4\r\n\r\n\r\n","Url":"https://github.com/angular/angular-cli/issues/18230","RelatedDescription":"Open issue \"preloadingStrategy  not working\" (#18230)"},{"Id":"655259467","IsPullRequest":false,"CreatedAt":"2020-07-11T18:46:40","Actor":"LoaderB0T","Number":"18229","RawContent":null,"Title":"Symlinked scss not triggering recompile on change","State":"open","Body":"# üêû Bug report\r\n\r\n### Command\r\n\r\n- [ ] new\r\n- [x] build (with --watch)\r\n- [x] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Description\r\nImagine the following filesystem structure:\r\n<pre>\r\ntestFolder/\r\n‚îú‚îÄ‚îÄ realFolder1/\r\n‚îÇ   ‚îî‚îÄ‚îÄ style1.scss\r\n‚îú‚îÄ‚îÄ realFolder2/\r\n‚îÇ   ‚îî‚îÄ‚îÄ style2.scss\r\n‚îî‚îÄ‚îÄ ngApp/\r\n    ‚îú‚îÄ‚îÄ src/\r\n    ‚îÇ   ‚îú‚îÄ‚îÄ styles.scss\r\n    ‚îÇ   ‚îú‚îÄ‚îÄ link1\r\n    ‚îÇ   ‚îî‚îÄ‚îÄ link2\r\n    ‚îî‚îÄ‚îÄ .....\r\n</pre>\r\nlink1 & link2 are symbolic links, linking to realFolder1 and realFolder2, respectively.\r\nThe styles.scss in the actual angular app imports the style1.scss from the linked folder link1.\r\nThe style1.scss imports the style2.scss from the linked folder link2.\r\nstyles.scss contains actual style definitions.\r\n\r\nNow when serving (or building with --watch) everything gets compiled correctly, but changes to the styles2.scss are ignored and not rebuild. Only when triggering a change in a different file the changes from style2.scss are *sometimes* also recompiled.\r\nActually in my repro app this is even true for changes to style1.scss! However, on my \"real\" project where I discovered this, the issue only occurs on the second level of symlinked references...\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\nTo reproduce this issue you can do the following:\r\nEither you recreate the above structure or you clone [my example app](https://github.com/LoaderB0T/scssSymlinkWatchBug) for this issue. In this example app for whatever reason symlinked scss files, do not trigger a recompile at all. In the real app this definitely works on some occasions where it is just one symlinked file, but fails when configured as above.\r\n\r\n\r\n## üåç Your Environment\r\n<pre><code>\r\nAngular CLI: 10.0.2\r\nNode: 12.18.0\r\nOS: win32 x64\r\n\r\nAngular: 10.0.3\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.1000.2\r\n@angular-devkit/build-angular     0.1000.2\r\n@angular-devkit/build-optimizer   0.1000.2\r\n@angular-devkit/build-webpack     0.1000.2\r\n@angular-devkit/core              10.0.2\r\n@angular-devkit/schematics        10.0.2\r\n@angular/cli                      10.0.2\r\n@ngtools/webpack                  10.0.2\r\n@schematics/angular               10.0.2\r\n@schematics/update                0.1000.2\r\nrxjs                              6.5.5\r\ntypescript                        3.9.6\r\nwebpack                           4.43.0\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\nReproducible with Windows 10 and WSL","Url":"https://github.com/angular/angular-cli/issues/18229","RelatedDescription":"Open issue \"Symlinked scss not triggering recompile on change\" (#18229)"},{"Id":"655252153","IsPullRequest":false,"CreatedAt":"2020-07-11T18:05:48","Actor":"akshata456","Number":"18228","RawContent":null,"Title":"preloadingStrategy not works for angular v7.1.4","State":"closed","Body":"Please check preloadingStrategy  not works in angular cli 7.1.4.","Url":"https://github.com/angular/angular-cli/issues/18228","RelatedDescription":"Closed issue \"preloadingStrategy not works for angular v7.1.4\" (#18228)"},{"Id":"655244250","IsPullRequest":false,"CreatedAt":"2020-07-11T17:06:28","Actor":"myemuk","Number":"18227","RawContent":null,"Title":"ng downloads latest stable cli version from npm instead of using same version which is globally installed","State":"open","Body":"# üêû Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ‚úçÔ∏èedit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [x] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\nNo, it was happening before.\r\n\r\n### Description\r\nCommand running: `ng update`. Local ng version was 10.0.1; and version 10.0.2 was installed globally. And global version was latest stable release.\r\n\r\nSo first, ng chooses local version, because global is newer.\r\nSecond: ng decides to download latest stable version from npm to the temporary folder and run it instead of using global version.\r\n\r\nAs the result it takes much longer time to run this command. Moreover I usually use `ng update` and than `ng update @angular/cli @angular/core` if there is an update. So it downloads same version twice instead of using global version.\r\n\r\n## üî¨ Minimal Reproduction\r\n1. Install latest stable version globally.\r\n2. Run `ng update` in any project what needs to be updated.\r\n\r\n## üî• Exception or Error\r\n\r\n<pre><code>\r\n[user@mnjr driver]$ ng update\r\nYour global Angular CLI version (10.0.2) is greater than your local\r\nversion (10.0.1). The local Angular CLI version is used.\r\n\r\nTo disable this warning use \"ng config -g cli.warnings.versionMismatch false\".\r\nThe installed local Angular CLI version is older than the latest stable version.\r\nInstalling a temporary version to perform the update.\r\nInstalling packages for tooling via npm.\r\nInstalled packages for tooling via npm.\r\nUsing package manager: 'npm'\r\nCollecting installed dependencies...\r\nFound 50 dependencies.\r\n    We analyzed your package.json, there are some packages to update:\r\n    \r\n      Name                                Version                  Command to update\r\n     ---------------------------------------------------------------------------------\r\n      @angular/cli                        10.0.1 -> 10.0.2         ng update @angular/cli\r\n      @angular/core                       10.0.2 -> 10.0.3         ng update @angular/core\r\n[user@mnjr driver]$ ng update @angular/cli @angular/core\r\nYour global Angular CLI version (10.0.2) is greater than your local\r\nversion (10.0.1). The local Angular CLI version is used.\r\n\r\nTo disable this warning use \"ng config -g cli.warnings.versionMismatch false\".\r\nThe installed local Angular CLI version is older than the latest stable version.\r\nInstalling a temporary version to perform the update.\r\nInstalling packages for tooling via npm.\r\nInstalled packages for tooling via npm.\r\n\r\n</code></pre>\r\n\r\n\r\n## üåç Your Environment\r\n<pre><code>\r\nYour global Angular CLI version (10.0.2) is greater than your local\r\nversion (10.0.1). The local Angular CLI version is used.\r\n\r\nTo disable this warning use \"ng config -g cli.warnings.versionMismatch false\".\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / ‚ñ≥ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 10.0.1\r\nNode: 14.5.0\r\nOS: linux x64\r\n\r\nAngular: 10.0.2\r\n... common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: <error>\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.1000.1\r\n@angular-devkit/build-angular     0.1000.1\r\n@angular-devkit/build-optimizer   0.1000.1\r\n@angular-devkit/build-webpack     0.1000.1\r\n@angular-devkit/core              9.1.10\r\n@angular-devkit/schematics        9.1.10\r\n@angular/cli                      10.0.1\r\n@ngtools/webpack                  10.0.1\r\n@schematics/angular               9.1.10\r\n@schematics/update                0.1000.1\r\nrxjs                              6.6.0\r\ntypescript                        3.9.6\r\nwebpack                           4.43.0\r\n\r\n</code></pre>\r\n\r\n","Url":"https://github.com/angular/angular-cli/issues/18227","RelatedDescription":"Open issue \"ng downloads latest stable cli version from npm instead of using same version which is globally installed\" (#18227)"},{"Id":"655210773","IsPullRequest":true,"CreatedAt":"2020-07-11T13:39:27","Actor":"sacgrover","Number":"18226","RawContent":null,"Title":"fix(@schematics/angular): consecutive blank lines in routing.module.ts","State":"open","Body":"Fixes: #18220","Url":"https://github.com/angular/angular-cli/pull/18226","RelatedDescription":"Open PR \"fix(@schematics/angular): consecutive blank lines in routing.module.ts\" (#18226)"},{"Id":"655169685","IsPullRequest":true,"CreatedAt":"2020-07-11T09:08:55","Actor":"renovate[bot]","Number":"18225","RawContent":null,"Title":"build: update @jsdevtools/coverage-istanbul-loader to version 3.0.4","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@jsdevtools/coverage-istanbul-loader](https://jstools.dev/coverage-istanbul-loader) ([source](https://togithub.com/JS-DevTools/coverage-istanbul-loader)) | dependencies | patch | [`3.0.3` -> `3.0.4`](https://renovatebot.com/diffs/npm/@jsdevtools%2fcoverage-istanbul-loader/3.0.3/3.0.4) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>JS-DevTools/coverage-istanbul-loader</summary>\n\n### [`v3.0.4`](https://togithub.com/JS-DevTools/coverage-istanbul-loader/compare/v3.0.3...v3.0.4)\n\n[Compare Source](https://togithub.com/JS-DevTools/coverage-istanbul-loader/compare/v3.0.3...v3.0.4)\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/18225","RelatedDescription":"Open PR \"build: update @jsdevtools/coverage-istanbul-loader to version 3.0.4\" (#18225)"},{"Id":"655145310","IsPullRequest":true,"CreatedAt":"2020-07-11T06:14:46","Actor":"renovate[bot]","Number":"18224","RawContent":null,"Title":"build: update inquirer to version 7.3.1","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [inquirer](https://togithub.com/SBoudrias/Inquirer.js) | dependencies | patch | [`7.3.0` -> `7.3.1`](https://renovatebot.com/diffs/npm/inquirer/7.3.0/7.3.1) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>SBoudrias/Inquirer.js</summary>\n\n### [`v7.3.1`](https://togithub.com/SBoudrias/Inquirer.js/compare/inquirer@7.3.0...inquirer@7.3.1)\n\n[Compare Source](https://togithub.com/SBoudrias/Inquirer.js/compare/inquirer@7.3.0...inquirer@7.3.1)\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/18224","RelatedDescription":"Open PR \"build: update inquirer to version 7.3.1\" (#18224)"},{"Id":"655144408","IsPullRequest":true,"CreatedAt":"2020-07-11T06:09:02","Actor":"renovate[bot]","Number":"18223","RawContent":null,"Title":"build: update autoprefixer to version 9.8.5","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [autoprefixer](https://togithub.com/postcss/autoprefixer) | dependencies | patch | [`9.8.4` -> `9.8.5`](https://renovatebot.com/diffs/npm/autoprefixer/9.8.4/9.8.5) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>postcss/autoprefixer</summary>\n\n### [`v9.8.5`](https://togithub.com/postcss/autoprefixer/blob/master/CHANGELOG.md#&#8203;985)\n\n[Compare Source](https://togithub.com/postcss/autoprefixer/compare/9.8.4...9.8.5)\n\n-   Improved Grid Layout warnings (by Daniel Tonon).\n-   Fix for align/justify-self grid prefixes not getting applied if the grid item is set to `display: flex` (by Daniel Tonon).\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/18223","RelatedDescription":"Open PR \"build: update autoprefixer to version 9.8.5\" (#18223)"},{"Id":"655136869","IsPullRequest":true,"CreatedAt":"2020-07-11T05:08:54","Actor":"renovate[bot]","Number":"18222","RawContent":null,"Title":"build: update cacache to version 15.0.5","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [cacache](https://togithub.com/npm/cacache) | dependencies | patch | [`15.0.4` -> `15.0.5`](https://renovatebot.com/diffs/npm/cacache/15.0.4/15.0.5) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>npm/cacache</summary>\n\n### [`v15.0.5`](https://togithub.com/npm/cacache/blob/master/CHANGELOG.md#&#8203;1505-httpsgithubcomnpmcacachecomparev1504v1505-2020-07-11)\n\n[Compare Source](https://togithub.com/npm/cacache/compare/v15.0.4...v15.0.5)\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/18222","RelatedDescription":"Open PR \"build: update cacache to version 15.0.5\" (#18222)"},{"Id":"655136184","IsPullRequest":true,"CreatedAt":"2020-07-11T05:03:38","Actor":"renovate[bot]","Number":"18221","RawContent":null,"Title":"build: update bazel_toolchains to version 3.3.2","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [bazel_toolchains](https://togithub.com/bazelbuild/bazel-toolchains) | http_archive | patch | `3.3.1` -> `3.3.2` |\n\n---\n\n### Release Notes\n\n<details>\n<summary>bazelbuild/bazel-toolchains</summary>\n\n### [`v3.3.2`](https://togithub.com/bazelbuild/bazel-toolchains/releases/3.3.2)\n\n[Compare Source](https://togithub.com/bazelbuild/bazel-toolchains/compare/3.3.1...3.3.2)\n\nSHA256:6d54b26a58457f9fca2e54f053402061ffe73e3b909b8f6bf6dedb2a3db093ea\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/18221","RelatedDescription":"Open PR \"build: update bazel_toolchains to version 3.3.2\" (#18221)"},{"Id":"655067986","IsPullRequest":false,"CreatedAt":"2020-07-10T22:28:02","Actor":"kumaran-is","Number":"18220","RawContent":null,"Title":"Lint Issue: Angular CLI generate  `app-routing.module.ts` with consecutive blank lines  ","State":"open","Body":"# üêû Bug report\r\n\r\n### Command (mark with an `x`)\r\n`app-routing.module.ts` generated by `Angular-cli v9`  has consecutive blank lines( line 3 & 4 in below screenshot) , causing lint issue. This was not happening in `Angular-cli v8`.\r\n\r\n![Screen Shot 2020-07-10 at 3 50 59 PM](https://user-images.githubusercontent.com/6869139/87207410-d4141880-c2d9-11ea-9d56-09fd79c4c62f.png)\r\n\r\n\r\nwith tslint.json configuration, \r\n\r\n\"rules\": {\r\n    \"no-consecutive-blank-lines\":true\r\n}\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [X] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\nThis was not happening in `Angular-cli v8`.\r\n\r\n\r\n### Description\r\n\r\nAs mentioned above. \r\n\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\n- Install angular cli 9.1  `npm install -g @angular/cli@9`\r\n- Create a new project `ng new my-app`  with route \r\n- Update your tslint.json configuration with below rule\r\n\r\n\"rules\": {\r\n    \"no-consecutive-blank-lines\": true\r\n}\r\n\r\n- Run. `ng lint`\r\n\r\n- Lint fails with below error\r\n\r\n/Users/work/Angular9/my-app/src/app/app-routing.module.ts:4:1\r\nERROR: 4:1  no-consecutive-blank-lines  Consecutive blank lines are forbidden\r\n\r\nLint errors found in the listed files.\r\nnpm ERR! code ELIFECYCLE\r\nnpm ERR! errno 1\r\n\r\n\r\n## üåç Your Environment\r\nAngular CLI: 9.1.11\r\nNode: 12.13.0\r\nOS: darwin x64\r\n\r\nAngular: \r\n... \r\nIvy Workspace: \r\n\r\nPackage                      Version\r\n------------------------------------------------------\r\n@angular-devkit/architect    0.901.11\r\n@angular-devkit/core         9.1.11\r\n@angular-devkit/schematics   9.1.11\r\n@schematics/angular          9.1.11\r\n@schematics/update           0.901.11\r\nrxjs                         6.5.4\r\n","Url":"https://github.com/angular/angular-cli/issues/18220","RelatedDescription":"Open issue \"Lint Issue: Angular CLI generate  `app-routing.module.ts` with consecutive blank lines  \" (#18220)"},{"Id":"655029876","IsPullRequest":true,"CreatedAt":"2020-07-10T20:52:10","Actor":"dgp1130","Number":"18219","RawContent":null,"Title":"Fixes publish and dist-tag scripts.","State":"open","Body":"This fixes a few known bugs in `publish` and `dist-tag`, as well as a few new ones I found along the way.\r\n\r\nIdeally this would have been at least two distinct PRs, but they touched each other when it relates to registries in a way that would have been a pain with multiple PRs.\r\n\r\n**CARETAKER NOTE**: This should be merged to all actively released branches (I guess the final `doc:` commit doesn't _need_ to be), as the release process checks out those branches before running `yarn admin publish`. I can make a separate PR for other branches if necessary.","Url":"https://github.com/angular/angular-cli/pull/18219","RelatedDescription":"Open PR \"Fixes publish and dist-tag scripts.\" (#18219)"},{"Id":"655013464","IsPullRequest":true,"CreatedAt":"2020-07-10T20:16:49","Actor":"clydin","Number":"18218","RawContent":null,"Title":"test(@angular-devkit/build-angular): increase rebuild debounce times","State":"open","Body":"CI performance variability can cause test flakes in rebuild tests due to the rebuilds taking longer than expected.  This change increases the 500ms debounce time for the web worker rebuild tests to 1000ms to mitigate these issues.","Url":"https://github.com/angular/angular-cli/pull/18218","RelatedDescription":"Open PR \"test(@angular-devkit/build-angular): increase rebuild debounce times\" (#18218)"},{"Id":"655008573","IsPullRequest":true,"CreatedAt":"2020-07-10T20:06:05","Actor":"clydin","Number":"18217","RawContent":null,"Title":"test: add a non-structural file change to rebuild E2E","State":"open","Body":"This helps validate and profile rebuilds when TypeScript can fully reuse a previous Program.","Url":"https://github.com/angular/angular-cli/pull/18217","RelatedDescription":"Open PR \"test: add a non-structural file change to rebuild E2E\" (#18217)"},{"Id":"654904407","IsPullRequest":false,"CreatedAt":"2020-07-10T18:33:17","Actor":"javierdpt","Number":"18216","RawContent":null,"Title":"@angular/cli 10.0.0 polyfills not importing \"polyfills\" files when build to prod","State":"closed","Body":"# üêû Bug report\r\n\r\n- [ ] new\r\n- [x ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\nYes, the previous version in which this bug was not present was: 9.1.11\r\n\r\n### Description\r\n\r\nI have multiple polyfills files I import in the polyfills.ts file. While using ng serve this works fine but when I build the application to prod it doesn't. The work around I found was adding the code block inline but is working fine in the previous version of angular, this stopped working when I created a new app with angular 10.\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\nI have this file: string.polyfills.ts\r\n`\r\ninterface String {\r\n    contains(search: string): boolean;\r\n}\r\nif (!String.prototype.hasOwnProperty('contains')) {\r\n    String.prototype.contains = function (search: string): boolean {\r\n        return this.indexOf(search) !== -1;\r\n    };\r\n}\r\n`\r\n\r\nand in the src/polyfills.ts line 55 I have the following\r\n`import './path/to/string.extension';`\r\n\r\nIf I do ng serve I can do in the browser's console 'test'.contains(es);\r\nBut with ng serve --prod (for example) the string.contains is undefined.\r\n\r\nIf I add all the content of the file (string.polyfills.ts) in the polyfills.ts it works but I would like to know what it stoped working in angular 10.\r\n\r\n\r\n## üåç Environment\r\nAngular CLI: 10.0.0\r\nNode: 14.4.0\r\nOS: win32 x64\r\n\r\nAngular: 10.0.0\r\n... animations, cdk, cli, common, compiler, compiler-cli, core\r\n... forms, material, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.1000.0\r\n@angular-devkit/build-angular     0.1000.0\r\n@angular-devkit/build-optimizer   0.1000.0\r\n@angular-devkit/build-webpack     0.1000.0\r\n@angular-devkit/core              10.0.0\r\n@angular-devkit/schematics        10.0.0\r\n@ngtools/webpack                  10.0.0\r\n@schematics/angular               10.0.0\r\n@schematics/update                0.1000.0\r\nrxjs                              6.5.5\r\ntypescript                        3.9.5\r\nwebpack                           4.43.0\r\n\r\nThanks for looking at this and awesome work üëèüëèüëèüëè","Url":"https://github.com/angular/angular-cli/issues/18216","RelatedDescription":"Closed issue \"@angular/cli 10.0.0 polyfills not importing \"polyfills\" files when build to prod\" (#18216)"},{"Id":"654431612","IsPullRequest":false,"CreatedAt":"2020-07-10T16:56:25","Actor":"eun-choi","Number":"18207","RawContent":null,"Title":"latest ver of npm is incorrect. It's 9.1.11 instead of 10.0.2","State":"closed","Body":"latest ver of npm is incorrect. It's 9.1.11 instead of 10.0.2\r\n\r\n```\r\n@angular/cli\r\n9.1.11 ‚Ä¢ Public ‚Ä¢ Published 4 hours ago\r\nTip: Click on a version number to view a previous version's package page\r\nCurrent Tags\r\n9.1.11\r\nlatest\r\n10.1.0-next.0\r\nnext\r\n6.2.9\r\nv6-lts\r\n8.3.28\r\nv8-lts\r\n7.3.10\r\nv7-lts\r\n9.1.10\r\nv9-lts\r\nVersion History\r\n\r\n9.1.11\r\n4 hours ago\r\n10.0.2\r\n4 hours ago\r\n10.1.0-next.0\r\n4 hours ago\r\n9.1.10\r\n8 days ago\r\n10.0.1\r\n8 days ago\r\n```","Url":"https://github.com/angular/angular-cli/issues/18207","RelatedDescription":"Closed issue \"latest ver of npm is incorrect. It's 9.1.11 instead of 10.0.2\" (#18207)"},{"Id":"654901413","IsPullRequest":false,"CreatedAt":"2020-07-10T16:37:24","Actor":"IsaacHub","Number":"18215","RawContent":null,"Title":"[app-shell] Cannot read property 'initializer' of undefined","State":"open","Body":"I have done this in my existing project\r\nI executed `ng add @angular/pwa` and it went all good, next I executed `ng generate app-shell` then I got the following error:\r\n`Cannot read property 'initializer' of undefined`\r\n\r\nDo you know how to resolve this?\r\n\r\n\r\n```\r\nAngular CLI: 10.0.0\r\nNode: 14.4.0\r\nOS: win32 x64\r\n\r\nAngular: 10.0.1\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\n```\r\n\r\n","Url":"https://github.com/angular/angular-cli/issues/18215","RelatedDescription":"Open issue \"[app-shell] Cannot read property 'initializer' of undefined\" (#18215)"},{"Id":"654844598","IsPullRequest":false,"CreatedAt":"2020-07-10T15:24:26","Actor":"samdoeswork","Number":"18213","RawContent":null,"Title":"--prod breaks app by removing RXJS operators  (specifically optimization: true)","State":"closed","Body":"# üêû Bug report\r\n\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\nYes, this worked prior to Angular 10.\r\n\r\n\r\n### Description\r\n\r\nWhen building with --prod or anything else that has optimization: true, we get e.g. \"this.$rawChange.startWith is not a function\"\r\nThis is the same for all RXJS operators when trying to apply them to EventEmitters.\r\n\r\nWhen building without --prod (or with optimization: false in the prod config) this works fine.\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\nDefine an observable via. e.g. `new EventEmitter<string>()`; then try and use .startWith or any other operator.\r\nThis runs fine with optimizations disabled, and fails with optimizations enabled.\r\n\r\nexport class MyComponent implements OnInit {\r\n$rawChange = new EventEmitter<string>();\r\n\r\nngOnInit() {\r\nthis.filteredOptions = this.$rawChange\r\n      .startWith(startingWith || null)\r\n      .map(valueChange => valueChange ? this.filter(valueChange) : this.options.slice());\r\n}\r\n}\r\n\r\n\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\nthis.$rawChange.startWith is not a function\r\n</code></pre>\r\n\r\n\r\n## üåç Your Environment\r\n@angular-devkit/architect         0.1000.1\r\n@angular-devkit/build-angular     0.1000.1\r\n@angular-devkit/build-optimizer   0.1000.1\r\n@angular-devkit/build-webpack     0.1000.1\r\n@angular-devkit/core              10.0.1\r\n@angular-devkit/schematics        10.0.1\r\n@angular/cdk                      10.0.1\r\n@angular/cli                      10.0.1\r\n@angular/flex-layout              9.0.0-beta.31\r\n@angular/http                     7.2.16\r\n@angular/material                 10.0.1\r\n@ngtools/webpack                  10.0.1\r\n@schematics/angular               10.0.1\r\n@schematics/update                0.1000.1\r\nrxjs                              6.6.0\r\ntypescript                        3.9.6\r\nwebpack                           4.43.0\r\n</code></pre>","Url":"https://github.com/angular/angular-cli/issues/18213","RelatedDescription":"Closed issue \"--prod breaks app by removing RXJS operators  (specifically optimization: true)\" (#18213)"},{"Id":"654652200","IsPullRequest":true,"CreatedAt":"2020-07-10T14:34:20","Actor":"alan-agius4","Number":"18210","RawContent":null,"Title":"test: move app-shell tests to flake jail","State":"closed","Body":"\r\nApp-shell builder imports zone.js, which patches the global promises. In some cases this will causes flakiness in tests that run after this one.\r\n\r\nWith this change we move the app-shell tests to the flake jail and force them to be run at the very last.\r\n\r\nSuccessful runs when disabling app-shell tests from test-large\r\nhttps://circleci.com/workflow-run/4afb40f2-19ec-46ab-bb94-4153d448e6ad","Url":"https://github.com/angular/angular-cli/pull/18210","RelatedDescription":"Closed or merged PR \"test: move app-shell tests to flake jail\" (#18210)"},{"Id":"654819996","IsPullRequest":false,"CreatedAt":"2020-07-10T14:26:43","Actor":"snebjorn","Number":"18212","RawContent":null,"Title":"Importing locales can cause optimization bailouts","State":"closed","Body":"# üêû bug report\r\n\r\n### Affected Package\r\nThe issue is caused by package @angular/common/locales\r\n\r\n\r\n### Is this a regression?\r\n\r\nYes, the previous version in which this bug was not present was: 9.1.11\r\n\r\n\r\n### Description\r\n\r\nImporting a locale for use with [registerLocaleData](https://angular.io/api/common/registerLocaleData) causes angular 10 to complain:\r\n> CommonJS or AMD dependencies can cause optimization bailouts.\r\n> For more info see: https://angular.io/guide/build#configuring-commonjs-dependencies\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\n```ts\r\n// app.module.ts\r\nimport locale from '@angular/common/locales/da';\r\n```\r\n\r\nRun: `ng serve`\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 10.0.1\r\nNode: 12.16.1\r\nOS: win32 x64\r\n\r\nAngular: 10.0.3\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, localize, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.901.1\r\n@angular-devkit/build-angular     0.1000.1\r\n@angular-devkit/build-optimizer   0.1000.1\r\n@angular-devkit/build-webpack     0.1000.1\r\n@angular-devkit/core              9.1.1\r\n@angular-devkit/schematics        10.0.1\r\n@angular/cdk                      9.2.4\r\n@angular/cli                      10.0.1\r\n@ngtools/webpack                  10.0.1\r\n@schematics/angular               10.0.1\r\n@schematics/update                0.1000.1\r\nrxjs                              6.6.0\r\ntypescript                        3.9.6\r\nwebpack                           4.43.0\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\nSwitching to @angular/localize and adding\r\n\r\n```jsonc\r\n// angular.json\r\n{\r\n  ...,\r\n  \"projects\": {\r\n    ...,\r\n    \"i18n\": { \"sourceLocale\": \"da\" }, // added\r\n    \"architect\": {\r\n        \"build\": {\r\n          \"options\": {\r\n            ...,\r\n            \"localize\": true, // added\r\n```\r\n\r\nremoves the warning. \r\nBut is overkill and causes the compile out dir to change, breaking the CI scripts etc...","Url":"https://github.com/angular/angular-cli/issues/18212","RelatedDescription":"Closed issue \"Importing locales can cause optimization bailouts\" (#18212)"},{"Id":"654776653","IsPullRequest":false,"CreatedAt":"2020-07-10T13:57:10","Actor":"adhivenkatesh","Number":"18211","RawContent":null,"Title":"Angualr -CLI -ERROR ","State":"closed","Body":"Hi Guys,\r\n\r\nThe error is is coming please help to come out\r\n\r\nnpm uninstall -g @angular/cli@latest\r\nnpm install -g @angular/cli@latest\r\n\r\nBut still the error is coming \r\n\r\nTHE ERROR PART IS HERE  after running ng serve --o\r\nThis version of CLI is only compatible with Angular versions 0.0.0 || ^9.0.0-beta || >=9.0.0 <10.0.0,\r\nbut Angular version 10.0.3 was found instead.\r\n\r\nPlease visit the link below to find instructions on how to update Angular.\r\nhttps://update.angular.io/\r\n\r\n--------------------------\r\nAngular CLI: 9.1.11\r\nNode: 12.14.0\r\nOS: win32 x64\r\n\r\nAngular: 10.0.3\r\n... common, compiler, compiler-cli, core, forms, localize\r\n... platform-browser, platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.1000.2\r\n@angular-devkit/build-angular     0.1000.2\r\n@angular-devkit/build-optimizer   0.1000.2\r\n@angular-devkit/build-webpack     0.1000.2\r\n@angular-devkit/core              10.0.2\r\n@angular-devkit/schematics        9.1.11\r\n@angular/cli                      9.1.11\r\n@ngtools/webpack                  1.10.2\r\n@schematics/angular               9.1.11\r\n@schematics/update                0.901.11\r\nrxjs                              6.6.0\r\ntypescript                        3.9.6\r\nwebpack                           4.43.0\r\n\r\nPS D:\\ANGULAR-PROJECTS\\ECG-Angular2-TypeScript-master\\ECG-Angular2-TypeScript-master> ng serve --o\r\n\r\n\r\n\r\n","Url":"https://github.com/angular/angular-cli/issues/18211","RelatedDescription":"Closed issue \"Angualr -CLI -ERROR \" (#18211)"},{"Id":"654611561","IsPullRequest":false,"CreatedAt":"2020-07-10T11:25:16","Actor":"irfanit93","Number":"18209","RawContent":null,"Title":"can't bind ng model error overlay is not showing in the ui when i have commented out the imported FormModule in a lazy loaded module","State":"closed","Body":"Environment:\r\n![image](https://user-images.githubusercontent.com/25997947/87132774-fbf08580-c2b3-11ea-9a40-a46c6d29cad0.png)\r\nSteps to reproduce:\r\n1. Create project with angular cli, ng new <project_name> --routing\r\n2. Then, ng generate module home --route home --module app.module\r\n3.Then i modified the path of the lazy loaded module from \"home\" to \"\", so that my home page is lazy loaded.\r\n![image](https://user-images.githubusercontent.com/25997947/87133446-f5164280-c2b4-11ea-97f6-755716dd93c3.png)\r\n4. Then ng serve\r\n5. My home page(lazy loaded module component) has two way data binding using ng Model on input field, so i imported FormModule in my lazy loaded module. When i uncommented the import code of FormModule and the \"FormModule\" in the imports array, the ui reloads. It should show can't bind to ngModel error in both ui and command prompt since i am commenting out the FormModule code. But the error is showing only in command prompt. The error is not showing in the ui.\r\n\r\nMy Lazy Loaded Module code:(commented out)\r\n![image](https://user-images.githubusercontent.com/25997947/87134955-019b9a80-c2b7-11ea-87b6-50f0689db5c6.png)\r\n\r\n Hope you will fix it soon.\r\n","Url":"https://github.com/angular/angular-cli/issues/18209","RelatedDescription":"Closed issue \"can't bind ng model error overlay is not showing in the ui when i have commented out the imported FormModule in a lazy loaded module\" (#18209)"},{"Id":"654244295","IsPullRequest":false,"CreatedAt":"2020-07-10T08:31:19","Actor":"s4m0r4m4","Number":"18206","RawContent":null,"Title":"Angular webworker fails to load if importing from barrel that contains angular component","State":"closed","Body":"# üêû bug report\r\n\r\n### Affected Package\r\nI believe this is related to the way angular compiles web workers.\r\n\r\n\r\n### Is this a regression?\r\nI don't believe so.\r\n\r\n\r\n### Description\r\nIf I import code from a barrel that also includes an angular component, the worker module parse fails.\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\nMyWebWorker.ts\r\n```\r\n import { TestClass } from '@my-barrel';\r\n ... other code ...\r\n```\r\n \r\n \r\nindex.ts pointed to by @my-barrel:\r\n```\r\n export { SomeAngularModule } from './lib/some-angular.module';\r\n export { TestClass } from './lib/test-class';\r\n```\r\n \r\nIn some-angular.module.ts:\r\n```\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { SomeAngularComponent } from './components/some-angular.component';\r\n\r\n@NgModule({\r\ndeclarations: [SomeAngularComponent],\r\nimports: [\r\n\tCommonModule\r\n],\r\nexports: [SomeAngularComponent]\r\n})\r\nexport class SomeAngularModule { }\r\n```\r\n\r\nThe HTML template for SomeAngularComponent contains:\r\n`<p>I work!</p>`\r\n\r\nBefore creating a minimal reproduction on stackblitz (from https://stackblitz.com/fork/angular-ivy), I want to confirm that this is supposed to be supported and that I'm not missing anything simple. \r\n\r\n\r\n## üî• Exception or Error\r\nWhen trying to serve or build the application, I get the following error:\r\n```\r\nERROR in <path>/some-angular.component.html 1:0\r\nModule parse failed: Unexpected token (1:0)\r\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\r\n> <p>I work!</p>\r\n```\r\n\r\n## üåç  Your Environment\r\n**Angular Version:**\r\n<pre><code>Angular CLI: 9.1.3\r\nNode: 12.16.1\r\nOS: win32 x64\r\n\r\nAngular: 9.1.3\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.901.1\r\n@angular-devkit/build-angular     0.901.3\r\n@angular-devkit/build-optimizer   0.901.3\r\n@angular-devkit/build-webpack     0.901.3\r\n@angular-devkit/core              9.1.1\r\n@angular-devkit/schematics        9.1.3\r\n@angular/cdk                      9.2.1\r\n@angular/material                 9.2.1\r\n@ngtools/webpack                  9.1.3\r\n@schematics/angular               9.1.3\r\n@schematics/update                0.901.3\r\nrxjs                              6.5.5\r\ntypescript                        3.8.3\r\nwebpack                           4.42.0\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n\r\n- If i change the import in MyWebWorker to directly point to the file in question: ` import { TestClass } from 'libs/my-lib/lib/test-class'` . Then it works just fine. The problem is that this workaround must be used in every file that might end up in a worker, which is quite a bit of my code.\r\n- I also tried changing the tsconfig.worker.json to specify module: \"ESNext\" (as opposed to CommonJs, which doesn't support tree shaking of barrel). No luck. I also tried changing the tsconfig associated with the library\r\n\r\nThank you for your time!","Url":"https://github.com/angular/angular-cli/issues/18206","RelatedDescription":"Closed issue \"Angular webworker fails to load if importing from barrel that contains angular component\" (#18206)"},{"Id":"654597191","IsPullRequest":true,"CreatedAt":"2020-07-10T08:10:42","Actor":"cexbrayat","Number":"18208","RawContent":null,"Title":"fix(@schematics/angular): keep tslint rules ordered","State":"open","Body":"The schematics recently siwtcher to `jsonc-parser` as the JSOn parser, and that introduced a small regression in the tslint.json file where the rules order is not the same as previously.\r\n\r\nSee https://github.com/cexbrayat/angular-cli-diff/compare/10.0.2...10.1.0-next.0\r\n\r\nThis commit should fix the issue by providing the insertion index when merging the tslint files.\r\nA test has also been added to avoid further regressions.","Url":"https://github.com/angular/angular-cli/pull/18208","RelatedDescription":"Open PR \"fix(@schematics/angular): keep tslint rules ordered\" (#18208)"},{"Id":"654241182","IsPullRequest":false,"CreatedAt":"2020-07-09T17:54:24","Actor":"patoncrispy","Number":"18205","RawContent":null,"Title":"ng update does not update deps in projects","State":"closed","Body":"# üêû bug report\r\n\r\n### Affected Package\r\nThis seems to be an issue with @angular/cli.\r\n\r\n### Is this a regression?\r\nNot sure, first time trying to update a project! \r\n\r\n\r\n### Description\r\n\r\nI've run through the `ng update` (from Angular 8.2 to Angular 9.1) process and the workspace deps were updated, but my project `package.json` was not updated with the new versions.\r\n\r\nMy workspace deps look like this:\r\n```\r\n  \"dependencies\": {\r\n    \"@angular/common\": \"^9.1.12\",\r\n    \"@angular/compiler\": \"^9.1.12\",\r\n    \"@angular/core\": \"^9.1.12\",\r\n    // ... etc.\r\n  },\r\n  \"devDependencies\": {\r\n    \"@angular-devkit/build-angular\": \"~0.901.10\",\r\n    \"@angular-devkit/build-ng-packagr\": \"~0.901.10\",\r\n    // ... etc.\r\n  }\r\n```\r\n\r\nwhile my project deps look like this:\r\n```\r\n  \"peerDependencies\": {\r\n    \"@angular/common\": \"^8.2.13\",\r\n    \"@angular/core\": \"^8.2.13\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@angular/compiler\": \"8.2.13\",\r\n    \"@angular/platform-browser\": \"8.2.13\",\r\n    \"@angular/platform-browser-dynamic\": \"8.2.13\",\r\n    // ... etc.\r\n  }\r\n```\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\nI couldn't find a way of creating an Angular 8 project as `ng new` seems to just opt for latest. If this is incorrect, please correct me and I'll try and create a reproduction of this.\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\nBefore upgrade:\r\n<pre><code>\r\nAngular CLI: 8.3.17\r\nNode: 12.16.1\r\nOS: darwin x64\r\nAngular: 8.2.13\r\n... common, compiler, compiler-cli, core, language-service\r\n... platform-browser, platform-browser-dynamic\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.803.17\r\n@angular-devkit/build-angular      0.803.17\r\n@angular-devkit/build-ng-packagr   0.803.17\r\n@angular-devkit/build-optimizer    0.803.17\r\n@angular-devkit/build-webpack      0.803.17\r\n@angular-devkit/core               8.3.17\r\n@angular-devkit/schematics         8.3.17\r\n@angular/cli                       8.3.17\r\n@ngtools/webpack                   8.3.17\r\n@schematics/angular                8.3.17\r\n@schematics/update                 0.803.17\r\nng-packagr                         5.7.1\r\nrxjs                               6.4.0\r\ntypescript                         3.5.3\r\nwebpack                            4.39.2\r\n</code>\r\n</pre>\r\n\r\nAfter upgrade:\r\n<pre><code>\r\nAngular CLI: 9.1.10\r\nNode: 12.16.1\r\nOS: darwin x64\r\n\r\nAngular: 9.1.12\r\n... common, compiler, compiler-cli, core, language-service\r\n... platform-browser, platform-browser-dynamic\r\nIvy Workspace: Yes\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.901.10\r\n@angular-devkit/build-angular      0.901.10\r\n@angular-devkit/build-ng-packagr   0.901.10\r\n@angular-devkit/build-optimizer    0.901.10\r\n@angular-devkit/build-webpack      0.901.10\r\n@angular-devkit/core               9.1.10\r\n@angular-devkit/schematics         9.1.10\r\n@angular/cli                       9.1.10\r\n@ngtools/webpack                   9.1.10\r\n@schematics/angular                9.1.10\r\n@schematics/update                 0.901.10\r\nng-packagr                         9.1.5\r\nrxjs                               6.5.3\r\ntypescript                         3.8.3\r\nwebpack                            4.42.0\r\n</code></pre>\r\n\r\n\r\n\r\n","Url":"https://github.com/angular/angular-cli/issues/18205","RelatedDescription":"Closed issue \"ng update does not update deps in projects\" (#18205)"},{"Id":"653961949","IsPullRequest":false,"CreatedAt":"2020-07-09T14:49:29","Actor":"vivainio","Number":"18204","RawContent":null,"Title":"target: es2020 doesn't work with ?. null conditional operator","State":"closed","Body":"# üêû bug report\r\n\r\n### Affected Package\r\n\r\n@angular/cli\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\n?. operator doesn't work if you set target: \"ES2020\" in tsconfig.base.json\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\nCheck out https://github.com/vivainio/repro-angular-es2020-fail\r\n\r\nrun \"ng build\" and observe the compiler error.\r\n\r\nIf you change it back to \"target\": \"es2016\", ng build succeeds.\r\n\r\n## üî• Exception or Error\r\n\r\n```\r\n\r\nERROR in ./src/app/app.component.ts 38:20\r\nModule parse failed: Unexpected token (38:20)\r\nFile was processed with these loaders:\r\n * ./node_modules/@ngtools/webpack/src/index.js\r\nYou may need an additional loader to handle the result of these loaders.\r\n|         this.title = 'test2020';\r\n|         const a = undefined;\r\n>         const b = a?.name;\r\n|     }\r\n| }\r\n```\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\n\r\nAngular CLI: 10.0.1\r\nNode: 12.18.1\r\nOS: win32 x64\r\n\r\nAngular: 10.0.3\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.1000.1\r\n@angular-devkit/build-angular     0.1000.1\r\n@angular-devkit/build-optimizer   0.1000.1\r\n@angular-devkit/build-webpack     0.1000.1\r\n@angular-devkit/core              10.0.1\r\n@angular-devkit/schematics        10.0.1\r\n@angular/cli                      10.0.1\r\n@ngtools/webpack                  10.0.1\r\n@schematics/angular               10.0.1\r\n@schematics/update                0.1000.1\r\nrxjs                              6.5.5\r\ntypescript                        3.9.6\r\nwebpack                           4.43.0\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n\r\nI'm aware that native async/await is not supported by Zone.js, but for the purposes of this discussions I don't care about this gap.","Url":"https://github.com/angular/angular-cli/issues/18204","RelatedDescription":"Closed issue \"target: es2020 doesn't work with ?. null conditional operator\" (#18204)"},{"Id":"653917446","IsPullRequest":false,"CreatedAt":"2020-07-09T10:05:17","Actor":"luillyfe","Number":"18203","RawContent":null,"Title":"ng-add doesn't install the latest version correctly x2","State":"closed","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû Bug report\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ‚úçÔ∏èedit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ X] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> Yes, the previous version in which this bug was not present was: ....\r\n\r\n\r\n### Description\r\n\r\n<!-- ‚úçÔ∏è--> A clear and concise description of the problem...\r\nIs happening again, I tried to reopen the issue but it was impossible to me.\r\n\r\nAll details here: https://github.com/angular/angular-cli/issues/17024\r\n\r\n## üî¨ Minimal Reproduction\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue. \r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\nJust try:\r\nng add @ngrx/store\r\n## üî• Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ‚úçÔ∏è-->","Url":"https://github.com/angular/angular-cli/issues/18203","RelatedDescription":"Closed issue \"ng-add doesn't install the latest version correctly x2\" (#18203)"},{"Id":"653878320","IsPullRequest":false,"CreatedAt":"2020-07-09T08:46:28","Actor":"C0ZEN","Number":"18202","RawContent":null,"Title":"A lot of warnings with `*.ngtypecheck.ts` files after ng10 upgrade","State":"closed","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ‚úçÔ∏èedit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [x] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\nNo problem at all with the latest Angular 9 version.\r\n\r\n\r\n### Description\r\n\r\nI have this kind of warnings during `ng serve` command since I upgraded my project to Angular 10:\r\n\r\n```\r\nWARNING in S:\\documents\\manager-portal\\src\\hmr.ngtypecheck.ts is part of the TypeScript compilation but it's unused.\r\nAdd only entry points to the 'files' or 'include' properties in your tsconfig.\r\n```\r\n\r\n### TSconfig files\r\n\r\n**tsconfig.base.json:**\r\n\r\n```\r\n{\r\n  \"compileOnSave\": false,\r\n  \"compilerOptions\": {\r\n    \"noImplicitAny\": true,\r\n    \"noImplicitReturns\": true,\r\n    \"noImplicitThis\": true,\r\n    \"noFallthroughCasesInSwitch\": true,\r\n    \"strictNullChecks\": false,\r\n    \"baseUrl\": \"./\",\r\n    \"downlevelIteration\": true,\r\n    \"importHelpers\": true,\r\n    \"module\": \"es2020\",\r\n    \"outDir\": \"./dist/out-tsc\",\r\n    \"sourceMap\": true,\r\n    \"declaration\": false,\r\n    \"moduleResolution\": \"node\",\r\n    \"emitDecoratorMetadata\": true,\r\n    \"experimentalDecorators\": true,\r\n    \"noUnusedLocals\": true,\r\n    \"noUnusedParameters\": true,\r\n    \"resolveJsonModule\": true,\r\n    \"strict\": true,\r\n    \"target\": \"es2015\",\r\n    \"typeRoots\": [\r\n      \"node_modules/@types\"\r\n    ],\r\n    \"lib\": [\r\n      \"es2018\",\r\n      \"dom\"\r\n    ],\r\n    \"types\": [\r\n      \"jasmine\",\r\n      \"jasminewd2\",\r\n      \"node\",\r\n      \"googlemaps\"\r\n    ],\r\n    \"allowSyntheticDefaultImports\": true,\r\n    \"esModuleInterop\": true,\r\n    \"plugins\": [\r\n      {\r\n        \"name\": \"@angular/language-service\"\r\n      }\r\n    ],\r\n    \"paths\": {\r\n      \"@environment\": [\r\n        \"src/environments/environment.ts\"\r\n      ],\r\n      \"@app/component\": [\r\n        \"src/app/app.component.ts\"\r\n      ],\r\n      \"@app/routes\": [\r\n        \"src/app/app.routes.ts\"\r\n      ],\r\n      \"@animations/*\": [\r\n        \"src/app/animations/*\"\r\n      ],\r\n      \"@app-shell/*\": [\r\n        \"src/app/app-shell/*\"\r\n      ],\r\n      \"@components/*\": [\r\n        \"src/app/components/*\"\r\n      ],\r\n      \"@enums/*\": [\r\n        \"src/app/enums/*\"\r\n      ],\r\n      \"@factories/*\": [\r\n        \"src/app/factories/*\"\r\n      ],\r\n      \"@features/*\": [\r\n        \"src/app/features/*\"\r\n      ],\r\n      \"@functions/*\": [\r\n        \"src/app/functions/*\"\r\n      ],\r\n      \"@guards/*\": [\r\n        \"src/app/guards/*\"\r\n      ],\r\n      \"@initializers/*\": [\r\n        \"src/app/initializers/*\"\r\n      ],\r\n      \"@models/*\": [\r\n        \"src/app/models/*\"\r\n      ],\r\n      \"@pages/*\": [\r\n        \"src/app/pages/*\"\r\n      ],\r\n      \"@pipes/*\": [\r\n        \"src/app/pipes/*\"\r\n      ],\r\n      \"@providers/*\": [\r\n        \"src/app/providers/*\"\r\n      ],\r\n      \"@resolvers/*\": [\r\n        \"src/app/resolvers/*\"\r\n      ],\r\n      \"@services/*\": [\r\n        \"src/app/services/*\"\r\n      ],\r\n      \"@environments/*\": [\r\n        \"src/environments/*\"\r\n      ]\r\n    }\r\n  },\r\n  \"angularCompilerOptions\": {\r\n    \"annotateForClosureCompiler\": true,\r\n    \"enableResourceInlining\": false,\r\n    \"skipMetadataEmit\": false,\r\n    \"strictMetadataEmit\": true,\r\n    \"skipTemplateCodegen\": false,\r\n    \"strictInjectionParameters\": true,\r\n    \"generateCodeForLibraries\": true,\r\n    \"fullTemplateTypeCheck\": true,\r\n    \"trace\": true,\r\n    \"enableIvy\": true,\r\n    \"strictTemplates\": true,\r\n    \"strictInputTypes\": true\r\n  }\r\n}\r\n```\r\n\r\n**tconfig.json:**\r\n\r\n```\r\n{\r\n  \"files\": [],\r\n  \"references\": [\r\n    {\r\n      \"path\": \"./src/tsconfig.app.json\"\r\n    },\r\n    {\r\n      \"path\": \"./src/tsconfig.spec.json\"\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n**tconfig.app.json:**\r\n\r\n```\r\n{\r\n  \"extends\": \"../tsconfig.base.json\",\r\n  \"compilerOptions\": {\r\n    \"outDir\": \"../out-tsc/app\"\r\n  },\r\n  \"files\": [\r\n    \"main.ts\",\r\n    \"polyfills.ts\"\r\n  ],\r\n  \"include\": [\r\n    \"**/*.d.ts\"\r\n  ],\r\n  \"exclude\": [\r\n    \"test.ts\",\r\n    \"**/*.spec.ts\",\r\n    \"**/*.mock.ts\"\r\n  ]\r\n}\r\n```\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\nWARNING in S:\\documents\\manager-portal\\src\\hmr.ngtypecheck.ts is part of the TypeScript compilation but it's unused.\r\nAdd only entry points to the 'files' or 'include' properties in your tsconfig.\r\n</code></pre>\r\n\r\n\r\n## üåç Your Environment\r\n<pre><code>\r\n@angular-devkit/architect          0.901.10\r\n@angular-devkit/build-angular      0.1000.1\r\n@angular-devkit/build-optimizer    0.901.10\r\n@angular-devkit/build-webpack      0.901.10\r\n@angular-devkit/core               10.0.1\r\n@angular-devkit/schematics         10.0.1\r\n@angular/cdk                       10.0.1\r\n@angular/cli                       10.0.1\r\n@angular/material                  10.0.1\r\n@angular/material-moment-adapter   10.0.1\r\n@angular/pwa                       0.1000.1\r\n@ngtools/webpack                   9.1.10\r\n@schematics/angular                10.0.1\r\n@schematics/update                 0.1000.1\r\nrxjs                               6.5.5\r\ntypescript                         3.9.6\r\nwebpack                            4.41.0\r\n<!-- ‚úçÔ∏è-->\r\n\r\n</code></pre>\r\n\r\n## Related issue\r\n\r\nI saw this #17649 mentioning `*.ngtypecheck.ts` files but it seems already released.","Url":"https://github.com/angular/angular-cli/issues/18202","RelatedDescription":"Closed issue \"A lot of warnings with `*.ngtypecheck.ts` files after ng10 upgrade\" (#18202)"}],"ResultType":"GitHubIssue"},"material2-Issues":{"Issues":[{"Id":"655275796","IsPullRequest":false,"CreatedAt":"2020-07-11T20:41:00","Actor":"shawn-avrio","Number":"19949","RawContent":null,"Title":"bug(COMPONENT): AriaDescriber preExistingContainer is null in Test run","State":"open","Body":"#### Reproduction\r\n\r\nEven in local environment, reproduction is not always consistent.\r\n\r\nSteps to reproduce:\r\n1. Run the unit test with `<mat-icon matTooltip=\"toolTipValue\">ToolTip</mat-icon>`\r\n2. Inside of a11y.js `AriaDescriber.prototype._createMessagesContainer` function\r\n3. Sometimes `preExistingContainer.parentNode` is `null` (preExistingContainer prints <div></div>) and `preExistingContainer.parentNode.removeChild(preExistingContainer);`\r\n4. Throws `ERROR: 'Unhandled Promise rejection:', 'Cannot read property 'removeChild' of null', '; Zone:', 'ProxyZone', '; Task:', 'Promise.then', '; Value:', TypeError: Cannot read property 'removeChild' of null\r\nTypeError: Cannot read property 'removeChild' of null`\r\n5. Actual source code has correct guard in place https://github.com/angular/components/blob/9.2.x/src/cdk/a11y/aria-describer/aria-describer.ts#L163 `preExistingContainer.parentNode!.removeChild(preExistingContainer);`\r\n6. Compiled version on local has `preExistingContainer.parentNode.removeChild(preExistingContainer);`\r\n7. `\\node_modules\\@angular\\cdk\\a11y\\package.json` has\r\n```\r\n  \"__processed_by_ivy_ngcc__\": {\r\n    \"es2015\": \"9.1.12\",\r\n    \"esm2015\": \"9.1.12\",\r\n    \"esm5\": \"9.1.12\",\r\n    \"fesm2015\": \"9.1.12\",\r\n    \"fesm5\": \"9.1.12\",\r\n    \"main\": \"9.1.12\",\r\n    \"module\": \"9.1.12\",\r\n    \"typings\": \"9.1.12\"\r\n  },\r\n```\r\n\r\n \r\n \r\n#### Expected Behavior\r\n\r\nNo errors in Karma run.\r\n\r\n\r\n#### Actual Behavior\r\n\r\n```\r\nERROR: 'Unhandled Promise rejection:', 'Cannot read property 'removeChild' of null', '; Zone:', 'ProxyZone', '; Task:', 'Promise.then', '; Value:', TypeError: Cannot read property 'removeChild' of null\r\nTypeError: Cannot read property 'removeChild' of null\r\n    at AriaDescriber.push../node_modules/@angular/cdk/fesm5/a11y.js.AriaDescriber._createMessagesContainer (http://localhost:9876/_karma_webpack_/node_modules/@angular/cdk/fesm5/a11y.js:182:1)\r\n    at AriaDescriber.push../node_modules/@angular/cdk/fesm5/a11y.js.AriaDescriber._createMessageElement (http://localhost:9876/_karma_webpack_/node_modules/@angular/cdk/fesm5/a11y.js:148:1)\r\n    at AriaDescriber.push../node_modules/@angular/cdk/fesm5/a11y.js.AriaDescriber.describe (http://localhost:9876/_karma_webpack_/node_modules/@angular/cdk/fesm5/a11y.js:102:1)\r\n    at http://localhost:9876/_karma_webpack_/node_modules/@angular/material/fesm5/tooltip.js:230:1\r\n    at ZoneDelegate../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke (http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone.js:386:1)\r\n    at ProxyZoneSpec.onInvoke (http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-testing.js:292:1)\r\n    at ZoneDelegate../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke (http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone.js:385:1)\r\n    at Zone../node_modules/zone.js/dist/zone.js.Zone.run (http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone.js:143:1)\r\n    at http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone.js:891:1\r\n    at ZoneDelegate../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask (http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone.js:421:1), 'TypeError: Cannot read property 'removeChild' of null\r\n    at AriaDescriber.push../node_modules/@angular/cdk/fesm5/a11y.js.AriaDescriber._createMessagesContainer (http://localhost:9876/_karma_webpack_/node_modules/@angular/cdk/fesm5/a11y.js:182:1)\r\n    at AriaDescriber.push../node_modules/@angular/cdk/fesm5/a11y.js.AriaDescriber._createMessageElement (http://localhost:9876/_karma_webpack_/node_modules/@angular/cdk/fesm5/a11y.js:148:1)\r\n    at AriaDescriber.push../node_modules/@angular/cdk/fesm5/a11y.js.AriaDescriber.describe (http://localhost:9876/_karma_webpack_/node_modules/@angular/cdk/fesm5/a11y.js:102:1)\r\n    at http://localhost:9876/_karma_webpack_/node_modules/@angular/material/fesm5/tooltip.js:230:1\r\n    at ZoneDelegate../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke (http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone.js:386:1)\r\n    at ProxyZoneSpec.onInvoke (http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-testing.js:292:1)\r\n    at ZoneDelegate../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke (http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone.js:385:1)\r\n    at Zone../node_modules/zone.js/dist/zone.js.Zone.run (http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone.js:143:1)\r\n    at http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone.js:891:1\r\n    at ZoneDelegate../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask (http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone.js:421:1)'\r\n```\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: \"@angular/core\": \"^9.1.11\",\r\n- CDK/Material: \"@angular/cdk\": \"^9.2.4\",\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/19949","RelatedDescription":"Open issue \"bug(COMPONENT): AriaDescriber preExistingContainer is null in Test run\" (#19949)"},{"Id":"655242500","IsPullRequest":false,"CreatedAt":"2020-07-11T16:55:31","Actor":"Akxe","Number":"19948","RawContent":null,"Title":"bug(*): Update documentation woth infromation from Angular 10","State":"open","Body":"I am not sure how out of date it is, but I found it is true for `entryComponents`.\r\n\r\nFrom https://update.angular.io/#9.0:10.0l3:\r\n> If you have specified any `entryComponents` in your NgModules or had any uses of `ANALYZE_FOR_ENTRY_COMPONENTS`, you can remove them. They are no longer required with the Ivy compiler and runtime.\r\n\r\n#### Expected Behavior\r\n\r\nhttps://material.angular.io/cdk/portal/overview (and dialog and possibly others)\r\n\r\nUsed to create a portal from a component type. When a component is dynamically created using portals, it must be included in the `entryComponents` of its `NgModule`.\r\n\r\n#### Actual Behavior\r\n\r\nI would expect it not to be there as it clearly is not true anymore. (just tested for dialog)\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 10\r\n- CDK/Material: 10\r\n- Browser(s): *\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/19948","RelatedDescription":"Open issue \"bug(*): Update documentation woth infromation from Angular 10\" (#19948)"},{"Id":"655239944","IsPullRequest":false,"CreatedAt":"2020-07-11T16:39:35","Actor":"Akxe","Number":"19947","RawContent":null,"Title":"bug(google-maps): ng update @angular/material does not update @angular/google-maps","State":"open","Body":"#### Reproduction\r\n\r\nSteps to reproduce:\r\n1. Have an Angular 9 app\r\n2. Update to Angular 10\r\n \r\n \r\n#### Expected Behavior\r\n\r\nEither https://update.angular.io/#9.0:10.0l3 should inform that it needs to be updated manually too, or it should update with @angualr/material\r\n\r\n\r\n#### Actual Behavior\r\n\r\nDid only update @angular/material and @anuglar/ckd.\r\n\r\n\r\n#### Environment\r\n\r\n- Angular:\r\n- CDK/Material: 9 => 10\r\n- Browser(s): ---\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/19947","RelatedDescription":"Open issue \"bug(google-maps): ng update @angular/material does not update @angular/google-maps\" (#19947)"},{"Id":"655200070","IsPullRequest":true,"CreatedAt":"2020-07-11T12:28:25","Actor":"e-hein","Number":"19946","RawContent":null,"Title":"feature(cdk/testing) emulate selection in testbed environment","State":"open","Body":"Currently arrow keys have no effect in TestbedEnvironment and sending keys does not respect cursor position or selections.\r\n\r\nThis adjusts behavior in TestbedEnvironment to get closer to the behavior of ProtractorEnvironment (real browsers).\r\n\r\nIt's a prerequisite to #19709 (will need select on tab into input with text). But in fact this is the larger part because selection handling is much more than emulating tab.","Url":"https://github.com/angular/components/pull/19946","RelatedDescription":"Open PR \"feature(cdk/testing) emulate selection in testbed environment\" (#19946)"},{"Id":"654653397","IsPullRequest":true,"CreatedAt":"2020-07-11T00:07:42","Actor":"devversion","Number":"19934","RawContent":null,"Title":"fix(ng-update): properly handle update from different working directory","State":"closed","Body":"In some situations, developers will run `ng update` from a sub directory\r\nof the project. This currently results in a noop migration as file\r\nsystem paths were computed incorrectly. This is because ng-update\r\nalways assumed that the CWD is the workspace root in the real file\r\nsystem. This is not the case and therefore threw off path resolution.\r\n\r\nWe fix this by fully relying on the virtual file system now. Previously\r\nwe mixed virtual and real file system as TypeScript relied on the\r\nreal file system for parsing configuration, matching and reading files.\r\n\r\nThis commit adds a new compiler host for config parsing and program\r\ncreation that works fully with a virtual file system. This is something\r\nwe had planned a long time ago as schematics should never deal with\r\nthe real file system. We can re-use this logic in other repositories\r\ntoo (such as Angular framework, potentially the CLI, and universal\r\nschematics). Ideally we will share this as part of better tooling for\r\nmigrations.\r\n\r\nFixes #19779. Resolves COMP-387.","Url":"https://github.com/angular/components/pull/19934","RelatedDescription":"Closed or merged PR \"fix(ng-update): properly handle update from different working directory\" (#19934)"},{"Id":"654294725","IsPullRequest":true,"CreatedAt":"2020-07-11T00:04:30","Actor":"andrewseguin","Number":"19927","RawContent":null,"Title":"test(material-experimental/mdc-card): remove stub for unit test","State":"closed","Body":"Doesn't exist in the current card since its just a bunch of directives. Any issues should come up from the e2e tests","Url":"https://github.com/angular/components/pull/19927","RelatedDescription":"Closed or merged PR \"test(material-experimental/mdc-card): remove stub for unit test\" (#19927)"},{"Id":"654978633","IsPullRequest":true,"CreatedAt":"2020-07-11T00:04:06","Actor":"crisbeto","Number":"19940","RawContent":null,"Title":"refactor(form-field/testing): deprecate methods that return TestElement","State":"closed","Body":"In general we want to avoid exposing `TestElement` instances in the public harness API. These changes mark `getHarnessLoaderForSuffix` and `getHarnessLoaderForPrefix` as deprecated since they don't do what their names say and they're exposing a `TestElement`. I've added replacements that return the text of the elements since that's what appears to be the main use case.\r\n\r\n**Note:** marking as merge safe, because it only adds new APIs without touching existing behavior.","Url":"https://github.com/angular/components/pull/19940","RelatedDescription":"Closed or merged PR \"refactor(form-field/testing): deprecate methods that return TestElement\" (#19940)"},{"Id":"654372978","IsPullRequest":true,"CreatedAt":"2020-07-11T00:03:38","Actor":"andrewseguin","Number":"19932","RawContent":null,"Title":"test(material-experimental/mdc-radio): add e2e tests","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/19932","RelatedDescription":"Closed or merged PR \"test(material-experimental/mdc-radio): add e2e tests\" (#19932)"},{"Id":"654885115","IsPullRequest":true,"CreatedAt":"2020-07-11T00:01:51","Actor":"andrewseguin","Number":"19938","RawContent":null,"Title":"tests(material-experimental/mdc-table): add e2e tests","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/19938","RelatedDescription":"Closed or merged PR \"tests(material-experimental/mdc-table): add e2e tests\" (#19938)"},{"Id":"654902981","IsPullRequest":true,"CreatedAt":"2020-07-11T00:01:38","Actor":"andrewseguin","Number":"19939","RawContent":null,"Title":"test(material-experimental/mdc-table): add to universal app","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/19939","RelatedDescription":"Closed or merged PR \"test(material-experimental/mdc-table): add to universal app\" (#19939)"},{"Id":"655075376","IsPullRequest":true,"CreatedAt":"2020-07-10T22:53:20","Actor":"yifange","Number":"19945","RawContent":null,"Title":"feat(cdk-experimental/selection): Add unit tests","State":"open","Body":"Add unit tests for `CdkSelection` and related components.\r\n \r\nIssue #18581","Url":"https://github.com/angular/components/pull/19945","RelatedDescription":"Open PR \"feat(cdk-experimental/selection): Add unit tests\" (#19945)"},{"Id":"655027606","IsPullRequest":true,"CreatedAt":"2020-07-10T20:47:09","Actor":"crisbeto","Number":"19944","RawContent":null,"Title":"refactor(cdk/testing): add base class for harnesses that may contain other harnesses","State":"open","Body":"Adds a variant of the `ComponentHarness` base class that implements `HarnessLoader` and allows for child loaders to be queried off of the current harness. Applies it to the card harness to illustrate the consumption.\r\n\r\n**Note:** marking as P2, because it's blocking further work on applying this to other harnesses.","Url":"https://github.com/angular/components/pull/19944","RelatedDescription":"Open PR \"refactor(cdk/testing): add base class for harnesses that may contain other harnesses\" (#19944)"},{"Id":"655021861","IsPullRequest":true,"CreatedAt":"2020-07-10T20:34:53","Actor":"crisbeto","Number":"19943","RawContent":null,"Title":"fix(menu): throw error if menu contains its own trigger","State":"open","Body":"If the consumer puts a trigger inside a menu and passes the menu back to the trigger, we'll go into an infinite loop and throw a cryptic error message. These changes detect such a case and throw a better error. Example of a case that will be flagged:\r\n\r\n```\r\n<mat-menu #menu=\"matMenu\">\r\n  <button [matMenuTriggerFor]=\"menu\"></button>\r\n</mat-menu>\r\n```\r\n\r\nFixes #19941.","Url":"https://github.com/angular/components/pull/19943","RelatedDescription":"Open PR \"fix(menu): throw error if menu contains its own trigger\" (#19943)"},{"Id":"654996458","IsPullRequest":false,"CreatedAt":"2020-07-10T19:39:55","Actor":"tomasdev","Number":"19941","RawContent":null,"Title":"bug(mat-menu): Clicking a [matMenuTriggerFor] inside its own mat-menu crashes JS","State":"open","Body":"Note: This might be an invalid use case, as it's wrongly using a directive. Still, it wouldn't hurt to have a safety check to prevent this.\r\n\r\n#### Reproduction\r\n\r\nUse StackBlitz to reproduce your issue: https://stackblitz.com/edit/angular-japg2m?file=src%2Fapp%2Fmenu-overview-example.html\r\n\r\nSteps to reproduce:\r\n```\r\n<button [matMenuTriggerFor]=\"menu\">Open</button>\r\n<mat-menu #menu=\"matMenu\">\r\n  <button [matMenuTriggerFor]=\"menu\">Close</button>\r\n</mat-menu>\r\n```\r\n1. Click \"Open\"\r\n2. Click Close\r\n3. Open console and observe fatal error:\r\n```\r\nERROR Error: Maximum call stack size exceeded\r\nERROR Error: Failed to execute 'insertBefore' on 'Node': The new child element contains the parent.\r\n```\r\n \r\n \r\n#### Expected Behavior\r\n\r\nPage (main JS thread) shouldn't crash when having a closing button inside the menu.\r\n\r\n#### Actual Behavior\r\n\r\nPage (main JS thread) crashes.\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 10.x\r\n- CDK/Material: 10.x\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): macOS\r\n","Url":"https://github.com/angular/components/issues/19941","RelatedDescription":"Open issue \"bug(mat-menu): Clicking a [matMenuTriggerFor] inside its own mat-menu crashes JS\" (#19941)"},{"Id":"654865822","IsPullRequest":true,"CreatedAt":"2020-07-10T15:36:58","Actor":"andrewseguin","Number":"19937","RawContent":null,"Title":"test(material-experimental/mdc-slider): add e2e tests","State":"open","Body":"","Url":"https://github.com/angular/components/pull/19937","RelatedDescription":"Open PR \"test(material-experimental/mdc-slider): add e2e tests\" (#19937)"},{"Id":"654833065","IsPullRequest":false,"CreatedAt":"2020-07-10T15:29:45","Actor":"sujeet-jaiswara","Number":"19936","RawContent":null,"Title":"CDK Drag and drop does not work for moving parent elements up or down. ","State":"closed","Body":"**Scenario:**\r\nParent A, B\r\nA has 5 childs A1 to A5\r\nB has 5 childs B1 to B5\r\n\r\nDrag and drop works fine when I drag any child element inside A or to B and vice -versa.\r\nWhen I try to move parent element using drag and drop then the functionality for the child elements stops working.\r\n\r\nScreenshot\r\n![image](https://user-images.githubusercontent.com/45264365/87167054-0c235780-c2ea-11ea-893b-d2d6c86f5497.png)\r\n\r\n\r\n","Url":"https://github.com/angular/components/issues/19936","RelatedDescription":"Closed issue \"CDK Drag and drop does not work for moving parent elements up or down. \" (#19936)"},{"Id":"654707274","IsPullRequest":false,"CreatedAt":"2020-07-10T11:14:51","Actor":"spiotr12","Number":"19935","RawContent":null,"Title":"bug(THEME) Cannot change/override background color","State":"open","Body":"#### Reproduction\r\n\r\nSteps to reproduce:\r\n1. Create angular application (using custom theme)\r\n2. Set theme map using the new `mat-light-theme($config)` mixin\r\n3. Remap background configuration\r\n```\r\n$light-background-config: map.get($light-theme, background);\r\n$light-background-config: map.merge($light-background-config, (background: red));\r\n$light-theme: map.merge($light-theme, (background: $light-background-config));\r\n// ...\r\n@include angular-material-theme($light-theme);\r\n```\r\n4. Observe - background has not change\r\n\r\nI've debug the _theming.scss and something overrides theme.background.background: xxx color back to white (or black, depending on light/dark theme).\r\n\r\nIf I use the legacy `mat-light-theme($primary, $accent, $warn)` I am able to override the background color.\r\n \r\n \r\n#### Expected Behavior\r\n\r\nBeing able to override configs like background/foreground\r\n\r\n\r\n#### Actual Behavior\r\n\r\nbackground/foreground colors are reset to light/dark default\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 10.0.2\r\n- CDK/Material: 10.0.1\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/19935","RelatedDescription":"Open issue \"bug(THEME) Cannot change/override background color\" (#19935)"},{"Id":"654377646","IsPullRequest":true,"CreatedAt":"2020-07-10T09:31:25","Actor":"devversion","Number":"19933","RawContent":null,"Title":"fix(ng-update): properly handle update from different working directory","State":"closed","Body":"In some situations, developers will run `ng update` from a sub directory\r\nof the project. This currently results in a noop migration as file\r\nsystem paths were computed incorrectly. This is because ng-update\r\nalways assumed that the CWD is the workspace root in the real file\r\nsystem. This is not the case and therefore threw off path resolution.\r\n\r\nWe can fix this by determining the workspace file system path from\r\nthe virtual file system host tree's. This is not ideal, but best\r\nsolution for now until we can parse/resolve TypeScript projects\r\npurely from within the virtual file system. This is currently\r\nnot easy to implement and requires helpers from TS which are\r\nnot exposed yet. See: https://github.com/microsoft/TypeScript/issues/13793.\r\n\r\nThis is tracked with: COMP-387.\r\n\r\nFixes #19779.","Url":"https://github.com/angular/components/pull/19933","RelatedDescription":"Closed or merged PR \"fix(ng-update): properly handle update from different working directory\" (#19933)"},{"Id":"654183212","IsPullRequest":true,"CreatedAt":"2020-07-10T00:10:01","Actor":"crisbeto","Number":"19922","RawContent":null,"Title":"fix(material-experimental/mdc-snack-bar): error during server-side rendering","State":"closed","Body":"Fixes an error that the MDC snack bar throws during server-side rendering, because MDC is using some browser APIs. Also sets up SSR testing for the new module.","Url":"https://github.com/angular/components/pull/19922","RelatedDescription":"Closed or merged PR \"fix(material-experimental/mdc-snack-bar): error during server-side rendering\" (#19922)"},{"Id":"654279487","IsPullRequest":true,"CreatedAt":"2020-07-10T00:09:47","Actor":"crisbeto","Number":"19926","RawContent":null,"Title":"fix(material-experimental/mdc-snack-bar): support dark themes","State":"closed","Body":"Sets up the variables so that we can generate the correct colors for dark themes.\r\n\r\nAlso updates us to the latest MDC canary which has a relevant fix for `mat-table`.","Url":"https://github.com/angular/components/pull/19926","RelatedDescription":"Closed or merged PR \"fix(material-experimental/mdc-snack-bar): support dark themes\" (#19926)"},{"Id":"654319558","IsPullRequest":true,"CreatedAt":"2020-07-10T00:09:31","Actor":"crisbeto","Number":"19930","RawContent":null,"Title":"fix(material-experimental/mdc-list): fix infinite loop on init","State":"closed","Body":"The MDC-based list was throwing an error on init due to an infinite loop caused by some incorrect syntax. Also gets rid of an unnecessary private method.","Url":"https://github.com/angular/components/pull/19930","RelatedDescription":"Closed or merged PR \"fix(material-experimental/mdc-list): fix infinite loop on init\" (#19930)"},{"Id":"654320140","IsPullRequest":true,"CreatedAt":"2020-07-10T00:06:10","Actor":"andrewseguin","Number":"19931","RawContent":null,"Title":"test(material-experimental/mdc-form-field): remove e2e file","State":"closed","Body":"Our form field doesn't have an e2e test, probably since all the other components indirectly test it (input, select, etc)","Url":"https://github.com/angular/components/pull/19931","RelatedDescription":"Closed or merged PR \"test(material-experimental/mdc-form-field): remove e2e file\" (#19931)"},{"Id":"654277640","IsPullRequest":true,"CreatedAt":"2020-07-10T00:05:07","Actor":"andrewseguin","Number":"19925","RawContent":null,"Title":"test(material-experimental/mdc-button): add e2e tests","State":"closed","Body":"Copied from current button e2e","Url":"https://github.com/angular/components/pull/19925","RelatedDescription":"Closed or merged PR \"test(material-experimental/mdc-button): add e2e tests\" (#19925)"},{"Id":"654295934","IsPullRequest":true,"CreatedAt":"2020-07-10T00:04:54","Actor":"andrewseguin","Number":"19928","RawContent":null,"Title":"test(material-experimental/mdc-card): add e2e tests","State":"closed","Body":"Copied from existing card","Url":"https://github.com/angular/components/pull/19928","RelatedDescription":"Closed or merged PR \"test(material-experimental/mdc-card): add e2e tests\" (#19928)"},{"Id":"654298534","IsPullRequest":true,"CreatedAt":"2020-07-09T19:32:43","Actor":"nielsr98","Number":"19929","RawContent":null,"Title":"Cdk listbox: multipleselect support and active descendant","State":"open","Body":"Added support for toggling whether listbox can have multiple options selected. Also added aria active descendant support and the ability to let the user choose whether to use active descendant or to let the focus follow the active item.","Url":"https://github.com/angular/components/pull/19929","RelatedDescription":"Open PR \"Cdk listbox: multipleselect support and active descendant\" (#19929)"},{"Id":"654211540","IsPullRequest":false,"CreatedAt":"2020-07-09T16:58:15","Actor":"Kotlin-Native","Number":"19924","RawContent":null,"Title":"bug(CdkDragDrop): Behaviour changed in v9+","State":"open","Body":"I use a mat-table with reorderable columns. With v8 everything worked fine like in the attached stackblitz app. Since v9 it's broken. I reworked it to have the mat-table as base for cdkDropList. Drag and drop works again but in that case I have the problem that my column which is stickyEnd is also reorderable. I used cdkDragDisabled to avoid dragging it, but it's still possible to drag one of the other columns to the right position and replace it.\r\n\r\n#### Expected Behavior\r\n\r\nIn Angular 8 I used CdkDragDrop in my mat-table like in that example:\r\nhttps://stackblitz.com/edit/angular-mat-table-columns-draggable\r\n\r\n\r\n#### Actual Behavior\r\n\r\nInstead of replace a column with another the dragged object can now be placed everywhere and is no longer bound to the header row.\r\nhttps://stackblitz.com/edit/angular-mat-table-columns-draggable-ugdwfw\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 9 - 10\r\n- CDK/Material: 9 - 10\r\n- Browser(s): Chrome/FF\r\n- Operating System (e.g. Windows, macOS, Ubuntu): OSX\r\n","Url":"https://github.com/angular/components/issues/19924","RelatedDescription":"Open issue \"bug(CdkDragDrop): Behaviour changed in v9+\" (#19924)"},{"Id":"654206754","IsPullRequest":true,"CreatedAt":"2020-07-09T16:49:57","Actor":"swseverance","Number":"19923","RawContent":null,"Title":"fix(material/datepicker): change `MatDateRangeInput` input validation","State":"open","Body":"* Prevent `MatStartDate._validatorOnChange()` from being called when `MatDateRangeInput`'s `minDate` input is updated with the same date.\r\n* Prevent `MatEndDate._validatorOnChange()` from being called when `MatDateRangeInput`'s `maxDate` input is updated with the same date.\r\n* Resolves #19907","Url":"https://github.com/angular/components/pull/19923","RelatedDescription":"Open PR \"fix(material/datepicker): change `MatDateRangeInput` input validation\" (#19923)"},{"Id":"654044958","IsPullRequest":false,"CreatedAt":"2020-07-09T15:42:32","Actor":"shah-dhaval","Number":"19921","RawContent":null,"Title":"help(MatSelectModule): How to get event that element of options attached to dom ","State":"closed","Body":"<!--------\r\n\r\nThe Angular team can't provide general troubleshooting help. However, the extended community of\r\nusers can provide more help: \r\n\r\nStackOverflow: https://stackoverflow.com/questions/tagged/angular-material2\r\nGitter: https://gitter.im/angular/material2\r\nGoogle Groups: https://groups.google.com/forum/#!forum/angular-material2\r\n\r\nIssues should capture only bug reports and feature requests. However, we understand that \r\nit is not always clear whether an issue is caused by a bug or incorrect usage of a feature/component.\r\n\r\nMost support requests will be automatically closed. If the answer is quickly obvious, though, we \r\nmight be able to provide a brief answer.\r\n\r\n-------->\r\n\r\n\r\n#### What are you trying to do?\r\n\r\nApplying perfectscrollbar\r\n\r\n#### What troubleshooting steps have you tried?\r\n\r\nhttps://stackblitz.com/edit/angular-dj85ga?file=src%2Fstyles.scss\r\n\r\n#### Reproduction\r\n\r\nhttps://stackblitz.com/edit/angular-dj85ga?file=src%2Fstyles.scss\r\n \r\nI have used method when selectbox open but it seems not proper way, is any way to know when element attached to overlay-container?\r\n","Url":"https://github.com/angular/components/issues/19921","RelatedDescription":"Closed issue \"help(MatSelectModule): How to get event that element of options attached to dom \" (#19921)"},{"Id":"654022265","IsPullRequest":true,"CreatedAt":"2020-07-09T12:29:44","Actor":"devversion","Number":"19920","RawContent":null,"Title":"build: add lint rule for lightweight tokens pattern","State":"open","Body":"Adds a lint that warns if a DI constructor is discovered for which\r\nparameters optionally inject classes without using the lightweight\r\ntoken pattern. The rule intends to help with optimized source code\r\nthat works well for tree shakers. Read more about this here:\r\n\r\nhttps://next.angular.io/guide/lightweight-injection-tokens.","Url":"https://github.com/angular/components/pull/19920","RelatedDescription":"Open PR \"build: add lint rule for lightweight tokens pattern\" (#19920)"},{"Id":"655006822","IsPullRequest":false,"CreatedAt":"2020-07-09T11:47:26","Actor":"samdoeswork","Number":"19942","RawContent":null,"Title":"Tabs animationDone.first , .take etc. break during prod builds","State":"open","Body":"## Bug\r\n# Demo and steps to reproduce the issue\r\nURL: Can't reproduce with Stackblitz since it **only** occurs in Angular prod builds\r\n\r\n#### Detailed Reproduction Steps\r\n1. Use a RXJS method on Material tabs animationDone, e.g.\r\nthis.tabs.animationDone.take(1).subscribe(() => { ... }\r\n\r\neg.2\r\nthis.tabs.animationDone.first()\r\n\r\n2. Compile with a production target (optimizations = true in angular.json) \r\n\r\n### Explain the expected behavior\r\n.take(), .first() etc. would function in production builds\r\n\r\n### Explain the current behavior\r\nThese operators work in dev, but the tree-shaking seems to remove them. In optimized builds we get \"tabs.animationDone.first is not a function\", etc.\r\n\r\n### Discuss the use-case or motivation for changing the existing behavior\r\nBecause things working in dev then not in production is bad\r\n\r\n\r\n### List the affected versions of AngularJS, Material, OS, and browsers\r\nMaterial 10.1 confirmed, browser and OS irrelevant\r\n \r\n### Add anything else we should know\r\n\r\n#### Stack Trace\r\nLoad App error TypeError: this.tabs.animationDone.take is not a function\r\n    at e.<anonymous> (custom-action.component.ts:215)\r\n    at components-custom-action-custom-action-module.84983692a55872507eea.js:1\r\n    at Object.next (components-custom-action-custom-action-module.84983692a55872507eea.js:1)\r\n    at s (components-custom-action-custom-action-module.84983692a55872507eea.js:1)\r\n    at e.invoke (zone.js:386)\r\n    at Object.onInvoke (core.js:27138)\r\n    at e.invoke (zone.js:385)\r\n    at t.run (zone.js:143)\r\n    at zone.js:891\r\n    at e.invokeTask (zone.js:421)\r\n","Url":"https://github.com/angular/components/issues/19942","RelatedDescription":"Open issue \"Tabs animationDone.first , .take etc. break during prod builds\" (#19942)"}],"ResultType":"GitHubIssue"}},"RunOn":"2020-07-12T05:30:04.6398146Z","RunDurationInMilliseconds":2436}