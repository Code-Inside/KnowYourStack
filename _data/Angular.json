{"Data":{"Angular-Issues":{"Issues":[{"Id":"1995796150","IsPullRequest":false,"CreatedAt":"2023-11-16T00:14:35","Actor":"merkisoft","Number":"52946","RawContent":null,"Title":"bindToComponentInputs=true breaks default/initial value of field with @Input() ","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\nrouter or core\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\ngiven the following class:\r\n\r\n```\r\nexport class SimpleComponent {\r\n  @Input() readonly = true;   \r\n}\r\n```\r\n\r\nand route:\r\n`  { path: '', component: SimpleComponent, pathMatch: 'full'  },`\r\n\r\nthe default value is undefined if \r\n`      bindToComponentInputs: true,   `\r\n\r\n\r\n\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps://stackblitz.com/edit/github-w4jhh2?file=src%2Fmain.ts\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nreadonly = - (default is true)\r\n\r\n--- \r\n\r\nchange line 53 to : false, then the default works again:\r\nreadonly = true - (default is true)\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\n\"@angular/animations\": \"17.0.3\",\r\n    \"@angular/common\": \"^17.0.3\",\r\n    \"@angular/compiler\": \"^17.0.3\",\r\n    \"@angular/core\": \"^17.0.3\",\r\n    \"@angular/platform-browser\": \"^17.0.3\",\r\n    \"@angular/platform-browser-dynamic\": \"^17.0.3\",\r\n    \"@angular/router\": \"^17.0.3\",\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/52946","RelatedDescription":"Open issue \"bindToComponentInputs=true breaks default/initial value of field with @Input() \" (#52946)"},{"Id":"1995672741","IsPullRequest":false,"CreatedAt":"2023-11-15T22:26:26","Actor":"conorblencowe","Number":"52945","RawContent":null,"Title":"ngCspNonce should add the nonce value to the script tags loading the main bundles","State":"open","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\n\ncompiler-cli\n\n### Description\n\n`ngCspNonce` is a great addition and almost solves a lot of the CSP difficulties I'm having but I think is missing some aspects to simplify the process of writing a CSP.\r\n\r\nCSP level 3 introduces [strict-dynamic](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/script-src#strict-dynamic) for `script-src`. This avoids needing a whitelist and favours using a nonce (or hash) on scripts. The great part about it is that this \"trust\" given by a nonce also propagates to scripts that are loaded by the root script. This is particularly important for myself since we load a tracking script which in turn loads a bunch of other tracking services.\r\n\r\nThis _almost_ works. The problem is that you can't use `strict-dynamic` in conjunction with `'self'`. Angular currently does not add the nonce from `ngCspNonce` to the runtime/main bundles included at the bottom of the `index.html`. So, without a nonce or allowing \"self\" the browser blocks these.\r\n\r\n<img width=\"434\" alt=\"image\" src=\"https://github.com/angular/angular/assets/48704308/aa01222a-65b9-4380-9d17-ce150785e3df\">\r\n\n\n### Proposed solution\n\nAlong with the other inline styles/scripts that `ngCspNonce` will add the nonce placeholder to, also add this nonce to the bundles.\n\n### Alternatives considered\n\nAn alternate solution is to avoid `strict-dynamic` use whitelisting of domains but for an application with more complex scripts it is a lifesaver. [Google's CSP evaluator](https://csp-evaluator.withgoogle.com/) utilises `strict-dynamic` in their \"sample safe policy\".","Url":"https://github.com/angular/angular/issues/52945","RelatedDescription":"Open issue \"ngCspNonce should add the nonce value to the script tags loading the main bundles\" (#52945)"},{"Id":"1995612332","IsPullRequest":false,"CreatedAt":"2023-11-15T21:45:30","Actor":"KIK22670","Number":"52944","RawContent":null,"Title":"Missing app.modules.ts when creating new project","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncompiler-cli\n\n### Is this a regression?\n\nYes\n\n### Description\n\nJedes mal wenn ich ein neues angular projekt erstellt habe, hat mir einiges in app/src gefehlt. Ich habe von allem die neuste Version und habe es auch in den unterschiedlichsten Verzeichnissen ausprobiert.\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n_No response_\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/52944","RelatedDescription":"Closed issue \"Missing app.modules.ts when creating new project\" (#52944)"},{"Id":"1995229813","IsPullRequest":true,"CreatedAt":"2023-11-15T21:13:43","Actor":"crisbeto","Number":"52935","RawContent":null,"Title":"fix(compiler): changed after checked error in for loops","State":"closed","Body":"Reworks the `repeater` instruction to go through `advance`, instead of passing in the index directly. This ensures that lifecycle hooks run at the right time and that we don't throw \"changed after checked\" errors when we shouldn't be.\r\n\r\nFixes #52885.","Url":"https://github.com/angular/angular/pull/52935","RelatedDescription":"Closed or merged PR \"fix(compiler): changed after checked error in for loops\" (#52935)"},{"Id":"1995518161","IsPullRequest":true,"CreatedAt":"2023-11-15T20:31:56","Actor":"jessicajaniuk","Number":"52943","RawContent":null,"Title":"Bump version to \"v17.1.0-next.0\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular/pull/52943","RelatedDescription":"Closed or merged PR \"Bump version to \"v17.1.0-next.0\" with changelog.\" (#52943)"},{"Id":"1995511265","IsPullRequest":true,"CreatedAt":"2023-11-15T20:25:53","Actor":"jessicajaniuk","Number":"52942","RawContent":null,"Title":"docs: release notes for the v17.0.3 release","State":"closed","Body":"Cherry-picks the changelog from the \"17.0.x\" branch to the next branch (main).","Url":"https://github.com/angular/angular/pull/52942","RelatedDescription":"Closed or merged PR \"docs: release notes for the v17.0.3 release\" (#52942)"},{"Id":"1995506950","IsPullRequest":true,"CreatedAt":"2023-11-15T20:23:30","Actor":"jessicajaniuk","Number":"52941","RawContent":null,"Title":"Bump version to \"v17.0.3\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular/pull/52941","RelatedDescription":"Closed or merged PR \"Bump version to \"v17.0.3\" with changelog.\" (#52941)"},{"Id":"1995350727","IsPullRequest":true,"CreatedAt":"2023-11-15T20:18:44","Actor":"dgp1130","Number":"52938","RawContent":null,"Title":"release: bump DevTools version to 1.0.9","State":"closed","Body":"","Url":"https://github.com/angular/angular/pull/52938","RelatedDescription":"Closed or merged PR \"release: bump DevTools version to 1.0.9\" (#52938)"},{"Id":"1995488957","IsPullRequest":false,"CreatedAt":"2023-11-15T20:09:03","Actor":"brentyates","Number":"52940","RawContent":null,"Title":"Signals don't trigger change detection using native async/await (ES2017+)","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\nDon't known / other\n\n### Is this a regression?\n\nNo\n\n### Description\n\nSee the stackblitz for replication.\r\n\r\nWhen using ES2017+, the native async/await version, setting a signal after an await statement does not cause change detection to run. I assume that the component is marked for check, but nothing triggers a change detection cycle.\r\n\r\nHowever, using the async pipe and observables in the same scenario does cause change detection to run. In fact, if you look at the stackblitz, change detection runs properly and the expected behaviour occurs just by creating a new component property using toObservable of the signal, without even using it in the template or anywhere else.\r\n\r\nSetting the target to ES2015 also causes the expected behaviour to occur. As does using .then instead of async/await, and as does setting the signal inside of a zone.run callback.\r\n\r\nI understand the older open issues that zone.js cannot patch the native async/await. However, signals are described to be able to trigger change detection without the need for zone.\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://stackblitz.com/edit/stackblitz-starters-vetml3?file=src%2Fmain.ts\n\n### Please provide the exception or error you saw\n\n```true\nDid not see change detection run.\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\n{\r\n  \"name\": \"stackblitz-starters-vetml3\",\r\n  \"version\": \"0.0.0\",\r\n  \"private\": true,\r\n  \"dependencies\": {\r\n    \"rxjs\": \"7.8.1\",\r\n    \"tslib\": \"2.6.2\",\r\n    \"zone.js\": \"0.14.2\",\r\n    \"@angular/core\": \"17.0.2\",\r\n    \"@angular/forms\": \"17.0.2\",\r\n    \"@types/jasmine\": \"4.3.6\",\r\n    \"@angular/common\": \"17.0.2\",\r\n    \"@angular/router\": \"17.0.2\",\r\n    \"@angular/compiler\": \"17.0.2\",\r\n    \"@angular/animations\": \"17.0.2\",\r\n    \"@angular/platform-browser\": \"17.0.2\"\r\n  },\r\n  \"scripts\": {\r\n    \"ng\": \"ng\",\r\n    \"start\": \"ng serve\",\r\n    \"build\": \"ng build\",\r\n    \"test\": \"ng test\",\r\n    \"lint\": \"ng lint\",\r\n    \"e2e\": \"ng e2e\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@angular-devkit/build-angular\": \"~0.1100.4\",\r\n    \"@angular/cli\": \"~11.0.4\",\r\n    \"@angular/compiler-cli\": \"~11.0.4\",\r\n    \"@types/jasmine\": \"~3.6.0\",\r\n    \"@types/node\": \"^12.11.1\",\r\n    \"codelyzer\": \"^6.0.0\",\r\n    \"jasmine-core\": \"~3.6.0\",\r\n    \"jasmine-spec-reporter\": \"~5.0.0\",\r\n    \"karma\": \"~5.1.0\",\r\n    \"karma-chrome-launcher\": \"~3.1.0\",\r\n    \"karma-coverage\": \"~2.0.3\",\r\n    \"karma-jasmine\": \"~4.0.0\",\r\n    \"karma-jasmine-html-reporter\": \"^1.5.0\",\r\n    \"protractor\": \"~7.0.0\",\r\n    \"ts-node\": \"~8.3.0\",\r\n    \"tslint\": \"~6.1.0\",\r\n    \"typescript\": \"~4.0.2\"\r\n  }\r\n}\n```\n\n\n### Anything else?\n\nRelated: https://github.com/angular/angular/issues/31730","Url":"https://github.com/angular/angular/issues/52940","RelatedDescription":"Open issue \"Signals don't trigger change detection using native async/await (ES2017+)\" (#52940)"},{"Id":"1995478903","IsPullRequest":true,"CreatedAt":"2023-11-15T20:02:43","Actor":"jessicajaniuk","Number":"52939","RawContent":null,"Title":"refactor(migrations): Add optional template reformatting after control flow migration","State":"open","Body":"This adds the ability to reformat the template with proper indents after the migraion finishes. It is an optional parameter.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n\r\n- [x] Refactoring (no functional changes, no api changes)\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n","Url":"https://github.com/angular/angular/pull/52939","RelatedDescription":"Open PR \"refactor(migrations): Add optional template reformatting after control flow migration\" (#52939)"},{"Id":"1995272197","IsPullRequest":false,"CreatedAt":"2023-11-15T18:25:04","Actor":"denilson32","Number":"52936","RawContent":null,"Title":"Angular.dev Tutorial \"Updating the Component Class Section\"","State":"closed","Body":"### Describe the problem that you experienced\n\nThe link to \"type inference in TypeScript\" leads to Page Not Found.\n\n### Enter the URL of the topic with the problem\n\nhttps://angular.dev/tutorials/learn-angular/updating-the-component-class\n\n### Describe what you were looking for in the documentation\n\nExpecting to see the documentation page that explains the type inference in TypeScript topic.\n\n### Describe the actions that led you to experience the problem\n\nBy doing the tutorial, I wanted to read more about the type inference in TypeScript topic.\n\n### Describe what you want to experience that would fix the problem\n\nI want to navigate to the documentation page about the above topic.\n\n### Add a screenshot if that helps illustrate the problem\n\n![image](https://github.com/angular/angular/assets/54433176/73dba8a2-a0bd-40a0-b906-31723530faf8)\r\n\n\n### If this problem caused an exception or error, please paste it here\n\n_No response_\n\n### If the problem is browser-specific, please specify the device, OS, browser, and version\n\n_No response_\n\n### Provide any additional information here in as much as detail as you can\n\n_No response_","Url":"https://github.com/angular/angular/issues/52936","RelatedDescription":"Closed issue \"Angular.dev Tutorial \"Updating the Component Class Section\"\" (#52936)"},{"Id":"1995292074","IsPullRequest":false,"CreatedAt":"2023-11-15T18:24:17","Actor":"vasnimartin","Number":"52937","RawContent":null,"Title":"Page Not Found","State":"closed","Body":"### Describe the problem that you experienced\n\nWhen I click the the link, https://angular.dev/typescript.org/type-inference this url page not found\n\n### Enter the URL of the topic with the problem\n\nhttps://angular.dev/typescript.org/type-inference\n\n### Describe what you were looking for in the documentation\n\nomit the type because of [type inference in TypeScript](https://angular.dev/typescript.org/type-inference).\n\n### Describe the actions that led you to experience the problem\n\nExplain omit the type because of [type inference in TypeScript]\r\n\n\n### Describe what you want to experience that would fix the problem\n\n_No response_\n\n### Add a screenshot if that helps illustrate the problem\n\n_No response_\n\n### If this problem caused an exception or error, please paste it here\n\n_No response_\n\n### If the problem is browser-specific, please specify the device, OS, browser, and version\n\n_No response_\n\n### Provide any additional information here in as much as detail as you can\n\n_No response_","Url":"https://github.com/angular/angular/issues/52937","RelatedDescription":"Closed issue \"Page Not Found\" (#52937)"},{"Id":"1994941096","IsPullRequest":true,"CreatedAt":"2023-11-15T14:54:17","Actor":"leonelvsc","Number":"52934","RawContent":null,"Title":"Fix #52892 inconsistent router state, missing execution of data resolvers","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [X ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: #52892\r\n\r\n\r\n## What is the new behavior?\r\nAll the route resolvers should run\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [ X] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\nJust edited the source code, tested modifying source code of \"router.mjs\" from the project showed in the issue.","Url":"https://github.com/angular/angular/pull/52934","RelatedDescription":"Open PR \"Fix #52892 inconsistent router state, missing execution of data resolvers\" (#52934)"},{"Id":"1994386871","IsPullRequest":false,"CreatedAt":"2023-11-15T14:48:47","Actor":"martincoutts","Number":"52924","RawContent":null,"Title":"canDeactivate Guard Working After Browser Has Already Changed URL On Backward Navigation","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nrouter\n\n### Is this a regression?\n\nYes\n\n### Description\n\nIn our code we have a canDeactivate guard which checks if a form is dirty on a page and if so displays a dialog asking the user if they want to discard their changes. If they click “discard” the navigation will continue, if they click cancel then they remain on that page and the prompt is dismissed.\r\n\r\nWe have a back button which uses location.back to navigate to the previous page. When the user clicks the back button the URL changes to that of the previous page before the canDeactivate guard can intervene and prevent the URL being changed, although the navigation does not take place the URL is incorrect. This is an issue as when the “dirty prompt” is displayed the URL is incorrect until the user clicks “cancel”. If the app refreshes while the dialog is open and the user has not clicked \"cancel\" then it will open on the previous page. This also happens if backwards navigation is done by history.back. It seems the native browser navigation methods execute before the canDeactivate guard does.\r\n\r\nThe desired behaviour would be that the URL would not be changed until the canDeactivate guard returns true.\r\n\r\nTo reproduce:\r\n\r\n1. Make sure you are on the homepage (/home).\r\n2. Navigate to the object component using the link on the homepage.\r\n3. Navigate back using one of the \"Navigate Back\" buttons.\r\n4. The URL will change to /home and then an alert from the route guard will be displayed.\r\n5. The URL will be \"/home\" and when you dismiss the alert the URL will switch back to \"/object”.\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://github.com/martincoutts/angular-route-guard-bug\n\n### Please provide the exception or error you saw\n\n```true\nThe URL is altered to previous page by location.back before the canDeactivate guard can prevent the URL changing.\r\n\r\nThe desired behaviour would be that the URL would not be changed until the canDeactivate guard returns true.\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 17.0.0\r\nNode: 18.17.0\r\nPackage Manager: npm 9.6.7\r\nOS: darwin x64\r\n\r\nAngular:\r\n...\r\n\r\nPackage                      Version\r\n------------------------------------------------------\r\n@angular-devkit/architect    0.1700.0 (cli-only)\r\n@angular-devkit/core         17.0.0 (cli-only)\r\n@angular-devkit/schematics   17.0.0 (cli-only)\r\n@schematics/angular          17.0.0 (cli-only)\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/52924","RelatedDescription":"Closed issue \"canDeactivate Guard Working After Browser Has Already Changed URL On Backward Navigation\" (#52924)"},{"Id":"1994893006","IsPullRequest":false,"CreatedAt":"2023-11-15T14:29:43","Actor":"Vbuddies","Number":"52933","RawContent":null,"Title":"Unable to use Angular DevTools for inspecting components","State":"open","Body":"### Is this a bug report or a feature request?\n\n- [X] Bug Report\n- [ ] Feature Request\n\n### Please provide the steps to reproduce the issue [Bug Report only]\n\nBrowser: Firefox\r\nAngular v16.2.8\r\nAngular DevTools v16.2.9\r\n\r\nNoticed this started happening after the DevTools extension was updated, right around the time when v17 of angular came out.\r\n\r\nOpen the devTools, and you should see that although the components are loaded on the left in the components tab, the element inspection area is completely empty and says, \"No Selected Element\"\r\nNo matter which elements/components are selected I am unable to inspect them.\r\n\r\nNavigation back to the console shows an error.\n\n### Please provide the expected behavior vs the actual behavior you encountered [Bug Report only]\n\nExpected behavior:\r\nTo be able to open and view the components and their related information including current input and variable values.\r\n\r\nActual Behavior:\r\nWhile I am able to see the components in the component tree, I am unable to inspect any of the components, whether they are custom components or angular components.\n\n### Please provide a screenshot if possible [Bug Report only]\n\n![image](https://github.com/angular/angular/assets/47540778/f815f86d-32bd-4399-8d2c-89a6060985c8)\r\n![image](https://github.com/angular/angular/assets/47540778/1b9e6e15-c4ba-4d17-9ee1-ed904c6b37bd)\r\n\n\n### Please provide the exception or error you saw [Bug Report only]\n\n```true\nUncaught TypeError: F().\\u0275getInjectorMetadata is not a function\r\n    rt component-tree.ts:61\r\n    Jo component-tree.ts:436\r\n    De component-tree.ts:234\r\n    i component-tree.ts:105\r\n    nn component-tree.ts:104\r\n    bi client-event-subscribers.ts:102\r\n    n same-page-message-bus.ts:41\r\n    invokeTask zone.umd.js:445\r\n    runTask zone.umd.js:210\r\n    invokeTask zone.umd.js:527\r\n    invokeTask zone.umd.js:1705\r\n    globalCallback zone.umd.js:1748\r\n    globalZoneAwareCallback zone.umd.js:1772\r\n    customScheduleGlobal zone.umd.js:1856\r\n    scheduleTask zone.umd.js:432\r\n    scheduleTask zone.umd.js:253\r\n    scheduleEventTask zone.umd.js:279\r\n    makeAddListener zone.umd.js:2013\r\n    on same-page-message-bus.ts:44\r\n    <anonymous> backend.ts:20\r\n    <anonymous> backend.ts:44\r\n7 component-tree.ts:61:19\n```\n\n\n### Is this a browser-specific issue? If so, please specify the device, browser, and version. [Bug Report only]\n\n```true\nReceived same issue from both Firefox and Edge.\n```\n\n\n### Description [Feature Request only]\n\n_No response_\n\n### Proposed solution [Feature Request only]\n\n_No response_\n\n### Alternatives considered [Feature Request only]\n\n_No response_","Url":"https://github.com/angular/angular/issues/52933","RelatedDescription":"Open issue \"Unable to use Angular DevTools for inspecting components\" (#52933)"},{"Id":"1993739405","IsPullRequest":true,"CreatedAt":"2023-11-15T14:04:32","Actor":"AndrewKushnir","Number":"52916","RawContent":null,"Title":"fix(core): reset cached scope for components that were overridden using TestBed","State":"closed","Body":"Currently, when a component is overridden using `TestBed.overrideComponent`, Angular retains calculated scope for that component (a set of components and directives used within a component). This may cause stale information to be used in tests in some cases. This commit updates the logic to reset overridden component scope, so it gets re-computed during the next invocation.\r\n\r\nResolves #52817.\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [x] Bugfix\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/52916","RelatedDescription":"Closed or merged PR \"fix(core): reset cached scope for components that were overridden using TestBed\" (#52916)"},{"Id":"1994800778","IsPullRequest":false,"CreatedAt":"2023-11-15T13:40:46","Actor":"NsdHSO","Number":"52932","RawContent":null,"Title":"fix(dev-tools): error injector configuration issue","State":"open","Body":"### Is this a bug report or a feature request?\r\n\r\n- [X] Bug Report\r\n- [ ] Feature Request\r\n\r\n### Please provide a screenshot if possible [Bug Report only]\r\n\r\n![image](https://github.com/angular/angular/assets/37635083/65e532d6-487d-4c11-86de-722b3ad99336)\r\n\r\n\r\n### Please provide the exception or error you saw [Bug Report only]\r\n\r\n```true\r\nzone.js:1681 Uncaught Error: ASSERTION ERROR: Could not determine where injector providers were configured.\r\n    at throwError (core.mjs:392:11)\r\n    at getEnvironmentInjectorProviders (core.mjs:31167:9)\r\n    at Object.getInjectorProviders [as ɵgetInjectorProviders] (core.mjs:31208:16)\r\n    at De (component-tree.ts:238:20)\r\n    at cn (component-tree.ts:339:21)\r\n    at sn (component-tree.ts:183:30)\r\n    at pn (component-tree.ts:562:34)\r\n    at Di (client-event-subscribers.ts:264:47)\r\n    at kn (client-event-subscribers.ts:240:43)\r\n    at kn (client-event-subscribers.ts:235:21)\r\nthrowError @ core.mjs:392\r\ngetEnvironmentInjectorProviders @ core.mjs:31167\r\ngetInjectorProviders @ core.mjs:31208\r\nDe @ component-tree.ts:238\r\ncn @ component-tree.ts:339\r\nsn @ component-tree.ts:183\r\npn @ component-tree.ts:562\r\nDi @ client-event-subscribers.ts:264\r\nkn @ client-event-subscribers.ts:240\r\nkn @ client-event-subscribers.ts:235\r\nkn @ client-event-subscribers.ts:235\r\nkn @ client-event-subscribers.ts:235\r\n(anonymous) @ client-event-subscribers.ts:77\r\nn @ same-page-message-bus.ts:41\r\ninvokeTask @ zone.js:402\r\nrunTask @ zone.js:173\r\ninvokeTask @ zone.js:483\r\ninvokeTask @ zone.js:1631\r\nglobalCallback @ zone.js:1674\r\nglobalZoneAwareCallback @ zone.js:1695\r\npostMessage (async)\r\nemit @ content_script_bundle.js:1\r\n(anonymous) @ content_script_bundle.js:1\r\ns @ content_script_bundle.js:1\r\nShow 12 more frames\r\nShow less\r\n```\r\n\r\n\r\n### Is this a browser-specific issue? If so, please specify the device, browser, and version. [Bug Report only]\r\n\r\n```true\r\narc\r\n```\r\n","Url":"https://github.com/angular/angular/issues/52932","RelatedDescription":"Open issue \"fix(dev-tools): error injector configuration issue\" (#52932)"},{"Id":"1994730154","IsPullRequest":false,"CreatedAt":"2023-11-15T13:12:31","Actor":"AsandahDevs","Number":"52930","RawContent":null,"Title":"Incorrect decorator usage for emitted event ","State":"closed","Body":"### Describe the problem that you experienced\n\nWhile reading the angular documentation with regards to component output events there is an error with the usage of the @Input decorator .It seems to be used in place of the @Output decorator , which can be confusing for new angular develepers.\n\n### Enter the URL of the topic with the problem\n\nhttps://angular.dev/guide/components/outputs\n\n### Describe what you were looking for in the documentation\n\nThe appropriate @Output decorator \n\n### Describe the actions that led you to experience the problem\n\nTrying to brush-up on angular's parent-child component interaction.\n\n### Describe what you want to experience that would fix the problem\n\nA documentation typo fix that will make it easier to read the docs with confidence.\n\n### Add a screenshot if that helps illustrate the problem\n\n![image](https://github.com/angular/angular/assets/89397749/cc2bdbc3-124a-4b24-a20d-ece0f1925ae3)\r\n\n\n### If this problem caused an exception or error, please paste it here\n\n_No response_\n\n### If the problem is browser-specific, please specify the device, OS, browser, and version\n\n_No response_\n\n### Provide any additional information here in as much as detail as you can\n\n_No response_","Url":"https://github.com/angular/angular/issues/52930","RelatedDescription":"Closed issue \"Incorrect decorator usage for emitted event \" (#52930)"},{"Id":"1994741936","IsPullRequest":true,"CreatedAt":"2023-11-15T13:04:27","Actor":"crisbeto","Number":"52931","RawContent":null,"Title":"fix(compiler): nested for loops incorrectly calculating computed variables","State":"open","Body":"The `$first`, `$last`, `$even` and `$odd` variables in `@for` loops aren't defined on the template context of the loop, but are computed based on `$index` and `$count` (e.g. `$first` is defined as `$index === 0`). We do this calculation by looking up `$index` and `$count` when one of the variables is used.\r\n\r\nThe problem is that all `@for` loop variables are available implicitly which means that when a nested loop tries to rewrite a reference to an outer loop computed variable, it finds its own `$index` and `$count` first and it doesn't look up the ones on the parent at all. This means that the calculated values will be incorrect at runtime.\r\n\r\nThese changes work around the issue by defining nested-level-specific variable names that can be used for lookups (e.g. `$index` at level `2` will also be available as `ɵ$index_2`). This isn't the most elegant solution, however the `TemplatDefitinionBuilder` wasn't set up to handle shadowed variables like this and it doesn't make sense to refactor it given the upcoming template pipeline.\r\n\r\nFixes #52917.","Url":"https://github.com/angular/angular/pull/52931","RelatedDescription":"Open PR \"fix(compiler): nested for loops incorrectly calculating computed variables\" (#52931)"},{"Id":"1994707963","IsPullRequest":false,"CreatedAt":"2023-11-15T12:44:27","Actor":"jdgamble555","Number":"52929","RawContent":null,"Title":"Add REST API Endpoint to Universal","State":"open","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\r\n\r\nAngular Universal\r\n\r\n### Description\r\n\r\nAngular Universal needs to be able to run custom Rest API easily just like every other SSR framework.  Then you could call it with the `http` function to get what you need.\r\n\r\nReact has `serverSideProps` (before server components), for example, and every single framework has their way of doing this.  This is a must.\r\n\r\nThe Angular Resolver could also call this api url (which could work on both server and client).\r\n\r\n### Proposed solution\r\n\r\nAllow the ability to POST, PUT, GET etc on the router when loading Angular, not outside of Angular itself.\r\n\r\nThis would require removing express dependencies:\r\n\r\nhttps://github.com/angular/angular-cli/issues/25718#issuecomment-1801710144\r\n\r\n...which needs to be done anyway in order for Angular to support Edge functions and other different hosting environments.\r\n\r\n### Alternatives considered\r\n\r\nFile Based Routing would also solve this with server only paths.","Url":"https://github.com/angular/angular/issues/52929","RelatedDescription":"Open issue \"Add REST API Endpoint to Universal\" (#52929)"},{"Id":"1994587065","IsPullRequest":false,"CreatedAt":"2023-11-15T11:23:51","Actor":"pkozlowski-opensource","Number":"52928","RawContent":null,"Title":"Views attached inside OnPush components are not checked in some circumstences","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\ncore\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nCurrently attaching a view doesn't mark ancestor views for check. This means that there is no way to get to a new view, even if it is dirty initally.\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps://stackblitz.com/edit/onpush-dynamic-creation?file=src%2Fmain.ts\r\n\r\n### Please provide the exception or error you saw\r\n\r\nThere is no error but the newly inserted view is not change detected.\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n_No response_\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/52928","RelatedDescription":"Open issue \"Views attached inside OnPush components are not checked in some circumstences\" (#52928)"},{"Id":"1994500570","IsPullRequest":false,"CreatedAt":"2023-11-15T10:35:51","Actor":"bjornharvold","Number":"52927","RawContent":null,"Title":"fix: 🐛 ng g @angular/core:control-flow schematic makes a lot of mistakes","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\ncore\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nDear Team Angular 🦸‍♂️\r\n\r\nChanging to control flow was the last step of our Angular 17 migration journey. It took us 2 days to migrate over to the \"standalone way of doing things\" in our 2000+ monorepo.\r\n\r\nOnce we ran the last schematic to introduce control flow, it changed 730 html files and the build failed.\r\n\r\nWe took a look at why it was failing. Attaching a zip ball that contains an advanced page and what it looked like before and after we applied the schematic. I recommend opening the files up with a diff tool.\r\n\r\n[Archive.zip](https://github.com/angular/angular/files/13363399/Archive.zip)\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nLook at the errors in the attached zip.\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nNode   : 20.9.0\r\n   OS     : darwin-arm64\r\n   yarn   : 1.22.19\r\n   @angular/core      : 17.0.2\r\n   nx                 : 17.1.1\r\n   @nx/js             : 17.1.1\r\n   @nx/jest           : 17.1.1\r\n   @nx/linter         : 17.1.1\r\n   @nx/eslint         : 17.1.1\r\n   @nx/workspace      : 17.1.1\r\n   @nx/angular        : 17.1.1\r\n   @nx/cypress        : 17.1.1\r\n   @nx/devkit         : 17.1.1\r\n   @nx/eslint-plugin  : 17.1.1\r\n   @nx/storybook      : 17.1.1\r\n   @nrwl/tao          : 17.1.1\r\n   @nx/web            : 17.1.1\r\n   @nx/webpack        : 17.1.1\r\n   typescript         : 5.2.2\r\n   ---------------------------------------\r\n   Community plugins:\r\n   @compodoc/compodoc               : 1.1.22\r\n   @fortawesome/angular-fontawesome : 0.14.0\r\n   @jscutlery/semver                : 4.0.0\r\n   @ng-bootstrap/ng-bootstrap       : 15.1.2\r\n   @ngneat/transloco                : 6.0.0\r\n   @ngrx/component                  : 16.3.0\r\n   @ngrx/component-store            : 16.3.0\r\n   @ngrx/data                       : 16.3.0\r\n   @ngrx/effects                    : 16.3.0\r\n   @ngrx/entity                     : 16.3.0\r\n   @ngrx/router-store               : 16.3.0\r\n   @ngrx/schematics                 : 16.3.0\r\n   @ngrx/store                      : 16.3.0\r\n   @ngrx/store-devtools             : 16.3.0\r\n   @storybook/angular               : 7.5.3\r\n   angular-calendar                 : 0.31.0\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/52927","RelatedDescription":"Open issue \"fix: 🐛 ng g @angular/core:control-flow schematic makes a lot of mistakes\" (#52927)"},{"Id":"1994476796","IsPullRequest":true,"CreatedAt":"2023-11-15T10:21:42","Actor":"alxhub","Number":"52926","RawContent":null,"Title":"wip: experimenting with zoneless change detection scheduling","State":"open","Body":"This experiment is designed to explore zoneless change detection and the integration with the rendering engine. We can use it to test hypotheses about how applications will behave when run zoneless, and uncover pain points that might need mitigation.\r\n\r\nCurrent known challenges:\r\n * `ApplicationRef.isStable` is obviously useless\r\n * SSR won't work (depends on the above)\r\n * `fakeAsync` testing is obviously broken & testing in general will require significant fixing\r\n * Dynamically inserting views outside of CD was broken, and is hacked to work. Note this is also broken in the OnPush model with zones.","Url":"https://github.com/angular/angular/pull/52926","RelatedDescription":"Open PR \"wip: experimenting with zoneless change detection scheduling\" (#52926)"},{"Id":"1994415018","IsPullRequest":false,"CreatedAt":"2023-11-15T09:56:06","Actor":"AsandahDevs","Number":"52925","RawContent":null,"Title":"Documentation error ","State":"closed","Body":"### Describe the problem that you experienced\n\nThere seems to be an error in the angular documentation under the \"Conditional and loops\" section . It mentions a  section element being present instead of a button element when describing how the new @if condition renders content.\r\n \n\n### Enter the URL of the topic with the problem\n\nhttps://angular.dev/essentials/conditionals-and-loops\n\n### Describe what you were looking for in the documentation\n\nI was looking for a button element as that's what is being rendered under the \"if\" condition in the template according to the documentation's code snippet.\n\n### Describe the actions that led you to experience the problem\n\nReading the new documentation to try and understand how the new template syntax works when conditionally rendering content.\n\n### Describe what you want to experience that would fix the problem\n\nReplace the \"section\" element code block with the \"Button\" element.\n\n### Add a screenshot if that helps illustrate the problem\n\n![image](https://github.com/angular/angular/assets/89397749/28a197b8-c736-4e62-89f2-a3872a11e33b)\r\n\n\n### If this problem caused an exception or error, please paste it here\n\n_No response_\n\n### If the problem is browser-specific, please specify the device, OS, browser, and version\n\n_No response_\n\n### Provide any additional information here in as much as detail as you can\n\n_No response_","Url":"https://github.com/angular/angular/issues/52925","RelatedDescription":"Closed issue \"Documentation error \" (#52925)"},{"Id":"1994335259","IsPullRequest":true,"CreatedAt":"2023-11-15T08:59:13","Actor":"lsst25","Number":"52923","RawContent":null,"Title":"docs(docs-infra): unclosed tag in the Composing Components tutorial","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n\r\nThe closing tag or self-closing slash is missing in the Composing Components tutorial code example\r\n\r\nIssue Number: N/A\r\n\r\n## What is the new behavior?\r\n\r\nA self-closing tag is added to the example\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n## Other information\r\n\r\nIt is confusing to see an unclosed tag at the very beginning of the Tutorials. \r\nAlso as a new Angular learner, I would like to know explicitly if I can use self-closing tags in Angular. As a come-back user, I'm curious if something changed and now I can use it, even if I vaguely remember that I've read about that. \r\nThat's why I suggest adding an explicit mention of it. \r\n","Url":"https://github.com/angular/angular/pull/52923","RelatedDescription":"Open PR \"docs(docs-infra): unclosed tag in the Composing Components tutorial\" (#52923)"},{"Id":"1993940291","IsPullRequest":false,"CreatedAt":"2023-11-15T07:47:18","Actor":"MunMunMiao","Number":"52920","RawContent":null,"Title":"Support for multiple cases in control flow","State":"closed","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\r\n\r\ncompiler\r\n\r\n### Description\r\n\r\n```html\r\n@switch (type) {\r\n  @case(1) {\r\n    <app-home />\r\n  }\r\n  @case(2) {\r\n    <app-home />\r\n  }\r\n  @case(3) {\r\n    <app-home />\r\n  }\r\n  @case(4) {\r\n    <app-user />\r\n  }\r\n  @default {\r\n    <app-error />\r\n  }\r\n}\r\n```\r\n\r\nIf multiple cases are needed to support rendering the same content, it needs to be replicated several times. Supporting multiple cases can effectively solve this problem\r\n\r\n### Proposed solution\r\n\r\n```html\r\n@switch (type) {\r\n  @case(1)\r\n  @case(2)\r\n  @case(3) {\r\n    <app-home />\r\n  }\r\n  @case(4) {\r\n    <app-user />\r\n  }\r\n  @default {\r\n    <app-error />\r\n  }\r\n}\r\n```\r\n\r\n### Alternatives considered\r\n\r\n```html\r\n@switch (type) {\r\n  @case(1, 2, 3) {\r\n    <app-home />\r\n  }\r\n  @case(4) {\r\n    <app-user />\r\n  }\r\n  @default {\r\n    <app-error />\r\n  }\r\n}\r\n```\r\n\r\nthis code style some like golang","Url":"https://github.com/angular/angular/issues/52920","RelatedDescription":"Closed issue \"Support for multiple cases in control flow\" (#52920)"},{"Id":"1994054023","IsPullRequest":false,"CreatedAt":"2023-11-15T07:42:26","Actor":"swapnilnakate7","Number":"52921","RawContent":null,"Title":"Compiler options paths not working for v17","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncompiler\n\n### Is this a regression?\n\nYes\n\n### Description\n\nI have added custom path as `@app` and generated one list component. inside appComponent reference to `@app/list/list-component` is not identified by the compiler\r\n\r\ntsconfig.js\r\n--- \r\n``` json\r\n\"compilerOptions\": {\r\n    \"baseUrl\": \"./\",\r\n    \"outDir\": \"./dist/out-tsc\",\r\n    \"forceConsistentCasingInFileNames\": true,\r\n    \"strict\": true,\r\n    \"noImplicitOverride\": true,\r\n    \"noPropertyAccessFromIndexSignature\": true,\r\n    \"noImplicitReturns\": true,\r\n    \"noFallthroughCasesInSwitch\": true,\r\n    \"esModuleInterop\": true,\r\n    \"sourceMap\": true,\r\n    \"declaration\": false,\r\n    \"downlevelIteration\": true,\r\n    \"experimentalDecorators\": true,\r\n    \"moduleResolution\": \"node\",\r\n    \"paths\": {\r\n      \"sn-button\": [\"./dist/sn-button\"],\r\n      \"@app\": [\"src/app/*\"]\r\n    }\r\n```\r\napp.component.ts\r\n---\r\nimport { ListComponent } from '@app/list/list.component';\r\n\r\n``` javascript\r\n@Component({\r\n  selector: 'app-root',\r\n  standalone: true,\r\n  imports: [CommonModule, RouterOutlet, ListComponent],\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss'],\r\n})\r\n```\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\n✘ [ERROR] TS2307: Cannot find module '@app/list/list.component' or its corresponding type declarations. [plugin angular-compiler]\r\n\r\n    src/app/app.component.ts:5:30:\r\n      5 │ import { ListComponent } from '@app/list/list.component';\r\n        ╵                               ~~~~~~~~~~~~~~~~~~~~~~~~~~\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 17.0.0\r\nNode: 20.9.0\r\nPackage Manager: npm 10.1.0\r\nOS: darwin arm64\r\n\r\nAngular: 17.0.2\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.0\r\n@angular-devkit/build-angular   17.0.0\r\n@angular-devkit/core            17.0.0\r\n@angular-devkit/schematics      17.0.0\r\n@angular/cli                    17.0.0\r\n@schematics/angular             17.0.0\r\nng-packagr                      17.0.0\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.2\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/52921","RelatedDescription":"Closed issue \"Compiler options paths not working for v17\" (#52921)"},{"Id":"1993939169","IsPullRequest":true,"CreatedAt":"2023-11-15T02:57:04","Actor":"Ahmed-Hakeem","Number":"52919","RawContent":null,"Title":"change the class fields' reference to be the typescript class link","State":"open","Body":"Since Angular is based on typescript and typescript class fields are different than the ones in javascript then we should make the class fields link to be the typescript one ","Url":"https://github.com/angular/angular/pull/52919","RelatedDescription":"Open PR \"change the class fields' reference to be the typescript class link\" (#52919)"},{"Id":"1993849272","IsPullRequest":true,"CreatedAt":"2023-11-15T01:21:37","Actor":"AndrewKushnir","Number":"52918","RawContent":null,"Title":"fix(core): avoid stale provider info when TestBed.overrideProvider is used","State":"open","Body":"This commit updates the logic to preserve previous value of cached TView before applying overrides. This helps ensure that the next tests that uses the same component has correct provider info.\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [x] Bugfix\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/52918","RelatedDescription":"Open PR \"fix(core): avoid stale provider info when TestBed.overrideProvider is used\" (#52918)"},{"Id":"1993751778","IsPullRequest":false,"CreatedAt":"2023-11-14T23:29:52","Actor":"jjw99","Number":"52917","RawContent":null,"Title":"Nested for loops reset parent even/odd","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\ncore\r\n\r\n### Is this a regression?\r\n\r\nYes\r\n\r\n### Description\r\n\r\nWith the new control flow syntax, nested inner for loops will overwrite the value of even/odd variables stored in the parent loop.\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps://stackblitz.com/edit/angular-3qegjg?file=src%2Fmain.ts\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nIn the stackblitz example, the value of 'odd' should be retained in the inner loop iterations.\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n17.0.2\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/52917","RelatedDescription":"Open issue \"Nested for loops reset parent even/odd\" (#52917)"}],"ResultType":"GitHubIssue"},"AngularCli-Issues":{"Issues":[{"Id":"1995383673","IsPullRequest":false,"CreatedAt":"2023-11-15T22:40:23","Actor":"mcdenhoed","Number":"26368","RawContent":null,"Title":"Support Raw Loading with `application` and `builder-esbuild`","State":"closed","Body":"### Command\n\nbuild, serve\n\n### Description\n\nI have some raw text files that I need to include in my build. To load them with `builder`-based builds, I am using the webpack [raw-loader](https://www.npmjs.com/package/raw-loader) plugin.\r\n\r\nI currently import them as follows:\r\n\r\n```typescript\r\nimport contents from \"raw-loader!./some-text-file.txt\";\r\n```\r\n\r\nIt would be amazing if I could do something similar from within the new `esbuild`-based loader. I saw that [`vite` allows for a `?raw` suffix on imports](https://vitejs.dev/guide/assets.html#importing-asset-as-string) to do just this, but it did not seem to work when I tried it in Angular.\r\n\r\nHopefully I'm just missing something here, but I didn't see this called out in the documentation.\n\n### Describe the solution you'd like\n\n_No response_\n\n### Describe alternatives you've considered\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/26368","RelatedDescription":"Closed issue \"Support Raw Loading with `application` and `builder-esbuild`\" (#26368)"},{"Id":"1995654369","IsPullRequest":true,"CreatedAt":"2023-11-15T22:11:16","Actor":"clydin","Number":"26370","RawContent":null,"Title":"docs: release notes for the v17.0.1 release","State":"closed","Body":"Cherry-picks the changelog from the \"17.0.x\" branch to the next branch (main).","Url":"https://github.com/angular/angular-cli/pull/26370","RelatedDescription":"Closed or merged PR \"docs: release notes for the v17.0.1 release\" (#26370)"},{"Id":"1995636365","IsPullRequest":true,"CreatedAt":"2023-11-15T22:08:44","Actor":"clydin","Number":"26369","RawContent":null,"Title":"Bump version to \"v17.0.1\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/26369","RelatedDescription":"Closed or merged PR \"Bump version to \"v17.0.1\" with changelog.\" (#26369)"},{"Id":"1994960384","IsPullRequest":true,"CreatedAt":"2023-11-15T21:49:32","Actor":"alan-agius4","Number":"26367","RawContent":null,"Title":"fix(@angular-devkit/build-angular): add actionable error when file replacement is missing","State":"closed","Body":"\r\n\r\nThis commits adds an actionable error when the file to replace with is missing.\r\n\r\nCloses #26333\r\n\r\n","Url":"https://github.com/angular/angular-cli/pull/26367","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): add actionable error when file replacement is missing\" (#26367)"},{"Id":"1994447307","IsPullRequest":true,"CreatedAt":"2023-11-15T17:11:33","Actor":"alan-agius4","Number":"26363","RawContent":null,"Title":"fix(@angular-devkit/build-angular): add support for vendor sourcemaps when using the dev-server","State":"closed","Body":"\r\nPrior to this change the vendor sourcemaps were never generated when using vite prebundling.","Url":"https://github.com/angular/angular-cli/pull/26363","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): add support for vendor sourcemaps when using the dev-server\" (#26363)"},{"Id":"1994513489","IsPullRequest":true,"CreatedAt":"2023-11-15T15:47:42","Actor":"alan-agius4","Number":"26364","RawContent":null,"Title":"fix(@angular/cli): handle packages with no version","State":"closed","Body":"In some cases pacote will return undefined as `version` which resulted in `Cannot convert undefined or null to object`.\r\n\r\nCloses #26337\r\n","Url":"https://github.com/angular/angular-cli/pull/26364","RelatedDescription":"Closed or merged PR \"fix(@angular/cli): handle packages with no version\" (#26364)"},{"Id":"1994845394","IsPullRequest":false,"CreatedAt":"2023-11-15T14:04:39","Actor":"emiryumak","Number":"26366","RawContent":null,"Title":"Autoprefixer Not Working on Serve and Build","State":"open","Body":"### Command\n\nbuild, serve\n\n### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n16.0.2\n\n### Description\n\nAutoprefixer not working on scss compiler. For example:\r\n\r\nIn component.scss file;\r\n`mask-composite: exclude;`\r\n\r\nOn chromium based browser says;\r\nInvalid property name.\r\n\r\nIn version 16, it also added `-webkit` and `-moz` version of properties.\n\n### Minimal Reproduction\n\nThis issue occurs when `ng serve` and `ng build`\r\n\r\nMy `angular.json` architect.build \r\n\r\n```javascript\r\n\"build\": {\r\n\t\"builder\": \"@angular-devkit/build-angular:application\",\r\n\t\"options\": {\r\n\t\t\"outputPath\": \"dist/app\",\r\n\t\t\"index\": \"src/index.html\",\r\n\t\t\"browser\": \"src/main.ts\",\r\n\t\t\"polyfills\": [\"zone.js\"],\r\n\t\t\"tsConfig\": \"tsconfig.app.json\",\r\n\t\t\"inlineStyleLanguage\": \"scss\",\r\n\t\t\"assets\": [\r\n\t\t\t\"src/assets\",\r\n\t\t\t\"src/manifest.webmanifest\"\r\n\t\t],\r\n\t\t\"styles\": [\r\n\t\t\t\"src/assets/style/styles.scss\"\r\n\t\t],\r\n\t\t\"stylePreprocessorOptions\": {\r\n\t\t\t\"includePaths\": [\"src/assets/style\"]\r\n\t\t},\r\n\t\t\"scripts\": [],\r\n\t\t\"server\": \"src/main.server.ts\",\r\n\t\t\"prerender\": false,\r\n\t\t\"ssr\": {\r\n\t\t\t\"entry\": \"server.ts\"\r\n\t\t}\r\n\t},\r\n\t\"configurations\": {\r\n\t\t\"production\": {\r\n\t\t\t\"budgets\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"type\": \"initial\",\r\n\t\t\t\t\t\"maximumWarning\": \"2mb\",\r\n\t\t\t\t\t\"maximumError\": \"5mb\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"type\": \"anyComponentStyle\",\r\n\t\t\t\t\t\"maximumWarning\": \"6kb\",\r\n\t\t\t\t\t\"maximumError\": \"50kb\"\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"fileReplacements\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"replace\": \"src/environments/environment.ts\",\r\n\t\t\t\t\t\"with\": \"src/environments/environment.prod.ts\"\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"outputHashing\": \"all\"\r\n\t\t},\r\n\t\t\"development\": {\r\n\t\t\t\"optimization\": false,\r\n\t\t\t\"extractLicenses\": false,\r\n\t\t\t\"sourceMap\": true\r\n\t\t}\r\n\t},\r\n\t\"defaultConfiguration\": \"production\"\r\n}\r\n``` \r\n\n\n### Exception or Error\n\n_No response_\n\n### Your Environment\n\n```text\nAngular CLI: 17.0.0\r\nNode: 20.9.0\r\nPackage Manager: npm 10.1.0\r\nOS: darwin arm64\r\n\r\nAngular: 17.0.2\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, platform-server\r\n... router, service-worker\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.0 (cli-only)\r\n@angular-devkit/build-angular   17.0.0\r\n@angular-devkit/core            16.0.6\r\n@angular-devkit/schematics      17.0.0\r\n@angular/cdk                    17.0.0\r\n@angular/cli                    17.0.0\r\n@angular/ssr                    17.0.0\r\n@schematics/angular             17.0.0\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.2\n```\n\n\n### Anything else relevant?\n\nPackage Manager: `npm`\r\nOS: `MacOS`\r\nBrowser: `Arc Browser (Chromium based)`, `Mozilla Firefox Developer Edition`, `Safari` etc.","Url":"https://github.com/angular/angular-cli/issues/26366","RelatedDescription":"Open issue \"Autoprefixer Not Working on Serve and Build\" (#26366)"},{"Id":"1994115675","IsPullRequest":true,"CreatedAt":"2023-11-15T12:55:13","Actor":"angular-robot","Number":"26362","RawContent":null,"Title":"build: update github/codeql-action action to v2.22.6","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [github/codeql-action](https://togithub.com/github/codeql-action) | action | patch | `v2.22.5` -> `v2.22.6` |\n\n---\n\n### Release Notes\n\n<details>\n<summary>github/codeql-action (github/codeql-action)</summary>\n\n### [`v2.22.6`](https://togithub.com/github/codeql-action/compare/v2.22.5...v2.22.6)\n\n[Compare Source](https://togithub.com/github/codeql-action/compare/v2.22.5...v2.22.6)\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n🔕 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy41MC4xIiwidXBkYXRlZEluVmVyIjoiMzcuNTAuMSIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->\n","Url":"https://github.com/angular/angular-cli/pull/26362","RelatedDescription":"Closed or merged PR \"build: update github/codeql-action action to v2.22.6\" (#26362)"},{"Id":"1991374924","IsPullRequest":true,"CreatedAt":"2023-11-15T12:54:30","Actor":"clydin","Number":"26346","RawContent":null,"Title":"fix(@angular-devkit/build-angular): maintain current watch files after build errors","State":"closed","Body":"When using the `application` and/or `browser-esbuild` builders, the current watch files\r\nwill be maintained in the event of a build error. This better ensures that files used\r\nin the last build/rebuild that may have caused an error will continue to be watched and\r\nrefreshed when later changed. Only when a successful rebuild has occurred will any stale\r\nwatch files be removed from the watch list.","Url":"https://github.com/angular/angular-cli/pull/26346","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): maintain current watch files after build errors\" (#26346)"},{"Id":"1993651054","IsPullRequest":true,"CreatedAt":"2023-11-15T12:54:00","Actor":"clydin","Number":"26358","RawContent":null,"Title":"fix(@angular-devkit/build-angular): ensure compilation errors propagate to all bundle actions","State":"closed","Body":"If the TypeScript and/or Angular AOT compiler fails to initialize or emit files due to an error, the shared compilation state between the browser code bundle action and any additional bundle actions (polyfills, server, etc.) will now carry an error flag to ensure that the additional bundle actions bypass file emit. The file emit bypass is necessary in these cases to prevent an unintentional and misleading error about a file not being included in the compilation.","Url":"https://github.com/angular/angular-cli/pull/26358","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): ensure compilation errors propagate to all bundle actions\" (#26358)"},{"Id":"1994513860","IsPullRequest":false,"CreatedAt":"2023-11-15T10:52:22","Actor":"kupchic","Number":"26365","RawContent":null,"Title":"No matching version found for @angular/compiler@16.12.2","State":"closed","Body":"### Command\n\nupdate\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\n![image](https://github.com/angular/angular-cli/assets/60134428/c8ae44cd-0aea-4073-8c77-0f5512db235c)\r\n\n\n### Minimal Reproduction\n\ntry to update ng version to 16 with `ng update` and manually. in both cases see this error\n\n### Exception or Error\n\n_No response_\n\n### Your Environment\n\n```text\n\"dependencies\": {\r\n    \"@angular-architects/module-federation\": \"^16.0.4\",\r\n    \"@angular/animations\": \"~16.2.12\",\r\n    \"@angular/cdk\": \"16.2.12\",\r\n    \"@angular/common\": \"~16.2.12\",\r\n    \"@angular/compiler\": \"~16.2.11\",\r\n    \"@angular/core\": \"16.2.12\",\r\n    \"@angular/elements\": \"~16.2.12\",\r\n    \"@angular/forms\": \"~16.2.12\",\r\n    \"@angular/localize\": \"~16.2.12\",\r\n    \"@angular/platform-browser\": \"~16.2.12\",\r\n    \"@angular/platform-browser-dynamic\": \"~16.2.12\",\r\n    \"@angular/router\": \"~16.2.12\",\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/26365","RelatedDescription":"Closed issue \"No matching version found for @angular/compiler@16.12.2\" (#26365)"},{"Id":"1992283180","IsPullRequest":false,"CreatedAt":"2023-11-15T09:42:16","Actor":"its-dibo","Number":"26352","RawContent":null,"Title":"cannot run the default schematics project","State":"closed","Body":"### Command\n\nother\n\n### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\ncannot run the default schematics project\r\n\r\nI just created a new schematics project\r\n```\r\nschematics blank --name=test\r\n```\r\nand then run it without any modifications\r\n```\r\ncd test\r\n schematics .:test\r\n```\r\nbut this error is occured\r\n```\r\nError: Cannot find module 'test/src/test/index'\r\n```\r\n\n\n### Minimal Reproduction\n\nI created a [minimal reproduction](https://github.com/its-dibo/issue-schematics) with a detailed description\n\n### Exception or Error\n\n```text\n`Error: Cannot find module 'test/src/test/index'`\n```\n\n\n### Your Environment\n\n```text\nnode: v20.9.0\r\n@angular-devkit/schematics-cli: latest (globally)\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/26352","RelatedDescription":"Closed issue \"cannot run the default schematics project\" (#26352)"},{"Id":"1990876321","IsPullRequest":false,"CreatedAt":"2023-11-15T09:37:27","Actor":"zerock54","Number":"26345","RawContent":null,"Title":"504 Outdated Optimize Dep with esbuild when using Stencil components","State":"closed","Body":"### Command\r\n\r\nserve\r\n\r\n### Is this a regression?\r\n\r\n- [X] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n17\r\n\r\n### Description\r\n\r\nHi,\r\n\r\nI am trying to convert my project to use the new build system but I am facing an issue when running ng serve.\r\nI get these errors in the browser's console:\r\n\r\n![Group 32](https://github.com/angular/angular/assets/7101750/4d945cd7-ce33-4714-942e-1bceeac3330b)\r\n\r\nIn fact, all the imports errors point to some Stencil components\r\n\r\nI tried to clean the .angular cache but the same issue occurs\r\n\r\nThanks\r\n\r\n### Minimal Reproduction\r\n\r\nhttps://github.com/zerock54/Angular-17-esbuild-Stencil-ng-serve-issue\r\n\r\n### Exception or Error\r\n\r\n_No response_\r\n\r\n### Your Environment\r\n\r\n```text\r\nAngular CLI: 17.0.0\r\nNode: 18.13.0\r\nPackage Manager: npm 8.19.3\r\nOS: darwin arm64\r\n\r\nAngular: 17.0.2\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.0\r\n@angular-devkit/build-angular   17.0.0\r\n@angular-devkit/core            17.0.0\r\n@angular-devkit/schematics      17.0.0\r\n@angular/cli                    17.0.0\r\n@schematics/angular             17.0.0\r\nrxjs                            7.5.7\r\ntypescript                      5.2.2\r\nzone.js                         0.14.2\r\n```\r\n\r\n\r\n### Anything else relevant?\r\n\r\n_No response_\r\n\r\nEDIT: add repro","Url":"https://github.com/angular/angular-cli/issues/26345","RelatedDescription":"Closed issue \"504 Outdated Optimize Dep with esbuild when using Stencil components\" (#26345)"},{"Id":"1993843960","IsPullRequest":false,"CreatedAt":"2023-11-15T08:50:23","Actor":"shaun-jacks","Number":"26360","RawContent":null,"Title":"esbuild vite dev server bypass proxy option not working","State":"closed","Body":"### Command\n\nserve\n\n### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\nwebpack dev server implementation\n\n### Description\n\nWhen I serve my angular app using the browser-esbuild build option, the bypass option is no longer working for me as it did with the webpack dev server config.\n\n### Minimal Reproduction\n\nExample Proxy Config not working\r\n\r\n```typescript\r\n{\r\n    '**/assets/**': {\r\n        // even with target options, the url bypass functionality is not working\r\n        bypass: (req, res, opts) => {\r\n            return '/assets/path/to/asset/file.json'\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis type of bypass configuration however is working when using webpack dev server\r\n\r\nI want to rewrite a relative GET request from one asset path to another\r\n\r\nRun \r\n```\r\nng serve --proxy-config=/path/to/config.js\r\n```\r\n\n\n### Exception or Error\n\n```text\nA 404 response is returned\n```\n\n\n### Your Environment\n\n```text\n\"@angular/animations\": \"17.0.2\",\r\n        \"@angular/cdk\": \"17.0.0\",\r\n        \"@angular/common\": \"17.0.2\",\r\n        \"@angular/compiler\": \"17.0.2\",\r\n        \"@angular/core\": \"17.0.2\",\r\n        \"@angular/forms\": \"17.0.2\",\r\n        \"@angular/localize\": \"17.0.2\",\r\n        \"@angular/material\": \"17.0.0\",\r\n        \"@angular/platform-browser\": \"17.0.2\",\r\n        \"@angular/platform-browser-dynamic\": \"17.0.2\",\r\n        \"@angular/router\": \"17.0.2\",\r\n        \"@angular/service-worker\": \"17.0.2\",\r\n...\r\n \"@angular-devkit/build-angular\": \"17.0.0\",\r\n        \"@angular-devkit/core\": \"17.0.0\",\r\n        \"@angular-devkit/schematics\": \"17.0.0\",\r\n        \"@angular-devkit/schematics-cli\": \"^0.1102.9\",\r\n        \"@angular-eslint/eslint-plugin\": \"17.0.1\",\r\n        \"@angular-eslint/eslint-plugin-template\": \"17.0.1\",\r\n        \"@angular-eslint/template-parser\": \"17.0.1\",\r\n        \"@angular/cli\": \"~17.0.0\",\r\n        \"@angular/compiler-cli\": \"17.0.2\",\r\n        \"@angular/language-service\": \"17.0.2\",\r\n```\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/26360","RelatedDescription":"Closed issue \"esbuild vite dev server bypass proxy option not working\" (#26360)"},{"Id":"1994032727","IsPullRequest":false,"CreatedAt":"2023-11-15T08:12:57","Actor":"roedoejet","Number":"26361","RawContent":null,"Title":"Angular CLI should warn when configurations are being overriden.","State":"closed","Body":"### Command\n\nbuild\n\n### Description\n\nThanks for all your work on this great framework!\r\n\r\nWe have a single application that can has multiple different configurations depending on both the application and deployment environment. \r\n\r\nFor example:\r\n\r\n```json\r\n\"configurations\": {\r\n            \"fr\": {\r\n              \"fileReplacements\": [\r\n                {\r\n                  \"replace\": \"projects/word-weaver/src/config/config.ts\",\r\n                  \"with\": \"projects/word-weaver/src/config/config.fr.ts\"\r\n                }\r\n              ]\r\n            },\r\n            \"moh\": {\r\n              \"fileReplacements\": [\r\n                {\r\n                  \"replace\": \"projects/word-weaver/src/config/config.ts\",\r\n                  \"with\": \"projects/word-weaver/src/config/config.moh.ts\"\r\n                }\r\n              ]\r\n            },\r\n          \"ghpages\": {\r\n              \"fileReplacements\": [\r\n                {\r\n                  \"replace\": \"projects/word-weaver/src/environments/environment.ts\",\r\n                  \"with\": \"projects/word-weaver/src/environments/environment.ghpages.ts\"\r\n                }\r\n              ]\r\n            },\r\n            \"netlify\": {\r\n              \"fileReplacements\": [\r\n                {\r\n                  \"replace\": \"projects/word-weaver/src/environments/environment.ts\",\r\n                  \"with\": \"projects/word-weaver/src/environments/environment.netlify.ts\"\r\n                }\r\n              ]\r\n            }\r\n}\r\n```\r\n\r\nCurrently, running `ng build --configuration=ghpages,moh` just silently ignores the file replacements defined by the `ghpages` configuration.\n\n### Describe the solution you'd like\n\nWe would ideally like to build our application using the following commands:\r\n\r\n`ng build --configuration=ghpages,fr` or `ng build --configuration=ghpages,moh` or `ng build --configuration=ghpages,fr` or `ng build --configuration=netlify,moh` depending on where we are deploying and how we want to configure our application.\r\n\r\nHowever, as has been raised in multiple other issues (https://github.com/angular/angular-cli/issues/22424, https://github.com/angular/angular-cli/issues/11149, https://github.com/angular/angular-cli/issues/16688), merging `fileReplacements` across multiple configurations is not supported. \r\n\r\nI would strongly prefer (and indeed our entire team expected) the functionality to be as described [here](https://github.com/angular/angular-cli/issues/16688#issuecomment-603714485). But, in the absence of that being supported - I think there should be a warning produced by Angular CLI since currently running `ng build --configuration=ghpages,moh` just silently ignores the file replacements defined by the `ghpages` configuration.\n\n### Describe alternatives you've considered\n\nCurrently we have to create different configurations for each combination which has quickly led to a dozen configurations in some projects which is frustrating to manage and not very DRY. I hope there is a better solution in the future, but a warning when certain configurations are being ignored would also be better than the current implementation.","Url":"https://github.com/angular/angular-cli/issues/26361","RelatedDescription":"Closed issue \"Angular CLI should warn when configurations are being overriden.\" (#26361)"},{"Id":"1993299757","IsPullRequest":false,"CreatedAt":"2023-11-15T08:05:38","Actor":"jsloyer","Number":"26357","RawContent":null,"Title":"Bring back --deploy-url","State":"closed","Body":"### Command\n\nbuild\n\n### Description\n\nWith Angular 16 you could build your app with `ng build --build-href=/my/awesome/app --deploy-url=/my/awesome/app`, this was incredibly useful for SSR and Universal.  Static assets and the node SSR server would run under the same URI's and assets and SSR functionality get served together.\r\n\r\nWith Angular 17 `--deploy-url` was removed.  The explanation at https://github.com/angular/angular-cli/issues/23765#issuecomment-1225508049 makes sense for a CSR app but not a SSR or SSG app.  The docs mention using `APP_BASE_HREF` and `base-href` but those URI's together do not move assets like `main.js`, `polyfills.js`, and `styles.js` to `/my/awesome/app`.\r\n\r\nI understand if this was intentional but would love some documentation on a path forward here.  Obviously one solution would be to use Nginx and rewrite URL's on the fly.  If that is the official path, happy to do it but would love some guidance\n\n### Describe the solution you'd like\n\n_No response_\n\n### Describe alternatives you've considered\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/26357","RelatedDescription":"Closed issue \"Bring back --deploy-url\" (#26357)"},{"Id":"1993769315","IsPullRequest":false,"CreatedAt":"2023-11-15T07:54:42","Actor":"JeanMeche","Number":"26359","RawContent":null,"Title":"Provide an option for library sourcemap for the application builder","State":"closed","Body":"### Command\r\n\r\nbuild\r\n\r\n### Description\r\n\r\nWhen using the webpack builder we could use the `sourceMap: {vendor:true}` option to access the source map of libraries (like the Angular framework). \r\n\r\nThis doesn't work anymore with the application builder (likely because there is no vendor chunk anymore). \r\n","Url":"https://github.com/angular/angular-cli/issues/26359","RelatedDescription":"Closed issue \"Provide an option for library sourcemap for the application builder\" (#26359)"},{"Id":"1992729530","IsPullRequest":false,"CreatedAt":"2023-11-15T04:21:34","Actor":"enstenr","Number":"26353","RawContent":null,"Title":"Unable to do a production build - ng build fails","State":"closed","Body":"### Command\n\nbuild\n\n### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n16\n\n### Description\n\nI created a skeleton app and added angular material to it. i am trying to run ng build and run into below issues. \r\n\r\n ng build:\r\n\r\n_**An unhandled exception occurred: (0 , node_module_1.register) is not a function\r\nSee \"/tmp/ng-hVvh7r/angular-errors.log\" for further details.**_\r\n\r\n\r\nMy Package.json : \r\n\r\n{\r\n  \"name\": \"angular-17\",\r\n  \"version\": \"0.0.0\",\r\n  \"scripts\": {\r\n    \"ng\": \"ng\",\r\n    \"start\": \"ng serve\",\r\n    \"build\": \"ng build\",\r\n    \"watch\": \"ng build --watch --configuration development\",\r\n    \"test\": \"ng test\"\r\n  },\r\n  \"private\": true,\r\n  \"dependencies\": {\r\n    \"@angular/animations\": \"^17.0.0\",\r\n    \"@angular/cdk\": \"^17.0.0\",\r\n    \"@angular/common\": \"^17.0.0\",\r\n    \"@angular/compiler\": \"^17.0.0\",\r\n    \"@angular/core\": \"^17.0.0\",\r\n    \"@angular/forms\": \"^17.0.0\",\r\n    \"@angular/material\": \"^17.0.0\",\r\n    \"@angular/platform-browser\": \"^17.0.0\",\r\n    \"@angular/platform-browser-dynamic\": \"^17.0.0\",\r\n    \"@angular/platform-server\": \"^17.0.0\",\r\n    \"@angular/router\": \"^17.0.0\",\r\n    \"@angular/ssr\": \"^17.0.0\",\r\n    \"express\": \"^4.18.2\",\r\n    \"rxjs\": \"~7.8.0\",\r\n    \"tslib\": \"^2.3.0\",\r\n    \"zone.js\": \"~0.14.2\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@angular-devkit/build-angular\": \"^17.0.0\",\r\n    \"@angular/cli\": \"^17.0.0\",\r\n    \"@angular/compiler-cli\": \"^17.0.0\",\r\n    \"@types/express\": \"^4.17.17\",\r\n    \"@types/jasmine\": \"~5.1.0\",\r\n    \"@types/node\": \"^18.18.0\",\r\n    \"jasmine-core\": \"~5.1.0\",\r\n    \"karma\": \"~6.4.0\",\r\n    \"karma-chrome-launcher\": \"~3.2.0\",\r\n    \"karma-coverage\": \"~2.2.0\",\r\n    \"karma-jasmine\": \"~5.1.0\",\r\n    \"karma-jasmine-html-reporter\": \"~2.1.0\",\r\n    \"typescript\": \"~5.2.2\"\r\n  }\r\n}\n\n### Minimal Reproduction\n\nThe basic app which throws error is in the given repo\r\n\r\nhttps://github.com/enstenr/angular-17.git\n\n### Exception or Error\n\n```text\n[error] TypeError: (0 , node_module_1.register) is not a function\r\n    at Object.<anonymous> (/home/bigthinker/git/angular17/angular-17-new/angular-17/node_modules/@angular-devkit/build-angular/src/utils/server-rendering/esm-in-memory-loader/register-hooks.js:15:28)\r\n    at Module._compile (node:internal/modules/cjs/loader:1233:14)\r\n    at Module._extensions..js (node:internal/modules/cjs/loader:1287:10)\r\n    at Module.load (node:internal/modules/cjs/loader:1091:32)\r\n    at Module._load (node:internal/modules/cjs/loader:938:12)\r\n    at ModuleWrap.<anonymous> (node:internal/modules/esm/translators:165:29)\r\n    at ModuleJob.run (node:internal/modules/esm/module_job:192:25)\r\n    at async DefaultModuleLoader.import (node:internal/modules/esm/loader:228:24)\n```\n\n\n### Your Environment\n\n```text\n_                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 17.0.0\r\nNode: 20.5.1\r\nPackage Manager: npm 9.8.0\r\nOS: linux x64\r\n\r\nAngular: 17.0.1\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, platform-server\r\n... router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.0\r\n@angular-devkit/build-angular   17.0.0\r\n@angular-devkit/core            17.0.0\r\n@angular-devkit/schematics      17.0.0\r\n@angular/cdk                    17.0.0\r\n@angular/cli                    17.0.0\r\n@angular/material               17.0.0\r\n@angular/ssr                    17.0.0\r\n@schematics/angular             17.0.0\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.2\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/26353","RelatedDescription":"Closed issue \"Unable to do a production build - ng build fails\" (#26353)"},{"Id":"1992990555","IsPullRequest":false,"CreatedAt":"2023-11-14T21:24:12","Actor":"robertIsaac","Number":"26355","RawContent":null,"Title":"new angular project doesn't work with yarn","State":"closed","Body":"### Command\n\nnew\n\n### Is this a regression?\n\n- [x] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nng s doesn't work with a fresh project if using yarn as package manager\n\n### Minimal Reproduction\n\n```\r\nnpx @angular/cli@latest new ng17 --package-manager=yarn\r\n? Which stylesheet format would you like to use? CSS\r\n? Do you want to enable Server-Side Rendering (SSR) and Static Site Generation (SSG/Prerendering)? No\r\nCREATE ng17/angular.json (2627 bytes)\r\nCREATE ng17/package.json (1035 bytes)\r\nCREATE ng17/README.md (1058 bytes)\r\nCREATE ng17/tsconfig.json (909 bytes)\r\nCREATE ng17/.editorconfig (274 bytes)\r\nCREATE ng17/.gitignore (548 bytes)\r\nCREATE ng17/tsconfig.app.json (263 bytes)\r\nCREATE ng17/tsconfig.spec.json (273 bytes)\r\nCREATE ng17/.vscode/extensions.json (130 bytes)\r\nCREATE ng17/.vscode/launch.json (470 bytes)\r\nCREATE ng17/.vscode/tasks.json (938 bytes)\r\nCREATE ng17/src/main.ts (250 bytes)\r\nCREATE ng17/src/favicon.ico (15086 bytes)\r\nCREATE ng17/src/index.html (290 bytes)\r\nCREATE ng17/src/styles.css (80 bytes)\r\nCREATE ng17/src/app/app.component.html (20887 bytes)\r\nCREATE ng17/src/app/app.component.spec.ts (910 bytes)\r\nCREATE ng17/src/app/app.component.ts (365 bytes)\r\nCREATE ng17/src/app/app.component.css (0 bytes)\r\nCREATE ng17/src/app/app.config.ts (227 bytes)\r\nCREATE ng17/src/app/app.routes.ts (77 bytes)\r\nCREATE ng17/src/assets/.gitkeep (0 bytes)\r\n√ Packages installed successfully.\r\nwarning: in the working copy of 'yarn.lock', CRLF will be replaced by LF the next time Git touches it\r\n    Successfully initialized git.\r\n```\n\n### Exception or Error\n\n```text\nng s\r\nAn unhandled exception occurred: Cannot find module 'caniuse-lite/dist/unpacker/agents'\r\nRequire stack:\r\n- C:\\Users\\aa.risaac\\repos\\ng17\\node_modules\\browserslist\\index.js\r\n- C:\\Users\\aa.risaac\\repos\\ng17\\node_modules\\@angular-devkit\\build-angular\\src\\utils\\supported-browsers.js\r\n- C:\\Users\\aa.risaac\\repos\\ng17\\node_modules\\@angular-devkit\\build-angular\\src\\utils\\normalize-builder-schema.js\r\n- C:\\Users\\aa.risaac\\repos\\ng17\\node_modules\\@angular-devkit\\build-angular\\src\\utils\\index.js\r\n- C:\\Users\\aa.risaac\\repos\\ng17\\node_modules\\@angular-devkit\\build-angular\\src\\tools\\webpack\\utils\\stats.js\r\n- C:\\Users\\aa.risaac\\repos\\ng17\\node_modules\\@angular-devkit\\build-angular\\src\\tools\\esbuild\\utils.js\r\n- C:\\Users\\aa.risaac\\repos\\ng17\\node_modules\\@angular-devkit\\build-angular\\src\\tools\\esbuild\\bundler-context.js\r\n- C:\\Users\\aa.risaac\\repos\\ng17\\node_modules\\@angular-devkit\\build-angular\\src\\builders\\dev-server\\vite-server.js\r\n- C:\\Users\\aa.risaac\\repos\\ng17\\node_modules\\@angular-devkit\\build-angular\\src\\builders\\dev-server\\builder.js\r\n- C:\\Users\\aa.risaac\\repos\\ng17\\node_modules\\@angular-devkit\\build-angular\\src\\builders\\dev-server\\index.js\r\n- C:\\Users\\aa.risaac\\repos\\ng17\\node_modules\\@angular-devkit\\architect\\node\\node-modules-architect-host.js\r\n- C:\\Users\\aa.risaac\\repos\\ng17\\node_modules\\@angular-devkit\\architect\\node\\index.js\r\n- C:\\Users\\aa.risaac\\repos\\ng17\\node_modules\\@angular\\cli\\src\\command-builder\\architect-base-command-module.js\r\n- C:\\Users\\aa.risaac\\repos\\ng17\\node_modules\\@angular\\cli\\src\\command-builder\\architect-command-module.js\r\n- C:\\Users\\aa.risaac\\repos\\ng17\\node_modules\\@angular\\cli\\src\\commands\\serve\\cli.js\r\n- C:\\Users\\aa.risaac\\repos\\ng17\\node_modules\\@angular\\cli\\src\\commands\\command-config.js\r\n- C:\\Users\\aa.risaac\\repos\\ng17\\node_modules\\@angular\\cli\\src\\command-builder\\command-runner.js\r\n- C:\\Users\\aa.risaac\\repos\\ng17\\node_modules\\@angular\\cli\\lib\\cli\\index.js\r\n- C:\\Users\\aa.risaac\\AppData\\Roaming\\nvm\\v18.16.0\\node_modules\\@angular\\cli\\lib\\init.js\r\nSee \"C:\\Users\\AAC526~1.RIS\\AppData\\Local\\Temp\\ng-1QAM3D\\angular-errors.log\" for further details.\n```\n\n\n### Your Environment\n\n```text\nAngular CLI: 17.0.0\r\nNode: 18.16.0\r\nPackage Manager: yarn 1.22.19\r\nOS: win32 x64\r\n\r\nAngular: 17.0.2\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.0\r\n@angular-devkit/build-angular   17.0.0\r\n@angular-devkit/core            17.0.0\r\n@angular-devkit/schematics      17.0.0\r\n@angular/cli                    17.0.0\r\n@schematics/angular             17.0.0\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.2\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/26355","RelatedDescription":"Closed issue \"new angular project doesn't work with yarn\" (#26355)"},{"Id":"1993271563","IsPullRequest":false,"CreatedAt":"2023-11-14T20:12:52","Actor":"iqmeta","Number":"26356","RawContent":null,"Title":"[es-build - Angular 17] Real outputPath in angular.json without \"browser\" Subfolder being forced of dist assets","State":"closed","Body":"### Command\r\n\r\nbuild\r\n\r\n### Description\r\n\r\nWith Angular 17 forced \"browser\" in dist path was introduced,\r\nwhich breaks a lot with middlewares/api and base-ref paths hosting multiple angular ui's within one wwwroot.\r\nAddtional dev setups with paths matching unitl now the final deployment path does now break on setup with complex solutions.\r\n\r\nSee problems of some devs already descriped here:  https://github.com/angular/angular-cli/issues/26304\r\n\r\nI guess a lots of more enterprise dev will hit this change after trying to upgrade the angular 16 and earlier projects.\r\n\r\n### Describe the solution you'd like\r\n\r\nLet developers / devops set the real output path for the build assets\r\nin the angular.json \r\n\r\n```\r\n \"outputPath\": {\r\n     browser: \"../backend/wwwroot/admin\",\r\n     ssr: \"../backend/not-public-server-side-rendering\",\r\n     whatever: \"\\\\server\\share\\whatever\"\r\n}\r\n```\r\nSomething like this would give dev fully fredom of deploy paths avoiding some addional hacky move scripts and so on.\r\n\r\n### Describe alternatives you've considered\r\n\r\nAdditional and until now unnecessary move/delete scripts of the content in the /browser/ folder and so on.","Url":"https://github.com/angular/angular-cli/issues/26356","RelatedDescription":"Closed issue \"[es-build - Angular 17] Real outputPath in angular.json without \"browser\" Subfolder being forced of dist assets\" (#26356)"},{"Id":"1992757059","IsPullRequest":false,"CreatedAt":"2023-11-14T20:07:19","Actor":"Burgov","Number":"26354","RawContent":null,"Title":"[esbuild] SSR: server.ts file ignored for \"ng serve\"","State":"closed","Body":"### Command\n\nserve\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nSo we've been using SSR for a few years already and we have a lot of custom logic in our server.ts file. Most notably, it contains a proxy to the API (so that it can be deployed separately, but accessed by the browser on the same domain), but also some other special proxies like the webmanifest file, a styling file that the API generates (tenant specific) and a special reroute for print specific rendering.\r\n\r\nWhile I was trying to get the new application builder to work with our code, I noticed that while running `ng serve`, the `server.ts` file is completely ignored. Only when running `ng build` and then running the output does this file get included. \r\n\r\nThis is a change that I could not find documented anywhere and I'm wondering what the reason for this change is. It forces us to kind of redo this whole part altogether if we want to keep everything working while developing locally.\r\n\r\nApologies if this isn't the right place for this topic.\n\n### Minimal Reproduction\n\n-\n\n### Exception or Error\n\n_No response_\n\n### Your Environment\n\n```text\nAngular CLI: 17.0.0\r\nNode: 18.17.1\r\nPackage Manager: npm 9.8.1\r\nOS: darwin arm64\r\n\r\nAngular: 17.0.2\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... platform-server, router, service-worker\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.0\r\n@angular-devkit/build-angular   17.0.0\r\n@angular-devkit/core            17.0.0\r\n@angular-devkit/schematics      17.0.0\r\n@angular/cdk                    17.0.0\r\n@angular/cli                    17.0.0\r\n@angular/fire                   16.0.0\r\n@angular/google-maps            17.0.0\r\n@angular/material               17.0.0\r\n@angular/ssr                    17.0.0\r\n@schematics/angular             17.0.0\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nwebpack                         5.88.2\r\nzone.js                         0.14.2\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/26354","RelatedDescription":"Closed issue \"[esbuild] SSR: server.ts file ignored for \"ng serve\"\" (#26354)"},{"Id":"1992058397","IsPullRequest":true,"CreatedAt":"2023-11-14T06:11:58","Actor":"angular-robot","Number":"26351","RawContent":null,"Title":"build: update angular","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@angular/animations](https://togithub.com/angular/animations-builds) | dependencies | digest | `00dee29` -> `206c194` |\n| [@angular/animations](https://togithub.com/angular/angular) | devDependencies | patch | [`17.0.2` -> `17.0.3`](https://renovatebot.com/diffs/npm/@angular%2fanimations/17.0.2/17.0.3) |\n| [@angular/bazel](https://togithub.com/angular/bazel-builds) | devDependencies | digest | `737eade` -> `934ca14` |\n| [@angular/build-tooling](https://togithub.com/angular/dev-infra-private-build-tooling-builds) | devDependencies | digest | `9fbc09c` -> `47bc4fd` |\n| [@angular/cdk](https://togithub.com/angular/cdk-builds) | dependencies | digest | `3c672ec` -> `c7f9926` |\n| [@angular/common](https://togithub.com/angular/common-builds) | dependencies | digest | `dfd69e8` -> `7819ae1` |\n| [@angular/common](https://togithub.com/angular/angular) | devDependencies | patch | [`17.0.2` -> `17.0.3`](https://renovatebot.com/diffs/npm/@angular%2fcommon/17.0.2/17.0.3) |\n| [@angular/compiler](https://togithub.com/angular/compiler-builds) | dependencies | digest | `240b79a` -> `07d6b7f` |\n| [@angular/compiler](https://togithub.com/angular/angular) | devDependencies | patch | [`17.0.2` -> `17.0.3`](https://renovatebot.com/diffs/npm/@angular%2fcompiler/17.0.2/17.0.3) |\n| [@angular/compiler-cli](https://togithub.com/angular/compiler-cli-builds) | dependencies | digest | `17401b2` -> `ece0440` |\n| [@angular/compiler-cli](https://togithub.com/angular/angular/tree/main/packages/compiler-cli) ([source](https://togithub.com/angular/angular)) | devDependencies | patch | [`17.0.2` -> `17.0.3`](https://renovatebot.com/diffs/npm/@angular%2fcompiler-cli/17.0.2/17.0.3) |\n| [@angular/core](https://togithub.com/angular/core-builds) | dependencies | digest | `9a243b7` -> `39c9ba5` |\n| [@angular/core](https://togithub.com/angular/angular) | devDependencies | patch | [`17.0.2` -> `17.0.3`](https://renovatebot.com/diffs/npm/@angular%2fcore/17.0.2/17.0.3) |\n| [@angular/forms](https://togithub.com/angular/forms-builds) | dependencies | digest | `9997fd8` -> `0725352` |\n| [@angular/forms](https://togithub.com/angular/angular) | devDependencies | patch | [`17.0.2` -> `17.0.3`](https://renovatebot.com/diffs/npm/@angular%2fforms/17.0.2/17.0.3) |\n| [@angular/language-service](https://togithub.com/angular/language-service-builds) | dependencies | digest | `24f8a86` -> `b96853b` |\n| [@angular/localize](https://togithub.com/angular/localize-builds) | dependencies | digest | `a2ba9c1` -> `00a6313` |\n| [@angular/localize](https://togithub.com/angular/angular) | devDependencies | patch | [`17.0.2` -> `17.0.3`](https://renovatebot.com/diffs/npm/@angular%2flocalize/17.0.2/17.0.3) |\n| [@angular/material](https://togithub.com/angular/material-builds) | dependencies | digest | `dccff03` -> `3e0b4a1` |\n| [@angular/material-moment-adapter](https://togithub.com/angular/material-moment-adapter-builds) | dependencies | digest | `de57a37` -> `33beef4` |\n| [@angular/ng-dev](https://togithub.com/angular/dev-infra-private-ng-dev-builds) | devDependencies | digest | `9b82bdb` -> `8570f87` |\n| [@angular/platform-browser](https://togithub.com/angular/platform-browser-builds) | dependencies | digest | `69e1499` -> `0b67b92` |\n| [@angular/platform-browser](https://togithub.com/angular/angular) | devDependencies | patch | [`17.0.2` -> `17.0.3`](https://renovatebot.com/diffs/npm/@angular%2fplatform-browser/17.0.2/17.0.3) |\n| [@angular/platform-browser-dynamic](https://togithub.com/angular/platform-browser-dynamic-builds) | dependencies | digest | `b933aa0` -> `34d2bcd` |\n| [@angular/platform-browser-dynamic](https://togithub.com/angular/angular) | devDependencies | patch | [`17.0.2` -> `17.0.3`](https://renovatebot.com/diffs/npm/@angular%2fplatform-browser-dynamic/17.0.2/17.0.3) |\n| [@angular/platform-server](https://togithub.com/angular/platform-server-builds) | dependencies | digest | `2717e42` -> `f406350` |\n| [@angular/platform-server](https://togithub.com/angular/angular) | devDependencies | patch | [`17.0.2` -> `17.0.3`](https://renovatebot.com/diffs/npm/@angular%2fplatform-server/17.0.2/17.0.3) |\n| [@angular/router](https://togithub.com/angular/router-builds) | dependencies | digest | `e11d558` -> `416efbf` |\n| [@angular/router](https://togithub.com/angular/angular/tree/main/packages/router) ([source](https://togithub.com/angular/angular)) | devDependencies | patch | [`17.0.2` -> `17.0.3`](https://renovatebot.com/diffs/npm/@angular%2frouter/17.0.2/17.0.3) |\n| [@angular/service-worker](https://togithub.com/angular/service-worker-builds) | dependencies | digest | `9ef0c6d` -> `f6829ee` |\n| [@angular/service-worker](https://togithub.com/angular/angular) | devDependencies | patch | [`17.0.2` -> `17.0.3`](https://renovatebot.com/diffs/npm/@angular%2fservice-worker/17.0.2/17.0.3) |\n| angular/dev-infra | action | digest | `ea86ac0` -> `d90597f` |\n\n🔡 If you wish to disable git hash updates, add `\":disableDigestUpdates\"` to the extends array in your config.\n\n---\n\n### Release Notes\n\n<details>\n<summary>angular/angular (@&#8203;angular/animations)</summary>\n\n### [`v17.0.3`](https://togithub.com/angular/angular/blob/HEAD/CHANGELOG.md#1703-2023-11-15)\n\n[Compare Source](https://togithub.com/angular/angular/compare/17.0.2...17.0.3)\n\n##### animations\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [f5872c9921](https://togithub.com/angular/angular/commit/f5872c992181a2c231890b83f92ec03ec9606802) | fix | prevent the AsyncAnimationRenderer from calling the delegate when there is no element. ([#&#8203;52570](https://togithub.com/angular/angular/pull/52570)) |\n\n##### core\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [6a1d4ed667](https://togithub.com/angular/angular/commit/6a1d4ed6670f5965a654e40997aa266a99925f50) | fix | handle non-container environment injector cases ([#&#8203;52774](https://togithub.com/angular/angular/pull/52774)) |\n| [5de7575be8](https://togithub.com/angular/angular/commit/5de7575be83b9829e65ad245034ee7ab1d966044) | fix | reset cached scope for components that were overridden using TestBed ([#&#8203;52916](https://togithub.com/angular/angular/pull/52916)) |\n\n##### http\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [7c066a4af4](https://togithub.com/angular/angular/commit/7c066a4af4faae25ee722c19576c63c3833066ee) | fix | Use the response `content-type` to set the blob `type`. ([#&#8203;52840](https://togithub.com/angular/angular/pull/52840)) |\n\n##### migrations\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [4e200bf13b](https://togithub.com/angular/angular/commit/4e200bf13b284fa89bbb0854cbb85dc8fe94d8bb) | fix | Add missing support for ngForOf ([#&#8203;52903](https://togithub.com/angular/angular/pull/52903)) |\n| [d033540d0f](https://togithub.com/angular/angular/commit/d033540d0f874a7a05b79c00e3151ed076fa71c3) | fix | Add support for bound versions of NgIfElse and NgIfThenElse ([#&#8203;52869](https://togithub.com/angular/angular/pull/52869)) |\n| [aa2d815648](https://togithub.com/angular/angular/commit/aa2d815648dbf3303cfe72bf976a4a87de406ee0) | fix | Add support for removing imports post migration ([#&#8203;52763](https://togithub.com/angular/angular/pull/52763)) |\n| [3831942771](https://togithub.com/angular/angular/commit/38319427711f4dab4e4d64ff48aecc7727085031) | fix | Fixes issue with multiple if elses with same template ([#&#8203;52863](https://togithub.com/angular/angular/pull/52863)) |\n| [e1f84a31dc](https://togithub.com/angular/angular/commit/e1f84a31dcac413251329c3b695a253234c6aae6) | fix | passed in paths will be respected in nx workspaces ([#&#8203;52796](https://togithub.com/angular/angular/pull/52796)) |\n\n<!-- CHANGELOG SPLIT MARKER -->\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy41MC4xIiwidXBkYXRlZEluVmVyIjoiMzcuNTAuMSIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->\n","Url":"https://github.com/angular/angular-cli/pull/26351","RelatedDescription":"Open PR \"build: update angular\" (#26351)"},{"Id":"1992032342","IsPullRequest":false,"CreatedAt":"2023-11-14T05:45:53","Actor":"destus90","Number":"26350","RawContent":null,"Title":"Esbuilder cannot localize 3rd party components","State":"open","Body":"### Command\n\nserve\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nI am start using the new angular builder and stuck with localizing an app. The texts are stayed in a source locale and the corresponding LOCALE_ID is not provided.\n\n### Minimal Reproduction\n\n1. git clone https://github.com/destus90/angular-esbuilder-kendo-localization\r\n2. npm install\r\n3. npm run start:fr\r\n4. Observe browser's console (the provided LOCALE_ID is 'en-US') and the texts are not translated into French\n\n### Exception or Error\n\n_No response_\n\n### Your Environment\n\n```text\n_                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 17.0.0\r\nNode: 20.7.0\r\nPackage Manager: npm 10.1.0\r\nOS: win32 x64\r\n\r\nAngular: 17.0.0\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... localize, platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.0\r\n@angular-devkit/build-angular   17.0.0\r\n@angular-devkit/core            17.0.0\r\n@angular-devkit/schematics      17.0.0\r\n@schematics/angular             17.0.0\r\nrxjs                            7.8.1\r\ntypescript                      4.9.5\r\nzone.js                         0.14.2\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/26350","RelatedDescription":"Open issue \"Esbuilder cannot localize 3rd party components\" (#26350)"},{"Id":"1992012265","IsPullRequest":false,"CreatedAt":"2023-11-14T05:20:36","Actor":"miguellira","Number":"26349","RawContent":null,"Title":"npm audit on a brand new v17 Angular CLI generated application returns vulnerabilities","State":"open","Body":"### Command\n\nnew\n\n### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n16.2.0\n\n### Description\n\nAfter installing the latest Angular CLI and creating an application via `ng new`, running `npm audit` reports vulnerabilities and the suggestion to fix would require a non v17 version of `@angular-devkit/build-angular`\n\n### Minimal Reproduction\n\n1. Install latest Angular CLI: `npm install -g @angular/cli`\r\n2. Create new application: `ng new npm-audit-fails --style scss --ssr false --skip-git`\r\n3. Change directory to new app: `cd npm-audit-fails`\r\n4. Run audit: `npm audit`\n\n### Exception or Error\n\n```text\n# npm audit report\r\n\r\naxios  0.8.1 - 1.5.1\r\nSeverity: moderate\r\nAxios Cross-Site Request Forgery Vulnerability - https://github.com/advisories/GHSA-wf5p-g6vw-rhxx\r\nfix available via `npm audit fix --force`\r\nWill install @angular-devkit/build-angular@16.2.10, which is a breaking change\r\nnode_modules/axios\r\n  localtunnel  >=1.9.0\r\n  Depends on vulnerable versions of axios\r\n  node_modules/localtunnel\r\n    browser-sync  >=2.24.0-rc1\r\n    Depends on vulnerable versions of localtunnel\r\n    node_modules/browser-sync\r\n      @angular-devkit/build-angular  >=17.0.0-next.0\r\n      Depends on vulnerable versions of browser-sync\r\n      node_modules/@angular-devkit/build-angular\r\n\r\n4 moderate severity vulnerabilities\r\n\r\nTo address all issues (including breaking changes), run:\r\n  npm audit fix --force\r\n```\n```\n\n\n### Your Environment\n\n```text\nNode.js version v21.1.0 detected.\r\nOdd numbered Node.js versions will not enter LTS status and should not be used for production. For more information, please see https://nodejs.org/en/about/previous-releases/.\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 17.0.0\r\nNode: 21.1.0 (Unsupported)\r\nPackage Manager: npm 10.2.3\r\nOS: darwin arm64\r\n\r\nAngular: 17.0.2\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.0\r\n@angular-devkit/build-angular   17.0.0\r\n@angular-devkit/core            17.0.0\r\n@angular-devkit/schematics      17.0.0\r\n@angular/cli                    17.0.0\r\n@schematics/angular             17.0.0\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.2\r\n    \r\nWarning: The current version of Node (21.1.0) is not supported by Angular.\r\n```\n```\n\n\n### Anything else relevant?\n\nI noticed that the report somehow references version `>=17.0.0-next.0` of `@angular-devkit/build-angular` instead of simply v17.","Url":"https://github.com/angular/angular-cli/issues/26349","RelatedDescription":"Open issue \"npm audit on a brand new v17 Angular CLI generated application returns vulnerabilities\" (#26349)"},{"Id":"1990413770","IsPullRequest":false,"CreatedAt":"2023-11-14T01:38:52","Actor":"cexbrayat","Number":"26342","RawContent":null,"Title":"application builder: error at runtime with angular-highcharts","State":"closed","Body":"### Command\r\n\r\nbuild\r\n\r\n### Is this a regression?\r\n\r\n- [x] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nWHen using the application builder, an application using `angular-highcharts` works well with `ng serve` but has a runtime error when built with `ng build`.\r\n\r\n\r\n\r\n### Minimal Reproduction\r\n\r\nThe following repo https://github.com/cexbrayat/ng-highcharts is a minimal reproduction built with:\r\n\r\n```\r\nnpx @angular/cli new ng-highcharts --defaults --no-standalone --no-routing --skip-tests\r\nnpm i --save --save-exact highcharts@11.2.0 angular-highcharts@16.0.0\r\n# add hello world described in angular-highcharts readme\r\n# https://github.com/cebor/angular-highcharts/tree/master#using-highcharts-modules\r\n```\r\n\r\n`ng serve` and `ng serve --configuration=production` work fine and display the chart.\r\n`ng build && http-server dist/ng-highcharts/browser` throws at runtime (no build error) because the loading of the Highcharts module no longer works.\r\n`ng build --configuration=development && http-server dist/ng-highcharts/browser` doesn't work as well (stack trace below)\r\n\r\nUsing the `browser` builder fixes the issue.\r\n\r\n\r\n\r\n### Exception or Error\r\n\r\n```text\r\nTypeError: object is not a function\r\n    at Array.forEach (<anonymous>)\r\n    at angular-highcharts.mjs:286:57\r\n    at Array.forEach (<anonymous>)\r\n    at _ChartService.initModules (angular-highcharts.mjs:285:25)\r\n    at new _ChartModule (angular-highcharts.mjs:319:15)\r\n    at Object.ChartModule_Factory [as useFactory] (angular-highcharts.mjs:323:16)\r\n    at Object.factory (core.mjs:6119:32)\r\n    at core.mjs:6026:33\r\n    at runInInjectorProfilerContext (core.mjs:871:5)\r\n    at R3Injector.hydrate (core.mjs:6025:9)\r\n```\r\n\r\n\r\n### Your Environment\r\n\r\n```text\r\nAngular CLI: 17.0.0\r\nNode: 18.18.2\r\nPackage Manager: npm 9.7.1\r\nOS: darwin arm64\r\n\r\nAngular: 17.0.2\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.0\r\n@angular-devkit/build-angular   17.0.0\r\n@angular-devkit/core            17.0.0\r\n@angular-devkit/schematics      17.0.0\r\n@angular/cli                    17.0.0\r\n@schematics/angular             17.0.0\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.2\r\n```\r\n\r\n\r\n### Anything else relevant?\r\n\r\nThe `browser` builder does not have this issue","Url":"https://github.com/angular/angular-cli/issues/26342","RelatedDescription":"Closed issue \"application builder: error at runtime with angular-highcharts\" (#26342)"},{"Id":"1991465608","IsPullRequest":false,"CreatedAt":"2023-11-13T20:53:09","Actor":"ln-e","Number":"26347","RawContent":null,"Title":"Two output files share the same path but have different contents: media/img.svg [plugin angular-compiler]","State":"open","Body":"### Command\n\nserve\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nIt is not possible to import in SCSS two or more files with the same name but located in different folders when using new esbuild builder`@angular-devkit/build-angular:application` during serve.\r\n\r\n```\r\n.main {\r\n  background: url('../assets/subdir1/img.svg');\r\n}\r\n.content {\r\n  background: url('../assets/subdir2/img.svg');\r\n}\r\n```\r\n\r\nAnd problem appears only during serve, production build works as expected: its generate 2 different images in media folder with different hashes.\r\nThe only possible workaround I found is adding `\"outputHashing\": \"media\"` to development configuration.\r\n\n\n### Minimal Reproduction\n\nhttps://github.com/ln-e/ng17-image-import-bug\r\n\r\n1. Clone repo\r\n2. `npm run start`\r\n\n\n### Exception or Error\n\n```text\n✘ [ERROR] Two output files share the same path but have different contents: media/img.svg [plugin angular-compiler]\r\n\r\n\r\nApplication bundle generation failed. [1.409 seconds]\n```\n\n\n### Your Environment\n\n```text\nAngular CLI: 17.0.0\r\nNode: 18.16.1\r\nPackage Manager: npm 9.5.1\r\nOS: darwin arm64\r\n\r\nAngular: 17.0.2\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.0\r\n@angular-devkit/build-angular   17.0.0\r\n@angular-devkit/core            17.0.0\r\n@angular-devkit/schematics      17.0.0\r\n@angular/cli                    17.0.0\r\n@schematics/angular             17.0.0\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.2\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/26347","RelatedDescription":"Open issue \"Two output files share the same path but have different contents: media/img.svg [plugin angular-compiler]\" (#26347)"},{"Id":"1990100449","IsPullRequest":true,"CreatedAt":"2023-11-13T20:00:49","Actor":"angular-robot","Number":"26341","RawContent":null,"Title":"build: lock file maintenance","State":"closed","Body":"This PR contains the following updates:\n\n| Update | Change |\n|---|---|\n| lockFileMaintenance | All locks refreshed |\n\n🔧 This Pull Request updates lock files to use the latest dependency versions.\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - \"before 4am on monday\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy41MC4xIiwidXBkYXRlZEluVmVyIjoiMzcuNTAuMSIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->\n","Url":"https://github.com/angular/angular-cli/pull/26341","RelatedDescription":"Closed or merged PR \"build: lock file maintenance\" (#26341)"},{"Id":"1990500259","IsPullRequest":false,"CreatedAt":"2023-11-13T18:59:29","Actor":"cipchk","Number":"26343","RawContent":null,"Title":"Can't be set '/' proxy path in Angular17","State":"closed","Body":"### Command\n\nserve\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nAngular start fails when setting a '/' proxy path. \r\n\r\nScreenshot: \r\n\r\n<img width=\"1181\" alt=\"image\" src=\"https://github.com/angular/angular-cli/assets/2987467/21fb97f1-3a88-496e-9056-46d5f1159693\">\r\n\r\nIt looks like Angular returns the proxy data directly after startup, but in fact `proxyConfig` should only be for `HttpClient`.\n\n### Minimal Reproduction\n\n1. Create new angular\r\n2. Add `proxy.conf.json` config: \r\n\r\n```json\r\n{\r\n  \"/\": {\r\n    \"target\": \"http://localhost:9103/\",\r\n    \"secure\": false,\r\n    \"changeOrigin\": true,\r\n    \"headers\": { \"Connection\": \"keep-alive\" }\r\n  }\r\n}\r\n```\r\n\r\n3. Add `\"proxyConfig\": \"proxy.conf.json\"` in `angular.json`\r\n\r\n```diff\r\n\"serve\": {\r\n  \"configurations\": {\r\n\t\t\"development\": {\r\n+\t\t\t\"proxyConfig\": \"proxy.conf.json\"\r\n\t\t}\r\n  }\r\n}\r\n```\r\n\r\n4. Update `app.config.ts`\r\n\r\n```ts\r\nimport {\r\n  APP_INITIALIZER,\r\n  ApplicationConfig,\r\n  Injectable,\r\n  inject,\r\n} from '@angular/core';\r\nimport { provideRouter } from '@angular/router';\r\n\r\nimport { routes } from './app.routes';\r\nimport { HttpClient, provideHttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nclass StartupService {\r\n  private http = inject(HttpClient);\r\n\r\n  load(): Observable<any> {\r\n    return this.http.get('/');\r\n  }\r\n}\r\n\r\nexport const appConfig: ApplicationConfig = {\r\n  providers: [\r\n    provideRouter(routes),\r\n    provideHttpClient(),\r\n    StartupService,\r\n    {\r\n      provide: APP_INITIALIZER,\r\n      useFactory: (startupService: StartupService) => () =>\r\n        startupService.load(),\r\n      deps: [StartupService],\r\n      multi: true,\r\n    },\r\n  ],\r\n};\r\n```\n\n### Exception or Error\n\n_No response_\n\n### Your Environment\n\n```text\nAngular CLI: 17.0.0\r\nNode: 18.16.0\r\nPackage Manager: yarn 1.22.19\r\nOS: darwin x64\r\n\r\nAngular: 17.0.1\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.0\r\n@angular-devkit/build-angular   17.0.0\r\n@angular-devkit/core            17.0.0\r\n@angular-devkit/schematics      17.0.0\r\n@angular/cli                    17.0.0\r\n@schematics/angular             17.0.0\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.2\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/26343","RelatedDescription":"Closed issue \"Can't be set '/' proxy path in Angular17\" (#26343)"},{"Id":"1990565441","IsPullRequest":false,"CreatedAt":"2023-11-13T13:40:45","Actor":"Burgov","Number":"26344","RawContent":null,"Title":"[@angular-devkit/build-angular] new application builder: TypeError: Cannot convert undefined or null to object on SSR page request","State":"closed","Body":"### Command\n\nserve\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nI'm trying to get our SSR application to build and run with the new builder, but I'm running into the following error:\r\n\r\n```\r\n1:23:07 PM [vite] Error when evaluating SSR module /chunk-XXCRCJTJ.mjs:\r\n|- TypeError: Cannot convert undefined or null to object\r\n    at Function.getPrototypeOf (<anonymous>)\r\n    at node_modules/whatwg-url/lib/utils.js (/Users/bart/workspace/sfindr/.angular/vite-root/frontend/chunk-XXCRCJTJ.mjs:17342:41)\r\n    at __require2 (/Users/bart/workspace/sfindr/.angular/vite-root/frontend/chunk-CKA4B3LR.mjs:58:50)\r\n    at node_modules/whatwg-url/lib/URL.js (/Users/bart/workspace/sfindr/.angular/vite-root/frontend/chunk-XXCRCJTJ.mjs:19899:17)\r\n    at __require2 (/Users/bart/workspace/sfindr/.angular/vite-root/frontend/chunk-CKA4B3LR.mjs:58:50)\r\n    at node_modules/whatwg-url/webidl2js-wrapper.js (/Users/bart/workspace/sfindr/.angular/vite-root/frontend/chunk-XXCRCJTJ.mjs:20276:16)\r\n    at __require2 (/Users/bart/workspace/sfindr/.angular/vite-root/frontend/chunk-CKA4B3LR.mjs:58:50)\r\n    at node_modules/whatwg-url/index.js (/Users/bart/workspace/sfindr/.angular/vite-root/frontend/chunk-XXCRCJTJ.mjs:20290:9)\r\n    at __require2 (/Users/bart/workspace/sfindr/.angular/vite-root/frontend/chunk-CKA4B3LR.mjs:58:50)\r\n    at node_modules/jsdom/lib/api.js (/Users/bart/workspace/sfindr/.angular/vite-root/frontend/chunk-XXCRCJTJ.mjs:136128:21)\r\n```\r\n\r\nThe line it crashes on is:\r\n\r\n```javascript\r\nconst AsyncIteratorPrototype = Object.getPrototypeOf(Object.getPrototypeOf(async function* () {}).prototype);\r\n```\r\n\r\nI added some debug code, and `Object.getPrototypeOf(async function* () {})` returns an empty object, so `Object.getPrototypeOf(async function* () {}).prototype` is undefined, after which it crashes on the 2nd Object.getPrototypeOf call.\r\n\r\nWhat could be the cause of this issue?\n\n### Minimal Reproduction\n\nI'm unable to reproduce this in an isolated environment, and unfortunately cannot share our private repo\n\n### Exception or Error\n\n_No response_\n\n### Your Environment\n\n```text\nAngular CLI: 17.0.0\r\nNode: 18.17.1\r\nPackage Manager: npm 9.8.1\r\nOS: darwin arm64\r\n\r\nAngular: 17.0.2\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... platform-server, router, service-worker\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.0\r\n@angular-devkit/build-angular   17.0.0\r\n@angular-devkit/core            17.0.0\r\n@angular-devkit/schematics      17.0.0\r\n@angular/cdk                    17.0.0\r\n@angular/cli                    17.0.0\r\n@angular/fire                   16.0.0\r\n@angular/google-maps            17.0.0\r\n@angular/material               17.0.0\r\n@angular/ssr                    17.0.0\r\n@schematics/angular             17.0.0\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nwebpack                         5.88.2\r\nzone.js                         0.14.2\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/26344","RelatedDescription":"Closed issue \"[@angular-devkit/build-angular] new application builder: TypeError: Cannot convert undefined or null to object on SSR page request\" (#26344)"},{"Id":"1990051658","IsPullRequest":true,"CreatedAt":"2023-11-13T07:41:04","Actor":"JeanMeche","Number":"26340","RawContent":null,"Title":"refactor(schematics): remove `CommonModule`","State":"open","Body":"The template now uses the new control flow syntax","Url":"https://github.com/angular/angular-cli/pull/26340","RelatedDescription":"Open PR \"refactor(schematics): remove `CommonModule`\" (#26340)"}],"ResultType":"GitHubIssue"},"material2-Issues":{"Issues":[{"Id":"1995852257","IsPullRequest":true,"CreatedAt":"2023-11-16T01:11:41","Actor":"mmalerba","Number":"28131","RawContent":null,"Title":"feat(material-experimental/theming): add M3 grid-list support","State":"open","Body":"","Url":"https://github.com/angular/components/pull/28131","RelatedDescription":"Open PR \"feat(material-experimental/theming): add M3 grid-list support\" (#28131)"},{"Id":"1993432190","IsPullRequest":true,"CreatedAt":"2023-11-15T22:41:34","Actor":"mmalerba","Number":"28122","RawContent":null,"Title":"feat(material-experimental/theming): add M3 list support","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/28122","RelatedDescription":"Closed or merged PR \"feat(material-experimental/theming): add M3 list support\" (#28122)"},{"Id":"1988519112","IsPullRequest":true,"CreatedAt":"2023-11-15T22:38:53","Actor":"mmalerba","Number":"28109","RawContent":null,"Title":"fix(material-experimental/theming): Update M3 palettes","State":"closed","Body":"Last time I checked, the M3 theme generator generated the same neutral palette regardless of the primary color used. That didn't really make much sense, because it caused the neutral colors to always have a purplish tint. It seems like maybe a bug that was fixed, because now it generates different neutral colors depending on the primary.\r\n\r\nI've updated our pre-defined palettes to capture these different neutrals. I created a script to convert the MDC theme builder exports to our palette CSS format. I'm not including it as part of this commit, but just FYI that it'll be cheap to add to / update our predefined palettes in the future. If we want the script checked in I can clean it up and make a separate PR for it.","Url":"https://github.com/angular/components/pull/28109","RelatedDescription":"Closed or merged PR \"fix(material-experimental/theming): Update M3 palettes\" (#28109)"},{"Id":"1993216990","IsPullRequest":true,"CreatedAt":"2023-11-15T22:33:49","Actor":"mmalerba","Number":"28121","RawContent":null,"Title":"feat(material-experimental/theming): add M3 form-field & input support","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/28121","RelatedDescription":"Closed or merged PR \"feat(material-experimental/theming): add M3 form-field & input support\" (#28121)"},{"Id":"1995457918","IsPullRequest":false,"CreatedAt":"2023-11-15T19:50:51","Actor":"wagnermaciel","Number":"28130","RawContent":null,"Title":"bug(mat-slider): mobile device scrolling can break slider internal state","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nScrolling on a mobile device can break the mat-slider's internal state such that the slider still thinks it is in an active dragging state when it is not\r\n\r\nThe root cause of the issue is that for some reason, the pointerup event never gets triggered when the user stops scrolling\n\n### Reproduction\n\n- Visit any webpage that has a mat-slider\r\n- Scroll down with the pointerdown originating from the mat-slider\r\n- Stop scrolling\n\n### Expected Behavior\n\nThe mat-slider is in an inactive state\n\n### Actual Behavior\n\nThe mat-slider is still in the active state\n\n### Environment\n\n- Angular: 17\r\n- CDK/Material: 17\r\n- Browser(s): chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): ios\r\n","Url":"https://github.com/angular/components/issues/28130","RelatedDescription":"Open issue \"bug(mat-slider): mobile device scrolling can break slider internal state\" (#28130)"},{"Id":"1995321824","IsPullRequest":false,"CreatedAt":"2023-11-15T18:38:19","Actor":"tony-molumby","Number":"28129","RawContent":null,"Title":"hacky(COMPONENT): Dialog title :before psuedo element","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nWe are doing a migration to Material Angular 16 and when attempting to style the `mat-dialog-title` of a dialog.  There is a `:before` pseudo element which has an empty string as content, and I believe the purpose of this element is to set the height of the title element with the `mat-dialog-title` directive.  Is this correct?  This implementation seems very hacky to me and flexbox `justify-content` does not work property because this pseudo element is considered an element within a flex container, and therefore the developer either needs to create a new flex container within the `mat-dialog-title` or remove the content from the `:before` psuedo element.  Am I not not thinking of this correctly and is there another way to use `justify-content` which works with this psuedo element?\n\n### Reproduction\n\nStackBlitz link: \r\nSteps to reproduce:\r\n1. \r\n2.\r\n\n\n### Expected Behavior\n\nIf the `mat-dialog-title` container is a flex container, `justify-content: space-between` works correctly.\n\n### Actual Behavior\n\n`justify-content: space-between` adds space between the psuedo element which has an empty string as content and the next element within the `mat-dialog-title`\n\n### Environment\n\n- Angular: 16.2.10\r\n- CDK/Material: 16.2.9\r\n- Browser(s): Firefox\r\n- Operating System (e.g. Windows, macOS, Ubuntu): macOS\r\n","Url":"https://github.com/angular/components/issues/28129","RelatedDescription":"Open issue \"hacky(COMPONENT): Dialog title :before psuedo element\" (#28129)"},{"Id":"1994762207","IsPullRequest":false,"CreatedAt":"2023-11-15T13:17:04","Actor":"rpanadero","Number":"28128","RawContent":null,"Title":"docs-bug(theming): view encapsulation and theming own Angular components?","State":"open","Body":"### Documentation Feedback\n\nI don't find clear information about how to theme my own Angular components. I have just found this documentation: \r\n\r\nhttps://material.angular.io/guide/theming-your-components\r\n\r\nIn the next example, image I'm creating a custom carousel Angular component which has a theming scss file.\r\n\r\n```\r\n// _carousel-theme.scss\r\n\r\n@use 'sass:map';\r\n@use '@angular/material' as mat;\r\n\r\n@mixin color($theme) {\r\n  .my-carousel-button {\r\n    // Read the 500 hue from the primary color palette.\r\n    color: mat.get-theme-color($theme, primary, 500);\r\n  }\r\n}\r\n\r\n@mixin typography($theme) {\r\n  .my-carousel {\r\n    // Get the headline font from the theme.\r\n    font: mat.get-theme-typography($theme, headline-1);\r\n  }\r\n}\r\n\r\n@mixin theme($theme) {\r\n  @if mat.theme-has($theme, color) {\r\n    @include color($theme);\r\n  }\r\n\r\n  @if mat.theme-has($theme, typography) {\r\n    @include typography($theme);\r\n  }\r\n}\r\n```\r\n\r\n```\r\n@use '@angular/material' as mat;\r\n@use './path/to/carousel-theme' as carousel;\r\n\r\n@include mat.core();\r\n\r\n$my-primary: mat.define-palette(mat.$indigo-palette, 500);\r\n$my-accent: mat.define-palette(mat.$pink-palette, A200, A100, A400);\r\n\r\n$my-theme: mat.define-light-theme((\r\n color: (\r\n   primary: $my-primary,\r\n   accent: $my-accent,\r\n ),\r\n typography: mat.define-typography-config(\r\n    $font-family: serif,\r\n  );\r\n));\r\n\r\n@include mat.all-component-themes($my-theme);\r\n@include carousel.theme($my-theme);\r\n```\r\n\r\nHowever, this approach doesn't take into account Angular view encapsulation at component level since 'my-carousel' class styles are global after '@include' them in 'styles.scss' file. Therefore, if I use 'my-carousel' CSS class in some HTML element of my application, apart from 'carousel' Angular component, the theming is applied.\r\n\r\nCould you provide me with best practices to deal with this scenario?\r\n\r\nOn the other hand, is it a good practice to use `mat-*` classes in component html? I don't find docs on this, so I guess not.\r\n\r\nThanks in advance to everyone!\n\n### Affected documentation page\n\nhttps://material.angular.io/guide/theming-your-components","Url":"https://github.com/angular/components/issues/28128","RelatedDescription":"Open issue \"docs-bug(theming): view encapsulation and theming own Angular components?\" (#28128)"},{"Id":"1994424572","IsPullRequest":false,"CreatedAt":"2023-11-15T09:51:07","Actor":"Burgov","Number":"28127","RawContent":null,"Title":"bug(Dialog): cannot use material components within dialogs","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nOur application used to be an AppModule, I'm now rebuilding it to a standalone AppComponent and using the modern way of bootstrapping applications.\r\n\r\nI'm running into a weird issue though. Cdk components work fine throughout the application, except when I use them in MatDialogs. Then, I get errors like these:\r\n\r\n```\r\nNullInjectorError: No provider for InjectionToken cdk-connected-overlay-scroll-strategy!\r\n```\r\n\r\nWhat could be the cause for this?\n\n### Reproduction\n\nStackBlitz link: \r\nSteps to reproduce:\r\n1. \r\n2.\r\n\n\n### Expected Behavior\n\n-\n\n### Actual Behavior\n\n-\n\n### Environment\n\n```\r\nAngular CLI: 17.0.0\r\nNode: 18.17.1\r\nPackage Manager: npm 9.8.1\r\nOS: darwin arm64\r\n\r\nAngular: 17.0.2\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... platform-server, router, service-worker\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.0\r\n@angular-devkit/build-angular   17.0.0\r\n@angular-devkit/core            17.0.0\r\n@angular-devkit/schematics      17.0.0\r\n@angular/cdk                    17.0.0\r\n@angular/cli                    17.0.0\r\n@angular/fire                   16.0.0\r\n@angular/google-maps            17.0.0\r\n@angular/material               17.0.0\r\n@angular/ssr                    17.0.0\r\n@schematics/angular             17.0.0\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nwebpack                         5.88.2\r\nzone.js                         0.14.2\r\n```","Url":"https://github.com/angular/components/issues/28127","RelatedDescription":"Open issue \"bug(Dialog): cannot use material components within dialogs\" (#28127)"},{"Id":"1993513674","IsPullRequest":true,"CreatedAt":"2023-11-15T08:52:37","Actor":"essjay05","Number":"28123","RawContent":null,"Title":"docs: update CODE_REVIEWS.md bullet formatting","State":"closed","Body":"Update bulleted points in CODE_REVIEWS.md to remove '.' at the end of each point to be cohesive with the CONTRIBUTING.md guidelines.","Url":"https://github.com/angular/components/pull/28123","RelatedDescription":"Closed or merged PR \"docs: update CODE_REVIEWS.md bullet formatting\" (#28123)"},{"Id":"1993925503","IsPullRequest":true,"CreatedAt":"2023-11-15T02:42:53","Actor":"mmalerba","Number":"28126","RawContent":null,"Title":"feat(material-experimental/theming): add M3 icon support","State":"open","Body":"","Url":"https://github.com/angular/components/pull/28126","RelatedDescription":"Open PR \"feat(material-experimental/theming): add M3 icon support\" (#28126)"},{"Id":"1993818053","IsPullRequest":true,"CreatedAt":"2023-11-15T00:41:09","Actor":"mmalerba","Number":"28125","RawContent":null,"Title":"feat(material-experimental/theming): add M3 sidenav support","State":"open","Body":"","Url":"https://github.com/angular/components/pull/28125","RelatedDescription":"Open PR \"feat(material-experimental/theming): add M3 sidenav support\" (#28125)"},{"Id":"1993698868","IsPullRequest":true,"CreatedAt":"2023-11-15T00:01:08","Actor":"zarend","Number":"28124","RawContent":null,"Title":"refactor(cdk/tree): simplify code in lifecycle hooks","State":"closed","Body":"Refactor CdkTree implementation to simplify code in lifecycle hooks. Create a RenderingData type definition to simplify the Tree's rendering pipeline.\r\n\r\nThe render pipeline looks like this. It has two entry points ngAfterContentChecked and whener the datasource is switched.\r\n\r\n1. ngAfterContentChecked OR datasource changed\r\n\r\n2. call _subscribeToDataChanges\r\n\r\nFrom here, the pipeline diverges. Tree subscribes to changes in the datasource and expansion state. From there, the pipeline goes on two paths: emit changes to expansion state, and render the changes from the datasource.\r\n\r\nAdd RenderingData type to make it more clear what stages are in the pipeline.\r\n\r\nThis commit message will be squashed away.","Url":"https://github.com/angular/components/pull/28124","RelatedDescription":"Closed or merged PR \"refactor(cdk/tree): simplify code in lifecycle hooks\" (#28124)"},{"Id":"1992947022","IsPullRequest":true,"CreatedAt":"2023-11-14T15:11:32","Actor":"angular-robot","Number":"28120","RawContent":null,"Title":"build: update angular shared dev-infra code","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@angular/build-tooling](https://togithub.com/angular/dev-infra-private-build-tooling-builds) | devDependencies | digest | `96ad5e1` -> `47bc4fd` |\n| [@angular/ng-dev](https://togithub.com/angular/dev-infra-private-ng-dev-builds) | devDependencies | digest | `509294c` -> `8570f87` |\n| angular/dev-infra | action | digest | `43f424f` -> `d90597f` |\n\n🔡 If you wish to disable git hash updates, add `\":disableDigestUpdates\"` to the extends array in your config.\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR is behind base branch, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy41MC4xIiwidXBkYXRlZEluVmVyIjoiMzcuNTAuMSIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->\n","Url":"https://github.com/angular/components/pull/28120","RelatedDescription":"Open PR \"build: update angular shared dev-infra code\" (#28120)"},{"Id":"1990384010","IsPullRequest":false,"CreatedAt":"2023-11-14T11:55:36","Actor":"wellmann1","Number":"28113","RawContent":null,"Title":"autoComplete: requireSelection not clearing selection after chaning value ","State":"closed","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n16.2.0\n\n### Description\n\nReproduceable:\r\nSelect something on dropdown, delete some characters (unfocusing doesn't matter), go away, value is not cleared\r\nhttps://next.material.angular.io/components/autocomplete/overview#autocomplete-require-selection\r\n\r\nPrevious version example:\r\nhttps://stackblitz.com/edit/components-issue-2rjw7x\r\n\r\nAlso on stackblitz example, there is problem, when you select value and not going away from control (focus are not changed) and then deleting 1 character and going away (unfocus), then value is not cleared.\r\nSelecting Arnoldo, deleting last character o, going away (unfocus). Selection still is object of Arnoldo\n\n### Reproduction\n\nStackBlitz link: https://next.material.angular.io/components/autocomplete/overview#autocomplete-require-selection\r\nSteps to reproduce:\r\n1. Select item on autocomplete\r\n2. Open the autocomplete, change its value, but doesn't select anything\r\n3. Unfocus autocomplete, value is not cleared\r\n\n\n### Expected Behavior\n\nAfter going away from autocomplete, but not selecting something, but chancing input value, model value should be cleared\n\n### Actual Behavior\n\nValue is not cleared\n\n### Environment\n\n- Angular:\r\n- CDK/Material: 17.0.0\r\n- Browser(s):\r\n- Operating System (e.g. Windows, macOS, Ubuntu):\r\n","Url":"https://github.com/angular/components/issues/28113","RelatedDescription":"Closed issue \"autoComplete: requireSelection not clearing selection after chaning value \" (#28113)"},{"Id":"1992193915","IsPullRequest":true,"CreatedAt":"2023-11-14T11:55:35","Actor":"crisbeto","Number":"28119","RawContent":null,"Title":"fix(material/autocomplete): regression in requireSelection when options are filtered","State":"closed","Body":"In #27781 the call to capture the input value was moved into the root of `_attachOverlay` in order to capture it even when there are no options. This is problematic, because `_attachOverlay` is called as the user is typing which basically breaks the `requireSelection` feature.\r\n\r\nThese changes resolve the issue while preserving the original fix by only capturing the value when the overlay is actually attached.\r\n\r\nFixes #28113.","Url":"https://github.com/angular/components/pull/28119","RelatedDescription":"Closed or merged PR \"fix(material/autocomplete): regression in requireSelection when options are filtered\" (#28119)"},{"Id":"1991783669","IsPullRequest":false,"CreatedAt":"2023-11-14T08:10:29","Actor":"maxwell60701","Number":"28118","RawContent":null,"Title":"bug(MatAutoComplete): filterOptions always use first element","State":"closed","Body":"### Description\r\n\r\nI wrote two mat-autocomplete controls,but the filterOptions always use first element\r\n\r\nhttps://stackblitz.com/edit/zdy1sg-q7hzgp?file=src%2Fexample%2Fautocomplete-auto-active-first-option-example.html\r\n\r\n\r\n\r\n\r\n### Reproduction\r\n\r\nStackBlitz link: https://stackblitz.com/edit/zdy1sg-q7hzgp?file=src%2Fexample%2Fautocomplete-auto-active-first-option-example.html\r\n\r\nSteps to reproduce:\r\n1. two different filterOptions,but always use first one\r\n\r\n\r\n\r\n### Expected Behavior\r\n\r\nfilterOptions are correct\r\n\r\n### Actual Behavior\r\n\r\nfilterOptions always use first one\r\n\r\n### Environment\r\n\r\n- Angular: 14,16\r\n- CDK/Material:16\r\n- Browser(s):edge,chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu):Windows\r\n","Url":"https://github.com/angular/components/issues/28118","RelatedDescription":"Closed issue \"bug(MatAutoComplete): filterOptions always use first element\" (#28118)"},{"Id":"1991337594","IsPullRequest":true,"CreatedAt":"2023-11-13T19:33:38","Actor":"sasidharansd","Number":"28117","RawContent":null,"Title":"fix(material/expansion): fix mat-expansion-indicator is slightly off …","State":"open","Body":"…center\r\n\r\nfixes bug mat-expansion-indicator is slightly off center. Added flex to the mat-expansion indicator aligns the indicator center with the the sibling elements.\r\n\r\nFixes #28037\r\n\r\n\r\nBefore: \r\n<img width=\"1427\" alt=\"bug expansion panel\" src=\"https://github.com/angular/components/assets/47988127/dd51bb79-4af1-4b51-a4ef-3d89949c9331\">\r\n\r\nAfter Fix:\r\n<img width=\"1302\" alt=\"fix expansion panel\" src=\"https://github.com/angular/components/assets/47988127/d7e4fe3a-e2ec-4f21-8a64-d33e9485a316\">\r\n<img width=\"1336\" alt=\"Screenshot 2023-11-14 at 12 41 13 AM\" src=\"https://github.com/angular/components/assets/47988127/c746ce3e-68cb-411a-8b95-3884ee887a7f\">\r\n\r\n<img width=\"1440\" alt=\"Screenshot 2023-11-14 at 12 42 34 AM\" src=\"https://github.com/angular/components/assets/47988127/99b96ff3-cf95-4e37-9f44-34e51570bab5\">\r\n","Url":"https://github.com/angular/components/pull/28117","RelatedDescription":"Open PR \"fix(material/expansion): fix mat-expansion-indicator is slightly off …\" (#28117)"},{"Id":"1986574496","IsPullRequest":true,"CreatedAt":"2023-11-13T18:12:13","Actor":"mmalerba","Number":"28103","RawContent":null,"Title":"feat(material-experimental/theming): add M3 table support","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/28103","RelatedDescription":"Closed or merged PR \"feat(material-experimental/theming): add M3 table support\" (#28103)"},{"Id":"1986574854","IsPullRequest":true,"CreatedAt":"2023-11-13T18:11:49","Actor":"mmalerba","Number":"28104","RawContent":null,"Title":"feat(material-experimental/theming): add M3 stepper support","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/28104","RelatedDescription":"Closed or merged PR \"feat(material-experimental/theming): add M3 stepper support\" (#28104)"},{"Id":"1986575264","IsPullRequest":true,"CreatedAt":"2023-11-13T18:09:36","Actor":"mmalerba","Number":"28105","RawContent":null,"Title":"feat(material-experimental/theming): add M3 sort support","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/28105","RelatedDescription":"Closed or merged PR \"feat(material-experimental/theming): add M3 sort support\" (#28105)"},{"Id":"1990595829","IsPullRequest":false,"CreatedAt":"2023-11-13T17:04:50","Actor":"hkashlan","Number":"28115","RawContent":null,"Title":"feat(COMPONENT): MatSuffix stand alone","State":"closed","Body":"### Feature Description\r\n\r\nMatSuffix standalone\r\n\r\n### Use Case\r\n\r\nIn my controls I always having a clear button as a suffix ex:\r\n\r\n```\r\n            <mat-form-field>\r\n                <mat-label>any</mat-label>\r\n                <mat-select formControlName=\"age\">\r\n                     ....\r\n                </mat-select>\r\n                <button mat-icon-button matIconSuffix\r\n                        *ngIf=\"form.controls.age.value\"\r\n                        (click)=\"form.controls.age.reset()\">\r\n                    <mat-icon svgIcon=\"ak-close\"></mat-icon>\r\n                </button>\r\n            </mat-form-field>\r\n```\r\n\r\nI was trying to replace this with a component to not repeat the code, so I created app-clear-value component \r\nso now the code\r\n```\r\n            <mat-form-field>\r\n                <mat-label>any</mat-label>\r\n                <mat-select formControlName=\"age\">\r\n                     ....\r\n                </mat-select>\r\n                <app-clear-value matIconSuffix />\r\n            </mat-form-field>\r\n```\r\nnow as you can see  `app-clear-value` is always matIconSuffix,\r\n\r\nI tried the host MatSuffix but it was saying `Host directive MatSuffix must be standalone`\r\n![image](https://github.com/angular/components/assets/4923194/1f7f40cf-cfd0-4a27-98ac-7aeeae155b48)\r\n","Url":"https://github.com/angular/components/issues/28115","RelatedDescription":"Closed issue \"feat(COMPONENT): MatSuffix stand alone\" (#28115)"},{"Id":"1989300962","IsPullRequest":true,"CreatedAt":"2023-11-13T15:14:04","Actor":"crisbeto","Number":"28111","RawContent":null,"Title":"docs(material/snack-bar): adjust docs for standalone","State":"closed","Body":"Now that `@angular/material/snack-bar` was reworked for standalone, we don't have to import the `MatSnackBarModule` everywhere.","Url":"https://github.com/angular/components/pull/28111","RelatedDescription":"Closed or merged PR \"docs(material/snack-bar): adjust docs for standalone\" (#28111)"},{"Id":"1990858275","IsPullRequest":true,"CreatedAt":"2023-11-13T15:09:18","Actor":"sasidharansd","Number":"28116","RawContent":null,"Title":"fix(material/checkbox): tooltip not shown in checkbox while keyboard navigation","State":"open","Body":"fix(material/checkbox): tooltip not shown in checkbox while keyboard navigation\r\n\r\nFixes bug in the Angular Material `checkbox` where the tooltip was not shown is not shown on keyboard navigation. This is because the checkbox was not focused when switching using keyboard navigation\r\n\r\nFixes #28107","Url":"https://github.com/angular/components/pull/28116","RelatedDescription":"Open PR \"fix(material/checkbox): tooltip not shown in checkbox while keyboard navigation\" (#28116)"},{"Id":"1990440317","IsPullRequest":true,"CreatedAt":"2023-11-13T14:22:22","Actor":"crisbeto","Number":"28114","RawContent":null,"Title":"build: update tooling packages to final","State":"closed","Body":"Updates the Tooling packages to the final v17 version.","Url":"https://github.com/angular/components/pull/28114","RelatedDescription":"Closed or merged PR \"build: update tooling packages to final\" (#28114)"},{"Id":"1988827236","IsPullRequest":true,"CreatedAt":"2023-11-13T14:21:40","Actor":"crisbeto","Number":"28110","RawContent":null,"Title":"docs(material/dialog): use standalone imports in docs","State":"closed","Body":"Now that `@angular/material/dialog` was reworked for standalone, we can update the docs not to have to import the `MatDialogModule` anymore.","Url":"https://github.com/angular/components/pull/28110","RelatedDescription":"Closed or merged PR \"docs(material/dialog): use standalone imports in docs\" (#28110)"},{"Id":"1987117274","IsPullRequest":true,"CreatedAt":"2023-11-13T14:20:35","Actor":"crisbeto","Number":"28106","RawContent":null,"Title":"fix(material/schematics): switch to new control flow","State":"closed","Body":"Reworks our schematics to use the new control from Angular v17.","Url":"https://github.com/angular/components/pull/28106","RelatedDescription":"Closed or merged PR \"fix(material/schematics): switch to new control flow\" (#28106)"},{"Id":"1989556065","IsPullRequest":false,"CreatedAt":"2023-11-12T20:22:23","Actor":"NilsDietrich","Number":"28112","RawContent":null,"Title":"bug(mat-menu): Nested menus incorrectly placed when custom element above trigger ","State":"open","Body":"### Is this a regression?\r\n\r\n- [x] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n13.3.9\r\n\r\n### Description\r\n\r\nWhen using a mat-menu, which contains an element with an other size than 48px, following nested menus open on wrong positions:\r\n\r\n![image](https://github.com/angular/components/assets/61544566/b382ffa5-abb4-44a7-8c14-202d666d5724)\r\n\r\nIf the nested menu is too small it looks completly unrelated to the trigger.\r\nThis happens from v14 ongoing to v17.\r\nIt worked correctly in v13.3.9:\r\n\r\n![image](https://github.com/angular/components/assets/61544566/fb4af34e-b5ca-427f-ac43-e99ad99bac71)\r\n\r\n\r\n\r\n### Reproduction\r\n\r\nStackBlitz link: https://stackblitz.com/edit/1j8wme?file=src%2Fapp%2Fmenu-nested-example.html\r\nSteps to reproduce:\r\nSimply put a `<div style=\"height: 70px\"></div>` before the trigger of a nested menu\r\n\r\n\r\n### Expected Behavior\r\n\r\nIt should open the nested menu at the correct position like in v13.\r\n\r\n\r\n\r\n### Actual Behavior\r\n\r\nThe nested menu opens in a wrong place.\r\n\r\n### Environment\r\n\r\n- Angular: v14.0.0 to latest\r\n- CDK/Material: v14.0.0 to latest\r\n- Browser(s): Chrome v119\r\n- Operating System: WIndows 11 Pro\r\n","Url":"https://github.com/angular/components/issues/28112","RelatedDescription":"Open issue \"bug(mat-menu): Nested menus incorrectly placed when custom element above trigger \" (#28112)"},{"Id":"1988444084","IsPullRequest":true,"CreatedAt":"2023-11-10T22:04:05","Actor":"zarend","Number":"28108","RawContent":null,"Title":"Cdk tree revamp pr fixes 1","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/28108","RelatedDescription":"Closed or merged PR \"Cdk tree revamp pr fixes 1\" (#28108)"},{"Id":"1987822660","IsPullRequest":false,"CreatedAt":"2023-11-10T15:19:08","Actor":"caleniuc","Number":"28107","RawContent":null,"Title":"bug(MatCheckbox): Tooltip not shown on keyboard navigation","State":"open","Body":"### Is this a regression?\r\n\r\n- [X] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n14\r\n\r\n### Description\r\n\r\nHi, after upgrading to Angular v15 tooltips are no longer displayed when navigating to a checkbox element via keyboard.\r\n\r\nI added a [repro link on stackblitz ](https://stackblitz.com/edit/hvjxck?file=src%2Fapp%2Fradio-overview-example.html)which has a radio button and a checkbox. You can see that when navigating to the radio button via keyboard the tooltip is shown, but when doing the same to the checkbox, nothing is displayed.\r\n\r\nI looked over the tooltip code where the [events are being monitored](https://github.com/angular/components/blob/15.2.x/src/material/tooltip/tooltip.ts#L376-L387). This fires on the keyboard focus event for the radio, but not for the checkbox.\r\n\r\nWe can see that the second parameter of the `monitor` method is left default, which is `false`, this means that it will not check if an event was fired on a children. For radio buttons and checkboxes the event (focus) is fired on a children, on the input. So it is strange that for the radio button this works.\r\n\r\nLooking into the FocusMonitor code, I saw that on the focus event (`_onFocus`), [elementInfo](https://github.com/angular/components/blob/15.2.x/src/cdk/a11y/focus-monitor/focus-monitor.ts#L425) came with `checkChildren` on `true` for the radio, but on `false` for the checkbox. Now, on the tooltip code, all the monitors have the default value for `checkChildren` which is false.\r\n\r\nI looked after this in the radio code and saw that the `monitor` is [called with checkChildren on true](https://github.com/angular/components/blob/15.2.x/src/material/radio/radio.ts#L561). So this is why the tooltip fires on the radio.\r\n\r\nBut the tooltip did fire on the checkbox in v14 too; not anymore now in the new MDC checkbox, there is no monitor called with `checkChildren` on `true`. If you open the legacy checkbox code, you can see that it was, so that is why it worked before.\r\n\r\nSo this worked before and still works using the same mechanism for other elements (like radio, but probably others too), but seems like a strange way, since the tooltip doesn't fire because of the monitor inside the tooltip directive, but a custom monitor inside the respective components.\r\n\r\nCould the tooltip monitor all the elements using `checkChildren` on `true` or do you think it could cause issues?\r\n\r\nTested this on v15, but probably is the same for v16 and v17.\r\n\r\n### Reproduction\r\n\r\nStackBlitz link: https://stackblitz.com/edit/hvjxck?file=src%2Fapp%2Fradio-overview-example.html\r\nSteps to reproduce:\r\n1. Navigate to the checkbox via tab key\r\n2. Observe that the tooltip is not shown\r\n\r\n\r\n### Expected Behavior\r\n\r\nTooltip is visible when navigating via keyboard on checkboxes.\r\n\r\n### Actual Behavior\r\n\r\nTooltip is not visible when navigating via keyboard on checkboxes.\r\n\r\n### Environment\r\n\r\n- Angular: 15.2.9\r\n- CDK/Material: 15.2.9\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): macOS\r\n","Url":"https://github.com/angular/components/issues/28107","RelatedDescription":"Open issue \"bug(MatCheckbox): Tooltip not shown on keyboard navigation\" (#28107)"},{"Id":"1986511151","IsPullRequest":true,"CreatedAt":"2023-11-09T22:32:23","Actor":"karptonite","Number":"28102","RawContent":null,"Title":"fix(cdk/text-field): AutosizeTextarea miscalculates line height","State":"open","Body":"Fixes a bug in the Angular cdk `cdkAutosizeTextarea` component where the line height is miscalculated because of `height` or `min-height` styles set by css on the textarea.\r\n\r\nFixes #28101","Url":"https://github.com/angular/components/pull/28102","RelatedDescription":"Open PR \"fix(cdk/text-field): AutosizeTextarea miscalculates line height\" (#28102)"}],"ResultType":"GitHubIssue"}},"RunOn":"2023-11-16T03:30:02.4769823Z","RunDurationInMilliseconds":1526}