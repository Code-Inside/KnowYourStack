{"Data":{"Angular-Issues":{"Issues":[{"Id":"1934097658","IsPullRequest":true,"CreatedAt":"2023-10-10T01:08:56","Actor":"ferrorenan","Number":"52125","RawContent":null,"Title":"docs(docs-infra): change elements theme color variable in dark mode","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\nWhen you set the docs in dark-mode, the white text hurts your eyes. As described in this issue: https://github.com/angular/angular/issues/51494\r\n\r\nIssue Number: [51494](https://github.com/angular/angular/issues/51494)\r\n\r\n\r\n## What is the new behavior?\r\nChange the color variable of some elements to dark mode\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/52125","RelatedDescription":"Open PR \"docs(docs-infra): change elements theme color variable in dark mode\" (#52125)"},{"Id":"1934080918","IsPullRequest":true,"CreatedAt":"2023-10-10T00:56:44","Actor":"akib1997","Number":"52124","RawContent":null,"Title":" docs(docs-infra): Inconsistency in bootstrapping application","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\nIssue Number: 52048\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/52124","RelatedDescription":"Open PR \" docs(docs-infra): Inconsistency in bootstrapping application\" (#52124)"},{"Id":"1934053725","IsPullRequest":true,"CreatedAt":"2023-10-10T00:24:21","Actor":"jelbourn","Number":"52123","RawContent":null,"Title":"docs(docs-infra): add support for block syntax to dgeni","State":"open","Body":"This adds the new block syntax to dgeni docs pipeline, mainly copying the way that elements (`<ng-content>` etc.) work. Actual doc content is just a placeholder for this PR.","Url":"https://github.com/angular/angular/pull/52123","RelatedDescription":"Open PR \"docs(docs-infra): add support for block syntax to dgeni\" (#52123)"},{"Id":"1933988679","IsPullRequest":true,"CreatedAt":"2023-10-09T23:12:49","Actor":"AndrewKushnir","Number":"52122","RawContent":null,"Title":"ci: update golden file for symbol tests","State":"open","Body":"This commit updates a golden file for symbol tests of the `@defer`-related app.\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [x] CI related changes\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n","Url":"https://github.com/angular/angular/pull/52122","RelatedDescription":"Open PR \"ci: update golden file for symbol tests\" (#52122)"},{"Id":"1933864022","IsPullRequest":true,"CreatedAt":"2023-10-09T21:44:16","Actor":"dylhunn","Number":"52121","RawContent":null,"Title":"feat(language-service): Support autocompletion for blocks","State":"open","Body":"This commit introduces basic autocompletion support for the new block keywords. After typing `@`, the language service suggests the various block names.","Url":"https://github.com/angular/angular/pull/52121","RelatedDescription":"Open PR \"feat(language-service): Support autocompletion for blocks\" (#52121)"},{"Id":"1933831585","IsPullRequest":false,"CreatedAt":"2023-10-09T21:15:46","Actor":"codeunifier","Number":"52120","RawContent":null,"Title":"Safari 15 issue - ReferenceError","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\nDon't known / other\n\n### Is this a regression?\n\nNo\n\n### Description\n\nSeveral other similar issues have been raised that all lead back to [this issue](https://github.com/angular/angular-cli/issues/24355), but the solution to update the `browserslistsrc` did not work for me. I do not have a problem in Safari 16, but any version before that is throwing me this error.\r\n\r\nI saw on other issues that the problem lies with animations, however in my case I am seeing this issue when trying to update several packages. Nothing new has been introduced to the angular app. In the linked issue, there was also a comment that the problem does not occur when devtools are opened, but that has not had any effect for me.\r\n\r\n![Screenshot from 2023-10-09 13-02-12](https://github.com/angular/angular/assets/23140604/c2833c60-6d8b-426a-bd5b-fed28000a355)\r\n\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://github.com/angular/angular-cli/issues/24355\n\n### Please provide the exception or error you saw\n\n```true\n`ReferenceError: Can't find variable: _angular_material_core__WEBPACK_IMPORTED_MODULE_3__`\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 16.2.5\r\nNode: 18.17.0\r\nPackage Manager: yarn 1.22.19\r\nOS: linux x64\r\nAngular: 16.2.8\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.1602.5\r\n@angular-devkit/build-angular      16.2.5\r\n@angular-devkit/core               16.2.5\r\n@angular-devkit/schematics         16.2.5\r\n@angular/cdk                       16.2.7\r\n@angular/cli                       16.2.5\r\n@angular/material                  16.2.7\r\n@angular/material-moment-adapter   16.2.7\r\n@schematics/angular                14.2.13\r\nng-packagr                         16.2.3\r\nrxjs                               7.8.1\r\ntypescript                         5.1.6\r\nzone.js                            0.13.3\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/52120","RelatedDescription":"Open issue \"Safari 15 issue - ReferenceError\" (#52120)"},{"Id":"1933815038","IsPullRequest":true,"CreatedAt":"2023-10-09T21:05:35","Actor":"angular-robot","Number":"52119","RawContent":null,"Title":"build: update io_bazel_rules_sass digest to 93e9ed2","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| io_bazel_rules_sass | http_archive | digest | `6725d86` -> `93e9ed2` |\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n🔕 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy42LjAiLCJ1cGRhdGVkSW5WZXIiOiIzNy42LjAiLCJ0YXJnZXRCcmFuY2giOiJtYWluIn0=-->\n","Url":"https://github.com/angular/angular/pull/52119","RelatedDescription":"Open PR \"build: update io_bazel_rules_sass digest to 93e9ed2\" (#52119)"},{"Id":"1933789140","IsPullRequest":true,"CreatedAt":"2023-10-09T20:50:32","Actor":"jelbourn","Number":"52118","RawContent":null,"Title":"feat(compiler): add docs extraction for type aliases","State":"open","Body":"","Url":"https://github.com/angular/angular/pull/52118","RelatedDescription":"Open PR \"feat(compiler): add docs extraction for type aliases\" (#52118)"},{"Id":"1931465374","IsPullRequest":true,"CreatedAt":"2023-10-09T17:55:43","Actor":"AndrewKushnir","Number":"52095","RawContent":null,"Title":"refactor(core): support OnPush components in `@defer` blocks","State":"closed","Body":"This commit adds the code to mark newly created embedded views (that represent `@defer` block states) as dirty to indicate that the view sgould be checked during the next change detection cycle.\r\n\r\nResolves #52094.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/52095","RelatedDescription":"Closed or merged PR \"refactor(core): support OnPush components in `@defer` blocks\" (#52095)"},{"Id":"1932567129","IsPullRequest":true,"CreatedAt":"2023-10-09T17:54:34","Actor":"crisbeto","Number":"52110","RawContent":null,"Title":"fix(compiler): work around TypeScript bug when narrowing switch statements","State":"closed","Body":"We type check `@switch` blocks by generating identical TS `switch` statements in the TCB, however TS currently has a bug where parenthesized `switch` block expressions don't narrow their types. Since we use parenthesized expressions to wrap AST nodes for diagnostics, this will bug will affect all Angular-generated `switch` statements.\r\n\r\nThese changes work around the issue by generating `if`/`else if`/`else` statements that represent the `switch`.\r\n\r\nSome alternatives that were considered:\r\n1. Moving the `switch` expression to a constant - this is fairly simple to implement, but it won't fully resolve the narrowing issue since the same constant will have to be used in expressions inside the different cases.\r\n2. Removing the outer-most parenthesis from the switch expression - this works and allows us to continue using switch statements, but because we use parenthesized expressions to map diagnostics to their template locations, I wasn't sure if it won't lead to worse template dignostics.\r\n\r\nFixes #52077.","Url":"https://github.com/angular/angular/pull/52110","RelatedDescription":"Closed or merged PR \"fix(compiler): work around TypeScript bug when narrowing switch statements\" (#52110)"},{"Id":"1933480300","IsPullRequest":false,"CreatedAt":"2023-10-09T17:08:35","Actor":"PowerSupply","Number":"52117","RawContent":null,"Title":"ComponentMirror interface: Should say if an input is required or not","State":"open","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\r\n\r\ncore\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nSince Angular 16 you may annotate an input as required. It would be useful if this information was available in the `ComponentMirror` object returned by the `reflectComponentType` function.\r\n\r\n\r\n\r\n### Proposed solution\r\n\r\nType of inputs in ComponentMirror should be changed from:\r\n```\r\nget inputs(): ReadonlyArray<{\r\n    readonly propName: string;\r\n    readonly templateName: string;\r\n    readonly transform?: (value: any) => any;\r\n}>;\r\n```\r\n\r\nto:\r\n```\r\nget inputs(): ReadonlyArray<{\r\n    readonly required: boolean;\r\n    readonly propName: string;\r\n    readonly templateName: string;\r\n    readonly transform?: (value: any) => any;\r\n}>;\r\n```\r\n\r\n### Alternatives considered\r\n\r\nNone. This is the natural way to solve it since all other [@Input decorator](https://angular.io/api/core/Input#transform) metadata is available.","Url":"https://github.com/angular/angular/issues/52117","RelatedDescription":"Open issue \"ComponentMirror interface: Should say if an input is required or not\" (#52117)"},{"Id":"1933477457","IsPullRequest":true,"CreatedAt":"2023-10-09T17:06:21","Actor":"mgechev","Number":"52116","RawContent":null,"Title":"docs: remove the developer survey 2023 banner","State":"open","Body":"","Url":"https://github.com/angular/angular/pull/52116","RelatedDescription":"Open PR \"docs: remove the developer survey 2023 banner\" (#52116)"},{"Id":"1933384859","IsPullRequest":true,"CreatedAt":"2023-10-09T16:00:38","Actor":"crisbeto","Number":"52115","RawContent":null,"Title":"fix(core): viewport trigger deregistering callbacks multiple times","State":"open","Body":"Adds a check to the viewport cleanup function to prevent it from re-processing elements that have been fully cleaned up, because it can lead to the `IntersectionObserver` being destroyed even though there are still pending triggers. This can happen, because we have cleanup callbacks both for the block is loaded, but also when the placeholder view is destroyed.\r\n\r\nFixes #52113.","Url":"https://github.com/angular/angular/pull/52115","RelatedDescription":"Open PR \"fix(core): viewport trigger deregistering callbacks multiple times\" (#52115)"},{"Id":"1933357126","IsPullRequest":true,"CreatedAt":"2023-10-09T15:43:13","Actor":"atscott","Number":"52114","RawContent":null,"Title":"fix(router): children of routes with loadComponent should not inherit…","State":"open","Body":"… parent data by default\r\n\r\nWhen a route has loadComponent, its children should not inherit params and data unless paramsInheritanceStrategy is 'always'.\r\n\r\nfixes #52106\r\n\r\nBREAKING CHANGE: Routes with `loadComponent` would incorrectly cause child routes to inherit their data by default. The default `paramsInheritanceStrategy` is `emptyOnly`. If parent data should be inherited in child routes, this should be manually set to `always`.","Url":"https://github.com/angular/angular/pull/52114","RelatedDescription":"Open PR \"fix(router): children of routes with loadComponent should not inherit…\" (#52114)"},{"Id":"1932829424","IsPullRequest":false,"CreatedAt":"2023-10-09T14:23:41","Actor":"JayAhn2","Number":"52111","RawContent":null,"Title":"Reactive Form not updating value for incomplete typed characters in Input (e.g. Korean characters)","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\nforms\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nIn Angular's Reactive Forms, when using an input field for text, the form's value does not update for characters that are being typed but not yet completed. This is particularly noticeable when typing in languages like Korean, where characters are composed of multiple keystrokes.\r\n\r\n1. Create a simple Angular form using Reactive Forms. The form contains a single input field controlled by a form control.\r\n2. Subscribe to the valueChanges observable of the form control to capture the value.\r\n3. Type in Korean or any other language that uses an IME in the input field.\r\n4. Observe the value displayed below the input field while typing (before the IME composition is complete).\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps://stackblitz.com/edit/geqvur\r\n\r\n### Please provide the exception or error you saw\r\n\r\nIt is not an exception or error, but rather a behavior that may lead to unexpected results when using languages that require an Input Method Editor (IME) for composition, such as Korean. When typing in such languages, the valueChanges observable does not emit the intermediate composed characters. This leads to incomplete or incorrect values being captured if the form is submitted or processed before the IME composition is complete.\r\n\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: 16.2.5\r\nNode: 17.3.1 (Unsupported)\r\nPackage Manager: npm 8.3.0\r\nOS: darwin arm64\r\n\r\nAngular: 16.2.8\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.1602.5\r\n@angular-devkit/build-angular      16.2.5\r\n@angular-devkit/core               16.2.5\r\n@angular-devkit/schematics         16.2.5\r\n@angular/cdk                       16.2.7\r\n@angular/cli                       16.2.5\r\n@angular/material                  16.2.7\r\n@angular/material-luxon-adapter    16.2.7\r\n@angular/material-moment-adapter   16.2.7\r\n@schematics/angular                16.2.5\r\nng-packagr                         16.2.3\r\nrxjs                               7.8.1\r\ntypescript                         5.1.6\r\nzone.js                            0.14.0\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/52111","RelatedDescription":"Closed issue \"Reactive Form not updating value for incomplete typed characters in Input (e.g. Korean characters)\" (#52111)"},{"Id":"1933164264","IsPullRequest":false,"CreatedAt":"2023-10-09T14:05:30","Actor":"ArielGueta","Number":"52113","RawContent":null,"Title":"defer viewport doesn't work as expected","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nNo\n\n### Description\n\nI have this code:\r\n\r\n```html\r\n    <section style=\"height: 100px; overflow: auto\">\r\n      @for (item of items; track item) {\r\n        @defer (on viewport) {\r\n          <app-test />\r\n        } @placeholder {\r\n          <div>Placeholder</div> \r\n        }\r\n      }\r\n    </section>\r\n```\r\n\r\nAnd it behaves weird:\r\n\r\n![reproudce](https://github.com/angular/angular/assets/20522870/60aaa110-fac0-4fcc-b1f0-1683ca6c8ad6)\r\n\r\nI'm not sure why some of the elements isn't renders when visible in the view. \n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n_No response_\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/52113","RelatedDescription":"Open issue \"defer viewport doesn't work as expected\" (#52113)"},{"Id":"1933036916","IsPullRequest":true,"CreatedAt":"2023-10-09T13:10:54","Actor":"crisbeto","Number":"52112","RawContent":null,"Title":"fix(compiler): pipes using DI not working in blocks","State":"open","Body":"Fixes that the new block syntax was generating instructions in the wrong order which meant that pipes were being declared too early. This meant that if the block is first in the template, any pipes used in it won't be able to inject things like `ChangeDetectorRef`.\r\n\r\nThese changes update the compiler and add a bunch of tests to ensure that pipes work as expected.\r\n\r\nFixes #52102.","Url":"https://github.com/angular/angular/pull/52112","RelatedDescription":"Open PR \"fix(compiler): pipes using DI not working in blocks\" (#52112)"},{"Id":"1932067987","IsPullRequest":true,"CreatedAt":"2023-10-08T21:09:02","Actor":"cexbrayat","Number":"52109","RawContent":null,"Title":"refactor(core): remove test.ts files in integration tests","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [x] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n\r\nThese files are not necessary since CLI v15+\r\nRemoving them uncovered that some unit tests were in fact not running and were broken.\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/52109","RelatedDescription":"Open PR \"refactor(core): remove test.ts files in integration tests\" (#52109)"},{"Id":"1932053213","IsPullRequest":false,"CreatedAt":"2023-10-08T20:16:21","Actor":"Erbenos","Number":"52108","RawContent":null,"Title":"Route data is inherited from non-empty route when paramsInheritanceStrategy is 'emptyOnly' when route's own resolvers are run","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\nrouter\n\n### Is this a regression?\n\nYes\n\n### Description\n\nAs the title says, parent route's data is inherited when paramsInheritenceStrategy is 'emptyOnly' when route's own resolvers get run even when the parent route is non-empty. \r\n\r\nSee the atached stackblitz.\r\n\r\n1) Use 'Child' link to trigger root route's resolver. See its data change.\r\n2) Use one of the 'Granchild' links to trigger (or not) child route's resolver. See its data change when resolvers are run by ALSO inheriting whatever parent's data was.\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://stackblitz.com/edit/stackblitz-starters-73915v?file=src%2Fmain.ts\n\n### Please provide the exception or error you saw\n\n```true\nNo error.\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular 16.2.8\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/52108","RelatedDescription":"Open issue \"Route data is inherited from non-empty route when paramsInheritanceStrategy is 'emptyOnly' when route's own resolvers are run\" (#52108)"},{"Id":"1932049585","IsPullRequest":false,"CreatedAt":"2023-10-08T20:04:22","Actor":"cexbrayat","Number":"52107","RawContent":null,"Title":"Exhaustive @switch type-checking","State":"open","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\n\ncommon\n\n### Description\n\nI think it would be a great addition to the type-safety of templates if `@switch` were checked to be exhaustive.\r\n\r\nCurrently, if you have a field with 3 possible values:\r\n\r\n```ts\r\ntype UserType = 'admin' | 'logged' | 'anonymous'\r\n```\r\n\r\nand then use a `@switch` in the template:\r\n\r\n```html\r\n@switch (userType) {\r\n  @case ('admin') {\r\n    Hello admin\r\n  }\r\n  @case ('logged') {\r\n    Hello user\r\n  }\r\n}\r\n```\r\n\r\nthe template compiles just fine, whereas the `'anonymous'` case is not covered.\n\n### Proposed solution\n\nIt would be great to get a compiler error if a case is missing (when no default is provided of course). \r\n\r\nTypeScript would complain about a missing case, if the switch was used to return a value in a function:\r\n\r\n```ts\r\nfunction s(userType: UserType): boolean {\r\n  switch (userType) {\r\n    case 'admin': return true;\r\n    case 'logged': return true;\r\n  }\r\n}\r\n```\r\n\r\nThe generated TCB could maybe be code along those lines instead of a \"simple\" switch?\n\n### Alternatives considered\n\nI don't think we can work around that easily?","Url":"https://github.com/angular/angular/issues/52107","RelatedDescription":"Open issue \"Exhaustive @switch type-checking\" (#52107)"},{"Id":"1932030285","IsPullRequest":false,"CreatedAt":"2023-10-08T19:29:28","Actor":"Erbenos","Number":"52106","RawContent":null,"Title":"Route data is inherited from non-empty routes when paramsInheritanceStrategy is 'emptyOnly' on initial application load/navigation when using `loadComponent`","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\nrouter\n\n### Is this a regression?\n\nYes\n\n### Description\n\nAs title says, even when paramsInheritanceStrategy is 'emptyOnly', routes inherits parent parameters for initial app navigation. See attached Stackblitz.\r\n\r\n1) In the stackblitz project's browser window, set address bar to https://stackblitz-starters-kamq9l.stackblitz.io/child/child/child/child \r\n2) Observe that every route gets non-empty ActivatedRoute.data even though only the root route specifies some data which should NOT have been inherited.\r\n3) Navigate to 'Child' and then to 'Grandgrandgrandchild'.\r\n4) Observe that ActivatedRoute.data has now changed and reflects what the state should have been on initial load in the first place.\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://stackblitz.com/edit/stackblitz-starters-kamq9l?file=src%2Fmain.ts\n\n### Please provide the exception or error you saw\n\n```true\nThere is no error.\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular 16.2.8\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/52106","RelatedDescription":"Open issue \"Route data is inherited from non-empty routes when paramsInheritanceStrategy is 'emptyOnly' on initial application load/navigation when using `loadComponent`\" (#52106)"},{"Id":"1931805322","IsPullRequest":false,"CreatedAt":"2023-10-08T13:27:11","Actor":"zezo2020alborhi","Number":"52104","RawContent":null,"Title":"PRINT PDF IN ANGULAR WITH ARABIC FONT","State":"closed","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\n\ncommon\n\n### Description\n\nWe tried many ways to print pdf in angular but there is no way it only show some and wanted characters in the printed document \n\n### Proposed solution\n\nadd library to angular to allow us to print pdf in arabic mode \n\n### Alternatives considered\n\nonly and this library to angular so it will enhance the powerful of the language ","Url":"https://github.com/angular/angular/issues/52104","RelatedDescription":"Closed issue \"PRINT PDF IN ANGULAR WITH ARABIC FONT\" (#52104)"},{"Id":"1931801814","IsPullRequest":false,"CreatedAt":"2023-10-08T13:15:12","Actor":"cexbrayat","Number":"52103","RawContent":null,"Title":"Allow to alias the `@else if` blocks in control flow syntax","State":"open","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\r\n\r\ncommon\r\n\r\n### Description\r\n\r\nCurrently, the control flow syntax only allows to alias the first if condition.\r\nIt would be handy to be able to alias the `else if` blocks as well:\r\n\r\n```html\r\n@if (condition1; as condition1Result) {\r\n  Hello1 {{ condition1Result }}\r\n} @else if (condition2; as condition2Result) {\r\n  Hello2 {{ condition2Result }}\r\n} @else {\r\n  Default\r\n}\r\n```\r\n\r\n\r\nThrows:\r\n```\r\nNG5002: \"as\" expression is only allowed on the primary @if block [plugin angular-compiler]\r\n\r\n    src/app/app.component.html:3:24:\r\n      3 │ } @else if (condition2; as condition2Result) {\r\n        ╵                         ~~~~~~~~~~~~~~~~~~~\r\n```\r\n\r\nIt looks like this was implemented then reverted but the reasons are not clearly explained (https://github.com/angular/angular/commit/eb1faa8f87edc6ddd9dd855752a3b2b8a626b09b)\r\n\r\n### Proposed solution\r\n\r\n`@else if` blocks could allow aliasing the condition\r\n\r\n### Alternatives considered\r\n\r\nIt's possible to work around that by using nested `@if`, but it's a bit sad as we now have `else if`:\r\n\r\n```html\r\n@if (condition1; as condition1Result) {\r\n  Hello1 {{ condition1Result }}\r\n} @else {\r\n  @if (condition2; as condition2Result) {\r\n    Hello2 {{ condition2Result }}\r\n  } @else {\r\n    Default\r\n  }\r\n}\r\n```","Url":"https://github.com/angular/angular/issues/52103","RelatedDescription":"Open issue \"Allow to alias the `@else if` blocks in control flow syntax\" (#52103)"},{"Id":"1931797351","IsPullRequest":false,"CreatedAt":"2023-10-08T13:01:06","Actor":"cexbrayat","Number":"52102","RawContent":null,"Title":"@if and async pipe throws with `No provider for _ChangeDetectorRef!`","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\ncommon\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nWhen using the new control flow syntax with an async pipe in an `@if` block, the application throws at runtime.\r\n\r\ncomponent:\r\n```ts\r\nimport { Component } from '@angular/core';\r\nimport { AsyncPipe } from '@angular/common';\r\nimport { of } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  standalone: true,\r\n  imports: [AsyncPipe],\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  condition$ = of(true);\r\n}\r\n```\r\n\r\ntemplate:\r\n```html\r\n@if (condition$ | async) {\r\n  Hello\r\n}\r\n```\r\n\r\nThe following repro is a basic cli app showcasing the issue\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps://github.com/cexbrayat/if-async-change-detector-ref\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nNullInjectorError: R3InjectorError(Environment Injector)[_ChangeDetectorRef -> _ChangeDetectorRef]: \r\n  NullInjectorError: No provider for _ChangeDetectorRef!\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: 17.0.0-next.7\r\nNode: 18.16.0\r\nPackage Manager: npm 9.7.1\r\nOS: darwin arm64\r\n\r\nAngular: 17.0.0-next.7\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.0-next.7\r\n@angular-devkit/build-angular   17.0.0-next.7\r\n@angular-devkit/core            17.0.0-next.7\r\n@angular-devkit/schematics      17.0.0-next.7\r\n@schematics/angular             17.0.0-next.7\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.0\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/52102","RelatedDescription":"Open issue \"@if and async pipe throws with `No provider for _ChangeDetectorRef!`\" (#52102)"},{"Id":"1931754008","IsPullRequest":false,"CreatedAt":"2023-10-08T11:25:50","Actor":"b-rohan","Number":"52101","RawContent":null,"Title":"Is this behavior working as intended?","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\nforms\r\n\r\n### Is this a regression?\r\n\r\nYes\r\n\r\n### Description\r\n\r\nWhen I build my application, the stack trace takes me to a line which takes me to this code. This just returns a null object which messes up any form validation when it tries to reference _rawvalidators. Should this be returning null? I am not a js expert so I want to know what it is for.\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n_No response_\r\n\r\n### Anything else?\r\n\r\nI don't know why it doesn't show the file in the UI, but I am talking about: packages/forms/src/model/abstract_model.ts line 1382.","Url":"https://github.com/angular/angular/issues/52101","RelatedDescription":"Closed issue \"Is this behavior working as intended?\" (#52101)"},{"Id":"1931727793","IsPullRequest":false,"CreatedAt":"2023-10-08T09:37:54","Actor":"marcus-sa","Number":"52100","RawContent":null,"Title":"Custom transformers not run during static analysis ","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncompiler\n\n### Is this a regression?\n\nNo\n\n### Description\n\nWhy aren't custom transformers being run during ngtsc static analysis?\r\nWe're trying to add @Inject() decorators to component constructor parameters using a custom transformer which works fine, but Angular AOT doesn't work because the decorators are missing during static analysis.\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n_No response_\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/52100","RelatedDescription":"Closed issue \"Custom transformers not run during static analysis \" (#52100)"},{"Id":"1931613374","IsPullRequest":false,"CreatedAt":"2023-10-08T07:48:04","Actor":"quanbetter","Number":"52098","RawContent":null,"Title":"HttpClient params urlEncode is not satisfied rfc3986 ","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncommon\n\n### Is this a regression?\n\nYes\n\n### Description\n\nhttp://localhost:8080/app/api/timeoutConfig?apiType=CONSUMER&cluster=default&name=risk-gateway-api@/gateway?api=risk.order.subsidy&apiVersion=1.0.0\r\n编码为\r\nhttp://localhost:8080//app/api/timeoutConfig?apiType=CONSUMER&cluster=default&name=risk-gateway-api@/gateway?api=risk.order.subsidy%26apiVersion=1.0.0'\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n_No response_\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/52098","RelatedDescription":"Closed issue \"HttpClient params urlEncode is not satisfied rfc3986 \" (#52098)"},{"Id":"1931688116","IsPullRequest":true,"CreatedAt":"2023-10-08T07:35:57","Actor":"crisbeto","Number":"52099","RawContent":null,"Title":"refactor(compiler): clean up compatibility code for old TS versions","State":"open","Body":"Cleans up some code that was left in place to support old versions of TypeScript.\r\n","Url":"https://github.com/angular/angular/pull/52099","RelatedDescription":"Open PR \"refactor(compiler): clean up compatibility code for old TS versions\" (#52099)"},{"Id":"1931541984","IsPullRequest":true,"CreatedAt":"2023-10-07T23:13:41","Actor":"JeanMeche","Number":"52097","RawContent":null,"Title":"refactor(animations): make AnimationBuilder tree-shakable","State":"open","Body":"`AnimationBuilder` has no providers with `provideAnimationsAsync` because it was located in `@angular/plaform-browser/animations`. Since any import from `@angular/plaform-browser/animations` breaks the lazy-loading of the animation code, we have to move this class outside of it => to the animation package.\r\n\r\n`@angular/plaform-browser/animations` will now import `BrowserAnimationBuilder` from `@angular/animations/browser` to maintain the compatibility.\r\n\r\nNow, if you want to use an `AnimationBuilder` with `provideAnimationsAsync()`, please inject directly `BrowserAnimationBuilder`, it is now public and `providedIn:'root'`.\r\n\r\nfixes #52096\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [x] No\r\n","Url":"https://github.com/angular/angular/pull/52097","RelatedDescription":"Open PR \"refactor(animations): make AnimationBuilder tree-shakable\" (#52097)"},{"Id":"1931472679","IsPullRequest":false,"CreatedAt":"2023-10-07T19:22:12","Actor":"zip-fa","Number":"52096","RawContent":null,"Title":"async animations: NullInjectorError: No provider for AnimationBuilder!","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\nanimations\n\n### Is this a regression?\n\nYes\n\n### Description\n\nIt works when using non-async animations.\r\n@JeanMeche i think this one for you.\r\n\r\nofftop: feeling myself like a beta-tester of v17\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://stackblitz.com/edit/angular-at-jxpv8x?file=src%2Fmain.ts\n\n### Please provide the exception or error you saw\n\n```true\nvendor.js:38033 ERROR NullInjectorError: R3InjectorError(Standalone[App])[AnimationBuilder -> AnimationBuilder -> AnimationBuilder]: \r\n  NullInjectorError: No provider for AnimationBuilder!\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular: 17.0.0-next.7\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.0-next.7\r\n@angular-devkit/build-angular   17.0.0-next.7\r\n@angular-devkit/core            17.0.0-next.7\r\n@angular-devkit/schematics      17.0.0-next.7\r\n@angular/cdk                    17.0.0-next.5\r\n@angular/material               17.0.0-next.6\r\n@schematics/angular             17.0.0-next.7\r\nrxjs                            7.4.0\r\ntypescript                      5.2.2\r\nzone.js                         0.13.0\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/52096","RelatedDescription":"Open issue \"async animations: NullInjectorError: No provider for AnimationBuilder!\" (#52096)"}],"ResultType":"GitHubIssue"},"AngularCli-Issues":{"Issues":[{"Id":"1933829829","IsPullRequest":true,"CreatedAt":"2023-10-09T21:14:16","Actor":"clydin","Number":"25992","RawContent":null,"Title":"feat(@angular-devkit/build-angular): support deploy URL option for `browser-esbuild` builder","State":"open","Body":"The `browser-esbuild` builder now provides support for using the `deployUrl` option when building applications.  This option is still considered deprecated which is the same status as with the Webpack-based `browser` application builder. This option is only available with the `browser-esbuild` builder and not other esbuild-based builders. The `browser-esbuild` builder is primarily intended to be used as a compatibility builder with the `browser` builder that requires only minimal changes to use.","Url":"https://github.com/angular/angular-cli/pull/25992","RelatedDescription":"Open PR \"feat(@angular-devkit/build-angular): support deploy URL option for `browser-esbuild` builder\" (#25992)"},{"Id":"1933663980","IsPullRequest":true,"CreatedAt":"2023-10-09T19:26:38","Actor":"clydin","Number":"25991","RawContent":null,"Title":"refactor(@angular-devkit/build-angular): add initial support for TS/NG in a worker","State":"open","Body":"WIP","Url":"https://github.com/angular/angular-cli/pull/25991","RelatedDescription":"Open PR \"refactor(@angular-devkit/build-angular): add initial support for TS/NG in a worker\" (#25991)"},{"Id":"1933544687","IsPullRequest":true,"CreatedAt":"2023-10-09T18:02:40","Actor":"angular-robot","Number":"25990","RawContent":null,"Title":"build: update github/codeql-action action to v2.22.1","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [github/codeql-action](https://togithub.com/github/codeql-action) | action | patch | `v2.22.0` -> `v2.22.1` |\n\n---\n\n### Release Notes\n\n<details>\n<summary>github/codeql-action (github/codeql-action)</summary>\n\n### [`v2.22.1`](https://togithub.com/github/codeql-action/compare/v2.22.0...v2.22.1)\n\n[Compare Source](https://togithub.com/github/codeql-action/compare/v2.22.0...v2.22.1)\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n🔕 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy42LjAiLCJ1cGRhdGVkSW5WZXIiOiIzNy42LjAiLCJ0YXJnZXRCcmFuY2giOiJtYWluIn0=-->\n","Url":"https://github.com/angular/angular-cli/pull/25990","RelatedDescription":"Closed or merged PR \"build: update github/codeql-action action to v2.22.1\" (#25990)"},{"Id":"1932851893","IsPullRequest":true,"CreatedAt":"2023-10-09T17:42:00","Actor":"alan-agius4","Number":"25988","RawContent":null,"Title":"refactor(@angular-devkit/build-angular): update ESM in memory file loader to work with Node.js 20","State":"closed","Body":"\r\nThis commit refactors the ESM Node.js in memory loader to work with Node.js 20+\r\n","Url":"https://github.com/angular/angular-cli/pull/25988","RelatedDescription":"Closed or merged PR \"refactor(@angular-devkit/build-angular): update ESM in memory file loader to work with Node.js 20\" (#25988)"},{"Id":"1931505067","IsPullRequest":false,"CreatedAt":"2023-10-09T17:40:16","Actor":"zip-fa","Number":"25979","RawContent":null,"Title":"browser-esbuild builder ignores sourceLocale in dev server","State":"closed","Body":"### Command\n\nserve\n\n### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n@angular-devkit/build-angular:browser\n\n### Description\n\nWhen using @angular-devkit/build-angular:browser, dev server sets `LOCALE_ID` from sourceLocale, but with browser-esbuild value is hardcoded to `en-US`.\r\nThis behavior breaks local development for me personally\n\n### Minimal Reproduction\n\nRepro available here: https://stackblitz.com/edit/angular-at-va4t5q?file=src%2Fmain.ts\r\nTo see the difference, change builder from `@angular-devkit/build-angular:browser-esbuild` to `@angular-devkit/build-angular:browser`\n\n### Exception or Error\n\n_No response_\n\n### Your Environment\n\n```text\nAngular: 17.0.0-next.7\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... localize, platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.0-next.7\r\n@angular-devkit/build-angular   17.0.0-next.7\r\n@angular-devkit/core            17.0.0-next.7\r\n@angular-devkit/schematics      17.0.0-next.7\r\n@angular/cdk                    17.0.0-next.5\r\n@angular/material               17.0.0-next.6\r\n@schematics/angular             17.0.0-next.7\r\nrxjs                            7.4.0\r\ntypescript                      5.2.2\r\nzone.js                         0.13.0\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/25979","RelatedDescription":"Closed issue \"browser-esbuild builder ignores sourceLocale in dev server\" (#25979)"},{"Id":"1932065216","IsPullRequest":true,"CreatedAt":"2023-10-09T17:40:15","Actor":"clydin","Number":"25982","RawContent":null,"Title":"fix(@angular-devkit/build-angular): ensure localize polyfill and locale specifier are injected when not inlining","State":"closed","Body":"When using the esbuild-based builders (`application`/`browser-esbuild`), the localize polyfill and the locale specifier for the configured source locale will now be injected into the application when available and the application is not configured to inline translations (`localize` option disabled or otherwise not used). This is useful for when developing a localized application with the development server or when the application is not translated but has a customized source locale.","Url":"https://github.com/angular/angular-cli/pull/25982","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): ensure localize polyfill and locale specifier are injected when not inlining\" (#25982)"},{"Id":"1931303611","IsPullRequest":false,"CreatedAt":"2023-10-09T17:39:58","Actor":"zip-fa","Number":"25978","RawContent":null,"Title":"browser-esbuild builder is not validating proxy.conf.json","State":"closed","Body":"### Command\n\nserve\n\n### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\nwebpack browser builder\n\n### Description\n\nHi. I have invalid proxy.conf.json file, with this content:\r\n\r\n```\r\n{\r\n  \"/cdn\": {\r\n    \"target\": \"https://website.com\",\r\n    \"secure\": false,\r\n    \"changeOrigin\": true,\r\n    \"logLevel\": \"debug\"\r\n  },\r\n  \"changeOrigin\": true\r\n}\r\n```\r\n\r\nLook at the \"changeOrigin\": true at the end.\r\nIt was in my project since angular v8, and now it breaks with esbuild.\r\nI removed this line after i finally realised what caused `ng serve` to fail. Maybe there should be some kind of validation before starting dev server?\n\n### Minimal Reproduction\n\nhttps://stackblitz.com/edit/angular-at-dwjtto?file=proxy.conf.json\n\n### Exception or Error\n\n```text\nTypeError: Cannot use 'in' operator to search for 'pathRewrite' in true\r\n    at normalizeProxyConfiguration (/node_modules/@angular-devkit/build-angular/src/builders/dev-server/load-proxy-config.js:146:27)\r\n    at loadProxyConfiguration (/node_modules/@angular-devkit/build-angular/src/builders/dev-server/load-proxy-config.js:98:30)\r\n    at async setupServer (/node_modules/@angular-devkit/build-angular/src/builders/dev-server/vite-server.js:232:19)\r\n    at async serveWithVite (/node_modules/@angular-devkit/build-angular/src/builders/dev-server/vite-server.js:118:41)\n```\n\n\n### Your Environment\n\n```text\nAngular: 17.0.0-next.7\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.0-next.7\r\n@angular-devkit/build-angular   17.0.0-next.7\r\n@angular-devkit/core            17.0.0-next.7\r\n@angular-devkit/schematics      17.0.0-next.7\r\n@angular/cdk                    17.0.0-next.5\r\n@angular/material               17.0.0-next.5\r\n@schematics/angular             17.0.0-next.7\r\nrxjs                            7.4.0\r\ntypescript                      5.2.2\r\nzone.js                         0.13.0\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/25978","RelatedDescription":"Closed issue \"browser-esbuild builder is not validating proxy.conf.json\" (#25978)"},{"Id":"1933316420","IsPullRequest":true,"CreatedAt":"2023-10-09T17:39:57","Actor":"clydin","Number":"25989","RawContent":null,"Title":"fix(@angular-devkit/build-angular): avoid dev-server proxy rewrite normalization when invalid value","State":"closed","Body":"When normalizing the proxy configuration for the Vite-based development server, the `pathRewrite` logic will now be skipped if the proxy entry is not an object and therefore invalid. This situation can occur if the proxy configuration JSON contains invalid properties.\r\n\r\nCloses #25978","Url":"https://github.com/angular/angular-cli/pull/25989","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): avoid dev-server proxy rewrite normalization when invalid value\" (#25989)"},{"Id":"1929971520","IsPullRequest":true,"CreatedAt":"2023-10-09T14:40:36","Actor":"alan-agius4","Number":"25973","RawContent":null,"Title":"fix(@angular-devkit/build-angular): improve sharing of TypeScript compilation state between various esbuild instances during rebuilds","State":"closed","Body":"This commit improves the logic to block and share a TypeScript results across multiple esbuild instances (browser and server builds) which fixes an issue that previously during rebuilds in some cases did not block the build correctly.\r\n","Url":"https://github.com/angular/angular-cli/pull/25973","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): improve sharing of TypeScript compilation state between various esbuild instances during rebuilds\" (#25973)"},{"Id":"1932516155","IsPullRequest":false,"CreatedAt":"2023-10-09T13:55:43","Actor":"zip-fa","Number":"25985","RawContent":null,"Title":"fetch HttpClient + signals is not triggering cdr","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncommon\n\n### Is this a regression?\n\nYes\n\n### Description\n\nHttpClient `withFetch()` will not trigger CDR with nested queries coming from `switchMap`\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://stackblitz.com/edit/angular-at-wvr9ue?file=src%2Fmain.ts\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular: 17.0.0-next.7\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... localize, platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.0-next.7\r\n@angular-devkit/build-angular   17.0.0-next.7\r\n@angular-devkit/core            17.0.0-next.7\r\n@angular-devkit/schematics      17.0.0-next.7\r\n@angular/cdk                    17.0.0-next.5\r\n@angular/material               17.0.0-next.6\r\n@schematics/angular             17.0.0-next.7\r\nrxjs                            7.4.0\r\ntypescript                      5.2.2\r\nzone.js                         0.13.0\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/25985","RelatedDescription":"Closed issue \"fetch HttpClient + signals is not triggering cdr\" (#25985)"},{"Id":"1930211092","IsPullRequest":true,"CreatedAt":"2023-10-09T13:55:28","Actor":"alan-agius4","Number":"25975","RawContent":null,"Title":"perf(@angular-devkit/build-angular): only perform a server build when either prerendering, app-shell or ssr is enabled","State":"closed","Body":"\r\n\r\nPrior to this change, a server build was performed when all the \"server\" features were disabled but the `server` fields was specified.\r\n","Url":"https://github.com/angular/angular-cli/pull/25975","RelatedDescription":"Closed or merged PR \"perf(@angular-devkit/build-angular): only perform a server build when either prerendering, app-shell or ssr is enabled\" (#25975)"},{"Id":"1932533529","IsPullRequest":true,"CreatedAt":"2023-10-09T13:55:10","Actor":"alan-agius4","Number":"25986","RawContent":null,"Title":"fix(@angular-devkit/build-angular): fully downlevel async/await when using vite dev-server with caching enabled","State":"closed","Body":"\r\nPrior to this change, async/await in external packages were not being correctly downlevelled when using vite dev-server with cache enabled.\r\n\r\nCloses #25985\r\n","Url":"https://github.com/angular/angular-cli/pull/25986","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): fully downlevel async/await when using vite dev-server with caching enabled\" (#25986)"},{"Id":"1931756000","IsPullRequest":false,"CreatedAt":"2023-10-09T11:58:30","Actor":"digeomel","Number":"25980","RawContent":null,"Title":"noImplicitAny from parent tsconfig.json cannot be overridden in projects (libraries)","State":"closed","Body":"### Command\r\n\r\nbuild\r\n\r\n### Is this a regression?\r\n\r\n- [ ] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nI have an Angular 15 workspace with a main app and multiple independent projects (aka libraries). For the main app and some projects, I want to set `noImplicitAny: true` for the TypeScript compiler, but for some others, I want it to remain `false` (the default). The `tsconfig.lib.json` files inside the libraries are extending the main `tsconfig.json` from the root Angular folder (although I tried removing the `extends` as well, no difference, read below).\r\n\r\nThe problem is, no matter what I do, I keep getting errors about `noImplicitAny` from the libraries where it is even explicitly set to false! It seems that the TypeScript compiler disregards the individual `tsconfig.lib.json` settings inside those libraries and takes the global setting.\r\n\r\nMoreover, I tried moving the setting from the main `tsconfig.json` in the root folder, to the app-specific `src/tsconfig.app.json` and I still get the same error from the libraries!\r\n\r\nThese are the other contents of the main `tsconfig.json` file:\r\n\r\n```json\r\n{\r\n    \"compilerOptions\": {\r\n        \"baseUrl\": \"./\",\r\n        \"outDir\": \"./dist/out-tsc\",\r\n        \"module\": \"es2022\",\r\n        \"target\": \"es2022\",\r\n        \"lib\": [\"es2022\", \"dom\"],\r\n        \"forceConsistentCasingInFileNames\": true,\r\n        \"noImplicitOverride\": true,\r\n        \"noPropertyAccessFromIndexSignature\": true,\r\n        \"noImplicitReturns\": true,\r\n        \"noFallthroughCasesInSwitch\": true,\r\n        \"sourceMap\": true,\r\n        \"declaration\": false,\r\n        \"downlevelIteration\": true,\r\n        \"moduleResolution\": \"node\",\r\n        \"emitDecoratorMetadata\": false,\r\n        \"experimentalDecorators\": true,\r\n        \"allowSyntheticDefaultImports\": true,\r\n        \"importHelpers\": true,\r\n        \"typeRoots\": [\"node_modules/@types\"],\r\n        \"resolveJsonModule\": true,\r\n    },\r\n    \"angularCompilerOptions\": {\r\n        \"enableI18nLegacyMessageIdFormat\": false,\r\n        \"strictInjectionParameters\": true,\r\n        \"strictInputAccessModifiers\": true,\r\n        \"strictTemplates\": true\r\n    }\r\n}\r\n```\r\n\r\nWe are not using \"full\" TypeScript strict mode.\r\n\r\nWhat am I missing?\r\n\r\n### Minimal Reproduction\r\n\r\nThis is a repo which reproduces the problem:\r\n\r\nhttps://github.com/digeomel/angular-no-implicit-any\r\n\r\n\r\n### Exception or Error\r\n\r\n```shell\r\n ~  ng build\r\n✔ Browser application bundle generation complete.\r\n\r\nError: projects/test2/src/lib/test2.component.ts:14:25 - error TS7006: Parameter 'param' implicitly has an 'any' type.\r\n\r\n14     testMethodWithParam(param) {\r\n                           ~~~~~\r\n```\r\n\r\n### Your Environment\r\n\r\n```text\r\n_                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n\r\n\r\nAngular CLI: 16.2.4\r\nNode: 18.17.1\r\nPackage Manager: npm 10.2.0\r\nOS: win32 x64\r\n\r\nAngular: 16.2.8\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1602.4\r\n@angular-devkit/build-angular   16.2.4\r\n@angular-devkit/core            16.2.4\r\n@angular-devkit/schematics      16.2.4\r\n@angular/cli                    16.2.4\r\n@schematics/angular             16.2.4\r\nng-packagr                      16.2.3\r\nrxjs                            7.8.1\r\ntypescript                      5.1.6\r\nzone.js                         0.13.3\r\n```\r\n\r\n\r\n### Anything else relevant?\r\n\r\nI posted this issue first on the Typescript repo and I got the answer that this is the expected behaviour, but I thought that maybe the Angular compiler spawns individual, separate processes to compile each project, respecting the tsconfig file in each.\r\nIn any case, this seems counter-intuitive to me. If there's a workaround, I'd like to know it.\r\n\r\nHere's the issue on the Typescript repo:\r\nhttps://github.com/microsoft/TypeScript/issues/55983\r\n","Url":"https://github.com/angular/angular-cli/issues/25980","RelatedDescription":"Closed issue \"noImplicitAny from parent tsconfig.json cannot be overridden in projects (libraries)\" (#25980)"},{"Id":"1932259706","IsPullRequest":false,"CreatedAt":"2023-10-09T11:53:22","Actor":"danielhasugian","Number":"25983","RawContent":null,"Title":"ng-test is getting stuck after upgrade to angular 16.","State":"closed","Body":"### Command\r\n\r\ntest\r\n\r\n### Is this a regression?\r\n\r\n- [X] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nI would to run ng test --coverage, but it is not working after upgrade angular.\r\nNo error was found, it will keep processing until timeout.\r\n\r\n<img width=\"1563\" alt=\"image\" src=\"https://github.com/angular/angular-cli/assets/11827558/d574ca39-f1e0-437c-9b8d-27c0f131a80c\">\r\n\r\n\r\n### Minimal Reproduction\r\n\r\nPackage.json\r\n\r\n#\r\n```javascript\r\n{\r\n  \"name\": \"XXX\",\r\n  \"version\": \"6.0.0\",\r\n  \"config\": {\r\n    \"locale\": {\r\n      \"id\": \"in-ID\",\r\n      \"en\": \"en-US\"\r\n    }\r\n  },\r\n  \"scripts\": {\r\n    \"coverage\": \"ng test --code-coverage --no-progress --watch=false\",\r\n  },\r\n  \"private\": true,\r\n  \"dependencies\": {\r\n    \"@angular/cdk\": \"^16.2.4\",\r\n    \"@angular/common\": \"^16.2.5\",\r\n    \"@angular/compiler\": \"^16.2.5\",\r\n    \"@angular/core\": \"^16.2.5\",\r\n    \"@angular/forms\": \"^16.2.5\",\r\n    \"@angular/localize\": \"^16.2.5\",\r\n    \"@angular/platform-browser\": \"^16.2.5\",\r\n    \"@angular/platform-browser-dynamic\": \"^16.2.5\",\r\n    \"@angular/router\": \"^16.2.5\",\r\n    \"zone.js\": \"~0.13.3\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@angular-devkit/build-angular\": \"~16.2.2\",\r\n    \"@angular/animations\": \"^16.2.5\",\r\n    \"@angular/cli\": \"^16.2.2\",\r\n    \"@angular/compiler-cli\": \"^16.2.5\",\r\n    \"@angular/language-service\": \"^16.2.5\",\r\n    \"@types/file-saver\": \"0.0.1\",\r\n    \"@types/jasmine\": \"^3.3.8\",\r\n    \"@types/jwt-decode\": \"^1.4.30\",\r\n    \"@types/lodash\": \"^4.14.116\",\r\n    \"@types/node\": \"^20.6.3\",\r\n    \"jasmine-core\": \"~5.1.1\",\r\n    \"jasmine-spec-reporter\": \"~5.0.0\",\r\n    \"json-server\": \"^0.14.2\",\r\n    \"karma\": \"~6.3.4\",\r\n    \"karma-chrome-launcher\": \"~3.1.0\",\r\n    \"karma-cli\": \"^2.0.0\",\r\n    \"karma-istanbul-threshold\": \"^1.2.2\",\r\n    \"karma-jasmine\": \"~5.1.0\",\r\n    \"karma-jasmine-html-reporter\": \"^2.1.0\",\r\n    \"karma-phantomjs-launcher\": \"^1.0.4\",\r\n    \"tslint\": \"~6.1.0\",\r\n    \"typescript\": \"4.9.5\"\r\n  }\r\n}\r\n```\r\n\r\nsrc/tsconfig.spec.json\r\n```javascript\r\nimport { getTestBed } from '@angular/core/testing';\r\nimport { BrowserDynamicTestingModule, platformBrowserDynamicTesting } from '@angular/platform-browser-dynamic/testing';\r\n\r\nimport 'zone.js/dist/long-stack-trace-zone';\r\nimport 'zone.js/dist/zone-testing';\r\nimport 'zone.js/dist/sync-test';\r\nimport 'zone.js/dist/jasmine-patch';\r\nimport 'zone.js/dist/sync-test';\r\nimport 'zone.js/dist/async-test';\r\nimport 'zone.js/dist/fake-async-test';\r\n\r\n// Unfortunately there's no typing for the `__karma__` variable. Just declare it as any.\r\ndeclare const __karma__: any;\r\ndeclare const require: any;\r\n// Prevent Karma from running prematurely.\r\n__karma__.loaded = function () {\r\n};\r\n// First, initialize the Angular testing environment.\r\ngetTestBed().initTestEnvironment(\r\n  BrowserDynamicTestingModule,\r\n  platformBrowserDynamicTesting()\r\n);\r\n// Then we find all the tests.\r\nconst context = require.context('./', true, /\\.spec\\.ts$/);\r\n// And load the modules.\r\ncontext.keys().map(context);\r\n// Finally, start Karma to run the tests.\r\n__karma__.start();\r\n\r\n```\r\n\r\nsrc/tsconfig.app.json\r\n```javascript\r\n{\r\n  \"extends\": \"../tsconfig.json\",\r\n  \"compilerOptions\": {\r\n    \"outDir\": \"../out-tsc/spec\",\r\n    \"baseUrl\": \".\",\r\n    \"types\": [\r\n      \"jasmine\",\r\n      \"node\"\r\n    ]\r\n  },\r\n  \"files\": [\r\n    \"test.ts\",\r\n    \"polyfills.ts\"\r\n  ],\r\n  \"include\": [\r\n    \"**/*.spec.ts\"\r\n  ]\r\n}\r\n```\r\n\r\nsrc/tsconfig.app.json\r\n```javascript\r\n{\r\n  \"extends\": \"../tsconfig.json\",\r\n  \"compilerOptions\": {\r\n    \"outDir\": \"../out-tsc/app\",\r\n    \"baseUrl\": \"\",\r\n    \"types\": []\r\n  },\r\n  \"files\": [\r\n    \"main.ts\",\r\n    \"polyfills.ts\"\r\n  ],\r\n  \"include\": [\r\n    \"src/**/*.d.ts\"\r\n  ]\r\n}\r\n\r\n```\r\n\r\n\r\nkarma.conf\r\n```javascript\r\nmodule.exports = function (config) {\r\n  config.set({\r\n    basePath: '',\r\n    frameworks: ['jasmine', '@angular-devkit/build-angular'],\r\n    plugins: [\r\n      require('karma-jasmine'),\r\n      // require('karma-phantomjs-launcher'),\r\n      require('karma-chrome-launcher'),\r\n      require('karma-jasmine-html-reporter'),\r\n      require('karma-istanbul-threshold'),\r\n      require('karma-coverage'),\r\n      require('@angular-devkit/build-angular/plugins/karma')\r\n    ],\r\n    client:{\r\n      clearContext: false, // leave Jasmine Spec Runner output visible in browser\r\n      jasmine: {\r\n        random: true\r\n      }\r\n    },\r\n    mime: {\r\n      'text/x-typescript': ['ts','tsx']\r\n    },\r\n    files: [],\r\n    coverageReporter: {\r\n      // specify a common output directory\r\n      dir: 'coverage',\r\n      reporters: [\r\n        // reporters not supporting the `file` property\r\n        { type: 'html', subdir: 'report-html' },\r\n        { type: 'lcov', subdir: 'report-lcov' },\r\n        // reporters supporting the `file` property, use `subdir` to directly\r\n        // output them in the `dir` directory\r\n        { type: 'cobertura', subdir: '.', file: 'cobertura.txt' },\r\n        { type: 'lcovonly', subdir: '.', file: 'report-lcovonly.txt' },\r\n        { type: 'teamcity', subdir: '.', file: 'teamcity.txt' },\r\n        { type: 'text', subdir: '.', file: 'text.txt' },\r\n        { type: 'text-summary', subdir: '.', file: 'text-summary.txt' },\r\n      ]\r\n    },\r\n    istanbulThresholdReporter: {\r\n      src: 'coverage/coverage-final.json',\r\n      reporters: ['text'],\r\n      thresholds: {\r\n        global: {\r\n          statements: 90,\r\n          branches: 90,\r\n          lines: 70,\r\n          functions: 90,\r\n        },\r\n        each: {\r\n          statements: 80,\r\n          branches: 80,\r\n          lines: 60,\r\n          functions: 80,\r\n        }\r\n      }\r\n    },\r\n    angularCli: {\r\n      environment: 'dev'\r\n    },\r\n    reporters: config.angularCli && config.angularCli.codeCoverage\r\n              ? ['progress', 'coverage']\r\n              : ['progress', 'kjhtml'],\r\n    port: 9876,\r\n    colors: true,\r\n    logLevel: config.LOG_DEBUG,\r\n    autoWatch: false,\r\n    browsers: [ 'ChromeHeadlessNoSandbox'],\r\n    // browsers: [ 'PhantomJS'],\r\n    // browsers: [ 'Chrome'],\r\n    singleRun: true,\r\n    captureTimeout: 10000,\r\n    browserDisconnectTolerance: 3,\r\n    browserDisconnectTimeout : 10000,\r\n    browserNoActivityTimeout : 10000,\r\n    customLaunchers: {\r\n      ChromeHeadlessNoSandbox: {\r\n        base: 'ChromeHeadless',\r\n        flags: [\r\n          '--no-sandbox',\r\n          '--disable-gpu',\r\n          '--enable-logging',\r\n          '--no-default-browser-check',\r\n          '--no-first-run',\r\n          '--disable-default-apps',\r\n          '--disable-popup-blocking',\r\n          '--disable-translate',\r\n          '--disable-background-timer-throttling',\r\n          '--disable-renderer-backgrounding',\r\n          '--disable-device-discovery-notifications',\r\n          '--remote-debugging-port=9222',\r\n          '--disable-web-security'\r\n        ]\r\n      }\r\n    },\r\n  });\r\n};\r\n```\r\n\r\nangular.json\r\n```javascript\r\n        \"test\": {\r\n          \"builder\": \"@angular-devkit/build-angular:karma\",\r\n          \"options\": {\r\n            \"main\": \"src/test.ts\",\r\n            \"karmaConfig\": \"./karma.conf.js\",\r\n            \"polyfills\": \"src/polyfills.ts\",\r\n            \"tsConfig\": \"src/tsconfig.spec.json\",\r\n            \"scripts\": [\r\n            ],\r\n            \"styles\": [\r\n              \"src/styles.sass\",\r\n              \"src/assets/css/bootstrap.css\",\r\n              \"src/assets/css/core.css\",\r\n              \"src/assets/css/components.css\",\r\n              \"src/assets/css/colors.css\",\r\n              \"src/assets/plugins/font-awesome-4.7.0/css/font-awesome.min.css\",\r\n              \"src/assets/css/styles.css\"\r\n            ],\r\n            \"assets\": [\r\n            ]\r\n          }\r\n        }\r\n```\r\n\r\n### Exception or Error\r\n\r\n```text\r\nGetting stuck and reach timeout.\r\nSee the description\r\n```\r\n\r\n\r\n### Your Environment\r\n\r\n```text\r\nAngular CLI: 16.2.3\r\nNode: 18.18.0\r\nPackage Manager: npm 9.8.1\r\nOS: darwin arm64\r\n\r\nAngular: 16.2.6\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... localize, platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1602.3\r\n@angular-devkit/build-angular   16.2.3\r\n@angular-devkit/core            16.2.3\r\n@angular-devkit/schematics      16.2.3\r\n@angular/cdk                    16.2.5\r\n@angular/cli                    16.2.3\r\n@angular/language-service       16.2.5\r\n@schematics/angular             16.2.3\r\nrxjs                            6.6.7\r\ntypescript                      4.9.5\r\nzone.js                         0.13.3\r\n```","Url":"https://github.com/angular/angular-cli/issues/25983","RelatedDescription":"Closed issue \"ng-test is getting stuck after upgrade to angular 16.\" (#25983)"},{"Id":"1929449199","IsPullRequest":true,"CreatedAt":"2023-10-09T11:36:19","Actor":"angular-robot","Number":"25969","RawContent":null,"Title":"build: update angular","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@angular/animations](https://togithub.com/angular/animations-builds) | dependencies | digest | `e4617bb` -> `aba5036` |\n| [@angular/bazel](https://togithub.com/angular/bazel-builds) | devDependencies | digest | `d2ddd5d` -> `a9f0d84` |\n| [@angular/build-tooling](https://togithub.com/angular/dev-infra-private-build-tooling-builds) | devDependencies | digest | `2807276` -> `2f47af8` |\n| [@angular/cdk](https://togithub.com/angular/cdk-builds) | dependencies | digest | `ac96863` -> `131de3b` |\n| [@angular/common](https://togithub.com/angular/common-builds) | dependencies | digest | `30191ce` -> `46ec26b` |\n| [@angular/compiler](https://togithub.com/angular/compiler-builds) | dependencies | digest | `b1ac35a` -> `4c9d546` |\n| [@angular/compiler-cli](https://togithub.com/angular/compiler-cli-builds) | dependencies | digest | `55cf54b` -> `99fcb51` |\n| [@angular/core](https://togithub.com/angular/core-builds) | dependencies | digest | `02f5491` -> `32c6d7a` |\n| [@angular/forms](https://togithub.com/angular/forms-builds) | dependencies | digest | `a920f15` -> `e33fa1b` |\n| [@angular/language-service](https://togithub.com/angular/language-service-builds) | dependencies | digest | `c45dcd4` -> `1bb3047` |\n| [@angular/localize](https://togithub.com/angular/localize-builds) | dependencies | digest | `0cca111` -> `ebbd300` |\n| [@angular/material](https://togithub.com/angular/material-builds) | dependencies | digest | `464eb3d` -> `10daa98` |\n| [@angular/material-moment-adapter](https://togithub.com/angular/material-moment-adapter-builds) | dependencies | digest | `f7a069a` -> `6584654` |\n| [@angular/ng-dev](https://togithub.com/angular/dev-infra-private-ng-dev-builds) | devDependencies | digest | `16b9f55` -> `cf16cf7` |\n| [@angular/platform-browser](https://togithub.com/angular/platform-browser-builds) | dependencies | digest | `d1122a3` -> `552c3bf` |\n| [@angular/platform-browser-dynamic](https://togithub.com/angular/platform-browser-dynamic-builds) | dependencies | digest | `ff4b63e` -> `ba7d933` |\n| [@angular/platform-server](https://togithub.com/angular/platform-server-builds) | dependencies | digest | `62f334c` -> `483374e` |\n| [@angular/router](https://togithub.com/angular/router-builds) | dependencies | digest | `7af4eac` -> `92f71dd` |\n| [@angular/service-worker](https://togithub.com/angular/service-worker-builds) | dependencies | digest | `a999de0` -> `c5d7329` |\n| angular/dev-infra | action | digest | `fb30926` -> `1d8a9ff` |\n\n🔡 If you wish to disable git hash updates, add `\":disableDigestUpdates\"` to the extends array in your config.\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy42LjAiLCJ1cGRhdGVkSW5WZXIiOiIzNy42LjAiLCJ0YXJnZXRCcmFuY2giOiJtYWluIn0=-->\n","Url":"https://github.com/angular/angular-cli/pull/25969","RelatedDescription":"Closed or merged PR \"build: update angular\" (#25969)"},{"Id":"1932631605","IsPullRequest":false,"CreatedAt":"2023-10-09T10:58:59","Actor":"zip-fa","Number":"25987","RawContent":null,"Title":"ng build: An unexpected error occurred: [object Object]","State":"closed","Body":"### Command\n\nbuild\n\n### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nI can't build newly generated app with `ng new` on angular v17 and application builder\n\n### Minimal Reproduction\n\nnpm i -g @angular/cli@17.0.0-next.7\r\nng new test-project (scss yes, ssr yes)\r\nnpm run build\n\n### Exception or Error\n\n```text\nAn unexpected error occurred: [object Object]\r\n\r\nng build --verbose doesn't give more info\n```\n\n\n### Your Environment\n\n```text\nAngular CLI: 17.0.0-next.7\r\nNode: 20.8.0 (Unsupported)\r\nPackage Manager: npm 10.1.0\r\nOS: darwin arm64\r\n\r\nAngular: 17.0.0-next.7\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, platform-server\r\n... router, ssr\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.0-next.7\r\n@angular-devkit/build-angular   17.0.0-next.7\r\n@angular-devkit/core            17.0.0-next.7\r\n@angular-devkit/schematics      17.0.0-next.7\r\n@schematics/angular             17.0.0-next.7\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nzone.js                         0.14.0\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/25987","RelatedDescription":"Closed issue \"ng build: An unexpected error occurred: [object Object]\" (#25987)"},{"Id":"1932441424","IsPullRequest":true,"CreatedAt":"2023-10-09T10:38:58","Actor":"angular-robot","Number":"25984","RawContent":null,"Title":"build: lock file maintenance","State":"closed","Body":"This PR contains the following updates:\n\n| Update | Change |\n|---|---|\n| lockFileMaintenance | All locks refreshed |\n\n🔧 This Pull Request updates lock files to use the latest dependency versions.\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - \"before 4am on monday\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy42LjAiLCJ1cGRhdGVkSW5WZXIiOiIzNy42LjAiLCJ0YXJnZXRCcmFuY2giOiJtYWluIn0=-->\n","Url":"https://github.com/angular/angular-cli/pull/25984","RelatedDescription":"Closed or merged PR \"build: lock file maintenance\" (#25984)"},{"Id":"1931889547","IsPullRequest":true,"CreatedAt":"2023-10-09T08:34:09","Actor":"clydin","Number":"25981","RawContent":null,"Title":"feat(@angular-devkit/build-angular): enable localize support for SSR with application builder","State":"closed","Body":"With the output path directory structure updates in place, the localize support for SSR has now been enabled. This allows for the `application` builder to produce both browser and server output that is localized based on the i18n configuration for the project.","Url":"https://github.com/angular/angular-cli/pull/25981","RelatedDescription":"Closed or merged PR \"feat(@angular-devkit/build-angular): enable localize support for SSR with application builder\" (#25981)"},{"Id":"1928717491","IsPullRequest":true,"CreatedAt":"2023-10-09T08:29:56","Actor":"clydin","Number":"25965","RawContent":null,"Title":"perf(@angular-devkit/build-angular): use incremental bundling for component styles in esbuild builders","State":"closed","Body":"When using the esbuild-based builders (`esbuild-browser`/`application`) in watch mode (including `ng serve`), component stylesheets will now be incrementally rebuilt when needed. This avoids a full build of each affected component's styles during an application rebuild. Both JIT and AOT mode are supported as well as both inline and external styles.","Url":"https://github.com/angular/angular-cli/pull/25965","RelatedDescription":"Closed or merged PR \"perf(@angular-devkit/build-angular): use incremental bundling for component styles in esbuild builders\" (#25965)"},{"Id":"1930917388","IsPullRequest":true,"CreatedAt":"2023-10-09T08:17:36","Actor":"clydin","Number":"25976","RawContent":null,"Title":"feat(@angular-devkit/build-angular): support component style budgets in esbuild builders","State":"closed","Body":"The `anyComponentStyle` budget type is now supported when using bundle budgets in the esbuild-based builders (`browser-esbuild`/`application`). The configuration and behavior are intended to match that of the Webpack-based  builder (`browser`). With this addition, the bundle budget feature is now at feature parity with the Webpack-based builder. The implementation of this budget type requires less code than the Webpack implementation due to the component stylesheet information being present in the application's output metadata. This removes the need for a custom budget plugin to extract the stylesheet size information during the build.","Url":"https://github.com/angular/angular-cli/pull/25976","RelatedDescription":"Closed or merged PR \"feat(@angular-devkit/build-angular): support component style budgets in esbuild builders\" (#25976)"},{"Id":"1931193954","IsPullRequest":true,"CreatedAt":"2023-10-09T08:17:19","Actor":"angular-robot","Number":"25977","RawContent":null,"Title":"build: update scorecard action dependencies","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [github/codeql-action](https://togithub.com/github/codeql-action) | action | minor | `v2.21.9` -> `v2.22.0` |\n| [ossf/scorecard-action](https://togithub.com/ossf/scorecard-action) | action | minor | `v2.2.0` -> `v2.3.0` |\n\n---\n\n### Release Notes\n\n<details>\n<summary>github/codeql-action (github/codeql-action)</summary>\n\n### [`v2.22.0`](https://togithub.com/github/codeql-action/compare/v2.21.9...v2.22.0)\n\n[Compare Source](https://togithub.com/github/codeql-action/compare/v2.21.9...v2.22.0)\n\n</details>\n\n<details>\n<summary>ossf/scorecard-action (ossf/scorecard-action)</summary>\n\n### [`v2.3.0`](https://togithub.com/ossf/scorecard-action/releases/tag/v2.3.0)\n\n[Compare Source](https://togithub.com/ossf/scorecard-action/compare/v2.2.0...v2.3.0)\n\n#### What's Changed\n\n-   :seedling: Bump github.com/ossf/scorecard/v4 from v4.11.0 to v4.13.0 by [@&#8203;spencerschrock](https://togithub.com/spencerschrock) in [https://github.com/ossf/scorecard-action/pull/1270](https://togithub.com/ossf/scorecard-action/pull/1270)\n    -   For a full changelist of what this includes, see the [v4.12.0](https://togithub.com/ossf/scorecard/releases/tag/v4.12.0) and [v4.13.0](https://togithub.com/ossf/scorecard/releases/tag/v4.13.0) release notes\n-   :sparkles: Send rekor tlog index to webapp when publishing results by [@&#8203;spencerschrock](https://togithub.com/spencerschrock) in [https://github.com/ossf/scorecard-action/pull/1169](https://togithub.com/ossf/scorecard-action/pull/1169)\n-   :bug: Prevent url clipping for GHES instances by [@&#8203;rajbos](https://togithub.com/rajbos) in [https://github.com/ossf/scorecard-action/pull/1225](https://togithub.com/ossf/scorecard-action/pull/1225)\n\n##### Documentation\n\n-   :book: Update access rights needed to see the results in code scanning by [@&#8203;rajbos](https://togithub.com/rajbos) in [https://github.com/ossf/scorecard-action/pull/1229](https://togithub.com/ossf/scorecard-action/pull/1229)\n-   :book: Add package comments. by [@&#8203;spencerschrock](https://togithub.com/spencerschrock) in [https://github.com/ossf/scorecard-action/pull/1221](https://togithub.com/ossf/scorecard-action/pull/1221)\n-   :book: Add SECURITY.md file by [@&#8203;david-a-wheeler](https://togithub.com/david-a-wheeler) in [https://github.com/ossf/scorecard-action/pull/1250](https://togithub.com/ossf/scorecard-action/pull/1250)\n-   :book: Fix typo in token input docs by [@&#8203;aabouzaid](https://togithub.com/aabouzaid) in [https://github.com/ossf/scorecard-action/pull/1258](https://togithub.com/ossf/scorecard-action/pull/1258)\n\n#### New Contributors\n\n-   [@&#8203;david-a-wheeler](https://togithub.com/david-a-wheeler) made their first contribution in [https://github.com/ossf/scorecard-action/pull/1250](https://togithub.com/ossf/scorecard-action/pull/1250)\n-   [@&#8203;aabouzaid](https://togithub.com/aabouzaid) made their first contribution in [https://github.com/ossf/scorecard-action/pull/1258](https://togithub.com/ossf/scorecard-action/pull/1258)\n\n**Full Changelog**: https://github.com/ossf/scorecard-action/compare/v2.2.0...v2.3.0\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy42LjAiLCJ1cGRhdGVkSW5WZXIiOiIzNy42LjAiLCJ0YXJnZXRCcmFuY2giOiJtYWluIn0=-->\n","Url":"https://github.com/angular/angular-cli/pull/25977","RelatedDescription":"Closed or merged PR \"build: update scorecard action dependencies\" (#25977)"},{"Id":"1929244941","IsPullRequest":true,"CreatedAt":"2023-10-06T18:49:39","Actor":"clydin","Number":"25967","RawContent":null,"Title":"feat(@angular-devkit/build-angular): add initial support for bundle budgets to esbuild builders","State":"closed","Body":"The bundle budget functionality (`budgets` option) is not available when using the esbuild-based builders (`browser-esbuild`/`application`). The existing option format from the Webpack-based builder can continue to be used. All budget types except `anyComponentStyle` are implemented. Any usage of the `anyComponentStyle` type will be ignored when calculating budget failures. This type will be implemented in a future change.","Url":"https://github.com/angular/angular-cli/pull/25967","RelatedDescription":"Closed or merged PR \"feat(@angular-devkit/build-angular): add initial support for bundle budgets to esbuild builders\" (#25967)"},{"Id":"1930021029","IsPullRequest":true,"CreatedAt":"2023-10-06T17:51:28","Actor":"alan-agius4","Number":"25974","RawContent":null,"Title":"refactor(@angular-devkit/build-angular): move `SourceFileCache` into dedicated file","State":"closed","Body":"\r\nThis is to reduce the code in `compiler-plugin.ts`\r\n","Url":"https://github.com/angular/angular-cli/pull/25974","RelatedDescription":"Closed or merged PR \"refactor(@angular-devkit/build-angular): move `SourceFileCache` into dedicated file\" (#25974)"},{"Id":"1929449472","IsPullRequest":true,"CreatedAt":"2023-10-06T17:34:43","Actor":"angular-robot","Number":"25970","RawContent":null,"Title":"build: update dependency rollup to v4","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [rollup](https://rollupjs.org/) ([source](https://togithub.com/rollup/rollup)) | devDependencies | major | [`~3.29.0` -> `~4.0.0`](https://renovatebot.com/diffs/npm/rollup/3.29.4/4.0.2) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>rollup/rollup (rollup)</summary>\n\n### [`v4.0.2`](https://togithub.com/rollup/rollup/blob/HEAD/CHANGELOG.md#402)\n\n[Compare Source](https://togithub.com/rollup/rollup/compare/v4.0.1...v4.0.2)\n\n*2023-10-06*\n\n##### Bug Fixes\n\n-   Fix annotation detection logic to not fail when a non-ASCII character precedes a double underscore ([#&#8203;5178](https://togithub.com/rollup/rollup/issues/5178))\n\n##### Pull Requests\n\n-   [#&#8203;5178](https://togithub.com/rollup/rollup/pull/5178): Handle special characters before double underscores ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n\n### [`v4.0.1`](https://togithub.com/rollup/rollup/blob/HEAD/CHANGELOG.md#401)\n\n[Compare Source](https://togithub.com/rollup/rollup/compare/v4.0.0...v4.0.1)\n\n*2023-10-06*\n\n##### Bug Fixes\n\n-   Do not panic on trailing semicolons after class methods ([#&#8203;5173](https://togithub.com/rollup/rollup/issues/5173))\n-   Add artifact for arm64 linux musl target ([#&#8203;5176](https://togithub.com/rollup/rollup/issues/5176))\n\n##### Pull Requests\n\n-   [#&#8203;5172](https://togithub.com/rollup/rollup/pull/5172): chore(deps): lock file maintenance minor/patch updates ([@&#8203;renovate](https://togithub.com/renovate)\\[bot])\n-   [#&#8203;5173](https://togithub.com/rollup/rollup/pull/5173): fix: ignores empty statements in class body that is returned by SWC parser ([@&#8203;TrickyPi](https://togithub.com/TrickyPi))\n-   [#&#8203;5176](https://togithub.com/rollup/rollup/pull/5176): Fix linux arm musl build ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n\n### [`v4.0.0`](https://togithub.com/rollup/rollup/blob/HEAD/CHANGELOG.md#400)\n\n[Compare Source](https://togithub.com/rollup/rollup/compare/v3.29.4...v4.0.0)\n\n*2023-10-05*\n\n##### BREAKING CHANGES\n\n##### General Changes\n\n-   The minimal required Node version is now 18.0.0 ([#&#8203;5142](https://togithub.com/rollup/rollup/issues/5142))\n-   The browser build now relies on a WASM artifact that needs to be provided as well ([#&#8203;5073](https://togithub.com/rollup/rollup/issues/5073))\n-   The NodeJS build now relies on an optional native binary; for unsupported platforms, users can use the `@rollup/wasm-node` package that has the same interface as Rollup but relies on WASM artifacts ([#&#8203;5073](https://togithub.com/rollup/rollup/issues/5073))\n-   The \"with\" syntax for import attributes is not yet supported, awaiting support in SWC ([#&#8203;5073](https://togithub.com/rollup/rollup/issues/5073))\n-   The `INVALID_IMPORT_ASSERTION` error code has been replaced with `INVALID_IMPORT_ATTRIBUTE` ([#&#8203;5073](https://togithub.com/rollup/rollup/issues/5073))\n-   Rollup will now warn for `@__PURE__` and `@__NO_SIDE_EFFECTS__` annotations in invalid locations ([#&#8203;5165](https://togithub.com/rollup/rollup/issues/5165))\n-   If an entry module starts with a shebang comment `#!...`, this comment will be prepended to the output for `es` and `cjs` formats ([#&#8203;5163](https://togithub.com/rollup/rollup/issues/5163))\n-   File hashes will now use url-safe base64 encoded hashes ([#&#8203;5155](https://togithub.com/rollup/rollup/issues/5155))\n-   The maximum hash length has been reduced to 22 characters ([#&#8203;5155](https://togithub.com/rollup/rollup/issues/5155))\n-   The `RollupWarning` type has been removed in favor of the `RollupLog` type ([#&#8203;5147](https://togithub.com/rollup/rollup/issues/5147))\n\n##### Changes to Rollup Options\n\n-   Acorn plugins are no longer supported, the `acornInjectPlugins` option has been removed ([#&#8203;5073](https://togithub.com/rollup/rollup/issues/5073))\n-   The `acorn` option has been removed ([#&#8203;5073](https://togithub.com/rollup/rollup/issues/5073))\n-   `output.externalImportAssertions` has been deprecated in favor of `output.externalImportAttributes` ([#&#8203;5073](https://togithub.com/rollup/rollup/issues/5073))\n-   `inlineDynamicImports`, `manualChunks` and `preserveModules` have been removed on input option level: Please use the corresponding output options of the same names ([#&#8203;5143](https://togithub.com/rollup/rollup/issues/5143))\n-   Removed output options ([#&#8203;5143](https://togithub.com/rollup/rollup/issues/5143)):\n    -   `output.experimentalDeepDynamicChunkOptimization`: This option is no longer needed as Rollup now always runs the full chunking algorithm\n    -   `output.dynamicImportFunction`: Use the `renderDynamicImport` plugin hook instead\n    -   `output.namespaceToStringTag`: Use `output.generatedCode.symbols` instead\n    -   `output.preferConst`: Use `output.generatedCode.constBindings` instead\n\n##### Plugin API Changes\n\n-   For `this.resolve`, the default of the `skipSelf` option is now `true` ([#&#8203;5142](https://togithub.com/rollup/rollup/issues/5142))\n-   `this.parse` now only supports the `allowReturnOutsideFunction` option for now ([#&#8203;5073](https://togithub.com/rollup/rollup/issues/5073))\n-   Import assertions now use the [new import attribute AST structure](https://togithub.com/estree/estree/blob/master/experimental/import-attributes.md) ([#&#8203;5073](https://togithub.com/rollup/rollup/issues/5073))\n-   \"assertions\" have been replaced with \"attributes\" in various places of the plugin interface ([#&#8203;5073](https://togithub.com/rollup/rollup/issues/5073))\n-   If the import of a module id is handled by the `load` hook of a plugin, `rollup.watch` no longer watches the actual file if the module id corresponds to a real path; if this is intended, then the plugin is responsible for calling `this.addWatchFile` for any dependency files ([#&#8203;5150](https://togithub.com/rollup/rollup/issues/5150))\n-   The normalized input options provided by `buildStart` and other hooks no longer contain an `onwarn` handler; plugins should use `onLog` instead ([#&#8203;5147](https://togithub.com/rollup/rollup/issues/5147))\n-   `this.moduleIds` has been removed from the plugin context: Use `this.getModuleIds()` instead ([#&#8203;5143](https://togithub.com/rollup/rollup/issues/5143))\n-   The `hasModuleSideEffects` flag has been removed from the `ModuleInfo` returned by `thi s.getModuleInfo()`: Use `moduleSideEffects` on the `ModuleInfo` instead ([#&#8203;5143](https://togithub.com/rollup/rollup/issues/5143))\n\n##### Features\n\n-   Improve parsing speed by switching to a native SWC-based parser ([#&#8203;5073](https://togithub.com/rollup/rollup/issues/5073))\n-   Rollup will now warn for `@__PURE__` and `@__NO_SIDE_EFFECTS__` annotations in invalid locations ([#&#8203;5165](https://togithub.com/rollup/rollup/issues/5165))\n-   The parser is now exposed as a separate export `parseAst` ([#&#8203;5169](https://togithub.com/rollup/rollup/issues/5169))\n\n##### Bug Fixes\n\n-   Rollup no longer tries to watch virtual files if their name corresponds to an actual file name; instead, plugins handle watching via `this.addWatchFile()` ([#&#8203;5150](https://togithub.com/rollup/rollup/issues/5150))\n\n##### Pull Requests\n\n-   [#&#8203;5073](https://togithub.com/rollup/rollup/pull/5073): \\[v4.0] Switch parser to SWC and introduce native/WASM code ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n-   [#&#8203;5142](https://togithub.com/rollup/rollup/pull/5142): \\[v4.0] Set the default of skipSelf to true ([@&#8203;TrickyPi](https://togithub.com/TrickyPi))\n-   [#&#8203;5143](https://togithub.com/rollup/rollup/pull/5143): \\[v4.0] Remove deprecated features ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n-   [#&#8203;5144](https://togithub.com/rollup/rollup/pull/5144): \\[v4.0] Imporve the performance of generating ast and rollup ast nodes ([@&#8203;TrickyPi](https://togithub.com/TrickyPi))\n-   [#&#8203;5147](https://togithub.com/rollup/rollup/pull/5147): \\[v4.0] Remove onwarn from normalized input options ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n-   [#&#8203;5150](https://togithub.com/rollup/rollup/pull/5150): \\[v4.0] feat: Do not watch files anymore if their content is returned by the load hook ([@&#8203;TrickyPi](https://togithub.com/TrickyPi))\n-   [#&#8203;5154](https://togithub.com/rollup/rollup/pull/5154): \\[v4.0] Add parse option to allow return outside function ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n-   [#&#8203;5155](https://togithub.com/rollup/rollup/pull/5155): \\[v4.0] feat: implement hashing content in Rust ([@&#8203;TrickyPi](https://togithub.com/TrickyPi))\n-   [#&#8203;5157](https://togithub.com/rollup/rollup/pull/5157): \\[v4.0] Handle empty exports ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n-   [#&#8203;5160](https://togithub.com/rollup/rollup/pull/5160): chore(deps): lock file maintenance minor/patch updates ([@&#8203;renovate](https://togithub.com/renovate)\\[bot])\n-   [#&#8203;5163](https://togithub.com/rollup/rollup/pull/5163): \\[v4.0] feat: preserve shebang in entry module for CJS and ESM outputs ([@&#8203;TrickyPi](https://togithub.com/TrickyPi))\n-   [#&#8203;5164](https://togithub.com/rollup/rollup/pull/5164): \\[v4.0] fix: also strip BOM from code strings in JS ([@&#8203;TrickyPi](https://togithub.com/TrickyPi))\n-   [#&#8203;5165](https://togithub.com/rollup/rollup/pull/5165): \\[v4.0] warn for invalid annotations ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n-   [#&#8203;5168](https://togithub.com/rollup/rollup/pull/5168): \\[v4.0] Ensure we support new import attribute \"with\" syntax ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n-   [#&#8203;5169](https://togithub.com/rollup/rollup/pull/5169): \\[v4.0] Expose parser ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n🔕 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy42LjAiLCJ1cGRhdGVkSW5WZXIiOiIzNy42LjAiLCJ0YXJnZXRCcmFuY2giOiJtYWluIn0=-->\n","Url":"https://github.com/angular/angular-cli/pull/25970","RelatedDescription":"Closed or merged PR \"build: update dependency rollup to v4\" (#25970)"},{"Id":"1929299394","IsPullRequest":true,"CreatedAt":"2023-10-06T12:19:30","Actor":"lam131","Number":"25968","RawContent":null,"Title":"Create codacy.yml","State":"closed","Body":"## PR Checklist\r\n\r\nPlease check to confirm your PR fulfills the following requirements:\r\n\r\n<!-- Please check all that apply using \"x\". -->\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular-cli/blob/main/CONTRIBUTING.md#-commit-message-guidelines\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n## PR Type\r\n\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] Other... Please describe:\r\n\r\n## What is the current behavior?\r\n\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n## What is the new behavior?\r\n\r\n<!-- Please describe the new behavior that. -->\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular-cli/pull/25968","RelatedDescription":"Closed or merged PR \"Create codacy.yml\" (#25968)"},{"Id":"1929811887","IsPullRequest":true,"CreatedAt":"2023-10-06T11:56:11","Actor":"alan-agius4","Number":"25971","RawContent":null,"Title":"test(@angular-devkit/build-angular): add failing tests for lazy loading rebuild when SSR is enabled","State":"closed","Body":"\r\n\r\nWIP!\r\n\r\n## PR Checklist\r\n\r\nPlease check to confirm your PR fulfills the following requirements:\r\n\r\n<!-- Please check all that apply using \"x\". -->\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular-cli/blob/main/CONTRIBUTING.md#-commit-message-guidelines\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n## PR Type\r\n\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] Other... Please describe:\r\n\r\n## What is the current behavior?\r\n\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n## What is the new behavior?\r\n\r\n<!-- Please describe the new behavior that. -->\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular-cli/pull/25971","RelatedDescription":"Closed or merged PR \"test(@angular-devkit/build-angular): add failing tests for lazy loading rebuild when SSR is enabled\" (#25971)"},{"Id":"1929959861","IsPullRequest":false,"CreatedAt":"2023-10-06T11:22:32","Actor":"eneajaho","Number":"25972","RawContent":null,"Title":"application builder: cannot opt-out from patched zone events using zone-flags because of bundling issue with polyfills.","State":"open","Body":"### Command\n\nbuild\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nIf I need to opt-out from zone patched events, before we had to create a zone-flags.ts file and include it in polyfills. \r\n\r\nAnd the zone-flags would register a field in window object. \r\n\r\nNow, we do it, esbuild will bundle the polyfills like this\r\n![CleanShot 2023-10-06 at 13 19 36@2x](https://github.com/angular/angular-cli/assets/25394362/44c941b5-005f-444d-87a4-8f6f707c117b)\r\nWhat's the issue with it? Because of module import hoisting, the import will be loaded first (means zone.js will be loaded first) and the side-effect will be next, means that zone.js won't read the flags we put in the global window. \n\n### Minimal Reproduction\n\nAdd zone-flags.ts file \r\nAdd it to tsconfig.json\r\nAdd it first in the list of polyfills in angular.json \n\n### Exception or Error\n\n_No response_\n\n### Your Environment\n\n```text\nAngular CLI: 17.0.0-next.7\r\nNode: 18.17.0\r\nPackage Manager: yarn 3.4.1\r\nOS: darwin arm64\r\n\r\nAngular: 17.0.0-next.7\r\n... animations, cli, common, compiler, compiler-cli, core\r\n... elements, forms, platform-browser, platform-browser-dynamic\r\n... platform-server, router, service-worker\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1700.0-next.7\r\n@angular-devkit/build-angular   17.0.0-next.7\r\n@angular-devkit/core            17.0.0-next.7\r\n@angular-devkit/schematics      17.0.0-next.7\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/25972","RelatedDescription":"Open issue \"application builder: cannot opt-out from patched zone events using zone-flags because of bundling issue with polyfills.\" (#25972)"},{"Id":"1929044841","IsPullRequest":false,"CreatedAt":"2023-10-05T21:33:43","Actor":"muhamedkarajic","Number":"25966","RawContent":null,"Title":"Angular production build minifies the css class names","State":"closed","Body":"### Command\n\nbuild\n\n### Description\n\nI would like to know if Angular provies a way to minify the css/scss using the build process?\n\n### Describe the solution you'd like\n\nThe flag which enables me to do that.\n\n### Describe alternatives you've considered\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/25966","RelatedDescription":"Closed issue \"Angular production build minifies the css class names\" (#25966)"},{"Id":"1928569156","IsPullRequest":true,"CreatedAt":"2023-10-05T19:35:35","Actor":"clydin","Number":"25964","RawContent":null,"Title":"fix(@angular-devkit/build-angular): ensure Web Worker code file is replaced in esbuild builders","State":"closed","Body":"The previous Web Worker bundling code for the esbuild-based builders assumed that the first output file was the JavaScript code for the worker. While this is typically the case, when sourcemaps are enabled it may not be. To ensure the code file is used as the replacement path for the Worker constructor, the output files are now searched for the code file.","Url":"https://github.com/angular/angular-cli/pull/25964","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): ensure Web Worker code file is replaced in esbuild builders\" (#25964)"},{"Id":"1928557860","IsPullRequest":true,"CreatedAt":"2023-10-05T15:27:27","Actor":"alan-agius4","Number":"25963","RawContent":null,"Title":"docs: release notes for the v15.2.10 release","State":"closed","Body":"Cherry-picks the changelog from the \"15.2.x\" branch to the next branch (main).","Url":"https://github.com/angular/angular-cli/pull/25963","RelatedDescription":"Closed or merged PR \"docs: release notes for the v15.2.10 release\" (#25963)"}],"ResultType":"GitHubIssue"},"material2-Issues":{"Issues":[{"Id":"1929129041","IsPullRequest":true,"CreatedAt":"2023-10-09T19:53:08","Actor":"zarend","Number":"27908","RawContent":null,"Title":"fix(cdk/tree): update active item on focus","State":"closed","Body":"[fix(cdk/tree): update active item on focus](https://github.com/angular/components/pull/27908/commits/1c0149354a31f70626f3b0d4718fef6dd806f8b9) \r\n\r\nUpdate CdkTreeNode, TreeKeyManager and Tree \"Load More\" example\r\nregarding progrmatic focus.\r\n\r\n - In CdkTreeNode, update the active item on the focus event.\r\n - expose TreeKeyManager.updateActiveItem\r\n - remove TreeKeyManager.onClick\r\n - In \"Load More\" example, when clicking \"Load More\", focus first node\r\n   that is added.","Url":"https://github.com/angular/components/pull/27908","RelatedDescription":"Closed or merged PR \"fix(cdk/tree): update active item on focus\" (#27908)"},{"Id":"1930763789","IsPullRequest":true,"CreatedAt":"2023-10-09T18:33:35","Actor":"BobobUnicorn","Number":"27916","RawContent":null,"Title":"feat(cdk/tree): deprecate MatTreeFlattener","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/27916","RelatedDescription":"Closed or merged PR \"feat(cdk/tree): deprecate MatTreeFlattener\" (#27916)"},{"Id":"1933062257","IsPullRequest":false,"CreatedAt":"2023-10-09T13:24:10","Actor":"jbchr","Number":"27920","RawContent":null,"Title":"bug(mat-datepicker): Datepicker cannot be closed when animating","State":"open","Body":"### Is this a regression?\r\n\r\n- [X] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\nIntroduced in https://github.com/angular/components/pull/25843\r\n\r\n### Description\r\n\r\nWe have implemented a year-only-picker using mat-datepicker in listening to the (yearSelected) event and then closing the datepicker manually. However, if the user selects a new year fast enough the datepicker is still opening and animating (_isAnimating is true) and therefore the datepicker is not closed.  This was introduced in https://github.com/angular/components/pull/25843\r\n\r\nThe problem is that the `_isAnimating` property and the `_animationDone` subject are both not exposed through public API so we cannot wait for the animation to be finished to close the picker. However, exposing it would be not a good solution as this would require us to have knowledge of the internals of the component to implement the solution. Rather, the datepicker should be fixed so the close event is scheduled for after when the animation is finished.\r\n\r\nThanks!\r\n\r\n### Reproduction\r\n\r\nStackBlitz link: \r\nIt simulates opening the datepicker and then closing it very fast through setTimeout to visualize the issue.\r\nhttps://stackblitz.com/edit/datepicker-bug-material\r\n\r\n### Expected Behavior\r\n\r\nEither datepicker will close even if animating or datepicker will be scheduled for closing so it closes at the end of the animation.\r\n\r\n### Actual Behavior\r\n\r\nDatepicker is not closing while animating\r\n\r\n### Environment\r\n\r\n- Angular: 16.2.8\r\n- CDK/Material: 16.2.7\r\n- Browser(s): Chrome Version 117.0.5938.149  - all browsers.\r\n- Operating System (e.g. Windows, macOS, Ubuntu): macOs 13.2.1  - all operating systems\r\n","Url":"https://github.com/angular/components/issues/27920","RelatedDescription":"Open issue \"bug(mat-datepicker): Datepicker cannot be closed when animating\" (#27920)"},{"Id":"1924978215","IsPullRequest":true,"CreatedAt":"2023-10-08T15:01:23","Actor":"mmalerba","Number":"27891","RawContent":null,"Title":"fix(material/tabs): move unthemable tokens to theme mixin","State":"closed","Body":"Though these tokens are not currently affected by the theme, in the future they will be affected by the design system used for theming (M2 or M3)\r\n\r\nBREAKING CHANGE:\r\nThere are new styles emitted by mat.tabs-theme that are not emitted by any of: mat.tabs-color, mat.tabs-typography, mat.tabs-density. If you rely on the partial mixins only and don't call mat.tabs-theme, you can add mat.tabs-base to get the missing styles.","Url":"https://github.com/angular/components/pull/27891","RelatedDescription":"Closed or merged PR \"fix(material/tabs): move unthemable tokens to theme mixin\" (#27891)"},{"Id":"1930940558","IsPullRequest":true,"CreatedAt":"2023-10-06T21:13:27","Actor":"BobobUnicorn","Number":"27919","RawContent":null,"Title":"feat(cdk/tree): add demo for NestedTreeNode w/childrenAccessor","State":"open","Body":"","Url":"https://github.com/angular/components/pull/27919","RelatedDescription":"Open PR \"feat(cdk/tree): add demo for NestedTreeNode w/childrenAccessor\" (#27919)"},{"Id":"1930774687","IsPullRequest":true,"CreatedAt":"2023-10-06T19:13:35","Actor":"josephperrott","Number":"27917","RawContent":null,"Title":"Migrate snapshots jobs to GHA","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/27917","RelatedDescription":"Closed or merged PR \"Migrate snapshots jobs to GHA\" (#27917)"},{"Id":"1930810132","IsPullRequest":true,"CreatedAt":"2023-10-06T19:13:27","Actor":"josephperrott","Number":"27918","RawContent":null,"Title":"Complete migration to GHA","State":"open","Body":"","Url":"https://github.com/angular/components/pull/27918","RelatedDescription":"Open PR \"Complete migration to GHA\" (#27918)"},{"Id":"1930164736","IsPullRequest":true,"CreatedAt":"2023-10-06T13:14:06","Actor":"angular-robot","Number":"27915","RawContent":null,"Title":"build: update angular shared dev-infra code","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@angular/build-tooling](https://togithub.com/angular/dev-infra-private-build-tooling-builds) | devDependencies | digest | `2807276` -> `6e0fdac` |\n| [@angular/ng-dev](https://togithub.com/angular/dev-infra-private-ng-dev-builds) | devDependencies | digest | `16b9f55` -> `f128af3` |\n| angular/dev-infra | action | digest | `fb30926` -> `c4a2ff4` |\n\n🔡 If you wish to disable git hash updates, add `\":disableDigestUpdates\"` to the extends array in your config.\n\n---\n\n### Configuration\n\n📅 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR is behind base branch, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://togithub.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy42LjAiLCJ1cGRhdGVkSW5WZXIiOiIzNy42LjAiLCJ0YXJnZXRCcmFuY2giOiJtYWluIn0=-->\n","Url":"https://github.com/angular/components/pull/27915","RelatedDescription":"Open PR \"build: update angular shared dev-infra code\" (#27915)"},{"Id":"1930088478","IsPullRequest":false,"CreatedAt":"2023-10-06T12:36:29","Actor":"masartbenji","Number":"27914","RawContent":null,"Title":"bug(MatDialog): Elements under dialog not rerendered rightly after closing","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nI have an encoding page on angular, in that page i can open a dialog of article in not editable mode, i have a button to switch article in edition mode. After to switch the component in edit, and when I close dialog, some components who were under dialog are not rerendered correctly, so I have, per example one truncated input. In the article dialog, I have one p-editor that come from PrimeNg library, and when I remove it from dialog, the bug disappeared. This bug doesn't occur on Firefox\n\n### Reproduction\n\nStackBlitz link: \r\nSteps to reproduce:\r\n1. \r\n2.\r\n\n\n### Expected Behavior\n\nWhen I close dialog, I want my inputs displaying rightly\n\n### Actual Behavior\n\nI have an encoding page on angular, in that page i can open a dialog of article in not editable mode, i have a button to switch article in edition mode. After to switch the component in edit, and when I close dialog, some components who were under dialog are not rerendered correctly, so I have, per example one truncated input. In the article dialog, I have one p-editor that come from PrimeNg library, and when I remove it from dialog, the bug disappeared.\n\n### Environment\n\n- Angular: 15\r\n- `CDK/Material:` 15.2.9\r\n- Browser(s): Google chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows 11\r\n","Url":"https://github.com/angular/components/issues/27914","RelatedDescription":"Open issue \"bug(MatDialog): Elements under dialog not rerendered rightly after closing\" (#27914)"},{"Id":"1925845223","IsPullRequest":true,"CreatedAt":"2023-10-06T12:34:34","Actor":"MA-Maddin","Number":"27894","RawContent":null,"Title":"docs(material/toolbar): fix indentation in example","State":"closed","Body":"Fixes the indentation of the toolbars' Overview example code.","Url":"https://github.com/angular/components/pull/27894","RelatedDescription":"Closed or merged PR \"docs(material/toolbar): fix indentation in example\" (#27894)"},{"Id":"1928442589","IsPullRequest":true,"CreatedAt":"2023-10-06T12:32:16","Actor":"json-derulo","Number":"27903","RawContent":null,"Title":"docs(material/form-field): use correct input color in custom control example","State":"closed","Body":"In the Form Field docs, there is an example how to create a custom control. In this example, the inputs of the custom control don't inherit the text color from the form field. In light mode, this is just fine. But when switching to a dark mode theme, the color of the inputs default to the browser default (black):\r\n\r\n<img width=\"271\" alt=\"image\" src=\"https://github.com/angular/components/assets/18580672/536f00bc-f750-4f73-9491-437c820bbeca\">\r\n\r\nIt should inherit the color from the form field, which is fixed by this PR.","Url":"https://github.com/angular/components/pull/27903","RelatedDescription":"Closed or merged PR \"docs(material/form-field): use correct input color in custom control example\" (#27903)"},{"Id":"1929960462","IsPullRequest":false,"CreatedAt":"2023-10-06T11:22:57","Actor":"shammy8","Number":"27913","RawContent":null,"Title":"bug(menu): Right click closes CDK Menu but not Component Menu","State":"open","Body":"### Is this a regression?\r\n\r\n- [ ] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nWhen a mat-menu is opened and the user right clicks anywhere outside the mat-menu it does not close. Whereas for the cdkMenu when you right click outside the menu it close it. Is this the expected behaviour? \r\n\r\nAnd is there any way to make the cdkMenu behave the same as mat-menu?\r\n\r\nThis makes inspecting the cdkMenu/cdkMenuItem etc. very hard as the menu disappears in the dom before I can open the console and inspect it. \r\n\r\n### Reproduction\r\n\r\nStackBlitz link: https://stackblitz.com/run?file=src%2Fapp%2Fcdk-menu-standalone-menu-example.ts\r\nSteps to reproduce:\r\n1. Open the cdkMenu\r\n2. Right click outside the menu\r\n3. The menu closes\r\n\r\nStackBlitz link: https://stackblitz.com/run?file=src%2Fapp%2Fmenu-icons-example.ts\r\nSteps to reproduce:\r\n1. Open the mat-menu\r\n2. Right click outside the menu\r\n3. The menu stays open\r\n\r\n### Expected Behavior\r\n\r\nI expect the cdkMenu and mat-menu to behave the same\r\n\r\n### Actual Behavior\r\n\r\ncdkMenu and mat-menu do not behave the same when right clicking outside the menu.\r\n\r\n### Environment\r\n\r\n- Angular: 16\r\n- CDK/Material: 16\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/27913","RelatedDescription":"Open issue \"bug(menu): Right click closes CDK Menu but not Component Menu\" (#27913)"},{"Id":"1929940257","IsPullRequest":false,"CreatedAt":"2023-10-06T11:11:48","Actor":"ilyakonrad","Number":"27912","RawContent":null,"Title":"docs-bug(website): Changing the version in the website's header should redirect to the page you were on","State":"open","Body":"### Documentation Feedback\n\nImagine you're reading docs on mat-select of version **x** and you want to check what changed in version **y**. When you select a different version in the header, you're redirected to the main page.\r\n\r\nIt's really annoying to do two unnecessary clicks and scrolling when trying to compare the same component in different versions. Especially while headaching your way through upgrade from version 14 to 16.\r\n\r\nAlso a way to select a different version by opening it in a separate tab (like a link via mousewheel button) would be really, I mean really useful. That way you can see the difference even better and basically compare things side by side.\r\n\r\nThe solution might also be to put a version select inside of the component page, but again it would have much more value if I could open another version in a new tab.\r\n\r\nLet's make the documentation of the component library that represents very good UI/UX design as easy to use and as user-friendly as the design itself.\n\n### Affected documentation page\n\nhttps://material.angular.io/","Url":"https://github.com/angular/components/issues/27912","RelatedDescription":"Open issue \"docs-bug(website): Changing the version in the website's header should redirect to the page you were on\" (#27912)"},{"Id":"1929849390","IsPullRequest":false,"CreatedAt":"2023-10-06T10:15:24","Actor":"magentaRE","Number":"27911","RawContent":null,"Title":"bug(sidenav/drawer/focustrap): NVDA announces \"blank\" when interacting with focus trap","State":"open","Body":"### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\nlegacy non MDC-based components\n\n### Description\n\n`mat-sidenav` generates two `<div>` elements that have tabindex set to 0, **even if the sidenav is closed**. This happens in `mode=\"over\"` of sidenav:\r\n\r\n`<div class=\"cdk-visually-hidden cdk-focus-trap-anchor\" aria-hidden=\"true\" tabindex=\"0\"></div>`\r\n\r\nAlthough they have `aria-hidden=\"true\"`, they can be tabbed into which creates **major** accessibility issue for keyboard users. In previous versions of sidenav, the `tabindex=\"0\"` was only added **after** the sidenav was opened and it was **removed** when user closed the sidenav. User can tab onto those 2 `div`s (with the sidenav closed). That creates 2 invisible elements which can confuse user while navigating through the website.\r\n\r\nThis issue is basically same as #27623, but in that issue, the concern was that Axe core found 2 issues, which is different to this issue. This issue is concerned about tabbing onto \"invisible\" elements. IMO, this is a regression bug and adding `tabindex=\"0\"` should be done only when the sidenav is opened. Also, will #27629 fix this issue as well?\n\n### Reproduction\n\nStackBlitz link: https://stackblitz.com/edit/rwjkdz-juypse?file=src%2Fexample%2Fsidenav-autosize-example.html\r\nSteps to reproduce:\r\n1. Open any `mat-sidenav` example with the `mode=\"over\"` in the new MDC components.\r\n2. Use keyboard to navigate through the page.\r\n3. User tabs onto 2 invisible elements created by the sidenav (with sidenav being closed)\r\n\n\n### Expected Behavior\n\nThere are no elements that can be tabbed onto created by sidenav when the sidenav is closed.\n\n### Actual Behavior\n\nThere are 2 `<div>` elements (used for creating focus trap) encapsulating sidenav that can be tabbed onto created by sidenav (with the sidenav closed).\n\n### Environment\n\n- Angular: 16.2.7\r\n- CDK/Material: 16.2.7\r\n- Browser(s): any\r\n- Operating System (e.g. Windows, macOS, Ubuntu): any\r\n","Url":"https://github.com/angular/components/issues/27911","RelatedDescription":"Open issue \"bug(sidenav/drawer/focustrap): NVDA announces \"blank\" when interacting with focus trap\" (#27911)"},{"Id":"1928829825","IsPullRequest":true,"CreatedAt":"2023-10-06T04:39:25","Actor":"wagnermaciel","Number":"27904","RawContent":null,"Title":"fix(material/button): fix color tokens of raised buttons","State":"closed","Body":"* fix bug where the raised button is accidentally using the flat button color tokens","Url":"https://github.com/angular/components/pull/27904","RelatedDescription":"Closed or merged PR \"fix(material/button): fix color tokens of raised buttons\" (#27904)"},{"Id":"1929362771","IsPullRequest":true,"CreatedAt":"2023-10-06T03:10:47","Actor":"wagnermaciel","Number":"27910","RawContent":null,"Title":"fix(material/button): fix outlined button focus color","State":"open","Body":"","Url":"https://github.com/angular/components/pull/27910","RelatedDescription":"Open PR \"fix(material/button): fix outlined button focus color\" (#27910)"},{"Id":"1929157041","IsPullRequest":false,"CreatedAt":"2023-10-05T22:18:07","Actor":"Achilles1515","Number":"27909","RawContent":null,"Title":"bug(material/chips): MatChipSelectionChange not emitting on certain deselections","State":"open","Body":"### Is this a regression?\r\n\r\n- [ ] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\n`selectionChange` output for `MatChipOption` is [stated to be](https://material.angular.io/components/chips/api#MatChipOption):\r\n>  Emitted when the chip is selected or **deselected**.\r\n\r\nBut this is not true for deselection. It appears the event is only emitted for deselection when **the chip in question** is manually selected/toggled by the user. When the `MatChipListbox` is **in single-select mode and a chip is currently selected**, selecting a different chip means the prior chip is deselected --> deselecting should mean emitting the `selectionChange` event, but it is not happening in this scenario.\r\n\r\nSee the below StackBlitz link.\r\n\r\n### Reproduction\r\n\r\nStackBlitz link: https://stackblitz.com/edit/firqg1\r\nSteps to reproduce:\r\n\r\n(First chip is initially selected)\r\n1.  Click on the Second chip.\r\n2. First chip becomes deselected, but no `selectionChange` output event was emitted (in this case, the `MatChipSelectionChange` object should be logged to the console).\r\n\r\n\r\n### Expected Behavior\r\n\r\n`selectionChange` output for the First chip should have emitted.\r\n\r\n### Actual Behavior\r\n\r\n`selectionChange` output for the First chip does not emit.\r\n\r\n### Environment\r\n\r\n- Angular: 16\r\n- CDK/Material: 16.2.7 (latest)\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/27909","RelatedDescription":"Open issue \"bug(material/chips): MatChipSelectionChange not emitting on certain deselections\" (#27909)"},{"Id":"1928995432","IsPullRequest":true,"CreatedAt":"2023-10-05T20:44:08","Actor":"wagnermaciel","Number":"27907","RawContent":null,"Title":"fix: ci lint failure","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/27907","RelatedDescription":"Closed or merged PR \"fix: ci lint failure\" (#27907)"},{"Id":"1928940504","IsPullRequest":true,"CreatedAt":"2023-10-05T19:38:17","Actor":"wagnermaciel","Number":"27906","RawContent":null,"Title":"refactor(material/button): switch outlined button to tokens theming API","State":"open","Body":"","Url":"https://github.com/angular/components/pull/27906","RelatedDescription":"Open PR \"refactor(material/button): switch outlined button to tokens theming API\" (#27906)"},{"Id":"1928907520","IsPullRequest":true,"CreatedAt":"2023-10-05T19:16:40","Actor":"mmalerba","Number":"27905","RawContent":null,"Title":"fix(material/slide-toggle): move unthemable tokens to theme mixin","State":"open","Body":"Though these tokens are not currently affected by the theme, in the future they will be affected by the design system used for theming (M2 or M3)\r\n\r\nBREAKING CHANGE:\r\nThere are new styles emitted by mat.slide-toggle-theme that are not emitted by any of: mat.slide-toggle-color, mat.slide-toggle-typography, mat.slide-toggle-density. If you rely on the partial mixins only and don't call mat.slide-toggle-theme, you can add mat.slide-toggle-base to get the missing styles.","Url":"https://github.com/angular/components/pull/27905","RelatedDescription":"Open PR \"fix(material/slide-toggle): move unthemable tokens to theme mixin\" (#27905)"},{"Id":"1926561705","IsPullRequest":true,"CreatedAt":"2023-10-05T17:11:07","Actor":"mmalerba","Number":"27898","RawContent":null,"Title":"fix(material/theming): Fix subtle bug in current-selector-or-root","State":"closed","Body":"There was a sublte bug in the previous implementation. Consider the case:\r\n\r\n```scss\r\ndiv {\r\n  @include current-selector-or-root() {\r\n    color: red;\r\n  }\r\n  color: green;\r\n}\r\n```\r\n\r\nThe previous implementation lifted the `color: red;` into a separate selector block that came *after* the initial one, resulting in the order being flipped:\r\n\r\n```css\r\ndiv {\r\n  color: green;\r\n}\r\ndiv {\r\n  color: red;\r\n}\r\n```\r\n\r\nThe new code will produce the correct ordering:\r\n\r\n```css\r\ndiv {\r\n  color: red;\r\n  color: green;\r\n}\r\n```","Url":"https://github.com/angular/components/pull/27898","RelatedDescription":"Closed or merged PR \"fix(material/theming): Fix subtle bug in current-selector-or-root\" (#27898)"},{"Id":"1927741383","IsPullRequest":false,"CreatedAt":"2023-10-05T08:54:04","Actor":"saithis","Number":"27902","RawContent":null,"Title":"feat(datepicker): use invalid date instead of null when the date input it not empty","State":"open","Body":"### Feature Description\n\nSet the value to invalid date instead of null, when the input is filled, but invalid. As this would be a breaking change, maybe introduce a setting to optionally enable this.\n\n### Use Case\n\nCurrently when you use a datepicker without ngModel or reactive forms the input wont get red for invalid inputs and the value is null. So you cant differenciate between empty input and something invalid. Even aria-invalid is \"false\". \r\n\r\nWith this feature you could solve this.","Url":"https://github.com/angular/components/issues/27902","RelatedDescription":"Open issue \"feat(datepicker): use invalid date instead of null when the date input it not empty\" (#27902)"},{"Id":"1925011820","IsPullRequest":true,"CreatedAt":"2023-10-04T21:32:32","Actor":"mmalerba","Number":"27893","RawContent":null,"Title":"refactor(multiple): Add base mixin for components with no base tokens","State":"closed","Body":"This ensures API consistency and gives us a place to put base tokens, should any be added in the future.","Url":"https://github.com/angular/components/pull/27893","RelatedDescription":"Closed or merged PR \"refactor(multiple): Add base mixin for components with no base tokens\" (#27893)"},{"Id":"1926761752","IsPullRequest":true,"CreatedAt":"2023-10-04T18:34:40","Actor":"wagnermaciel","Number":"27901","RawContent":null,"Title":"Bump version to \"v17.0.0-next.6\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/27901","RelatedDescription":"Closed or merged PR \"Bump version to \"v17.0.0-next.6\" with changelog.\" (#27901)"},{"Id":"1926743497","IsPullRequest":true,"CreatedAt":"2023-10-04T18:17:57","Actor":"wagnermaciel","Number":"27900","RawContent":null,"Title":"docs: release notes for the v16.2.7 release","State":"closed","Body":"Cherry-picks the changelog from the \"16.2.x\" branch to the next branch (main).","Url":"https://github.com/angular/components/pull/27900","RelatedDescription":"Closed or merged PR \"docs: release notes for the v16.2.7 release\" (#27900)"},{"Id":"1926724713","IsPullRequest":true,"CreatedAt":"2023-10-04T18:15:38","Actor":"wagnermaciel","Number":"27899","RawContent":null,"Title":"Bump version to \"v16.2.7\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/27899","RelatedDescription":"Closed or merged PR \"Bump version to \"v16.2.7\" with changelog.\" (#27899)"},{"Id":"1926492203","IsPullRequest":false,"CreatedAt":"2023-10-04T15:31:50","Actor":"souzaemmanuel","Number":"27897","RawContent":null,"Title":"bug(mat-divider): mat-divider not displaying when printing or saving in Firefox","State":"open","Body":"### Is this a regression?\r\n\r\n- [ ] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nWhen using window.print() function or press Ctrl + P to print or save a webpage, the mat-divider component is not visible in the printed or saved output. However, it displays correctly on the screen in Chrome.\r\n\r\nI was able to reproduce using the StackBlitz code provided for the angular material official component page: https://v12.material.angular.io/components/divider/overview\r\n\r\nThere is a way to make it work and display when printing and saving using Firefox?\r\n\r\n### Reproduction\r\n\r\nStackBlitz link: https://stackblitz.com/angular/byleybgjaxy?file=src%2Fapp%2Fdivider-overview-example.ts\r\n\r\n**Steps to reproduce:**\r\n1. Open the StackBlitz (or another page that contains mat-divider) in Firefox.\r\n2. Type on the console window.print() or ctrl + p.\r\n3. Observe that the mat-divider component is missing in the printed or saved output.\r\n\r\n**Using chrome:**\r\n ![image](https://github.com/angular/components/assets/31477606/26df1781-3513-496f-a4e5-e6c48b8c1820)\r\n\r\n**Using Firefox:** \r\n![image](https://github.com/angular/components/assets/31477606/cd47c140-31f2-4da5-86fc-c2427421cbf2)\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Expected Behavior\r\n\r\nDisplay the divider when printing and saving using Firefox\r\n\r\n### Actual Behavior\r\n\r\nThe mat-divider component is not visible in the printed or saved output.\r\n\r\n### Environment\r\n\r\n- Angular: 12.2.13\r\n- CDK/Material: 12.2.17\r\n- Browser(s): Firefox  version 118.0.1 (64 bit)\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows 11\r\n","Url":"https://github.com/angular/components/issues/27897","RelatedDescription":"Open issue \"bug(mat-divider): mat-divider not displaying when printing or saving in Firefox\" (#27897)"},{"Id":"1926415568","IsPullRequest":true,"CreatedAt":"2023-10-04T14:57:39","Actor":"cromefire","Number":"27896","RawContent":null,"Title":"fix(material/datepicker): Fixed raw date value being compared","State":"open","Body":"In the function [`isInRange`](https://github.com/angular/components/blob/bdef0c399ae37a64cf6cb204fdb273b5e619daf5/src/material/datepicker/calendar-body.ts#L617) numeric values are supposed to be compared. It is being called from [`_isInRange`](https://github.com/angular/components/blob/bdef0c399ae37a64cf6cb204fdb273b5e619daf5/src/material/datepicker/calendar-body.ts#L342) where `value` is compared to `startValue` and `endValue` which are calculated in [`_setRanges`](https://github.com/angular/components/blob/1dc30e8eacae1f318b53a9d22a462571b9de8ddb/src/material/datepicker/month-view.ts#L599-L600) using [`_getCellCompareValue`](https://github.com/angular/components/blob/1dc30e8eacae1f318b53a9d22a462571b9de8ddb/src/material/datepicker/month-view.ts#L578) which returns a number derived from `Date` derived from the original generic date object. `value` though is not a number like the typing might suggest, but a generic date object [retrieved from `MatCalendarCell.rawValue`](https://github.com/angular/components/blob/bdef0c399ae37a64cf6cb204fdb273b5e619daf5/src/material/datepicker/calendar-body.ts#L515).\r\n\r\nThe correct way to compare these values would be to derive **all** 3 `startValue`, `endValue` and `value` using `_getCellCompareValue`, luckily the `MatCalendarCell` already contains such a derived value: [`compareValue`](https://github.com/angular/components/blob/bdef0c399ae37a64cf6cb204fdb273b5e619daf5/src/material/datepicker/calendar-body.ts#L47), which is being [derived using `_getCellCompareValue`]()\r\n\r\n#### Why is this a problem and why isn't it a problem for most?\r\nNormally when using `Date` as your generic date object of choice, the [`isInRange`](https://github.com/angular/components/blob/bdef0c399ae37a64cf6cb204fdb273b5e619daf5/src/material/datepicker/calendar-body.ts#L617) function implicitly calls the `valueOf()` function from `Date`, which happens to be equivalent to the logic in [`_getCellCompareValue`](https://github.com/angular/components/blob/1dc30e8eacae1f318b53a9d22a462571b9de8ddb/src/material/datepicker/month-view.ts#L578).\r\n\r\nBut we are using the Picker with `Temporal.PlainDate` (using a polyfill), which [explicitly forbids](https://tc39.es/proposal-temporal/docs/plaindate.html#valueOf) calling the `valueOf()` function and the logic breaks down. This change should not result in any visible change for anyone using generic date objects that already do the conversion to unix timestamp implicitly, just that it's done explicitly now, but it will fix compatibility with other choices that don't do this.\r\n\r\nAlso on another note: The current way this is implemented violates TypeScript constraints, because it passes a `Date` or other date type to a function which only accepts a `number`.","Url":"https://github.com/angular/components/pull/27896","RelatedDescription":"Open PR \"fix(material/datepicker): Fixed raw date value being compared\" (#27896)"},{"Id":"1926259097","IsPullRequest":false,"CreatedAt":"2023-10-04T13:46:52","Actor":"shammy8","Number":"27895","RawContent":null,"Title":"bug(menu): Disabled mat-menu-item on anchor tag still clickable","State":"open","Body":"### Is this a regression?\r\n\r\n- [ ] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nA disabled mat-menu-item anchor  ie`<a disabled mat-menu-item (click)=\"stillGetsCalled()\" routerLink=\"/stillNavigates\"> Anchor</a>` looks disabled but is still clickable.\r\n\r\nHowever a regular href `<a disabled mat-menu-item href=\"https://www.google.com\"> Google</a>` works as expected\r\n\r\nThis occurs with the cdk menu item too. \r\n\r\n### Reproduction\r\n\r\nStackBlitz link: https://stackblitz.com/edit/32sike?file=src%2Fexample%2Fmenu-icons-example.html\r\nSteps to reproduce:\r\n1. Click the 3 dot menu, click Disabled Anchor Click, 'anchor click' is logged to the console\r\n2. Click the 3 dot menu, click Disabled Anchor RouterLink, NewComponent is rendered in the `router-outlet`\r\n\r\n\r\n### Expected Behavior\r\n\r\n`<a disabled mat-menu-item (click)=\"stillGetsCalled()\" routerLink=\"/stillNavigates\">` should not be clickable \r\n\r\n### Actual Behavior\r\n\r\n`<a disabled mat-menu-item (click)=\"stillGetsCalled()\" routerLink=\"/stillNavigates\">` is clickable\r\n\r\n### Environment\r\n\r\n- Angular: 16\r\n- CDK/Material: 16\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows 11\r\n","Url":"https://github.com/angular/components/issues/27895","RelatedDescription":"Open issue \"bug(menu): Disabled mat-menu-item on anchor tag still clickable\" (#27895)"},{"Id":"1925007394","IsPullRequest":false,"CreatedAt":"2023-10-03T21:51:32","Actor":"lin-brian-l","Number":"27892","RawContent":null,"Title":"[Android] Talkback screenreader does not obey `FocusTrap`","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\n`ConfigurableFocusTrap.focusInitialElementWhenReady()` successfully traps the user's focus on an element on Chrome, but it does not trap the focus of the Talkback screenreader. See the attached videos for details.\r\n\r\n<details><summary>Demos</summary>\r\n\r\nChrome - focus is trapped within the modal\r\n\r\nhttps://github.com/angular/components/assets/29388364/2d90792b-3f00-4227-85c7-523ccf6b48fa\r\n\r\nTalkback - focus is **not** trapped within the modal\r\n\r\nhttps://github.com/angular/components/assets/29388364/1f530c5b-650c-401d-9bf6-e2768e7ce14a\r\n\r\n</details>\n\n### Reproduction\n\n[StackBlitz link](https://stackblitz.com/edit/stackblitz-starters-tcuzva?file=src%2Fmain.ts) \r\nSteps to reproduce:\r\n1. Activate Talkback\r\n2. In the demo app, click on the \"Open Modal\" button\r\n3. Tab through the elements in the modal by swiping right.\r\n\n\n### Expected Behavior\n\nFocus behavior should match Desktop, where it cannot leave the modal.\n\n### Actual Behavior\n\nOn Talkback, focus behavior leaves the modal and phone elements can be focused.\n\n### Environment\n\n- Angular: 16.2.7\r\n- CDK/Material: 16.2.6\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Android\r\n","Url":"https://github.com/angular/components/issues/27892","RelatedDescription":"Open issue \"[Android] Talkback screenreader does not obey `FocusTrap`\" (#27892)"}],"ResultType":"GitHubIssue"}},"RunOn":"2023-10-10T03:30:02.9675091Z","RunDurationInMilliseconds":1944}