{"Data":{"Angular-Issues":{"Issues":[{"Id":"1074924147","IsPullRequest":true,"CreatedAt":"2021-12-08T23:10:48","Actor":"JoostK","Number":"44412","RawContent":null,"Title":"experiment: code size optimizations","State":"open","Body":"WIP: not ready for review","Url":"https://github.com/angular/angular/pull/44412","RelatedDescription":"Open PR \"experiment: code size optimizations\" (#44412)"},{"Id":"1074822329","IsPullRequest":true,"CreatedAt":"2021-12-08T20:56:16","Actor":"JoostK","Number":"44411","RawContent":null,"Title":"Ve cleanup","State":"open","Body":"See individual commits for general VE cleanup in the compiler.","Url":"https://github.com/angular/angular/pull/44411","RelatedDescription":"Open PR \"Ve cleanup\" (#44411)"},{"Id":"1074811543","IsPullRequest":true,"CreatedAt":"2021-12-08T20:40:34","Actor":"bampakoa","Number":"44410","RawContent":null,"Title":"docs: update Aristeidis Bampakos bio","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/44410","RelatedDescription":"Open PR \"docs: update Aristeidis Bampakos bio\" (#44410)"},{"Id":"1074752696","IsPullRequest":true,"CreatedAt":"2021-12-08T19:25:21","Actor":"alxhub","Number":"44408","RawContent":null,"Title":"Bump version to \"v13.1.0-rc.0\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular/pull/44408","RelatedDescription":"Closed or merged PR \"Bump version to \"v13.1.0-rc.0\" with changelog.\" (#44408)"},{"Id":"1074751100","IsPullRequest":false,"CreatedAt":"2021-12-08T19:18:17","Actor":"dylhunn","Number":"44407","RawContent":null,"Title":"DRAFT: Typed Forms RFC","State":"open","Body":"# **This issue is being used as a scratchpad for the upcoming Typed Forms RFC. Do not share or comment on it, as it will be deleted.**\r\n\r\n# RFC: Strictly Typed Reactive Forms\r\n\r\nAuthor: Dylan Hunn\r\nContributors: Alex Rickabaugh, Andrew Kushnir\r\nArea: Angular Framework: Forms Package\r\nPosted: November 30, 2021\r\nStatus: Open (will close no earlier than January 15, 2022)\r\nRelated Issue: \r\n\r\nThe goal of this RFC is to validate the design with the community, solicit feedback on open questions, and enable experimentation via a non-production-ready prototype included in this proposal.\r\n\r\n## Detailed Design Doc\r\n\r\nYou can find the [complete design doc here](https://docs.google.com/document/d/1cWuBE-oo5WLtwkLFxbNTiaVQGNk8ipgbekZcKBeyxxo). Understanding the full design is **not** necessary to experiment with the demo package or to give feedback.\r\n\r\n## Try the Prototype\r\n\r\nThere is a [prototype PR](https://github.com/angular/angular/pull/43834) with an implementation. Below, we provide two methods for trying it out. **This is a draft implementation, with missing features and non-final design aspects.**\r\n\r\nTo try it with a demo app, follow these steps:\r\n\r\n1. Download the demo app (`git clone https://github.com/dylhunn/typed-forms-example-app.git && cd typed-forms-example-app`)\r\n2. Install all dependencies (`npm i --force -g yarn && yarn`)\r\n3. Run the app (`ng serve --open`)\r\n4. Try out the new types by editing `src/app/profile/profile.component.ts`.\r\n\r\nTo try it with your app, follow these steps:\r\n\r\n1. Ensure your app is on Angular 13.0.x.\r\n2. Create a new branch (`git checkout -b typed-forms-experiment`).\r\n3. Open package.json in your project’s root directory. Find `@angular/forms`, and replace `~13.0.x` with `https://1089952-24195339-gh.circle-artifacts.com/0/angular/forms-pr43834-4b2427c1a1.tgz`. Find `@angular/core`, and replace `~13.0.x` with `https://1089977-24195339-gh.circle-artifacts.com/0/angular/core-pr43834-665fbc8507.tgz`.\r\n4. Install the new dependencies. (If you’re using yarn, just run the `yarn` command.) You will see peer dependency warnings; these should be ignored and/or overridden.\r\n5. Run the migration: `ng update @angular/core --migrate-only migration-v14-typed-forms`.\r\n6. You should now be able to build and run your app, and try out the new typed forms APIs.\r\n\r\n## Motivation\r\n\r\nConsider the following forms schema representing a party, which allows users to enter details about their very own party:\r\n```\r\ntype Party = {\r\n  address: {\r\n    house: number,\r\n    street: string,\r\n  },\r\n  formal: boolean,\r\n  foodOptions: Array<{\r\n    food: string,\r\n    price: number,\r\n  }>\r\n}\r\n```\r\n\r\nIn the current version of Angular Forms, we can construct a corresponding form. Here’s such a form, populated with a default value. This default party is happening at `1234 Powell St`, is not a formal event, and has no food options:\r\n```\r\nconst partyForm = new FormGroup({\r\n  address: new FormGroup({house: new FormControl(1234),\r\n                          street: new FormControl('Powell St')}),\r\n  formal: new FormControl(false),\r\n  foodOptions: new FormArray([])\r\n});\r\n```\r\n\r\nNow let's try to interact with our form. As you can see, we frequently get values of type `any` when reading it. The type any is far too permissive, and is very unsafe. This issue is pervasive across the entire Forms API:\r\n```\r\nconst partyDetails = partyForm.getRawValue(); // type `any`\r\nconst where = partyForm.get('address.street')!.value; // type `any`\r\npartyForm.controls.formal.setValue(true); // param has type `any`\r\n```\r\n\r\nHowever, with typed forms, the types are highly specific and far more helpful:\r\n```\r\nconst partyDetails = partyForm.getRawValue(); // a `Party` object\r\nconst where = partyForm.get('address.street')!.value; // type `string`\r\npartyForm.controls.formal.setValue(true); // param has type `boolean`\r\n```\r\n\r\nThese are much more useful types, and consumers that handle them incorrectly will get a compiler error (instead of a silent bug). For example, trying to do arithmetic on a value of a string control will now be an error: `partyForm.get('address.street')!.value + 6`.\r\n\r\nThis illustrates the purpose of typed forms: the API now reflects the structure of the form and its data. These benefits should prove especially useful for very complex or deeply nested forms.\r\n\r\n## Goals and Non-Goals\r\n\r\n**Goals**\r\n1. Improve the developer experience for Angular Reactive Forms.\r\n2. Avoid fragmenting the ecosystem around forms.\r\n3. Provide as much type-safety as possible, balancing against API complexity.\r\n4. Support gradual typing, allowing typed and untyped forms to be mixed.\r\n5. Ability to land the changes without breaking 1p or 3p ecosystems (including the ability to migrate google3 incrementally).\r\n\r\n**Non-Goals**\r\n1. We don't intend to change template-driven forms.\r\n2. We also are not targeting non-model classes right now, such as Validator and ControlValueAccessor.\r\n3. We will not change the runtime behavior of the Forms package -- everything should work the same as today.\r\n4. This is not a redesign of Forms; improvements are narrowly focused on typing the existing system.\r\n\r\n## New API: Whirlwind Tour\r\n\r\nLet’s see some example typings. In particular, we will look at `AbstractControl` and its child `FormGroup`. (Other classes have new types as well, but these two are a nicely representative example. See the PR for complete typings.)\r\n```\r\nexport abstract class AbstractControl<ValT = any, RawValT extends ValT = ValT> {\r\n    constructor(validators: ValidatorFn | ValidatorFn[] | null, asyncValidators:\r\n                 AsyncValidatorFn | AsyncValidatorFn[] | null);\r\n    get<P extends string | (readonly (string | number)[])>(path: P):\r\n                                           AbstractControl<Get<RawValT, P>> | null;\r\n    get<P extends string | Array<string | number>>(path: P):\r\n                                           AbstractControl<Get<RawValT, P>> | null;\r\n    abstract getRawValue(): RawValT;\r\n    abstract patchValue(value: ValT, options?: Object): void;\r\n    abstract reset(value: RawValT, options?: Object): void;\r\n    get root(): AbstractControl<any>;\r\n    abstract setValue(value: RawValT, options?: Object): void;\r\n    readonly value: ValT;\r\n    readonly valueChanges: Observable<ValT>;\r\n}\r\n```\r\n```\r\n​​export class FormGroup<CtrlT extends {\r\n    [K in keyof CtrlT]: AbstractControl<Value<CtrlT[K]>, RawValue<CtrlT[K]>>;\r\n      } = {\r\n    [key: string]: AbstractControl;\r\n      }> extends AbstractControl<FormGroupValue<CtrlT>, FormGroupRawValue<CtrlT>> {\r\n    constructor(controls: CtrlT, validatorOrOpts?: ValidatorFn | ValidatorFn[] |\r\n                AbstractControlOptions | null, asyncValidator?: AsyncValidatorFn |\r\n                AsyncValidatorFn[] | null);\r\n    addControl<K extends keyof CtrlT>(name: K, control: Required<CtrlT>[K],\r\n                                      options?: { emitEvent?: boolean; }): void;\r\n    contains<K extends keyof CtrlT>(controlName: K): boolean;\r\n    controls: CtrlT;\r\n    getRawValue(): FormGroupRawValue<CtrlT>;\r\n    patchValue(value: FormGroupValue<CtrlT>,\r\n               options?: { onlySelf?: boolean; emitEvent?: boolean; }): void;\r\n    registerControl<K extends keyof CtrlT>(name: K, control: CtrlT[K]): CtrlT[K];\r\n    removeControl<S extends string>(name: KeyIsRemovable<CtrlT, S>,\r\n                                    options?: { emitEvent?: boolean; }): void;\r\n    reset(value?: FormGroupValue<CtrlT>,\r\n          options?: { onlySelf?: boolean; emitEvent?: boolean; }): void;\r\n    setControl<K extends keyof CtrlT>(name: K, control: CtrlT[K],\r\n                                      options?: { emitEvent?: boolean; }): void;\r\n    setValue(value: FormGroupRawValue<CtrlT>,\r\n             options?: { onlySelf?: boolean; emitEvent?: boolean; }): void;\r\n}\r\n```\r\n\r\n### Backwards-Compatibility\r\n\r\nLet’s use our new API to create a `FormGroup`. As you can see, the existing API has been extended in a backwards-compatible way: this code snippet will work with or without typed forms.\r\n```\r\nconst cat = new FormGroup({\r\n    name: new FormControl('bob'),\r\n    lives: new FormControl(9),\r\n});\r\n```\r\n\r\nInteracting with our cat form is much safer than before:\r\n```\r\nconst name = cat.value.name; // type `string|null`\r\ncat.controls.name.setValue(42); // Error! `name` has type `string|null`\r\n```\r\n\r\nIt is possible to restore the old types by providing an explicit `any`:\r\n```\r\nconst cat = new FormGroup<any>({\r\n    name: new FormControl<any>('bob'),\r\n    lives: new FormControl<any>(9),\r\n});\r\n```\r\n\r\n### Nullable Controls and Reset\r\n\r\nYou might wonder why null is showing up in all our `FormControl` types. This is because you can call `.reset()` at any time, and those controls will become `null`:\r\n```\r\nconst dog = new FormControl('spot'); // dog has type FormControl<string|null>\r\ndog.reset();\r\nconst whichDog = dog.value; // null\r\n```\r\n\r\nYou can get rid of this behavior by providing a default value:\r\n```\r\nconst dog = new FormControl('spot', undefined, undefined, 'foo'); // dog has type FormControl<string>\r\ndog.reset();\r\nconst whichDog = dog.value; // foo\r\n```\r\n\r\n(For this demo we have simply added a default value parameter to the end of the param list, but we will refine this API before merging typed forms.)\r\n\r\n### Control Types\r\n\r\nA `FormGroup` infers a type based on its inner controls. Recall our cat type from above:\r\n```\r\n// We demonstrate the type of `cat` by assigning it.\r\nconst catWithExplicitType: FormGroup<{\r\n    name: new FormControl<string|null>,\r\n    lives: new FormControl<number|null>,\r\n}> = cat;\r\n```\r\n\r\nIn other words, `cat.name` has type `FormControl<string|null>`.\r\n\r\n### Disabled Controls and Partial Values\r\n\r\nThe value of a `FormGroup` is a partial object of its keys. That’s because disabled controls are excluded from its value:\r\n```\r\n// Disabling the `lives` key removes it from the group's value!\r\ncat.controls.lives.disable();\r\n// The type of `.value` reflects that by being `Partial`.\r\nconst cv: Partial<{name: string|null, lives: number|null}> = cat.value;\r\n```\r\n\r\n### Mutable and Immutable `FormGroup`s\r\n\r\n`FormGroup` provides methods to dynamically modify its keys, such as `removeControl`. In this proposal, such a call will only be allowed if the key is explicitly marked optional:\r\n```\r\nconst cat = new FormGroup<{name: FormControl<string|null>, lives?: FormControl<number|null>}>({\r\n    name: new FormControl('bob'),\r\n    lives: new FormControl(9),\r\n});\r\ncat.removeControl('lives');\r\n```\r\n\r\nIn this example, `lives` can be removed because the type specifies it as an optional property.\r\n\r\nSome use cases required `FormGroup` to be a truly open-ended dictionary, where arbitrary keys are provided at runtime. Supporting these use cases would severely weaken the typings, and so it is suggested to just use `FormGroup<any>`.\r\n\r\n\r\n## Questions for Discussion\r\n\r\nAlthough anything in the PR or design is fair game, we have a couple questions in particular that we'd like to discuss:\r\n\r\n1. **`FormTuple` and immutable arrays.** In the current implementation, arrays must have homogenous types. A hypothetical `FormTuple` class would allow heterogenous types, and would know the correct type at each position (since it's immutable). Would this be worth providing?\r\n2. **`FormRecord` and open-ended `FormGroup`.** The above proposal suggests that, for a truly open ended group, `FormGroup<any>` should be used. An alternative would be to provide a `FormRecord` class with looser type guarantees. Would this be worth it?\r\n3. Default values on `FormControl`. The demo implementation adds a parameter to `FormControl` to use as a default value. Would it be better to instead add a `resetToInitialValue` option? What is the most ergonomic API for this?\r\n4. **Interaction with directives such as `formControlName`.** It is possible to break the type of a `FormControl` by using a directive to attach an incompatible DOM control. (e.g., attaching an `<input type=\"number\">` to a `FormControl<string>`. Fixing this would require new template type checking features. Is it worth landing these improvements alone, despite this drawback?\r\n5. **Prototype package.** How was your experience with the prototype implementation and migration?\r\n\r\n## Code Examples\r\n\r\nHere are some code snippets. The API are the same as before, but with type information!\r\n\r\n### FormControl\r\n```\r\n// An untyped `FormControl`.\r\nconst username0 = new FormControl<any>('Bob');\r\nlet who = username1.value;  // 'Bob', type is `any`\r\n\r\n// A `FormControl<string>` which is required, and resets to 'username'.\r\nconst username1 = new FormControl('Bob', Validators.required, undefined, 'username');\r\nlet who = username1.value;  // 'Bob', type is `string`\r\nusername1.reset();\r\nwho = username1.value;  // 'username'\r\n\r\n// A `FormControl<string|null>` which defaults to null when reset.\r\nconst username2 = new FormControl('Bob');\r\nlet who2 = username2.value;  // 'Bob', type is `string|null`\r\nusername2.reset();\r\nwho2 = username2.value;  // null\r\n```\r\n\r\n### FormGroup\r\n\r\n```\r\n// A cat has 9 lives to start with.\r\nconst cat = new FormGroup({lives: new FormControl(9)});\r\n\r\ncat.setControl('lives', new FormControl(6));\r\nconst hasLives = cat.contains('lives'); // true, type boolean\r\ncat.setValue({lives: 0}); // requires an object with a 'lives' key\r\ncat.patchValue({});\r\ncat.reset({lives: 0}); // Reset using a specific value\r\n```\r\n\r\n### FormArray\r\n```\r\n// An array of lucky numbers.\r\nconst lucky = new FormArray([new FormControl(7), new FormControl(42)]);\r\n\r\nconst firstLucky = lucky.value[0]; // 7, has type number\r\n\r\n// Add 101 to the lucky numbers.\r\nlucky.push(new FormControl(101)); // requires a FormControl<number>\r\n\r\n// An array of dinner choices for a party. Each choice has an entree and desert, plus a price.\r\nconst dinnerOptions = new FormArray([\r\n  // Dinner choice one\r\n  new FormGroup({\r\n    food: new FormGroup({\r\n      entree: new FormControl('Baked Tofu', undefined, undefined, ''),\r\n      dessert: new FormControl('Cheesecake', undefined, undefined, ''),\r\n    }),\r\n    price: new FormControl(10, undefined, undefined, 0),\r\n  }),\r\n  // Dinner choice two\r\n  new FormGroup({\r\n    food: new FormGroup({\r\n      entree: new FormControl('Eggplant Parm', undefined, undefined, ''),\r\n      dessert: new FormControl('Chocolate Mousse', undefined, undefined, ''),\r\n    }),\r\n    price: new FormControl(12, undefined, undefined, 0),\r\n  })\r\n]);\r\n\r\n// 'Cheesecake', has type string\r\nconst sweets = dinnerOptions.get('0.food.dessert')!.value;\r\n\r\n// Set the first choice to have Gnocchi as an entree\r\ndinnerOptions.controls[0].controls.food.patchValue({entree: 'Gnocchi'});\r\n```\r\n\r\n### FormBuilder\r\n```\r\nconst b = new FormBuilder();\r\nconst a = b.array([\r\n  // A raw value\r\n  'one',\r\n  // A ControlConfig tuple\r\n  ['two', someSyncValidator, someAsyncValidator],\r\n  // A boxed FormState\r\n  {value: 'three', disabled: false},\r\n  // A control\r\n  b.control('four'),\r\n]);\r\n\r\n// ['one', 'two', 'three', 'four']\r\nconst counting = a.value; // string[]\r\n```\r\n","Url":"https://github.com/angular/angular/issues/44407","RelatedDescription":"Open issue \"DRAFT: Typed Forms RFC\" (#44407)"},{"Id":"1074738627","IsPullRequest":true,"CreatedAt":"2021-12-08T19:08:05","Actor":"alxhub","Number":"44406","RawContent":null,"Title":"Bump version to \"v12.2.15\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular/pull/44406","RelatedDescription":"Closed or merged PR \"Bump version to \"v12.2.15\" with changelog.\" (#44406)"},{"Id":"1072612602","IsPullRequest":true,"CreatedAt":"2021-12-08T18:22:36","Actor":"PzYon","Number":"44389","RawContent":null,"Title":"docs(localize): fix typo in i18n-overview.md","State":"closed","Body":"","Url":"https://github.com/angular/angular/pull/44389","RelatedDescription":"Closed or merged PR \"docs(localize): fix typo in i18n-overview.md\" (#44389)"},{"Id":"1074306560","IsPullRequest":true,"CreatedAt":"2021-12-08T17:58:55","Actor":"a-katsarov","Number":"44401","RawContent":null,"Title":"fix(common) Added/fixed thousands separator for Bulgarian currencies","State":"closed","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [X] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n\r\nIn the Bulgarian locale, numbers were displayed with thousands separator (123 456,00) and currencies without (123456,00 $).\r\n\r\nThe issue was that the currency format was declared without thousand separations ('0.00 ¤') instead of ('#,##0.00 ¤').\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\nCurrencies are displayed correctly as 123 456,00 $\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [X] No\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/44401","RelatedDescription":"Closed or merged PR \"fix(common) Added/fixed thousands separator for Bulgarian currencies\" (#44401)"},{"Id":"1074493424","IsPullRequest":false,"CreatedAt":"2021-12-08T15:06:20","Actor":"sysmat","Number":"44405","RawContent":null,"Title":"not respecting type definition but returning Object","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncommon\n\n### Is this a regression?\n\nNo\n\n### Description\n\nHTTP client  always returns Object\r\n\r\n```typescript\r\ngetReferences(id): Observable<Map<string, number>> {\r\n    return this.http.get<Map<string, number>>(`${apiOrg}/${id}/references`, this.auth.getHttpAuthOpt());\r\n}\r\n```\r\n- component:\r\n```typescript\r\nprivate fetchReferences(orgId: number): void {\r\n    this.searchingSpinner = true;\r\n    this.organizationService\r\n      .getReferences(orgId)\r\n      .pipe(\r\n        takeUntil(this.onDestroy$),\r\n        tap(_ => this.searchingSpinner = false)\r\n      )\r\n      .subscribe(\r\n        (references: Map<string, number>) => {\r\n          this.references = references as Map<string, number>;\r\n          if(this.references instanceof Map){\r\n            console.log(\"true\"); // never true\r\n          }\r\n\r\n         if (this.references instanceof Object) {\r\n            console.log('references is Object'); // always true\r\n          }\r\n          console.log(this.references.keys().next().value); // error keys() is not a function\r\n        }\r\n      );\r\n  }\r\n```\r\n- on the wire is totally legit map struct:\r\n```\r\n{\"map_org_contact\":4,\"ipis_request\":24,\"certificate\":7,\"wh_reservation\":0,\"idm_queue_user\":0,\"apis_l2_owner\":14,\"epp_contact\":0,\"wh_send_list\":4,\"aai_org\":1,\"wh_planning_item\":1,\"wh_device\":5,\"org_service\":22,\"profile\":552,\"org_location\":2,\"apis_network_owner\":4,\"dns_ns\":0,\"ipis_adminc\":1,\"org_relation\":0,\"portal_invitation\":8,\"domain\":4,\"ipis_subnet\":7,\"apis_l3_owner\":4,\"org2idm\":0,\"povezave\":1}\r\n```\r\n\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular: 13.0.3\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, localize, platform-browser\r\n... platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1300.4\r\n@angular-devkit/build-angular   13.0.4\r\n@angular-devkit/core            13.0.4\r\n@angular-devkit/schematics      13.0.4\r\n@angular/cli                    13.0.4\r\n@schematics/angular             13.0.4\r\nrxjs                            7.4.0\r\ntypescript                      4.4.4\n```\n\n\n### Anything else?\n\nA lot of things but not in this scope\r\n","Url":"https://github.com/angular/angular/issues/44405","RelatedDescription":"Closed issue \"not respecting type definition but returning Object\" (#44405)"},{"Id":"1074454937","IsPullRequest":false,"CreatedAt":"2021-12-08T14:21:37","Actor":"mayarafernandes","Number":"44404","RawContent":null,"Title":"Error on worker #1: TypeError: compiler_1.createMayBeForwardRefExpression is not a function","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncompiler\n\n### Is this a regression?\n\nNo\n\n### Description\n\nI cloned a working angular application on a new environment and ran a clean install of packages, after the installation some postinstall routines are executed and at that point I'm getting an angular compiling error.\r\n\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\n> ngcc\r\n\r\nCompiling @angular/core : fesm2015 as esm2015\r\nCompiling @angular/compiler/testing : esm2015 as esm2015\r\nError: Error on worker #1: TypeError: compiler_1.createMayBeForwardRefExpression is not a function\r\n    at extractInjectableMetadata (D:\\TSS\\CDE\\CDE.Web\\ClientApp\\node_modules\\@angular\\compiler-cli\\src\\ngtsc\\annotations\\src\\injectable.js:140:40)\r\n    at InjectableDecoratorHandler.analyze (D:\\TSS\\CDE\\CDE.Web\\ClientApp\\node_modules\\@angular\\compiler-cli\\src\\ngtsc\\annotations\\src\\injectable.js:70:24)\r\n    at NgccTraitCompiler.TraitCompiler.analyzeTrait (D:\\TSS\\CDE\\CDE.Web\\ClientApp\\node_modules\\@angular\\compiler-cli\\src\\ngtsc\\transform\\src\\compilation.js:421:40)\r\n    at analyze (D:\\TSS\\CDE\\CDE.Web\\ClientApp\\node_modules\\@angular\\compiler-cli\\src\\ngtsc\\transform\\src\\compilation.js:371:58)\r\n    at _loop_1 (D:\\TSS\\CDE\\CDE.Web\\ClientApp\\node_modules\\@angular\\compiler-cli\\src\\ngtsc\\transform\\src\\compilation.js:393:21)\r\n    at NgccTraitCompiler.TraitCompiler.analyzeClass (D:\\TSS\\CDE\\CDE.Web\\ClientApp\\node_modules\\@angular\\compiler-cli\\src\\ngtsc\\transform\\src\\compilation.js:399:35)\r\n    at NgccTraitCompiler.analyzeFile (D:\\TSS\\CDE\\CDE.Web\\ClientApp\\node_modules\\@angular\\compiler-cli\\ngcc\\src\\analysis\\ngcc_trait_compiler.js:49:26)\r\n    at DecorationAnalyzer.analyzeProgram (D:\\TSS\\CDE\\CDE.Web\\ClientApp\\node_modules\\@angular\\compiler-cli\\ngcc\\src\\analysis\\decoration_analyzer.js:150:39)\r\n    at Transformer.analyzeProgram (D:\\TSS\\CDE\\CDE.Web\\ClientApp\\node_modules\\@angular\\compiler-cli\\ngcc\\src\\packages\\transformer.js:135:57)\r\n    at Transformer.transform (D:\\TSS\\CDE\\CDE.Web\\ClientApp\\node_modules\\@angular\\compiler-cli\\ngcc\\src\\packages\\transformer.js:77:27)\r\n    at ClusterMaster.onWorkerMessage (D:\\TSS\\CDE\\CDE.Web\\ClientApp\\node_modules\\@angular\\compiler-cli\\ngcc\\src\\execution\\cluster\\master.js:195:27)\r\n    at D:\\TSS\\CDE\\CDE.Web\\ClientApp\\node_modules\\@angular\\compiler-cli\\ngcc\\src\\execution\\cluster\\master.js:55:95\r\n    at ClusterMaster.<anonymous> (D:\\TSS\\CDE\\CDE.Web\\ClientApp\\node_modules\\@angular\\compiler-cli\\ngcc\\src\\execution\\cluster\\master.js:293:57)\r\n    at step (D:\\TSS\\CDE\\CDE.Web\\ClientApp\\node_modules\\tslib\\tslib.js:143:27)\r\n    at Object.next (D:\\TSS\\CDE\\CDE.Web\\ClientApp\\node_modules\\tslib\\tslib.js:124:57)\r\n    at D:\\TSS\\CDE\\CDE.Web\\ClientApp\\node_modules\\tslib\\tslib.js:117:75\r\n    at new Promise (<anonymous>)\r\n    at Object.__awaiter (D:\\TSS\\CDE\\CDE.Web\\ClientApp\\node_modules\\tslib\\tslib.js:113:16)\r\n    at EventEmitter.<anonymous> (D:\\TSS\\CDE\\CDE.Web\\ClientApp\\node_modules\\@angular\\compiler-cli\\ngcc\\src\\execution\\cluster\\master.js:287:32)\r\n    at EventEmitter.emit (events.js:400:28)\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 12.2.13\r\nNode: 14.18.2\r\nPackage Manager: npm 6.14.15\r\nOS: win32 x64\r\n\r\nAngular: 12.0.1\r\n... animations, cdk, common, compiler, core, forms\r\n... platform-browser, platform-browser-dynamic, platform-server\r\n... router\r\n\r\nPackage                                    Version\r\n--------------------------------------------------------------------\r\n@angular-devkit/architect                  0.1202.13\r\n@angular-devkit/build-angular              12.2.13\r\n@angular-devkit/core                       12.2.13\r\n@angular-devkit/schematics                 12.2.13\r\n@angular/cli                               12.2.13\r\n@angular/compiler-cli                      12.2.14\r\n@angular/language-service                  12.2.14\r\n@angular/material                          12.2.13\r\n@nguniversal/module-map-ngfactory-loader   8.1.1\r\n@schematics/angular                        12.2.13\r\nrxjs                                       6.6.7\r\ntypescript                                 4.2.4\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/44404","RelatedDescription":"Closed issue \"Error on worker #1: TypeError: compiler_1.createMayBeForwardRefExpression is not a function\" (#44404)"},{"Id":"1074335405","IsPullRequest":false,"CreatedAt":"2021-12-08T12:03:17","Actor":"mcalmus","Number":"44403","RawContent":null,"Title":"Grammar issues","State":"open","Body":"### Description\n\npackages/animations/browser/src/dsl/animation_timeline_builder.ts was modified by pull request #44203 to fix some spelling and grammar errors.\r\n\r\nHowever, there is still a tense mismatch.\r\n\r\n`Given that each of the keyframe styles are objects that prototypically inherits from the backFill object, this means that if a value is added into the backFill then it will automatically propagate any missing values to all keyframes.`\r\n\r\nShould either be:\r\n\r\n`Given that each of the keyframe styles is an object that prototypically inherits from the backFill object, this means that if a value is added into the backFill then it will automatically propagate any missing values to all keyframes.`\r\n\r\nor:\r\n\r\n`Given that keyframe styles are objects that prototypically inherit from the backFill object, this means that if a value is added into the backFill then it will automatically propagate any missing values to all keyframes.`\r\n\r\n\n\n### What is the affected URL?\n\n_No response_\n\n### Please provide the steps to reproduce the issue\n\n_No response_\n\n### Please provide the expected behavior vs the actual behavior you encountered\n\n_No response_\n\n### Please provide a screenshot if possible\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Is this a browser-specific issue? If so, please specify the device, browser, and version.\n\n_No response_","Url":"https://github.com/angular/angular/issues/44403","RelatedDescription":"Open issue \"Grammar issues\" (#44403)"},{"Id":"1074333224","IsPullRequest":false,"CreatedAt":"2021-12-08T12:00:46","Actor":"kemsky","Number":"44402","RawContent":null,"Title":"checkForUpdate does not work after forced reload","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\nservice-worker\n\n### Is this a regression?\n\nNo\n\n### Description\n\nThis issue follows #44044 that was closed.\r\n\r\nConfiguration: \r\n```typescript\r\n        ServiceWorkerModule.register('ngsw-worker.js', {\r\n            enabled: environment.minimized && environment.environment === 'staging',\r\n            registrationStrategy: 'registerWhenStable:120000'\r\n        })\r\n```\r\n\r\nUpdate check executes during initialization:\r\n```typescript\r\n{\r\n            provide: APP_INITIALIZER,\r\n            useFactory: (service: ServiceWorkerService) => () => service.check$(),\r\n            deps: [ServiceWorkerService],\r\n            multi: true\r\n}\r\n```\r\n\r\nServiceWorkerService:\r\n\r\n```typescript\r\npublic check$(): Observable<unknown> {\r\n        if (this.swUpdate.isEnabled) {\r\n            return of(undefined).pipe(\r\n                tap(() => this.info('Start check for update')),\r\n                concatMap(() => this.swUpdate.checkForUpdate()),\r\n                tap((value) => {\r\n                    this.info('Update available', value);\r\n                    if (value) {\r\n                        this.growlService.showInfo('Application update is installed. Page will reload in 5 seconds.', 'Update');\r\n                    }\r\n                }),\r\n                concatMap((value) => (value ? of(value).pipe(delay(5000)) : of(value))),\r\n                tap((value) => {\r\n                    if (value) {\r\n                        this.beforeUnloadService.skip(() => {\r\n                            reload();\r\n                        });\r\n                    }\r\n                }),\r\n                concatMap((value) => (value ? NEVER : of(undefined)))\r\n            );\r\n        } else {\r\n            return of(false);\r\n        }\r\n    }\r\n```\r\n\r\nIt can be reproduced on our staging server, I can provide link privately upon request.\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\nThere are no errors, `this.swUpdate.checkForUpdate()` never resolves.\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 13.0.4\r\nNode: 14.18.0\r\nPackage Manager: yarn 1.22.5\r\nOS: win32 x64\r\n\r\nAngular: 13.0.3\r\n... animations, cdk, common, compiler, compiler-cli, core\r\n... elements, forms, language-service, material\r\n... platform-browser, platform-browser-dynamic, router\r\n... service-worker\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1300.1\r\n@angular-devkit/build-angular   13.0.4\r\n@angular-devkit/core            13.0.4\r\n@angular-devkit/schematics      13.0.4\r\n@angular/cli                    13.0.4\r\n@schematics/angular             13.0.4\r\nrxjs                            7.4.0\r\ntypescript                      4.4.4\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/44402","RelatedDescription":"Open issue \"checkForUpdate does not work after forced reload\" (#44402)"},{"Id":"1074156253","IsPullRequest":false,"CreatedAt":"2021-12-08T08:47:59","Actor":"BojanKogoj","Number":"44400","RawContent":null,"Title":"StackBlitz examples open in WebContainers version - doesn't work with Firefox or Safari","State":"open","Body":"### Description\r\n\r\nStackBlitz examples open in [WebContainers](https://blog.stackblitz.com/posts/introducing-webcontainers) version, which [doesn't work with Firefox](https://developer.stackblitz.com/docs/platform/browser-support/). As far as I can see StackBlitz still has version that works with all browsers, shouldn't that be used?\r\nSome specific docs could use the new version as proposed in https://github.com/angular/angular/issues/42404, but I don't think most examples need WebContainers.\r\n\r\n### What is the affected URL?\r\n\r\nhttps://material.angular.io/components/select/overview\r\n\r\n### Please provide the steps to reproduce the issue\r\n\r\nOpen angular.io or material.angular.io and open one StackBlitz example in Firefox.\r\n\r\n### Please provide the expected behavior vs the actual behavior you encountered\r\n\r\n_No response_\r\n\r\n### Please provide a screenshot if possible\r\n\r\n![image](https://user-images.githubusercontent.com/634075/145177235-61de20a2-70f0-4d5c-a1c4-15debb075d89.png)\r\n\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n### Is this a browser-specific issue? If so, please specify the device, browser, and version.\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/44400","RelatedDescription":"Open issue \"StackBlitz examples open in WebContainers version - doesn't work with Firefox or Safari\" (#44400)"},{"Id":"1074058968","IsPullRequest":false,"CreatedAt":"2021-12-08T06:27:59","Actor":"satnav","Number":"44399","RawContent":null,"Title":"<select [multiple]=\"false\" ...> outputs an array of values","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\nforms\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nWhen using [multiple]=\"false\" directive on the `<select>` tag, the value written is an array with a single value. If the [multiple]=\"false\" directive is removed, then it is just the single value written.\r\n\r\nThe UI widget is still rendered correctly, in that you can only select a single value, but I would have expected the output to not be wrapped in an array.\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps://stackblitz.com/edit/angular-ivy-bebgxi\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nNo error, output in console\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nMy Local Machine\r\nAngular CLI: 13.0.2\r\nNode: 14.17.5\r\n@angular-devkit/schematics      13.0.2\r\n@angular/cli                    13.0.2\r\n@angular/flex-layout            12.0.0-beta.35\r\n@schematics/angular             13.0.2\r\nng-packagr                      13.0.3\r\nrxjs                            7.4.0\r\ntypescript                      4.4.4\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/44399","RelatedDescription":"Open issue \"<select [multiple]=\"false\" ...> outputs an array of values\" (#44399)"},{"Id":"1073926362","IsPullRequest":true,"CreatedAt":"2021-12-08T01:55:30","Actor":"AndrewKushnir","Number":"44398","RawContent":null,"Title":"refactor: make RuntimeError class reusable across packages","State":"open","Body":"This PR contains a few commits that make the `RuntimeError` class reusable across packages + performs some refactoring to use the class in the Forms package.\r\n\r\nNote: this is a replacement PR for #44348.\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [x] Refactoring (no functional changes, no api changes)\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/44398","RelatedDescription":"Open PR \"refactor: make RuntimeError class reusable across packages\" (#44398)"},{"Id":"1073880939","IsPullRequest":false,"CreatedAt":"2021-12-08T00:36:23","Actor":"SetTrend","Number":"44397","RawContent":null,"Title":"Documentation on Routing is too sparse","State":"open","Body":"### Description\r\n\r\nThe documentation on Routing isn't explanatory.\r\n\r\nIt's too much focussing on some arcane example the author had in mind while writing instead of providing elementary explanation and education.\r\n\r\nMost paragraphs leave the reader alone and confused behind bearing the – unanswered – questions: \"Why should I do that??\" or \"What is that good for??\"\r\n\r\n### Examples\r\n\r\n> Provide optional route parameters in an object, as in `{ foo: 'foo' }`:\r\n\r\nWhy?? Is this mandatory?\r\n\r\n> However, with a child router, such as in the crisis center, you create new link array possibilities.\r\n\r\nWhat kind of possibilities?? Why is the crisis center a child router??\r\n<br/>\r\n\r\nHumbly, and with all due respect, I consider the current state of this chapter a waste of precious reading time.\r\n\r\nPlease enhance.\r\n<hr/>\r\n\r\n### What is the affected URL?\r\n\r\nhttps://angular.io/guide/router\r\n\r\n### Please provide a screenshot if possible\r\n\r\n![screenshot](https://user-images.githubusercontent.com/9283914/145127430-ddea80f1-6ae8-4e5d-b765-6b0710f0f4e0.png)","Url":"https://github.com/angular/angular/issues/44397","RelatedDescription":"Open issue \"Documentation on Routing is too sparse\" (#44397)"},{"Id":"1073820426","IsPullRequest":true,"CreatedAt":"2021-12-07T22:57:03","Actor":"dario-piotrowicz","Number":"44396","RawContent":null,"Title":"docs(animations): improve animation transition api docs","State":"open","Body":"improve the transition api docs by removing unnecessary examplanations\r\nand examples\r\n\r\nalso provide helpful information regarding entering and leaving\r\nelements (as part of #44253)\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## Issue\r\n\r\n\r\nRelates to Issue #44253\r\n\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n\r\n## Other information\r\nI started looking into these docs because as part of #44253 I wanted to add the information about entering and leaving elements, but I thought that the docs here were quite unorganised and confusing so I tried to clean them up\r\n \r\nbefore there were information all over the place and many thing were repeated and/or not explained clearly in my opinion\r\n\r\nI hope I did well, if you could please give this a preview you can see that in the way I've changed it, it is much leaner, clear and easy to follow (at least for me :stuck_out_tongue_winking_eye:)\r\n","Url":"https://github.com/angular/angular/pull/44396","RelatedDescription":"Open PR \"docs(animations): improve animation transition api docs\" (#44396)"},{"Id":"1073641400","IsPullRequest":false,"CreatedAt":"2021-12-07T18:25:07","Actor":"jacobsorme","Number":"44394","RawContent":null,"Title":"Sidenav/mat-drawer not animating until toggled once","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\nanimations\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nI am using this example in Angular Docs:  tosize, an autosizing sidenav. \r\nhttps://material.angular.io/components/sidenav/overview#sidenav-autosize\r\n\r\nThe sidenav is not animating its width until the sidenav is toggled once. See attached GIF. \r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps://stackblitz.com/edit/xoupcp--run?file=src/app/sidenav-autosize-example.html\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nN/A\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\n13.0.2 (Can't run `ng version` inside the StackBlitz example)\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n![screen-capture](https://user-images.githubusercontent.com/18684167/145085326-bfe78f3e-a665-45c6-86f5-fa2c0d2bf1c1.gif)\r\n","Url":"https://github.com/angular/angular/issues/44394","RelatedDescription":"Open issue \"Sidenav/mat-drawer not animating until toggled once\" (#44394)"},{"Id":"1073493773","IsPullRequest":false,"CreatedAt":"2021-12-07T15:35:00","Actor":"tiberiuzuld","Number":"44393","RawContent":null,"Title":"(zone.js) Promise.any is undefined","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\ncore, platform-browser\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nBrowsers started to support ES2021 Promise.any\r\nZone.js Does not support it.\r\nSeems like that zone.js overrides the native Promise and does not implement the static `any` method. \r\nhttps://github.com/angular/angular/blob/a92a89b0eb127a59d7e071502b5850e57618ec2d/packages/zone.js/lib/common/promise.ts#L286\r\n\r\nhttps://kangax.github.io/compat-table/es2016plus/\r\nhttps://caniuse.com/?search=Promise.any\r\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/any\r\n```\r\nPromise.all\r\n ƒ all(values) {\r\n            return ZoneAwarePromise.allWithCallback(values);\r\n        }\r\nPromise.any\r\n undefined\r\n```\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nPromise.any()\r\nVM201:1 Uncaught TypeError: Promise.any is not a function\r\n    at <anonymous>:1:9\r\n(anonymous) @ VM201:1\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1300.4\r\n@angular-devkit/build-angular   13.0.4\r\n@angular-devkit/core            13.0.4\r\n@angular-devkit/schematics      13.0.4\r\n@angular/cli                    13.0.4\r\n@schematics/angular             13.0.4\r\nrxjs                            7.4.0\r\ntypescript                      4.4.4\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/44393","RelatedDescription":"Open issue \"(zone.js) Promise.any is undefined\" (#44393)"},{"Id":"1071492315","IsPullRequest":true,"CreatedAt":"2021-12-07T13:34:15","Actor":"dario-piotrowicz","Number":"44379","RawContent":null,"Title":"docs(animations): add `:enter` and `:leave` info to query api docs","State":"closed","Body":"add information to the query api docs clarifying what elements can be\r\nqueried as entering and leaving (as that is not currently clearly\r\ndocumented and has caused confusions to developers)\r\n\r\none of the tasks of issue #44253\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: #44253\r\n\r\nThe query api docs do not clearly specify what elements can be queried via `:enter` and `:leave`\r\n\r\n## What is the new behavior?\r\n\r\nInformation regarding elements that can be queried via `:enter` and `:leave` has been added \r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n","Url":"https://github.com/angular/angular/pull/44379","RelatedDescription":"Closed or merged PR \"docs(animations): add `:enter` and `:leave` info to query api docs\" (#44379)"},{"Id":"1071557549","IsPullRequest":true,"CreatedAt":"2021-12-07T13:33:37","Actor":"gkalpak","Number":"44382","RawContent":null,"Title":"fix(ngcc): correctly resolve UMD dependencies","State":"closed","Body":"_This is a backport of #44381 to the `12.2.x` branch._\r\n\r\n##\r\nPreviously, when processing UMD, ngcc assumed that the `exports` argument of the CommonJS factory call (if present) would be the first argument of the call. This is generally true for the supported UMD formats, but can change if ngcc prepends more imports (and thus factory arguments) while processing the module. This could lead to errors when trying to collect dependencies of an already processed module.\r\n(This was accidentally broken in #44245 (commit 2bc3522e167).)\r\n\r\nThis commit fixes it by not making any assumptions about the position of an `exports` argument in the CommonJS factory call.\r\n\r\nFixes #44380.\r\n","Url":"https://github.com/angular/angular/pull/44382","RelatedDescription":"Closed or merged PR \"fix(ngcc): correctly resolve UMD dependencies\" (#44382)"},{"Id":"1071510367","IsPullRequest":false,"CreatedAt":"2021-12-07T13:33:13","Actor":"NareshSmith","Number":"44380","RawContent":null,"Title":"Error: Argument at index 2 of UMD factory call is not a `require` call with a single string argument","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\ncompiler, upgrade\r\n\r\n### Is this a regression?\r\n\r\nYes\r\n\r\n### Description\r\n\r\nHi Team, After upgrade our existing project from  angular 12 to 13, It starting throwing error and stucked at generating browser application bundle phase. Please find the error below:\r\n\r\n```\r\nError: Argument at index 2 of UMD factory call is not a `require` call with a single string argument:\r\nfactory(require('@angular/core'),require('@angular/common'),exports, require('@angular/core'), require('perfect-scrollbar'), require('rxjs'), require('rxjs/operators'), require('@angular/common'))\r\n    at getRequiredModulePath (file:///***/node_modules/@angular/compiler-cli/bundles/ngcc/main-ngcc.js:3627:11)\r\n    at getImportsOfUmdModule (file:///***/node_modules/@angular/compiler-cli/bundles/ngcc/main-ngcc.js:3618:15)\r\n    at UmdDependencyHost.extractImports (file:///***/node_modules/@angular/compiler-cli/bundles/ngcc/main-ngcc.js:4085:37)\r\n    at UmdDependencyHost.recursivelyCollectDependencies (file:///***/node_modules/@angular/compiler-cli/bundles/ngcc/main-ngcc.js:1459:26)\r\n    at UmdDependencyHost.collectDependencies (file:///***/node_modules/@angular/compiler-cli/bundles/ngcc/main-ngcc.js:1445:12)\r\n    at DependencyResolver.getEntryPointWithDependencies (file:///***/node_modules/@angular/compiler-cli/bundles/ngcc/main-ngcc.js:3833:12)\r\n    at EntryPointCollector.walkDirectoryForPackages (file:///***/node_modules/@angular/compiler-cli/bundles/ngcc/main-ngcc.js:4403:40)\r\n    at EntryPointCollector.walkDirectoryForPackages (file:///***/node_modules/@angular/compiler-cli/bundles/ngcc/main-ngcc.js:4423:32)\r\n    at file:///***/node_modules/@angular/compiler-cli/bundles/ngcc/main-ngcc.js:4557:70\r\n    at trackDuration (file:///***/node_modules/@angular/compiler-cli/bundles/ngcc/main-ngcc.js:4154:18)\r\n(node:12620) UnhandledPromiseRejectionWarning: Error: NGCC failed.\r\n    at NgccProcessor.process (***\\node_modules\\@ngtools\\webpack\\src\\ngcc_processor.js:146:19)\r\n    at ***\\node_modules\\@ngtools\\webpack\\src\\ivy\\plugin.js:141:27\r\n    at Hook.eval [as call] (eval at create (***\\node_modules\\tapable\\lib\\HookCodeFactory.js:19:10), <anonymous>:24:1)\r\n    at Hook.CALL_DELEGATE [as _call] (***\\node_modules\\tapable\\lib\\Hook.js:14:14)\r\n    at Compiler.newCompilation (***\\node_modules\\webpack\\lib\\Compiler.js:1054:30)\r\n    at ***\\node_modules\\webpack\\lib\\Compiler.js:1099:29\r\n    at eval (eval at create (***\\node_modules\\tapable\\lib\\HookCodeFactory.js:33:10), <anonymous>:31:1)\r\n(Use `node --trace-warnings ...` to show where the warning was created)\r\n(node:12620) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)\r\n(node:12620) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\r\n```\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n_No response_\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/44380","RelatedDescription":"Closed issue \"Error: Argument at index 2 of UMD factory call is not a `require` call with a single string argument\" (#44380)"},{"Id":"1071556863","IsPullRequest":true,"CreatedAt":"2021-12-07T13:33:10","Actor":"gkalpak","Number":"44381","RawContent":null,"Title":"fix(ngcc): correctly resolve UMD dependencies","State":"closed","Body":"Previously, when processing UMD, ngcc assumed that the `exports` argument of the CommonJS factory call (if present) would be the first argument of the call. This is generally true for the supported UMD formats, but can change if ngcc prepends more imports (and thus factory arguments) while processing the module. This could lead to errors when trying to collect dependencies of an already processed module.\r\n(This was accidentally broken in #44245 (commit 2bc3522e167).)\r\n\r\nThis commit fixes it by not making any assumptions about the position of an `exports` argument in the CommonJS factory call.\r\n\r\nFixes #44380.","Url":"https://github.com/angular/angular/pull/44381","RelatedDescription":"Closed or merged PR \"fix(ngcc): correctly resolve UMD dependencies\" (#44381)"},{"Id":"1073079343","IsPullRequest":true,"CreatedAt":"2021-12-07T08:48:03","Actor":"renovate[bot]","Number":"44392","RawContent":null,"Title":"build: update dependency google-closure-compiler to v20211201","State":"open","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [google-closure-compiler](https://developers.google.com/closure/compiler/) ([source](https://togithub.com/google/closure-compiler-npm)) | [`^20211006.0.0` -> `^20211201.0.0`](https://renovatebot.com/diffs/npm/google-closure-compiler/20211006.0.0/20211201.0.0) | [![age](https://badges.renovateapi.com/packages/npm/google-closure-compiler/20211201.0.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/google-closure-compiler/20211201.0.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/google-closure-compiler/20211201.0.0/compatibility-slim/20211006.0.0)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/google-closure-compiler/20211201.0.0/confidence-slim/20211006.0.0)](https://docs.renovatebot.com/merge-confidence/) |\n| [google-closure-compiler](https://developers.google.com/closure/compiler/) ([source](https://togithub.com/google/closure-compiler-npm)) | [`20211006.0.0` -> `20211201.0.0`](https://renovatebot.com/diffs/npm/google-closure-compiler/20211006.0.0/20211201.0.0) | [![age](https://badges.renovateapi.com/packages/npm/google-closure-compiler/20211201.0.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/google-closure-compiler/20211201.0.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/google-closure-compiler/20211201.0.0/compatibility-slim/20211006.0.0)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/google-closure-compiler/20211201.0.0/confidence-slim/20211006.0.0)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>google/closure-compiler-npm</summary>\n\n### [`v20211201.0.0`](https://togithub.com/google/closure-compiler-npm/compare/v20211107.0.0...v20211201.0.0)\n\n[Compare Source](https://togithub.com/google/closure-compiler-npm/compare/v20211107.0.0...v20211201.0.0)\n\n### [`v20211107.0.0`](https://togithub.com/google/closure-compiler-npm/compare/v20211006.0.0...v20211107.0.0)\n\n[Compare Source](https://togithub.com/google/closure-compiler-npm/compare/v20211006.0.0...v20211107.0.0)\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n🔕 **Ignore**: Close this PR and you won't be reminded about these updates again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular).","Url":"https://github.com/angular/angular/pull/44392","RelatedDescription":"Open PR \"build: update dependency google-closure-compiler to v20211201\" (#44392)"},{"Id":"1073039935","IsPullRequest":true,"CreatedAt":"2021-12-07T08:07:13","Actor":"dgp1130","Number":"44391","RawContent":null,"Title":"Extended template diagnostics configuration","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [X] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [X] Tests for the changes have been added (for bug fixes / features)\r\n- [X] Docs have been added / updated (for bug fixes / features)\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [X] Refactor\r\n\r\nIssue Number: #42966\r\n\r\n## What is the new behavior?\r\n\r\nImplements configuration support for extended template diagnostics. The engine now reads from compiler options to choose what diagnostics are enabled and what their categories are. This is still protected by the experimental `_extendedTemplateDiagnostics` option so we can merge it to patch. A follow-up PR will enable this specifically for the next minor release.\r\n\r\nThe configuration looks like:\r\n\r\n```jsonc\r\n{\r\n  \"angularCompilerOptions\": {\r\n    \"extendedDiagnostics\": {\r\n      // The categories to use for specific diagnostics.\r\n      \"checks\": {\r\n        // Maps check name to its category.\r\n        \"invalidBananaInBox\": \"suppress\"\r\n      },\r\n\r\n      // The category to use for any diagnostics not listed in `checks` above.\r\n      \"defaultCategory\": \"error\"\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nAllowed categories for a diagnostic are `warning` (default), `error`, or `suppress`. `error` will fail the compilation if the diagnostic is emitted, while `suppress` will ignore the diagnostic altogether. As an optimization, ignored diagnostics are not executed at all to avoid wasting CPU resources.\r\n\r\nThe configuration is validated and will throw errors with specific codes for simple mistakes, such as a typo in a check name or the diagnostic category. Extended template diagnostics also require that `strictTemplates` is enabled, since they require much of the same type information and would be fairly useless without that knowledge.\r\n\r\nThe implementation required some refactorings, adding a new `ExtendedTmplateDiagnosticName` enum to act as a centralized list of all possible diagnostic names which can be used in the configuration. It also introduced a `TemplateCheckFactory` concept which binds the error code and diagnostic name together in a way that is usable *before* constructing the template check. This allows us to skip suppressed checks by not even constructing them.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [X] No","Url":"https://github.com/angular/angular/pull/44391","RelatedDescription":"Open PR \"Extended template diagnostics configuration\" (#44391)"},{"Id":"1072577229","IsPullRequest":true,"CreatedAt":"2021-12-06T21:05:29","Actor":"alxhub","Number":"44387","RawContent":null,"Title":"View Engine compiler deletion, v13 edition","State":"closed","Body":"Contains my backported PR as well as some earlier commits by @JoostK.","Url":"https://github.com/angular/angular/pull/44387","RelatedDescription":"Closed or merged PR \"View Engine compiler deletion, v13 edition\" (#44387)"},{"Id":"1072596970","IsPullRequest":false,"CreatedAt":"2021-12-06T20:48:38","Actor":"SetTrend","Number":"44388","RawContent":null,"Title":"Tabs in documentation should all be displayed when printed","State":"open","Body":"### Description\r\n\r\nIn the Angular documentation, tab strips don't print well.\r\n\r\nSee [here](https://angular.io/guide/pipes#using-a-pipe-in-a-template) for reference.\r\n\r\nOnly the first tab is getting printed:\r\n\r\n![Printed pipes example](https://user-images.githubusercontent.com/9283914/144919442-f48b3209-29ad-4aac-b03c-308a6b04379c.png)\r\n\r\nPlease amend the `print` media rules to gracefully print all tabs of a tab strip, vertically stacked.\r\n\r\n### What is the affected URL?\r\n\r\nhttps://angular.io/guide/pipes#using-a-pipe-in-a-template\r\n\r\n### Please provide the steps to reproduce the issue\r\n\r\nPrint the above mentioned Angular documenation web page.\r\n\r\n### Please provide the expected behavior vs the actual behavior you encountered\r\n\r\nWhen printing an Angular documentation web page for offline reading, I'd expect to see all content. This includes the content of all of a tab strip's tabs:\r\n\r\n![Proposed tab printing](https://user-images.githubusercontent.com/9283914/144927038-058d0377-47ca-4b53-aaf9-b9444c49ee47.png)\r\n\r\nCurrently, only the first tab's content is being rendered.","Url":"https://github.com/angular/angular/issues/44388","RelatedDescription":"Open issue \"Tabs in documentation should all be displayed when printed\" (#44388)"},{"Id":"1072576135","IsPullRequest":true,"CreatedAt":"2021-12-06T20:22:20","Actor":"alxhub","Number":"44386","RawContent":null,"Title":"View Engine compiler deletion, v13 edition","State":"closed","Body":"","Url":"https://github.com/angular/angular/pull/44386","RelatedDescription":"Closed or merged PR \"View Engine compiler deletion, v13 edition\" (#44386)"},{"Id":"1072117994","IsPullRequest":false,"CreatedAt":"2021-12-06T15:43:37","Actor":"infacto","Number":"44385","RawContent":null,"Title":"BrowserModule has already been loaded. Using BrowserAnimationsModule.","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\nanimations\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nI have imported `BrowserAnimationsModule` into root app module. But page from another module wants: \r\n\r\n> Found the synthetic property @tabAnimation. Please include either \"BrowserAnimationsModule\" or \"NoopAnimationsModule\" in your application.\r\n\r\nBut adding this module to this causes the error: \r\n\r\n> BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.\r\n\r\nWhy this error? Angular wants the `BrowserAnimationsModule`, but when adding `BrowserAnimationsModule` it claims that it is already imported? Or what's the problem here?\r\n\r\napp-routing,module.ts\r\n\r\n```ts\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RootComponent,\r\n    children: [{ path: '', component: LandingPage }],\r\n  },\r\n  {\r\n    path: 'dashboard',\r\n    loadChildren: async () => import('./modules/dashboard.module').then((m) => m.DashboardModule),\r\n  },\r\n  { path: '', redirectTo: 'dashboard', pathMatch: 'full' },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes, { enableTracing: false })],\r\n  exports: [RouterModule],\r\n})\r\nexport class AppRoutingModule {}\r\n```\r\n\r\nThe `BrowserAnimationsModule` is imported in AppModule for e.g. `LandingPage`. But the Dashboard wants it too in `DashboardModule`. Adding this causes the error (see above). \r\n\r\n### NG Version\r\n\r\n```true\r\nAngular CLI: 12.1.2\r\nNode: 14.15.1\r\nPackage Manager: npm 6.14.8\r\nOS: win32 x64\r\n\r\nAngular: 12.1.2\r\n... animations, cdk, cli, common, compiler, compiler-cli, core\r\n... forms, language-service, material, platform-browser\r\n... platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1201.2\r\n@angular-devkit/build-angular   12.1.2\r\n@angular-devkit/core            12.1.2\r\n@angular-devkit/schematics      12.1.2\r\n@schematics/angular             12.1.2\r\nrxjs                            6.6.7\r\ntypescript                      4.3.5\r\n```\r\n","Url":"https://github.com/angular/angular/issues/44385","RelatedDescription":"Closed issue \"BrowserModule has already been loaded. Using BrowserAnimationsModule.\" (#44385)"},{"Id":"1071592086","IsPullRequest":false,"CreatedAt":"2021-12-05T23:48:59","Actor":"ChabuRah","Number":"44383","RawContent":null,"Title":"Route reuse strategy throwing RangeError: Maximum call stack size exceeded in Angular 13","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\nrouter\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nWe have a considerable large angular app, where we use custom route reuse strategy for performance gains.\r\nThe route reuse strategy we use was working perfectly fine in angular 12. However, when we upgraded to Angular 13 we have started seeing the following error:\r\n\r\n`Error: Uncaught (in promise): RangeError: Maximum call stack size exceeded`\r\n\r\nThe error happens in this scenario:\r\n- Go to Route A\r\n- Go to Route B\r\n- Go to Route A again(either by hitting browser back, or by going to the route A through href on <a> tag on page B), crash and navigation doesn't happen.\r\n\r\nThe inifinite loop is happening inside Angular router's code (router.mjs) in RouterStateSnapshot's constructor, that calls into following function:\r\n\r\n`function setRouterState(state, node) {\r\n    node.value._routerState = state;\r\n    node.children.forEach(c => setRouterState(state, c));\r\n}`\r\n\r\nHere is how we have our custom route reuse strategy:\r\n\r\n`import {\r\n\tRouteReuseStrategy,\r\n\tDetachedRouteHandle,\r\n\tActivatedRouteSnapshot,\r\n} from \"@angular/router\";\r\n\r\nexport class CustomRouteReuseStrategy implements RouteReuseStrategy {\r\n\tprivate handlers: { [key: string]: DetachedRouteHandle } = {};\r\n\r\n\tconstructor() {}\r\n\r\n\tpublic shouldDetach(_route: ActivatedRouteSnapshot): boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic store(\r\n\t\troute: ActivatedRouteSnapshot,\r\n\t\thandle: DetachedRouteHandle\r\n\t): void {\r\n\t\tthis.handlers[route.data.title] = handle;\r\n\t}\r\n\r\n\tpublic shouldAttach(route: ActivatedRouteSnapshot): boolean {\r\n\t\treturn !!this.handlers[route.data.title];\r\n\t}\r\n\r\n\tpublic retrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle {\r\n\t\treturn this.handlers[route.data.title];\r\n\t}\r\n\r\n\tpublic shouldReuseRoute(\r\n\t\tfuture: ActivatedRouteSnapshot,\r\n\t\tcurr: ActivatedRouteSnapshot\r\n\t): boolean {\r\n\t\tconst reuse = future.routeConfig === curr.routeConfig;\r\n\t\treturn reuse;\r\n\t}\r\n}\r\n`\r\n\r\nHere is how we add route to Routing Module:\r\n\r\n`\r\n\t{\r\n\t\tpath: \"post/:id\",\r\n\t\tloadChildren: () =>\r\n\t\t\timport(\"path-to-post-module\").then(\r\n\t\t\t\t(module) => module.PostModule\r\n\t\t\t),\r\n\t\tdata: { title: \"post\" },\r\n\t},`\r\n\r\nThis may sound like a stack overflow question, but this setup used to work in Angular 12 without any issues. So, I'm not sure what changed in version 13, that's causing this crash. If I remove the route reuse strategy, this error doesn't happen, but obviously we want the route reuse in our app.\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nError: Uncaught (in promise): RangeError: Maximum call stack size exceeded\r\nRangeError: Maximum call stack size exceeded\r\n    at setRouterState (router.mjs:1610)\r\n    at router.mjs:1612\r\n    at Array.forEach (<anonymous>)\r\n    at setRouterState (router.mjs:1612)\r\n    at router.mjs:1612\r\n    at Array.forEach (<anonymous>)\r\n    at setRouterState (router.mjs:1612)\r\n    at router.mjs:1612\r\n    at Array.forEach (<anonymous>)\r\n    at setRouterState (router.mjs:1612)\r\n    at resolvePromise (zone.js:1213)\r\n    at resolvePromise (zone.js:1167)\r\n    at zone.js:1279\r\n    at ZoneDelegate.invokeTask (zone.js:406)\r\n    at Object.onInvokeTask (core.mjs:25463)\r\n    at ZoneDelegate.invokeTask (zone.js:405)\r\n    at Zone.runTask (zone.js:178)\r\n    at drainMicroTaskQueue (zone.js:582)\r\n    at invokeTask (zone.js:491)\r\n    at ZoneTask.invoke (zone.js:476)\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: 13.0.3\r\nNode: 14.15.5\r\nPackage Manager: npm 6.14.11\r\nOS: linux x64\r\n\r\nPackage                      Version\r\n------------------------------------------------------\r\n@angular-devkit/architect    0.1300.3 (cli-only)\r\n@angular-devkit/core         13.0.3 (cli-only)\r\n@angular-devkit/schematics   13.0.3 (cli-only)\r\n@schematics/angular          13.0.3 (cli-only)\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/44383","RelatedDescription":"Open issue \"Route reuse strategy throwing RangeError: Maximum call stack size exceeded in Angular 13\" (#44383)"}],"ResultType":"GitHubIssue"},"AngularCli-Issues":{"Issues":[{"Id":"1074832778","IsPullRequest":false,"CreatedAt":"2021-12-08T21:13:01","Actor":"cklogs","Number":"22320","RawContent":null,"Title":"Angular 13 - JS use strict errors ","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nYes\n\n### Description\n\nProject details:\r\n\r\n1. We have a piece of legacy Javascript code that in our project.\r\n2. We have a `.d.ts` file that declares the namespace, classes, and methods available inside the JS code.\r\n3. Up to Angular 12, we have not had any problems building and serving the JS code alongside the rest of our Angular project.\r\n4. After following the steps [here](https://update.angular.io/?l=3&v=12.0-13.0), we are seeing errors and oddities when the JS code is **executed**. \r\n5. This is the first time we are seeing such issues.\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\ncore.mjs:6484 ERROR Error: Uncaught (in promise): TypeError: Cannot set property layerMap of [object Object] which has only a getter\r\nTypeError: Cannot set property layerMap of [object Object] which has only a getter\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 13.0.3\r\nNode: 16.13.1\r\nOS: Windows 10 Pro 19043.1348\n```\n\n\n### Anything else?\n\nIt looks possible like `use strict` is being enforced on the JS code. Is there a way to disable this in Angular configuration?\r\n\r\nIs there some other configuration change that will allow us to continue using the legacy code?\r\n","Url":"https://github.com/angular/angular-cli/issues/22320","RelatedDescription":"Closed issue \"Angular 13 - JS use strict errors \" (#22320)"},{"Id":"1074827588","IsPullRequest":false,"CreatedAt":"2021-12-08T21:09:30","Actor":"aminetchitooss","Number":"22319","RawContent":null,"Title":"Changing properties from \"name\" to \"any variable\" it breaks the schematics","State":"closed","Body":"# 🐞 Changing properties from \"name\" to \"prop\" it breaks the schematics\r\n\r\n## 🔬Error\r\nAn error occured:\r\nReferenceError: prop is not defined\r\n    at eval (eval at template (/Users/user/Desktop/schematics/create-file/node_modules/@angular-devkit/core/src/utils/template.js:254:16), <anonymous>:16:18)\r\n \r\n## In schema.json\r\n<pre><code>\r\n {\r\n\t\"$schema\": \"http://json-schema.org/draft-07/schema\",\r\n\t\"$id\": \"MyFullSchematicsSchema\",\r\n\t\"title\": \"My Full Schematics Schema\",\r\n\t\"type\": \"object\",\r\n\t\"properties\": {\r\n\t\t\"prop\": {\r\n\t\t\t\"type\": \"string\",\r\n\t\t\t\"x-prompt\": \"What is your prop?\"\r\n\t\t}\r\n\t},\r\n\t\"required\": [\"prop\"]\r\n}\r\n\r\n</code></pre>\r\n\r\n## 🌍 In the file to create\r\n\r\n<pre><code>\r\n  Hello <%= prop %>, I'm a schematic.\r\n\r\n</code></pre>\r\n\r\nAfter executing this :\r\n<pre><code>\r\nschematics .:my-full-schematic\r\n</code></pre>\r\n \r\n","Url":"https://github.com/angular/angular-cli/issues/22319","RelatedDescription":"Closed issue \"Changing properties from \"name\" to \"any variable\" it breaks the schematics\" (#22319)"},{"Id":"1074273086","IsPullRequest":true,"CreatedAt":"2021-12-08T10:51:21","Actor":"renovate[bot]","Number":"22318","RawContent":null,"Title":"build: update all non-major dependencies","State":"open","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [ng-packagr](https://togithub.com/ng-packagr/ng-packagr) | [`13.0.8` -> `13.1.1`](https://renovatebot.com/diffs/npm/ng-packagr/13.0.8/13.1.1) | [![age](https://badges.renovateapi.com/packages/npm/ng-packagr/13.1.1/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/ng-packagr/13.1.1/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/ng-packagr/13.1.1/compatibility-slim/13.0.8)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/ng-packagr/13.1.1/confidence-slim/13.0.8)](https://docs.renovatebot.com/merge-confidence/) |\n| [verdaccio](https://verdaccio.org) ([source](https://togithub.com/verdaccio/verdaccio)) | [`5.2.2` -> `5.3.0`](https://renovatebot.com/diffs/npm/verdaccio/5.2.2/5.3.0) | [![age](https://badges.renovateapi.com/packages/npm/verdaccio/5.3.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/verdaccio/5.3.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/verdaccio/5.3.0/compatibility-slim/5.2.2)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/verdaccio/5.3.0/confidence-slim/5.2.2)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>ng-packagr/ng-packagr</summary>\n\n### [`v13.1.1`](https://togithub.com/ng-packagr/ng-packagr/blob/master/CHANGELOG.md#&#8203;1311-httpsgithubcomng-packagrng-packagrcomparev1310v1311-2021-12-08)\n\n[Compare Source](https://togithub.com/ng-packagr/ng-packagr/compare/v13.1.0...v13.1.1)\n\n### [`v13.1.0`](https://togithub.com/ng-packagr/ng-packagr/blob/master/CHANGELOG.md#&#8203;1310-httpsgithubcomng-packagrng-packagrcomparev1308v1310-2021-12-08)\n\n[Compare Source](https://togithub.com/ng-packagr/ng-packagr/compare/v13.0.8...v13.1.0)\n\n##### Features\n\n-   add support for TypeScript 4.5 ([b4d3f5c](https://togithub.com/ng-packagr/ng-packagr/commit/b4d3f5c68dbee60806f1e75e2afa85fdcdb487ad))\n\n##### [13.0.8](https://togithub.com/ng-packagr/ng-packagr/compare/v13.0.7...v13.0.8) (2021-11-24)\n\n##### Bug Fixes\n\n-   correctly append `sourceMappingUrl` when saving FESMs into cache ([657eacd](https://togithub.com/ng-packagr/ng-packagr/commit/657eacd863aa989f11b8cbb2da2e485a7e42ca11)), closes [#&#8203;2172](https://togithub.com/ng-packagr/ng-packagr/issues/2172)\n\n##### [13.0.7](https://togithub.com/ng-packagr/ng-packagr/compare/v13.0.6...v13.0.7) (2021-11-23)\n\n##### Bug Fixes\n\n-   package exports merging during watch mode ([af36c3a](https://togithub.com/ng-packagr/ng-packagr/commit/af36c3ac3c7b952923424b798518d27ccac6c132)), closes [#&#8203;2168](https://togithub.com/ng-packagr/ng-packagr/issues/2168)\n\n##### [13.0.6](https://togithub.com/ng-packagr/ng-packagr/compare/v13.0.5...v13.0.6) (2021-11-18)\n\n##### Bug Fixes\n\n-   Revert \"build: update dependency postcss-preset-env to v7\", due to licensing issues of `postcss-values-parser`. [https://github.com/shellscape/postcss-values-parser/issues/115](https://togithub.com/shellscape/postcss-values-parser/issues/115)\n\n##### [13.0.5](https://togithub.com/ng-packagr/ng-packagr/compare/v13.0.4...v13.0.5) (2021-11-17)\n\n##### Bug Fixes\n\n-   \\~~remove `files` property from default tsconfig ([c4cd3a7](https://togithub.com/ng-packagr/ng-packagr/commit/c4cd3a7bf482e1732d25afeaa76cc9d9c41a6efc)), closes [#&#8203;2156](https://togithub.com/ng-packagr/ng-packagr/issues/2156)~~\n\n##### [13.0.4](https://togithub.com/ng-packagr/ng-packagr/compare/v13.0.3...v13.0.4) (2021-11-17)\n\n##### Bug Fixes\n\n-   `--version` doesn't work ([ba835bb](https://togithub.com/ng-packagr/ng-packagr/commit/ba835bbfe39725085fdaec4fae7e93d355d68f59)), closes [#&#8203;2157](https://togithub.com/ng-packagr/ng-packagr/issues/2157)\n-   remove `files` property from default tsconfig ([c4cd3a7](https://togithub.com/ng-packagr/ng-packagr/commit/c4cd3a7bf482e1732d25afeaa76cc9d9c41a6efc)), closes [#&#8203;2156](https://togithub.com/ng-packagr/ng-packagr/issues/2156)\n-   show warning when configuring ng-packagr in `package.json` ([037ccf5](https://togithub.com/ng-packagr/ng-packagr/commit/037ccf5cf30c1680251199b6affb7ecb0c89ee01))\n\n##### [13.0.3](https://togithub.com/ng-packagr/ng-packagr/compare/v13.0.2...v13.0.3) (2021-11-05)\n\n##### Bug Fixes\n\n-   handle multiple node_modules when resolving Sass ([c7c51a3](https://togithub.com/ng-packagr/ng-packagr/commit/c7c51a34b016cbff07441c59e5a18a211ec1d729))\n\n##### [13.0.2](https://togithub.com/ng-packagr/ng-packagr/compare/v13.0.1...v13.0.2) (2021-11-04)\n\n##### Bug Fixes\n\n-   handle imports of node packages without tilda ([a60ff99](https://togithub.com/ng-packagr/ng-packagr/commit/a60ff999aeb44449ee7f1fe3b469888a2397469f)), closes [#&#8203;2142](https://togithub.com/ng-packagr/ng-packagr/issues/2142)\n\n##### [13.0.1](https://togithub.com/ng-packagr/ng-packagr/compare/v13.0.0...v13.0.1) (2021-11-04)\n\n##### Bug Fixes\n\n-   unable to add additional conditions to entry-point subpaths controlled by ng-packagr ([a63ebb7](https://togithub.com/ng-packagr/ng-packagr/commit/a63ebb7b37a9ab0b266056acf40cf4a21dfbc2a0))\n\n</details>\n\n<details>\n<summary>verdaccio/verdaccio</summary>\n\n### [`v5.3.0`](https://togithub.com/verdaccio/verdaccio/releases/v5.3.0)\n\n[Compare Source](https://togithub.com/verdaccio/verdaccio/compare/8d174eadaae7825a297f7326706839a239ab4e83...v5.3.0)\n\n> ⚠️ Released as minor to avoid conflicts with a `v5.2.3` which was a mistake 😊 I had to [deprecate](https://www.npmjs.com/package/verdaccio/v/5.2.3) just in case you notice there is a version in the middle.\n\n##### Bug Fixes\n\n-   markdown anchor links in package readme.md broken [#&#8203;2712](https://togithub.com/verdaccio/verdaccio/issues/2712) ([820c9d5](https://togithub.com/verdaccio/verdaccio/commit/820c9d5db2fe7e99cab3c75c431b8df7dfd096d0)) by [@&#8203;coolsp](https://togithub.com/coolsp)\n-   update pnpm and bum up core deps ([#&#8203;2716](https://togithub.com/verdaccio/verdaccio/issues/2716)) ([60cd25c](https://togithub.com/verdaccio/verdaccio/commit/60cd25ce4fe107f7d25780447289b6fb0e21d4b6))\n-   **deps:** update dependency [@&#8203;verdaccio/commons-api](https://togithub.com/verdaccio/commons-api) to v10.0.2 ([#&#8203;2706](https://togithub.com/verdaccio/verdaccio/issues/2706)) ([73d565f](https://togithub.com/verdaccio/verdaccio/commit/73d565f5f558b7746f538d8fbbb15ea24dcedb23))\n-   **deps:** update dependency [@&#8203;verdaccio/readme](https://togithub.com/verdaccio/readme) to v10.0.1 ([#&#8203;2708](https://togithub.com/verdaccio/verdaccio/issues/2708)) ([41cadcc](https://togithub.com/verdaccio/verdaccio/commit/41cadccaef358bb11f4b2f015b0885f32dffa91a))\n-   **deps:** update dependency [@&#8203;verdaccio/streams](https://togithub.com/verdaccio/streams) to v10.0.1 ([#&#8203;2709](https://togithub.com/verdaccio/verdaccio/issues/2709)) ([74d7d02](https://togithub.com/verdaccio/verdaccio/commit/74d7d02c396185f76767f234592eb14f497d7929))\n-   **deps:** update dependency http-errors to v1.8.1 ([#&#8203;2705](https://togithub.com/verdaccio/verdaccio/issues/2705)) ([eee19a5](https://togithub.com/verdaccio/verdaccio/commit/eee19a5f791dd93f4ee078243ed310fa88aa5ae7))\n-   **deps:** update dependency verdaccio-audit to v10.0.3 ([#&#8203;2710](https://togithub.com/verdaccio/verdaccio/issues/2710)) ([8c074e8](https://togithub.com/verdaccio/verdaccio/commit/8c074e8f24e61e9c399bf4f2e6dbaa0d5d5da9fd))\n-   **deps:** update dependency verdaccio-htpasswd to v10.0.1 ([#&#8203;2711](https://togithub.com/verdaccio/verdaccio/issues/2711)) ([8e28848](https://togithub.com/verdaccio/verdaccio/commit/8e2884836b4d8a659ca1cec80794c7e30ef6c208))\n\n### [`v5.2.3`](https://togithub.com/verdaccio/verdaccio/compare/v5.2.2...8d174eadaae7825a297f7326706839a239ab4e83)\n\n[Compare Source](https://togithub.com/verdaccio/verdaccio/compare/v5.2.2...8d174eadaae7825a297f7326706839a239ab4e83)\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/renovatebot/renovate/discussions) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/22318","RelatedDescription":"Open PR \"build: update all non-major dependencies\" (#22318)"},{"Id":"1074031821","IsPullRequest":false,"CreatedAt":"2021-12-08T09:10:40","Actor":"POFerro","Number":"22317","RawContent":null,"Title":"Upgrade to angular 13.0.3 crashes with error code ERESOLVE","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nupgrade\n\n### Is this a regression?\n\nNo\n\n### Description\n\nWhen running \"ng update @angular/cdk @angular/cli @angular/core @angular/material\" I got the error code ERESOLVE bellow.\r\n \n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\n91 verbose node v16.13.0\r\n92 verbose npm  v8.1.1\r\n93 error code ERESOLVE\r\n94 error ERESOLVE could not resolve\r\n95 error\r\n96 error While resolving: nbwebseed@0.0.0\r\n96 error Found: @angular-devkit/build-angular@13.0.3\r\n96 error node_modules/@angular-devkit/build-angular\r\n96 error   dev @angular-devkit/build-angular@\"~13.0.4\" from the root project\r\n96 error\r\n96 error Could not resolve dependency:\r\n96 error dev @angular-devkit/build-angular@\"~13.0.4\" from the root project\r\n96 error\r\n96 error Conflicting peer dependency: @angular/core@13.0.3\r\n96 error node_modules/@angular/core\r\n96 error   peer @angular/core@\"13.0.3\" from @angular/service-worker@13.0.3\r\n96 error   node_modules/@angular/service-worker\r\n96 error     peerOptional @angular/service-worker@\"^13.0.0\" from @angular-devkit/build-angular@13.0.4\r\n96 error     node_modules/@angular-devkit/build-angular\r\n96 error       dev @angular-devkit/build-angular@\"~13.0.4\" from the root project\r\n96 error\r\n96 error Fix the upstream dependency conflict, or retry\r\n96 error this command with --force, or --legacy-peer-deps\r\n96 error to accept an incorrect (and potentially broken) dependency resolution.\r\n96 error\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 13.0.3\r\nNode: 16.13.0\r\nPackage Manager: npm 8.1.1\r\nOS: win32 x64\r\n\r\nAngular: 13.0.2\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... material, material-moment-adapter, platform-browser\r\n... platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1300.3\r\n@angular-devkit/build-angular   13.0.3\r\n@angular-devkit/core            13.0.3\r\n@angular-devkit/schematics      13.0.3\r\n@angular/cli                    13.0.3\r\n@angular/flex-layout            13.0.0-beta.36\r\n@schematics/angular             13.0.3\r\nrxjs                            7.4.0\r\ntypescript                      4.4.4\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/22317","RelatedDescription":"Closed issue \"Upgrade to angular 13.0.3 crashes with error code ERESOLVE\" (#22317)"},{"Id":"1070313045","IsPullRequest":true,"CreatedAt":"2021-12-08T09:06:40","Actor":"renovate[bot]","Number":"22290","RawContent":null,"Title":"build: update angular","State":"closed","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@angular/animations](https://togithub.com/angular/animations-builds) | dependencies | digest | `8dafbe3` -> `25146d4` |\n| [@angular/cdk](https://togithub.com/angular/cdk-builds) | dependencies | digest | `117a525` -> `508995b` |\n| [@angular/common](https://togithub.com/angular/common-builds) | dependencies | digest | `a3590fc` -> `60fd788` |\n| [@angular/compiler](https://togithub.com/angular/compiler-builds) | dependencies | digest | `0034864` -> `3500305` |\n| [@angular/compiler-cli](https://togithub.com/angular/compiler-cli-builds) | dependencies | digest | `0f089ae` -> `ca857df` |\n| [@angular/core](https://togithub.com/angular/core-builds) | dependencies | digest | `623714f` -> `23f9dce` |\n| [@angular/dev-infra-private](https://togithub.com/angular/dev-infra-private-builds) | devDependencies | digest | `e4a13cf` -> `b322637` |\n| [@angular/forms](https://togithub.com/angular/forms-builds) | dependencies | digest | `373a3a2` -> `7eb2305` |\n| [@angular/language-service](https://togithub.com/angular/language-service-builds) | dependencies | digest | `261084a` -> `13f60a0` |\n| [@angular/localize](https://togithub.com/angular/localize-builds) | dependencies | digest | `660feb7` -> `271dcea` |\n| [@angular/material](https://togithub.com/angular/material2-builds) | dependencies | digest | `833046d` -> `4cbf248` |\n| [@angular/material-moment-adapter](https://togithub.com/angular/material-moment-adapter-builds) | dependencies | digest | `30a5fc3` -> `75f5135` |\n| [@angular/platform-browser](https://togithub.com/angular/platform-browser-builds) | dependencies | digest | `2a257f2` -> `bf3da37` |\n| [@angular/platform-browser-dynamic](https://togithub.com/angular/platform-browser-dynamic-builds) | dependencies | digest | `2507021` -> `812272a` |\n| [@angular/platform-server](https://togithub.com/angular/platform-server-builds) | dependencies | digest | `1adaec2` -> `321cd48` |\n| [@angular/router](https://togithub.com/angular/router-builds) | dependencies | digest | `b243ca1` -> `ceb0dd1` |\n| [@angular/service-worker](https://togithub.com/angular/service-worker-builds) | dependencies | digest | `c2cceed` -> `2ecaa24` |\n| angular/dev-infra | action | digest | `486b6e2` -> `8d97166` |\n\n🔡 If you wish to disable git hash updates, add `\":disableDigestUpdates\"` to the extends array in your config.\n\n---\n\n### Configuration\n\n📅 **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/renovatebot/renovate/discussions) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/22290","RelatedDescription":"Closed or merged PR \"build: update angular\" (#22290)"},{"Id":"1071925119","IsPullRequest":true,"CreatedAt":"2021-12-08T08:24:01","Actor":"renovate[bot]","Number":"22307","RawContent":null,"Title":"build: lock file maintenance","State":"closed","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Update | Change |\n|---|---|\n| lockFileMaintenance | All locks refreshed |\n\n🔧 This Pull Request updates lock files to use the latest dependency versions.\n\n---\n\n### Configuration\n\n📅 **Schedule**: \"before 5am on monday\" in timezone America/Tijuana.\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/renovatebot/renovate/discussions) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/22307","RelatedDescription":"Closed or merged PR \"build: lock file maintenance\" (#22307)"},{"Id":"1073815405","IsPullRequest":false,"CreatedAt":"2021-12-08T07:41:35","Actor":"benedict-chng","Number":"22316","RawContent":null,"Title":"Migrating from Angular 12.2.13 to Angular 13.0.2 Unsuccessful Part 2","State":"closed","Body":"Hi,\r\n\r\nI raised a support request recently related to the migration of my application from 12.2.13 to 13.0.2 (https://github.com/angular/angular-cli/issues/22229) and @alan-agius4 suggested some way to get around the problem and it did fix the problem I'm facing during migration but when I tried to run the application, I got the following error.\r\n\r\nI attach my package.json and package-lock.json for your investigation.\r\n\r\nAn unhandled exception occurred: ENOENT: no such file or directory, lstat 'C:\\Workspace\\Nova\\Avatar\\node_modules\\angular-archwizard\\archwizard.css'\r\nSee \"C:\\Users\\BENEDI~1\\AppData\\Local\\Temp\\ng-4vfjyR\\angular-errors.log\" for further details.\r\nnpm ERR! code ELIFECYCLE\r\nnpm ERR! syscall spawn\r\nnpm ERR! file C:\\windows\\system32\\cmd.exe\r\nnpm ERR! errno ENOENT\r\nnpm ERR! avatar@0.0.0 staff: ng s --project staff --port 4200 --ssl\r\nnpm ERR! spawn ENOENT\r\nnpm ERR!\r\nnpm ERR! Failed at the avatar@0.0.0 staff script.\r\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR! C:\\Users\\benedictc\\AppData\\Roaming\\npm-cache_logs\\2021-12-07T00_59_01_098Z-debug.log\r\n\r\nThe error for angular-errors.log:\r\n\r\n[error] Error: ENOENT: no such file or directory, lstat 'C:\\Workspace\\Nova\\Avatar\\node_modules\\angular-archwizard\\archwizard.css'\r\nat Object.realpathSync (fs.js:1646:7)\r\nat resolveGlobalStyles (C:\\Workspace\\Nova\\Avatar\\node_modules@angular-devkit\\build-angular\\src\\webpack\\configs\\styles.js:53:31)\r\nat getStylesConfig (C:\\Workspace\\Nova\\Avatar\\node_modules@angular-devkit\\build-angular\\src\\webpack\\configs\\styles.js:86:70)\r\nat C:\\Workspace\\Nova\\Avatar\\node_modules@angular-devkit\\build-angular\\src\\builders\\dev-server\\index.js:128:43\r\nat C:\\Workspace\\Nova\\Avatar\\node_modules@angular-devkit\\build-angular\\src\\utils\\webpack-browser-config.js:72:16\r\nat generateWebpackConfig (C:\\Workspace\\Nova\\Avatar\\node_modules@angular-devkit\\build-angular\\src\\utils\\webpack-browser-config.js:61:40)\r\nat async generateBrowserWebpackConfigFromContext (C:\\Workspace\\Nova\\Avatar\\node_modules@angular-devkit\\build-angular\\src\\utils\\webpack-browser-config.js:123:20)\r\nat async generateI18nBrowserWebpackConfigFromContext (C:\\Workspace\\Nova\\Avatar\\node_modules@angular-devkit\\build-angular\\src\\utils\\webpack-browser-config.js:70:20)\r\nat async setup (C:\\Workspace\\Nova\\Avatar\\node_modules@angular-devkit\\build-angular\\src\\builders\\dev-server\\index.js:124:47)\r\n\r\n[package.zip](https://github.com/angular/angular-cli/files/7672073/package.zip)\r\n\r\n\r\n","Url":"https://github.com/angular/angular-cli/issues/22316","RelatedDescription":"Closed issue \"Migrating from Angular 12.2.13 to Angular 13.0.2 Unsuccessful Part 2\" (#22316)"},{"Id":"1071157953","IsPullRequest":true,"CreatedAt":"2021-12-08T07:34:26","Actor":"renovate[bot]","Number":"22301","RawContent":null,"Title":"build: update all non-major dependencies","State":"closed","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [@bazel/buildifier](https://togithub.com/bazelbuild/buildtools) | [`4.2.3` -> `4.2.4`](https://renovatebot.com/diffs/npm/@bazel%2fbuildifier/4.2.3/4.2.4) | [![age](https://badges.renovateapi.com/packages/npm/@bazel%2fbuildifier/4.2.4/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@bazel%2fbuildifier/4.2.4/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@bazel%2fbuildifier/4.2.4/compatibility-slim/4.2.3)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@bazel%2fbuildifier/4.2.4/confidence-slim/4.2.3)](https://docs.renovatebot.com/merge-confidence/) |\n| [@types/babel__core](https://togithub.com/DefinitelyTyped/DefinitelyTyped) | [`7.1.16` -> `7.1.17`](https://renovatebot.com/diffs/npm/@types%2fbabel__core/7.1.16/7.1.17) | [![age](https://badges.renovateapi.com/packages/npm/@types%2fbabel__core/7.1.17/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@types%2fbabel__core/7.1.17/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@types%2fbabel__core/7.1.17/compatibility-slim/7.1.16)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@types%2fbabel__core/7.1.17/confidence-slim/7.1.16)](https://docs.renovatebot.com/merge-confidence/) |\n| [@typescript-eslint/eslint-plugin](https://togithub.com/typescript-eslint/typescript-eslint) | [`5.5.0` -> `5.6.0`](https://renovatebot.com/diffs/npm/@typescript-eslint%2feslint-plugin/5.5.0/5.6.0) | [![age](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2feslint-plugin/5.6.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2feslint-plugin/5.6.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2feslint-plugin/5.6.0/compatibility-slim/5.5.0)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2feslint-plugin/5.6.0/confidence-slim/5.5.0)](https://docs.renovatebot.com/merge-confidence/) |\n| [@typescript-eslint/parser](https://togithub.com/typescript-eslint/typescript-eslint) | [`5.5.0` -> `5.6.0`](https://renovatebot.com/diffs/npm/@typescript-eslint%2fparser/5.5.0/5.6.0) | [![age](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2fparser/5.6.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2fparser/5.6.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2fparser/5.6.0/compatibility-slim/5.5.0)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@typescript-eslint%2fparser/5.6.0/confidence-slim/5.5.0)](https://docs.renovatebot.com/merge-confidence/) |\n| [core-js](https://togithub.com/zloirock/core-js) | [`3.19.2` -> `3.19.3`](https://renovatebot.com/diffs/npm/core-js/3.19.2/3.19.3) | [![age](https://badges.renovateapi.com/packages/npm/core-js/3.19.3/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/core-js/3.19.3/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/core-js/3.19.3/compatibility-slim/3.19.2)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/core-js/3.19.3/confidence-slim/3.19.2)](https://docs.renovatebot.com/merge-confidence/) |\n| [esbuild](https://togithub.com/evanw/esbuild) | [`0.14.1` -> `0.14.2`](https://renovatebot.com/diffs/npm/esbuild/0.14.1/0.14.2) | [![age](https://badges.renovateapi.com/packages/npm/esbuild/0.14.2/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/esbuild/0.14.2/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/esbuild/0.14.2/compatibility-slim/0.14.1)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/esbuild/0.14.2/confidence-slim/0.14.1)](https://docs.renovatebot.com/merge-confidence/) |\n| [esbuild-wasm](https://togithub.com/evanw/esbuild) | [`0.14.1` -> `0.14.2`](https://renovatebot.com/diffs/npm/esbuild-wasm/0.14.1/0.14.2) | [![age](https://badges.renovateapi.com/packages/npm/esbuild-wasm/0.14.2/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/esbuild-wasm/0.14.2/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/esbuild-wasm/0.14.2/compatibility-slim/0.14.1)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/esbuild-wasm/0.14.2/confidence-slim/0.14.1)](https://docs.renovatebot.com/merge-confidence/) |\n| [eslint](https://eslint.org) ([source](https://togithub.com/eslint/eslint)) | [`8.3.0` -> `8.4.1`](https://renovatebot.com/diffs/npm/eslint/8.3.0/8.4.1) | [![age](https://badges.renovateapi.com/packages/npm/eslint/8.4.1/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/eslint/8.4.1/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/eslint/8.4.1/compatibility-slim/8.3.0)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/eslint/8.4.1/confidence-slim/8.3.0)](https://docs.renovatebot.com/merge-confidence/) |\n| [sass-loader](https://togithub.com/webpack-contrib/sass-loader) | [`12.3.0` -> `12.4.0`](https://renovatebot.com/diffs/npm/sass-loader/12.3.0/12.4.0) | [![age](https://badges.renovateapi.com/packages/npm/sass-loader/12.4.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/sass-loader/12.4.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/sass-loader/12.4.0/compatibility-slim/12.3.0)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/sass-loader/12.4.0/confidence-slim/12.3.0)](https://docs.renovatebot.com/merge-confidence/) |\n| [webpack](https://togithub.com/webpack/webpack) | [`5.64.4` -> `5.65.0`](https://renovatebot.com/diffs/npm/webpack/5.64.4/5.65.0) | [![age](https://badges.renovateapi.com/packages/npm/webpack/5.65.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/webpack/5.65.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/webpack/5.65.0/compatibility-slim/5.64.4)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/webpack/5.65.0/confidence-slim/5.64.4)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>bazelbuild/buildtools</summary>\n\n### [`v4.2.4`](https://togithub.com/bazelbuild/buildtools/releases/4.2.4)\n\n[Compare Source](https://togithub.com/bazelbuild/buildtools/compare/4.2.3...4.2.4)\n\n-   Minor bug fixes\n\n</details>\n\n<details>\n<summary>typescript-eslint/typescript-eslint (@&#8203;typescript-eslint/eslint-plugin)</summary>\n\n### [`v5.6.0`](https://togithub.com/typescript-eslint/typescript-eslint/blob/master/packages/eslint-plugin/CHANGELOG.md#&#8203;560-httpsgithubcomtypescript-eslinttypescript-eslintcomparev550v560-2021-12-06)\n\n[Compare Source](https://togithub.com/typescript-eslint/typescript-eslint/compare/v5.5.0...v5.6.0)\n\n##### Features\n\n-   **scope-manager:** support TS4.5 import/export specifier kind ([#&#8203;4234](https://togithub.com/typescript-eslint/typescript-eslint/issues/4234)) ([833f822](https://togithub.com/typescript-eslint/typescript-eslint/commit/833f8221ce00aecb7d08c519bab9568353850f48))\n\n</details>\n\n<details>\n<summary>typescript-eslint/typescript-eslint (@&#8203;typescript-eslint/parser)</summary>\n\n### [`v5.6.0`](https://togithub.com/typescript-eslint/typescript-eslint/blob/master/packages/parser/CHANGELOG.md#&#8203;560-httpsgithubcomtypescript-eslinttypescript-eslintcomparev550v560-2021-12-06)\n\n[Compare Source](https://togithub.com/typescript-eslint/typescript-eslint/compare/v5.5.0...v5.6.0)\n\n**Note:** Version bump only for package [@&#8203;typescript-eslint/parser](https://togithub.com/typescript-eslint/parser)\n\n</details>\n\n<details>\n<summary>zloirock/core-js (core-js)</summary>\n\n### [`v3.19.3`](https://togithub.com/zloirock/core-js/blob/master/CHANGELOG.md#&#8203;3193---20211206)\n\n[Compare Source](https://togithub.com/zloirock/core-js/compare/v3.19.2...v3.19.3)\n\n-   Fixed internal slots check in methods of some built-in types, [#&#8203;1017](https://togithub.com/zloirock/core-js/issues/1017)\n-   Fixed `URLSearchParams` iterator `.next` that should be enumerable [by the spec](https://webidl.spec.whatwg.org/#es-iterator-prototype-object)\n-   Refactored `Subscription`\n-   Added NodeJS 17.2 compat data mapping\n\n</details>\n\n<details>\n<summary>zloirock/core-js (core-js)</summary>\n\n</details>\n\n<details>\n<summary>evanw/esbuild (esbuild)</summary>\n\n### [`v0.14.2`](https://togithub.com/evanw/esbuild/blob/master/CHANGELOG.md#&#8203;0142)\n\n[Compare Source](https://togithub.com/evanw/esbuild/compare/v0.14.1...v0.14.2)\n\n-   Add `[ext]` placeholder for path templates ([#&#8203;1799](https://togithub.com/evanw/esbuild/pull/1799))\n\n    This release adds the `[ext]` placeholder to the `--entry-names=`, `--chunk-names=`, and `--asset-names=` configuration options. The `[ext]` placeholder takes the value of the file extension without the leading `.`, and can be used to place output files with different file extensions into different folders. For example, `--asset-names=assets/[ext]/[name]-[hash]` might generate an output path of `assets/png/image-LSAMBFUD.png`.\n\n    This feature was contributed by [@&#8203;LukeSheard](https://togithub.com/LukeSheard).\n\n-   Disable star-to-clause transform for external imports ([#&#8203;1801](https://togithub.com/evanw/esbuild/issues/1801))\n\n    When bundling is enabled, esbuild automatically transforms `import * as x from 'y'; x.z()` into `import {z} as 'y'; z()` to improve tree shaking. This avoids needing to create the import namespace object `x` if it's unnecessary, which can result in the removal of large amounts of unused code. However, this transform shouldn't be done for external imports because that incorrectly changes the semantics of the import. If the export `z` doesn't exist in the previous example, the value `x.z` is a property access that is undefined at run-time, but the value `z` is an import error that will prevent the code from running entirely. This release fixes the problem by avoiding doing this transform for external imports:\n\n    ```js\n    // Original code\n    import * as x from 'y';\n    x.z();\n\n    // Old output (with --bundle --format=esm --external:y)\n    import { z } from \"y\";\n    z();\n\n    // New output (with --bundle --format=esm --external:y)\n    import * as x from \"y\";\n    x.z();\n    ```\n\n-   Disable `calc()` transform for numbers with many fractional digits ([#&#8203;1821](https://togithub.com/evanw/esbuild/issues/1821))\n\n    Version 0.13.12 introduced simplification of `calc()` expressions in CSS when minifying. For example, `calc(100% / 4)` turns into `25%`. However, this is problematic for numbers with many fractional digits because either the number is printed with reduced precision, which is inaccurate, or the number is printed with full precision, which could be longer than the original expression. For example, turning `calc(100% / 3)` into `33.33333%` is inaccurate and turning it into `33.333333333333336%` likely isn't desired. In this release, minification of `calc()` is now disabled when any number in the result cannot be represented to full precision with at most five fractional digits.\n\n-   Fix an edge case with `catch` scope handling ([#&#8203;1812](https://togithub.com/evanw/esbuild/issues/1812))\n\n    This release fixes a subtle edge case with `catch` scope and destructuring assignment. Identifiers in computed properties and/or default values inside the destructuring binding pattern should reference the outer scope, not the inner scope. The fix was to split the destructuring pattern into its own scope, separate from the `catch` body. Here's an example of code that was affected by this edge case:\n\n    ```js\n    // Original code\n    let foo = 1\n    try {\n      throw ['a', 'b']\n    } catch ({ [foo]: y }) {\n      let foo = 2\n      assert(y === 'b')\n    }\n\n    // Old output (with --minify)\n    let foo=1;try{throw[\"a\",\"b\"]}catch({[o]:t}){let o=2;assert(t===\"b\")}\n\n    // New output (with --minify)\n    let foo=1;try{throw[\"a\",\"b\"]}catch({[foo]:t}){let o=2;assert(t===\"b\")}\n    ```\n\n-   Go 1.17.2 was upgraded to Go 1.17.4\n\n    The previous release was built with Go 1.17.2, but this release is built with Go 1.17.4. This is just a routine upgrade. There are no changes significant to esbuild outside of some security-related fixes to Go's HTTP stack (but you shouldn't be running esbuild's dev server in production anyway).\n\n    One notable change related to this is that esbuild's publishing script now ensures that git's state is free of uncommitted and/or untracked files before building. Previously this wasn't the case because publishing esbuild involved changing the version number, running the publishing script, and committing at the end, which meant that files were uncommitted during the build process. I also typically had some untracked test files in the same directory during publishing (which is harmless).\n\n    This matters because there's an upcoming change in Go 1.18 where the Go compiler will include metadata about whether there are untracked files or not when doing a build: [https://github.com/golang/go/issues/37475](https://togithub.com/golang/go/issues/37475). Changing esbuild's publishing script should mean that when esbuild upgrades to Go 1.18, esbuild's binary executables will be marked as being built off of a specific commit without any modifications. This is important for reproducibility. Checking out a specific esbuild commit and building it should give a bitwise-identical binary executable to one that I published. But if this metadata indicated that there were untracked files during the published build, then the resulting executable would no longer be bitwise-identical.\n\n</details>\n\n<details>\n<summary>evanw/esbuild (esbuild)</summary>\n\n</details>\n\n<details>\n<summary>eslint/eslint</summary>\n\n### [`v8.4.1`](https://togithub.com/eslint/eslint/releases/v8.4.1)\n\n[Compare Source](https://togithub.com/eslint/eslint/compare/v8.4.0...v8.4.1)\n\n#### Bug Fixes\n\n-   [`234e3d9`](https://togithub.com/eslint/eslint/commit/234e3d98eeab8956cefb14c982b9c348c21bb2d9) fix: revert changes to reported locations in max-lines-per-function ([#&#8203;15397](https://togithub.com/eslint/eslint/issues/15397)) (Milos Djermanovic)\n\n#### Documentation\n\n-   [`fa4d483`](https://togithub.com/eslint/eslint/commit/fa4d4830a0e77f92154079ada17ffb893ce64232) docs: fix typo in example for `sort-keys` rule ([#&#8203;15393](https://togithub.com/eslint/eslint/issues/15393)) (Nitin Kumar)\n\n### [`v8.4.0`](https://togithub.com/eslint/eslint/releases/v8.4.0)\n\n[Compare Source](https://togithub.com/eslint/eslint/compare/v8.3.0...v8.4.0)\n\n#### Features\n\n-   [`5771663`](https://togithub.com/eslint/eslint/commit/5771663e8d3e86fec9454ee0af439c6989506bf3) feat: add `allowReserved` parser option ([#&#8203;15387](https://togithub.com/eslint/eslint/issues/15387)) (Milos Djermanovic)\n-   [`32ac37a`](https://togithub.com/eslint/eslint/commit/32ac37a76b2e009a8f106229bc7732671d358189) feat: Flat config support in Linter (refs [#&#8203;13481](https://togithub.com/eslint/eslint/issues/13481)) ([#&#8203;15185](https://togithub.com/eslint/eslint/issues/15185)) (Nicholas C. Zakas)\n-   [`d041f34`](https://togithub.com/eslint/eslint/commit/d041f345cdf0306f15faa2f305fe1d21ef137eb1) feat: Treat Class/New Expressions as truthy in no-constant-condition ([#&#8203;15326](https://togithub.com/eslint/eslint/issues/15326)) (Jordan Eldredge)\n-   [`8f44cf5`](https://togithub.com/eslint/eslint/commit/8f44cf505765b663e371412ab57f0f1dbbe78513) feat: report only lines that exceed the limit in max-lines-per-function ([#&#8203;15140](https://togithub.com/eslint/eslint/issues/15140)) (Sneh Khatri)\n-   [`808ad35`](https://togithub.com/eslint/eslint/commit/808ad35f204c838cd5eb8d766807dc43692f42f9) feat: pass cwd to formatters (refs [eslint/rfcs#&#8203;57](https://togithub.com/eslint/rfcs/issues/57)) ([#&#8203;13392](https://togithub.com/eslint/eslint/issues/13392)) (Toru Nagashima)\n-   [`f1b7499`](https://togithub.com/eslint/eslint/commit/f1b7499a5162d3be918328ce496eb80692353a5a) feat: support async formatters ([#&#8203;15243](https://togithub.com/eslint/eslint/issues/15243)) (MO)\n\n#### Bug Fixes\n\n-   [`4940cc5`](https://togithub.com/eslint/eslint/commit/4940cc5c4903a691fe51d409137dd573c4c7706e) fix: mark --rulesdir option as deprecated in CLI docs ([#&#8203;15310](https://togithub.com/eslint/eslint/issues/15310)) (Kevin Partington)\n\n#### Documentation\n\n-   [`54deec5`](https://togithub.com/eslint/eslint/commit/54deec56bc25d516becaf767769ee7543f491d62) docs: update integrations.md ([#&#8203;15380](https://togithub.com/eslint/eslint/issues/15380)) (Vlad Sholokhov)\n-   [`fa0423a`](https://togithub.com/eslint/eslint/commit/fa0423af7f8453f6c97b915b3b026f258b76a600) docs: fix typo in PR template ([#&#8203;15365](https://togithub.com/eslint/eslint/issues/15365)) (Nitin Kumar)\n-   [`e233920`](https://togithub.com/eslint/eslint/commit/e233920857e282ba22116ad5f1dcc6dfabc8ef5b) docs: enable a few more markdownlint rules and fix violations ([#&#8203;15368](https://togithub.com/eslint/eslint/issues/15368)) (Bryan Mishkin)\n-   [`632176d`](https://togithub.com/eslint/eslint/commit/632176dc43180ea4e7f99da429fee3ee3814a04d) docs: Dedent needlessly indented example in getter-return docs ([#&#8203;15363](https://togithub.com/eslint/eslint/issues/15363)) (Jordan Eldredge)\n-   [`4497e88`](https://togithub.com/eslint/eslint/commit/4497e880248c24dc19eea8a5466555b847c0c7eb) docs: Update release notes blog post template ([#&#8203;15285](https://togithub.com/eslint/eslint/issues/15285)) (Nicholas C. Zakas)\n\n#### Chores\n\n-   [`efede90`](https://togithub.com/eslint/eslint/commit/efede90d59edc5cca9cd739df7e98f1ff00ca37d) chore: upgrade [@&#8203;eslint/eslintrc](https://togithub.com/eslint/eslintrc)[@&#8203;1](https://togithub.com/1).0.5 ([#&#8203;15389](https://togithub.com/eslint/eslint/issues/15389)) (Milos Djermanovic)\n-   [`0b8c846`](https://togithub.com/eslint/eslint/commit/0b8c846c77234125fbb211980bc1e62dc8791513) chore: fix update-readme to avoid multiple consecutive blank lines ([#&#8203;15375](https://togithub.com/eslint/eslint/issues/15375)) (Milos Djermanovic)\n-   [`94b2a8b`](https://togithub.com/eslint/eslint/commit/94b2a8b3d1f7d139dd6b06216a64727b7d5f009b) chore: Use default Chromium binary in M1 Mac tests ([#&#8203;15371](https://togithub.com/eslint/eslint/issues/15371)) (Brandon Mills)\n-   [`ba58d94`](https://togithub.com/eslint/eslint/commit/ba58d94cb51d4d2644c024446d5750eaf4853129) ci: use node `v16` for Verify Files ([#&#8203;15364](https://togithub.com/eslint/eslint/issues/15364)) (Nitin Kumar)\n-   [`1e32ee5`](https://togithub.com/eslint/eslint/commit/1e32ee591e978188b121604d0af9cbc04a50a3b5) chore: add jsdoc type annotation to rules ([#&#8203;15291](https://togithub.com/eslint/eslint/issues/15291)) (Bryan Mishkin)\n\n</details>\n\n<details>\n<summary>webpack-contrib/sass-loader (sass-loader)</summary>\n\n### [`v12.4.0`](https://togithub.com/webpack-contrib/sass-loader/blob/master/CHANGELOG.md#&#8203;1240-httpsgithubcomwebpack-contribsass-loadercomparev1230v1240-2021-12-07)\n\n[Compare Source](https://togithub.com/webpack-contrib/sass-loader/compare/v12.3.0...v12.4.0)\n\n##### Features\n\n-   add support for node-sass 7 ([#&#8203;1002](https://togithub.com/webpack-contrib/sass-loader/issues/1002)) ([be5cbc9](https://togithub.com/webpack-contrib/sass-loader/commit/be5cbc9b5f851422bcead329d4bfb0c9dab5eb18))\n\n</details>\n\n<details>\n<summary>webpack-contrib/sass-loader (sass-loader)</summary>\n\n</details>\n\n<details>\n<summary>webpack/webpack (webpack)</summary>\n\n### [`v5.65.0`](https://togithub.com/webpack/webpack/releases/v5.65.0)\n\n[Compare Source](https://togithub.com/webpack/webpack/compare/v5.64.4...v5.65.0)\n\n##### Features\n\n-   static evaluation understands `undefined` now\n-   reduce container entry code by a few chars\n-   use template literals when available and they make sense\n\n##### Bugfixes\n\n-   handle `singleton` flag without `requiredVersion` in Module Federation\n-   upgrade `watchpack` for context time info bugfix\n\n##### Performance\n\n-   improve RegExp in error message formating for non-quadratic performance\n\n##### Developer Experience\n\n-   automatically insert brackets when `output.globalObject` contains a non-trival expression\n-   show error when using `script` type external with invalid syntax\n-   expose types for `Resolver`, `StatsOptions` and `ResolvePluginInstance`\n\n##### Preparations for the future\n\n-   `hashDigestLength` will default to 16 in webpack 6 (`experiments.futureDefaults`)\n\n</details>\n\n<details>\n<summary>webpack/webpack (webpack)</summary>\n\n</details>\n\n---\n\n### Configuration\n\n📅 **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/renovatebot/renovate/discussions) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/22301","RelatedDescription":"Closed or merged PR \"build: update all non-major dependencies\" (#22301)"},{"Id":"1073170660","IsPullRequest":true,"CreatedAt":"2021-12-08T07:33:47","Actor":"alan-agius4","Number":"22312","RawContent":null,"Title":"refactor(@angular-devkit/build-angular): remove usage of deprecated url methods","State":"closed","Body":"\r\nUse WHATWG URL API instead of the deprecated url utils.\r\n\r\nSee https://nodejs.org/api/url.html","Url":"https://github.com/angular/angular-cli/pull/22312","RelatedDescription":"Closed or merged PR \"refactor(@angular-devkit/build-angular): remove usage of deprecated url methods\" (#22312)"},{"Id":"1071852002","IsPullRequest":true,"CreatedAt":"2021-12-08T07:33:40","Actor":"alan-agius4","Number":"22306","RawContent":null,"Title":"fix(@angular-devkit/build-angular): prefer ES2015 entrypoints when application targets ES2019 or lower","State":"closed","Body":"Patch version of https://github.com/angular/angular-cli/pull/22305","Url":"https://github.com/angular/angular-cli/pull/22306","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): prefer ES2015 entrypoints when application targets ES2019 or lower\" (#22306)"},{"Id":"1071848208","IsPullRequest":true,"CreatedAt":"2021-12-08T07:33:32","Actor":"alan-agius4","Number":"22305","RawContent":null,"Title":"fix(@angular-devkit/build-angular): prefer ES2015 entrypoints when application targets ES2019 or lower","State":"closed","Body":"\r\nPreviously, we always consumed the ES2020 entrypoints, which caused issues in environments where the application compilation target is ES2019 or lower and ES2020 is not supported.\r\n\r\nThis is because we only downlevel code when we target ES5 or below.\r\n\r\n- ES5 or below compilations, ES2015 entrypoints are used and their code is downlevelled to ES5.\r\n- ES2019 or below, ES2015 entrypoints are used and no downlevelling is involved.\r\n- ES2020 or later, ES2020 entrypoints are used.\r\n\r\nCloses #22270","Url":"https://github.com/angular/angular-cli/pull/22305","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): prefer ES2015 entrypoints when application targets ES2019 or lower\" (#22305)"},{"Id":"1073647637","IsPullRequest":true,"CreatedAt":"2021-12-07T18:58:20","Actor":"dgp1130","Number":"22315","RawContent":null,"Title":"docs: release notes for the v12.2.14 release","State":"closed","Body":"Cherry-picks the changelog from the \"12.2.x\" branch to the next branch (master).","Url":"https://github.com/angular/angular-cli/pull/22315","RelatedDescription":"Closed or merged PR \"docs: release notes for the v12.2.14 release\" (#22315)"},{"Id":"1072492025","IsPullRequest":false,"CreatedAt":"2021-12-07T18:47:59","Actor":"NeilSorensen","Number":"22309","RawContent":null,"Title":"ng serve --public-host issue in 13","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [x ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Is this a regression?\r\n\r\nYes, this was working in Angular 12\r\n\r\n### Description\r\n\r\nIn spite of the `--public-host` parameter, webpack is attempting to establish a websocket with `wss://localhost/ws`.\r\n\r\nWe run our development environment through a reverse proxy to allow us to host several apps on the same \"domain\" to better simulate our production environment. After upgrading to Angular 13, an app hosted off the main path constantly refreshes because webpack is trying to connect to the app hosted at the root.\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem.\r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\nI've produced a repository that reproduces the issue at https://github.com/emmersion/repro-app.  \r\nWith both `base-href` set in `index.html` and `--public-host` set to `http://localhost/foo`, I expect webpack to attempt to connect to `wss://localhost/foo/ws`.\r\nThe easiest way to confirm this is to watch the network tab of the developer tools when loading the app.\r\nInstead, it attempts to connect to `wss://localhost/ws`.\r\nThe problem is particularly acute in my actual dev environment because we host a different angular app at `http://localhost`, leading to constant reloading when the `foo` app connects to the root app's websocket.\r\n\r\n## 🌍 Your Environment\r\n\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\nAngular CLI: 13.0.4\r\nNode: 14.18.1\r\nPackage Manager: npm 6.14.15\r\nOS: win32 x64\r\n\r\nAngular: 13.0.3\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1300.4\r\n@angular-devkit/build-angular   13.0.4\r\n@angular-devkit/core            13.0.4\r\n@angular-devkit/schematics      13.0.4\r\n@angular/cli                    13.0.4\r\n@schematics/angular             13.0.4\r\nrxjs                            7.4.0\r\ntypescript                      4.4.4\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n\r\nWe're running an Nginx reverse-proxy server. I've included a docker-compose file for a simplified (no https) version of our proxy configuration in the repro-app repository.\r\n","Url":"https://github.com/angular/angular-cli/issues/22309","RelatedDescription":"Closed issue \"ng serve --public-host issue in 13\" (#22309)"},{"Id":"1073614354","IsPullRequest":true,"CreatedAt":"2021-12-07T18:28:04","Actor":"dgp1130","Number":"22314","RawContent":null,"Title":"Bump version to \"v12.2.14\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/22314","RelatedDescription":"Closed or merged PR \"Bump version to \"v12.2.14\" with changelog.\" (#22314)"},{"Id":"1073431519","IsPullRequest":false,"CreatedAt":"2021-12-07T15:06:29","Actor":"electrofLy","Number":"22313","RawContent":null,"Title":"Running migrations with polyfills set as an array","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [x] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> \r\n\r\nNo.\r\n\r\n### Description\r\n\r\n<!-- ✍️--> If you have defined polyfills as an array in your angular.json, running ng update migrations fails.\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem.\r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n1. In angular.json set:\r\n\r\n```\r\n{\r\n...\r\n\"polyfills\": [\"src/polyfills.ts\"],\r\n...\r\n}\r\n```\r\n\r\n2. Run `npx @angular/cli@13 update @angular/core@13 @angular/cli@13` if you are on v12 or ` ng update @angular/cli --from 12 --to 13 --migrate-only` if you are on v13.\r\n\r\n## 🔥 Exception or Error\r\n\r\n<pre><code>[error] TypeError: fileName.substr is not a function\r\n    at getScriptKindFromFileName (X:\\frontend\\node_modules\\@schematics\\angular\\third_party\\github.com\\Microsoft\\TypeScript\\lib\\typescript.js:20206:28)\r\n    at Object.ensureScriptKind (X:\\frontend\\node_modules\\@schematics\\angular\\third_party\\github.com\\Microsoft\\TypeScript\\lib\\typescript.js:20202:30)\r\n    at Object.parseSourceFile (X:\\frontend\\node_modules\\@schematics\\angular\\third_party\\github.com\\Microsoft\\TypeScript\\lib\\typescript.js:30455:29)\r\n    at Object.createSourceFile (X:\\frontend\\node_modules\\@schematics\\angular\\third_party\\github.com\\Microsoft\\TypeScript\\lib\\typescript.js:30266:29)\r\n    at X:\\frontend\\node_modules\\@schematics\\angular\\migrations\\update-13\\drop-ie-polyfills.js:125:31\r\n    at MergeMapSubscriber.project (X:\\frontend\\node_modules\\@angular-devkit\\schematics\\src\\rules\\call.js:75:24)\r\n    at MergeMapSubscriber._tryNext (X:\\frontend\\node_modules\\@angular-devkit\\schematics\\node_modules\\rxjs\\internal\\operators\\mergeMap.js:67:27)\r\n    at MergeMapSubscriber._next (X:\\frontend\\node_modules\\@angular-devkit\\schematics\\node_modules\\rxjs\\internal\\operators\\mergeMap.js:57:18)\r\n    at MergeMapSubscriber.Subscriber.next (X:\\frontend\\node_modules\\@angular-devkit\\schematics\\node_modules\\rxjs\\internal\\Subscriber.js:66:18)\r\n    at Observable._subscribe (X:\\frontend\\node_modules\\@angular-devkit\\schematics\\node_modules\\rxjs\\internal\\util\\subscribeToArray.js:5:20)\r\n    at Observable._trySubscribe (X:\\frontend\\node_modules\\@angular-devkit\\schematics\\node_modules\\rxjs\\internal\\Observable.js:44:25)\r\n    at Observable.subscribe (X:\\frontend\\node_modules\\@angular-devkit\\schematics\\node_modules\\rxjs\\internal\\Observable.js:30:22)\r\n    at MergeMapOperator.call (X:\\frontend\\node_modules\\@angular-devkit\\schematics\\node_modules\\rxjs\\internal\\operators\\mergeMap.js:37:23)\r\n    at Observable.subscribe (X:\\frontend\\node_modules\\@angular-devkit\\schematics\\node_modules\\rxjs\\internal\\Observable.js:25:31)\r\n    at MergeMapOperator.call (X:\\frontend\\node_modules\\@angular-devkit\\schematics\\node_modules\\rxjs\\internal\\operators\\mergeMap.js:37:23)\r\n    at Observable.subscribe (X:\\frontend\\node_modules\\@angular-devkit\\schematics\\node_modules\\rxjs\\internal\\Observable.js:25:31)\r\n</code></pre>\r\n\r\n## 🌍 Your Environment\r\n\r\n<pre><code>  _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 13.0.4\r\nNode: 14.15.5\r\nPackage Manager: npm 6.14.11\r\nOS: win32 x64\r\n\r\nAngular: 13.0.3\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1202.13\r\n@angular-devkit/build-angular   13.0.4\r\n@angular-devkit/core            13.0.4\r\n@angular-devkit/schematics      13.0.4\r\n@angular/cdk                    12.2.11\r\n@angular/cli                    13.0.4\r\n@angular/google-maps            12.2.11\r\n@angular/material               12.2.11\r\n@schematics/angular             13.0.4\r\nng-packagr                      13.0.8\r\nrxjs                            7.4.0\r\ntypescript                      4.4.4\r\nwebpack                         5.60.0\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n\r\nNo.\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/22313","RelatedDescription":"Closed issue \"Running migrations with polyfills set as an array\" (#22313)"},{"Id":"1073052325","IsPullRequest":false,"CreatedAt":"2021-12-07T10:24:34","Actor":"phihochzwei","Number":"22310","RawContent":null,"Title":"Components for lazy loaded module get bundled in the wrong file","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncore, router\n\n### Is this a regression?\n\nNo\n\n### Description\n\nWe use to lazy load several parts of our application. Basically, we try to lazy load every route. At one point, we lazy load the \"My Account\" section which uses 5 components from a library we created. This works fine, but one thing bothers me: \r\n\r\nWhen I check the built bundles with webpack bundle analyzer, the components we use inside the lazy loaded modules routes dont get bundled inside the respective bundle file (which would be the way I would expect and prefer it since this is the whole thing about lazy loading, to have only in memory what you need) but inside the main.js. Those components dont get referenced anywhere else, only in the routing-module of the lazy loaded module. \n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\n_                      _                 ____ _     ___ \r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | | \r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | | \r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 13.0.4\r\nNode: 16.13.0\r\nPackage Manager: npm 8.1.0\r\nOS: win32 x64\r\n\r\nAngular: 13.0.3\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... platform-server, router, service-worker\r\n\r\nPackage                                    Version\r\n--------------------------------------------------------------------\r\n@angular-devkit/architect                  0.1300.4\r\n@angular-devkit/build-angular              13.0.4\r\n@angular-devkit/core                       13.0.4\r\n@angular-devkit/schematics                 13.0.4\r\n@angular/cli                               13.0.4\r\n@nguniversal/express-engine                13.0.1\r\n@nguniversal/module-map-ngfactory-loader   v8.2.6\r\n@schematics/angular                        13.0.4\r\nng-packagr                                 13.0.8\r\nrxjs                                       7.4.0\r\ntypescript                                 4.4.4\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/22310","RelatedDescription":"Closed issue \"Components for lazy loaded module get bundled in the wrong file\" (#22310)"},{"Id":"1073087201","IsPullRequest":true,"CreatedAt":"2021-12-07T08:57:08","Actor":"kroeder","Number":"22311","RawContent":null,"Title":"feat(@schematics/angular): add a new schematic command","State":"open","Body":"Add a new `ng generate schematic` command that enables developers to provide schematic support for their project.\r\n\r\nCloses #22288","Url":"https://github.com/angular/angular-cli/pull/22311","RelatedDescription":"Open PR \"feat(@schematics/angular): add a new schematic command\" (#22311)"},{"Id":"1072478149","IsPullRequest":true,"CreatedAt":"2021-12-06T18:39:19","Actor":"kormide","Number":"22308","RawContent":null,"Title":"build: reproduce original package structure using bazel","State":"open","Body":"@gregmagolan @josephperrott \r\n\r\nThis PR modifies the existing bazel rules to reproduce the packages that are currently being produced by the `build.ts` script. I also added version stamping which works for snapshot and release builds.\r\n\r\nThere are still some differences between the `package.json` files that bazel produces compared to `build.ts`, which I will work through in future pull requests. These differences include:\r\n* using tars as dependency versions for local builds\r\n* additional substitutions such as removing devDependencies, merging keywords from the base package.json, etc.\r\n\r\nOnce bazel is producing identical pacakges, I will switch the `build.ts` script to call bazel instead of tsc. Until then, none of this should affect the currently used build process.","Url":"https://github.com/angular/angular-cli/pull/22308","RelatedDescription":"Open PR \"build: reproduce original package structure using bazel\" (#22308)"},{"Id":"1070740800","IsPullRequest":true,"CreatedAt":"2021-12-06T14:53:05","Actor":"alan-agius4","Number":"22299","RawContent":null,"Title":"Remove ESM workarounds","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/22299","RelatedDescription":"Closed or merged PR \"Remove ESM workarounds\" (#22299)"},{"Id":"1070683616","IsPullRequest":true,"CreatedAt":"2021-12-06T14:52:26","Actor":"alan-agius4","Number":"22297","RawContent":null,"Title":"refactor(@ngtools/webpack): use webpack API to delete assets in compilation","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/22297","RelatedDescription":"Closed or merged PR \"refactor(@ngtools/webpack): use webpack API to delete assets in compilation\" (#22297)"},{"Id":"1070491508","IsPullRequest":true,"CreatedAt":"2021-12-06T14:51:17","Actor":"alan-agius4","Number":"22294","RawContent":null,"Title":"fix(@angular-devkit/build-angular): Sass compilation in StackBlitz webcontainers","State":"closed","Body":"\r\n\r\nWhen `process.versions.webcontainer` is a string it means that we are running in a StackBlitz webcontainer. `SassWorkerImplementation` uses `receiveMessageOnPort` Node.js `worker_thread` API to ensure sync behavior which is ~2x faster. However, it is non trivial to support this in a webcontainer and while slower we choose to use `dart-sass` which in Webpack uses the slower async path.\r\n\r\n\r\n// cc @markwhitfeld ","Url":"https://github.com/angular/angular-cli/pull/22294","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): Sass compilation in StackBlitz webcontainers\" (#22294)"},{"Id":"1070429724","IsPullRequest":true,"CreatedAt":"2021-12-06T14:51:01","Actor":"alan-agius4","Number":"22292","RawContent":null,"Title":"refactor(@angular-devkit/build-angular): remove `NG_BUILD_PROFILING` and `DEVKIT_PROFILING` logic","State":"closed","Body":"\r\n\r\nGenerating a CPU profile using Node.JS `--cpu-prof` or Chrome inspector is preferred.\r\n\r\nCloses #20336","Url":"https://github.com/angular/angular-cli/pull/22292","RelatedDescription":"Closed or merged PR \"refactor(@angular-devkit/build-angular): remove `NG_BUILD_PROFILING` and `DEVKIT_PROFILING` logic\" (#22292)"},{"Id":"1070422204","IsPullRequest":true,"CreatedAt":"2021-12-06T14:50:27","Actor":"alan-agius4","Number":"22291","RawContent":null,"Title":"fix(@angular-devkit/build-angular): fallback to use language ID to set the `dir` attribute","State":"closed","Body":"\r\nIn some cases we don't ship certain locales, or they map to files which are named only the language IDs. Example `en-US`, which it's locale data is available from `@angular/common/locales/en.mjs`\r\n\r\nCloses #22285","Url":"https://github.com/angular/angular-cli/pull/22291","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): fallback to use language ID to set the `dir` attribute\" (#22291)"},{"Id":"1071140972","IsPullRequest":false,"CreatedAt":"2021-12-06T08:23:17","Actor":"SamShekhovtsov","Number":"22300","RawContent":null,"Title":"Angular 13 SCSS is not supported","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nDon't known / other\n\n### Is this a regression?\n\nNo\n\n### Description\n\nWhen I create a new project from scratch using scss - the scss files are completely ignored, styles are not used at all. There is something huge broken in Angular 13 in regards to SCSS.\n\n### Please provide a link to a minimal reproduction of the bug\n\nng new angular-scss-demo\n\n### Please provide the exception or error you saw\n\n```true\nthere are no errors. SCSS styles are just now working.\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 13.0.4\r\nNode: 12.22.7\r\nPackage Manager: npm 8.1.0\r\nOS: linux x64\r\n\r\nAngular: 13.0.3\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1300.4\r\n@angular-devkit/build-angular   13.0.4\r\n@angular-devkit/core            13.0.4\r\n@angular-devkit/schematics      13.0.4\r\n@angular/cli                    13.0.4\r\n@schematics/angular             13.0.4\r\nrxjs                            7.4.0\r\ntypescript                      4.4.4\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/22300","RelatedDescription":"Closed issue \"Angular 13 SCSS is not supported\" (#22300)"},{"Id":"1071831644","IsPullRequest":false,"CreatedAt":"2021-12-06T08:00:21","Actor":"nicolae536","Number":"22304","RawContent":null,"Title":"ng serve seems to not work when chrome devtools are opened","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\ncompiler-cli, compiler\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nNg serve doesn't seem to work when chrome dev tools are opened.\r\nThe app seems to work normally when the dev tools are closed.\r\nThis is the network tab when refresh the app.\r\n\r\n![image](https://user-images.githubusercontent.com/9453094/144803827-b09409f1-c241-41d0-8601-b99b7676df4a.png)\r\n\r\nWhen I close the chrome devtools the app just runs fine. We are also using storybook for angular and noticed the same pattern once the dev tools are opened the storybook project fails silently to me it seems the same issue.\r\n\r\nI will try to do a reproduction repository if possible\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps://github.com/nicolae536/ng-serve-not-working\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nUnfortunately in the console are just failed requests to the dev server like he doesn't want to respond somehow.\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nThe package info is from our project: \r\nThe reproduction repro has a lower angular version.\r\n\r\nNode: 16.13.0\r\nPackage Manager: npm\r\nOS: Windows 10\r\nTerminal: Git bash\r\n\r\nAngular packages:\r\n\r\n    \"@angular/animations\": \"~13.0.3\",\r\n    \"@angular/cdk\": \"~13.0.3\",\r\n    \"@angular/common\": \"~13.0.3\",\r\n    \"@angular/compiler\": \"~13.0.3\",\r\n    \"@angular/core\": \"~13.0.3\",\r\n    \"@angular/forms\": \"~13.0.3\",\r\n    \"@angular/google-maps\": \"~13.0.3\",\r\n    \"@angular/material\": \"~13.0.3\",\r\n    \"@angular/platform-browser\": \"~13.0.3\",\r\n    \"@angular/platform-browser-dynamic\": \"~13.0.3\",\r\n    \"@angular/router\": \"~13.0.3\",\r\n    \"@angular/cli\": \"~13.0.4\",\r\n    \"@angular/compiler-cli\": \"~13.0.3\",\r\n    \"@angular/elements\": \"~13.0.3\",\r\n    \"@angular/language-service\": \"~13.0.3\",\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\nStart command maybe it matters:\r\n\"start\": \"node --max-old-space-size=4096 ./node_modules/@angular/cli/bin/ng serve --host 0.0.0.0 --port 4999 --disable-host-check\"","Url":"https://github.com/angular/angular-cli/issues/22304","RelatedDescription":"Closed issue \"ng serve seems to not work when chrome devtools are opened\" (#22304)"},{"Id":"1071493616","IsPullRequest":false,"CreatedAt":"2021-12-05T18:57:21","Actor":"jackwootton","Number":"22303","RawContent":null,"Title":"@angular-devkit/architect published as `0.1300.4` npm","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [x] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Is this a regression?\r\nN/A\r\n\r\n### Description\r\nThe npm for [@angular-devkit/architect](https://www.npmjs.com/package/@angular-devkit/architect) is published as `0.1300.4` whereas other Angular CLI npms are published as `13.0.4` (for example [@angular-devkit/build-angular](https://www.npmjs.com/package/@angular-devkit/build-angular)). Is this a typo?\r\n\r\n<!-- ✍️--> A clear and concise description of the problem...\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\nSee `0.1300.4 • Public • Published 4 days ago` in the screenshot.\r\n![image](https://user-images.githubusercontent.com/1623996/144753827-654e6a19-0558-42a7-b829-79b9d4579ac1.png)\r\n\r\n## 🔥 Exception or Error\r\n\r\nN/A\r\n\r\n## 🌍 Your Environment\r\n\r\n<pre><code>\r\nAngular CLI: 12.0.4\r\nNode: 14.18.1\r\nPackage Manager: npm 8.1.3\r\nOS: linux x64\r\n\r\nAngular: <error>\r\n... animations, cdk, common, compiler, compiler-cli, core, fire\r\n... flex-layout, forms, material, platform-browser\r\n... platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1200.4 (cli-only)\r\n@angular-devkit/build-angular   <error>\r\n@angular-devkit/core            12.0.4 (cli-only)\r\n@angular-devkit/schematics      12.0.4 (cli-only)\r\n@angular/cli                    12.0.4 (cli-only)\r\n@schematics/angular             12.0.4 (cli-only)\r\nrxjs                            6.6.7 (cli-only)\r\ntypescript                      <error>\r\n</code></pre>\r\n\r\n","Url":"https://github.com/angular/angular-cli/issues/22303","RelatedDescription":"Closed issue \"@angular-devkit/architect published as `0.1300.4` npm\" (#22303)"},{"Id":"1071179341","IsPullRequest":false,"CreatedAt":"2021-12-04T11:01:29","Actor":"acklj1","Number":"22302","RawContent":null,"Title":"[bug] electron16 + angular13 use ipcRenderer, get error","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Is this a regression?\r\n\r\nno\r\n\r\n### Description\r\n\r\nelectron16 + angular13 use ipcRenderer, get error\r\n\r\n![image](https://user-images.githubusercontent.com/18612941/144705985-9805d503-3d42-4249-8068-edf53796e7d8.png)\r\n\r\nI search other issue, answer is change webpack config, but angular builder is not webpack\r\n![image](https://user-images.githubusercontent.com/18612941/144706091-ed259d5a-fcf6-4009-8821-cb3f231c96bc.png)\r\nbuilder is angular-devkit/build-angular:browser\r\nI must use ipcRenderer, like\r\nimport { ipcRenderer } from 'electron';\r\n\r\nbut ng build is error\r\n\r\nplease help to resolve it\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem.\r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n## 🔥 Exception or Error\r\n\r\n<pre><code>\r\n./node_modules/electron/index.js:1:11-24 - Error: Module not found: Error: Can't resolve 'fs' in 'D:\\gitproject\\das\\das\\node_modules\\electron'\r\n\r\n./node_modules/electron/index.js:3:13-28 - Error: Module not found: Error: Can't resolve 'path' in 'D:\\gitproject\\das\\das\\node_modules\\electron'\r\n\r\nBREAKING CHANGE: webpack < 5 used to include polyfills for node.js core modules by default.\r\nThis is no longer the case. Verify if you need this module and configure a polyfill for it.\r\n\r\nIf you want to include a polyfill, you need to:\r\n        - add a fallback 'resolve.fallback: { \"path\": require.resolve(\"path-browserify\") }'\r\n        - install 'path-browserify'\r\nIf you don't want to include a polyfill, you can use an empty module like this:\r\n        resolve.fallback: { \"path\": false }\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ✍️-->\r\n\r\n</code></pre>\r\n\r\n## 🌍 Your Environment\r\n\r\n<pre><code>\r\nAngular CLI: 13.0.4\r\nNode: 16.13.1\r\nPackage Manager: npm 8.1.2\r\nOS: win32 x64\r\n\r\nAngular: 13.0.3\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1300.4\r\n@angular-devkit/build-angular   13.0.4\r\n@angular-devkit/core            13.0.4\r\n@angular-devkit/schematics      13.0.4\r\n@angular/cli                    13.0.4\r\n@schematics/angular             13.0.4\r\nrxjs                            7.4.0\r\ntypescript                      4.4.4\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/22302","RelatedDescription":"Closed issue \"[bug] electron16 + angular13 use ipcRenderer, get error\" (#22302)"},{"Id":"1070532504","IsPullRequest":true,"CreatedAt":"2021-12-03T13:19:23","Actor":"alan-agius4","Number":"22295","RawContent":null,"Title":"perf(@ngtools/webpack): remove child compilation stylesheet chunk assets","State":"closed","Body":"Stylesheet chunk assets are emitted via the parent compilation and hence these are not needed to be retained in the child compilation.","Url":"https://github.com/angular/angular-cli/pull/22295","RelatedDescription":"Closed or merged PR \"perf(@ngtools/webpack): remove child compilation stylesheet chunk assets\" (#22295)"},{"Id":"1070431407","IsPullRequest":false,"CreatedAt":"2021-12-03T10:16:11","Actor":"cexbrayat","Number":"22293","RawContent":null,"Title":"Budgets on \"Estimated transfer size\"","State":"open","Body":"# 🚀 Feature request\r\n\r\n### Command (mark with an `x`)\r\n\r\n<!-- Can you pin-point the command or commands that are relevant for this feature request? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Description\r\n\r\n`ng build` allows to see the \"Estimated Transfer Size\" as of version v13.1.\r\n\r\nIt would be very neat to be able to define budgets based not only the \"Raw size\", but also on this \"Estimated Transfer Size\"\r\n\r\n### Describe the solution you'd like\r\n\r\nSomething along the lines of:\r\n\r\n```json\r\n\"budgets\": [\r\n  {\r\n    \"type\": \"initial-estimated\",\r\n    \"maximumWarning\": \"80kb\",\r\n    \"maximumError\": \"160kb\"\r\n},\r\n```\r\n\r\nor \r\n\r\n```json\r\n\"budgets\": [\r\n  {\r\n    \"type\": \"initial\",\r\n    \"estimated\": true,\r\n    \"maximumWarning\": \"80kb\",\r\n    \"maximumError\": \"160kb\"\r\n},\r\n```","Url":"https://github.com/angular/angular-cli/issues/22293","RelatedDescription":"Open issue \"Budgets on \"Estimated transfer size\"\" (#22293)"},{"Id":"1070275165","IsPullRequest":false,"CreatedAt":"2021-12-03T09:23:08","Actor":"indraraj26","Number":"22289","RawContent":null,"Title":"[v12 to v13] stuck on UPDATE package.json (2055 bytes)","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [x] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> Yes, the previous version in which this bug was not present was: No\r\n\r\n### Description\r\n\r\n<!-- ✍️--> A clear and concise description of the problem...\r\nI am trying to update mine ionic app v12 to v13. command that I m using \r\n`ng update @angular/core @angular/cli  --force`\r\n## 🔬 Minimal Reproduction\r\n\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem.\r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n## 🔥 Exception or Error\r\n\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ✍️-->\r\nng update @angular/core @angular/cli  --force\r\nThe installed local Angular CLI version is older than the latest stable version.\r\nInstalling a temporary version to perform the update.\r\n✔ Package successfully installed.\r\nUsing package manager: 'npm'\r\nCollecting installed dependencies...\r\nFound 28 dependencies.\r\nFetching dependency metadata from registry...\r\n                  Package \"@angular-eslint/builder\" has an incompatible peer dependency to \"@angular/cli\" (requires \">= 12.0.0 < 13.0.0\", would install \"13.0.4\").\r\n    Updating package.json with dependency @angular-devkit/build-angular @ \"13.0.4\" (was \"12.1.4\")...\r\n    Updating package.json with dependency @angular/cli @ \"13.0.4\" (was \"12.1.4\")...\r\n    Updating package.json with dependency @angular/compiler @ \"13.0.3\" (was \"12.1.5\")...\r\n    Updating package.json with dependency @angular/compiler-cli @ \"13.0.3\" (was \"12.1.5\")...\r\n    Updating package.json with dependency @angular/language-service @ \"13.0.3\" (was \"12.0.5\")...\r\n    Updating package.json with dependency typescript @ \"4.4.4\" (was \"4.2.4\")...\r\n    Updating package.json with dependency @angular/common @ \"13.0.3\" (was \"12.1.5\")...\r\n    Updating package.json with dependency @angular/core @ \"13.0.3\" (was \"12.1.5\")...\r\n    Updating package.json with dependency @angular/forms @ \"13.0.3\" (was \"12.1.5\")...\r\n    Updating package.json with dependency @angular/platform-browser @ \"13.0.3\" (was \"12.1.5\")...\r\n    Updating package.json with dependency @angular/platform-browser-dynamic @ \"13.0.3\" (was \"12.1.5\")...\r\n    Updating package.json with dependency @angular/router @ \"13.0.3\" (was \"12.1.5\")...\r\n  UPDATE package.json (2055 bytes)\r\n\r\n</code></pre>\r\n\r\n## 🌍 Your Environment\r\n\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\nng version\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 12.1.0\r\nNode: 14.17.1\r\nPackage Manager: npm 6.14.13\r\nOS: win32 x64\r\n\r\nAngular: <error>\r\n... common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1201.0 (cli-only)\r\n@angular-devkit/build-angular   <error>\r\n@angular-devkit/core            12.1.0 (cli-only)\r\n@angular-devkit/schematics      12.1.0 (cli-only)\r\n@angular/cli                    12.1.0 (cli-only)\r\n@schematics/angular             12.1.0 (cli-only)\r\nrxjs                            6.6.7 (cli-only)\r\ntypescript                      <error>\r\n\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/22289","RelatedDescription":"Closed issue \"[v12 to v13] stuck on UPDATE package.json (2055 bytes)\" (#22289)"}],"ResultType":"GitHubIssue"},"material2-Issues":{"Issues":[{"Id":"1074952980","IsPullRequest":true,"CreatedAt":"2021-12-09T00:10:50","Actor":"wagnermaciel","Number":"24073","RawContent":null,"Title":"docs: release notes for the v13.1.0 release","State":"closed","Body":"Cherry-picks the changelog from the \"13.1.x\" branch to the next branch (master).","Url":"https://github.com/angular/components/pull/24073","RelatedDescription":"Closed or merged PR \"docs: release notes for the v13.1.0 release\" (#24073)"},{"Id":"1074927218","IsPullRequest":true,"CreatedAt":"2021-12-09T00:04:38","Actor":"wagnermaciel","Number":"24072","RawContent":null,"Title":"Bump version to \"v13.1.0\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/24072","RelatedDescription":"Closed or merged PR \"Bump version to \"v13.1.0\" with changelog.\" (#24072)"},{"Id":"1074900306","IsPullRequest":true,"CreatedAt":"2021-12-08T22:59:09","Actor":"wagnermaciel","Number":"24071","RawContent":null,"Title":"Update next branch to reflect new release-train \"v13.2.0-next.0\".","State":"closed","Body":"The previous \"next\" release-train has moved into the release-candidate phase. This PR updates the next branch to the subsequent release-train.\n\nAlso this PR cherry-picks the changelog for v13.1.0-rc.0 into the master branch so that the changelog is up to date.","Url":"https://github.com/angular/components/pull/24071","RelatedDescription":"Closed or merged PR \"Update next branch to reflect new release-train \"v13.2.0-next.0\".\" (#24071)"},{"Id":"1074881461","IsPullRequest":true,"CreatedAt":"2021-12-08T22:14:48","Actor":"wagnermaciel","Number":"24070","RawContent":null,"Title":"Bump version to \"v13.1.0-rc.0\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/24070","RelatedDescription":"Closed or merged PR \"Bump version to \"v13.1.0-rc.0\" with changelog.\" (#24070)"},{"Id":"1074814484","IsPullRequest":true,"CreatedAt":"2021-12-08T20:59:47","Actor":"wagnermaciel","Number":"24069","RawContent":null,"Title":"docs: release notes for the v13.0.4 release","State":"closed","Body":"Cherry-picks the changelog from the \"13.0.x\" branch to the next branch (master).","Url":"https://github.com/angular/components/pull/24069","RelatedDescription":"Closed or merged PR \"docs: release notes for the v13.0.4 release\" (#24069)"},{"Id":"1074782059","IsPullRequest":true,"CreatedAt":"2021-12-08T20:30:51","Actor":"wagnermaciel","Number":"24068","RawContent":null,"Title":"Bump version to \"v13.0.4\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/24068","RelatedDescription":"Closed or merged PR \"Bump version to \"v13.0.4\" with changelog.\" (#24068)"},{"Id":"1074580697","IsPullRequest":true,"CreatedAt":"2021-12-08T16:14:23","Actor":"crisbeto","Number":"24067","RawContent":null,"Title":"docs(material/datepicker): add note about locale data in date-fns","State":"open","Body":"Adds a note about how locale data should be provided for users that consume the `date-fns` adapter.\r\n\r\nFixes #24026.","Url":"https://github.com/angular/components/pull/24067","RelatedDescription":"Open PR \"docs(material/datepicker): add note about locale data in date-fns\" (#24067)"},{"Id":"1073853525","IsPullRequest":true,"CreatedAt":"2021-12-07T23:54:30","Actor":"uraj","Number":"24066","RawContent":null,"Title":"ci: Add tsec_test for all ng_module targets.","State":"open","Body":"Instead of updating ~250 `BUILD.bazel` files, instrument the `ng_module` macro to conveniently create `tsec_test` for all modules. The `ts_library` macro is not instrumented since most of them are about testing, schematics and examples, which are not relevant to XSS. For those that are indeed security sensitive, `tsec_test` is manually added into individual `BUILD.bazel` files.","Url":"https://github.com/angular/components/pull/24066","RelatedDescription":"Open PR \"ci: Add tsec_test for all ng_module targets.\" (#24066)"},{"Id":"1073616108","IsPullRequest":false,"CreatedAt":"2021-12-07T17:50:01","Actor":"pveliz","Number":"24065","RawContent":null,"Title":"help(COMPONENT): Google Maps Angular Component - Session Tokens","State":"open","Body":"### What are you trying to do?\n\nI'm trying to call Google Maps Autocomplete with Session Token but I don't if I should pass it as parameter or if the Angular component is going to take care of it through Google Place API Autocomplete Widget.\r\n\r\nI noticed that in Google documentation is mentioned that: \"Tip: If your app is using the Autocomplete Widget you don't need to implement sessions, as the widget handles sessions automatically in the background.\"\r\n\r\nreference: https://developers.google.com/maps/documentation/javascript/places-autocomplete#session_tokens\r\n\r\nI'm wondering if this is an issue or if I should implement this code in a different way.\r\n\r\nHere is my code:\r\n\r\nprivate initAutocompleteEventListener(): void {\r\n    this.autocomplete = new Maps.places.Autocomplete(this.addresstext.nativeElement, {\r\n      componentRestrictions: { country: this.country },\r\n      types: ['address'],\r\n      strictBounds: true,\r\n    });\r\n\r\n    this.autocomplete.setFields([\"address_components\", \"geometry\"]);\r\n\r\n    this.autocomplete.setBounds(bounds);\r\n\r\n    this.autocomplete.addListener('place_changed', () => {\r\n      this.searchAddressAction();\r\n    });\r\n  }\r\n\r\n  public searchAddressAction(): void {\r\n\r\n    const place = this.autocomplete.getPlace();\r\n\r\n    if (place?.geometry != null) {\r\n\r\n      const location = new Maps.LatLng(place.geometry.location.lat(), place.geometry.location.lng());\r\n      this.map?.panTo(location);\r\n      this.map?.setZoom(this.defaultZoomMapRelocation);\r\n\r\n      this.displayLocationMarker(location);\r\n    }\r\n  }\r\n\r\nThese are the Request URL that I'm getting per place: \r\n\r\nhttps://maps.googleapis.com/maps/api/place/js/AutocompletionService.GetPredictions?1sbou&4sen-US&6m6&1m2&1d45.510405&2d-73.898788&2m2&1d45.703724&2d-73.529765&7scountry%3Aca&9saddress&15e3&18b1&20s81E45ECD-1B6D-4D3C-BBB0-377D46C025A47mv02lf57zqx&21m1&2e1&callback=_xdc_._td1uof&key=XXXXXXXXXX&token=77178\r\n\r\nhttps://maps.googleapis.com/maps/api/place/js/AutocompletionService.GetPredictions?1sboul&4sen-US&6m6&1m2&1d45.510405&2d-73.898788&2m2&1d45.703724&2d-73.529765&7scountry%3Aca&9saddress&15e3&18b1&20s81E45ECD-1B6D-4D3C-BBB0-377D46C025A47mv02lf57zqx&21m1&2e1&callback=_xdc_._1h8teu&key=XXXXXXXXXX&token=12145\r\n\r\nhttps://maps.googleapis.com/maps/api/place/js/PlaceService.GetPlaceDetails?2sen-US&10e3&14m1&1sEi1Cb3VsZXZhcmQgU2FpbnQtTGF1cmVudCwgTW9udHJlYWwsIFFDLCBDYW5hZGEiLiosChQKEgnvYZMNcxnJTBFxdHE45rlNExIUChIJDbdkHFQayUwR7-8fITgxTmU&15s81E45ECD-1B6D-4D3C-BBB0-377D46C025A47mv02lf57zqx&16m1&1saddress_components%2Cgeometry&17m1&2e1&callback=_xdc_._pjld49&key=XXXXXXXXXX&token=54441\r\n\r\nImportant to mention that token parameter in these URLs is not session token according to the following post:\r\n\r\nhttps://stackoverflow.com/a/53655495/2081650\r\n\r\nReference to Session Tokens: \r\nhttps://developers.google.com/maps/documentation/places/web-service/session-tokens\r\nhttps://developers.google.com/maps/documentation/places/web-service/autocomplete#sessiontoken\r\n\r\nThanks in advance!\r\n\n\n### What troubleshooting steps have you tried?\n\nI was expecting to have the session token in the requests\r\n\r\nhttps://maps.googleapis.com/maps/api/place/js/AutocompletionService.GetPredictions?1sbou&4sen-US&6m6&1m2&1d45.510405&2d-73.898788&2m2&1d45.703724&2d-73.529765&7scountry%3Aca&9saddress&15e3&18b1&20s81E45ECD-1B6D-4D3C-BBB0-377D46C025A47mv02lf57zqx&21m1&2e1&callback=_xdc_._td1uof&key=XXXXXXXXXX&token=77178\r\n\r\nhttps://maps.googleapis.com/maps/api/place/js/AutocompletionService.GetPredictions?1sboul&4sen-US&6m6&1m2&1d45.510405&2d-73.898788&2m2&1d45.703724&2d-73.529765&7scountry%3Aca&9saddress&15e3&18b1&20s81E45ECD-1B6D-4D3C-BBB0-377D46C025A47mv02lf57zqx&21m1&2e1&callback=_xdc_._1h8teu&key=XXXXXXXXXX&token=12145\r\n\r\nhttps://maps.googleapis.com/maps/api/place/js/PlaceService.GetPlaceDetails?2sen-US&10e3&14m1&1sEi1Cb3VsZXZhcmQgU2FpbnQtTGF1cmVudCwgTW9udHJlYWwsIFFDLCBDYW5hZGEiLiosChQKEgnvYZMNcxnJTBFxdHE45rlNExIUChIJDbdkHFQayUwR7-8fITgxTmU&15s81E45ECD-1B6D-4D3C-BBB0-377D46C025A47mv02lf57zqx&16m1&1saddress_components%2Cgeometry&17m1&2e1&callback=_xdc_._pjld49&key=XXXXXXXXXX&token=54441\r\n\r\nImportant to mention that token parameter in these URLs is not session token according to the following post:\r\n\r\nhttps://stackoverflow.com/a/53655495/2081650\n\n### Reproduction\n\nHere is my code:\r\n\r\nprivate initAutocompleteEventListener(): void {\r\n    this.autocomplete = new Maps.places.Autocomplete(this.addresstext.nativeElement, {\r\n      componentRestrictions: { country: this.country },\r\n      types: ['address'],\r\n      strictBounds: true,\r\n    });\r\n\r\n    this.autocomplete.setFields([\"address_components\", \"geometry\"]);\r\n\r\n    this.autocomplete.setBounds(bounds);\r\n\r\n    this.autocomplete.addListener('place_changed', () => {\r\n      this.searchAddressAction();\r\n    });\r\n  }\r\n\r\n  public searchAddressAction(): void {\r\n\r\n    const place = this.autocomplete.getPlace();\r\n\r\n    if (place?.geometry != null) {\r\n\r\n      const location = new Maps.LatLng(place.geometry.location.lat(), place.geometry.location.lng());\r\n      this.map?.panTo(location);\r\n      this.map?.setZoom(this.defaultZoomMapRelocation);\r\n\r\n      this.displayLocationMarker(location);\r\n    }\r\n  }\n\n### Environment\n\n- Angular: \"@angular/cli\": \"~10.0.4\"\r\n- Google-maps: \"@angular/google-maps\": \"^10.2.5\",\r\n- CDK/Material: \"@angular/material\": \"^10.2.7\"\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows 10\r\n","Url":"https://github.com/angular/components/issues/24065","RelatedDescription":"Open issue \"help(COMPONENT): Google Maps Angular Component - Session Tokens\" (#24065)"},{"Id":"1073019532","IsPullRequest":true,"CreatedAt":"2021-12-07T15:11:26","Actor":"crisbeto","Number":"24064","RawContent":null,"Title":"build: fix formatting failure","State":"closed","Body":"Fixes a build failure due to an unformatted file.","Url":"https://github.com/angular/components/pull/24064","RelatedDescription":"Closed or merged PR \"build: fix formatting failure\" (#24064)"},{"Id":"1070400473","IsPullRequest":true,"CreatedAt":"2021-12-07T14:12:14","Actor":"crisbeto","Number":"24048","RawContent":null,"Title":"build: update to typescript 4.5 and angular 13.1","State":"closed","Body":"Bumps the versions of TypeScript and Angular to 4.5 and 13.1 respectively, and accounts for some breaking changes.\r\n\r\n**Note:** not totally sure on the PR target since 13.1.0-next.3 is already out.","Url":"https://github.com/angular/components/pull/24048","RelatedDescription":"Closed or merged PR \"build: update to typescript 4.5 and angular 13.1\" (#24048)"},{"Id":"1072025416","IsPullRequest":true,"CreatedAt":"2021-12-07T13:26:08","Actor":"crisbeto","Number":"24061","RawContent":null,"Title":"fix(material-experimental/mdc-slider): throw error when thumb is missing","State":"closed","Body":"Adds a proper error when the MDC slider is missing a thumb. Currently we eventually hit a runtime error which isn't easy to debug.\r\n\r\nFixes #24057.","Url":"https://github.com/angular/components/pull/24061","RelatedDescription":"Closed or merged PR \"fix(material-experimental/mdc-slider): throw error when thumb is missing\" (#24061)"},{"Id":"1071534551","IsPullRequest":false,"CreatedAt":"2021-12-07T13:26:07","Actor":"adrian-heath","Number":"24057","RawContent":null,"Title":"bug(mat-slider): Experimental mat-slider throws Cannot read properties of undefined (reading '_hostElement')","State":"closed","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nWhen adding the most basic experimental mat-slider to a page it throws the error\r\n\r\nTypeError: Cannot read properties of undefined (reading '_hostElement')\r\n\r\nwhen initializing the page.  This does not happen with other experimental controls or the normal mat-slider.  The page does not use a form.\n\n### Reproduction\n\nSteps to reproduce:\r\n1.  Create a page with routing (in my case it is lazy-loaded but I don't think this matters)\r\n2. craete a <mat-toolbar> containing a <mat-slider>  \r\n3. Navigate to the page and an alert is show with the above message\r\n\n\n### Expected Behavior\n\nthe experimental mat-slider works as expected\n\n### Actual Behavior\n\nError thrown and the slider renders as a solid bar\n\n### Environment\n\n- Angular: 13.0.2 (also 12.x)\r\n- CDK/Material: Experimental 13.0.2\r\n- Browser(s): Chrome 96\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows 10\r\n","Url":"https://github.com/angular/components/issues/24057","RelatedDescription":"Closed issue \"bug(mat-slider): Experimental mat-slider throws Cannot read properties of undefined (reading '_hostElement')\" (#24057)"},{"Id":"1070656332","IsPullRequest":false,"CreatedAt":"2021-12-07T09:24:43","Actor":"hodossy","Number":"24052","RawContent":null,"Title":"bug(CdkDragDrop): Drag placeholder is shown in the original place, while an index change is emitted on drag release","State":"closed","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nDrag and Drop placeholder is shown in the wrong place in some cases, and that causes confusion upon drag release.\r\n\r\nI use DragListGroup and DragLists to support drag and drop in a wrapped flex environment.\n\n### Reproduction\n\nSteps to reproduce:\r\n1.  Drag a chip (eg fourth) at the leftmost side of the text\r\n2.  Move a bit forward, still dragging, until previous chip hover effect is shown. The chip placeholder should be in its original place (bit hard to find the sweet spot)\r\n2.  Release the drag\r\n\r\nStackblitz: https://stackblitz.com/edit/components-issue-cdmhsa?file=src/app/example-component.ts\n\n### Expected Behavior\n\nexpecting the dragged chip to be in its original place, ie event emitted with the same previous and current container.\n\n### Actual Behavior\n\nthe dragged chip moves, event emitted with the `n` previous and `n-1` current container.\n\n### Environment\n\n- Angular: 12.2.9\r\n- CDK/Material: 12.2.9\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/24052","RelatedDescription":"Closed issue \"bug(CdkDragDrop): Drag placeholder is shown in the original place, while an index change is emitted on drag release\" (#24052)"},{"Id":"1072544162","IsPullRequest":true,"CreatedAt":"2021-12-06T19:50:36","Actor":"mmalerba","Number":"24063","RawContent":null,"Title":"feat(material-experimental/mdc-core): add missing color, density, typography mixins","State":"open","Body":"","Url":"https://github.com/angular/components/pull/24063","RelatedDescription":"Open PR \"feat(material-experimental/mdc-core): add missing color, density, typography mixins\" (#24063)"},{"Id":"1072506914","IsPullRequest":true,"CreatedAt":"2021-12-06T19:08:33","Actor":"zelliott","Number":"24062","RawContent":null,"Title":"Refactor MatTabNav as ARIA tabs with a new MatTabNavPanel component and [tabPanel] input.","State":"open","Body":"One approach to resolve https://github.com/angular/components/issues/23706. WIP.\r\n\r\n* Adds a new `MatTabNavPanel` component that is intended to be used with `MatTabNav`. `MatTabNavPanel` renders the `tabpanel`, `MatTabNav` renders the `tablist`.\r\n* Adds a new optional `[tabPanel]` input to `MatTabNav` that accepts a `MatTabNavPanel`. Allows `MatTabNav` to make changes to `MatTabNavPanel` (i.e. `aria-labelledby`).\r\n* If `[tabPanel]` is provided, `MatTabNav` acts as an ARIA tabs. Otherwise, it continues to act as links within a navigation landmark (no change from status quo).\r\n\r\nIf there are no major objections with this approach, I'll move on to unit tests.","Url":"https://github.com/angular/components/pull/24062","RelatedDescription":"Open PR \"Refactor MatTabNav as ARIA tabs with a new MatTabNavPanel component and [tabPanel] input.\" (#24062)"},{"Id":"1072022652","IsPullRequest":false,"CreatedAt":"2021-12-06T15:04:49","Actor":"adityakmehta","Number":"24060","RawContent":null,"Title":"docs-bug(COMPONENT): Need more info on getSvgIconFromURL ","State":"closed","Body":"### Documentation Feedback\n\nLooking for an Implementation example of \"**getSvgIconFromURL**\" in **mat-icon**. It would be great if we can get a detailed documentation on using this method to implement caching. There is no sample implementation of this functionality whatsoever.\r\n\r\nThanks\n\n### Affected documentation page\n\nhttps://v9.material.angular.io/components/icon/api","Url":"https://github.com/angular/components/issues/24060","RelatedDescription":"Closed issue \"docs-bug(COMPONENT): Need more info on getSvgIconFromURL \" (#24060)"},{"Id":"1071665679","IsPullRequest":false,"CreatedAt":"2021-12-06T14:50:10","Actor":"thu9999","Number":"24058","RawContent":null,"Title":"bug(COMPONENT): Angular material component harness expansion panel description not working","State":"closed","Body":"### Is this a regression?\r\n\r\n- [ ] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nMatExpansionPanelHarness getDescription return a Promise<''> instead of Promise<string|null>\r\n\r\n### Reproduction\r\n\r\nSteps to reproduce:\r\n1. Testing component template having mat-panel-description inside a mat-expansion-panel\r\n\r\n### Expected Behavior\r\n\r\nMatExpansionPanelHarness.getDescription() should return a Promise<string|null> instead of Promise<''>\r\n\r\n### Actual Behavior\r\n\r\nMatExpansionPanelHarness.getDescription() returns Promise<''>\r\n\r\n### Environment\r\n\r\n- Angular: 11.2.4\r\n- CDK/Material: 11.2.3\r\n- Browser(s): NA\r\n- Operating System (e.g. Windows, macOS, Ubuntu): windows 11\r\n","Url":"https://github.com/angular/components/issues/24058","RelatedDescription":"Closed issue \"bug(COMPONENT): Angular material component harness expansion panel description not working\" (#24058)"},{"Id":"1070313134","IsPullRequest":false,"CreatedAt":"2021-12-06T14:47:09","Actor":"Pradeep12191","Number":"24047","RawContent":null,"Title":"bug(stepper): stepper icons are not aligned properly when direction of html is changed to ltr to rtl and vice versa","State":"closed","Body":"### Is this a regression?\r\n\r\n- [ ] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nstepper icons are going outside of circle when the direction of html is changed to ltr to rtl and vice versa\r\n\r\n### Reproduction\r\n\r\nI have created a stackblitz example with stepper and change direction button which will change the html to rtl and ltr\r\nhttps://stackblitz.com/edit/components-issue-jjfbhm\r\n\r\nSteps to reproduce:\r\n1. Enter some values in name input and click next button, and go to next step. \r\n2. Edit icon in 1st step label will appear.\r\n3. Click on change direction button and observe edit icon\r\n4. Edit icon is misaligned \r\n\r\nTry the same steps in rtl direction and observe the edit icon, Edit icon goes outside of the circle.\r\n\r\nBelow is the screen shots\r\n in ltr to rtl direction\r\n![image](https://user-images.githubusercontent.com/10145706/144565930-8634fa37-b3db-44d1-a1c3-9095d43b4a28.png)\r\n\r\nin rtl to ltr direction\r\n![image](https://user-images.githubusercontent.com/10145706/144565808-33da0056-c8fc-4771-968c-6356a80643e6.png)\r\n\r\n### Expected Behavior\r\n\r\nStep icon is going outside of the circle, when direction of html  is changed\r\n\r\n### Actual Behavior\r\n\r\nStep icons should stay at middle of the circle, when direction of html  is changed\r\n\r\n### Environment\r\n\r\n- Angular: ^12.2.9\r\n- CDK/Material: ^12.2.9 / ^12.2.9\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/24047","RelatedDescription":"Closed issue \"bug(stepper): stepper icons are not aligned properly when direction of html is changed to ltr to rtl and vice versa\" (#24047)"},{"Id":"1071308368","IsPullRequest":false,"CreatedAt":"2021-12-06T10:00:01","Actor":"grapevinegizmos","Number":"24056","RawContent":null,"Title":"docs-bug(density): Why doesn't \"applying density\" describe how to apply density.","State":"closed","Body":"### Documentation Feedback\r\n\r\nVery frustrating that nowhere on the page titled \"Applying Density\", here [https://material.io/design/layout/applying-density.html](url), does it actually explain how to apply density to a particular control on a form or view.\r\n\r\nThere's a lot of info on **why** and **when** you might adjust density, and what it will look like when you do, but not a single code example on how to actually \"apply density\" to a control in a component template and support it in a module.   Why are there no stackblitz links demonstrating how to use the feature?\r\n\r\n\r\n\r\nThe one example I did find elsewhere, was pretty much incomprehensible to me and would itself would require a lot of studying just to figure out what's going on.  The example is not constructed in the usual way, with components, templates etc., but instead builds the entire example in .ts files (no html or css templates) which makes it just really opaque to figure out how to actually use it in a conventional angular application.   (Also you can't even get to this example on this page -- you have to click through to the install page on https://material.io/develop/web/supporting/density and for some reason the example is hosted on something called \"Glitch\" rather than on Stackblitz, like _every other example code section in material.io_\r\n\r\nCan you do better here?  I was really lookingf forward to this feature, but its going to take me (unnecessary) hours of experimentation to guess at how to use it.\r\n\r\n\r\n\r\n### Affected documentation page\r\n\r\nhttps://material.io/design/layout/applying-density.html","Url":"https://github.com/angular/components/issues/24056","RelatedDescription":"Closed issue \"docs-bug(density): Why doesn't \"applying density\" describe how to apply density.\" (#24056)"},{"Id":"1069203225","IsPullRequest":false,"CreatedAt":"2021-12-06T09:53:27","Actor":"vardhan1122","Number":"24044","RawContent":null,"Title":"input type=\"file\"","State":"closed","Body":"### Feature Description\n\nHi Good Morning.,\r\nI am reading all angular-material document, not available in matInput type=\"file\",please add this new feature as soon as possible.\n\n### Use Case\n\nProfile Image Upload","Url":"https://github.com/angular/components/issues/24044","RelatedDescription":"Closed issue \"input type=\"file\"\" (#24044)"},{"Id":"1071923099","IsPullRequest":false,"CreatedAt":"2021-12-06T09:29:21","Actor":"winstonhong15","Number":"24059","RawContent":null,"Title":"bug(MatDialog): Focus trap does not work if dialog only contains an iframe element","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nI add an iframe element to the content of the mat-dialog and I find the following issues:\r\n1. If the mat-dialog contains only an iframe element, focus trap does not constrain the focusable elements to those only inside the modal dialog. \r\n2.  The focus trap works if I add another element to the iframe (like a button), but I cannot use tab key to navigate to elements inside the iframe. \n\n### Reproduction\n\nSteps to reproduce:\r\nI created two separate StackBlitz projects to repro those issues. \r\n1. This project is the entry point which contains a button to open a dialog and the content of the dialog. \r\nhttps://stackblitz.com/edit/angular-ivy-vqwhly?file=src/app/dialogs/dialog-content/dialog-content.component.html\r\n\r\n2. This project contains the content loaded in the iframe. \r\nhttps://stackblitz.com/edit/angular-ivy-34o8qo\r\nFor some reason, it cannot be loaded in the iframe of the dialog if you also open this link in your browser at the same time. \r\n\r\nTo reproduce the first issue:\r\nOpen the first link, ensure that the button is commented out. <!-- <button mat-dialog-close=\"\">Close</button> -->\r\nOpen the dialog, use tab key to navigate all focusable elements. Verify that it is possible to move the focus outside of the dialog. \r\n\r\nTo reproduce the second issue:\r\nOpen the first link and use the code editor to add the button back in dialog-content component. \r\nOpen the dialog and use tab key to test that focusable elements are restrained to those inside the dialog, but it cannot move the focus automatically inside elements of the iframe. You may use your mouse to click on the iframe and set focus inside, but after you focus out of the iframe using keyboard, you cannot use keyboard to focus on the elements inside the iframe again. \n\n### Expected Behavior\n\nIf the iframe is the only element inside the dialog-content, focusable elements should be constrained to those inside the modal dialog only. It should also autofocus on the first focusable element according to this doc: [ARIA: dialog role\r\n](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/dialog_role#required_javascript_features)\r\n\r\nIf there are multiple elements inside the dialog-content, using keyboard should be able to navigate to all focusable elements no matter those elements are inside an iframe or not. \n\n### Actual Behavior\n\nTo reproduce the first issue:\r\nOpen the first link, ensure that the button is commented out. <!-- <button mat-dialog-close=\"\">Close</button> -->\r\nOpen the dialog, use tab key to navigate all focusable elements. Verify that it is possible to move the focus outside of the dialog. \r\n\r\nTo reproduce the second issue:\r\nOpen the first link and use the code editor to add the button back in dialog-content component. \r\nOpen the dialog and use tab key to test that focusable elements are restrained to those inside the dialog, but it cannot move the focus automatically inside elements of the iframe. You may use your mouse to click on the iframe and set focus inside, but after you focus out of the iframe using keyboard, you cannot use keyboard to focus on the elements inside the iframe again. \r\n\n\n### Environment\n\n- Angular: 12.2.14\r\n- CDK/Material: 12.2.13\r\n- Browser(s): Microsoft Edge Version 96.0.1054.43 (Official build) (64-bit)\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/24059","RelatedDescription":"Open issue \"bug(MatDialog): Focus trap does not work if dialog only contains an iframe element\" (#24059)"},{"Id":"1071163399","IsPullRequest":true,"CreatedAt":"2021-12-04T09:02:34","Actor":"crisbeto","Number":"24055","RawContent":null,"Title":"refactor(multiple): remove coercion members","State":"open","Body":"* Replaces all usages of the `ngAcceptInputType` members with type declarations directly on the setters.\r\n* Replaces the lint rule that was checking that the correct coercion members were added with a rule that doesn't allow new coercion members to be added.","Url":"https://github.com/angular/components/pull/24055","RelatedDescription":"Open PR \"refactor(multiple): remove coercion members\" (#24055)"},{"Id":"1070858885","IsPullRequest":true,"CreatedAt":"2021-12-03T18:44:24","Actor":"lekhmanrus","Number":"24054","RawContent":null,"Title":"fix(material/paginator): allow readonly options (#24050)","State":"open","Body":"Adds `readonly` support for paginator `pageSizeOptions`.\r\n\r\ncloses #24050","Url":"https://github.com/angular/components/pull/24054","RelatedDescription":"Open PR \"fix(material/paginator): allow readonly options (#24050)\" (#24054)"},{"Id":"1070663264","IsPullRequest":false,"CreatedAt":"2021-12-03T14:44:31","Actor":"infacto","Number":"24053","RawContent":null,"Title":"feat(mat-tab-nav-bar): router-outlet transition animation like mat-tab-group","State":"open","Body":"### Feature Description\r\n\r\nWhen enableing tab navigation, I have to use `mat-tab-nav-bar` instead of `mat-tab-group`. Works great, but removes the transition animation between the tabs (sliding left / right). \r\n\r\nThere are some other related issues about it: #15570, #18169\r\n\r\nI cannot accept the answer that I should use `mat-tab-group` instead. The reason using `mat-tab-nav-bar` is the tab navigation over URL, etc. Or do you generally not recommend this? If yes why?\r\n\r\nThe workaround in the other solution works. But I wonder, why not just implement this this framework? Since the `mat-tab-group` already has this animation. What is the reason for refusing such a legitimate request?\r\n\r\nI don't like to write code / workaround for stuff that should actually be part of the framework. Custom data with index for the animation, etc. \r\n\r\nNo offense, I was just wondering what the problem is. Together we could think about an elegant solution. Maybe a directive for the `router-outlet` container? But how to detect left and right sliding? (See workaround #18169)\r\n\r\n\r\n### Use Case\r\n\r\nJust be consistent to `mat-tab-group`. Why not? Why should we regret implementing tab navigation using `mat-tab-nav-bar`. Which is an awesome feature? Just complete the implementation by adding the same animation like in `mat-tab-group`.","Url":"https://github.com/angular/components/issues/24053","RelatedDescription":"Open issue \"feat(mat-tab-nav-bar): router-outlet transition animation like mat-tab-group\" (#24053)"},{"Id":"1070651572","IsPullRequest":false,"CreatedAt":"2021-12-03T14:32:10","Actor":"crisbeto","Number":"24051","RawContent":null,"Title":"Continue test harness execution if zone doesn't stabilize within a certain amount of time","State":"open","Body":"Currently the test harnesses wait for the zone to stabilize before executing, however there are some cases where it might not happen. For example, in https://github.com/angular/components/issues/23964 the test times out because a Material component uses `requestAnimationFrame` which the browser can decide to pause if it's out of view.\r\n\r\nOne thing to consider is that Jasmine tests time out after 5s by default so we should pick a number that is lower.\r\n","Url":"https://github.com/angular/components/issues/24051","RelatedDescription":"Open issue \"Continue test harness execution if zone doesn't stabilize within a certain amount of time\" (#24051)"},{"Id":"1070608418","IsPullRequest":false,"CreatedAt":"2021-12-03T13:46:12","Actor":"max-vogler","Number":"24050","RawContent":null,"Title":"bug(MatPaginator): pageSizeOptions are required to be mutable Array, ReadonlyArray fails","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nMatPaginator requires `pageSizeOptions` to be a mutable array. Passing in a ReadonlyArray<number> fails.\n\n### Reproduction\n\nSteps to reproduce:\r\n```typescript\r\n@Component({\r\n  selector: 'example-component',\r\n  template: '<mat-paginator [pageSizeOptions]=\"pageSizeOptions\"></mat-paginator>',\r\n})\r\nexport class ExampleComponent {\r\n pageSizeOptions: ReadonlyArray<number> = [10, 20];\r\n}\r\n```\r\nhttps://stackblitz.com/edit/components-issue-rvmtli?file=src/app/example-component.ts\r\n\n\n### Expected Behavior\n\nI am unaware that MatPaginator would mutate the passed in Array. Passing in a ReadonlyArray<number> should work.\n\n### Actual Behavior\n\nThrows\r\n\r\n```\r\nThe type 'readonly number[]' is 'readonly' and cannot be assigned to the mutable type 'number[]'.\r\n```\n\n### Environment\n\n- Angular: ^12.2.9\r\n- CDK/Material: ^12.2.9\r\n- TypeScript: ^3.7.5\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): macOS","Url":"https://github.com/angular/components/issues/24050","RelatedDescription":"Open issue \"bug(MatPaginator): pageSizeOptions are required to be mutable Array, ReadonlyArray fails\" (#24050)"},{"Id":"1070462045","IsPullRequest":false,"CreatedAt":"2021-12-03T10:51:12","Actor":"bunsenbeaker","Number":"24049","RawContent":null,"Title":"create portal for a projected component","State":"open","Body":"### What are you trying to do?\r\n\r\nI have a component which receives multiple projected components as components:\r\n`@ContentChildren(ChildComponent) children:QueryList<ChildComponent>;`\r\nI'd like to be able to select a specific component from this list and display this one only, based on some of its @Input properties. I'd also like to be able to subscribe to this component's @Outputs.\r\n\r\nSo my child component looks like:\r\n```\r\n@Component({\r\n  selector: 'app-child',\r\n  template: `<p>child works! {{param}}</p>`,\r\n  styleUrls: ['./child.component.scss']\r\n})\r\nexport class ChildComponent implements OnInit {\r\n\r\n  @Input() param!:string;\r\n  @Output() clicked:EventEmitter<any>=new EventEmitter();\r\n\r\n\r\n  constructor(public view: ViewContainerRef) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n```\r\n\r\nand my parent component:\r\n`\r\n@Component({\r\n  selector: 'app-parent',\r\n  templateUrl: './parent.component.html',\r\n  styleUrls: ['./parent.component.scss']\r\n})\r\nexport class ParentComponent implements OnInit{\r\n\r\n  @ContentChildren(ChildComponent) children!:QueryList<ChildComponent>;\r\n\r\n  selectedchild!:ComponentPortal<ChildComponent>;\r\n\r\n  constructor(private cdr: ChangeDetectorRef) { }\r\n\r\n  ngAfterContentInit(): void {\r\n\r\n    \r\n    const child:ChildComponent = this.children?.toArray()[0]; //just for the sample ;)\r\n    child.param=\"param 1\";\r\n    child.clicked.subscribe(c=> {\r\n      console.log('clicked');\r\n      \r\n      this.cdr.detectChanges();\r\n    });\r\n\r\n    \r\n    this.selectedchild = new ComponentPortal(ChildComponent, this.child.view);\r\n    //this.cdr.detectChanges();\r\n\r\n  }\r\n}`\r\n\r\nand in my parent component template:\r\n`<div class=\"portal\" [cdkPortalOutlet]=\"selectedchild\"></div>\r\n`\r\n\r\nThe projected content is loaded into the portal outlet, however it does not display the updated param that was passed in from the parent component.\r\nWhen using simle content projection (ng-content) for displaying all projected components - I'm able to see updated values and respond to Outputs properly from parent component.\r\nIs there another way to bring AN EXISTING component (the projected component) into view using Portal?\r\nPls advise...\r\nThanks!\r\nMK          \r\n\r\n\r\n### What troubleshooting steps have you tried?\r\n\r\ndisplaying projected content without portal\r\n\r\n### Reproduction\r\n\r\nSteps to reproduce:\r\n1. \r\n2. \r\n\r\n\r\n### Environment\r\n\r\n- Angular: 12.2.0\r\n- CDK/Material:12.2.13\r\n- Browser(s): Chrome 96\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Win\r\n","Url":"https://github.com/angular/components/issues/24049","RelatedDescription":"Open issue \"create portal for a projected component\" (#24049)"},{"Id":"1070308872","IsPullRequest":false,"CreatedAt":"2021-12-03T07:45:14","Actor":"vsarangan","Number":"24046","RawContent":null,"Title":"Stepper component tick icon not render properly in RTL direction","State":"open","Body":"### Is this a regression?\r\n\r\n- [X] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nHi Team,\r\n\r\nIn the Stepper component (horizontal stepper ) tick icon does not render properly in the RTL direction.\r\nit is not working in the angular material sample also\r\n\r\nhttps://material.angular.io/components/stepper/examples\r\n\r\n**I tried the tricky solution**\r\n[editable]=\"isEditable\"\r\ntoggle the isEditable value if the user change to RTL language, it is worked as expected.\r\n\r\nIs there any alternative solution for this issue?\r\n\r\n### Reproduction\r\n\r\nSteps to reproduce:\r\n1. Open the angular material stepper component in stackblitz\r\n2. Fill the first step and move to the next step \r\n3. Apply the RTL direction in the HTML element \r\n4. we can the tick icon in the first step is misalignment \r\n\r\n\r\n### Expected Behavior\r\n\r\nit's  should be alignment proper both  RTL and LTR\r\n\r\n### Actual Behavior\r\n\r\nIssue in Stepper component\r\n![image](https://user-images.githubusercontent.com/26595698/144564517-8825fa5e-6b2c-4901-8c7c-9f6a550e6a8d.png)\r\n\r\n\r\n\r\n### Environment\r\n\r\n- Angular:\r\n- CDK/Material:\r\n- Browser(s):\r\n- Operating System (e.g. Windows, macOS, Ubuntu):\r\n","Url":"https://github.com/angular/components/issues/24046","RelatedDescription":"Open issue \"Stepper component tick icon not render properly in RTL direction\" (#24046)"},{"Id":"1069319454","IsPullRequest":true,"CreatedAt":"2021-12-02T09:27:55","Actor":"crisbeto","Number":"24045","RawContent":null,"Title":"fix(material/expansion): able to tab into descendants with visibility while closed","State":"open","Body":"The expansion panel sets `visibility: hidden` while it's closed in order to prevent users from tabbing into the content. This breaks down if a child has its own `visibility`, because it overrides the one coming from the parent. We can't use `display` in the animation definition, because it prevents the animations module from calculating the height when animating.\r\n\r\nThese changes add some CSS that will set `display: none` once the animation has settled.","Url":"https://github.com/angular/components/pull/24045","RelatedDescription":"Open PR \"fix(material/expansion): able to tab into descendants with visibility while closed\" (#24045)"}],"ResultType":"GitHubIssue"}},"RunOn":"2021-12-09T05:30:05.4000686Z","RunDurationInMilliseconds":3232}