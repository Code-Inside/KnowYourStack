{"Data":{"Angular-Issues":{"Issues":[{"Id":"2526423782","IsPullRequest":true,"CreatedAt":"2024-09-14T13:38:57","Actor":"JeanMeche","Number":"57816","RawContent":null,"Title":"fix(core): Handle @let declaration with array in `preparingForHydration`","State":"open","Body":"Before this commit, `@let` declerations with an array were mistaken for a component in the lView and throwing an unexpected error.\r\n\r\nThis commit fixes this.","Url":"https://github.com/angular/angular/pull/57816","RelatedDescription":"Open PR \"fix(core): Handle @let declaration with array in `preparingForHydration`\" (#57816)"},{"Id":"2526271653","IsPullRequest":false,"CreatedAt":"2024-09-14T11:16:54","Actor":"callawey","Number":"57815","RawContent":null,"Title":"Form re-renders whole form while triggering validation after 18.1.0","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\nforms\r\n\r\n### Is this a regression?\r\n\r\nYes\r\n\r\n### Description\r\n\r\ni have a written form engine by me which generates forms with custom form controls which uses some warapper classes injections to generate forms with labels/cols/validations etc. Which is very complicated and outputs a form like in the video you are going to see.\r\n\r\nUntil angular 18.1.0 (18.0.6 is the latest working version for me) everything was flawless. When i upgrade to 18.1.0 and till 18.2.4 behavior is the same. After input validation, all controls are re-rendered. This was not happening prior 18.1.0\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI 18.1.0\r\nNode: 20.14.0\r\nPackage Manager: yarn 3.6.4\r\n\r\nAngular: 18.1.0\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n\r\nAngular 18.0.6 as you can see from the video, validation works as expected and nothing happens\r\n\r\nhttps://github.com/user-attachments/assets/b1b2c85e-ecc9-4ec3-a852-23e8daba67b0\r\n\r\n\r\n\r\nAngular 18.1.0 and newest. Validation re-renders all controls and due that focus is lost and jumps back to the first control\r\n\r\n\r\n\r\nhttps://github.com/user-attachments/assets/71326ff7-7a4b-427d-aa0f-375e6b433258\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","Url":"https://github.com/angular/angular/issues/57815","RelatedDescription":"Open issue \"Form re-renders whole form while triggering validation after 18.1.0\" (#57815)"},{"Id":"2526213852","IsPullRequest":false,"CreatedAt":"2024-09-14T10:25:32","Actor":"e-oz","Number":"57814","RawContent":null,"Title":"Add \"delay\" parameter to the \"idle\" trigger","State":"open","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\r\n\r\ncompiler\r\n\r\n### Description\r\n\r\nPlease add the \"delay\" parameter to the \"idle\" trigger.\r\nWe could use it like this:\r\n```\r\n@defer (on hover(container); on idle(2000)) {\r\n  <heavy-component/>\r\n}\r\n```\r\nor this:\r\n```\r\n@defer (on idle({delay: 2000})) {\r\n  <heavy-component/>\r\n}\r\n```\r\nThat would load the HeavyComponent either on hover or after a 2s delay after ‚Äúidle‚Äù.\r\n\r\nThere are just components that are far enough from the user‚Äôs path, and heavy enough to load them not on just ‚Äúidle‚Äù, but with a small delay - because more important components will take a chance to be loaded on ‚Äúidle‚Äù.\r\n\r\n### Proposed solution\r\n\r\nPlease add the \"delay\" parameter to the \"idle\" trigger.\r\n\r\n### Alternatives considered\r\n\r\nWe can do this, but it is [considered a bad practice by Angular.dev](https://angular.dev/guide/templates/defer#avoid-cascading-loads-with-nested-defer-blocks):\r\n```\r\n@defer (on idle) {\r\n  @defer(on timer(2000)) {\r\n    <heavy-component/>\r\n  }\r\n}\r\n```\r\nAlso, this way we can't combine triggers with \"or\" logic.","Url":"https://github.com/angular/angular/issues/57814","RelatedDescription":"Open issue \"Add \"delay\" parameter to the \"idle\" trigger\" (#57814)"},{"Id":"2526054050","IsPullRequest":true,"CreatedAt":"2024-09-14T07:38:15","Actor":"crisbeto","Number":"57813","RawContent":null,"Title":"feat(core): stabilize `@let` syntax","State":"open","Body":"Removes the `@let` syntax from developer preview.","Url":"https://github.com/angular/angular/pull/57813","RelatedDescription":"Open PR \"feat(core): stabilize `@let` syntax\" (#57813)"},{"Id":"2525805124","IsPullRequest":false,"CreatedAt":"2024-09-13T22:43:32","Actor":"Jordan-Hall","Number":"57812","RawContent":null,"Title":"Brave browser: error code attribute-directives","State":"closed","Body":"### Describe the problem that you experienced\r\n\r\nNavigating directly to https://angular.dev/guide/directives/attribute-directives/ causes error code 5 with shield up and down. \r\n\r\n### Enter the URL of the topic with the problem\r\n\r\nhttps://angular.dev/guide/directives/attribute-directives\r\n\r\n### Describe what you were looking for in the documentation\r\n\r\nError code 5\r\n\r\n### Describe the actions that led you to experience the problem\r\n\r\nif you navigate to the page via https://angular.dev/guide/directives it breaks but if you navigate it via https://angular.dev/guide/directives/directive-composition-api it works fine\r\n\r\n### Describe what you want to experience that would fix the problem\r\n\r\nShould be able to navigate to the page\r\n\r\n### Add a screenshot if that helps illustrate the problem\r\n\r\n![image](https://github.com/user-attachments/assets/673bb0f2-5d73-4966-ba53-7244429e4d89)\r\n\r\n### If this problem caused an exception or error, please paste it here\r\n\r\nNo errors in console\r\n\r\n### If the problem is browser-specific, please specify the device, OS, browser, and version\r\n\r\nBrave Linux [Version 1.68.137 Chromium: 127.0.6533.100 (Official Build) unknown (64-bit)](https://brave.com/latest/)\r\n","Url":"https://github.com/angular/angular/issues/57812","RelatedDescription":"Closed issue \"Brave browser: error code attribute-directives\" (#57812)"},{"Id":"2525693357","IsPullRequest":false,"CreatedAt":"2024-09-13T21:09:03","Actor":"alextse","Number":"57811","RawContent":null,"Title":"Is `RouteReuseStrategy` still supported?","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nrouter\n\n### Is this a regression?\n\nYes\n\n### Description\n\nThe methods from a custom `RouteReuseStrategy` doesn't seem to be called at all.\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps://stackblitz.com/edit/stackblitz-starters-u6xhgs?file=src%2Fmain.ts\n\n### Please provide the exception or error you saw\n\n```true\nI have the `alert()` call in some of the functions in the custom `RouteReuseStrategy` but none of them seems to be called when navigating between routes.\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 18.2.4\r\nNode: 18.20.3\r\nPackage Manager: npm 10.2.3\r\nOS: linux x64\r\n\r\nAngular: 18.2.4\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1802.4\r\n@angular-devkit/build-angular   18.2.4\r\n@angular-devkit/core            18.2.4\r\n@angular-devkit/schematics      18.2.4\r\n@schematics/angular             18.2.4\r\nrxjs                            7.8.1\r\ntypescript                      5.5.4\r\nzone.js                         0.14.10\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/57811","RelatedDescription":"Closed issue \"Is `RouteReuseStrategy` still supported?\" (#57811)"},{"Id":"2525266963","IsPullRequest":true,"CreatedAt":"2024-09-13T16:51:53","Actor":"thePunderWoman","Number":"57810","RawContent":null,"Title":"build: update cross-repo angular dependencies","State":"open","Body":"See associated pull request for more information.\r\n\r\nCloses #57806 as a pr takeover\r\n","Url":"https://github.com/angular/angular/pull/57810","RelatedDescription":"Open PR \"build: update cross-repo angular dependencies\" (#57810)"},{"Id":"2525094423","IsPullRequest":true,"CreatedAt":"2024-09-13T16:49:30","Actor":"thePunderWoman","Number":"57807","RawContent":null,"Title":"build: update cross-repo angular dependencies","State":"closed","Body":"See associated pull request for more information.\r\n\r\nCloses #57806 as a pr takeover\r\n","Url":"https://github.com/angular/angular/pull/57807","RelatedDescription":"Closed or merged PR \"build: update cross-repo angular dependencies\" (#57807)"},{"Id":"2525254888","IsPullRequest":true,"CreatedAt":"2024-09-13T16:46:04","Actor":"clydin","Number":"57809","RawContent":null,"Title":"refactor(compiler): allow internal style encapsulation helper to directly encapsulate for a component","State":"open","Body":"For component stylesheet hot module replacement scenarios, it will be necessarily to directly encapsulate a component's stylesheet in a single operation. This currently requires the consumer of the `encapsulateStyle` helper to use the internal Angular attribute values combined with a find/replace over the entire stylesheet. To avoid both of these, the helper function now has an optional second parameter which allows direct and full encapsulation of a style for a given component when the component identifier is known.","Url":"https://github.com/angular/angular/pull/57809","RelatedDescription":"Open PR \"refactor(compiler): allow internal style encapsulation helper to directly encapsulate for a component\" (#57809)"},{"Id":"2523165926","IsPullRequest":false,"CreatedAt":"2024-09-13T16:36:45","Actor":"SonicPurity","Number":"57795","RawContent":null,"Title":"Browser Support page is inaccessible to unsupported browsers","State":"closed","Body":"### Describe the problem that you experienced\n\nWas on earthquake.usgs.gov. Page would not load. USGS provided a link to ‚Äúview supported browsers‚Äù, linking to https://angular.io/guide/browser-support. This page would not load in the unsupported WWW browser, leaving the user (me) at a loss.\r\n\r\nWent to the trouble of using a current browser. _Still_ would not load, because Javascript was disabled.\r\n\r\nBrowser support pages are special: they need to be as least-common-denominator as possible, to be acceptable to even crazy old browsers and ones with JS disabled or unavailable. Y‚Äôall behind Angular, USGS and other Angular users, or‚Äîbetter‚Äîboth, should maintain a bare-bones pure text HTML 2 or less Supported Browsers page. Anything less is a failure to communicate across a wide range of populations, circumstances, and needs.\r\n\r\nThank you for considering this point.\n\n### Enter the URL of the topic with the problem\n\nhttps://angular.io/guide/browser-support\n\n### Describe what you were looking for in the documentation\n\nBasic plain text WWW browser support information, ideally aimed for a general audience.\n\n### Describe the actions that led you to experience the problem\n\nHad the audacity to use Safari 12 macOS in 2024, which still works fine on many sites, but not parts of USGS nor even GitHub any more. Wanted to read to learn what USGS considered a passable browser/version, was sent to angular.io, and could not access any relevant information.\n\n### Describe what you want to experience that would fix the problem\n\nRedo the Browser Support page in the most dirt-basic text-only HTML possible, so every WWW browser including ancient ones can understand the angular.io requirements and take action accordingly.\n\n### Add a screenshot if that helps illustrate the problem\n\n_No response_\n\n### If this problem caused an exception or error, please paste it here\n\n_No response_\n\n### If the problem is browser-specific, please specify the device, OS, browser, and version\n\n_No response_\n\n### Provide any additional information here in as much as detail as you can\n\n_No response_","Url":"https://github.com/angular/angular/issues/57795","RelatedDescription":"Closed issue \"Browser Support page is inaccessible to unsupported browsers\" (#57795)"},{"Id":"2525172292","IsPullRequest":true,"CreatedAt":"2024-09-13T16:04:27","Actor":"angular-robot","Number":"57808","RawContent":null,"Title":"build: update typescript dependencies to ~5.6.0","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [typescript](https://www.typescriptlang.org/) ([source](https://redirect.github.com/microsoft/TypeScript)) | devDependencies | minor | [`~5.5.0` -> `~5.6.0`](https://renovatebot.com/diffs/npm/typescript/5.5.4/5.6.2) |\n| [typescript-5.5.2](https://www.typescriptlang.org/) ([source](https://redirect.github.com/microsoft/TypeScript)) | dependencies | minor | [`5.5.2` -> `5.6.2`](https://renovatebot.com/diffs/npm/typescript-5.5.2/5.5.2/5.6.2) |\n| [typescript-5.5.3](https://www.typescriptlang.org/) ([source](https://redirect.github.com/microsoft/TypeScript)) | dependencies | minor | [`5.5.3` -> `5.6.2`](https://renovatebot.com/diffs/npm/typescript-5.5.3/5.5.3/5.6.2) |\n| [typescript-5.5.4](https://www.typescriptlang.org/) ([source](https://redirect.github.com/microsoft/TypeScript)) | dependencies | minor | [`5.5.4` -> `5.6.2`](https://renovatebot.com/diffs/npm/typescript-5.5.4/5.5.4/5.6.2) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>microsoft/TypeScript (typescript)</summary>\n\n### [`v5.6.2`](https://redirect.github.com/microsoft/TypeScript/releases/tag/v5.6.2): TypeScript 5.6\n\n[Compare Source](https://redirect.github.com/microsoft/TypeScript/compare/v5.5.4...v5.6.2)\n\nFor release notes, check out the [release announcement](https://devblogs.microsoft.com/typescript/announcing-typescript-5-6/).\n\nFor the complete list of fixed issues, check out the\n\n-   [fixed issues query for Typescript 5.6.0 (Beta)](https://redirect.github.com/Microsoft/TypeScript/issues?utf8=%E2%9C%93\\&q=milestone%3A%22TypeScript+5.6.0%22+is%3Aclosed+).\n-   [fixed issues query for Typescript 5.6.1 (RC)](https://redirect.github.com/Microsoft/TypeScript/issues?utf8=%E2%9C%93\\&q=milestone%3A%22TypeScript+5.6.1%22+is%3Aclosed+).\n-   [fixed issues query for Typescript 5.6.2 (Stable)](https://redirect.github.com/Microsoft/TypeScript/issues?utf8=%E2%9C%93\\&q=milestone%3A%22TypeScript+5.6.2%22+is%3Aclosed+).\n\nDownloads are available on:\n\n-   [npm](https://www.npmjs.com/package/typescript)\n-   [NuGet package](https://www.nuget.org/packages/Microsoft.TypeScript.MSBuild)\n\n</details>\n\n---\n\n### Configuration\n\nüìÖ **Schedule**: Branch creation - \"after 10:00pm on monday,before 04:00am on tuesday\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\nüö¶ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n‚ôª **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\nüîï **Ignore**: Close this PR and you won't be reminded about these updates again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://redirect.github.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzOC43Ny4zIiwidXBkYXRlZEluVmVyIjoiMzguNzcuMyIsInRhcmdldEJyYW5jaCI6Im1haW4iLCJsYWJlbHMiOlsiYWN0aW9uOiBtZXJnZSIsImFyZWE6IGJ1aWxkICYgY2kiLCJ0YXJnZXQ6IHBhdGNoIl19-->\n","Url":"https://github.com/angular/angular/pull/57808","RelatedDescription":"Open PR \"build: update typescript dependencies to ~5.6.0\" (#57808)"},{"Id":"2525062802","IsPullRequest":true,"CreatedAt":"2024-09-13T15:04:55","Actor":"angular-robot","Number":"57806","RawContent":null,"Title":"build: update cross-repo angular dependencies","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@angular/build-tooling](https://redirect.github.com/angular/dev-infra-private-build-tooling-builds) | devDependencies | digest | `88c57b0` -> `40c5080` |\n| [@angular/ng-dev](https://redirect.github.com/angular/dev-infra-private-ng-dev-builds) | devDependencies | digest | `1f06046` -> `682b3d7` |\n| angular/dev-infra | action | digest | `a6dcd24` -> `bd7b638` |\n\nüî° If you wish to disable git hash updates, add `\":disableDigestUpdates\"` to the extends array in your config.\n\n---\n\n### Configuration\n\nüìÖ **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\nüö¶ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n‚ôª **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\nüëª **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://redirect.github.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://redirect.github.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzOC43Ny4zIiwidXBkYXRlZEluVmVyIjoiMzguNzcuMyIsInRhcmdldEJyYW5jaCI6Im1haW4iLCJsYWJlbHMiOlsiYWN0aW9uOiBtZXJnZSIsImFyZWE6IGJ1aWxkICYgY2kiLCJ0YXJnZXQ6IHBhdGNoIl19-->\n","Url":"https://github.com/angular/angular/pull/57806","RelatedDescription":"Open PR \"build: update cross-repo angular dependencies\" (#57806)"},{"Id":"2525000491","IsPullRequest":true,"CreatedAt":"2024-09-13T14:36:10","Actor":"devversion","Number":"57805","RawContent":null,"Title":"feat(migrations): introduce signal input migration as ng generate schematic","State":"open","Body":"Introduces a new `ng generate` schematic for migration `@Input()`\r\ndeclarations to signal inputs.\r\n\r\nThis migration is the same that is also integrated into the\r\nVSCode extension.\r\n\r\nNote: In a follow-up the documentation for this will be improved, and a\r\nflag to report reasons on why certain inputs weren't migrated, is added.","Url":"https://github.com/angular/angular/pull/57805","RelatedDescription":"Open PR \"feat(migrations): introduce signal input migration as ng generate schematic\" (#57805)"},{"Id":"2522965756","IsPullRequest":true,"CreatedAt":"2024-09-13T12:14:00","Actor":"devversion","Number":"57794","RawContent":null,"Title":"refactor(migrations): add compiler filesystem for devkit virtual tree","State":"closed","Body":"The file system will be used for devkit wiring up of Tsurge migrations in e.g. `ng generate` and `ng update`.\r\n\r\n","Url":"https://github.com/angular/angular/pull/57794","RelatedDescription":"Closed or merged PR \"refactor(migrations): add compiler filesystem for devkit virtual tree\" (#57794)"},{"Id":"2523857114","IsPullRequest":true,"CreatedAt":"2024-09-13T11:28:24","Actor":"Suryaprakash1024","Number":"57799","RawContent":null,"Title":"docs: Update guide for version 18 - unclear (possibly incorrect?) instruction for opting out of caching HTTP requests that require authentication","State":"closed","Body":"Update guide for version 18 - unclear (possibly incorrect?) instruction for opting out of caching HTTP requests that require authentication\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/57799","RelatedDescription":"Closed or merged PR \"docs: Update guide for version 18 - unclear (possibly incorrect?) instruction for opting out of caching HTTP requests that require authentication\" (#57799)"},{"Id":"2524597908","IsPullRequest":true,"CreatedAt":"2024-09-13T11:26:36","Actor":"pkozlowski-opensource","Number":"57804","RawContent":null,"Title":"feat(core): mark input, output and model APIs as stable","State":"open","Body":"This commit marks the input, output and model APIs as stable (along with the associated APIs) and thus exits the dev preview phase for those APIs.\r\n\r\nDocumentation updates will follow.\r\n","Url":"https://github.com/angular/angular/pull/57804","RelatedDescription":"Open PR \"feat(core): mark input, output and model APIs as stable\" (#57804)"},{"Id":"2524147348","IsPullRequest":true,"CreatedAt":"2024-09-13T08:48:44","Actor":"crisbeto","Number":"57803","RawContent":null,"Title":"fix(migrations): account for explicit standalone: false in migration","State":"closed","Body":"Fixes that the standalone migration was duplicating the `standalone` flag if the declaration was `standalone: false`.","Url":"https://github.com/angular/angular/pull/57803","RelatedDescription":"Closed or merged PR \"fix(migrations): account for explicit standalone: false in migration\" (#57803)"},{"Id":"2524118136","IsPullRequest":true,"CreatedAt":"2024-09-13T07:45:42","Actor":"jnizet","Number":"57802","RawContent":null,"Title":"fix(http): preserve all headers from Headers object","State":"open","Body":"when initialized from a `Headers` object containing multiple values for the same header, `HttpHeaders` now contains all the header values instead of only having one of them.\r\n\r\nFixes #57798\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nWhen initialized from a `Headers` object containing multiple values for the same header, `HttpHeaders` contained only one of the header values.\r\n\r\nIssue Number: #57798\r\n\r\n## What is the new behavior?\r\n\r\nIt now contains all the header values, as in the original `Headers` object.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n(It does change the behavior of the HttpHeaders class, which might cause behavior changes in existing code, but the old behavior was a bug). \r\n","Url":"https://github.com/angular/angular/pull/57802","RelatedDescription":"Open PR \"fix(http): preserve all headers from Headers object\" (#57802)"},{"Id":"2524111651","IsPullRequest":false,"CreatedAt":"2024-09-13T07:42:19","Actor":"Ramesh-Mu","Number":"57801","RawContent":null,"Title":"Shadow DOM Style Bleeding","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nNo\n\n### Description\n\nI have a host component that contains a header component using ViewEncapsulation.None and a mainContainer component using ViewEncapsulation.ShadowDom. The mainContainer component also includes an admin component with ViewEncapsulation.None. The admin component is a composite component that includes several other components, and I don‚Äôt want to use ViewEncapsulation.ShadowDom for it. \r\n\r\nI‚Äôve observed that the styles from the admin component are being applied to both the Shadow DOM and the root DOM, which affects the styling of the header component\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\nI‚Äôve observed that the styles from the admin component are being applied to both the Shadow DOM and the root DOM, which affects the styling of the header component\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 12.2.18\r\nNode: 14.21.3\r\nPackage Manager: npm 6.14.18\r\nOS: win32 x64\r\n\r\nAngular: 12.2.17\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, localize, platform-browser\r\n... platform-browser-dynamic, router\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.1202.18\r\n@angular-devkit/build-angular      12.2.18\r\n@angular-devkit/core               12.2.18\r\n@angular-devkit/schematics         12.2.18\r\n@angular/cdk                       12.2.13\r\n@angular/cli                       12.2.18\r\n@angular/material                  12.2.13\r\n@angular/material-moment-adapter   12.2.13\r\n@schematics/angular                12.2.18\r\nrxjs                               6.6.7\r\ntypescript                         4.2.4\n```\n\n\n### Anything else?\n\n How can I prevent the admin component's styles from leaking into the root DOM while keeping its current encapsulation settings?","Url":"https://github.com/angular/angular/issues/57801","RelatedDescription":"Open issue \"Shadow DOM Style Bleeding\" (#57801)"},{"Id":"2523972381","IsPullRequest":false,"CreatedAt":"2024-09-13T06:23:35","Actor":"MarkOel3","Number":"57800","RawContent":null,"Title":"i18n extracts messages of own componentlib node module but isn't translating them","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\nDon't known / other\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nI have a main app with i18n support and this app uses components of a componentlib which I have created myself. The componentlib is packaged with ng-packagr and is installed as a node module in the main app. The problem is that messages of the componentlib components get extracted just like messages from the main app to messages.xlf (german) and messages.en.xlf but always the german version is displayed for the componentlib components eventhough for the main app the german/english version is displayed depending on the version i start. I expected that the componentlib messages get translated just like the main app messages since the extract is working just fine.\r\n\r\n## Example component in componentlib\r\n`<p-button i18n-label=\"@@pl.fileUploadLabel\" i18n class=\"mt-4 mb-0\" label=\"Noch ein Label\">Noch ein Text</p-button>`\r\n\r\n## Translation in main-app\r\n`<trans-unit id=\"pl.fileUploadLabel\" datatype=\"html\">\r\n        <source>Noch ein Label</source>\r\n        <target state=\"new\">Another Label</target>\r\n</trans-unit>\r\n<trans-unit id=\"116285064937012435\" datatype=\"html\">\r\n        <source>Noch ein Text</source>\r\n        <target state=\"new\">Another Text</target>\r\n</trans-unit>`\r\n\r\n## Usage in main-app\r\n`import { ExampleComponent } from '@pl/pattern-library';\r\n\r\n\\@Component({\r\n    selector: 'example-dialog',\r\n    standalone: true,\r\n    templateUrl: './example-dialog.component.html',\r\n    styleUrl: './example-dialog.component.scss',\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    imports: [\r\n        ExampleComponent,\r\n        // ... Other components are not relevant for this example\r\n    ],\r\n})`\r\n\r\n### in .html\r\n`<pl-example-component></pl-example-component>`\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nThe componentlib components are always displayed in the german version. There is no other error displayed.\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\n## main-app project.json (both projects are setup with nx)\r\n`{\r\n  \"name\": \"main-app\",\r\n  \"$schema\": \"node_modules/nx/schemas/project-schema.json\",\r\n  \"projectType\": \"application\",\r\n  \"sourceRoot\": \"src\",\r\n  \"prefix\": \"main-app\",\r\n  \"i18n\": {\r\n    \"sourceLocale\": \"de\",\r\n    \"locales\": {\r\n      \"en\": \"src/locale/messages.en.xlf\"\r\n    }\r\n  },\r\n  \"generators\": {\r\n    \"@schematics/angular:component\": {\r\n      \"style\": \"scss\"\r\n    }\r\n  },\r\n  \"targets\": {\r\n    \"build\": {\r\n      \"executor\": \"@angular-devkit/build-angular:application\",\r\n      \"options\": {\r\n        \"outputPath\": \"dist/main-app\",\r\n        \"index\": \"src/index.html\",\r\n        \"browser\": \"src/main.ts\",\r\n        \"polyfills\": [\r\n          \"zone.js\"\r\n        ],\r\n        \"tsConfig\": \"tsconfig.app.json\",\r\n        \"inlineStyleLanguage\": \"scss\",\r\n        \"assets\": [\r\n          \"src/favicon.ico\",\r\n          \"src/assets\"\r\n        ],\r\n        \"styles\": [\r\n          \"src/styles.scss\"\r\n        ],\r\n        \"scripts\": [],\r\n        \"localize\": true,\r\n        \"i18nMissingTranslation\": \"warning\"\r\n      },\r\n      \"configurations\": {\r\n        \"production\": {\r\n          \"fileReplacements\": [\r\n            {\r\n              \"replace\": \"libs/shared/environment/src/lib/environments/environment.ts\",\r\n              \"with\": \"libs/shared/environment/src/lib/environments/environment.prod.ts\"\r\n            }\r\n          ],\r\n          \"outputHashing\": \"all\"\r\n        },\r\n        \"development\": {\r\n          \"optimization\": false,\r\n          \"extractLicenses\": false,\r\n          \"sourceMap\": true\r\n        },\r\n        \"de\": {\r\n          \"localize\": [\r\n            \"de\"\r\n          ]\r\n        },\r\n        \"en\": {\r\n          \"localize\": [\r\n            \"en\"\r\n          ]\r\n        }\r\n      },\r\n      \"defaultConfiguration\": \"production\"\r\n    },\r\n    \"serve\": {\r\n      \"executor\": \"@angular-devkit/build-angular:dev-server\",\r\n      \"configurations\": {\r\n        \"production\": {\r\n          \"buildTarget\": \"main-app:build:production\",\r\n          \"fileReplacements\": [\r\n            {\r\n              \"replace\": \"libs/shared/environment/src/lib/environments/environment.ts\",\r\n              \"with\": \"libs/shared/environment/src/lib/environments/environment.prod.ts\"\r\n            }\r\n          ]\r\n        },\r\n        \"development-de\": {\r\n          \"buildTarget\": \"main-app:build:development,de\"\r\n        },\r\n        \"development-en\": {\r\n          \"buildTarget\": \"main-app:build:development,en\"\r\n        }\r\n      },\r\n      \"defaultConfiguration\": \"development\"\r\n    },\r\n    \"extract-i18n\": {\r\n      \"executor\": \"ng-extract-i18n-merge:ng-extract-i18n-merge\",\r\n      \"options\": {\r\n        \"buildTarget\": \"main-app:build\",\r\n        \"format\": \"xlf\",\r\n        \"outputPath\": \"src/locale\",\r\n        \"targetFiles\": [\r\n          \"messages.en.xlf\"\r\n        ]\r\n      }\r\n    }\r\n}`\r\n\r\n## componentlib project.json (both projects are setup with nx)\r\n`{\r\n  \"name\": \"pattern-library\",\r\n  \"$schema\": \"../../node_modules/nx/schemas/project-schema.json\",\r\n  \"sourceRoot\": \"libs/pattern-library/src\",\r\n  \"prefix\": \"pl\",\r\n  \"projectType\": \"library\",\r\n  \"tags\": [],\r\n  \"targets\": {\r\n    \"build\": {\r\n      \"executor\": \"@nx/angular:package\",\r\n      \"outputs\": [\r\n        \"{workspaceRoot}/dist/{projectRoot}\"\r\n      ],\r\n      \"options\": {\r\n        \"project\": \"libs/pattern-library/ng-package.json\"\r\n      },\r\n      \"configurations\": {\r\n        \"production\": {\r\n          \"tsConfig\": \"libs/pattern-library/tsconfig.lib.prod.json\"\r\n        },\r\n        \"development\": {\r\n          \"tsConfig\": \"libs/pattern-library/tsconfig.lib.json\"\r\n        }\r\n      },\r\n      \"defaultConfiguration\": \"production\"\r\n    },\r\n    \"test\": {\r\n      \"executor\": \"@nx/jest:jest\",\r\n      \"outputs\": [\r\n        \"{workspaceRoot}/coverage/{projectRoot}\"\r\n      ],\r\n      \"options\": {\r\n        \"jestConfig\": \"libs/pattern-library/jest.config.ts\"\r\n      }\r\n    },\r\n    \"lint\": {\r\n      \"executor\": \"@nx/eslint:lint\",\r\n      \"outputs\": [\r\n        \"{options.outputFile}\"\r\n      ],\r\n      \"options\": {\r\n        \"lintFilePatterns\": [\r\n          \"libs/pattern-library/**/*.ts\",\r\n          \"libs/pattern-library/**/*.html\",\r\n          \"libs/pattern-library/package.json\"\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n      \"executor\": \"@nx/eslint:lint\",\r\n      \"outputs\": [\r\n        \"{options.outputFile}\"\r\n      ],\r\n      \"options\": {\r\n        \"lintFilePatterns\": [\r\n          \"libs/pattern-library/**/*.ts\",\r\n          \"libs/pattern-library/**/*.html\",\r\n          \"libs/pattern-library/package.json\"\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n````\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/57800","RelatedDescription":"Open issue \"i18n extracts messages of own componentlib node module but isn't translating them\" (#57800)"},{"Id":"2523801327","IsPullRequest":false,"CreatedAt":"2024-09-13T03:29:35","Actor":"create-signal","Number":"57798","RawContent":null,"Title":"HttpHeaders class discards multiple 'Set-Cookie' headers","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nNo\n\n### Description\n\nWhen a valid HTTP response with multiple \"Set-Cookie\" headers is resolved by HTTPClient, only one of the headers will be defined in response.headers\r\n\r\nHere's a simple reproduction:\r\n\r\n```\r\nconst init: HeadersInit = [\r\n    ['Set-Cookie', 'cookie1=foo'],\r\n    ['Set-Cookie', 'cookie2=bar'],\r\n];\r\n\r\nconst headers = new Headers(init);\r\n\r\nconst httpHeaders = new HttpHeaders(headers);\r\n\r\nhttpHeaders.getAll('set-cookie') // returns [ 'cookie2=bar' ]\r\n```\r\n\r\nThe problem occurs line line 257 of packages/common/http/src/headers.ts. There is no check for an existing header with the same key before the line\r\n\r\n`this.headers.set(key, headerValues);`\r\n\r\nMy interpretation is that this is a valid way to use the Set-Cookie header, due to the method getSetCookie() existing on the Headers API (https://developer.mozilla.org/en-US/docs/Web/API/Headers/getSetCookie)\r\n\r\nThe use case for this is an interceptor on the server side that acts as a proxy for cookies between the user and an API\r\n\r\n```\r\nexport const headersInterceptor: HttpInterceptorFn = (\r\n  req: HttpRequest<unknown>,\r\n  next: HttpHandlerFn\r\n): Observable<HttpEvent<unknown>> => {\r\n  const request = inject(REQUEST, { optional: true });\r\n  const response = inject(RESPONSE, { optional: true });\r\n  const environment = inject(ENVIRONMENT);\r\n\r\n  //? SSR Should forward cookies from the original request.\r\n  if (request?.headers.cookie && req.url.startsWith(environment.apiUrl)) {\r\n    req = req.clone({\r\n      setHeaders: {\r\n        cookie: request.headers.cookie,\r\n      },\r\n    });\r\n  }\r\n\r\n  return next(req).pipe(\r\n    tap((res) => {\r\n        //? SSR Should forward Set-Cookie headers to the client\r\n      if (\r\n        response &&\r\n        res.type == HttpEventType.Response &&\r\n        res.headers.get(\"set-cookie\") &&\r\n        req.url.startsWith(environment.apiUrl)\r\n      ) {\r\n        response.setHeader(\r\n          \"set-cookie\",\r\n          res.headers.getAll(\"set-cookie\") || []\r\n        );\r\n      }\r\n    })\r\n  );\r\n};\r\n```\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 18.1.3\r\nNode: 20.9.0\r\nPackage Manager: npm 10.1.0\r\nOS: darwin arm64\r\n\r\nAngular: 18.1.3\r\n... animations, cdk, cli, common, compiler, compiler-cli, core\r\n... forms, platform-browser, platform-browser-dynamic\r\n... platform-server, router, ssr\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1801.3\r\n@angular-devkit/build-angular   18.1.3\r\n@angular-devkit/core            18.1.3\r\n@angular-devkit/schematics      18.1.3\r\n@schematics/angular             18.1.3\r\nrxjs                            6.6.7\r\ntypescript                      5.4.5\r\nzone.js                         0.14.10\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular/issues/57798","RelatedDescription":"Open issue \"HttpHeaders class discards multiple 'Set-Cookie' headers\" (#57798)"},{"Id":"2523681488","IsPullRequest":true,"CreatedAt":"2024-09-13T01:31:06","Actor":"angular-robot","Number":"57797","RawContent":null,"Title":"build: update dependency chokidar to v4","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [chokidar](https://redirect.github.com/paulmillr/chokidar) | dependencies | major | [`^3.0.0` -> `^4.0.0`](https://renovatebot.com/diffs/npm/chokidar/3.6.0/4.0.0) |\n| [chokidar](https://redirect.github.com/paulmillr/chokidar) | dependencies | major | [`^3.5.1` -> `^4.0.0`](https://renovatebot.com/diffs/npm/chokidar/3.6.0/4.0.0) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>paulmillr/chokidar (chokidar)</summary>\n\n### [`v4.0.0`](https://redirect.github.com/paulmillr/chokidar/releases/tag/4.0.0)\n\n[Compare Source](https://redirect.github.com/paulmillr/chokidar/compare/3.6.0...4.0.0)\n\n-   Remove glob support\n-   Remove bundled fsevents\n-   Decrease dependency count from 13 to 1\n-   Rewrite in typescript. Makes emitted types more precise\n-   The package became hybrid common.js / ESM\n-   Bump minimum node.js requirement to v14+\n\nSpecial thanks to [@&#8203;43081j](https://redirect.github.com/43081j) for improvements and help.\n\n**Full Changelog**: https://github.com/paulmillr/chokidar/compare/3.6.0...4.0.0\n\n</details>\n\n---\n\n### Configuration\n\nüìÖ **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\nüö¶ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n‚ôª **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\nüîï **Ignore**: Close this PR and you won't be reminded about these updates again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://redirect.github.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzOC43NS4wIiwidXBkYXRlZEluVmVyIjoiMzguNzcuMyIsInRhcmdldEJyYW5jaCI6Im1haW4iLCJsYWJlbHMiOlsiYWN0aW9uOiBtZXJnZSIsImFyZWE6IGJ1aWxkICYgY2kiLCJ0YXJnZXQ6IHBhdGNoIl19-->\n","Url":"https://github.com/angular/angular/pull/57797","RelatedDescription":"Open PR \"build: update dependency chokidar to v4\" (#57797)"},{"Id":"2523330885","IsPullRequest":true,"CreatedAt":"2024-09-12T20:52:18","Actor":"GeorgySerga","Number":"57796","RawContent":null,"Title":"fix(compiler): transform pseudo selectors correctly for the encapsulated view","State":"open","Body":"fix scoping and transforming logic of the `shimCssText` for the components with encapsulated view:\r\n- add support for pseudo selector functions\r\n- apply content scoping for inner selectors of `:is()` and `:where()`\r\n- allow multiple comma separated selectors inside pseudo selectors\r\n\r\nFixes #45686\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\nPseudo selector functions aren't parsed/transformed correctly at the moment\r\nThe provided examples inside the issue are added as unit tests as well as other test cases.\r\nIssue Number: #45686 \r\n\r\n\r\n## What is the new behavior?\r\nSpecified in unit tests.\r\n- selectors are parsed by comma if comma is not inside the parenthesis, for example `:where(.one, .two)` stays as a single selector for scoping, previously it was split into two parts `:where(.one` and `.two)`.\r\n- selector parts aren't broken into pieces by combinators if they are within parenthesis, for example `:where(.one > .two)` isn't split\r\n- selectors within `:is()` and `:where()` are being scoped internally, that is especially important for `:where()` since this selectors doesn't increase specificity, allowing overloading theme specific values not risking order related issues.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/57796","RelatedDescription":"Open PR \"fix(compiler): transform pseudo selectors correctly for the encapsulated view\" (#57796)"},{"Id":"2522918425","IsPullRequest":false,"CreatedAt":"2024-09-12T17:02:33","Actor":"Erbenos","Number":"57793","RawContent":null,"Title":"Warning regarding \"disabled\" property of [formControl] family of directives refers to behavior thats specific to a subset of ControlValueAccessors, but shows up for all of them","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\nforms\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nI have a custom component implementing ControlValueAccessor that wraps around native `<input type=\"radio\" />` so that I can provide more custom design, which is a common task. Radio buttons of a group work with same formControl instance with the way things are implemented in my case. The inner `<input type=\"radio\" />` does NOT use RadioControlValueAccessor.\r\n\r\nI let my custom component have 'disabled' Input and I do document that when this input is disabled=true then that takes precedence over the status of the form control (that it gets provided through [formControl], [formControlName], etc...), otherwise form control status is the one in effect. This works just fine for selectively disabling single radio buttons, yet, I get the warning from https://github.com/angular/angular/blob/55e3a3a47cddefebc28af03ce58ece136d41a391/packages/forms/src/directives/reactive_directives/form_control_directive.ts#L94 of \r\n\r\n> It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\r\n  when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\r\n  you. We recommend using this approach to avoid 'changed after checked' errors.\r\n  \r\nBut thats not true, because that effect may not happen for ControlValueAccessors that are implemented outside Angular, unlike eg.: RadioControlValueAccessor, see\r\nhttps://github.com/angular/angular/blob/55e3a3a47cddefebc28af03ce58ece136d41a391/packages/forms/src/directives/radio_control_value_accessor.ts#L244.\r\n\r\nBut thats not the accessor I am using anywhere in my code, so this warning still shows up, even though its not related to my usecase, where the behavior is well documented.\r\n\r\nSo now I have to:\r\n1) Be stuck with the warning, even though its unrelated to my code\r\n2) Use a different name other than \"disabled\"\r\n\r\nCould the warning be moved away from [formControl] directives, to the subclasses of BuiltInControlValueAccessor that actually do the disabled prop writing behavior instead?\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\n@angular/forms: 17.0.9\r\nNode v22.1.0\r\nNpm 10.7.0\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/57793","RelatedDescription":"Open issue \"Warning regarding \"disabled\" property of [formControl] family of directives refers to behavior thats specific to a subset of ControlValueAccessors, but shows up for all of them\" (#57793)"},{"Id":"2522748173","IsPullRequest":true,"CreatedAt":"2024-09-12T15:40:00","Actor":"clydin","Number":"57792","RawContent":null,"Title":"refactor(platform-browser): modernize/combine shared style host element management","State":"open","Body":"","Url":"https://github.com/angular/angular/pull/57792","RelatedDescription":"Open PR \"refactor(platform-browser): modernize/combine shared style host element management\" (#57792)"},{"Id":"2522621602","IsPullRequest":true,"CreatedAt":"2024-09-12T14:56:10","Actor":"4zriel","Number":"57791","RawContent":null,"Title":"fix(core): update ComponentRef.setInput to use keyof C for input name","State":"closed","Body":"Update setInput method in ```ComponentRef``` to accept ```keyof C``` for the name parameter instead of ```string```. this improves type safety by ensuring that only valid keys of the component's inputs can be passed\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\nThe ```ComponentRef.setInput``` method accepts ```name: string```, which does not enforce type safety for input keys and allows any string to be passed. With the introduction of the new Signal API, this could potentially lead to hard-to-notice errors. While using ```keyof C``` is a small improvement, it at least throws a build-time error if an invalid input name is passed. Ideally, it would be better to narrow the type to only accept inputs marked by the ```@Input()``` decorator, but I think it is only possible to narrow it with ```InputSignal``` in future.\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\nThe setInput method now accepts name: ```keyof C```, ensuring that only valid input keys from the component type ```C``` can be passed. This improves type safety.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [x] Yes\r\n- [x] No\r\n\r\n\r\n\r\nPotentially if someone uses a wrong string name, this will throw a build error. However, since the code is non-functional anyway, is this truly a breaking change?\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/57791","RelatedDescription":"Closed or merged PR \"fix(core): update ComponentRef.setInput to use keyof C for input name\" (#57791)"},{"Id":"2522489843","IsPullRequest":false,"CreatedAt":"2024-09-12T13:59:35","Actor":"Nellas","Number":"57790","RawContent":null,"Title":"Update guide for version 18 - unclear (possibly incorrect?) instruction for opting out of caching HTTP requests that require authentication","State":"open","Body":"### Describe the problem that you experienced\n\nThe update guide for version 18 on angular.dev has the following text as one of the bullet points - \r\n```\r\nUse includeRequestsWithAuthHeaders: true in withHttpTransferCache to opt-out of caching for HTTP requests that require authorization.\r\n```\r\nIs that statement incorrect?  My understanding is that setting `includeRequestsWithAuthHeaders: true` actually opts-in to caching for HTTP requests that require authorization.\r\nThe default behavior (`includeRequestsWithAuthHeaders: false`) is to exclude such requests from being cached.\n\n### Enter the URL of the topic with the problem\n\nhttps://angular.dev/update-guide?v=17.0-18.0&l=3\n\n### Describe what you were looking for in the documentation\n\nLooking for any unknowns or gotchas while preparing to update from version 17 to 18.\n\n### Describe the actions that led you to experience the problem\n\nReading through the recommended actions.\n\n### Describe what you want to experience that would fix the problem\n\nIf my understanding is correct, then a simple copy change is all :) \r\nIf not - forgiveness! :P \n\n### Add a screenshot if that helps illustrate the problem\n\n_No response_\n\n### If this problem caused an exception or error, please paste it here\n\n_No response_\n\n### If the problem is browser-specific, please specify the device, OS, browser, and version\n\n_No response_\n\n### Provide any additional information here in as much as detail as you can\n\n_No response_","Url":"https://github.com/angular/angular/issues/57790","RelatedDescription":"Open issue \"Update guide for version 18 - unclear (possibly incorrect?) instruction for opting out of caching HTTP requests that require authentication\" (#57790)"},{"Id":"2522315485","IsPullRequest":false,"CreatedAt":"2024-09-12T12:52:05","Actor":"jakubkolesar","Number":"57789","RawContent":null,"Title":"Composed accent character input handling inconsistency","State":"open","Body":"### Which @angular/* package(s) are the source of the bug?\r\n\r\nforms\r\n\r\n### Is this a regression?\r\n\r\nYes\r\n\r\n### Description\r\n\r\nThere seems to be an issue with `control.value` not updating properly in some browsers (excluding Firefox) when handling composed accent characters on **macOS**. For instance, when entering `\"ahƒç\"`, the last character (or any accent character) isn‚Äôt correctly registered in the event binding method. However, it is correctly captured when subscribing to `valueChanges` on the control itself.\r\n\r\nhttps://github.com/user-attachments/assets/54d9ed09-1335-4872-911b-5540cbf89595\r\n\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps://stackblitz.com/edit/stackblitz-starters-hwk3zh?file=src%2Fapp%2Fcomponents%2Fform-demo%2Fform-demo.component.ts\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: 18.2.4\r\nNode: 18.20.3\r\nPackage Manager: npm 10.2.3\r\nOS: linux x64\r\n\r\nAngular: 18.2.4\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1802.4\r\n@angular-devkit/build-angular   18.2.4\r\n@angular-devkit/core            18.2.4\r\n@angular-devkit/schematics      18.2.4\r\n@schematics/angular             18.2.4\r\nrxjs                            7.8.1\r\ntypescript                      5.5.4\r\nzone.js                         0.14.10\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","Url":"https://github.com/angular/angular/issues/57789","RelatedDescription":"Open issue \"Composed accent character input handling inconsistency\" (#57789)"},{"Id":"2521614412","IsPullRequest":true,"CreatedAt":"2024-09-12T09:23:36","Actor":"pweyrich","Number":"57788","RawContent":null,"Title":"docs: fix example for defer on hover on an alternative element","State":"closed","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/57788","RelatedDescription":"Closed or merged PR \"docs: fix example for defer on hover on an alternative element\" (#57788)"},{"Id":"2521585208","IsPullRequest":false,"CreatedAt":"2024-09-12T09:11:28","Actor":"david-bulte","Number":"57787","RawContent":null,"Title":"TitleCasePipeComponent should be localized","State":"closed","Body":"### Which @angular/* package(s) are relevant/related to the feature request?\n\ncommon\n\n### Description\n\nIn English, all words in a title are capitalized. But e.g. in Dutch only the first word is capitalized. I am wondering whether the TitleCasePipeComponent could take localization into account?\n\n### Proposed solution\n\nLet TitleCasePipeComponent take into account the current locale. If that is not possible, we should be able to configure it ourselves (globally)\n\n### Alternatives considered\n\nWe could write our own component. But it is a shame we have a pipe for titles and cannot use it.","Url":"https://github.com/angular/angular/issues/57787","RelatedDescription":"Closed issue \"TitleCasePipeComponent should be localized\" (#57787)"}],"ResultType":"GitHubIssue"},"AngularCli-Issues":{"Issues":[{"Id":"2526517979","IsPullRequest":true,"CreatedAt":"2024-09-14T17:07:59","Actor":"angular-robot","Number":"28419","RawContent":null,"Title":"build: update angular","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@angular/cdk](https://redirect.github.com/angular/cdk-builds) | dependencies | digest | `baa15ee` -> `50704bf` |\n| [@angular/material](https://redirect.github.com/angular/material-builds) | dependencies | digest | `fe09474` -> `2a3a4de` |\n| [@angular/material-moment-adapter](https://redirect.github.com/angular/material-moment-adapter-builds) | dependencies | digest | `285f82d` -> `3533f7e` |\n\nüî° If you wish to disable git hash updates, add `\":disableDigestUpdates\"` to the extends array in your config.\n\n---\n\n### Configuration\n\nüìÖ **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\nüö¶ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n‚ôª **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\nüëª **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://redirect.github.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://redirect.github.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzOC43Ny4zIiwidXBkYXRlZEluVmVyIjoiMzguNzcuMyIsInRhcmdldEJyYW5jaCI6Im1haW4iLCJsYWJlbHMiOlsiYWN0aW9uOiBtZXJnZSIsInRhcmdldDogbWlub3IiXX0=-->\n","Url":"https://github.com/angular/angular-cli/pull/28419","RelatedDescription":"Open PR \"build: update angular\" (#28419)"},{"Id":"2526044385","IsPullRequest":true,"CreatedAt":"2024-09-14T07:13:37","Actor":"BBboy01","Number":"28418","RawContent":null,"Title":"feat(build): add fallback value for `baseHref`","State":"open","Body":"## PR Checklist\r\n\r\nPlease check to confirm your PR fulfills the following requirements:\r\n\r\n<!-- Please check all that apply using \"x\". -->\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular-cli/blob/main/CONTRIBUTING.md#-commit-message-guidelines\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n## PR Type\r\n\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n- [x] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [x] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] Other... Please describe:\r\n\r\n## What is the current behavior?\r\n\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\nexecutor: `@angular-devkit/build-angular:dev-server`\r\n\r\n`options.baseHref`: not configured\r\n\r\n`index.html > base tag`: not exist\r\n\r\nWhile the initial URI not empty, assets requests always are 404, especially refresh the page after the URl changed.\r\n\r\nIssue Number: #28376\r\n\r\n## What is the new behavior?\r\n\r\n<!-- Please describe the new behavior that. -->\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular-cli/pull/28418","RelatedDescription":"Open PR \"feat(build): add fallback value for `baseHref`\" (#28418)"},{"Id":"2525998084","IsPullRequest":true,"CreatedAt":"2024-09-14T05:08:17","Actor":"angular-robot","Number":"28417","RawContent":null,"Title":"build: update github/codeql-action action to v3.26.7","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [github/codeql-action](https://redirect.github.com/github/codeql-action) | action | patch | `v3.26.6` -> `v3.26.7` |\n\n---\n\n### Release Notes\n\n<details>\n<summary>github/codeql-action (github/codeql-action)</summary>\n\n### [`v3.26.7`](https://redirect.github.com/github/codeql-action/compare/v3.26.6...v3.26.7)\n\n[Compare Source](https://redirect.github.com/github/codeql-action/compare/v3.26.6...v3.26.7)\n\n</details>\n\n---\n\n### Configuration\n\nüìÖ **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\nüö¶ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n‚ôª **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\nüîï **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://redirect.github.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzOC43Ny4zIiwidXBkYXRlZEluVmVyIjoiMzguNzcuMyIsInRhcmdldEJyYW5jaCI6Im1haW4iLCJsYWJlbHMiOlsiYWN0aW9uOiBtZXJnZSIsInRhcmdldDogbWlub3IiXX0=-->\n","Url":"https://github.com/angular/angular-cli/pull/28417","RelatedDescription":"Open PR \"build: update github/codeql-action action to v3.26.7\" (#28417)"},{"Id":"2525699255","IsPullRequest":true,"CreatedAt":"2024-09-13T21:04:43","Actor":"jkrems","Number":"28416","RawContent":null,"Title":"feat(@angular-devkit/build-angular): support karma with application builder","State":"open","Body":"## PR Checklist\r\n\r\nPlease check to confirm your PR fulfills the following requirements:\r\n\r\n<!-- Please check all that apply using \"x\". -->\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular-cli/blob/main/CONTRIBUTING.md#-commit-message-guidelines\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n## PR Type\r\n\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] Other... Please describe:\r\n\r\n## What is the current behavior?\r\n\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n## What is the new behavior?\r\n\r\n<!-- Please describe the new behavior that. -->\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular-cli/pull/28416","RelatedDescription":"Open PR \"feat(@angular-devkit/build-angular): support karma with application builder\" (#28416)"},{"Id":"2521957326","IsPullRequest":true,"CreatedAt":"2024-09-13T20:08:14","Actor":"angular-robot","Number":"28401","RawContent":null,"Title":"build: update angular","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@angular/animations](https://redirect.github.com/angular/animations-builds) | dependencies | digest | `caa6747` -> `e8fc0cf` |\n| [@angular/build-tooling](https://redirect.github.com/angular/dev-infra-private-build-tooling-builds) | devDependencies | digest | `c3526b5` -> `40c5080` |\n| [@angular/cdk](https://redirect.github.com/angular/cdk-builds) | dependencies | digest | `835d8c9` -> `baa15ee` |\n| [@angular/cdk](https://redirect.github.com/angular/components) | devDependencies | patch | [`19.0.0-next.3` -> `19.0.0-next.4`](https://renovatebot.com/diffs/npm/@angular%2fcdk/19.0.0-next.3/19.0.0-next.4) |\n| [@angular/common](https://redirect.github.com/angular/common-builds) | dependencies | digest | `07d541b` -> `1665f28` |\n| [@angular/compiler](https://redirect.github.com/angular/compiler-builds) | dependencies | digest | `d5048f0` -> `434424b` |\n| [@angular/compiler-cli](https://redirect.github.com/angular/compiler-cli-builds) | dependencies | digest | `a92d790` -> `5cccd48` |\n| [@angular/core](https://redirect.github.com/angular/core-builds) | dependencies | digest | `076811f` -> `e52a2e5` |\n| [@angular/forms](https://redirect.github.com/angular/forms-builds) | dependencies | digest | `bbc5d0c` -> `2c5cc87` |\n| [@angular/language-service](https://redirect.github.com/angular/language-service-builds) | dependencies | digest | `48971df` -> `944d7f0` |\n| [@angular/localize](https://redirect.github.com/angular/localize-builds) | dependencies | digest | `f50d77b` -> `fc1617e` |\n| [@angular/material](https://redirect.github.com/angular/material-builds) | dependencies | digest | `7fee86a` -> `fe09474` |\n| [@angular/material](https://redirect.github.com/angular/components) | devDependencies | patch | [`19.0.0-next.3` -> `19.0.0-next.4`](https://renovatebot.com/diffs/npm/@angular%2fmaterial/19.0.0-next.3/19.0.0-next.4) |\n| [@angular/material-moment-adapter](https://redirect.github.com/angular/material-moment-adapter-builds) | dependencies | digest | `f6dcf6b` -> `285f82d` |\n| [@angular/ng-dev](https://redirect.github.com/angular/dev-infra-private-ng-dev-builds) | devDependencies | digest | `ac7e9c6` -> `682b3d7` |\n| [@angular/platform-browser](https://redirect.github.com/angular/platform-browser-builds) | dependencies | digest | `99b7049` -> `7cb34e9` |\n| [@angular/platform-browser-dynamic](https://redirect.github.com/angular/platform-browser-dynamic-builds) | dependencies | digest | `e31a2fb` -> `6e285bd` |\n| [@angular/platform-server](https://redirect.github.com/angular/platform-server-builds) | dependencies | digest | `a3ae0f6` -> `6cc07ca` |\n| [@angular/router](https://redirect.github.com/angular/router-builds) | dependencies | digest | `a214bd9` -> `d963689` |\n| [@angular/service-worker](https://redirect.github.com/angular/service-worker-builds) | dependencies | digest | `d74de39` -> `42c11a7` |\n| angular/dev-infra | action | digest | `c5c42d9` -> `bd7b638` |\n\nüî° If you wish to disable git hash updates, add `\":disableDigestUpdates\"` to the extends array in your config.\n\n---\n\n### Release Notes\n\n<details>\n<summary>angular/components (@&#8203;angular/cdk)</summary>\n\n### [`v19.0.0-next.4`](https://redirect.github.com/angular/components/blob/HEAD/CHANGELOG.md#1900-next4-ion-ink-2024-09-12)\n\n[Compare Source](https://redirect.github.com/angular/components/compare/19.0.0-next.3...19.0.0-next.4)\n\n##### cdk\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [3a62ab11f](https://redirect.github.com/angular/components/commit/3a62ab11fe6e97931ec4d758b03cb660ffdd4fc5) | fix | **overlay:** avoid leaking memory through afterNextRender ([#&#8203;29709](https://redirect.github.com/angular/components/pull/29709)) |\n\n##### material\n\n| Commit | Type | Description |\n| -- | -- | -- |\n| [9122335b2](https://redirect.github.com/angular/components/commit/9122335b25b28a5532159ab87c36aab3be9c3716) | feat | **checkbox:** add new aria properties to MatCheckbox ([#&#8203;29457](https://redirect.github.com/angular/components/pull/29457)) |\n| [fead293e9](https://redirect.github.com/angular/components/commit/fead293e907f40a37e478779c6b0b3b50992262b) | fix | **badge:** change legacy container size default ([#&#8203;29713](https://redirect.github.com/angular/components/pull/29713)) |\n| [54875a325](https://redirect.github.com/angular/components/commit/54875a3258a89a5326d7e224b6550c96e5801cd5) | fix | **core:** drop sanity checks ([#&#8203;29688](https://redirect.github.com/angular/components/pull/29688)) |\n| [ef14c2869](https://redirect.github.com/angular/components/commit/ef14c286986f9451addeada26ab7b51402aa143f) | fix | **core:** option showing double selected indicator in high contrast mode |\n| [77051f871](https://redirect.github.com/angular/components/commit/77051f871a71b973ab6cbb642b1bdd6fe8a0da28) | fix | **form-field:** Don't allow label to grow larger than input ([#&#8203;29673](https://redirect.github.com/angular/components/pull/29673)) |\n| [9dcb95a72](https://redirect.github.com/angular/components/commit/9dcb95a722adc2cf151fc559a3eaf76195aca3f2) | fix | **list:** remove unnecessary high contrast styles |\n| [4d0a3eff7](https://redirect.github.com/angular/components/commit/4d0a3eff7c5d5186516fe5c8f1af8c003d02882d) | fix | **select:** Update checkbox color to match the selected label text color ([#&#8203;29684](https://redirect.github.com/angular/components/pull/29684)) |\n\n<!-- CHANGELOG SPLIT MARKER -->\n\n</details>\n\n---\n\n### Configuration\n\nüìÖ **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\nüö¶ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n‚ôª **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\nüëª **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://redirect.github.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://redirect.github.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzOC43NS4wIiwidXBkYXRlZEluVmVyIjoiMzguNzcuMyIsInRhcmdldEJyYW5jaCI6Im1haW4iLCJsYWJlbHMiOlsiYWN0aW9uOiBtZXJnZSIsInRhcmdldDogbWlub3IiXX0=-->\n","Url":"https://github.com/angular/angular-cli/pull/28401","RelatedDescription":"Closed or merged PR \"build: update angular\" (#28401)"},{"Id":"2525411220","IsPullRequest":false,"CreatedAt":"2024-09-13T18:19:42","Actor":"PooSham","Number":"28415","RawContent":null,"Title":"Esbuild builder doesn't copy assets in watch mode","State":"open","Body":"### Command\n\nbuild\n\n### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\nbrowser builder (webpack based)\n\n### Description\n\nWhen running `ng build --watch` with either the build-esbuild or application builder, there is first a build step where everything is copied to the destination folder, including assets, but if a change is made to an asset after the initial bundle, then nothing happens. I'd expect the assets defined in the builders' \"assets\" option to also be updated during watch mode. \r\n\r\nWhen I try the same in the webpack based \"browser\" builder, then everything is copied. \r\n\n\n### Minimal Reproduction\n\n* In angular.json, put the following inside \"architect\":\r\n\r\n```\r\n\"build\": {\r\n    \"builder\": \"@angular-devkit/build-angular:application\",\r\n    \"options\": {\r\n        \"assets\": [\"src/assets\"],\r\n        \"index\": \"src/index.html\",\r\n        \"browser\": \"src/main.ts\",\r\n        \"outputPath\": \"dist\",\r\n        \"tsConfig\": \"tsconfig.app.json\"\r\n    }\r\n}\r\n```\r\n\r\n* Make sure you have an index.html, main.ts and tsconfig.app.json. \r\n* Put some text file inside of src/assets. \r\n* Run `ng build --watch`. \r\n* Make a change to the text file inside the assets folder\r\n* Notice that the file hasn't been updated inside the dist folder\n\n### Exception or Error\n\n_No response_\n\n### Your Environment\n\n```text\nAngular CLI: 18.2.1\r\nNode: 20.12.0\r\nPackage Manager: npm 10.5.0\r\nOS: win32 x64\r\n\r\nAngular: 18.2.1\r\n... animations, cdk, cli, common, core, elements, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1802.1\r\n@angular-devkit/build-angular   18.2.1\r\n@angular-devkit/core            18.2.1\r\n@angular-devkit/schematics      18.2.1\r\n@schematics/angular             18.2.1\r\nrxjs                            7.8.1\r\ntypescript                      5.5.4\n```\n\n\n### Anything else relevant?\n\nI have tried to dive into the Angular CLI source code, and I found that the watcher is given which files to watch [here](https://github.com/angular/angular-cli/blob/902dbf3a888b9d600c2f9a615a0c454c70d6c3d0/packages/angular/build/src/builders/application/build-action.ts#L132C17-L132C23). I think the result comes from [here](https://github.com/angular/angular-cli/blob/main/packages/angular/build/src/tools/esbuild/bundler-context.ts), but it's a bit abstracted away and I can't easily find the source. ","Url":"https://github.com/angular/angular-cli/issues/28415","RelatedDescription":"Open issue \"Esbuild builder doesn't copy assets in watch mode\" (#28415)"},{"Id":"2522107579","IsPullRequest":true,"CreatedAt":"2024-09-13T15:54:55","Actor":"alan-agius4","Number":"28403","RawContent":null,"Title":"refactor(@angular/build): implement custom middleware for header appending","State":"closed","Body":"Replaced multiple `appendServerConfiguredHeaders` calls with a single custom middleware to append headers to all responses, simplifying the code and ensuring consistency.","Url":"https://github.com/angular/angular-cli/pull/28403","RelatedDescription":"Closed or merged PR \"refactor(@angular/build): implement custom middleware for header appending\" (#28403)"},{"Id":"2524541391","IsPullRequest":false,"CreatedAt":"2024-09-13T10:58:36","Actor":"krook1024","Number":"28414","RawContent":null,"Title":"Cannot load routes containing '.html' with dev-server in Angular 18","State":"closed","Body":"### Command\n\nserve\n\n### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\nBefore Vite\n\n### Description\n\nWhen I try to add .html in a route as described below, then that route is not available through `ng serve`. However, if I replace `.html` with something else, like `.asd`, then the page loads correctly.\n\n### Minimal Reproduction\n\n```sh\r\nng new repro-app #  (select CSS in dialog and say no to SSR)\r\ncd repro-app\r\nng g c repro-page\r\n```\r\n\r\nFill `app.routes.ts` like so:\r\n\r\n```ts\r\nimport { Routes } from '@angular/router';\r\nimport { ReproPageComponent } from './repro-page/repro-page.component';\r\n\r\nexport const routes: Routes = [\r\n    {path: 'test.html', component: ReproPageComponent},\r\n    {path: 'test.asd', component: ReproPageComponent},\r\n    {path: 'test', component: ReproPageComponent}\r\n];\r\n```\r\n\r\nAfter that, execute\r\n\r\n```sh\r\nnpm run start\r\n```\r\n\r\nThen, if you\r\n- go to localhost:4200/test.html => You get **Cannot GET /en/search.html**\r\n- go to localhost:4200/test.asd => You get **repro-page works!**\r\n- go to localhost:4200/test => You get **repro-page works!**\n\n### Exception or Error\n\n```text\nconnect:dispatcher <anonymous>  : /test.html +968ms\r\n  connect:dispatcher viteTimeMiddleware  : /test.html +0ms\r\n  connect:dispatcher corsMiddleware  : /test.html +0ms\r\n  connect:dispatcher viteCachedTransformMiddleware  : /test.html +0ms\r\n  connect:dispatcher viteHMRPingMiddleware  : /test.html +0ms\r\n  connect:dispatcher viteTransformMiddleware  : /test.html +0ms\r\n  connect:dispatcher viteServeRawFsMiddleware  : /test.html +1ms\r\n  connect:dispatcher viteServeStaticMiddleware  : /test.html +0ms\r\n  connect:dispatcher angularHtmlFallbackMiddleware  : /test.html +0ms\r\n  connect:dispatcher <anonymous>  : /test.html +0ms\r\n  connect:dispatcher viteErrorMiddleware  : /test.html +0ms\r\n  finalhandler default 404 +0ms\r\n  vite:time 1.02ms /test.html +969ms\n```\n\n\n### Your Environment\n\n```text\n_                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / ‚ñ≥ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 18.2.4\r\nNode: 20.17.0\r\nPackage Manager: npm 10.8.2\r\nOS: darwin arm64\r\n\r\nAngular: 18.2.4\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1802.4\r\n@angular-devkit/build-angular   18.2.4\r\n@angular-devkit/core            18.2.4\r\n@angular-devkit/schematics      18.2.4\r\n@schematics/angular             18.2.4\r\nrxjs                            7.8.1\r\ntypescript                      5.5.4\r\nzone.js                         0.14.10\r\n\r\npackage.json:\r\n{\r\n  \"name\": \"repro-app\",\r\n  \"version\": \"0.0.0\",\r\n  \"scripts\": {\r\n    \"ng\": \"ng\",\r\n    \"start\": \"ng serve\",\r\n    \"build\": \"ng build\",\r\n    \"watch\": \"ng build --watch --configuration development\",\r\n    \"test\": \"ng test\"\r\n  },\r\n  \"private\": true,\r\n  \"dependencies\": {\r\n    \"@angular/animations\": \"^18.2.0\",\r\n    \"@angular/common\": \"^18.2.0\",\r\n    \"@angular/compiler\": \"^18.2.0\",\r\n    \"@angular/core\": \"^18.2.0\",\r\n    \"@angular/forms\": \"^18.2.0\",\r\n    \"@angular/platform-browser\": \"^18.2.0\",\r\n    \"@angular/platform-browser-dynamic\": \"^18.2.0\",\r\n    \"@angular/router\": \"^18.2.0\",\r\n    \"rxjs\": \"~7.8.0\",\r\n    \"tslib\": \"^2.3.0\",\r\n    \"zone.js\": \"~0.14.10\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@angular-devkit/build-angular\": \"^18.2.4\",\r\n    \"@angular/cli\": \"^18.2.4\",\r\n    \"@angular/compiler-cli\": \"^18.2.0\",\r\n    \"@types/jasmine\": \"~5.1.0\",\r\n    \"jasmine-core\": \"~5.2.0\",\r\n    \"karma\": \"~6.4.0\",\r\n    \"karma-chrome-launcher\": \"~3.2.0\",\r\n    \"karma-coverage\": \"~2.2.0\",\r\n    \"karma-jasmine\": \"~5.1.0\",\r\n    \"karma-jasmine-html-reporter\": \"~2.1.0\",\r\n    \"typescript\": \"~5.5.2\"\r\n  }\r\n}\r\n\r\nangular.json:\r\n{\r\n  \"$schema\": \"./node_modules/@angular/cli/lib/config/schema.json\",\r\n  \"version\": 1,\r\n  \"newProjectRoot\": \"projects\",\r\n  \"projects\": {\r\n    \"repro-app\": {\r\n      \"projectType\": \"application\",\r\n      \"schematics\": {},\r\n      \"root\": \"\",\r\n      \"sourceRoot\": \"src\",\r\n      \"prefix\": \"app\",\r\n      \"architect\": {\r\n        \"build\": {\r\n          \"builder\": \"@angular-devkit/build-angular:application\",\r\n          \"options\": {\r\n            \"outputPath\": \"dist/repro-app\",\r\n            \"index\": \"src/index.html\",\r\n            \"browser\": \"src/main.ts\",\r\n            \"polyfills\": [\r\n              \"zone.js\"\r\n            ],\r\n            \"tsConfig\": \"tsconfig.app.json\",\r\n            \"assets\": [\r\n              {\r\n                \"glob\": \"**/*\",\r\n                \"input\": \"public\"\r\n              }\r\n            ],\r\n            \"styles\": [\r\n              \"src/styles.css\"\r\n            ],\r\n            \"scripts\": []\r\n          },\r\n          \"configurations\": {\r\n            \"production\": {\r\n              \"budgets\": [\r\n                {\r\n                  \"type\": \"initial\",\r\n                  \"maximumWarning\": \"500kB\",\r\n                  \"maximumError\": \"1MB\"\r\n                },\r\n                {\r\n                  \"type\": \"anyComponentStyle\",\r\n                  \"maximumWarning\": \"2kB\",\r\n                  \"maximumError\": \"4kB\"\r\n                }\r\n              ],\r\n              \"outputHashing\": \"all\"\r\n            },\r\n            \"development\": {\r\n              \"optimization\": false,\r\n              \"extractLicenses\": false,\r\n              \"sourceMap\": true\r\n            }\r\n          },\r\n          \"defaultConfiguration\": \"production\"\r\n        },\r\n        \"serve\": {\r\n          \"builder\": \"@angular-devkit/build-angular:dev-server\",\r\n          \"configurations\": {\r\n            \"production\": {\r\n              \"buildTarget\": \"repro-app:build:production\"\r\n            },\r\n            \"development\": {\r\n              \"buildTarget\": \"repro-app:build:development\"\r\n            }\r\n          },\r\n          \"defaultConfiguration\": \"development\"\r\n        },\r\n        \"extract-i18n\": {\r\n          \"builder\": \"@angular-devkit/build-angular:extract-i18n\"\r\n        },\r\n        \"test\": {\r\n          \"builder\": \"@angular-devkit/build-angular:karma\",\r\n          \"options\": {\r\n            \"polyfills\": [\r\n              \"zone.js\",\r\n              \"zone.js/testing\"\r\n            ],\r\n            \"tsConfig\": \"tsconfig.spec.json\",\r\n            \"assets\": [\r\n              {\r\n                \"glob\": \"**/*\",\r\n                \"input\": \"public\"\r\n              }\r\n            ],\r\n            \"styles\": [\r\n              \"src/styles.css\"\r\n            ],\r\n            \"scripts\": []\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/28414","RelatedDescription":"Closed issue \"Cannot load routes containing '.html' with dev-server in Angular 18\" (#28414)"},{"Id":"2524425431","IsPullRequest":true,"CreatedAt":"2024-09-13T10:09:35","Actor":"alan-agius4","Number":"28413","RawContent":null,"Title":"Bump version to \"v19.0.0-next.6\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/28413","RelatedDescription":"Closed or merged PR \"Bump version to \"v19.0.0-next.6\" with changelog.\" (#28413)"},{"Id":"2524412945","IsPullRequest":true,"CreatedAt":"2024-09-13T09:55:12","Actor":"alan-agius4","Number":"28412","RawContent":null,"Title":"Bump version to \"v19.0.0-next.6\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/28412","RelatedDescription":"Closed or merged PR \"Bump version to \"v19.0.0-next.6\" with changelog.\" (#28412)"},{"Id":"2524372162","IsPullRequest":true,"CreatedAt":"2024-09-13T09:46:03","Actor":"alan-agius4","Number":"28411","RawContent":null,"Title":"Bump version to \"v19.0.0-next.6\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/28411","RelatedDescription":"Closed or merged PR \"Bump version to \"v19.0.0-next.6\" with changelog.\" (#28411)"},{"Id":"2524166731","IsPullRequest":true,"CreatedAt":"2024-09-13T09:26:15","Actor":"alan-agius4","Number":"28410","RawContent":null,"Title":"Revert \"perf(@angular/cli): enable Node.js compile code cache when available","State":"closed","Body":"\r\nThis reverts commit `ecc107d83bfdfd9d5dd1087e264892d60361625c`.\r\n\r\nPassing a custom `process.env` to Piscina causes Bazel to fail, leading to path leaks and sandbox escapes.\r\n\r\nAs a result, `adev` builds encounter errors such as:\r\n```\r\nError [ERR_MODULE_NOT_FOUND]: Cannot find package '@angular/compiler-cli' imported from /home/runner/work/angular/angular/node_modules/@angular/build/src/utils/load-esm.js\r\n```\r\n\r\nFurther investigation is needed to determine if this is a bug in Piscina or another underlying issue. For now, the change has been reverted to allow the FW repo to update to the latest version of the CLI packages.\r\n","Url":"https://github.com/angular/angular-cli/pull/28410","RelatedDescription":"Closed or merged PR \"Revert \"perf(@angular/cli): enable Node.js compile code cache when available\" (#28410)"},{"Id":"2523892342","IsPullRequest":true,"CreatedAt":"2024-09-13T05:48:51","Actor":"angular-robot","Number":"28409","RawContent":null,"Title":"build: update dependency chokidar to v4","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [chokidar](https://redirect.github.com/paulmillr/chokidar) | peerDependencies | major | [`^3.5.2` -> `^4.0.0`](https://renovatebot.com/diffs/npm/chokidar/3.6.0/4.0.0) |\n| [chokidar](https://redirect.github.com/paulmillr/chokidar) | devDependencies | major | [`3.6.0` -> `4.0.0`](https://renovatebot.com/diffs/npm/chokidar/3.6.0/4.0.0) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>paulmillr/chokidar (chokidar)</summary>\n\n### [`v4.0.0`](https://redirect.github.com/paulmillr/chokidar/releases/tag/4.0.0)\n\n[Compare Source](https://redirect.github.com/paulmillr/chokidar/compare/3.6.0...4.0.0)\n\n-   Remove glob support\n-   Remove bundled fsevents\n-   Decrease dependency count from 13 to 1\n-   Rewrite in typescript. Makes emitted types more precise\n-   Bump minimum node.js requirement to v14+\n\nSpecial thanks to [@&#8203;43081j](https://redirect.github.com/43081j) for improvements and help.\n\n**Full Changelog**: https://github.com/paulmillr/chokidar/compare/3.6.0...4.0.0\n\n</details>\n\n---\n\n### Configuration\n\nüìÖ **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\nüö¶ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n‚ôª **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\nüîï **Ignore**: Close this PR and you won't be reminded about these updates again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://redirect.github.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzOC43NS4wIiwidXBkYXRlZEluVmVyIjoiMzguNzUuMCIsInRhcmdldEJyYW5jaCI6Im1haW4iLCJsYWJlbHMiOlsiYWN0aW9uOiBtZXJnZSIsInRhcmdldDogbWlub3IiXX0=-->\n","Url":"https://github.com/angular/angular-cli/pull/28409","RelatedDescription":"Closed or merged PR \"build: update dependency chokidar to v4\" (#28409)"},{"Id":"2523892266","IsPullRequest":true,"CreatedAt":"2024-09-13T05:14:53","Actor":"angular-robot","Number":"28408","RawContent":null,"Title":"build: update all non-major dependencies","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [postcss](https://postcss.org/) ([source](https://redirect.github.com/postcss/postcss)) | dependencies | patch | [`8.4.45` -> `8.4.47`](https://renovatebot.com/diffs/npm/postcss/8.4.45/8.4.47) |\n| [postcss](https://postcss.org/) ([source](https://redirect.github.com/postcss/postcss)) | devDependencies | patch | [`8.4.45` -> `8.4.47`](https://renovatebot.com/diffs/npm/postcss/8.4.45/8.4.47) |\n| [verdaccio](https://verdaccio.org) ([source](https://redirect.github.com/verdaccio/verdaccio)) | devDependencies | patch | [`5.32.1` -> `5.32.2`](https://renovatebot.com/diffs/npm/verdaccio/5.32.1/5.32.2) |\n| [vite](https://vitejs.dev) ([source](https://redirect.github.com/vitejs/vite/tree/HEAD/packages/vite)) | dependencies | patch | [`5.4.4` -> `5.4.5`](https://renovatebot.com/diffs/npm/vite/5.4.4/5.4.5) |\n| [vite](https://vitejs.dev) ([source](https://redirect.github.com/vitejs/vite/tree/HEAD/packages/vite)) | devDependencies | patch | [`5.4.4` -> `5.4.5`](https://renovatebot.com/diffs/npm/vite/5.4.4/5.4.5) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>postcss/postcss (postcss)</summary>\n\n### [`v8.4.47`](https://redirect.github.com/postcss/postcss/blob/HEAD/CHANGELOG.md#8447)\n\n[Compare Source](https://redirect.github.com/postcss/postcss/compare/8.4.46...8.4.47)\n\n-   Removed debug code.\n\n### [`v8.4.46`](https://redirect.github.com/postcss/postcss/blob/HEAD/CHANGELOG.md#8446)\n\n[Compare Source](https://redirect.github.com/postcss/postcss/compare/8.4.45...8.4.46)\n\n-   Fixed `Cannot read properties of undefined (reading 'before')`.\n\n</details>\n\n<details>\n<summary>verdaccio/verdaccio (verdaccio)</summary>\n\n### [`v5.32.2`](https://redirect.github.com/verdaccio/verdaccio/releases/tag/v5.32.2)\n\n[Compare Source](https://redirect.github.com/verdaccio/verdaccio/compare/v5.32.1...v5.32.2)\n\n##### [5.32.2](https://redirect.github.com/verdaccio/verdaccio/compare/v5.32.1...v5.32.2) (2024-09-12)\n\n##### Bug Fixes\n\n-   **deps:** update core verdaccio dependencies (5.x) ([#&#8203;4825](https://redirect.github.com/verdaccio/verdaccio/issues/4825)) ([f17b5a9](https://redirect.github.com/verdaccio/verdaccio/commit/f17b5a9c9fb82e152a9c137efae3801e1a274f47)) (prepare for release v6)\n-   **deps:** update dependency express to v4.21.0 ([#&#8203;4815](https://redirect.github.com/verdaccio/verdaccio/issues/4815)) ([f8e5395](https://redirect.github.com/verdaccio/verdaccio/commit/f8e53957f7aad605a36a8c3889f7fe356a02f0b3))\n\n</details>\n\n<details>\n<summary>vitejs/vite (vite)</summary>\n\n### [`v5.4.5`](https://redirect.github.com/vitejs/vite/releases/tag/v5.4.5)\n\n[Compare Source](https://redirect.github.com/vitejs/vite/compare/v5.4.4...v5.4.5)\n\nPlease refer to [CHANGELOG.md](https://redirect.github.com/vitejs/vite/blob/v5.4.5/packages/vite/CHANGELOG.md) for details.\n\n</details>\n\n---\n\n### Configuration\n\nüìÖ **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\nüö¶ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n‚ôª **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\nüëª **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://redirect.github.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://redirect.github.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzOC43NS4wIiwidXBkYXRlZEluVmVyIjoiMzguNzcuMyIsInRhcmdldEJyYW5jaCI6Im1haW4iLCJsYWJlbHMiOlsiYWN0aW9uOiBtZXJnZSIsInRhcmdldDogbWlub3IiXX0=-->\n","Url":"https://github.com/angular/angular-cli/pull/28408","RelatedDescription":"Open PR \"build: update all non-major dependencies\" (#28408)"},{"Id":"2519759881","IsPullRequest":false,"CreatedAt":"2024-09-12T17:32:46","Actor":"jimrand1","Number":"28394","RawContent":null,"Title":"Angular proxy fails when using Chrome devtools on the MacBook Pro","State":"closed","Body":"### Is this a bug report or a feature request?\n\n- [X] Bug Report\n- [ ] Feature Request\n\n### Please provide the steps to reproduce the issue [Bug Report only]\n\nSteps to reproduce the problem\r\n\r\nCreate a simple Express server to start on port 3000\r\nCreate a simple Angular app to start on port 4200\r\nCreate a proxy.conf.json file containing: { \"/api/*\": { \"target\": \"http://localhost:3000/\", \"changeOrigin\": true, \"logLevel\": \"debug\", \"secure\": false } }\r\nIn Angular, call the API: await lastValueFrom(this.httpClient.get(/api/quotes, { params: uriParams}))\r\nProblem Description\r\n\r\nWhen not using devtools, the api call works. When in the debugger, the call fails to http://localhost:4200/api/quotes. It should go to port 3000. Rebuilding both projects in Linux (Ubuntu), results with successful API calls - both without the Chrome devtools and with Chrome devtools. Maybe this is a simple configuration issue. Impact right now is Angular development limited to no client side debugging on the Mac.\r\n\r\nSummary\r\n\r\nAngular proxy fails when using Chrome devtools on the MacBook Pro[\r\n[DevTools Test.docx](https://github.com/user-attachments/files/16964233/DevTools.Test.docx)\r\n[DevTools Test.docx](https://github.com/user-attachments/files/16964237/DevTools.Test.docx)\r\n](url)\n\n### Please provide the expected behavior vs the actual behavior you encountered [Bug Report only]\n\n_No response_\n\n### Please provide a screenshot if possible [Bug Report only]\n\n_No response_\n\n### Please provide the exception or error you saw [Bug Report only]\n\n_No response_\n\n### Is this a browser-specific issue? If so, please specify the device, browser, and version. [Bug Report only]\n\n```true\nThis is a Chrome issue which they wanted moved over here\r\nhttps://issues.chromium.org/issues/364904750\n```\n\n\n### Description [Feature Request only]\n\n_No response_\n\n### Proposed solution [Feature Request only]\n\n_No response_\n\n### Alternatives considered [Feature Request only]\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/28394","RelatedDescription":"Closed issue \"Angular proxy fails when using Chrome devtools on the MacBook Pro\" (#28394)"},{"Id":"2522688320","IsPullRequest":true,"CreatedAt":"2024-09-12T15:12:56","Actor":"alan-agius4","Number":"28407","RawContent":null,"Title":"Bump version to \"v19.0.0-next.5\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/28407","RelatedDescription":"Closed or merged PR \"Bump version to \"v19.0.0-next.5\" with changelog.\" (#28407)"},{"Id":"2522643349","IsPullRequest":true,"CreatedAt":"2024-09-12T15:09:19","Actor":"alan-agius4","Number":"28406","RawContent":null,"Title":"fix(@angular/ssr): resolve `bootstrap is not a function` error","State":"closed","Body":"In cases where the application is not zoneless and async/await is downleveled, an issue occurred where `await` was not being downleveled correctly. This led to the `bootstrap is not a function` error.\r\n\r\nSee: https://github.com/angular/angular/actions/runs/10817795242/job/30014914340?pr=57776\r\n","Url":"https://github.com/angular/angular-cli/pull/28406","RelatedDescription":"Closed or merged PR \"fix(@angular/ssr): resolve `bootstrap is not a function` error\" (#28406)"},{"Id":"2522261989","IsPullRequest":true,"CreatedAt":"2024-09-12T13:05:55","Actor":"JoostK","Number":"28404","RawContent":null,"Title":"refactor(ssr): use `ReadonlyMap` instead of `Readonly` mapped type","State":"closed","Body":"The `Readonly` mapped type only introduces the `readonly` modifier for each property, but `Map` has mutating methods like `clear`, `delete` and `set` that would still remain usable. This commit switches those usages over to the `ReadonlyMap` type which doesn't have any of the mutating methods.\r\n","Url":"https://github.com/angular/angular-cli/pull/28404","RelatedDescription":"Closed or merged PR \"refactor(ssr): use `ReadonlyMap` instead of `Readonly` mapped type\" (#28404)"},{"Id":"2522071152","IsPullRequest":true,"CreatedAt":"2024-09-12T12:54:23","Actor":"alan-agius4","Number":"28402","RawContent":null,"Title":"refacor(@angular/cli): remove unused imports","State":"closed","Body":"Remove unused imports from command-module file.\r\n","Url":"https://github.com/angular/angular-cli/pull/28402","RelatedDescription":"Closed or merged PR \"refacor(@angular/cli): remove unused imports\" (#28402)"},{"Id":"2522311951","IsPullRequest":true,"CreatedAt":"2024-09-12T12:50:33","Actor":"alan-agius4","Number":"28405","RawContent":null,"Title":"feat(@angular/ssr): add `attachNodeErrorHandlers` to manage unhandled errors","State":"open","Body":"\r\n\r\nImplement the `attachNodeErrorHandlers` function to handle 'unhandledRejection' and 'uncaughtException' events in Node.js. This function logs errors to the console, preventing unhandled errors from crashing the server. It is particularly useful for zoneless apps, ensuring error handling without relying on zones.\r\n\r\n","Url":"https://github.com/angular/angular-cli/pull/28405","RelatedDescription":"Open PR \"feat(@angular/ssr): add `attachNodeErrorHandlers` to manage unhandled errors\" (#28405)"},{"Id":"2519125360","IsPullRequest":true,"CreatedAt":"2024-09-12T10:07:56","Actor":"angular-robot","Number":"28392","RawContent":null,"Title":"build: update all non-major dependencies","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [express](http://expressjs.com/) ([source](https://redirect.github.com/expressjs/express)) | devDependencies | minor | [`4.20.0` -> `4.21.0`](https://renovatebot.com/diffs/npm/express/4.20.0/4.21.0) |\n| [husky](https://redirect.github.com/typicode/husky) | devDependencies | patch | [`9.1.5` -> `9.1.6`](https://renovatebot.com/diffs/npm/husky/9.1.5/9.1.6) |\n| [rollup](https://rollupjs.org/) ([source](https://redirect.github.com/rollup/rollup)) | dependencies | patch | [`4.21.2` -> `4.21.3`](https://renovatebot.com/diffs/npm/rollup/4.21.2/4.21.3) |\n| [rollup](https://rollupjs.org/) ([source](https://redirect.github.com/rollup/rollup)) | devDependencies | patch | [`4.21.2` -> `4.21.3`](https://renovatebot.com/diffs/npm/rollup/4.21.2/4.21.3) |\n| [vite](https://vitejs.dev) ([source](https://redirect.github.com/vitejs/vite/tree/HEAD/packages/vite)) | dependencies | patch | [`5.4.3` -> `5.4.4`](https://renovatebot.com/diffs/npm/vite/5.4.3/5.4.4) |\n| [vite](https://vitejs.dev) ([source](https://redirect.github.com/vitejs/vite/tree/HEAD/packages/vite)) | devDependencies | patch | [`5.4.3` -> `5.4.4`](https://renovatebot.com/diffs/npm/vite/5.4.3/5.4.4) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>expressjs/express (express)</summary>\n\n### [`v4.21.0`](https://redirect.github.com/expressjs/express/releases/tag/4.21.0)\n\n[Compare Source](https://redirect.github.com/expressjs/express/compare/4.20.0...4.21.0)\n\n#### What's Changed\n\n-   Deprecate `\"back\"` magic string in redirects by [@&#8203;blakeembrey](https://redirect.github.com/blakeembrey) in [https://github.com/expressjs/express/pull/5935](https://redirect.github.com/expressjs/express/pull/5935)\n-   finalhandler@1.3.1 by [@&#8203;wesleytodd](https://redirect.github.com/wesleytodd) in [https://github.com/expressjs/express/pull/5954](https://redirect.github.com/expressjs/express/pull/5954)\n-   fix(deps): serve-static@1.16.2 by [@&#8203;wesleytodd](https://redirect.github.com/wesleytodd) in [https://github.com/expressjs/express/pull/5951](https://redirect.github.com/expressjs/express/pull/5951)\n-   Upgraded dependency qs to 6.13.0 to match qs in body-parser by [@&#8203;agadzinski93](https://redirect.github.com/agadzinski93) in [https://github.com/expressjs/express/pull/5946](https://redirect.github.com/expressjs/express/pull/5946)\n\n#### New Contributors\n\n-   [@&#8203;agadzinski93](https://redirect.github.com/agadzinski93) made their first contribution in [https://github.com/expressjs/express/pull/5946](https://redirect.github.com/expressjs/express/pull/5946)\n\n**Full Changelog**: https://github.com/expressjs/express/compare/4.20.0...4.21.0\n\n</details>\n\n<details>\n<summary>typicode/husky (husky)</summary>\n\n### [`v9.1.6`](https://redirect.github.com/typicode/husky/releases/tag/v9.1.6)\n\n[Compare Source](https://redirect.github.com/typicode/husky/compare/v9.1.5...v9.1.6)\n\n#### What's Changed\n\n-   Fix issue where example pre-commit file is generated incorrectly by [@&#8203;dexmlee](https://redirect.github.com/dexmlee) in [https://github.com/typicode/husky/pull/1519](https://redirect.github.com/typicode/husky/pull/1519)\n\n#### New Contributors\n\n-   [@&#8203;OlegKipchatov](https://redirect.github.com/OlegKipchatov) made their first contribution in [https://github.com/typicode/husky/pull/1495](https://redirect.github.com/typicode/husky/pull/1495)\n-   [@&#8203;Byron2016](https://redirect.github.com/Byron2016) made their first contribution in [https://github.com/typicode/husky/pull/1499](https://redirect.github.com/typicode/husky/pull/1499)\n-   [@&#8203;dexmlee](https://redirect.github.com/dexmlee) made their first contribution in [https://github.com/typicode/husky/pull/1519](https://redirect.github.com/typicode/husky/pull/1519)\n\n**Full Changelog**: https://github.com/typicode/husky/compare/v9.1.5...v9.1.6\n\n</details>\n\n<details>\n<summary>rollup/rollup (rollup)</summary>\n\n### [`v4.21.3`](https://redirect.github.com/rollup/rollup/blob/HEAD/CHANGELOG.md#4213)\n\n[Compare Source](https://redirect.github.com/rollup/rollup/compare/v4.21.2...v4.21.3)\n\n*2024-09-12*\n\n##### Bug Fixes\n\n-   Always respect side effects in left-hand side of optional chain ([#&#8203;5642](https://redirect.github.com/rollup/rollup/issues/5642))\n-   Update stack trace for augmented errors to not hide relevant information ([#&#8203;5640](https://redirect.github.com/rollup/rollup/issues/5640))\n\n##### Pull Requests\n\n-   [#&#8203;5636](https://redirect.github.com/rollup/rollup/pull/5636): chore(deps): lock file maintenance minor/patch updates ([@&#8203;renovate](https://redirect.github.com/renovate)\\[bot])\n-   [#&#8203;5637](https://redirect.github.com/rollup/rollup/pull/5637): chore(deps): lock file maintenance ([@&#8203;renovate](https://redirect.github.com/renovate)\\[bot])\n-   [#&#8203;5640](https://redirect.github.com/rollup/rollup/pull/5640): fix: keep the message of stack up-to-date ([@&#8203;TrickyPi](https://redirect.github.com/TrickyPi))\n-   [#&#8203;5642](https://redirect.github.com/rollup/rollup/pull/5642): fix: include left-side effect of optional chaining in the end of hasEffectsAsChainElement ([@&#8203;TrickyPi](https://redirect.github.com/TrickyPi))\n\n</details>\n\n<details>\n<summary>vitejs/vite (vite)</summary>\n\n### [`v5.4.4`](https://redirect.github.com/vitejs/vite/releases/tag/v5.4.4)\n\n[Compare Source](https://redirect.github.com/vitejs/vite/compare/v5.4.3...v5.4.4)\n\nPlease refer to [CHANGELOG.md](https://redirect.github.com/vitejs/vite/blob/v5.4.4/packages/vite/CHANGELOG.md) for details.\n\n</details>\n\n---\n\n### Configuration\n\nüìÖ **Schedule**: Branch creation - \"after 10:00pm every weekday,before 4:00am every weekday,every weekend\" in timezone America/Tijuana, Automerge - At any time (no schedule defined).\n\nüö¶ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n‚ôª **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\nüëª **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://redirect.github.com/angular/dev-infra) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://redirect.github.com/renovatebot/renovate).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzOC43My43IiwidXBkYXRlZEluVmVyIjoiMzguNzUuMCIsInRhcmdldEJyYW5jaCI6Im1haW4iLCJsYWJlbHMiOlsiYWN0aW9uOiBtZXJnZSIsInRhcmdldDogbWlub3IiXX0=-->\n","Url":"https://github.com/angular/angular-cli/pull/28392","RelatedDescription":"Closed or merged PR \"build: update all non-major dependencies\" (#28392)"},{"Id":"2520859136","IsPullRequest":true,"CreatedAt":"2024-09-12T07:50:05","Actor":"jkrems","Number":"28398","RawContent":null,"Title":"feat(@angular-devkit/architect): merge object options from CLI","State":"closed","Body":"We recently introduced the ability to pass object values from the command line (#28362). @clydin noticed that the initial behavior didn't work well for `--define`: It completely replaced all values even if just one of multiple defines is specified.\r\n\r\nThis updates the architect to support merging of object options. If both the base option (e.g. from `angular.json`) and the override (e.g. from a CLI `--flag`) are objects, the objects are merged.\r\n\r\nSee: https://github.com/angular/angular-cli/pull/28362\r\n\r\n## PR Checklist\r\n\r\nPlease check to confirm your PR fulfills the following requirements:\r\n\r\n<!-- Please check all that apply using \"x\". -->\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular-cli/blob/main/CONTRIBUTING.md#-commit-message-guidelines\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n## PR Type\r\n\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [x] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] Other... Please describe:\r\n\r\n## What is the current behavior?\r\n\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\nWith multiple `define`s in `angular.json`, passing any define via the `--define` flag will ignore all existing defines.\r\n\r\n## What is the new behavior?\r\n\r\n<!-- Please describe the new behavior that. -->\r\n\r\nOnly defines specified via the `--define` flag will be replaced. All others retain the value specified in `angular.json`.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular-cli/pull/28398","RelatedDescription":"Closed or merged PR \"feat(@angular-devkit/architect): merge object options from CLI\" (#28398)"},{"Id":"2520180891","IsPullRequest":true,"CreatedAt":"2024-09-11T16:32:11","Actor":"alan-agius4","Number":"28397","RawContent":null,"Title":"Bump version to \"v19.0.0-next.4\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/28397","RelatedDescription":"Closed or merged PR \"Bump version to \"v19.0.0-next.4\" with changelog.\" (#28397)"},{"Id":"2519845272","IsPullRequest":true,"CreatedAt":"2024-09-11T14:17:19","Actor":"alan-agius4","Number":"28396","RawContent":null,"Title":"docs: release notes for the v18.2.4 release","State":"closed","Body":"Cherry-picks the changelog from the \"18.2.x\" branch to the next branch (main).","Url":"https://github.com/angular/angular-cli/pull/28396","RelatedDescription":"Closed or merged PR \"docs: release notes for the v18.2.4 release\" (#28396)"},{"Id":"2519835525","IsPullRequest":true,"CreatedAt":"2024-09-11T14:00:31","Actor":"alan-agius4","Number":"28395","RawContent":null,"Title":"Bump version to \"v18.2.4\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/28395","RelatedDescription":"Closed or merged PR \"Bump version to \"v18.2.4\" with changelog.\" (#28395)"},{"Id":"2518852657","IsPullRequest":false,"CreatedAt":"2024-09-11T13:28:49","Actor":"alextse","Number":"28390","RawContent":null,"Title":"Build error after upgrading from 18.0.6 to 18.2.3","State":"closed","Body":"### Which @angular/* package(s) are the source of the bug?\n\nDon't known / other\n\n### Is this a regression?\n\nYes\n\n### Description\n\nGetting the following error after upgrading from 18.0.6 to 18.2.3. Not sure whether it's issue from Angular or Azure Storage Blob.\r\n\r\n```\r\n9:00:46 PM [vite] Error when evaluating SSR module /@fs/home/git/app/.angular/cache/18.2.3/vite/deps_ssr/@azure_storage-blob.js?v=e87b4b88:\r\n|- TypeError: Cannot read properties of undefined (reading 'MAX_LENGTH')\r\n    at eval (/home/git/app/.angular/cache/18.2.3/vite/deps_ssr/@azure_storage-blob.js:24853:55)\r\n```\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Setup Angular 18 App with SSR\r\n2. Install `@azure/storage-blob` package\r\n3. `import { BlockBlobClient } from '@azure/storage-blob';` in one of the component\r\n4. Build and run the Angular app.\r\n5. The last line below is throwing the exception.\r\n```js\r\n// node_modules/@azure/storage-blob/dist-esm/storage-common/src/PooledBuffer.js\r\nvar import_buffer = __toESM(require_buffer());\r\nvar maxBufferLength = import_buffer.default.constants.MAX_LENGTH;\r\n```\r\n\r\n**Expected behavior**\r\nNo error to occur.\r\n\r\n**Screenshots**\r\nN/A\r\n\r\n**Additional context**\r\nN/A\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\n9:00:46 PM [vite] Error when evaluating SSR module /@fs/home/git/app/.angular/cache/18.2.3/vite/deps_ssr/@azure_storage-blob.js?v=e87b4b88:\r\n|- TypeError: Cannot read properties of undefined (reading 'MAX_LENGTH')\r\n    at eval (/home/git/app/.angular/cache/18.2.3/vite/deps_ssr/@azure_storage-blob.js:24853:55)\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 18.2.3\r\nNode: 20.15.0\r\nPackage Manager: npm 10.8.3\r\nOS: linux x64\r\n\r\nAngular: 18.0.5\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... material, platform-browser, platform-browser-dynamic\r\n... platform-server, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1802.3\r\n@angular-devkit/build-angular   18.2.3\r\n@angular-devkit/core            18.2.3\r\n@angular-devkit/schematics      18.2.3\r\n@angular/cli                    18.2.3\r\n@angular/ssr                    18.2.3\r\n@schematics/angular             18.2.3\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.10\n```\n\n\n### Anything else?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/28390","RelatedDescription":"Closed issue \"Build error after upgrading from 18.0.6 to 18.2.3\" (#28390)"},{"Id":"2519561892","IsPullRequest":true,"CreatedAt":"2024-09-11T13:28:47","Actor":"alan-agius4","Number":"28393","RawContent":null,"Title":"fix(@angular/build): prevent transformation of Node.js internal dependencies by Vite","State":"closed","Body":"\r\n\r\nThis commit excludes Node.js module imports from being processed by Vite when prebundling is enabled.\r\n\r\nCloses #28390\r\n","Url":"https://github.com/angular/angular-cli/pull/28393","RelatedDescription":"Closed or merged PR \"fix(@angular/build): prevent transformation of Node.js internal dependencies by Vite\" (#28393)"},{"Id":"2518878467","IsPullRequest":false,"CreatedAt":"2024-09-11T09:53:56","Actor":"dsl400","Number":"28391","RawContent":null,"Title":"live reload fails when proxyConfig specifies location for root","State":"closed","Body":"### Command\n\nserve\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nconnection to livereload fails when proxyConfig specifies location for \"/\" \r\n\r\nFor a faster development I am trying to integrate the output of ng serve straight into the existing application to reduce the \"develop > build > deploy > test\" cicle\r\n\r\nThe current implementation for the development server does not send  the requests made to \"localhost:4200/<baseHref>/.......\" to be evaluated by the proxy manager. This could be a good thing if it where the same for livereload websocket connection.\n\n### Minimal Reproduction\n\n`ng new `\r\n\r\n\r\ninside `angular.json`\r\n```\r\n\"achitect\":{\r\n    \"build\":{\r\n        \"configurations\":{\r\n            \"development\":{\r\n                \"baseHref\": \"/custom/test/\"\r\n    .......................................\r\n    \"serve\": {\r\n        \"options\":{\r\n            \"proxyConfig\": \"proxy.conf.json\"\r\n```\r\n\r\ninside `proxy.conf.json`\r\n\r\n```\r\n{\r\n    \"/\": {\r\n        \"target\": \"<staging-server>\",\r\n        \"secure\": false,\r\n        \"ws\": true\r\n    }\r\n}\r\n```\r\n\n\n### Exception or Error\n\n```text\nconnection to live-reload websocket fails \r\n\r\n\r\nWebSocketClient.js:16 WebSocket connection to 'ws://localhost:4200/custom/test/ng-cli-ws' failed: Invalid frame header\r\n```\n```\n\n\n### Your Environment\n\n```text\nAngular CLI: 14.0.7\r\nNode: 18.18.2 (Unsupported)\r\nPackage Manager: npm 10.3.0 \r\nOS: linux x64\r\n\r\nAngular: 14.3.0\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1402.13\r\n@angular-devkit/build-angular   14.2.13\r\n@angular-devkit/core            14.2.13\r\n@angular-devkit/schematics      14.0.7\r\n@angular/cli                    14.0.7\r\n@schematics/angular             14.0.7\r\nrxjs                            7.5.7\r\ntypescript                      4.7.4\n```\n\n\n### Anything else relevant?\n\n_No response_","Url":"https://github.com/angular/angular-cli/issues/28391","RelatedDescription":"Closed issue \"live reload fails when proxyConfig specifies location for root\" (#28391)"},{"Id":"2516559302","IsPullRequest":false,"CreatedAt":"2024-09-11T09:52:18","Actor":"MPalix86","Number":"28388","RawContent":null,"Title":"tsconfig.json \"paths\": {} resolution not working","State":"closed","Body":"### Command\r\n\r\nserve\r\n\r\n### Is this a regression?\r\n\r\n- [X] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n15\r\n\r\n### Description\r\n\r\nIn our company, we have a large Angular project that consists of a `src` directory and various local libraries. Before upgrading from Angular 15 to Angular 18 with the new application builder, we used `paths` configurations in `tsconfig.json`, combined with `baseUr`l and a Webpack plugin, to directly reference the public API from our projects folder (where the libraries are located). This setup allowed Angular to trigger a rebuild whenever we made changes in a library.\r\n\r\nBefore migrating our main app to Angular 18, I tested this setup with a new Angular 18 project containing a single library. I found that the paths configuration should be supported out of the box with Angular 18 without needing additional changes.\r\n\r\nHowever, after the migration, I haven‚Äôt been able to get Angular (or esbuild) to recognize the `paths` defined in the `tsconfig.json` file. It seems that Angular is reading the compiled versions of the libraries inside `node_modules`, ignoring the paths configuration in `tsconfig.json`. I've tried various configurations, including changing `moduleResolution` to `bundler`, but none of these have resolved the issue. While VS Code's IntelliSense correctly recognizes the `paths` defined in `tsconfig.json` and does not show errors, running ng serve results in a series of errors:  \r\n<br>\r\n<b>  TS2307: Cannot find module '...' or its corresponding type declarations.</b>\r\n\r\n\r\n\r\n### Minimal Reproduction\r\n\r\n[Reproduction](https://github.com/MPalix86/angular-issue-28388)\r\n\r\n### Exception or Error\r\n\r\n```text\r\nTS2307: Cannot find module '....' or its corresponding type declarations. [plugin angular-compiler]\r\n```\r\n\r\n\r\n### Your Environment\r\n\r\n```text\r\nAngular CLI: 18.2.3\r\nNode: 18.19.1\r\nPackage Manager: npm 10.2.4\r\nOS: win32 x64\r\n\r\nAngular: 18.2.3\r\n... animations, cdk, cli, common, compiler, compiler-cli, core\r\n... elements, forms, language-service, localize\r\n... platform-browser, platform-browser-dynamic, router\r\n... service-worker\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.1802.3\r\n@angular-devkit/build-angular      18.2.3\r\n@angular-devkit/core               18.2.3\r\n@angular-devkit/schematics         18.2.3\r\n@angular/material                  17.3.10\r\n@angular/material-moment-adapter   17.3.10\r\n@schematics/angular                18.2.3\r\nng-packagr                         18.2.1\r\nrxjs                               7.8.1\r\ntypescript                         5.5.4\r\nzone.js                            0.14.10\r\n```\r\n\r\n\r\n### Anything else relevant?\r\n\r\n_No response_","Url":"https://github.com/angular/angular-cli/issues/28388","RelatedDescription":"Closed issue \"tsconfig.json \"paths\": {} resolution not working\" (#28388)"},{"Id":"2516944524","IsPullRequest":true,"CreatedAt":"2024-09-10T17:02:06","Actor":"alan-agius4","Number":"28389","RawContent":null,"Title":"refactor(@angular/build): add explicit type annotations to avoid inferred types","State":"closed","Body":"\r\nThis refactor resolves an issue where the inferred type of `renderSassStylesheet` required an external reference, which could affect portability.\r\n\r\nFixes the following error:\r\n```\r\npackages/angular/build/src/tools/sass/worker.ts:59:31 - error TS2742: The inferred type of 'renderSassStylesheet' cannot be named without a reference to '../../../../../../external/npm/node_modules/source-map-js/source-map'. This is likely not portable. A type annotation is necessary.\r\n```\r\nExplicit type annotation added to `renderSassStylesheet` function to prevent reliance on inferred types.\r\n\r\n**Note:** Ensure compatibility with Windows Bazel builds.\r\n","Url":"https://github.com/angular/angular-cli/pull/28389","RelatedDescription":"Closed or merged PR \"refactor(@angular/build): add explicit type annotations to avoid inferred types\" (#28389)"}],"ResultType":"GitHubIssue"},"material2-Issues":{"Issues":[{"Id":"2525714857","IsPullRequest":false,"CreatedAt":"2024-09-13T21:17:22","Actor":"NathanSavageKaimai","Number":"29735","RawContent":null,"Title":"bug(mat-error): mat-error nested in 2 if blocks loses subscript styles","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nA mat error for a mat form field, double nested in if blocks loses its subscript styles (mainly font-size) and reverts to being the page standard size.\r\n\r\n![image](https://github.com/user-attachments/assets/a355ff31-fbfe-4620-8c60-f4c379281820)\r\n\n\n### Reproduction\n\nStackBlitz link: https://stackblitz.com/edit/pj59gj?file=src%2Fexample%2Fform-field-error-example.html\r\nSteps to reproduce:\r\n1. Set up a new angular project with angular material\r\n2. create a component with a mat error inside a\r\n\n\n### Expected Behavior\n\nit should have the standard subscript styling\n\n### Actual Behavior\n\nit has the text size of all other regular text\n\n### Environment\n\n@angular-devkit/architect       0.1900.0-next.2\r\n@angular-devkit/build-angular   19.0.0-next.2\r\n@angular-devkit/core            19.0.0-next.2\r\n@angular-devkit/schematics      19.0.0-next.2\r\n@schematics/angular             19.0.0-next.2\r\nrxjs                            7.4.0\r\ntypescript                      5.5.4\r\nzone.js                         0.15.0\r\n\r\n(stackblitz demo enviroment)","Url":"https://github.com/angular/components/issues/29735","RelatedDescription":"Open issue \"bug(mat-error): mat-error nested in 2 if blocks loses subscript styles\" (#29735)"},{"Id":"2525385885","IsPullRequest":true,"CreatedAt":"2024-09-13T18:05:50","Actor":"naaajii","Number":"29734","RawContent":null,"Title":"docs: replace angular.io links with angular.dev","State":"open","Body":"updates all angular.io links to updated angular.dev","Url":"https://github.com/angular/components/pull/29734","RelatedDescription":"Open PR \"docs: replace angular.io links with angular.dev\" (#29734)"},{"Id":"2524745344","IsPullRequest":false,"CreatedAt":"2024-09-13T12:38:30","Actor":"kfrederix","Number":"29733","RawContent":null,"Title":"bug(cdk/tree): RangeError: Maximum call stack size exceeded","State":"open","Body":"### Is this a regression?\r\n\r\n- [X] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n18.1.4\r\n\r\n### Description\r\n\r\nStarting from @angular/cdk version 18.2.0, a bug got introduced which causes \"Maximum call stack size exceeded\" errors when we have a tree node with many dynamic children. From our observations, it can start already from +/- 500 child nodes.\r\nIt does not need to be deeply nested, just 1 level deep is enough, but the amount of child nodes matters.\r\n\r\nI have not been able to reproduce it with flat `cdk-tree-node`, only when using the `cdk-nested-tree-node`. Even then, it only seems to happen when loading children dynamically plus timing (network delay) also seems to play a role. \r\n\r\nThe errors look like this:\r\n\r\n![image](https://github.com/user-attachments/assets/5d672f77-7264-4523-a140-20283e9f59ea)\r\n\r\nNOTE: it can also be reproduced using the `treeControl` instead of `childrenAccessor` (like we would write it before v18.2.0). That makes no difference. Please let me know if you would like to see an example of that on StackBlitz as well...\r\n\r\n\r\n### Reproduction\r\n\r\nStackBlitz link: https://stackblitz.com/edit/qmvryx-5s6t5r?file=src%2Fexample%2Fcdk-tree-nested-children-accessor-example.ts\r\nSteps to reproduce:\r\n1. visit above StackBlitz link\r\n2. Open JS console\r\n3. Expand the Root node\r\n4. Observe errors is JS console\r\n\r\n\r\n### Expected Behavior\r\n\r\nNo errors in console.\r\n\r\n### Actual Behavior\r\n\r\nAn explosion of errors: `RangeError: Maximum call stack size exceeded`\r\n\r\n\r\n### Environment\r\n\r\nAngular CLI: 18.2.4\r\nNode: 20.12.2\r\nPackage Manager: pnpm 9.8.0\r\nOS: win32 x64\r\n\r\nAngular: 18.2.4\r\n... animations, build, cli, common, compiler, compiler-cli, core\r\n... forms, language-service, platform-browser\r\n... platform-browser-dynamic, router\r\n\r\nPackage                      Version\r\n------------------------------------------------------\r\n@angular-devkit/architect    0.1802.4 (cli-only)\r\n@angular-devkit/core         18.2.4 (cli-only)\r\n@angular-devkit/schematics   18.2.4 (cli-only)\r\n@angular/cdk                 18.2.3\r\n@angular/material            18.2.3\r\n@schematics/angular          18.2.4\r\nrxjs                         7.8.1\r\ntypescript                   5.5.4\r\nwebpack                      5.91.0\r\nzone.js                      0.14.10","Url":"https://github.com/angular/components/issues/29733","RelatedDescription":"Open issue \"bug(cdk/tree): RangeError: Maximum call stack size exceeded\" (#29733)"},{"Id":"2524403571","IsPullRequest":false,"CreatedAt":"2024-09-13T09:46:54","Actor":"Mystic-SAM","Number":"29732","RawContent":null,"Title":"bug(Tooltip): Missing word-break Design Token for Tooltips that was present in 18.0.2","State":"open","Body":"### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n18.0.2\n\n### Description\n\nIn Angular Material version 18.0.2, a design token for word-break (**_--mdc-tooltip-word-break_**) was available and used for styling tooltips. However, this token appears to be missing in the latest version 18.2.3.\r\n\r\nDetails:\r\nVersion Affected: Angular Material 18.2.3\r\nImpact: The absence of the word-break token affects how text overflow is handled in tooltips, potentially leading to layout issues or text being cut off incorrectly.\r\n\r\nCurrently, there is no way to modify certain properties of tooltips, such as word-break or max-width. Even when applying a custom class using matTooltipClass, the class is applied to the parent element, whereas these properties need to be applied to the element that actually contains the text to achieve the desired effects.\r\n\r\nBelow is the structure of the tooltip rendered in HTML:\r\n![image](https://github.com/user-attachments/assets/f1684272-a79c-4b66-9c82-2dea8d80ffce)\r\n\n\n### Reproduction\n\n1. Upgrade Angular Material from version 18.0.2 to 18.2.3.\r\n2. Observe the tooltip component's behavior regarding text overflow and wrapping.\r\n3. Inspect the styles and tokens being used in developer tools.\n\n### Expected Behavior\n\nThe **--mdc-tooltip-word-break** token should be available and functional in version 18.2.3, providing consistent behavior with previous versions, for tooltip components.\r\n\r\nThis screenshot below shows the token used for word-break in Angular Material version 18.0.2\r\n![image](https://github.com/user-attachments/assets/4b65fc38-d06a-4d09-a3ce-179cbaf9a410)\r\n\n\n### Actual Behavior\n\nThe token for word-break is not available anymore and there is no way to modify the word-break property in tooltip.\r\n\r\nThe screenshot below shows the styles applied to Tooltip in Angular Material version 18.2.3\r\n![image](https://github.com/user-attachments/assets/49865007-a697-4a80-a3eb-31264ab55075)\r\n\n\n### Environment\n\n- Angular: 18.2.3\r\n- CDK/Material: 18.2.3\r\n- Browser(s): Chrome Version 128.0.6613.138\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/29732","RelatedDescription":"Open issue \"bug(Tooltip): Missing word-break Design Token for Tooltips that was present in 18.0.2\" (#29732)"},{"Id":"2524375133","IsPullRequest":true,"CreatedAt":"2024-09-13T09:38:49","Actor":"crisbeto","Number":"29731","RawContent":null,"Title":"refactor(multiple): switch material to the inject function","State":"open","Body":"Switches Material from constructor-based DI to the `inject` function.","Url":"https://github.com/angular/components/pull/29731","RelatedDescription":"Open PR \"refactor(multiple): switch material to the inject function\" (#29731)"},{"Id":"2519083767","IsPullRequest":false,"CreatedAt":"2024-09-13T08:41:51","Actor":"Ezazhel","Number":"29717","RawContent":null,"Title":"bug(CdkDialog): Can't Resolve DI for Injectable({}) service","State":"closed","Body":"### Is this a regression?\r\n\r\n- [ ] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nWhen I use a service not provided in 'root', CdkDialog doesn't resolve providers from \"parent\" component.\r\n\r\nThis work well with MatDialog, but I'm trying to switch from MatDialog to Cdk\r\n\r\n### Reproduction\r\n\r\nStackBlitz link: https://stackblitz.com/edit/stackblitz-starters-gp7hqz?file=src%2Fmain.ts\r\nSteps to reproduce: \r\n1. Create a service not provided in 'root'\r\n2. Create a modal-component use the service\r\n3. Provide the service in the modal-container\r\n4. Use Cdk/Dialog to open a new dialog from the modal-container\r\n5. Check the console : R3InjectorError(Environment Injector)[_TestService -> _TestService]: \r\n  NullInjectorError: No provider for _TestService!\r\n\r\n\r\n### Expected Behavior\r\n\r\nD.I should work based on viewContainer. \r\nIf we use a functional service, we could provide it in the modal-component, but if our service has other dependencies it won't work.\r\n\r\n### Actual Behavior\r\n\r\nThis config : \r\n```\r\nthis.dialog.open(ModalComponent, {\r\n            data: '...',\r\n            injector: this.injector\r\n        });\r\n```\r\ndoesn't work\r\n```\r\nthis.dialog.open(ModalComponent, {\r\n            data: '...',\r\n            viewContainerRef: this.viewContainerRef\r\n        });\r\n```\r\ndoesn't work too\r\n\r\n```\r\nthis.dialog.open(ModalComponent, {\r\n            data: '...',\r\n            componentFactoryResolver: this.injector.get(ComponentFactoryResolver)\r\n        });       \r\n```\r\nThis does work, but it's bothersome\r\n\r\n### Environment\r\n\r\n- Angular: >= 16.x.x\r\n- CDK/Material: >= 16.x.x\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): macOs\r\n","Url":"https://github.com/angular/components/issues/29717","RelatedDescription":"Closed issue \"bug(CdkDialog): Can't Resolve DI for Injectable({}) service\" (#29717)"},{"Id":"2522867286","IsPullRequest":false,"CreatedAt":"2024-09-13T08:34:44","Actor":"csaikiran569","Number":"29729","RawContent":null,"Title":"feat(mat-select): Allow to enter custom value","State":"closed","Body":"### Feature Description\r\n\r\nIs there a way to enter custom value in the mat-select .\r\n\r\n\r\n\r\n### Use Case\r\n\r\nI have a use case to allow user to enter a custom value and also select a value from dropdown .\r\n\r\nI did spent a lot of time to find a solution for this .I apologize if this feature is available .Please do let me know if this feature is available or can be added if it is not available ?\r\n\r\nFor now as a work around I actually added an option as \"Other\" if user selects that option I was showing a input box to enter the value .\r\n![image](https://github.com/user-attachments/assets/d00bea5f-0d4e-41d1-9d98-dad71a929a8d)\r\n","Url":"https://github.com/angular/components/issues/29729","RelatedDescription":"Closed issue \"feat(mat-select): Allow to enter custom value\" (#29729)"},{"Id":"2523468427","IsPullRequest":true,"CreatedAt":"2024-09-12T22:28:17","Actor":"DBowen33","Number":"29730","RawContent":null,"Title":"fix(material/tooltip): test to see switch behavior","State":"open","Body":"test to see switch behavior on mobile\r\n\r\nfixes b/286107916","Url":"https://github.com/angular/components/pull/29730","RelatedDescription":"Open PR \"fix(material/tooltip): test to see switch behavior\" (#29730)"},{"Id":"2522208267","IsPullRequest":true,"CreatedAt":"2024-09-12T17:44:12","Actor":"crisbeto","Number":"29725","RawContent":null,"Title":"fix(cdk/overlay): load structural styles in a cascade layer","State":"closed","Body":"Recently we switched to loading the styles of the overlay dynamically which can make them more specific than pre-existing themes. These changes use a cascade layer in order to reduce their specificity.","Url":"https://github.com/angular/components/pull/29725","RelatedDescription":"Closed or merged PR \"fix(cdk/overlay): load structural styles in a cascade layer\" (#29725)"},{"Id":"2519253649","IsPullRequest":true,"CreatedAt":"2024-09-12T16:25:09","Actor":"crisbeto","Number":"29718","RawContent":null,"Title":"refactor(multiple): switch the CDK to the inject function","State":"closed","Body":"Reworks all of the CDK directives and injectables to use the `inject` function instead of constructor-based injection. All the constructors have a backwards-compatible signature for the apps that may be extending them.","Url":"https://github.com/angular/components/pull/29718","RelatedDescription":"Closed or merged PR \"refactor(multiple): switch the CDK to the inject function\" (#29718)"},{"Id":"2521684543","IsPullRequest":true,"CreatedAt":"2024-09-12T15:52:35","Actor":"crisbeto","Number":"29722","RawContent":null,"Title":"fix(cdk/listbox): scroll active option into view when using aria-activedescendant","State":"closed","Body":"When the CDK listbox has `useActiveDescendant` enabled, it won't focus the individual options so they won't be scrolled into the view automatically. This change adds a manual call to scroll them in instead.\r\n\r\nFixes #28989.","Url":"https://github.com/angular/components/pull/29722","RelatedDescription":"Closed or merged PR \"fix(cdk/listbox): scroll active option into view when using aria-activedescendant\" (#29722)"},{"Id":"2522589854","IsPullRequest":true,"CreatedAt":"2024-09-12T14:40:35","Actor":"crisbeto","Number":"29728","RawContent":null,"Title":"docs: release notes for the v18.2.4 release","State":"closed","Body":"Cherry-picks the changelog from the \"18.2.x\" branch to the next branch (main).","Url":"https://github.com/angular/components/pull/29728","RelatedDescription":"Closed or merged PR \"docs: release notes for the v18.2.4 release\" (#29728)"},{"Id":"2522586201","IsPullRequest":true,"CreatedAt":"2024-09-12T14:37:16","Actor":"crisbeto","Number":"29727","RawContent":null,"Title":"Bump version to \"v18.2.4\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/29727","RelatedDescription":"Closed or merged PR \"Bump version to \"v18.2.4\" with changelog.\" (#29727)"},{"Id":"2522543461","IsPullRequest":true,"CreatedAt":"2024-09-12T14:28:32","Actor":"crisbeto","Number":"29726","RawContent":null,"Title":"Bump version to \"v19.0.0-next.4\" with changelog.","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/29726","RelatedDescription":"Closed or merged PR \"Bump version to \"v19.0.0-next.4\" with changelog.\" (#29726)"},{"Id":"2520602958","IsPullRequest":false,"CreatedAt":"2024-09-12T13:55:26","Actor":"incy-tron","Number":"29720","RawContent":null,"Title":"bug(COMPONENT): MatAutocompleteHarness - Unable to retrieve options for autocomplete. Autocomplete panel is closed.","State":"closed","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nI am testing a large application using the Angular Test Suite with karma - jasmine.  I have 164 test cases and when I run all of the test cases, one of the test cases that always fails is one where I'm using MatAutocompleteHarness.  However, if I rerun that test individually it always passes.\r\n\r\nThe failure message I'm getting is: `Error: Unable to retrieve options for autocomplete. Autocomplete panel is closed.`\n\n### Reproduction\n\nCannot provide a StackBlitz, since as I mention above, it only happens when running all of the test cases for a large application.  The specific test case that fails is:\r\n\r\n\r\n    component.showModifications = true;\r\n    fixture.detectChanges();\r\n    await fixture.whenStable();\r\n\r\n    const loader = TestbedHarnessEnvironment.loader(fixture);\r\n    const autocompletes = await loader.getAllHarnesses(MatAutocompleteHarness);\r\n    expect(autocompletes.length).toBe(1);\r\n\r\n\n\n### Expected Behavior\n\nExpect the test to pass when running with many other tests.\n\n### Actual Behavior\n\nFails every time when running multiple tests\n\n### Environment\n\n- Angular: 17.3\r\n- CDK/Material:         \"@angular/cdk\": \"^17.3.0\", \"@angular/material\": \"^17.3.0\"\r\n- Browser(s): Chrome\r\n- Operating System : Windows and MacOS\r\n","Url":"https://github.com/angular/components/issues/29720","RelatedDescription":"Closed issue \"bug(COMPONENT): MatAutocompleteHarness - Unable to retrieve options for autocomplete. Autocomplete panel is closed.\" (#29720)"},{"Id":"2522160366","IsPullRequest":false,"CreatedAt":"2024-09-12T11:41:55","Actor":"zygarios","Number":"29724","RawContent":null,"Title":"feat(ALL): Shadow tokens (M3) in components could use system shadows","State":"open","Body":"### Feature Description\n\nCurrently, many shadow-related tokens in components are hardcoded directly. Since we now have global elevation shadows, it would be great if these components used those system shadows instead. Interestingly, the values are exactly the same.\n\n### Use Case\n\nIf I want to change shadows, it would be better to do it systemically for all components like this.\r\n\r\nFor example, instead of:\r\n\r\n--mat-select-container-elevation-shadow: 0px 3px 1px -2px rgba(0, 0, 0, .2), 0px 2px 2px 0px rgba(0, 0, 0, .14), 0px 1px 5px 0px rgba(0, 0, 0, .12);\r\n\r\nShould be:\r\n--mat-select-container-elevation-shadow: var(--mat-app-elevation-shadow-level-2);\r\n\r\nThis change will make it easier to manage and customize shadows globally. This should apply to all shadow tokens, such as:\r\n\r\n--mat-select-container-elevation-shadow\r\n--mat-autocomplete-container-elevation-shadow\r\n--mat-dialog-container-elevation-shadow\r\n--mdc-protected-button-container-elevation-shadow\r\n--mdc-protected-button-disabled-container-elevation-shadow\r\n--mdc-protected-button-focus-container-elevation-shadow\r\n--mdc-protected-button-hover-container-elevation-shadow\r\n--mdc-protected-button-pressed-container-elevation-shadow\r\n--mdc-extended-fab-container-elevation-shadow\r\n--mdc-extended-fab-focus-container-elevation-shadow\r\n--mdc-extended-fab-hover-container-elevation-shadow\r\n--mdc-extended-fab-pressed-container-elevation-shadow\r\n--mdc-fab-container-elevation-shadow\r\n--mdc-fab-focus-container-elevation-shadow\r\n--mdc-fab-hover-container-elevation-shadow\r\n--mdc-fab-pressed-container-elevation-shadow\r\n--mdc-fab-small-container-elevation-shadow\r\n--mdc-fab-small-focus-container-elevation-shadow\r\n--mdc-fab-small-hover-container-elevation-shadow\r\n--mdc-fab-small-pressed-container-elevation-shadow\r\n--mat-datepicker-calendar-container-elevation-shadow\r\n--mat-datepicker-calendar-container-touch-elevation-shadow\r\n--mat-sidenav-container-elevation-shadow\r\n\r\n\r\n","Url":"https://github.com/angular/components/issues/29724","RelatedDescription":"Open issue \"feat(ALL): Shadow tokens (M3) in components could use system shadows\" (#29724)"},{"Id":"2521874541","IsPullRequest":false,"CreatedAt":"2024-09-12T09:36:08","Actor":"yashwantyashu","Number":"29723","RawContent":null,"Title":"bug(MatMenu): Material menu on expansion not announcing \"expanded\" when using a screen reader","State":"open","Body":"### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nThe angular material menu button on focus is announced as menu button collapsed by NVDA or similar screen reader software and in speech viewer it is logged. However, on trigger opening the button using enter key, the expanded state is not announced by the screen reader software nor logged in the speech viewer.\r\n![Screenshot (155)](https://github.com/user-attachments/assets/2d4144ac-6630-4819-bab6-3f976d480795)\r\n\n\n### Reproduction\n\nLink:https://material.angular.io/components/menu/overview\r\nSteps to reproduce:\r\n1. Open the link.\r\n2. Install NVDA or other similar screen reader software and open speech viewer to see the logs.\r\n3. Tab through the interactive elements until it lands on the menu button inside basic menu container\r\n4. Observe the screen reader announcement and speech viewer log.(announces collapsed)\r\n5. Press enter key to open the menu.\r\n6. Observe the screen reader announcement and speech viewer log.(does not announce expanded)\r\n\n\n### Expected Behavior\n\nWhen the user open the menu button using enter key, the screen reader should notify the user about the state change to expanded followed by the submenu items. Can find such similar behavior in mat-select, mat-expansion panels but not in mat-menu.\n\n### Actual Behavior\n\nWhen the user open the menu button using enter key, the screen reader does not notify the user about the state change to expanded and only announces the submenu items. \n\n### Environment\n\n- Angular:\r\n- CDK/Material:\r\n- Browser(s):\r\n- Operating System (e.g. Windows, macOS, Ubuntu):\r\n","Url":"https://github.com/angular/components/issues/29723","RelatedDescription":"Open issue \"bug(MatMenu): Material menu on expansion not announcing \"expanded\" when using a screen reader\" (#29723)"},{"Id":"2520768768","IsPullRequest":true,"CreatedAt":"2024-09-11T21:04:00","Actor":"DBowen33","Number":"29721","RawContent":null,"Title":"fix(matarial/form-field): error text fix","State":"open","Body":"fixed issue where certain screen reader and browser pairings do not recognize mat-error being inserted into the DOM, changed it to where visibility is changing on the wrapper rather than adding and removing the hint and error wrappers. the changing of visibility should be recognized by all browser and screen reader pairings\r\n\r\nFixes #29616","Url":"https://github.com/angular/components/pull/29721","RelatedDescription":"Open PR \"fix(matarial/form-field): error text fix\" (#29721)"},{"Id":"2520168973","IsPullRequest":true,"CreatedAt":"2024-09-11T19:31:47","Actor":"crisbeto","Number":"29719","RawContent":null,"Title":"refactor(material/list): restore before pseudo element","State":"closed","Body":"Re-adds the `::before` element that was removed in #29707, because the removal broke some internal tests.","Url":"https://github.com/angular/components/pull/29719","RelatedDescription":"Closed or merged PR \"refactor(material/list): restore before pseudo element\" (#29719)"},{"Id":"2514655952","IsPullRequest":true,"CreatedAt":"2024-09-10T21:30:39","Actor":"andrewseguin","Number":"29713","RawContent":null,"Title":"fix(material/badge): change legacy container size default","State":"closed","Body":"Correct M3 value for the line height is 16px - make this explicit in the styles","Url":"https://github.com/angular/components/pull/29713","RelatedDescription":"Closed or merged PR \"fix(material/badge): change legacy container size default\" (#29713)"},{"Id":"2517709657","IsPullRequest":true,"CreatedAt":"2024-09-10T20:28:39","Actor":"andrewseguin","Number":"29716","RawContent":null,"Title":"fix(material/radio): use tokens for focused border color","State":"open","Body":"Affects an unselected radio button when focused, like when a cursor is pressing down before selecting\r\n\r\nVariable was never defined, and always falling back to black\r\n\r\nBefore:\r\n![Screenshot 2024-09-10 at 2 23 45‚ÄØPM](https://github.com/user-attachments/assets/0d7ad949-93a0-4ecf-9fba-1f4f77d8bf9d)\r\n![Screenshot 2024-09-10 at 2 28 01‚ÄØPM](https://github.com/user-attachments/assets/1364b9a6-11bc-4c43-b3e7-97bea5a0220c)\r\n\r\n\r\nAfter:\r\n![Screenshot 2024-09-10 at 2 23 57‚ÄØPM](https://github.com/user-attachments/assets/c73c7af6-c84e-4a30-9c45-942d7e639c8d)\r\n![Screenshot 2024-09-10 at 2 25 25‚ÄØPM](https://github.com/user-attachments/assets/0b7f1943-3311-4697-8eec-ed85347e212f)\r\n","Url":"https://github.com/angular/components/pull/29716","RelatedDescription":"Open PR \"fix(material/radio): use tokens for focused border color\" (#29716)"},{"Id":"2514589692","IsPullRequest":true,"CreatedAt":"2024-09-10T19:34:05","Actor":"dolav","Number":"29712","RawContent":null,"Title":"Fix typo in expansion-panel-header.scss","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/29712","RelatedDescription":"Closed or merged PR \"Fix typo in expansion-panel-header.scss\" (#29712)"},{"Id":"2512246510","IsPullRequest":true,"CreatedAt":"2024-09-10T18:46:37","Actor":"crisbeto","Number":"29707","RawContent":null,"Title":"Fix selected indication for options in high contrast mode","State":"closed","Body":"Fixes a couple of issues with how selected options were being shown in high contrast mode.","Url":"https://github.com/angular/components/pull/29707","RelatedDescription":"Closed or merged PR \"Fix selected indication for options in high contrast mode\" (#29707)"},{"Id":"2517292596","IsPullRequest":false,"CreatedAt":"2024-09-10T18:25:10","Actor":"manjarijayan","Number":"29715","RawContent":null,"Title":"bug(COMPONENT): DatePicker Calendar not Closing","State":"open","Body":"### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nI am using material date picker in an ionic 8 project and the date picker is not closing on selecting the date. I also tried adding a button and calling picker.close()  but overlayDestroy in the close methot is not getting triggered. I have imported all the required files. \n\n### Reproduction\n\nStackBlitz link: \r\nSteps to reproduce:\r\n1. \r\n2.\r\n\n\n### Expected Behavior\n\nclose the calendar on  date selection\n\n### Actual Behavior\n\nCalendar not closing.\n\n### Environment\n\n- Angular:\r\n- CDK/Material:\r\n- Browser(s):\r\n- Operating System (e.g. Windows, macOS, Ubuntu):\r\n","Url":"https://github.com/angular/components/issues/29715","RelatedDescription":"Open issue \"bug(COMPONENT): DatePicker Calendar not Closing\" (#29715)"},{"Id":"2516672590","IsPullRequest":false,"CreatedAt":"2024-09-10T14:41:29","Actor":"pfeileon","Number":"29714","RawContent":null,"Title":"MatAutocompleteHarness doesn't open on `focus()` or  `getOptions()`","State":"open","Body":"### Is this a regression?\r\n\r\n- [X] Yes, this behavior used to work previously\r\n\r\n### The previous version in which this bug was not present was\r\n\r\nPuppeteer 23.1.1\r\n\r\n### Description\r\n\r\nI guess somewhere between Puppeteer v. 23.1.1 and 23.3.0 Chromium must have been changed in a significant way.\r\n\r\nSeems to be this bug again: https://github.com/angular/components/issues/23757\r\n\r\nAlso `routerHarness.fixture.nativeElement.querySelector(':focus')` returns null while `routerHarness.routeNativeElement?.ownerDocument.activeElement` works.\r\n\r\nSomehow these issues don't come up if the specific test is executed in isolation. It might depend on the order of execution.\r\n\r\n### Environment\r\n\r\nAngular 18.2.3 / Jasmine 5.3.0 / Karma 6.4.4 / Puppeteer 23.3.0 / Linux\r\n","Url":"https://github.com/angular/components/issues/29714","RelatedDescription":"Open issue \"MatAutocompleteHarness doesn't open on `focus()` or  `getOptions()`\" (#29714)"},{"Id":"2513365432","IsPullRequest":true,"CreatedAt":"2024-09-10T06:58:06","Actor":"crisbeto","Number":"29709","RawContent":null,"Title":"fix(cdk/overlay): avoid leaking memory through afterNextRender","State":"closed","Body":"The `OverlayRef` was triggering an `afterEachRender` and passing in an `EnvironmentInjector`. Under the hood this uses a `DestroyRef` that is never destroyed, because the `EnvironmentInjector` is almost never destroyed.\r\n\r\nThese changes add an explicit `destroy` call to avoid the issue.\r\n\r\nFixes #29696.","Url":"https://github.com/angular/components/pull/29709","RelatedDescription":"Closed or merged PR \"fix(cdk/overlay): avoid leaking memory through afterNextRender\" (#29709)"},{"Id":"2513854232","IsPullRequest":true,"CreatedAt":"2024-09-09T12:38:32","Actor":"DjSeanza","Number":"29711","RawContent":null,"Title":"feat(material/datepicker): added MatDatepickerBase to public-api.ts","State":"open","Body":"Provided the ability to create own custom datepicker.\r\n\r\nFixes #29710 ","Url":"https://github.com/angular/components/pull/29711","RelatedDescription":"Open PR \"feat(material/datepicker): added MatDatepickerBase to public-api.ts\" (#29711)"},{"Id":"2513795305","IsPullRequest":false,"CreatedAt":"2024-09-09T12:13:02","Actor":"DjSeanza","Number":"29710","RawContent":null,"Title":"feat(material/datepicker): Custom Datepicker","State":"open","Body":"### Feature Description\n\nThe goal is to create a custom date picker component by extending the Angular Material Datepicker. This component will inherit all the core functionalities and styling of the Angular Material Datepicker while introducing additional features. \r\n\r\nThe problem here is that if I want to extend datepicker classes i cant create my own datepicker because there is no way to provide and extend MatDatepickerBase.\r\n\r\n```typescript\r\n@Component({\r\n  selector: 'mat-datepicker',\r\n  template: '',\r\n  exportAs: 'matDatepicker',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [\r\n    MAT_SINGLE_DATE_SELECTION_MODEL_PROVIDER,\r\n    { provide: MatDatepickerBase, useExisting: MatDatepicker }, // <- this line right here\r\n  ],\r\n  standalone: true,\r\n})\r\nexport class MatDatepicker<D> extends MatDatepickerBase<MatDatepickerControl<D>, D | null, D> {} // <- and this extend right here\r\n```\n\n### Use Case\n\nFor example I want to create my own datetime picker, but I don't have time to implement all of the datepicker logic on my own. I can just extend all classes and have the logic already there and just add what i need.","Url":"https://github.com/angular/components/issues/29710","RelatedDescription":"Open issue \"feat(material/datepicker): Custom Datepicker\" (#29710)"},{"Id":"2511653648","IsPullRequest":false,"CreatedAt":"2024-09-09T06:37:17","Actor":"therlaup","Number":"29706","RawContent":null,"Title":"bug(COMPONENT): mat-slider freezes after initial vertical movement on touch device","State":"closed","Body":"### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n14\n\n### Description\n\nI am working on an app that requires a vertical slider. I use CSS to achieve a vertical slider using mat-slider despite it not being supported since v15. This works perfectly on a device with a mouse. However, when using the app on Android, dragging the sliders becomes frozen if the initial translation direction is vertical. Please see the video for an example.\r\n\r\nhttps://github.com/user-attachments/assets/5d776a4a-41d6-42e1-a7be-2ad137d55779\r\n\r\n\n\n### Reproduction\n\nStackBlitz link: https://components-issue-dcm346.stackblitz.io\r\nStackBlitz editor: https://stackblitz.com/edit/components-issue-dcm346?file=src%2Fapp%2Fexample-component.html\r\nSteps to reproduce:\r\n1. In Chrome, open dev console and activate device toolbar (Ctrl+ Shift+ M). Select a touch device.\r\n2. Drag the sliders thumb first perpendicular to the track then parallel to the track.\r\n3. On touch device: If the drag direction is initially vertical, then the slider becomes frozen and no additional movement is allowed. (unexpected behavior)\r\n4. On mouse device: If the drag direction is initially vertical, then the slider still freely moves. (expected behavior)\n\n### Expected Behavior\n\nOn touch devices, if the drag movement is initially vertical, the slider thumb should move according to translation parallel to the track.\n\n### Actual Behavior\n\nOn touch devices, if the drag movement is initially vertical, the slider thumb becomes frozen to translation parallel to the track.\n\n### Environment\n\n- Angular: 18.2.2\r\n- CDK/Material: 18.0.2\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Android\r\n","Url":"https://github.com/angular/components/issues/29706","RelatedDescription":"Closed issue \"bug(COMPONENT): mat-slider freezes after initial vertical movement on touch device\" (#29706)"},{"Id":"2512679006","IsPullRequest":true,"CreatedAt":"2024-09-09T00:58:16","Actor":"matrix-compute","Number":"29708","RawContent":null,"Title":"Create codeql.yml","State":"open","Body":"","Url":"https://github.com/angular/components/pull/29708","RelatedDescription":"Open PR \"Create codeql.yml\" (#29708)"}],"ResultType":"GitHubIssue"}},"RunOn":"2024-09-15T03:30:02.7693208Z","RunDurationInMilliseconds":1944}