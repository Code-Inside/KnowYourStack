{"Data":{"Angular-Issues":{"Issues":[{"Id":"857502275","IsPullRequest":true,"CreatedAt":"2021-04-14T04:10:46","Actor":"iRealNirmal","Number":"41608","RawContent":null,"Title":"fix(platform-browser): update started state on reset","State":"open","Body":"This commit fixes the state of variable _started on call of reset method.\r\n\r\nResolves #18140\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\non call of hasStarted method after reset method is returning true.\r\n\r\nIssue Number: #18140 \r\n\r\n\r\n## What is the new behavior?\r\nAfter calling reset method, hasstarted method will return false.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/41608","RelatedDescription":"Open PR \"fix(platform-browser): update started state on reset\" (#41608)"},{"Id":"856357073","IsPullRequest":false,"CreatedAt":"2021-04-14T01:44:52","Actor":"ealvarez968","Number":"41588","RawContent":null,"Title":"Validators Email","State":"closed","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\n\nOh hi there! üòÑ\n\nTo expedite issue processing please search open and closed issues before submitting a new one.\nExisting issues often contain information about workarounds, resolution, or progress updates.\n\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\n\n\n# üêû bug report\n\n### Affected Package\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\n<!-- ‚úçÔ∏èedit: --> The issue is caused by package @angular/....\n\n\n### Is this a regression?\n\n<!-- Did this behavior use to work in the previous version? -->\n<!-- ‚úçÔ∏è--> Yes, the previous version in which this bug was not present was: ....\n\n\n### Description\n\n<!-- ‚úçÔ∏è--> A clear and concise description of the problem...\nThe Validators for email allow myemail@mydomain as valid without the last top level domain\n\n## üî¨ Minimal Reproduction\n<!--\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-ivy\n-->\n<!-- ‚úçÔ∏è--> https://stackblitz.com/...\n\n<!--\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem.\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\n\nIssues that don't have enough info and can't be reproduced will be closed.\n\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#submit-issue\n-->\n\n## üî• Exception or Error\n<pre><code>\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\n<!-- ‚úçÔ∏è-->\n\n</code></pre>\n\n\n## üåç  Your Environment\n\n**Angular Version:**\n<pre><code>\n<!-- run `ng version` and paste output below -->\n<!-- ‚úçÔ∏è-->\n\n</code></pre>\n\n**Anything else relevant?**\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\n\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\n","Url":"https://github.com/angular/angular/issues/41588","RelatedDescription":"Closed issue \"Validators Email\" (#41588)"},{"Id":"857140238","IsPullRequest":true,"CreatedAt":"2021-04-14T01:24:19","Actor":"atscott","Number":"41597","RawContent":null,"Title":"fix(language-service): bound attributes should not break directive matching","State":"closed","Body":"\r\nThe language service uses an elements attributes to determine if it\r\nmatches a directive in the component scope. We do this by accumulating\r\nall attribute bindings and matching against the selectors for the\r\navailable directives. The compiler itself does a similar thing. In\r\naddition, the compiler does not use the value of `BoundAttribute`s to\r\nmatch directives (https://github.com/angular/angular/blob/cdf1ea1951fb7187b1f6c9bb8a847c859c41e0b8/packages/compiler/src/render3/view/util.ts#L174-L206). This commit changes the language\r\nservice to also ignore bound attribute values for directive matching.","Url":"https://github.com/angular/angular/pull/41597","RelatedDescription":"Closed or merged PR \"fix(language-service): bound attributes should not break directive matching\" (#41597)"},{"Id":"857421819","IsPullRequest":true,"CreatedAt":"2021-04-14T00:43:06","Actor":"josephperrott","Number":"41607","RawContent":null,"Title":"[patch-only version of #41599] build: update to latest version of `rules_nodejs` v3.3.0","State":"open","Body":"Patch only version of #41599","Url":"https://github.com/angular/angular/pull/41607","RelatedDescription":"Open PR \"[patch-only version of #41599] build: update to latest version of `rules_nodejs` v3.3.0\" (#41607)"},{"Id":"857161085","IsPullRequest":true,"CreatedAt":"2021-04-14T00:37:36","Actor":"devversion","Number":"41599","RawContent":null,"Title":"build: update to latest version of `rules_nodejs` v3.3.0","State":"closed","Body":"Updates to the latest version of `rules_nodejs` that supports\r\nthe most recent NodeJS lts version v14.16.1.\r\n\r\nAdditionally the latest version of `rules_nodejs` provides\r\n[a package for runfile resolution](https://github.com/bazelbuild/rules_nodejs/pull/2568) w/ types that we can leverage.\r\n","Url":"https://github.com/angular/angular/pull/41599","RelatedDescription":"Closed or merged PR \"build: update to latest version of `rules_nodejs` v3.3.0\" (#41599)"},{"Id":"857409459","IsPullRequest":true,"CreatedAt":"2021-04-14T00:13:40","Actor":"AndrewKushnir","Number":"41606","RawContent":null,"Title":"refactor(core): replace loadLContext with getLContext calls","State":"open","Body":"This commit refactors the code to replace `loadLContext` with `getLContext` calls. The only difference between these two functions is that the `loadLContext` supports throwing an error in case `LContext` can not be found. The investigation performed in #41525 revealed that throwing while retrieving `LContext` might have undesirable performance implications, so we should avoid that to make sure there are no accidental perf regressions in other parts of code that used `loadLContext`. Moreover, in most of the places the `loadLContext` was already called in a mode that prevented an error from being thrown, so this refactoring should have no effect on the actual behavior.\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [x] Refactoring (no functional changes, no api changes)\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/41606","RelatedDescription":"Open PR \"refactor(core): replace loadLContext with getLContext calls\" (#41606)"},{"Id":"857352552","IsPullRequest":false,"CreatedAt":"2021-04-13T22:45:49","Actor":"daddyschmack","Number":"41605","RawContent":null,"Title":"ng -12 upgrade, getting missing property on build for production","State":"closed","Body":"ng build --configuration production --base-href /foo/\r\n\r\nresults in the following:\r\nBrowser application bundle generation complete.\r\nES5 Bundle generation Complete\r\ncopying assets complete\r\nIndex html generation failed.\r\nundefined:6:6 property missing ':'\r\n\r\nwould it be possible to get a little more information on how this error can be troubleshot?\r\n\r\n<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ‚úçÔ∏èedit: --> The issue is caused by package @angular/....\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> Yes, the previous version in which this bug was not present was: ....\r\n\r\n\r\n### Description\r\n\r\n<!-- ‚úçÔ∏è--> A clear and concise description of the problem...\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-ivy\r\n-->\r\n<!-- ‚úçÔ∏è--> https://stackblitz.com/...\r\n\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem.\r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#submit-issue\r\n-->\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ‚úçÔ∏è-->\r\n\r\n</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ‚úçÔ∏è-->\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular/issues/41605","RelatedDescription":"Closed issue \"ng -12 upgrade, getting missing property on build for production\" (#41605)"},{"Id":"857330730","IsPullRequest":true,"CreatedAt":"2021-04-13T21:18:13","Actor":"josephperrott","Number":"41604","RawContent":null,"Title":"feat(dev-infra): prevent attempting to merge draft, closed or merged pull requests","State":"open","Body":"During pull request validation, assert that the pull request is not in\r\ndraft mode, already merged or already closed.\r\n","Url":"https://github.com/angular/angular/pull/41604","RelatedDescription":"Open PR \"feat(dev-infra): prevent attempting to merge draft, closed or merged pull requests\" (#41604)"},{"Id":"856871150","IsPullRequest":true,"CreatedAt":"2021-04-13T20:32:15","Actor":"Skrekliam","Number":"41595","RawContent":null,"Title":"feat(localization): adding ukrainian language to localization","State":"closed","Body":"Nowadays, there are a lot of products that using angular, and they have\r\nto use localization package ru-UA, that is in russian language, but\r\nbigger part of ukrainian prefer to use ukrainian language, and want to\r\nsee ukrainian times, and month names.\r\n\r\nThis commit adds ukrainian localization files, that will make developers\r\nnot to use another time formaters\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/41595","RelatedDescription":"Closed or merged PR \"feat(localization): adding ukrainian language to localization\" (#41595)"},{"Id":"856089689","IsPullRequest":true,"CreatedAt":"2021-04-13T19:39:31","Actor":"alxhub","Number":"41581","RawContent":null,"Title":"Implement signature help for the Language Service","State":"closed","Body":"See individual commits for details","Url":"https://github.com/angular/angular/pull/41581","RelatedDescription":"Closed or merged PR \"Implement signature help for the Language Service\" (#41581)"},{"Id":"856918029","IsPullRequest":true,"CreatedAt":"2021-04-13T18:54:24","Actor":"alan-agius4","Number":"41596","RawContent":null,"Title":"build(docs-infra): add correct types to tuples","State":"closed","Body":"This is to fix the below error:\r\n```\r\ntools/firebase-test-utils/FirebaseRedirect.ts:17:50 - error TS2345: Argument of type '(string | RegExp)[][]' is not assignable to parameter of type 'ReplacementDetail[]'.\r\n  Type '(string | RegExp)[]' is missing the following properties from type 'ReplacementDetail': 0, 1\r\n\r\n17     return XRegExp.replaceEach(this.destination, [...paramReplacers, ...restReplacers]);\r\n```\r\n\r\nhttps://app.circleci.com/pipelines/github/angular/angular/31076/workflows/5fd3851e-ae9e-4d77-b0ef-366ba38a9088/jobs/961795\r\n","Url":"https://github.com/angular/angular/pull/41596","RelatedDescription":"Closed or merged PR \"build(docs-infra): add correct types to tuples\" (#41596)"},{"Id":"857214572","IsPullRequest":true,"CreatedAt":"2021-04-13T18:51:14","Actor":"josephperrott","Number":"41603","RawContent":null,"Title":"fix(dev-infra): only create authenticated github instance once in yargs","State":"closed","Body":"Fix github token option for yargs to only create an authenticated token one time.","Url":"https://github.com/angular/angular/pull/41603","RelatedDescription":"Closed or merged PR \"fix(dev-infra): only create authenticated github instance once in yargs\" (#41603)"},{"Id":"857203892","IsPullRequest":true,"CreatedAt":"2021-04-13T18:07:26","Actor":"clydin","Number":"41602","RawContent":null,"Title":"fix(compiler-cli): do not error with prepocessing if component has no inline styles","State":"open","Body":"The asynchronous preprocessing check was not accounting for components that did not have any inline styles. In that case, the cache did not have an entry which then allowed the asynchronous check to run and fail the compilation. The caching during the asynchronous analysis phase now handles components without inline styles.\r\n","Url":"https://github.com/angular/angular/pull/41602","RelatedDescription":"Open PR \"fix(compiler-cli): do not error with prepocessing if component has no inline styles\" (#41602)"},{"Id":"857198378","IsPullRequest":true,"CreatedAt":"2021-04-13T17:59:22","Actor":"josephperrott","Number":"41601","RawContent":null,"Title":"refactor(dev-infra): set `version` as an attribute of ReleaseAction","State":"open","Body":"Creates a `version` attribute on ReleaseAction.  This is being done in preparation for integrating the common `ReleaseNotes` generation system.","Url":"https://github.com/angular/angular/pull/41601","RelatedDescription":"Open PR \"refactor(dev-infra): set `version` as an attribute of ReleaseAction\" (#41601)"},{"Id":"857169371","IsPullRequest":true,"CreatedAt":"2021-04-13T17:21:36","Actor":"kapunahelewong","Number":"41600","RawContent":null,"Title":"docs: add instructions for opting into latest Language Service","State":"open","Body":"In light of https://github.com/angular/vscode-ng-language-service/pull/1279 we're adding info on using Ivy LS.\r\n\r\n## To do:\r\n\r\nAdd `tsconfig.json` snippet.","Url":"https://github.com/angular/angular/pull/41600","RelatedDescription":"Open PR \"docs: add instructions for opting into latest Language Service\" (#41600)"},{"Id":"857153882","IsPullRequest":true,"CreatedAt":"2021-04-13T17:00:39","Actor":"alxhub","Number":"41598","RawContent":null,"Title":"Specialized error when depending on an Ivy-compiled NgModule, 10.2.x edition","State":"open","Body":"","Url":"https://github.com/angular/angular/pull/41598","RelatedDescription":"Open PR \"Specialized error when depending on an Ivy-compiled NgModule, 10.2.x edition\" (#41598)"},{"Id":"856301796","IsPullRequest":true,"CreatedAt":"2021-04-13T14:37:32","Actor":"JoostK","Number":"41586","RawContent":null,"Title":"Ngtsc/preserve default imports patch","State":"closed","Body":"Backport of #41557 to patch. Marked as blocked for that one to land first.","Url":"https://github.com/angular/angular/pull/41586","RelatedDescription":"Closed or merged PR \"Ngtsc/preserve default imports patch\" (#41586)"},{"Id":"856347091","IsPullRequest":true,"CreatedAt":"2021-04-13T14:35:37","Actor":"JoostK","Number":"41587","RawContent":null,"Title":"Ngtsc/incremental redirects [patch]","State":"closed","Body":"Backport of #41448 to patch. Marked as blocked for that one to land first.","Url":"https://github.com/angular/angular/pull/41587","RelatedDescription":"Closed or merged PR \"Ngtsc/incremental redirects [patch]\" (#41587)"},{"Id":"856827165","IsPullRequest":true,"CreatedAt":"2021-04-13T10:34:32","Actor":"shhdharmen","Number":"41594","RawContent":null,"Title":"docs: add github action in CI story","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\nAdd guideline to configure project for Github Actions\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/41594","RelatedDescription":"Open PR \"docs: add github action in CI story\" (#41594)"},{"Id":"856449690","IsPullRequest":true,"CreatedAt":"2021-04-13T04:05:34","Actor":"josephperrott","Number":"41589","RawContent":null,"Title":"[Patch version of #41515] refactor(dev-infra): use a singleton for GitClient","State":"closed","Body":"Creates a singleton class for GitClient rather than relying on creating an instance to\r\nrequire being passed around throughout its usages.\r\n\r\n\r\nThis is the patch-only version of #41515","Url":"https://github.com/angular/angular/pull/41589","RelatedDescription":"Closed or merged PR \"[Patch version of #41515] refactor(dev-infra): use a singleton for GitClient\" (#41589)"},{"Id":"856512736","IsPullRequest":true,"CreatedAt":"2021-04-13T02:39:55","Actor":"andrewasche","Number":"41593","RawContent":null,"Title":" fix(docs-infra): update glossary to include the term template-input-variable (#39783)","State":"open","Body":"‚Ä¶input-variable (#41516)\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/41593","RelatedDescription":"Open PR \" fix(docs-infra): update glossary to include the term template-input-variable (#39783)\" (#41593)"},{"Id":"856503262","IsPullRequest":true,"CreatedAt":"2021-04-13T02:15:46","Actor":"vthinkxie","Number":"41592","RawContent":null,"Title":"feat(core): support flags option in NodeInjector.get","State":"open","Body":"close #31776\r\n\r\nthe InectFlags was defined in both getOrCreateInjectable and Injector, but was ignored in NodeInjector\r\nthis PR support getting parent token via injector.get in NodeInjector\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [x] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/41592","RelatedDescription":"Open PR \"feat(core): support flags option in NodeInjector.get\" (#41592)"},{"Id":"856481707","IsPullRequest":false,"CreatedAt":"2021-04-13T01:18:47","Actor":"jrsun","Number":"41591","RawContent":null,"Title":"Better error message for misplaced NgSwitchDefault","State":"open","Body":"# üêû bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\nThe issue is caused by package @angular/common.\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\nNo.\r\n\r\n\r\n### Description\r\n\r\nThis is a request for clearer error messaging. When an NgSwitchDefault directive erroneously exists outside of a NgSwitch, the error message appears to be import-related, rather than a syntax error: `No provider for NgSwitch found in NodeInjector...`\r\n\r\n## üî¨ Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-ivy\r\n-->\r\n\r\n1) https://stackblitz.com/edit/angular-ivy-zexnwp?file=src/app/app.component.ts\r\n2) See console for error.\r\n\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem.\r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#submit-issue\r\n-->\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ‚úçÔ∏è-->\r\nERROR Error: NG0201: No provider for NgSwitch found in NodeInjector\r\n</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ‚úçÔ∏è-->\r\nany\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular/issues/41591","RelatedDescription":"Open issue \"Better error message for misplaced NgSwitchDefault\" (#41591)"},{"Id":"856454162","IsPullRequest":true,"CreatedAt":"2021-04-13T00:18:57","Actor":"benlesh","Number":"41590","RawContent":null,"Title":"Fix AsyncPipe types for RxJS 6 and 7","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] ~~Tests for the changes have been added (for bug fixes / features)~~ this is a non-breaking change and adding a test would require adding a development dependency to this project of `rxjs@next`, which seems like overkill. However this will get exercised extremely well in `google3`.\r\n- [x] ~~Docs have been added / updated (for bug fixes / features)~~ unnecessary\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [x] Other... Please describe:\r\n\r\nThis resolves an issue reported to me by @leggechr and escalated to @alxhub. The issue is discussed here as well: https://github.com/microsoft/TypeScript/issues/43643\r\n\r\n\r\n\r\n\r\n## What is the current behavior?\r\nCurrently, when upgrading to RxJS 7, in many cases Angular templates are unable to infer the proper value type from RxJS observables. This is because of the TypeScript issue/quirk pointed out above.\r\n\r\n\r\n## What is the new behavior?\r\nThe value types will be inferred properly in the Angular template.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\nThis is affecting targets within `google3` and I recommend you work with @leggechr and escalate this as a Googler issue. \r\n","Url":"https://github.com/angular/angular/pull/41590","RelatedDescription":"Open PR \"Fix AsyncPipe types for RxJS 6 and 7\" (#41590)"},{"Id":"856218942","IsPullRequest":true,"CreatedAt":"2021-04-12T23:40:44","Actor":"petebacondarwin","Number":"41585","RawContent":null,"Title":"Compiler compliance old removal patch","State":"closed","Body":"PATCH backport of https://github.com/angular/angular/pull/41556","Url":"https://github.com/angular/angular/pull/41585","RelatedDescription":"Closed or merged PR \"Compiler compliance old removal patch\" (#41585)"},{"Id":"856204954","IsPullRequest":true,"CreatedAt":"2021-04-12T17:46:51","Actor":"atscott","Number":"41584","RawContent":null,"Title":"fix(router): recursively merge empty path matches","State":"open","Body":"When recognizing routes, the router merges nodes which map to the same\r\nempty path config. This is because auxiliary outlets under empty path\r\nparents need to match the parent config. This would result in two\r\noutlet matches for that parent which need to be combined into a single\r\nnode: The regular 'primary' match and the match for the auxiliary outlet.\r\nIn addition, the children of the merged nodes should also be merged to\r\naccount for multiple levels of empty path parents.\r\n\r\nFixes #41481\r\n","Url":"https://github.com/angular/angular/pull/41584","RelatedDescription":"Open PR \"fix(router): recursively merge empty path matches\" (#41584)"},{"Id":"856184327","IsPullRequest":true,"CreatedAt":"2021-04-12T17:18:13","Actor":"devversion","Number":"41583","RawContent":null,"Title":"fix(compiler): non-literal inline templates incorrectly processed in partial compilation","State":"open","Body":"Currently if a component defines a template inline, but not through a\r\nstring literal, the partial compilation references the template expression\r\nas is. This is problematic because the component declaration can no longer\r\nbe processed by the linker later as there is no static interpretation. e.g.\r\n\r\n```js\r\nconst myTemplate = `...`;\r\n\r\nTestCmp.…µcmp = i0.…µ…µngDeclareComponent({\r\n  version: \"0.0.0-PLACEHOLDER\",\r\n  type: TestCmp,\r\n  selector: \"test-cmp\",\r\n  ngImport: i0,\r\n  template: myTemplate,\r\n  isInline: true\r\n});\r\n```\r\n\r\nTo fix this, we use the the resolved template in such cases so that\r\nthe linker can process the template/component declaration as expected.\r\n\r\nNote: I considered always passing the `templateStr` as part of `ParsedTemplate` while\r\nalso passing a `sourceSpan`. This looked like the most clean solution to me initially, but\r\nturned out to be not suitable because it would mean that we always create a new `o.literal`.\r\nThis literal can be different to original inline template literal's (i.e. due to quotes) and therefore\r\ncausing incorrect source mappings for the template.","Url":"https://github.com/angular/angular/pull/41583","RelatedDescription":"Open PR \"fix(compiler): non-literal inline templates incorrectly processed in partial compilation\" (#41583)"},{"Id":"856155689","IsPullRequest":false,"CreatedAt":"2021-04-12T16:39:16","Actor":"matthewjh","Number":"41582","RawContent":null,"Title":"Mix-up between directive and module injectors causes module injectables to be instantiated with directive-provided dependencies","State":"open","Body":"# üêû bug report\r\n\r\n### Affected Package\r\n@angular/core\r\n\r\n### Is this a regression?\r\n\r\nI don't know.\r\n\r\n### Description\r\n\r\nIt appears possible for Angular to mix up directive and module injectors and incorrectly use the directive injector to provide dependencies for a module-level injectable. \r\n\r\nOne way this happens is in the following flow:\r\n\r\nDirective inject -> directive useFactory provider -> useFactory delegates to module-level injectable -> module-level injectable calls `Injector#get`\r\n\r\nAssuming the subject of the `Injector#get` call is a tree-shakeable-provided service that has NOT already been created, then Angular enters the generated `…µfac` function for the injectable -- correctly -- but the `…µ…µinject` calls embedded in the factory incorrectly delegate to the directive injector rather than to the module injector.\r\n\r\nBelow is the complete flow, indicating injector boundaries:\r\n\r\nDirective Injector {_Directive inject -> directive useFactory provider -> useFactory delegates to module-level injectable ->_} Module Injector { _module-level injectable calls `Injector#get`  -> enter generated `…µfac` for injected service -> **generated factory calls `…µ…µinject` for service dependencies**_ }\r\n\r\nWhat appears to me to be happening is the last part in bold is delegated wrongly to the directive injector, irrespective of the earlier crossing of the boundary into module injector world.\r\n\r\nThis produces a broken state, as a \"permanent\" module-level injectable is created with something that belongs to a directive (\"temporary\").\r\n\r\n\r\n\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\n\r\n\r\nhttps://github.com/matthewjh/angular-injector-repro\r\n\r\nrun\r\n\r\n`ng serve`\r\n\r\ngo to app\r\n\r\nopen console\r\n\r\nobserve \r\n\r\n`tokenValue in A = from component`\r\n\r\nas `A` is a providedIn: \"root\" injectable, the log output should be\r\n\r\n`tokenValue in A = from module`\r\n\r\n`app.component.ts`\r\n\r\n```ts\r\nimport { Component, Inject, Injectable, InjectionToken, Injector } from '@angular/core';\r\n\r\nconst TOKEN = new InjectionToken<string>(\"string token\", { providedIn: \"root\", factory: () => \"from module\"});\r\nconst A_TOKEN = new InjectionToken<A>(\"A\");\r\n\r\n@Injectable({providedIn: \"root\"})\r\nclass A {\r\n  constructor (@Inject(TOKEN) tokenValue: string) {\r\n    console.log(`tokenValue in A = ${tokenValue}`);\r\n  }\r\n}\r\n\r\n\r\n@Injectable({providedIn: \"root\"})\r\nclass AGetter {\r\n  constructor (private readonly injector: Injector) {}\r\n\r\n  getA () {\r\n    return this.injector.get(A);\r\n  }\r\n}\r\n\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css'],\r\n  providers: [\r\n    {provide: A_TOKEN, useFactory: (aGetter: AGetter) => aGetter.getA(), deps:[AGetter] },\r\n    {provide: TOKEN, useValue: \"from component\"}\r\n  ]\r\n})\r\nexport class AppComponent {\r\n  title = 'my-app';\r\n  constructor (@Inject(A_TOKEN) a: A) {\r\n  }\r\n}\r\n```\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#submit-issue\r\n-->\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ‚úçÔ∏è-->\r\n\r\n</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n    \"@angular/common\": \"~11.2.9\",\r\n    \"@angular/compiler\": \"~11.2.9\",\r\n    \"@angular/core\": \"~11.2.9\",\r\n    \"@angular/forms\": \"~11.2.9\",\r\n    \"@angular/platform-browser\": \"~11.2.9\",\r\n    \"@angular/platform-browser-dynamic\": \"~11.2.9\",\r\n    \"@angular/router\": \"~11.2.9\",\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular/issues/41582","RelatedDescription":"Open issue \"Mix-up between directive and module injectors causes module injectables to be instantiated with directive-provided dependencies\" (#41582)"},{"Id":"856088458","IsPullRequest":true,"CreatedAt":"2021-04-12T15:23:19","Actor":"crisbeto","Number":"41580","RawContent":null,"Title":"refactor(core): add single type for injector token","State":"open","Body":"Currently we have a lot of places where we repeat the type `Type<T>|AbstractType<T>|InjectionToken<T>` which makes it cumbersome to add another type or to type something else with the same signature.\r\n\r\nThese changes add a new type that can be used instead.\r\n\r\nFixes #39792.","Url":"https://github.com/angular/angular/pull/41580","RelatedDescription":"Open PR \"refactor(core): add single type for injector token\" (#41580)"},{"Id":"855893856","IsPullRequest":true,"CreatedAt":"2021-04-12T11:52:04","Actor":"petebacondarwin","Number":"41578","RawContent":null,"Title":"linker: partial declaration versioning","State":"open","Body":"Previously, it was not possible to block a partial-linker from trying to\r\nprocess a declaration that was defined in a newer version of Angular than\r\nthat of the partial-linker. For example, if a partial-linker was published as\r\npart of version 12.0.0, there was no way for a partially-compiled declaration\r\ncompiled via version 13.0.0 to tell the 12.0.0 linker that it would be invalid\r\nto attempt to process it.\r\n\r\nThis PR adds a new `minVersion` property to partial-declarations, which is\r\ninterpreted as the \"minimum partial-linker version\" that can process this\r\ndeclaration. When selecting a partial-linker for such a declaration, the known\r\nlinker version ranges are checked to find the most recent linker whose version\r\nrange has an overlap with the interpreted declaration range.\r\n\r\nThis approach allows us to set a minimum version for a declaration, which\r\ncan inform an old partial-linker that will it not be able to accurately\r\nprocess the declaration.\r\n\r\nNote that any pre-release part to versions are ignored in this selection\r\nprocess.\r\n\r\nThe file-linker can be configured, via the `unknownDeclarationVersionHandling`\r\nproperty of `LinkerOptions`, to handle such a situation in one of three ways:\r\n\r\n- `error` - the version mismatch is a fatal error\r\n- `warn` - a warning is sent to the logger but the most recent partial-linker\r\n  will attempt to process the declaration anyway.\r\n- `ignore` - the most recent partial-linker will, silently, attempt to process\r\n  the declaration.\r\n\r\nThe default is to throw an error.\r\n\r\nCloses #41497","Url":"https://github.com/angular/angular/pull/41578","RelatedDescription":"Open PR \"linker: partial declaration versioning\" (#41578)"}],"ResultType":"GitHubIssue"},"AngularCli-Issues":{"Issues":[{"Id":"857530946","IsPullRequest":false,"CreatedAt":"2021-04-14T05:21:49","Actor":"HyperLife1119","Number":"20519","RawContent":null,"Title":"Warning: *.worker.ts is part of the TypeScript compilation but it's unused. Add only entry points to the 'files' or 'include' properties in your tsconfig.","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ‚úçÔ∏èedit: -->\r\n\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> Yes, the previous version in which this bug was not present was: 10.2.4\r\n\r\n\r\n### Description\r\n\r\nAfter upgrading from v10.2.4 to v11.2.8, warn when running the `ng build --prod` command: \r\n```\r\nWarning: *.worker.ts is part of the TypeScript compilation but it's unused. Add only entry points to the 'files' or 'include' properties in your tsconfig.\r\n```\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue. \r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\nWarning: *.worker.ts is part of the TypeScript compilation but it's unused. Add only entry points to the 'files' or 'include' properties in your tsconfig.\r\n</code></pre>\r\n\r\n\r\n## üåç Your Environment\r\n<pre><code>\r\nAngular CLI: 11.2.8\r\nNode: 14.15.0\r\nOS: win32 x64\r\n\r\nAngular: 11.2.9\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router, service-worker\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1102.8\r\n@angular-devkit/build-angular   0.1102.8\r\n@angular-devkit/core            10.1.4\r\n@angular-devkit/schematics      10.1.4\r\n@angular/cdk                    11.2.8\r\n@angular/cli                    11.2.8\r\n@schematics/angular             10.1.4\r\n@schematics/update              0.1102.8\r\nrxjs                            6.6.7\r\ntypescript                      4.0.7\r\n</code></pre>\r\n\r\ntsconfig.json:\r\n```json\r\n/* To learn more about this file see: https://angular.io/config/tsconfig. */\r\n{\r\n  \"compileOnSave\": false,\r\n  \"compilerOptions\": {\r\n    \"baseUrl\": \"./\",\r\n    \"outDir\": \"./dist/out-tsc\",\r\n    \"forceConsistentCasingInFileNames\": true,\r\n    \"sourceMap\": true,\r\n    \"declaration\": false,\r\n    \"downlevelIteration\": true,\r\n    \"experimentalDecorators\": true,\r\n    \"moduleResolution\": \"node\",\r\n    \"importHelpers\": true,\r\n    \"target\": \"es2015\",\r\n    \"module\": \"es2020\",\r\n    \"lib\": [\r\n      \"es2018\",\r\n      \"dom\"\r\n    ]\r\n  },\r\n  \"angularCompilerOptions\": {\r\n    \"fullTemplateTypeCheck\": true,\r\n    \"enableI18nLegacyMessageIdFormat\": false,\r\n    \"strictInjectionParameters\": true,\r\n    \"strictInputAccessModifiers\": true\r\n  }\r\n}\r\n```\r\n\r\ntsconfig.app.json:\r\n```json\r\n/* To learn more about this file see: https://angular.io/config/tsconfig. */\r\n{\r\n  \"extends\": \"./tsconfig.json\",\r\n  \"compilerOptions\": {\r\n    \"outDir\": \"./out-tsc/app\",\r\n    \"types\": []\r\n  },\r\n  \"files\": [\r\n    \"src/main.ts\",\r\n    \"src/polyfills.ts\"\r\n  ],\r\n  \"include\": [\r\n    \"src/**/*.d.ts\"\r\n  ]\r\n}\r\n```\r\n\r\ntsconfig.worker.json:\r\n```json\r\n{\r\n  \"extends\": \"./tsconfig.json\",\r\n  \"compilerOptions\": {\r\n    \"outDir\": \"./out-tsc/worker\",\r\n    \"lib\": [\r\n      \"es2018\",\r\n      \"webworker\"\r\n    ],\r\n    \"types\": []\r\n  },\r\n  \"include\": [\r\n    \"src/**/*.worker.ts\"\r\n  ]\r\n}\r\n\r\n```\r\n\r\n**Anything else relevant?**\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/20519","RelatedDescription":"Open issue \"Warning: *.worker.ts is part of the TypeScript compilation but it's unused. Add only entry points to the 'files' or 'include' properties in your tsconfig.\" (#20519)"},{"Id":"857406178","IsPullRequest":true,"CreatedAt":"2021-04-14T00:05:15","Actor":"clydin","Number":"20518","RawContent":null,"Title":"refactor(@angular-devkit/build-angular): use Node.js promise fs API in service-worker augmentation","State":"open","Body":"With the minimum version of Node.js now set to v12, the promise fs API can now be leveraged within the tooling.\r\nThis change also uses `copyFile` (with copy-on-write where available) to setup the the service worker files as well a streaming APIs to generate service worker hashes. Both of which improves performance and reduces memory usage.","Url":"https://github.com/angular/angular-cli/pull/20518","RelatedDescription":"Open PR \"refactor(@angular-devkit/build-angular): use Node.js promise fs API in service-worker augmentation\" (#20518)"},{"Id":"857131118","IsPullRequest":true,"CreatedAt":"2021-04-13T19:34:54","Actor":"clydin","Number":"20515","RawContent":null,"Title":"Webpack 5 Cleanup - Remove redundant dependencies","State":"closed","Body":"Webpack 5 now provides common utility functions and class as direct exports.  This includes getting a loader's options (`getOptions`) and the source classes from `webpack-sources`.","Url":"https://github.com/angular/angular-cli/pull/20515","RelatedDescription":"Closed or merged PR \"Webpack 5 Cleanup - Remove redundant dependencies\" (#20515)"},{"Id":"857239633","IsPullRequest":true,"CreatedAt":"2021-04-13T19:01:36","Actor":"dgp1130","Number":"20517","RawContent":null,"Title":"docs: add README to `@angular/pwa`.","State":"open","Body":"This mostly just copies the \"Getting started with service workers\" guide cited to explain what the schematic itself does and defering to that doc for more info on PWA's and how to actually build one.","Url":"https://github.com/angular/angular-cli/pull/20517","RelatedDescription":"Open PR \"docs: add README to `@angular/pwa`.\" (#20517)"},{"Id":"857157074","IsPullRequest":true,"CreatedAt":"2021-04-13T18:09:56","Actor":"kyliau","Number":"20516","RawContent":null,"Title":"build: promote @angular-devkit/schematics-cli to stable","State":"closed","Body":"This package contains just the executable for schematics and two internal\r\nschematics, there is no public facing APIs.","Url":"https://github.com/angular/angular-cli/pull/20516","RelatedDescription":"Closed or merged PR \"build: promote @angular-devkit/schematics-cli to stable\" (#20516)"},{"Id":"856423876","IsPullRequest":true,"CreatedAt":"2021-04-13T15:50:43","Actor":"kyliau","Number":"20507","RawContent":null,"Title":"ci: remove unused --ci option from validate script","State":"closed","Body":"`--ci` is not used in any way.","Url":"https://github.com/angular/angular-cli/pull/20507","RelatedDescription":"Closed or merged PR \"ci: remove unused --ci option from validate script\" (#20507)"},{"Id":"855699604","IsPullRequest":true,"CreatedAt":"2021-04-13T14:50:03","Actor":"alan-agius4","Number":"20498","RawContent":null,"Title":"build: update to `cssnano` to version `5.0.0`","State":"closed","Body":"Closes #19106","Url":"https://github.com/angular/angular-cli/pull/20498","RelatedDescription":"Closed or merged PR \"build: update to `cssnano` to version `5.0.0`\" (#20498)"},{"Id":"856660899","IsPullRequest":true,"CreatedAt":"2021-04-13T14:49:41","Actor":"alan-agius4","Number":"20509","RawContent":null,"Title":"fix(@angular-devkit/build-angular): remove duplicate application bundle generation complete message","State":"closed","Body":"\r\nIn some scenarios in Webpack 5 percentage goes from 1 back to 0.99, ex: 0.99 -> 1 -> 0.99 -> 1. This causes the \"complete\" message to be displayed multiple times.","Url":"https://github.com/angular/angular-cli/pull/20509","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): remove duplicate application bundle generation complete message\" (#20509)"},{"Id":"856733746","IsPullRequest":true,"CreatedAt":"2021-04-13T14:49:17","Actor":"alan-agius4","Number":"20513","RawContent":null,"Title":"Webpack clean up (2)","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/20513","RelatedDescription":"Closed or merged PR \"Webpack clean up (2)\" (#20513)"},{"Id":"856713870","IsPullRequest":true,"CreatedAt":"2021-04-13T14:43:33","Actor":"renovate[bot]","Number":"20512","RawContent":null,"Title":"build: update webpack to version 5.32.0","State":"closed","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [webpack](https://togithub.com/webpack/webpack) | [`5.31.2` -> `5.32.0`](https://renovatebot.com/diffs/npm/webpack/5.31.2/5.32.0) | [![age](https://badges.renovateapi.com/packages/npm/webpack/5.32.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/webpack/5.32.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/webpack/5.32.0/compatibility-slim/5.31.2)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/webpack/5.32.0/confidence-slim/5.31.2)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>webpack/webpack</summary>\n\n### [`v5.32.0`](https://togithub.com/webpack/webpack/releases/v5.32.0)\n\n[Compare Source](https://togithub.com/webpack/webpack/compare/v5.31.2...v5.32.0)\n\n### Features\n\n-   add support for a pseudo extensions `.webpack[type]` (e. g. `.webpack[javascript/auto]`) to specify the default module type when no other module type is specified\n    -   to be used with `!=!` inline syntax\n\n### Bugfixes\n\n-   fixes incorrect cache invalidation when new properties are added to the DefinePlugin\n\n### Experiments\n\n-   add `experiments.executeModule` to allow build-time execution of modules of the module graph\n    -   add `this.importModule(request, options, [callback]): Promise` to the loader context\n    -   add `compilation.executeModule(request, options, callback)` for plugins\n\n</details>\n\n---\n\n### Configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about these updates again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/20512","RelatedDescription":"Closed or merged PR \"build: update webpack to version 5.32.0\" (#20512)"},{"Id":"856985174","IsPullRequest":true,"CreatedAt":"2021-04-13T13:52:33","Actor":"clydin","Number":"20514","RawContent":null,"Title":"feat(@angular-devkit/build-angular): support specifying stylesheet language for inline component styles","State":"open","Body":"A new build option named `inlineStyleLanguage` has been introduced that will allow a project to define the stylesheet language used in an application's inline component styles. Inline component styles are styles defined via the `styles` property within the Angular `Component` decorator. Both JIT and AOT mode are supported. However, JIT mode requires that inline styles only be string literals (compile-time partial evaluation is not supported in JIT mode). Currently supported language options are: `CSS` (default), `Sass`, `SCSS`, and `Less`. If the option is not specified, `CSS` will be used and enables existing projects to continue to function as expected.","Url":"https://github.com/angular/angular-cli/pull/20514","RelatedDescription":"Open PR \"feat(@angular-devkit/build-angular): support specifying stylesheet language for inline component styles\" (#20514)"},{"Id":"856713331","IsPullRequest":true,"CreatedAt":"2021-04-13T08:20:42","Actor":"renovate[bot]","Number":"20511","RawContent":null,"Title":"build: update angular packages","State":"open","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@angular/animations](https://togithub.com/angular/animations-builds) | dependencies | digest | [`bc45a89` -> `ffb8f3a`](https://renovatebot.com/diffs/npm/@angular%2fanimations//) |\n| [@angular/cdk](https://togithub.com/angular/cdk-builds) | dependencies | digest | [`b00e9d9` -> `73a5946`](https://renovatebot.com/diffs/npm/@angular%2fcdk//) |\n| [@angular/common](https://togithub.com/angular/common-builds) | dependencies | digest | [`e02c1bb` -> `5a3f5e3`](https://renovatebot.com/diffs/npm/@angular%2fcommon//) |\n| [@angular/compiler](https://togithub.com/angular/compiler-builds) | dependencies | digest | [`8ae3abd` -> `9b841fa`](https://renovatebot.com/diffs/npm/@angular%2fcompiler//) |\n| [@angular/compiler-cli](https://togithub.com/angular/compiler-cli-builds) | dependencies | digest | [`3e5f9af` -> `55b229b`](https://renovatebot.com/diffs/npm/@angular%2fcompiler-cli//) |\n| [@angular/core](https://togithub.com/angular/core-builds) | dependencies | digest | [`2ed9f3c` -> `293db12`](https://renovatebot.com/diffs/npm/@angular%2fcore//) |\n| [@angular/dev-infra-private](https://togithub.com/angular/dev-infra-private-builds) | devDependencies | digest | [`1d2ec96` -> `2b9f60b`](https://renovatebot.com/diffs/npm/@angular%2fdev-infra-private//) |\n| [@angular/forms](https://togithub.com/angular/forms-builds) | dependencies | digest | [`cd7c588` -> `13a5a76`](https://renovatebot.com/diffs/npm/@angular%2fforms//) |\n| [@angular/language-service](https://togithub.com/angular/language-service-builds) | dependencies | digest | [`dc10fbd` -> `2b34a16`](https://renovatebot.com/diffs/npm/@angular%2flanguage-service//) |\n| [@angular/localize](https://togithub.com/angular/localize-builds) | dependencies | digest | [`8a5d669` -> `e3c5df9`](https://renovatebot.com/diffs/npm/@angular%2flocalize//) |\n| [@angular/material](https://togithub.com/angular/material2-builds) | dependencies | digest | [`86e4a0e` -> `49cf499`](https://renovatebot.com/diffs/npm/@angular%2fmaterial//) |\n| [@angular/material-moment-adapter](https://togithub.com/angular/material-moment-adapter-builds) | dependencies | digest | [`ff52e51` -> `79395d3`](https://renovatebot.com/diffs/npm/@angular%2fmaterial-moment-adapter//) |\n| [@angular/platform-browser](https://togithub.com/angular/platform-browser-builds) | dependencies | digest | [`dc30585` -> `c2ec660`](https://renovatebot.com/diffs/npm/@angular%2fplatform-browser//) |\n| [@angular/platform-browser-dynamic](https://togithub.com/angular/platform-browser-dynamic-builds) | dependencies | digest | [`dd2e711` -> `b1b61ef`](https://renovatebot.com/diffs/npm/@angular%2fplatform-browser-dynamic//) |\n| [@angular/platform-server](https://togithub.com/angular/platform-server-builds) | dependencies | digest | [`147282b` -> `6ea805d`](https://renovatebot.com/diffs/npm/@angular%2fplatform-server//) |\n| [@angular/router](https://togithub.com/angular/router-builds) | dependencies | digest | [`873efb3` -> `a398c18`](https://renovatebot.com/diffs/npm/@angular%2frouter//) |\n\n:abcd: If you wish to disable git hash updates, add `\":disableDigestUpdates\"` to the extends array in your config.\n\n---\n\n### Configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:ghost: **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/renovatebot/renovate/discussions) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/20511","RelatedDescription":"Open PR \"build: update angular packages\" (#20511)"},{"Id":"856709982","IsPullRequest":true,"CreatedAt":"2021-04-13T08:16:54","Actor":"alan-agius4","Number":"20510","RawContent":null,"Title":"Remove old migrations","State":"open","Body":"","Url":"https://github.com/angular/angular-cli/pull/20510","RelatedDescription":"Open PR \"Remove old migrations\" (#20510)"},{"Id":"856534261","IsPullRequest":true,"CreatedAt":"2021-04-13T03:33:35","Actor":"kyliau","Number":"20508","RawContent":null,"Title":"docs(@angular-devkit/schematics-cli): Add README","State":"open","Body":"This commit adds a README for the package.","Url":"https://github.com/angular/angular-cli/pull/20508","RelatedDescription":"Open PR \"docs(@angular-devkit/schematics-cli): Add README\" (#20508)"},{"Id":"856374925","IsPullRequest":true,"CreatedAt":"2021-04-12T22:15:43","Actor":"kyliau","Number":"20506","RawContent":null,"Title":"docs: Delete cli.angular.io microsite","State":"closed","Body":"https://cli.angular.io/ now redirects to https://angular.io/cli","Url":"https://github.com/angular/angular-cli/pull/20506","RelatedDescription":"Closed or merged PR \"docs: Delete cli.angular.io microsite\" (#20506)"},{"Id":"856344786","IsPullRequest":true,"CreatedAt":"2021-04-12T21:58:49","Actor":"kyliau","Number":"20504","RawContent":null,"Title":"ci: remove integration test run under Bazel","State":"closed","Body":"Test is obsolete, and not run on CI.","Url":"https://github.com/angular/angular-cli/pull/20504","RelatedDescription":"Closed or merged PR \"ci: remove integration test run under Bazel\" (#20504)"},{"Id":"856341895","IsPullRequest":true,"CreatedAt":"2021-04-12T20:37:36","Actor":"kyliau","Number":"20503","RawContent":null,"Title":"refactor(@schematics/angular): Do not include Protractor test in new project","State":"open","Body":"Evaluate what it takes to remove Protractor from new projects.","Url":"https://github.com/angular/angular-cli/pull/20503","RelatedDescription":"Open PR \"refactor(@schematics/angular): Do not include Protractor test in new project\" (#20503)"},{"Id":"855703896","IsPullRequest":true,"CreatedAt":"2021-04-12T16:34:49","Actor":"alan-agius4","Number":"20499","RawContent":null,"Title":"ci: add `Python-2.0` as a valid license","State":"closed","Body":"`Python-2.0` is in the same category as `MIT`, hence it's a valid license that we can allow.\r\n\r\nThis is needed for `verdaccio` version 5 which uses `argparse` which is licenced as `Python-2.0`.","Url":"https://github.com/angular/angular-cli/pull/20499","RelatedDescription":"Closed or merged PR \"ci: add `Python-2.0` as a valid license\" (#20499)"},{"Id":"856363635","IsPullRequest":false,"CreatedAt":"2021-04-12T14:53:08","Actor":"bbreijer","Number":"20505","RawContent":null,"Title":"Lazy loading modules used with Angular trusted types in the CSP headers is rejected by Chrome","State":"open","Body":"# üêû bug report\r\n\r\n### Affected Package\r\nAngular-CLI (webpack) and CSP trusted types integration.\r\n\r\n### Is this a regression?\r\nNot that I can determine. I started testing the issue with v9.1.x; It was also present there.\r\n\r\n### Description\r\nFor security reasons it is important to have proper Content-Security-Policy (CSP) headers present. The Angular documentation suggests the use of trusted typed. The suggested configuration works well as long as no lazy loaded modules are used.\r\nOnce lazy loaded modules are used and loading of one of the modules is triggered, the modules load violates the CSP rules. Suggested CSP settings should also work with lazy loading or a secure alternative would be helpfull.\r\n\r\n## üî¨ Minimal Reproduction\r\n* Create a new project: `ng new --routing --strict --style scss csp-lazy-loading`\r\n* Generate a new module `ng g m lazymod --routing --route lazymod --module app.module`\r\n* Add the CSP header in `angular.json` (in `serve.options`): `\"headers\" : {\"Content-Security-Policy\": \"trusted-types angular; require-trusted-types-for 'script';\"}`\r\n\r\n_result of steps above is available in https://github.com/bbreijer/ng11-csp-lazy-loading_\r\n* start development server: `ng serve --prod`\r\n* navigate to http://localhost:4200/lazymod in Chrome\r\n\r\n## üî• Exception or Error\r\nIn `runtime.js`\r\n<pre><code>This document requires 'TrustedScriptURL' assignment.</code></pre>\r\n\r\nIn `main.js`\r\n<pre><code>ERROR Error: Uncaught (in promise): TypeError: Failed to set the 'src' property on 'HTMLScriptElement': This document requires 'TrustedScriptURL' assignment.\r\nTypeError: Failed to set the 'src' property on 'HTMLScriptElement': This document requires 'TrustedScriptURL' assignment.\r\n    at Function.i.e (runtime.js:formatted:56)\r\n    at loadChildren (main.js:1)\r\n    at Ln.loadModuleFactory (main.js:1)\r\n    at Ln.load (main.js:1)\r\n    at c.project (main.js:1)\r\n    at c._tryNext (main.js:1)\r\n    at c._next (main.js:1)\r\n    at c.next (main.js:1)\r\n    at t._subscribe (main.js:1)\r\n    at t._trySubscribe (main.js:1)\r\n    at Z (polyfills.js:1)\r\n    at Z (polyfills.js:1)\r\n    at polyfills.js:1\r\n    at l.invokeTask (polyfills.js:1)\r\n    at Object.onInvokeTask (main.js:1)\r\n    at l.invokeTask (polyfills.js:1)\r\n    at i.runTask (polyfills.js:1)\r\n    at m (polyfills.js:1)</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>Angular CLI: 11.2.8\r\nNode: 14.5.0\r\nOS: darwin x64\r\n\r\nAngular: 11.2.9\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1102.8\r\n@angular-devkit/build-angular   0.1102.8\r\n@angular-devkit/core            11.2.8\r\n@angular-devkit/schematics      11.2.8\r\n@angular/cli                    11.2.8\r\n@schematics/angular             11.2.8\r\n@schematics/update              0.1102.8\r\nrxjs                            6.6.7\r\ntypescript                      4.1.5</code></pre>\r\n\r\n**Anything else relevant?**\r\nDocumentation:\r\n* https://angular.io/guide/security#enforcing-trusted-types\r\n* https://angular.io/guide/lazy-loading-ngmodules\r\n\r\nRelated issues:\r\n* https://github.com/angular/angular-cli/issues/20113\r\n* https://github.com/angular/angular/issues/37631\r\n\r\nReproduced in Chrome 89.0.","Url":"https://github.com/angular/angular-cli/issues/20505","RelatedDescription":"Open issue \"Lazy loading modules used with Angular trusted types in the CSP headers is rejected by Chrome\" (#20505)"},{"Id":"855941579","IsPullRequest":false,"CreatedAt":"2021-04-12T12:48:55","Actor":"artu-ole","Number":"20502","RawContent":null,"Title":"\"ng build\" fails with TypeError when NODE_ENV is set to \"development\"","State":"open","Body":"# üêû Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ‚úçÔ∏èedit: -->\r\n\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\nNot sure.\r\n\r\n### Description\r\n\r\nI have encountered same issue as https://github.com/angular/angular-cli/issues/19677 with an exception that it happens no matter whether its a production build or not.\r\nIt seems to be related to the fact that NODE_ENV 'development' toggles some additional typescript assertions\r\n\r\n```ts\r\nDebug.setAssertionLevel(/^development$/i.test(sys.getEnvironmentVariable(\"NODE_ENV\"))\r\n            ? AssertionLevel.Normal\r\n            : AssertionLevel.None);\r\n```\r\nhttps://github.com/microsoft/TypeScript/blob/38da7c600c83e7b31193a62495239a0fe478cb67/src/compiler/sys.ts#L1893-L1895\r\nwhich in turn choke on angular component with combined import statement:\r\n\r\n\r\n```ts\r\nimport tippy, { Instance } from 'tippy.js';\r\n```\r\nhttps://github.com/artu-ole/angular-cli-repro-app/blob/ba6bd91eeae2c92d429b7c388e51f879afd7b3e7/src/app/app.component.ts#L2\r\n\r\nand if those are split into two statements then build goes through\r\n```ts\r\n// WORKS\r\n// import tippy from 'tippy.js';\r\n// import { Instance } from 'tippy.js';\r\n```\r\n\r\n\r\n\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\n1. Clone https://github.com/artu-ole/angular-cli-repro-app\r\n2. `$env:NODE_ENV='development'`\r\n3. `ng build`\r\n\r\n## üî• Exception or Error\r\n\r\n```console\r\nError: ./src/app/app.component.ts\r\nModule build failed (from ./node_modules/@ngtools/webpack/src/ivy/index.js):\r\nTypeError: Cannot read property 'kind' of undefined\r\n    at C:\\Users\\artuo\\git\\repro-app\\node_modules\\typescript\\lib\\typescript.js:2580:166\r\n    at assert (C:\\Users\\artuo\\git\\repro-app\\node_modules\\typescript\\lib\\typescript.js:2501:127)\r\n    at Object.assertNode (C:\\Users\\artuo\\git\\repro-app\\node_modules\\typescript\\lib\\typescript.js:2580:17)\r\n    at visitNode (C:\\Users\\artuo\\git\\repro-app\\node_modules\\typescript\\lib\\typescript.js:80343:18)       \r\n    at Object.visitEachChild (C:\\Users\\artuo\\git\\repro-app\\node_modules\\typescript\\lib\\typescript.js:80749:124)\r\n    at visitor (C:\\Users\\artuo\\git\\repro-app\\node_modules\\@ngtools\\webpack\\src\\transformers\\make_transform.js:60:31)\r\n    at visitNode (C:\\Users\\artuo\\git\\repro-app\\node_modules\\typescript\\lib\\typescript.js:80329:23)\r\n    at Object.visitEachChild (C:\\Users\\artuo\\git\\repro-app\\node_modules\\typescript\\lib\\typescript.js:80747:172)\r\n    at visitor (C:\\Users\\artuo\\git\\repro-app\\node_modules\\@ngtools\\webpack\\src\\transformers\\make_transform.js:60:31)\r\n    at visitNodes (C:\\Users\\artuo\\git\\repro-app\\node_modules\\typescript\\lib\\typescript.js:80382:48)\r\n    at visitLexicalEnvironment (C:\\Users\\artuo\\git\\repro-app\\node_modules\\typescript\\lib\\typescript.js:80422:22)\r\n    at Object.visitEachChild (C:\\Users\\artuo\\git\\repro-app\\node_modules\\typescript\\lib\\typescript.js:80809:55)\r\n    at visitor (C:\\Users\\artuo\\git\\repro-app\\node_modules\\@ngtools\\webpack\\src\\transformers\\make_transform.js:60:31)\r\n    at Object.visitNode (C:\\Users\\artuo\\git\\repro-app\\node_modules\\typescript\\lib\\typescript.js:80329:23)\r\n    at transformer (C:\\Users\\artuo\\git\\repro-app\\node_modules\\@ngtools\\webpack\\src\\transformers\\make_transform.js:67:31)\r\n    at transformSourceFileOrBundle (C:\\Users\\artuo\\git\\repro-app\\node_modules\\typescript\\lib\\typescript.js:81488:57)\r\n @ ./src/app/app.module.ts 2:0-47 7:68-80 11:116-128\r\n```\r\n\r\n\r\n## üåç Your Environment\r\n<pre><code>\r\nAngular CLI: 11.2.8\r\nNode: 14.16.0\r\nOS: win32 x64\r\n\r\nAngular: 11.2.9\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1102.8\r\n@angular-devkit/build-angular   0.1102.8\r\n@angular-devkit/core            11.2.8\r\n@angular-devkit/schematics      11.2.8\r\n@angular/cli                    11.2.8\r\n@schematics/angular             11.2.8\r\n@schematics/update              0.1102.8\r\nrxjs                            6.6.7\r\ntypescript                      4.1.5\r\n</code></pre>\r\n\r\n\r\n","Url":"https://github.com/angular/angular-cli/issues/20502","RelatedDescription":"Open issue \"\"ng build\" fails with TypeError when NODE_ENV is set to \"development\"\" (#20502)"},{"Id":"855898935","IsPullRequest":false,"CreatedAt":"2021-04-12T11:58:23","Actor":"plecos","Number":"20501","RawContent":null,"Title":"ng update fails behind proxy but npm works","State":"open","Body":"# üêû Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [X] update\r\n- [ ] lint\r\n- [ ] extract-i18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Description\r\n\r\nng update behind my corporate proxy gives a 407 Authorized only error, but npm works correctly.  I have configured npm with both proxy and https-proxy values\r\n\r\n## üî¨ Minimal Reproduction\r\nng update on my computer\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\nAn unhandled exception occurred: 407 AuthorizedOnly - GET http://registry.npmjs.org/@angular%2fcli\r\nSee \"C:\\Users\\#####\\AppData\\Local\\Temp\\ng-PrTzqR\\angular-errors.log\" for further details.\r\n</code></pre>\r\n\r\n\r\n## üåç Your Environment\r\n<pre><code>\r\nAngular CLI: 11.2.6\r\nNode: 14.16.0\r\nOS: win32 x64\r\n\r\nAngular: 11.2.7\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... localize, platform-browser, platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit/architect       0.1102.6\r\n@angular-devkit/build-angular   0.1102.6\r\n@angular-devkit/core            11.2.6\r\n@angular-devkit/schematics      11.2.6\r\n@angular/cli                    11.2.6\r\n@schematics/angular             11.2.6\r\n@schematics/update              0.1102.6\r\nrxjs                            6.6.6\r\ntypescript                      4.1.5\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\nOutput of log file mentioned in error:\r\n\r\n<pre><code>\r\n[error] Error: 407 AuthorizedOnly - GET http://registry.npmjs.org/@angular%2fcli\r\n    at C:\\Users\\#####\\source\\repos\\ClientApp\\node_modules\\npm-registry-fetch\\check-response.js:123:15\r\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)\r\n    at async Object.fetchPackageManifest (C:\\Users\\#####\\source\\repos\\ClientApp\\node_modules\\@angular\\cli\\utilities\\package-metadata.js:166:22)\r\n    at async UpdateCommand.checkCLILatestVersion (C:\\Users\\#####\\source\\repos\\ClientApp\\node_modules\\@angular\\cli\\commands\\update-impl.js:609:35)\r\n    at async UpdateCommand.run (C:\\Users\\#####\\source\\repos\\ClientApp\\node_modules\\@angular\\cli\\commands\\update-impl.js:195:37)\r\n    at async UpdateCommand.validateAndRun (C:\\Users\\#####\\source\\repos\\ClientApp\\node_modules\\@angular\\cli\\models\\command.js:139:28)\r\n    at async Object.runCommand (C:\\Users\\#####\\source\\repos\\ClientApp\\node_modules\\@angular\\cli\\models\\command-runner.js:204:24)\r\n    at async default_1 (C:\\Users\\#####\\source\\repos\\ClientApp\\node_modules\\@angular\\cli\\lib\\cli\\index.js:80:31)\r\n</code></pre>\r\n\r\nOutput of npm config list:\r\n\r\n<pre><code>\r\n; cli configs\r\nmetrics-registry = \"http://registry.npmjs.org/\"\r\nscope = \"\"\r\nuser-agent = \"npm/6.14.11 node/v14.16.0 win32 x64\"\r\n\r\n; userconfig C:\\Users\\#####\\.npmrc\r\n@fortawesome:registry = \"\"\r\ncache = \"c:\\\\Users\\\\#####\\\\npm-cache\"\r\nhttps-proxy = \"http://#####@#####:8080/\"\r\nprefix = \"c:\\\\Users\\\\#####\\\\npm\"\r\nproxy = \"http://#####@#####:8080/\"\r\nregistry = \"http://registry.npmjs.org/\"\r\nstrict-ssl = false\r\n\r\n; globalconfig c:\\Users\\#####\\npm\\etc\\npmrc\r\ncache = \"c:\\\\Users\\\\#####\\\\npm-cache\"\r\nhttps-proxy = \"http://#####@#####:8080/\"\r\nprefix = \"c:\\\\Users\\\\#####\\\\npm\"\r\nproxy = \"http://#####@#####:8080/\"\r\nregistry = \"http://registry.npmjs.org/\"\r\n\r\n; builtin config undefined\r\n\r\n; node bin location = C:\\Program Files\\nodejs\\node.exe\r\n; cwd = C:\\Users\\#####\\source\\repos\\ClientApp\r\n; HOME = C:\\Users\\#####\r\n; \"npm config ls -l\" to show all defaults.\r\n</code></pre>\r\n\r\n","Url":"https://github.com/angular/angular-cli/issues/20501","RelatedDescription":"Open issue \"ng update fails behind proxy but npm works\" (#20501)"},{"Id":"855615404","IsPullRequest":true,"CreatedAt":"2021-04-12T10:24:54","Actor":"alan-agius4","Number":"20497","RawContent":null,"Title":"build: update `@types/karma` to `^6.3.0`","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/20497","RelatedDescription":"Closed or merged PR \"build: update `@types/karma` to `^6.3.0`\" (#20497)"},{"Id":"855707026","IsPullRequest":true,"CreatedAt":"2021-04-12T09:51:39","Actor":"alan-agius4","Number":"20500","RawContent":null,"Title":"feat(@schematics/angular): update `jasmine-spec-reporter` to version 7","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/20500","RelatedDescription":"Closed or merged PR \"feat(@schematics/angular): update `jasmine-spec-reporter` to version 7\" (#20500)"},{"Id":"855029511","IsPullRequest":true,"CreatedAt":"2021-04-12T09:42:59","Actor":"renovate[bot]","Number":"20490","RawContent":null,"Title":"build: update webpack to version 5.31.2","State":"closed","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [webpack](https://togithub.com/webpack/webpack) | [`5.30.0` -> `5.31.2`](https://renovatebot.com/diffs/npm/webpack/5.30.0/5.31.2) | [![age](https://badges.renovateapi.com/packages/npm/webpack/5.31.2/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/webpack/5.31.2/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/webpack/5.31.2/compatibility-slim/5.30.0)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/webpack/5.31.2/confidence-slim/5.30.0)](https://docs.renovatebot.com/merge-confidence/) |\n| [@types/webpack](https://togithub.com/DefinitelyTyped/DefinitelyTyped) | [`^4.41.22` -> `^5.0.0`](https://renovatebot.com/diffs/npm/@types%2fwebpack/4.41.27/5.28.0) | [![age](https://badges.renovateapi.com/packages/npm/@types%2fwebpack/5.28.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@types%2fwebpack/5.28.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@types%2fwebpack/5.28.0/compatibility-slim/4.41.27)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@types%2fwebpack/5.28.0/confidence-slim/4.41.27)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>webpack/webpack</summary>\n\n### [`v5.31.2`](https://togithub.com/webpack/webpack/releases/v5.31.2)\n\n[Compare Source](https://togithub.com/webpack/webpack/compare/v5.31.1...v5.31.2)\n\n### Bugfixes\n\n-   revert disposing of CodeGenerationResults since some plugins rely on the fact that they are still accessible after the compilation\n\n### [`v5.31.1`](https://togithub.com/webpack/webpack/releases/v5.31.1)\n\n[Compare Source](https://togithub.com/webpack/webpack/compare/v5.31.0...v5.31.1)\n\n### Bugfixes\n\n-   invalid hooks is no longer called twice for a compiler in a MultiCompiler\n\n### Memory\n\n-   eliminated some memory leaks\n-   dispose code generation results after sealing the compilation\n\n### Performance\n\n-   improve performance of cache serialization by reducing number of write syscalls\n\n### [`v5.31.0`](https://togithub.com/webpack/webpack/releases/v5.31.0)\n\n[Compare Source](https://togithub.com/webpack/webpack/compare/v5.30.0...v5.31.0)\n\n### Features\n\n-   add a few more options for infrastructure logging:\n    -   `infrastructureLogging.colors`: Enables/Disables colorful output.\n    -   `infrastructureLogging.appendOnly`: Only appends lines to the output. Avoids updating existing output e. g. for status messages.\n    -   `infrastructureLogging.stream`: Stream used for logging output. Defaults to process.stderr.\n    -   `infrastructureLogging.console`: Custom console used for logging.\n    -   When stream is an TTY colors is enabled and appendOnly is disabled. Otherwise it's flipped.\n\n### Bugfixes\n\n-   Persistent Caching\n    -   fix caching crash when using fsevents in build dependencies\n    -   improve resolving of build dependencies when `exports` field is used\n    -   make problems during resolving build dependencies warnings instead of debug messages\n-   prioritize static reexport over runtime reexport for target determination\n    -   This helps in optimization by no longer opting out of optimization when some other exports any dynamic (from commonjs or empty/type-only modules)\n-   fix bug with subtraction of runtimes\n    -   This fixes a problem with concatenated modules in builds with multiple runtimes and force-merged shared chunks\n-   ensure that entrypoints are always re-executed when HMR-updated\n    -   This fixes no longer updating pages when the entrypoint crashed\n\n</details>\n\n---\n\n### Configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about these updates again.\n\n---\n\n - [x] <!-- rebase-check -->If you want to rebase/retry this PR, check this box.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/20490","RelatedDescription":"Closed or merged PR \"build: update webpack to version 5.31.2\" (#20490)"},{"Id":"855056333","IsPullRequest":true,"CreatedAt":"2021-04-12T07:23:55","Actor":"renovate[bot]","Number":"20491","RawContent":null,"Title":"build: update cssnano to version 5.0.0","State":"closed","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [cssnano](https://togithub.com/cssnano/cssnano) | [`4.1.11` -> `5.0.0`](https://renovatebot.com/diffs/npm/cssnano/4.1.11/5.0.0) | [![age](https://badges.renovateapi.com/packages/npm/cssnano/5.0.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/cssnano/5.0.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/cssnano/5.0.0/compatibility-slim/4.1.11)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/cssnano/5.0.0/confidence-slim/4.1.11)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>cssnano/cssnano</summary>\n\n### [`v5.0.0`](https://togithub.com/cssnano/cssnano/releases/cssnano@5.0.0)\n\n[Compare Source](https://togithub.com/cssnano/cssnano/compare/v4.1.11...cssnano@5.0.0)\n\n#### Major changes\n\n-   requires Node >= 10.13\n-   PostCSS 8 API, so cssnano 5 does not emit warnings when running under PostCSS 8 \n-   updated to SVGO 2, fixing many SVG minification bugs\n-   updated css-value-parser and css-selector-parser, fixing many bugs\n\n##### Upgrade notes\n\nIf you use the cssnano JavaScript API, you need to change your code:\n\n-   Replace `cssnano.process()` with `cssnano().process()` (notice the `()` after `cssnano`)\n\n-   pass cssnano options to `cssnano()` instead of `process()`\n\n    cssnano(cssnanoOptions).process(postcssOptions)\n\n#### Bug fixes\n\n-   fix improperly discarding `@font-face` declarations [#&#8203;726](https://togithub.com/cssnano/cssnano/issues/726)\n-   partially fix some isues where cssnano did not combine rules when used together with `postcss-nested` [#&#8203;1004](https://togithub.com/cssnano/cssnano/issues/1004)\n-   fix `translate3d()` minification [#&#8203;920](https://togithub.com/cssnano/cssnano/issues/920)\n-   fix minification of values starting with `e` [#&#8203;589](https://togithub.com/cssnano/cssnano/issues/958), [#&#8203;984](https://togithub.com/cssnano/cssnano/issues/984)\n-   fix minification of percentage vaalues [#&#8203;962](https://togithub.com/cssnano/cssnano/issues/962), [#&#8203;957](https://togithub.com/cssnano/cssnano/issues/957)\n-   fix minification of `aspect-ratio` [#&#8203;963](https://togithub.com/cssnano/cssnano/issues/963)\n-   fix merging of `@supports` rules [#&#8203;974](https://togithub.com/cssnano/cssnano/issues/974)\n-   fix sorting of longhand and shorthand properties [#&#8203;535](https://togithub.com/cssnano/cssnano/issues/535)\n-   remove vulnerable dependency and always warn with bad SVG input [#&#8203;1034](https://togithub.com/cssnano/cssnano/pull/1034)\n\n</details>\n\n---\n\n### Configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about these updates again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/20491","RelatedDescription":"Closed or merged PR \"build: update cssnano to version 5.0.0\" (#20491)"},{"Id":"855359974","IsPullRequest":true,"CreatedAt":"2021-04-12T06:48:02","Actor":"renovate[bot]","Number":"20496","RawContent":null,"Title":"build: update ajv to version 8.1.0","State":"closed","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [ajv](https://ajv.js.org) ([source](https://togithub.com/ajv-validator/ajv)) | [`6.12.6` -> `8.1.0`](https://renovatebot.com/diffs/npm/ajv/6.12.6/8.1.0) | [![age](https://badges.renovateapi.com/packages/npm/ajv/8.1.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/ajv/8.1.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/ajv/8.1.0/compatibility-slim/6.12.6)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/ajv/8.1.0/confidence-slim/6.12.6)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>ajv-validator/ajv</summary>\n\n### [`v8.1.0`](https://togithub.com/ajv-validator/ajv/releases/v8.1.0)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v8.0.5...v8.1.0)\n\n[unicodeRegExp option](https://ajv.js.org/options.html#unicoderegexp) to not use RegExp unicode flag that may be incompatible with some environments ([@&#8203;asaid-0](https://togithub.com/asaid-0), [#&#8203;1530](https://togithub.com/ajv-validator/ajv/issues/1530))\nFix JSONSchemaType ([@&#8203;erikbrinkman](https://togithub.com/erikbrinkman), [#&#8203;1541](https://togithub.com/ajv-validator/ajv/issues/1541))\nExtended error message for invalid keyword values ([@&#8203;pcwiek](https://togithub.com/pcwiek), [#&#8203;1542](https://togithub.com/ajv-validator/ajv/issues/1542))\n\n### [`v8.0.5`](https://togithub.com/ajv-validator/ajv/releases/v8.0.5)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v8.0.4...v8.0.5)\n\nFix: add source code back to npm package, 8.0.4 is breaking ajv-cli (and possibly other things)\n\n### [`v8.0.4`](https://togithub.com/ajv-validator/ajv/releases/v8.0.4)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v8.0.3...v8.0.4)\n\nReduce npm bundle size\n\n### [`v8.0.3`](https://togithub.com/ajv-validator/ajv/releases/v8.0.3)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v8.0.2...v8.0.3)\n\nImprove JSONSchemaType errors ([@&#8203;erikbrinkman](https://togithub.com/erikbrinkman), [#&#8203;1525](https://togithub.com/ajv-validator/ajv/issues/1525))\n\n### [`v8.0.2`](https://togithub.com/ajv-validator/ajv/releases/v8.0.2)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v8.0.1...v8.0.2)\n\nSupport RegExp formats in standalone code ([#&#8203;1470](https://togithub.com/ajv-validator/ajv/issues/1470))\nAdd schema path to strictTuple error message ([@&#8203;asaid-0](https://togithub.com/asaid-0), [#&#8203;1519](https://togithub.com/ajv-validator/ajv/issues/1519))\n\n### [`v8.0.1`](https://togithub.com/ajv-validator/ajv/releases/v8.0.1)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v8.0.0...v8.0.1)\n\nTypescript: export function `getData` (for ajv-errors)\n\n### [`v8.0.0`](https://togithub.com/ajv-validator/ajv/releases/v8.0.0)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.2.4...v8.0.0)\n\nThis document describes changes from v7.2.4 to v8.0.0.\n\nIf you are migrating from v6 you can use [this document](https://togithub.com/ajv-validator/ajv/blob/master/docs/v6-to-v8-migration.md).\n\n##### New features\n\nSupport JSON Schema draft-2020-12: [prefixItems](https://ajv.js.org/json-schema.html#prefixitems) keyword and changed semantics of [items](https://ajv.js.org/json-schema.html#items-in-draft-2020-12) keyword, [dynamic recursive references](https://ajv.js.org/guide/combining-schemas.html#extending-recursive-schemas).\nOpenAPI [discriminator](https://ajv.js.org/json-schema.html#discriminator) keyword.\nImproved JSON Type Definition support:\n\n-   errors consistent with JTD specification.\n-   error objects with additional properties to simplify error handling (see [Error objects](https://ajv.js.org/api.html#error-objects))\n-   internationalized error messages with [ajv-i18n](/packages/ajv-i18n)\n    TypeScript: support type unions in [JSONSchemaType](https://ajv.js.org/guide/typescript.html#type-safe-unions)\n\n##### Other changes / improvements\n\nNode.js require works without .default property - see examples in [Getting started](https://ajv.js.org/guide/getting-started.html)\nReduce runtime dependency for [standalone validation code](https://ajv.js.org/standalone.html)\nFix resolution of `$ref: \"#\"` when $id is present ([#&#8203;815](https://togithub.com/ajv-validator/ajv/issues/815))\n\n##### Breaking changes\n\nOption [strict](https://ajv.js.org/options.html#strict) controls all [strict mode](https://ajv.js.org/strict-mode.html) restrictions\nJSON Schema validation errors changes:\n\n-   `dataPath` property replaced with `instancePath`\n-   \"should\" replaced with \"must\" in the messages\n-   property name is removed from \"propertyName\" keyword error message (it is still available in `error.params.propertyName`).\n\n### [`v7.2.4`](https://togithub.com/ajv-validator/ajv/releases/v7.2.4)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.2.3...v7.2.4)\n\nFix [#&#8203;1515](https://togithub.com/ajv-validator/ajv/issues/1515): correctly initialize evaluated properties.\n\n### [`v7.2.3`](https://togithub.com/ajv-validator/ajv/releases/v7.2.3)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.2.2...v7.2.3)\n\nRemove docs from npm package\n\n### [`v7.2.2`](https://togithub.com/ajv-validator/ajv/releases/v7.2.2)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.2.1...v7.2.2)\n\nDocs correction\nSimplified JSONSchemaType ([@&#8203;erikbrinkman](https://togithub.com/erikbrinkman))\nFix [#&#8203;1493](https://togithub.com/ajv-validator/ajv/issues/1493) - incorrect reporting of missing required property with option `ownProperties: true`\nFix [#&#8203;1501](https://togithub.com/ajv-validator/ajv/issues/1501) - JTD not working correctly with many properties in the schema\n\n### [`v7.2.1`](https://togithub.com/ajv-validator/ajv/releases/v7.2.1)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.2.0...v7.2.1)\n\nAdd [tests](https://togithub.com/nst/JSONTestSuite) and fix parsers compiled with `ajv.compileParser` from JTD schemas:\n\n-   fail on invalid JSON:\n    -   trailing comma in arrays/objects\n    -   invalid JSON numbers\n    -   control characters in strings\n-   fix parsing of u-escaped characters\n-   do not fail on duplicate object keys (consistent with JSON.parse)\n\nCompiled parsers are now:\n\n-   consistent with JSON.parse in case of invalid JSON\n-   only parse data that is valid for JTD schema\n\nIt is a breaking change for compiled parsers compared with 7.2.0 that was released earlier on the same day.\n\n### [`v7.2.0`](https://togithub.com/ajv-validator/ajv/releases/v7.2.0)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.1.1...v7.2.0)\n\nstrictRequired option (off by default) - to log or fail if properties used in JSON Schema \"required\" are not defined in \"properties\" ([@&#8203;PBug90](https://togithub.com/PBug90), [#&#8203;1403](https://togithub.com/ajv-validator/ajv/issues/1403))\n\nCompiled parsers (as fast as JSON.parse on valid JSON, but replace validation and fail much faster on invalid JSON) and serializers (10x+ faster than JSON.stringify) from JSON Type Definition schemas ([#&#8203;1454](https://togithub.com/ajv-validator/ajv/issues/1454)) - see examples in [javascript](https://ajv.js.org/guide/getting-started.html#parsing-and-serializing-json) and [typescript](https://ajv.js.org/guide/typescript.html#type-safe-parsers-and-serializers)\n\nPlease note: there are fixes to compiled parsers in [7.2.1](https://togithub.com/ajv-validator/ajv/releases/tag/v7.2.1)\n\nThe website migrated to VuePress and documentation is restructured to make navigating Ajv documentation and learning easier - this is still work in progress, but already some improvement on the information structure. Any feedback/corrections would be very much appreciated!\n\nImproved TypeScript support for JSONSchemaType:\n\n-   JTDSchemaType<T> utility type to convert your data type into the type of JTD schema, to simplify its writing and to make sure it is consistent with your data type, with type inference support for ajv methods ([@&#8203;erikbrinkman](https://togithub.com/erikbrinkman), [#&#8203;1446](https://togithub.com/ajv-validator/ajv/issues/1446), [#&#8203;1456](https://togithub.com/ajv-validator/ajv/issues/1456), [#&#8203;1457](https://togithub.com/ajv-validator/ajv/issues/1457), [#&#8203;1475](https://togithub.com/ajv-validator/ajv/issues/1475)) - see [example here](https://ajv.js.org/guide/typescript.html#utility-types-for-schemas)\n-   Alternatively, you can use JTDDataType<typeof schema> utility type to convert your JTD schema type into the type of data ([@&#8203;erikbrinkman](https://togithub.com/erikbrinkman), [#&#8203;1458](https://togithub.com/ajv-validator/ajv/issues/1458)) - see [this example](https://ajv.js.org/guide/typescript.html#utility-type-for-jtd-data-type)\n\nOther improvements by [@&#8203;Fdawgs](https://togithub.com/Fdawgs) ([#&#8203;1466](https://togithub.com/ajv-validator/ajv/issues/1466)), [@&#8203;t7yang](https://togithub.com/t7yang) ([#&#8203;1472](https://togithub.com/ajv-validator/ajv/issues/1472), [#&#8203;1473](https://togithub.com/ajv-validator/ajv/issues/1473)), [@&#8203;koba04](https://togithub.com/koba04) ([#&#8203;1460](https://togithub.com/ajv-validator/ajv/issues/1460))\n\n### [`v7.1.1`](https://togithub.com/ajv-validator/ajv/releases/v7.1.1)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.1.0...v7.1.1)\n\nSupport readonly arrays with JSONSchemaType ([@&#8203;LinusU](https://togithub.com/LinusU), [#&#8203;1447](https://togithub.com/ajv-validator/ajv/issues/1447))\n\n### [`v7.1.0`](https://togithub.com/ajv-validator/ajv/releases/v7.1.0)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.0.4...v7.1.0)\n\nSupport for JSON Type Definition RFC 8927 - a simple schema language provided as an alternative to JSON Schema.\n\nSee these docs:\n\n-   an [informal document](https://ajv.js.org/json-type-definition.html) on Ajv site\n-   [RFC8927](https://datatracker.ietf.org/doc/rfc8927/)\n-   [choosing schema language](https://ajv.js.org/guide/schema-language.html) - comparison with JSON Schema\n\nAllow \":\" in keyword names ([#&#8203;1421](https://togithub.com/ajv-validator/ajv/issues/1421), [@&#8203;teq0](https://togithub.com/teq0))\n\n### [`v7.0.4`](https://togithub.com/ajv-validator/ajv/releases/v7.0.4)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.0.3...v7.0.4)\n\nFix: duplicate functions in standalone validation code with mutually recursive schemas ([#&#8203;1361](https://togithub.com/ajv-validator/ajv/issues/1361))\nFix: reference resolution when base URI change was not applied ([#&#8203;1414](https://togithub.com/ajv-validator/ajv/issues/1414))\n\n### [`v7.0.3`](https://togithub.com/ajv-validator/ajv/releases/v7.0.3)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.0.2...v7.0.3)\n\nFixes:\n\n-   oneOf error type ([#&#8203;1368](https://togithub.com/ajv-validator/ajv/issues/1368), [@&#8203;G-Rath](https://togithub.com/G-Rath))\n-   remove multiple imports ([rollup/plugins#&#8203;745](https://togithub.com/rollup/plugins/issues/745))\n\nDocs:\n\n-   Using in ES5 ([#&#8203;1364](https://togithub.com/ajv-validator/ajv/issues/1364), [@&#8203;aladdin-add](https://togithub.com/aladdin-add))\n-   Option strictTypes: false has to be used with json-schema-secure schema ([#&#8203;1373](https://togithub.com/ajv-validator/ajv/issues/1373))\n\n### [`v7.0.2`](https://togithub.com/ajv-validator/ajv/releases/v7.0.2)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.0.1...v7.0.2)\n\nRemove duplicate functions from standalone validation code ([#&#8203;1361](https://togithub.com/ajv-validator/ajv/issues/1361))\n\n### [`v7.0.1`](https://togithub.com/ajv-validator/ajv/releases/v7.0.1)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v7.0.0...v7.0.1)\n\nUpdate error message for `maxLength`/`minLength` keywords\n\n### [`v7.0.0`](https://togithub.com/ajv-validator/ajv/releases/v7.0.0)\n\n[Compare Source](https://togithub.com/ajv-validator/ajv/compare/v6.12.6...v7.0.0)\n\nPlease note: this document covers the changes from v6.12.6.\n\n### The main changes\n\n-   support of JSON Schema draft-2019-09 features: [`unevaluatedProperties`](https://togithub.com/ajv-validator/ajv/blob/master/docs/json-schema.md#unevaluatedproperties) and [`unevaluatedItems`](https://togithub.com/ajv-validator/ajv/blob/master/docs/json-schema.md#unevaluateditems), [dynamic recursive references](https://togithub.com/ajv-validator/ajv/blob/master/docs/validation.md#extending-recursive-schemas) and other [additional keywords](https://togithub.com/ajv-validator/ajv/blob/master/docs/json-schema.md#json-schema-draft-2019-09).\n-   comprehensive support for [standalone validation code](https://togithub.com/ajv-validator/ajv/blob/master/docs/standalone.md) - compiling one or multiple schemas to standalone modules with one or multiple exports.\n-   to reduce the mistakes in JSON schemas and unexpected validation results, [strict mode](https://togithub.com/ajv-validator/ajv/blob/master/docs/strict-mode.md) is added - it prohibits ignored or ambiguous JSON Schema elements. See [Strict mode](https://togithub.com/ajv-validator/ajv/blob/master/docs/strict-mode.md) and [Options](https://togithub.com/ajv-validator/ajv/blob/master/docs/api.md) for more details\n-   to make code injection from untrusted schemas impossible, [code generation](https://togithub.com/ajv-validator/ajv/blob/master/docs/codegen.md) is fully re-written to be type-level safe against code injection.\n-   to simplify Ajv extensions, the new keyword API that is used by pre-defined keywords is available to user-defined keywords - it is much easier to define any keywords now, especially with subschemas.\n-   schemas are compiled to ES6 code (ES5 code generation is supported with an option).\n-   to improve reliability and maintainability the code is migrated to TypeScript.\n-   separate Ajv classes from draft-07 and draft-2019-09 support with different default imports (see [Getting started](https://togithub.com/ajv-validator/ajv#usage) or [v7.0.0-beta.5](https://togithub.com/ajv-validator/ajv/releases/tag/v7.0.0-beta.5) for the details).\n\n**Please note**:\n\n-   the support for JSON-Schema draft-04 is removed - if you have schemas using \"id\" attributes you have to replace them with \"\\\\$id\" (or continue using version 6 that will be supported until 02/28/2021).\n-   all formats are separated to [ajv-formats](https://togithub.com/ajv-validator/ajv-formats) package - they have to be explicitly added if you use them.\n-   Ajv instance can only be created with `new` keyword, as Ajv is now ES6 class.\n-   browser bundles are automatically published to ajv-dist package (but still available on cdnjs.com).\n-   order of schema keyword validation changed - keywords that apply to all types (allOf etc.) are now validated first, before the keywords that apply to specific data types. You can still define custom keywords that apply to all types AND are validated after type-specific keywords using option `post: true` in keyword definition.\n-   regular expressions in keywords \"pattern\" and \"patternProperties\" are now used as if they had unicode \"u\" flag, as required by JSON Schema specification - it means that some regular expressions that were valid with Ajv v6 are now invalid (and vice versa).\n\n#### Better TypeScript support:\n\n-   Methods `compile` and `compileAsync` now return type-guards - see [Getting started](https://togithub.com/ajv-validator/ajv/tree/master#usage).\n-   Method `validate` is a type-guard.\n-   Better separation of asynchronous schemas on type level.\n-   Type utility JSONSchemaType<T> that generates the type for JSON Schema for type interface in the type parameter - it simplifies writing schemas (no unions support at the moment).\n\n#### API changes:\n\n-   addVocabulary - NEW method that allows to add an array of keyword definitions.\n-   addKeyword - keyword name should be passed as property in definition object, not as the first parameter (old API works with \"deprecated\" warning). Also \"inline\" keywords support is removed, code generation keywords can now be defined with \"code\" keyword - the same definition format that is used by all pre-defined keywords\n-   Ajv no longer allows to create the instance without `new` keyword (it is ES6 class). \n\n##### Added options (and defaults):\n\n-   strict: true - strict mode\n-   strictTypes: \"log\" - prevent mistakes related to type keywords and keyword applicability (see [Strict Types](https://togithub.com/ajv-validator/ajv/blob/master/docs/strict-mode.md#strict-types))\n-   strictTuples: \"log\" - prevent incomplete tuple schemas (see [Prohibit unconstrained tuples](https://togithub.com/ajv-validator/ajv/blob/master/docs/strict-mode.md#prohibit-unconstrained-tuples))\n-   allowUnionTypes: false - allow multiple non-null types in \"type\" keyword\n-   allowMatchingProperties: false - allow overlap between \"properties\" and \"patternProperties\" keywords\n-   loopEnum: Infinity - optimise validation of enums, similar to `loopRequired`\n-   validateFormats: true - enable format validation\n-   code: {optimize: number|boolean} - control [code optimisation](https://togithub.com/ajv-validator/ajv/blob/master/docs/codegen.md#code-optimization)\n-   code: {es5: true} - generate ES5 code, the default is to generate ES6 code.\n-   code: {lines: true} - add line breaks to generated code - simplifies debugging of compiled schemas when you need it\n\n##### Changed options:\n\n-   `keywords` - now expects the array of keyword definitions (old API works with \"deprecated\" warning)\n\n##### Removed options:\n\n-   errorDataPath - was deprecated, now removed.\n-   format - `validateFormats: false` can be used instead, old format mode can be chosen via ajv-formats package.\n-   nullable: `nullable` keyword is supported by default.\n-   jsonPointers: JSONPointers are used to report errors by default, `jsPropertySyntax: true` (deprecated) can be used if old format is needed.\n-   extendRefs: $ref siblings are validated by default (consistent with draft 2019-09), `ignoreKeywordsWithRef` (deprecated) can be used instead to ignore $ref siblings.\n-   missingRefs: now exception is always thrown. Pass empty schema with $id that should be ignored to ajv.addSchema.\n-   processCode: replaced with `code: {process: (code, schemaEnv: object) => string}`.\n-   sourceCode: replaced with `code: {source: true}`.\n-   schemaId: removed, as JSON Schema draft-04 is no longer supported.\n-   strictDefaults, strictKeywords, strictNumbers: it is default now, controlled with `strict`.\n-   uniqueItems: '\"uniqueItems\" keyword is always validated.\n-   unknownFormats: the same can be achieved by passing true for formats that need to be ignored via `ajv.addFormat` or `formats` option.\n-   cache and serialize: Map is used as cache, schema object as key.\n\n</details>\n\n---\n\n### Configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about these updates again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/20496","RelatedDescription":"Closed or merged PR \"build: update ajv to version 8.1.0\" (#20496)"},{"Id":"855359892","IsPullRequest":true,"CreatedAt":"2021-04-11T21:23:09","Actor":"renovate[bot]","Number":"20495","RawContent":null,"Title":"build: update postcss to version 8.2.10","State":"closed","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [postcss](https://postcss.org/) ([source](https://togithub.com/postcss/postcss)) | [`8.2.9` -> `8.2.10`](https://renovatebot.com/diffs/npm/postcss/8.2.9/8.2.10) | [![age](https://badges.renovateapi.com/packages/npm/postcss/8.2.10/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/postcss/8.2.10/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/postcss/8.2.10/compatibility-slim/8.2.9)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/postcss/8.2.10/confidence-slim/8.2.9)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>postcss/postcss</summary>\n\n### [`v8.2.10`](https://togithub.com/postcss/postcss/blob/master/CHANGELOG.md#&#8203;8210)\n\n[Compare Source](https://togithub.com/postcss/postcss/compare/8.2.9...8.2.10)\n\n-   Fixed ReDoS vulnerabilities in source map parsing.\n-   Fixed webpack 5 support (by Barak Igal).\n-   Fixed docs (by Roeland Moors).\n\n</details>\n\n---\n\n### Configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about these updates again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/20495","RelatedDescription":"Closed or merged PR \"build: update postcss to version 8.2.10\" (#20495)"},{"Id":"855092101","IsPullRequest":true,"CreatedAt":"2021-04-11T15:27:44","Actor":"renovate[bot]","Number":"20492","RawContent":null,"Title":"build: update jasmine-spec-reporter to version 7.0.0","State":"closed","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [jasmine-spec-reporter](https://togithub.com/bcaudan/jasmine-spec-reporter) | [`~6.0.0` -> `~7.0.0`](https://renovatebot.com/diffs/npm/jasmine-spec-reporter/6.0.0/7.0.0) | [![age](https://badges.renovateapi.com/packages/npm/jasmine-spec-reporter/7.0.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/jasmine-spec-reporter/7.0.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/jasmine-spec-reporter/7.0.0/compatibility-slim/6.0.0)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/jasmine-spec-reporter/7.0.0/confidence-slim/6.0.0)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>bcaudan/jasmine-spec-reporter</summary>\n\n### [`v7.0.0`](https://togithub.com/bcaudan/jasmine-spec-reporter/blob/master/CHANGELOG.md#&#8203;700)\n\n[Compare Source](https://togithub.com/bcaudan/jasmine-spec-reporter/compare/v6.0.0...v7.0.0)\n\n#### Bugfix\n\n-   'SpecReporter' is not assignable to type 'Reporter | CustomReporter' [#&#8203;588](https://togithub.com/bcaudan/jasmine-spec-reporter/pull/588)\n\n#### Breaking change\n\nUpdate signature of `CustomReporterResult` to fix collision with new jasmine properties\n\n**Before:**\n\n```ts\nexport interface CustomReporterResult extends jasmine.CustomReporterResult {\n  duration?: string\n}\n```\n\n**Now:**\n\n```ts\nexport interface CustomReporterResult extends jasmine.CustomReporterResult {\n  _jsr?: {\n    formattedDuration?: string\n  }\n}\n```\n\n</details>\n\n---\n\n### Configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/20492","RelatedDescription":"Closed or merged PR \"build: update jasmine-spec-reporter to version 7.0.0\" (#20492)"},{"Id":"855308114","IsPullRequest":true,"CreatedAt":"2021-04-11T15:27:33","Actor":"alan-agius4","Number":"20494","RawContent":null,"Title":"test: remove webpack 5 e2e test","State":"closed","Body":"This is no longer needed since all tests use Webpack 5.","Url":"https://github.com/angular/angular-cli/pull/20494","RelatedDescription":"Closed or merged PR \"test: remove webpack 5 e2e test\" (#20494)"},{"Id":"855208285","IsPullRequest":true,"CreatedAt":"2021-04-11T12:35:15","Actor":"renovate[bot]","Number":"20493","RawContent":null,"Title":"build: update license-webpack-plugin to version 2.3.17","State":"closed","Body":"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [license-webpack-plugin](https://togithub.com/xz64/license-webpack-plugin) | [`2.3.16` -> `2.3.17`](https://renovatebot.com/diffs/npm/license-webpack-plugin/2.3.16/2.3.17) | [![age](https://badges.renovateapi.com/packages/npm/license-webpack-plugin/2.3.17/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/license-webpack-plugin/2.3.17/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/license-webpack-plugin/2.3.17/compatibility-slim/2.3.16)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/license-webpack-plugin/2.3.17/confidence-slim/2.3.16)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>xz64/license-webpack-plugin</summary>\n\n### [`v2.3.17`](https://togithub.com/xz64/license-webpack-plugin/blob/master/CHANGELOG.md#&#8203;2317---2021-04-10)\n\n[Compare Source](https://togithub.com/xz64/license-webpack-plugin/compare/v2.3.16...v2.3.17)\n\n##### Changed\n\n-   Performance improvements in large repos\n\n</details>\n\n---\n\n### Configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/20493","RelatedDescription":"Closed or merged PR \"build: update license-webpack-plugin to version 2.3.17\" (#20493)"}],"ResultType":"GitHubIssue"},"material2-Issues":{"Issues":[{"Id":"856683941","IsPullRequest":false,"CreatedAt":"2021-04-13T22:44:45","Actor":"aleixsuau","Number":"22469","RawContent":null,"Title":"cdkTextareaAutosize throws when ng-content has *ngIf","State":"closed","Body":"#### Reproduction\r\n\r\n[StackBlitz example](https://stackblitz.com/edit/cdktextareaautosize-bug-can-not-read-appendchild)\r\n\r\nSteps to reproduce:\r\n1. Create a textarea with the cdkTextareaAutosize directive.\r\n2. Create a wrapper component with a *ngIf for the projected content ```<ng-content *ngIf=\"true\"></ng-content>```. It also happens with *ngTemplateOutlet, so probably it happens with any structural directive.\r\n3. Wrap the textarea with the wrapper component ```<app-wrapper><textarea cdkTextareaAutosize></textarea></app-wrapper>```.\r\n \r\n \r\n#### Expected Behavior\r\n\r\nWhat behavior were you expecting to see?\r\nIt should project the textarea input into the wrapper ng-content tag and show it when *ngIf evaluates to true.\r\n\r\n\r\n#### Actual Behavior\r\n\r\nWhat behavior did you actually see?\r\nIt throws: ```ERROR TypeError: Cannot read property 'appendChild' of null...```\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: Last\r\n- CDK/Material: Last\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Mac\r\n","Url":"https://github.com/angular/components/issues/22469","RelatedDescription":"Closed issue \"cdkTextareaAutosize throws when ng-content has *ngIf\" (#22469)"},{"Id":"857366707","IsPullRequest":false,"CreatedAt":"2021-04-13T22:26:37","Actor":"jelbourn","Number":"22475","RawContent":null,"Title":"HarnessPredicate doesn't correctly apply ancestor selectors to compound component selectors ","State":"open","Body":"_Note(@jelbourn): Copied from an internal bug report_\r\n\r\nHarnessPredicate.getSelector returns the wrong result in certain cases. E.g., MatButtonHarness and other CDK harnesses are defined as matching one of several possible selectors:\r\n\r\n```\r\n  static hostSelector = [\r\n    '[mat-button]',\r\n    '[mat-raised-button]',\r\n    '[mat-flat-button]',\r\n    '[mat-icon-button]',\r\n    '[mat-stroked-button]',\r\n    '[mat-fab]',\r\n    '[mat-mini-fab]',\r\n  ].join(',');\r\n```\r\n\r\nI would expect `getHarness(MatButtonHarness.with({ancestor: '.foo'}))` to always find a MatButton that has a '.foo' ancestor. However, the current implementation of https://source.corp.google.com/search?q=HarnessPredicate.getSelector returns:\r\n\r\n```\r\n.foo [mat-button],[mat-raised-button],[mat-flat-button],[mat-icon-button],[mat-stroked-button],[mat-fab],[mat-mini-fab]\r\n```\r\n\r\nwhich only applies the ancestor constraint to the first possibility.","Url":"https://github.com/angular/components/issues/22475","RelatedDescription":"Open issue \"HarnessPredicate doesn't correctly apply ancestor selectors to compound component selectors \" (#22475)"},{"Id":"857318372","IsPullRequest":true,"CreatedAt":"2021-04-13T21:00:34","Actor":"wagnermaciel","Number":"22474","RawContent":null,"Title":"test(material-experimental/mdc-slider): add ngModel unit tests","State":"open","Body":"","Url":"https://github.com/angular/components/pull/22474","RelatedDescription":"Open PR \"test(material-experimental/mdc-slider): add ngModel unit tests\" (#22474)"},{"Id":"857018041","IsPullRequest":true,"CreatedAt":"2021-04-13T19:36:26","Actor":"wagnermaciel","Number":"22470","RawContent":null,"Title":"test(material-experimental/mdc-slider): add two-way binding unit tests","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/22470","RelatedDescription":"Closed or merged PR \"test(material-experimental/mdc-slider): add two-way binding unit tests\" (#22470)"},{"Id":"857177372","IsPullRequest":true,"CreatedAt":"2021-04-13T17:38:24","Actor":"crisbeto","Number":"22473","RawContent":null,"Title":"build: clean up leftover debug log","State":"closed","Body":"I left an `@debug` by accident and now it's spamming the logs.","Url":"https://github.com/angular/components/pull/22473","RelatedDescription":"Closed or merged PR \"build: clean up leftover debug log\" (#22473)"},{"Id":"855043755","IsPullRequest":false,"CreatedAt":"2021-04-13T17:15:05","Actor":"bgotink","Number":"22450","RawContent":null,"Title":"bug(cdk): @angular/cdk requires rxjs without listing it in (peer)dependencies","State":"closed","Body":"#### Reproduction\r\n\r\nUse a package manager that handles peer dependencies strictly (yarn 2 with PnP) and try to use `@angular/cdk/testing`.\r\n\r\nMinimal repro:\r\n\r\n```bash\r\ncd $(mktemp -d)\r\nyarn init -2\r\necho '{\"workspaces\": [\"project\"]}' > package.json\r\nmkdir project && cd project\r\necho '{}' > package.json\r\nyarn add @angular/cdk@11 @angular/core@11 @angular/common@11 rxjs@6 zone.js@~0.10.3\r\nyarn node -p 'require(\"@angular/cdk/testing\")'\r\n```\r\n \r\n#### Expected Behavior\r\n\r\nAn object gets printed\r\n\r\n```\r\n{\r\n  TestKey: {\r\n    '0': 'BACKSPACE',\r\n    '1': 'TAB',\r\n    '2': 'ENTER',\r\n    '3': 'SHIFT',\r\n    '4': 'CONTROL',\r\n    ...\r\n    F12: 28,\r\n    META: 29\r\n  },\r\n  ComponentHarness: [Function: ComponentHarness],\r\n  ContentContainerComponentHarness: [Function: ContentContainerComponentHarness],\r\n  HarnessEnvironment: [Function: HarnessEnvironment],\r\n  HarnessPredicate: [Function: HarnessPredicate] { stringMatches: [Function (anonymous)] },\r\n  _getTextWithExcludedElements: [Function: _getTextWithExcludedElements],\r\n  handleAutoChangeDetectionStatus: [Function: handleAutoChangeDetectionStatus],\r\n  manualChangeDetection: [Function: manualChangeDetection],\r\n  parallel: [Function: parallel],\r\n  stopHandlingAutoChangeDetectionStatus: [Function: stopHandlingAutoChangeDetectionStatus]\r\n}\r\n```\r\n\r\n#### Actual Behavior\r\n\r\nAn error gets printed\r\n\r\n```\r\nError: @angular/cdk tried to access rxjs, but it isn't declared in its dependencies; this makes the require call ambiguous and unsound.\r\n\r\nRequired package: rxjs (via \"rxjs\")\r\nRequired by: @angular/cdk@virtual:b6421f60d5554bb3fd6c8ab41f847d22374d9ebd9675b37d59cf9a20427e0d31b12efcd29150d01808b17913cfab4fcf4fb64ff3a4c15d1463221b4db2072828#npm:11.2.8 (via /private/var/folders/_d/ch2kc4h960d10cy_2c41qqzw0000gn/T/tmp.uy2FUYlfVk/.yarn/$$virtual/@angular-cdk-virtual-fd272f1981/0/cache/@angular-cdk-npm-11.2.8-0c9b5ec3cf-6c6c99e2d4.zip/node_modules/@angular/cdk/bundles/)\r\n\r\nRequire stack:\r\n- /private/var/folders/_d/ch2kc4h960d10cy_2c41qqzw0000gn/T/tmp.uy2FUYlfVk/.yarn/$$virtual/@angular-cdk-virtual-fd272f1981/0/cache/@angular-cdk-npm-11.2.8-0c9b5ec3cf-6c6c99e2d4.zip/node_modules/@angular/cdk/bundles/cdk-testing.umd.js\r\n- /private/var/folders/_d/ch2kc4h960d10cy_2c41qqzw0000gn/T/tmp.uy2FUYlfVk/project/[eval]\r\n    at internalTools_makeError (/private/var/folders/_d/ch2kc4h960d10cy_2c41qqzw0000gn/T/tmp.uy2FUYlfVk/.pnp.js:4935:34)\r\n    at resolveToUnqualified (/private/var/folders/_d/ch2kc4h960d10cy_2c41qqzw0000gn/T/tmp.uy2FUYlfVk/.pnp.js:5900:23)\r\n    at resolveRequest (/private/var/folders/_d/ch2kc4h960d10cy_2c41qqzw0000gn/T/tmp.uy2FUYlfVk/.pnp.js:5992:29)\r\n    at Object.resolveRequest (/private/var/folders/_d/ch2kc4h960d10cy_2c41qqzw0000gn/T/tmp.uy2FUYlfVk/.pnp.js:6070:26)\r\n    at Function.external_module_.Module._resolveFilename (/private/var/folders/_d/ch2kc4h960d10cy_2c41qqzw0000gn/T/tmp.uy2FUYlfVk/.pnp.js:5168:34)\r\n    at Function.external_module_.Module._load (/private/var/folders/_d/ch2kc4h960d10cy_2c41qqzw0000gn/T/tmp.uy2FUYlfVk/.pnp.js:5033:48)\r\n    at Module.require (internal/modules/cjs/loader.js:952:19)\r\n    at require (internal/modules/cjs/helpers.js:88:18)\r\n    at /private/var/folders/_d/ch2kc4h960d10cy_2c41qqzw0000gn/T/tmp.uy2FUYlfVk/.yarn/$$virtual/@angular-cdk-virtual-fd272f1981/0/cache/@angular-cdk-npm-11.2.8-0c9b5ec3cf-6c6c99e2d4.zip/node_modules/@angular/cdk/bundles/cdk-testing.umd.js:2:85\r\n    at Object.<anonymous> (/private/var/folders/_d/ch2kc4h960d10cy_2c41qqzw0000gn/T/tmp.uy2FUYlfVk/.yarn/$$virtual/@angular-cdk-virtual-fd272f1981/0/cache/@angular-cdk-npm-11.2.8-0c9b5ec3cf-6c6c99e2d4.zip/node_modules/@angular/cdk/bundles/cdk-testing.umd.js:5:2)\r\n```\r\n\r\n#### Environment\r\n\r\n- Angular: 11\r\n- CDK/Material: 11\r\n- Browser(s): n/a\r\n- Operating System (e.g. Windows, macOS, Ubuntu): n/a\r\n","Url":"https://github.com/angular/components/issues/22450","RelatedDescription":"Closed issue \"bug(cdk): @angular/cdk requires rxjs without listing it in (peer)dependencies\" (#22450)"},{"Id":"857085900","IsPullRequest":true,"CreatedAt":"2021-04-13T17:11:57","Actor":"crisbeto","Number":"22471","RawContent":null,"Title":"build: add peer dependency to rxjs","State":"closed","Body":"Adds a peer dependency to `rxjs` to all packages since not having it can mess with Yarn 2's PnP feature.","Url":"https://github.com/angular/components/pull/22471","RelatedDescription":"Closed or merged PR \"build: add peer dependency to rxjs\" (#22471)"},{"Id":"855923430","IsPullRequest":true,"CreatedAt":"2021-04-13T17:11:43","Actor":"bgotink","Number":"22460","RawContent":null,"Title":"fix(cdk/testing): prevent duplicate subscription","State":"closed","Body":"If the actual subscription provided by the environment comes after the first batched function call, the default function is installed and without this change it'll stay installed forever, even if another handler is installed afterwards.\r\n\r\nI looked for a location to add a test for this, but I don't think it's currently possible to test this. The only harness environment in this repo that supports the change detection status is the TestBed variant, and that environment registers its change detection status handler eagerly.","Url":"https://github.com/angular/components/pull/22460","RelatedDescription":"Closed or merged PR \"fix(cdk/testing): prevent duplicate subscription\" (#22460)"},{"Id":"857087688","IsPullRequest":true,"CreatedAt":"2021-04-13T15:40:02","Actor":"devversion","Number":"22472","RawContent":null,"Title":"build: update rules_nodejs and update to NodeJS v14","State":"open","Body":"**build: update to rules_nodejs v3.3.0**\r\nUpdates to the latest version of `rules_nodejs` that supports\r\nthe most recent NodeJS lts version v14.16.1.\r\n\r\nAdditionally the latest version of `rules_nodejs` provides\r\n[a package for runfile resolution](https://github.com/bazelbuild/rules_nodejs/pull/2568) w/ types that we can leverage.\r\n\r\n**build: update to nodejs v14**\r\n\r\nNodeJS v14 is currently in LTS and we should switch as the\r\nAngular framework/dev-infra also updates to Node V14.\r\n","Url":"https://github.com/angular/components/pull/22472","RelatedDescription":"Open PR \"build: update rules_nodejs and update to NodeJS v14\" (#22472)"},{"Id":"856472210","IsPullRequest":true,"CreatedAt":"2021-04-13T00:59:57","Actor":"jelbourn","Number":"22468","RawContent":null,"Title":"docs(cdk/a11y): update Sass docs for new theming API","State":"open","Body":"This change updates the Sass documentation for cdk/a11y to reflect the\r\nnew `@use`-based API. Additionally, it adds documentation for the\r\nparameters to `cdk.high-contrast`.","Url":"https://github.com/angular/components/pull/22468","RelatedDescription":"Open PR \"docs(cdk/a11y): update Sass docs for new theming API\" (#22468)"},{"Id":"856452378","IsPullRequest":true,"CreatedAt":"2021-04-13T00:16:28","Actor":"jelbourn","Number":"22467","RawContent":null,"Title":"docs(material/theming): rewrite elevation guide","State":"open","Body":"This change updates the elevation guide to be more clear, concise, and\r\ncomplete. The changes include:\r\n* Drop content about the general concept of elevation, deferring that to\r\n  the Material Design spec.\r\n* Document the `overridable-elevation` mixin\r\n* Mention that the elevation CSS classes are emitted by `core-theme`.\r\n* Switch to `@use`","Url":"https://github.com/angular/components/pull/22467","RelatedDescription":"Open PR \"docs(material/theming): rewrite elevation guide\" (#22467)"},{"Id":"856426328","IsPullRequest":true,"CreatedAt":"2021-04-12T23:11:07","Actor":"jelbourn","Number":"22466","RawContent":null,"Title":"docs(material/theming): revise customizing-component-styles","State":"open","Body":"This change updates the customizing-component-styles doc to give more\r\nspecific guidance on overriding component styles. In particular:\r\n* Much stronger language to make it clear that this is not supported or\r\n  recommended.\r\n* Reorganize content such that topics have a bit more cohesion/flow\r\n* Call out that layout/positioning styles on host elements are the only\r\n  safe styles to apply.\r\n* Emphasize the perils of overrides in general","Url":"https://github.com/angular/components/pull/22466","RelatedDescription":"Open PR \"docs(material/theming): revise customizing-component-styles\" (#22466)"},{"Id":"856253979","IsPullRequest":true,"CreatedAt":"2021-04-12T21:30:00","Actor":"wagnermaciel","Number":"22463","RawContent":null,"Title":"test(material-experimental/mdc-slider): create e2e tests","State":"closed","Body":"* create basic tests for standard, disabled, and range sliders","Url":"https://github.com/angular/components/pull/22463","RelatedDescription":"Closed or merged PR \"test(material-experimental/mdc-slider): create e2e tests\" (#22463)"},{"Id":"856319439","IsPullRequest":true,"CreatedAt":"2021-04-12T20:05:58","Actor":"jelbourn","Number":"22465","RawContent":null,"Title":"docs(material/theming): rewrite theming-your-components guide","State":"open","Body":"This change completely rewrites the theming-your-components guide to be\r\nmore complete, correct, and concise.\r\n\r\nSummary of changes:\r\n* Start document with some explanatory content before diving into\r\n  step-by-step tutorial.\r\n* Use new Sass `@use` API introduced in #22173\r\n* Document (and expose) `get-color-config` and `get-typography-config`","Url":"https://github.com/angular/components/pull/22465","RelatedDescription":"Open PR \"docs(material/theming): rewrite theming-your-components guide\" (#22465)"},{"Id":"856222389","IsPullRequest":true,"CreatedAt":"2021-04-12T19:56:23","Actor":"crisbeto","Number":"22462","RawContent":null,"Title":"build: fix stylelint failure","State":"closed","Body":"Fixes a lint failure in one of the Sass files.","Url":"https://github.com/angular/components/pull/22462","RelatedDescription":"Closed or merged PR \"build: fix stylelint failure\" (#22462)"},{"Id":"856256063","IsPullRequest":false,"CreatedAt":"2021-04-12T18:49:37","Actor":"kiwidude68","Number":"22464","RawContent":null,"Title":"bug(cdk) Replacing datasource does not refresh/display items in cdk-virtual-scrollport","State":"open","Body":"**Overview**\r\n\r\nThe first time you assign a datasource for iteration within the cdk-virtual-scrollport, all works as expected, as per the documentation example of displaying the first page of items. See \"Virtual scroll with a custom data source\" on https://material.angular.io/cdk/scrolling/examples\r\n\r\nThe bug however is if you subsequently try to assign a new instance of a datasource object to the same scroller. You will find that the scrollport will not request/display the first page of items from that new datasource **until the user scrolls the visible area**. \r\n\r\n**Motivation/Use Case**\r\nIn the real-world our virtual data can require some sort of user driven filtering, like a search screen. Which will require a complete replacement of all the underlying/cached data in the scroller with fresh results. This is ideally achieved by replacing the datasource when the user triggers the search.\r\n\r\n**Expected Behavior**\r\nScroller should reset itself automatically when given a new datasource and request the first page of rows in exactly the same way it does when it was assigned the first datasource.\r\n\r\n**Actual Behavior**\r\nCollectionViewer does not fire an event to the subscription in connect() until it has a range that differs.\r\n\r\n**Minimal repro:**\r\nSee https://stackblitz.com/edit/angular-fs9xei-rgkahy?file=src%2Fapp%2Fcdk-virtual-scroll-data-source-example.ts\r\n\r\nRun the sample, initial list items will appear. Click on the \"Switch datasource button\", and you will see the items in the list stuck with saying \"loading...\" indefinitely. You have to scroll before the datasource actually gets asked for data to be able to be displayed.\r\n\r\n**Environment**\r\nAngular: 11\r\nCDK/Material: 11\r\nBrowser(s): n/a\r\nOperating System (e.g. Windows, macOS, Ubuntu): n/a","Url":"https://github.com/angular/components/issues/22464","RelatedDescription":"Open issue \"bug(cdk) Replacing datasource does not refresh/display items in cdk-virtual-scrollport\" (#22464)"},{"Id":"855298149","IsPullRequest":true,"CreatedAt":"2021-04-12T17:13:36","Actor":"crisbeto","Number":"22454","RawContent":null,"Title":"build: add lint rule for unused Sass imports","State":"closed","Body":"Since all the imports are namespaced now, it's trivial to figure out whether they're being used. These changes add a custom lint rule and fix all of the failures.","Url":"https://github.com/angular/components/pull/22454","RelatedDescription":"Closed or merged PR \"build: add lint rule for unused Sass imports\" (#22454)"},{"Id":"855747257","IsPullRequest":true,"CreatedAt":"2021-04-12T17:13:27","Actor":"alan-agius4","Number":"22459","RawContent":null,"Title":"refactor: update `$schema` and `id` keyword","State":"closed","Body":"In Angular CLI version 12, JSON Schema `draft-04` will no longer be supported. Therefore `id` will need to be updated to `$id`.\r\n\r\n- We replace id with $id, this no longer valid in draft-07.\r\n- Replace all $schemas to http://json-schema.org/draft-07/schema, this is needed to \"pin\" the schema to draft-07.\r\n\r\nMore information about this draft can be found https://json-schema.org/draft-07/json-schema-release-notes.html\r\n\r\nNote: This change is backwards compatible.","Url":"https://github.com/angular/components/pull/22459","RelatedDescription":"Closed or merged PR \"refactor: update `$schema` and `id` keyword\" (#22459)"},{"Id":"855937817","IsPullRequest":false,"CreatedAt":"2021-04-12T17:01:17","Actor":"IngoManthey","Number":"22461","RawContent":null,"Title":"bug(COMPONENT): How do I get the new position of a map marker in the mapDragend event?","State":"closed","Body":"`<map-marker *ngIf = \"marker\"\r\n    #markerElem\r\n    [position]=\"marker.position\"\r\n    [label]=\"marker.label\"\r\n    [title]=\"marker.title\"\r\n    [options]=\"marker.options\"\r\n    (mapDragend)=\"mapDragend(markerElem)\"\r\n  >\r\n  </map-marker>`\r\n\r\n`mapDragend(marker: MapMarker) {\r\n    const position = marker.getPosition();\r\n    this.canSave = this.setData(position.lat(), position.lng());\r\n  }`\r\n\r\nHiere I get the error marker.getPosition is not a function. What  can I do??\r\n\r\nRegards Ingo\r\n","Url":"https://github.com/angular/components/issues/22461","RelatedDescription":"Closed issue \"bug(COMPONENT): How do I get the new position of a map marker in the mapDragend event?\" (#22461)"},{"Id":"855411624","IsPullRequest":false,"CreatedAt":"2021-04-12T16:37:40","Actor":"YehudahA","Number":"22457","RawContent":null,"Title":"bug(mat-autocomplete): Using displayWith directive cause problem in input display","State":"closed","Body":"#### Reproduction\r\n\r\nhttps://stackblitz.com/edit/matautocomplete-bug\r\n\r\nThis sample project is based on the [official demo](https://stackblitz.com/angular/gjvbjoypnqpx), with simple button to set the value of the ```FormControl```, using ```formControl.setValue``` method.\r\n \r\n ``` ts\r\n    setValue(value: string){\r\n      this.myControl.setValue(value);\r\n   }\r\n ``` \r\n\r\n#### Expected Behavior\r\n\r\nWhen I set the value of the FormControl, the input element should show the value.\r\n\r\n#### Actual Behavior\r\n\r\nThe input is Empty.\r\n\r\n### Remarks\r\n\r\nThe problem accour when the ```autocomplete``` source is a list are objects, and the ```autocomplete```  uses ```[displayWith]``` to display the value.\r\nIf a change the source to string, it works well.\r\n \r\n#### Environment\r\n\r\n- Angular:\r\n- CDK & Material: 11.\r\n- Browser: Chrome.","Url":"https://github.com/angular/components/issues/22457","RelatedDescription":"Closed issue \"bug(mat-autocomplete): Using displayWith directive cause problem in input display\" (#22457)"},{"Id":"855623388","IsPullRequest":true,"CreatedAt":"2021-04-12T06:57:59","Actor":"laiseng","Number":"22458","RawContent":null,"Title":"fix(cdk/drag-drop): element not draggable when has initial transform ‚Ä¶","State":"open","Body":"existing cdkDrag will concat current transform value with what's calculated by cdkDrag. \r\ncdkDrag broken when initial transform value is none because `transform: none` is valid css but `transform: none translate3d(x, y, x)` is not.\r\n\r\ni've added test cases to test cdkDrag that has initial `transform: none` value","Url":"https://github.com/angular/components/pull/22458","RelatedDescription":"Open PR \"fix(cdk/drag-drop): element not draggable when has initial transform ‚Ä¶\" (#22458)"},{"Id":"855358361","IsPullRequest":true,"CreatedAt":"2021-04-12T06:43:30","Actor":"laiseng","Number":"22456","RawContent":null,"Title":"fix(cdk/drag-drop): drag broken when initial transform value is none","State":"closed","Body":"This PR fixes the broken cdkDrag when the initial css transform value is none. This is because, it tries to preserve existing transform value and concatenate its own translate3d() value on top of existing one. `none translated(x, y)` is invalid css value. \r\n\r\n","Url":"https://github.com/angular/components/pull/22456","RelatedDescription":"Closed or merged PR \"fix(cdk/drag-drop): drag broken when initial transform value is none\" (#22456)"},{"Id":"855346471","IsPullRequest":false,"CreatedAt":"2021-04-11T17:02:39","Actor":"TimotheDavid","Number":"22455","RawContent":null,"Title":"bug ( material/menu) : nested menunot ok ","State":"closed","Body":"#### Reproduction\r\n\r\nUse StackBlitz to reproduce your issue: \r\n- Components: https://components-issue-1qivbw.stackblitz.io\r\n\r\n\r\nSteps to reproduce:\r\n1. use a button  mat menu \r\n2. create another div just behind \r\n3. click on the button  : the nested part should be under the div \r\n2. \r\n \r\n \r\n#### Expected Behavior\r\n\r\nWhat behavior were you expecting to see?\r\n\r\nhave the nested menu just under the button \r\n\r\n#### Actual Behavior\r\n\r\nWhat behavior did you actually see?\r\n\r\nnested button under another div ( all the div )\r\n\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 11.2.7\r\n- CDK/Material:  1.2.7\r\n- Browser(s): brave \r\n- Operating System (e.g. Windows, macOS, Ubuntu): ubuntu 20.1\r\n","Url":"https://github.com/angular/components/issues/22455","RelatedDescription":"Closed issue \"bug ( material/menu) : nested menunot ok \" (#22455)"},{"Id":"855191229","IsPullRequest":false,"CreatedAt":"2021-04-11T06:28:36","Actor":"bobbyoz","Number":"22452","RawContent":null,"Title":"Report ","State":"closed","Body":"Recorded personal,  By. Robert Ozuna, : currently actively assertive \n","Url":"https://github.com/angular/components/issues/22452","RelatedDescription":"Closed issue \"Report \" (#22452)"},{"Id":"855194957","IsPullRequest":false,"CreatedAt":"2021-04-11T01:31:56","Actor":"DibyodyutiMondal","Number":"22453","RawContent":null,"Title":"bug(MatSelect): Cannot clear the value of mat-select when [multiple] is specified","State":"open","Body":"#### Reproduction\r\n\r\nhttps://stackblitz.com/edit/angular-ivy-taikja \r\n \r\n#### Expected Behavior\r\nThe documentation at https://material.angular.io/components/select/overview#resetting-the-select-value says\r\n\r\n> If you want one of your options to reset the select's value, you can omit specifying its value.\r\n\r\n\r\n#### Actual Behavior\r\n\r\nWhen the `multiple` attribute is specified, clicking on the option without a specified value inserts `null` or `undefined` into the array of values instead of clearing it\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 11.2.9\r\n- CDK/Material: 11.2.8\r\n- Browser(s): Edge (but I assume it'll be the same in Chrome, since the bug comes from the component logic, not template/style)\r\n- Operating System (e.g. Windows, macOS, Ubuntu):  Windows\r\n","Url":"https://github.com/angular/components/issues/22453","RelatedDescription":"Open issue \"bug(MatSelect): Cannot clear the value of mat-select when [multiple] is specified\" (#22453)"},{"Id":"855062579","IsPullRequest":true,"CreatedAt":"2021-04-10T12:59:39","Actor":"crisbeto","Number":"22451","RawContent":null,"Title":"refactor(material-experimental/mdc-table): de-duplicate test harness logic","State":"open","Body":"The logic for all the MDC table harnesses was identical. These changes pull it out into base classes in order to avoid repeating it.","Url":"https://github.com/angular/components/pull/22451","RelatedDescription":"Open PR \"refactor(material-experimental/mdc-table): de-duplicate test harness logic\" (#22451)"},{"Id":"855032535","IsPullRequest":true,"CreatedAt":"2021-04-10T10:10:27","Actor":"crisbeto","Number":"22449","RawContent":null,"Title":"refactor(material-experimental/mdc-button): reorganize styles and expose all themes","State":"open","Body":"When I was setting up the new theming API for MDC, I assumed that the button theme would include the icon button and fab themes as well, but that's not the case.\r\nThese changes reorganize the button theming styles into separate files so that we can easily expose the missing mixins under the correct prefix.","Url":"https://github.com/angular/components/pull/22449","RelatedDescription":"Open PR \"refactor(material-experimental/mdc-button): reorganize styles and expose all themes\" (#22449)"},{"Id":"855019925","IsPullRequest":true,"CreatedAt":"2021-04-10T08:57:42","Actor":"crisbeto","Number":"22448","RawContent":null,"Title":"fix(material/slide-toggle): NVDA reading out clickable before label","State":"open","Body":"Similar fix to #22446 for the slide toggle. Moves around the DOM in order to avoid the behavior where NVDA will read out \"clickable\" before the label, if the `input` parent has a `click` or `mousedown` listener. Includes the following changes:\r\n1. Moving the `input` out of the ripple target for the current slide toggle. The input is invisible so it doesn't really matter where we put it.\r\n2. Using the `input` as the ripple target in the MDC slide toggle. The `input` covers the entire container so the result is the same.","Url":"https://github.com/angular/components/pull/22448","RelatedDescription":"Open PR \"fix(material/slide-toggle): NVDA reading out clickable before label\" (#22448)"},{"Id":"854807361","IsPullRequest":true,"CreatedAt":"2021-04-09T19:42:13","Actor":"crisbeto","Number":"22447","RawContent":null,"Title":"fix(material-experimental/mdc-list): add selected indication in high contrast mode","State":"open","Body":"When a list option is selected in single selection mode, it changes its background color to stand out. This doesn't work in high contrast mode so these changes port over the workaround that we have from the non-MDC list.","Url":"https://github.com/angular/components/pull/22447","RelatedDescription":"Open PR \"fix(material-experimental/mdc-list): add selected indication in high contrast mode\" (#22447)"},{"Id":"854760724","IsPullRequest":true,"CreatedAt":"2021-04-09T18:29:57","Actor":"crisbeto","Number":"22446","RawContent":null,"Title":"fix(material/checkbox): NVDA reading out clickable before checkbox label","State":"open","Body":"NVDA has some behavior where if an `input` is placed inside an element with a `click` or `mousedown` listener, the screen reader considers it as \"clickable\" and reads out \"clickable\" before its label. This is always the case for our checkbox components, because they have ripples on their parent nodes.\r\nThese changes include the following fixes to address the issue.\r\n1. For the non-MDC checkbox we move the `input` to the root of the component since it's invisible and it doesn't matter where we put it.\r\n2. For the MDC checkbox we use the `input` as the ripple target. We can move the input around, because MDC uses sibling selectors for the checked styling. Furthermore, we take advantage of the fact the the input is stretched over the checkbox container.","Url":"https://github.com/angular/components/pull/22446","RelatedDescription":"Open PR \"fix(material/checkbox): NVDA reading out clickable before checkbox label\" (#22446)"}],"ResultType":"GitHubIssue"}},"RunOn":"2021-04-14T05:30:04.9398858Z","RunDurationInMilliseconds":2775}