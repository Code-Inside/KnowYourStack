{"Data":{"TailwindCss-Issues":{"Issues":[{"Id":"2809672414","IsPullRequest":true,"CreatedAt":"2025-01-24T20:45:10","Actor":"SelfMadeSystem","Number":"15808","RawContent":null,"Title":"Create a wasm module","State":"closed","Body":"## Motivation\r\n\r\nNow that Tailwind CSS is using Oxide and Lightning CSS, it is no longer possible to run Tailwind CSS in the browser. This is primarily a problem for websites like [StackBlitz](https://stackblitz.com) and [uiverse.io](https://uiverse.io) that allow users to create and share web projects in the browser. Having a Tailwind CSS WASM module would allow these websites to continue to support the latest version of Tailwind CSS.\r\n\r\nPossible use-cases for a Tailwind CSS WASM module are:\r\n- [Monaco integration](https://monaco-tailwindcss.js.org/)\r\n- Websites where you can use tailwind with instant preview, like [uiverse.io](https://uiverse.io/) or (to a lesser extent) [21st.dev](https://21st.dev/)\r\n- [StackBlitz](https://github.com/tailwindlabs/tailwindcss/issues/13133) closing #13133 \r\n\r\n## Approach\r\n\r\nFor now, I copy-pasted the existing node module code and ported it from `napi` to `wasm-bindgen`. I would like to add additional features later.\r\n\r\n## To Do\r\n\r\n- [ ] Add CI/CD\r\n- [ ] Add tests\r\n- [ ] npm packaging (`@tailwindcss/oxide-wasm`)\r\n  - [x] Made a `package.json` & `README.md` for it\r\n  - [ ] Actually ship it somehow\r\n- [ ] Integration with existing Tailwind CSS utilities for use in environments like StackBlitz\r\n- [ ] Definitely a lot more lol","Url":"https://github.com/tailwindlabs/tailwindcss/pull/15808","RelatedDescription":"Closed or merged PR \"Create a wasm module\" (#15808)"},{"Id":"2810298438","IsPullRequest":false,"CreatedAt":"2025-01-24T20:10:05","Actor":"deebov","Number":"15827","RawContent":null,"Title":"[V4] `outline-color` should be excluded from the default `transition-property`","State":"open","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\n\n**What version of Tailwind CSS are you using?**\n\nv4\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nvite\n\n**What browser are you using?**\n\nchrome\n\n**What operating system are you using?**\n\nmacos\n\n**Reproduction URL**\n\nhttps://play.tailwindcss.com/QA1DueVIoX\n\n**Describe your issue**\n\nIn v3, `outline-color` was not included in the default `transition` property. And also v4 docs don't even mention that `outline-color` is now included in the default `transition` property.\n\nThis is what the current documentation says:\n\n```\ntransition-property: color, background-color, border-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to, opacity, box-shadow, transform, translate, scale, rotate, filter, -webkit-backdrop-filter, backdrop-filter;\n```\n\nBut this is what in reality is being outputted:\n\n```\ntransition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to, opacity, box-shadow, transform, translate, scale, rotate, filter, -webkit-backdrop-filter, backdrop-filter\n```\n\n\nThis is kind of an issue for us because we're using outline for all our focus states and in v4 there's a weird glitch when the outline on focus appears:\n\n![Image](https://github.com/user-attachments/assets/91f6dcba-7d43-4868-b4ae-1bb481852035)\n\nAs you can see, the initial outline color is black (which is equal to `currentColor`) and then it transitions into the specified color. \n\n\nThis, of course, disappears if we remove the `transition` property from the focused element. Or we now need to add `outline-transparent` to get rid of the initial black color but this won't solve the problem that the `outline-color` is now being transitioned (which is not preferred for our project).","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15827","RelatedDescription":"Open issue \"[V4] `outline-color` should be excluded from the default `transition-property`\" (#15827)"},{"Id":"2809565447","IsPullRequest":false,"CreatedAt":"2025-01-24T16:42:18","Actor":"mikhoil","Number":"15805","RawContent":null,"Title":"Components (custom classes in the @layer component directive) do not work with media queries","State":"closed","Body":"**What version of Tailwind CSS are you using?**\n\n4.0.0\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nnextjs 14.2.5 and play.tailwindcss.com\n\n**What version of Node.js are you using?**\n\n20.15.0\n\n**What browser are you using?**\n\nChrome\n\n**What operating system are you using?**\n\nWindows\n\n**Reproduction URL**\n\nhttps://play.tailwindcss.com/ND5jWdm8wC\n\n**Describe your issue**\n\nIn previous version (3.4.15) custom classes in @layer components have worked with media queries for example <div className=\"md:custom1 custom2\">....</div>, but after updating to version 4.0.0 in my project (or by changing version in play.tailwindcss.com) it doesn't work","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15805","RelatedDescription":"Closed issue \"Components (custom classes in the @layer component directive) do not work with media queries\" (#15805)"},{"Id":"2809858812","IsPullRequest":false,"CreatedAt":"2025-01-24T16:34:35","Actor":"sdavids","Number":"15819","RawContent":null,"Title":"[v4] Clarify relationship with browserslist","State":"open","Body":"**What version of Tailwind CSS are you using?**\n\n4.0.0\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\n`npx @tailwindcss/cli`\n\n**What version of Node.js are you using?**\n\n22.13.1\n\n**What browser are you using?**\n\nChrome, Safari, and Firefox\n\n**What operating system are you using?**\n\nmacOS\n\n**Reproduction URL**\n\n```shell\n$ npx @tailwindcss/cli --help\n```\n\n**Describe your issue**\n\n_lightingcss_ is used under the hood.\n\n\nIt supports _browserslist_ for [transpilation](https://lightningcss.dev/transpilation.html#cli).\n\n\nIt should be documented whether _tailwindcss/cli_ uses an existing `.browserslistrc`, evaluates `browserslist` in `package.json`, and/or supports `BROWSERSLIST_CONFIG`/`BROWSERSLIST_ENV` like _lightningcss-cli_.","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15819","RelatedDescription":"Open issue \"[v4] Clarify relationship with browserslist\" (#15819)"},{"Id":"2809743901","IsPullRequest":false,"CreatedAt":"2025-01-24T15:36:48","Actor":"Fedox-die-Ente","Number":"15814","RawContent":null,"Title":"[v4] Incomplete Functionality of Next.js Module CSS with Tailwind CSS: @apply and Custom Variants Issues","State":"open","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\n\n**What version of Tailwind CSS are you using?**\n\nv4.0.0-beta.10\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nNext 15.1.4, React 19\n\n**What version of Node.js are you using?**\n\nv20.18.1\n\n**What browser are you using?**\n\nARC\n\n**What operating system are you using?**\n\nWindows\n\n**Reproduction URL**\n\nhttps://github.com/Fedox-die-Ente/tailwindcss-temp-bug\n\n**Describe your issue**\n\nSo, I have noticed several problems with the NextJS Module CSS (https://nextjs.org/docs/13/app/building-your-application/styling/css-modules).\n\nThis is a continued version of #15614 \n\nI have noticed the following issues:\n\n1. in the `@apply` styles no classes from the `@theme` layer of the globals.css work, the following error then occurs: `Cannot apply unknown utility class: text-primary`\n\n2. the custom variants in the module CSS do not work either, e.g. if I use: `@apply bg-red-500 dark:bg-blue-500`, the background always remains blue, regardless of whether dark mode is activated or not.","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15814","RelatedDescription":"Open issue \"[v4] Incomplete Functionality of Next.js Module CSS with Tailwind CSS: @apply and Custom Variants Issues\" (#15814)"},{"Id":"2809706330","IsPullRequest":false,"CreatedAt":"2025-01-24T15:29:11","Actor":"cvalencia1991","Number":"15812","RawContent":null,"Title":"problems with the landing page","State":"closed","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\n\n**What version of Tailwind CSS are you using?**\n\nFor example: v2.0.4\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nFor example: postcss-cli 8.3.1, Next.js 10.0.9, webpack 5.28.0\n\n**What version of Node.js are you using?**\n\nFor example: v21.0.0\n\n**What browser are you using?**\n\nFor example: Mozilla\n\n**What operating system are you using?**\n\nFor example: Ubuntu\n\n**Reproduction URL**\n\nA Tailwind Play link or public GitHub repo that includes a minimal reproduction of the bug. **Please do not link to your actual project**, what we need instead is a _minimal_ reproduction in a fresh project without any unnecessary code. This means it doesn't matter if your real project is private/confidential, since we want a link to a separate, isolated reproduction anyways.\n\nA reproduction is **required** when filing an issue — any issue opened without a reproduction will be closed and you'll be asked to create a new issue that includes a reproduction. We're a small team and we can't keep up with the volume of issues we receive if we need to reproduce each issue from scratch ourselves.\n\n**Describe your issue**\n\nthere is a problem in  the landing page to the information \n\n![Image](https://github.com/user-attachments/assets/e3a9d4fd-eae5-4dfa-8032-d5dc3b0e5be8)","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15812","RelatedDescription":"Closed issue \"problems with the landing page\" (#15812)"},{"Id":"2809704042","IsPullRequest":false,"CreatedAt":"2025-01-24T15:18:32","Actor":"idan-faibish","Number":"15811","RawContent":null,"Title":"Can't unset font-weights in v4","State":"open","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\n\n**What version of Tailwind CSS are you using?**\n\nv4.0.0\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nvite v6.0.3\n\n**What version of Node.js are you using?**\n\nv20.13.1\n\n**What browser are you using?**\n\nChrome\n\n**What operating system are you using?**\n\nmacOS\n\n**Describe your issue**\n\nI just started to use tailwind (jumped straight to v4) and I'm building my existing design system under my css file. I'm not sure what I'm doing wrong but I tried plenty of options and I just cant to unset all the existing tailwind's font-weights.\n```css\n@theme {\n    /* tried to unset this */\n    --font-*: initial;\n    /* and also this */\n    --font-weight-*: initial;\n\n    --font-weight-extraBold: 800;\n    --font-weight-bold: 700;\n    --font-weight-semiBold: 600;\n    --font-weight-normal: 400;\n}\n```\n\nhere it what I get on intellisense, it even multiplies the stuff\n\n![Image](https://github.com/user-attachments/assets/18316ff1-c9a5-48f6-af21-73c82a4acc88)","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15811","RelatedDescription":"Open issue \"Can't unset font-weights in v4\" (#15811)"},{"Id":"2809361432","IsPullRequest":false,"CreatedAt":"2025-01-24T15:14:37","Actor":"H-Sven","Number":"15800","RawContent":null,"Title":"Add custom breakpoints for screens in extend, resulting in the failure of max-*.","State":"closed","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\n\n**What version of Tailwind CSS are you using?**\n\n\"@nuxtjs/tailwindcss\": \"^6.12.2\"\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\n\"nuxt\": \"^3.15.1\"\n\n**What version of Node.js are you using?**\n\nv20.15.0\n\n**What browser are you using?**\n\nChrome / Edge\n\n**What operating system are you using?**\n\nmacOS\n\n**Reproduction URL**\n\n```\nmodule.exports = {\n  theme: {\n    extend: {\n      screens: {\n        'max-lg-inclusive': { 'max': '1024px' },\n      },\n    },\n  },\n};\n```\n```\n<div\n        class=\"max-lg-inclusive:w-[40rem] relative max-w-[75rem] max-lg:w-[55rem] lg:w-[56rem] xl:w-[75rem]\"\n      >\n</div>\n```\n\n\n**Describe your issue**\n\nAfter configuring like this, `max-lg-inclusive:w-[40rem]` runs normally, but `max-lg:w-[55rem]` loses its effect. It does not generate CSS code as expected.\n\n\n\n<img width=\"382\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/1470edd3-2c19-415f-92ad-b9a6915dd14e\" />\n\n<img width=\"539\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/8a1d8b9a-777b-4c26-be71-820de1d26021\" />\n\n<img width=\"623\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/ef7e7dc7-f58c-417b-b854-d19a72d0bcfe\" />\n\n<img width=\"210\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/b175d891-599f-46f0-9493-78be45d411db\" />\n\nAnd in VSCode, the Tailwind CSS IntelliSense plugin does not generate prompts like other breakpoints.\n","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15800","RelatedDescription":"Closed issue \"Add custom breakpoints for screens in extend, resulting in the failure of max-*.\" (#15800)"},{"Id":"2808526714","IsPullRequest":false,"CreatedAt":"2025-01-24T15:09:24","Actor":"oeyoews","Number":"15782","RawContent":null,"Title":"v4 Migration tools do not support Windows","State":"closed","Body":"![Image](https://github.com/user-attachments/assets/8552ff86-0f51-44ec-a127-f1a3889ab083)\n\nI tried to execute `npx @tailwindcss/upgrade@next` on windows, I got this error, then I tried the same steps on linux and everything seemed to work fine","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15782","RelatedDescription":"Closed issue \"v4 Migration tools do not support Windows\" (#15782)"},{"Id":"2809570267","IsPullRequest":false,"CreatedAt":"2025-01-24T14:17:43","Actor":"Kaishiyoku","Number":"15806","RawContent":null,"Title":"Can't build on Linux ARM -> cannot find module '@tailwindcss/oxide-linux-arm64-gnu'","State":"open","Body":"**What version of Tailwind CSS are you using?**\n\n4.0.0\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nVite 6\n\n**What version of Node.js are you using?**\n\n22.12.0\n\n**What browser are you using?**\n\nOccurs in CLI\n\n**What operating system are you using?**\n\nUbuntu Linux on arm64\n\n**Reproduction URL**\n\n/\n\n**Describe your issue**\n\nWhen running `tsc && vite build` the build fails and gives the following error:\n\n```\nerror during build:\n[vite:css] Failed to load PostCSS config (searchPath: [...]): [Error] Loading PostCSS Plugin failed: Cannot find module '@tailwindcss/oxide-linux-arm64-gnu'\n\n```","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15806","RelatedDescription":"Open issue \"Can't build on Linux ARM -> cannot find module '@tailwindcss/oxide-linux-arm64-gnu'\" (#15806)"},{"Id":"2809524085","IsPullRequest":false,"CreatedAt":"2025-01-24T13:57:16","Actor":"samf","Number":"15804","RawContent":null,"Title":"tailwindcss CLI looks at .gitignore files from outside of current repo","State":"open","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\n\n**What version of Tailwind CSS are you using?**\n\nv4.0.0-beta.8\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nJust a super simple static web page with a shell script that invokes the CLI\n\n**What version of Node.js are you using?**\n\nv23.6.1\n\n**What browser are you using?**\n\nSafari and Firefox\n\n**What operating system are you using?**\n\nmacOS 15.1.1\n\n**Reproduction URL**\n\nhttps://github.com/samf/v4bug\n\n...but, the issue won't reproduce unless you clone this below a directory that has a problematic .gitignore file within.\n\n**Describe your issue**\n\nA previous discussion is here: https://github.com/tailwindlabs/tailwindcss/discussions/15753\n\nThe problem I was having was that `npx tailwindcss -i ./content/main.css -o ./public/main.css` wasn't reading my `content/index.html` file. The repo above (v4bug) worked when someone jumped in and tried it, but not for me.\n\nI switched to a Linux environment, and it still failed for me, but when I created a new account on the Linux machine, it worked! Cloning my v4bug repo into `/tmp`, rather than under my home, also fixed the problem.\n\nLong story short, my home directory has a `.gitignore` file in it, the entire contents of which is `*`. I do this so that I can keep my home directory under git, but not have it pester me to add things I don't want. Anyway, `tailwindcss` seems to look at `.gitignore` files. This is fine, but perhaps it is climbing up the directory tree too far?","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15804","RelatedDescription":"Open issue \"tailwindcss CLI looks at .gitignore files from outside of current repo\" (#15804)"},{"Id":"2807591969","IsPullRequest":false,"CreatedAt":"2025-01-24T13:34:48","Actor":"habibium","Number":"15762","RawContent":null,"Title":"`theme.container.padding` doesn't work when custom `theme.container.screens` value is defined","State":"closed","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\n\n**What version of Tailwind CSS are you using?**\n\nv3.4.17\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nAstro 5.1.2\n\n**What version of Node.js are you using?**\n\nv23.6.0\n\n**What browser are you using?**\n\nBrave\n\n**What operating system are you using?**\n\nMacOS\n\n**Reproduction URL**\n\nhttps://play.tailwindcss.com/eLONuEIwz8\n\n**Describe your issue**\n\n```js\n/** @type {import('tailwindcss').Config} */\nmodule.exports = {\n  theme: {\n    container: {\n      padding: {\n        md: '1rem',\n      },\n      screens: [\"1269px\"],\n    },\n  },\n};\n```\nThe above config doesn't put a padding of `1rem` from `md` breakpoint when there's a custom value for `theme.container.screens`. But the padding works correctly when the `screens` property isn't customized. Please check out the Tailwind Play above. \n\nBy the way thank you for your hard work for this awesome framework ❤️","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15762","RelatedDescription":"Closed issue \"`theme.container.padding` doesn't work when custom `theme.container.screens` value is defined\" (#15762)"},{"Id":"2809326861","IsPullRequest":false,"CreatedAt":"2025-01-24T12:24:00","Actor":"vdegenne","Number":"15799","RawContent":null,"Title":"tailwindcss and shadow dom not working well (--spacing)","State":"open","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\n\n**What version of Tailwind CSS are you using?**\n\nFor example: v4\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nFor example: vite\n\n**What version of Node.js are you using?**\n\nFor example: v23\n\n**What browser are you using?**\n\nFor example: Chrome\n\n**What operating system are you using?**\n\nFor example: Linux\n\n**Describe your issue**\n\nI mainly using tailwindcss to structure my layout (utilities), I've successfuly migrated from v3 to v4.  \nBut there is a small issue, using `@import 'tailwindcss';` works but `--spacing` is missing a default.\n\n![Image](https://github.com/user-attachments/assets/7e89c67a-ab22-4043-af57-d60ae59810ca)\n\nwhich makes all properties relying on this variable broken.","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15799","RelatedDescription":"Open issue \"tailwindcss and shadow dom not working well (--spacing)\" (#15799)"},{"Id":"2809112386","IsPullRequest":false,"CreatedAt":"2025-01-24T10:37:54","Actor":"ckvv","Number":"15794","RawContent":null,"Title":"client: directive will cause tailwindcss to be invalid","State":"open","Body":"related https://github.com/withastro/astro/issues/13055\n\n### Astro Info\n\n```block\nAstro                    v5.1.9\nNode                     v22.11.0\nSystem                   macOS (x64)\nPackage Manager          pnpm\nOutput                   static\nAdapter                  none\nIntegrations             @astrojs/vue\n```\n\n### If this issue only occurs in one browser, which browser is a problem?\n\nChrome\n\n### Describe the Bug\n\n**What version of Tailwind CSS are you using?**\n\n4.0\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nastro\n\n**What version of Node.js are you using?**\n\nFor example: v22\n\n**Reproduction URL**\n\nhttps://github.com/ckvv/astro-tailwindcss\n\n**Describe your issue**\n\nclient: directive will cause tailwindcss to be invalid, The policy of the dev module is that CSS is not bundled after build.\n\n### What's the expected result?\n\n use tailwindcss v4 in astro\n\n### Link to Minimal Reproducible Example\n\nhttps://github.com/ckvv/astro-tailwindcss\n\n### Participation\n\n- [x] I am willing to submit a pull request for this issue.","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15794","RelatedDescription":"Open issue \"client: directive will cause tailwindcss to be invalid\" (#15794)"},{"Id":"2808609669","IsPullRequest":false,"CreatedAt":"2025-01-24T06:25:53","Actor":"bjornharvold","Number":"15785","RawContent":null,"Title":"Out of memory after migrating from 3 > 4","State":"open","Body":"**What version of Tailwind CSS are you using?**\n\nv4.0.0\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nFor example: Angular 19\n\n**What version of Node.js are you using?**\n\nFor example: v22.0.x\n\n**What browser are you using?**\n\nFor example: Chrome\n\n**What operating system are you using?**\n\nFor example: macOS\n\n**Reproduction URL**\n\nNA\n\n**Describe your issue**\n\nWe have a 2000+ module monorepo where a few 100 of these modules use Tailwind 3.x and are built as libraries with Nx.\n\nThen we tried migrating.\n\n1. Added .postcssrc.json with this content:\n\n```\n{\n  \"plugins\": {\n    \"@tailwindcss/postcss\": {}\n  }\n}\n```\n\n- Ran `npx @tailwindcss/upgrade@next`\n\nTried to run one of our Tailwind apps. It takes forever to build and it eventually fails with an out-of-memoy error:\n\n```\n> nx run online-travel-agency:serve:development --host=dev.wink.travel --port=4200 --ssl=true --ssl-key=./certs/dev.wink.travel-key.pem --ssl-cert=./certs/dev.wink.travel.pem\n\n\nWarning: This is a simple server for use in testing or debugging Angular applications\nlocally. It hasn't been reviewed for security issues.\n\nBinding this server to an open connection can result in compromising your application or\ncomputer. Using a different host than the one passed to the \"--host\" flag might result in\nwebsocket connection issues. You might need to use \"--disable-host-check\" if that's the\ncase.\n    \nComponent HMR has been enabled.\nIf you encounter application reload issues, you can manually reload the page to bypass HMR and/or disable this feature with the `--no-hmr` command line option.\nPlease consider reporting any issues you encounter here: https://github.com/angular/angular-cli/issues\n\n⠋ Building...\n\n<--- Last few GCs --->\n\n[26609:0x120008000]   495037 ms: Mark-Compact 4014.9 (4129.8) -> 4001.1 (4132.3) MB, pooled: 5 MB, 1536.67 / 0.00 ms  (average mu = 0.125, current mu = 0.032) allocation failure; scavenge might not succeed\n[26609:0x120008000]   496680 ms: Mark-Compact 4016.9 (4132.3) -> 4003.0 (4134.0) MB, pooled: 3 MB, 1631.75 / 0.00 ms  (average mu = 0.067, current mu = 0.007) allocation failure; scavenge might not succeed\n\n\n<--- JS stacktrace --->\n\nFATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory\n----- Native stack trace -----\n\n 1: 0x1006a874c node::OOMErrorHandler(char const*, v8::OOMDetails const&) [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n 2: 0x10084fff0 v8::Utils::ReportOOMFailure(v8::internal::Isolate*, char const*, v8::OOMDetails const&) [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n 3: 0x10084ffa4 v8::internal::V8::FatalProcessOutOfMemory(v8::internal::Isolate*, char const*, v8::OOMDetails const&) [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n 4: 0x1009f59d8 v8::internal::Heap::CallGCPrologueCallbacks(v8::GCType, v8::GCCallbackFlags, v8::internal::GCTracer::Scope::ScopeId) [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n 5: 0x1009f7720 v8::internal::Heap::DevToolsTraceEventScope::~DevToolsTraceEventScope() [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n 6: 0x1009f6090 v8::internal::Heap::CollectGarbage(v8::internal::AllocationSpace, v8::internal::GarbageCollectionReason, v8::GCCallbackFlags)::$_1::operator()() const [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n 7: 0x1009f5d44 void heap::base::Stack::SetMarkerAndCallbackImpl<v8::internal::Heap::CollectGarbage(v8::internal::AllocationSpace, v8::internal::GarbageCollectionReason, v8::GCCallbackFlags)::$_1>(heap::base::Stack*, void*, void const*) [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n 8: 0x1005b8028 PushAllRegistersAndIterateStack [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n 9: 0x1009f4700 v8::internal::Heap::CollectGarbage(v8::internal::AllocationSpace, v8::internal::GarbageCollectionReason, v8::GCCallbackFlags) [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n10: 0x1009eace8 v8::internal::HeapAllocator::AllocateRawWithLightRetrySlowPath(int, v8::internal::AllocationType, v8::internal::AllocationOrigin, v8::internal::AllocationAlignment) [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n11: 0x1009eb454 v8::internal::HeapAllocator::AllocateRawWithRetryOrFailSlowPath(int, v8::internal::AllocationType, v8::internal::AllocationOrigin, v8::internal::AllocationAlignment) [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n12: 0x1009c49ac v8::internal::MaybeHandle<v8::internal::SeqOneByteString> v8::internal::FactoryBase<v8::internal::Factory>::NewRawStringWithMap<v8::internal::SeqOneByteString>(int, v8::internal::Tagged<v8::internal::Map>, v8::internal::AllocationType) [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n13: 0x100c3ee7c v8::internal::String::SlowFlatten(v8::internal::Isolate*, v8::internal::Handle<v8::internal::ConsString>, v8::internal::AllocationType) [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n14: 0x100cfd634 v8::internal::Runtime_StringCharCodeAt(int, unsigned long*, v8::internal::Isolate*) [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n15: 0x100499af4 Builtins_CEntry_Return1_ArgvOnStack_NoBuiltinExit [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n16: 0x109ad3e18 \n17: 0x10976c2ec \n18: 0x10976efbc \n19: 0x10976ee1c \n20: 0x10976e830 \n21: 0x1004c865c Builtins_ArrayMap [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n22: 0x1096e3450 \n23: 0x100441290 Builtins_AsyncFunctionAwaitResolveClosure [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n24: 0x10050c4d8 Builtins_PromiseFulfillReactionJob [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n25: 0x100431594 Builtins_RunMicrotasks [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n26: 0x100402af4 Builtins_JSRunMicrotasksEntry [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n27: 0x1009610f8 v8::internal::(anonymous namespace)::Invoke(v8::internal::Isolate*, v8::internal::(anonymous namespace)::InvokeParams const&) [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n28: 0x1009617f0 v8::internal::(anonymous namespace)::InvokeWithTryCatch(v8::internal::Isolate*, v8::internal::(anonymous namespace)::InvokeParams const&) [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n29: 0x100984cf0 v8::internal::MicrotaskQueue::RunMicrotasks(v8::internal::Isolate*) [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n30: 0x100984a80 v8::internal::MicrotaskQueue::PerformCheckpointInternal(v8::Isolate*) [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n31: 0x1005b95e4 node::InternalCallbackScope::Close() [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n32: 0x1005b9b64 node::InternalMakeCallback(node::Environment*, v8::Local<v8::Object>, v8::Local<v8::Object>, v8::Local<v8::Function>, int, v8::Local<v8::Value>*, node::async_context, v8::Local<v8::Value>) [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n33: 0x1005d1a04 node::AsyncWrap::MakeCallback(v8::Local<v8::Function>, int, v8::Local<v8::Value>*) [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n34: 0x1006ae958 node::fs::FSReqCallback::Resolve(v8::Local<v8::Value>) [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n35: 0x1006b1420 node::fs::AfterScanDir(uv_fs_s*) [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n36: 0x10069f094 node::MakeLibuvRequestCallback<uv_fs_s, void (*)(uv_fs_s*)>::Wrapper(uv_fs_s*) [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n37: 0x10498214c uv__work_done [/opt/homebrew/Cellar/libuv/1.50.0/lib/libuv.1.dylib]\n38: 0x104985a74 uv__async_io [/opt/homebrew/Cellar/libuv/1.50.0/lib/libuv.1.dylib]\n39: 0x10499601c uv__io_poll [/opt/homebrew/Cellar/libuv/1.50.0/lib/libuv.1.dylib]\n40: 0x104985f08 uv_run [/opt/homebrew/Cellar/libuv/1.50.0/lib/libuv.1.dylib]\n41: 0x1005ba428 node::SpinEventLoopInternal(node::Environment*) [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n42: 0x1006f2774 node::NodeMainInstance::Run(node::ExitCode*, node::Environment*) [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n43: 0x1006f24c8 node::NodeMainInstance::Run() [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n44: 0x100668ca0 node::Start(int, char**) [/opt/homebrew/Cellar/node@22/22.13.0/bin/node]\n45: 0x19d158274 start [/usr/lib/dyld]\nfatal error: all goroutines are asleep - deadlock!\n\ngoroutine 1 [chan receive]:\ngithub.com/evanw/esbuild/internal/helpers.(*ThreadSafeWaitGroup).Wait(...)\n\tgithub.com/evanw/esbuild/internal/helpers/waitgroup.go:36\nmain.runService.func2()\n\tgithub.com/evanw/esbuild/cmd/esbuild/service.go:114 +0x88\nmain.runService(0x1)\n\tgithub.com/evanw/esbuild/cmd/esbuild/service.go:160 +0x47c\nmain.main()\n\tgithub.com/evanw/esbuild/cmd/esbuild/main.go:241 +0x898\n\ngoroutine 7 [chan receive]:\nmain.runService.func1()\n\tgithub.com/evanw/esbuild/cmd/esbuild/service.go:98 +0x40\ncreated by main.runService in goroutine 1\n\tgithub.com/evanw/esbuild/cmd/esbuild/service.go:97 +0x19c\n\ngoroutine 8 [chan receive]:\nmain.(*serviceType).sendRequest(0x140000ea2d0, {0x102b81d60, 0x140151e9080})\n\tgithub.com/evanw/esbuild/cmd/esbuild/service.go:192 +0x138\nmain.runService.func3()\n\tgithub.com/evanw/esbuild/cmd/esbuild/service.go:125 +0x44\ncreated by main.runService in goroutine 1\n\tgithub.com/evanw/esbuild/cmd/esbuild/service.go:122 +0x2e4\n\ngoroutine 997 [chan receive, 8 minutes]:\nmain.(*serviceType).sendRequest(0x140000ea2d0, {0x102b81d60, 0x14003930a20})\n\tgithub.com/evanw/esbuild/cmd/esbuild/service.go:192 +0x138\nmain.(*serviceType).convertPlugins.func2.4({{0x14004bb9b90, 0x90}, {0x102a473ef, 0x4}, {0x0, 0x0}, {0x0, 0x0}, 0x0})\n\tgithub.com/evanw/esbuild/cmd/esbuild/service.go:1069 +0x634\ngithub.com/evanw/esbuild/pkg/api.(*pluginImpl).onLoad.func1({{0x0, 0x0}, {{0x14004bb9b90, 0x90}, {0x102a473ef, 0x4}, {0x0, 0x0}, {{0x0, 0x0}}, ...}})\n\tgithub.com/evanw/esbuild/pkg/api/api_impl.go:1992 +0x130\ngithub.com/evanw/esbuild/internal/bundler.runOnLoadPlugins({0x140011a2840?, 0x0?, 0x0?}, {0x102c0a1c0, 0x14001240d40}, 0x1400109baa0, {0x140000f9f10, 0x14000c88168, 0x14000c88210, 0x14001240d20, ...}, ...)\n\tgithub.com/evanw/esbuild/internal/bundler/bundler.go:1072 +0x9cc\ngithub.com/evanw/esbuild/internal/bundler.parseFile({{0x102c0a1c0, 0x14001240d40}, {0x140000f9f10, 0x14000c88168, 0x14000c88210, 0x14001240d20, 0x6, 0x140010f6930}, 0x14002267208, 0x1400109baa0, ...})\n\tgithub.com/evanw/esbuild/internal/bundler/bundler.go:162 +0x1f0\ncreated by github.com/evanw/esbuild/internal/bundler.(*scanner).maybeParseFile in goroutine 451\n\tgithub.com/evanw/esbuild/internal/bundler/bundler.go:1512 +0xa0c\n\ngoroutine 49 [chan receive, 8 minutes]:\nmain.(*serviceType).sendRequest(0x140000ea2d0, {0x102b81d60, 0x140000ea930})\n\tgithub.com/evanw/esbuild/cmd/esbuild/service.go:192 +0x138\nmain.(*serviceType).convertPlugins.func2.2()\n\tgithub.com/evanw/esbuild/cmd/esbuild/service.go:944 +0x100\ngithub.com/evanw/esbuild/pkg/api.(*pluginImpl).onStart-fm.(*pluginImpl).onStart.func1()\n\tgithub.com/evanw/esbuild/pkg/api/api_impl.go:1843 +0x34\ngithub.com/evanw/esbuild/internal/bundler.ScanBundle.func1({{0x102a50abf, 0x12}, {0x1400020e420, 0x1, 0x1}, {0x14000260b40, 0x1, 0x1}, {0x14000260ba0, 0x1, ...}}, ...)\n\tgithub.com/evanw/esbuild/internal/bundler/bundler.go:1286 +0x7c\ncreated by github.com/evanw/esbuild/internal/bundler.ScanBundle in goroutine 19\n\tgithub.com/evanw/esbuild/internal/bundler/bundler.go:1285 +0xb4c\n\ngoroutine 19 [semacquire, 8 minutes]:\nsync.runtime_Semacquire(0x1400031c380?)\n\truntime/sema.go:71 +0x2c\nsync.(*WaitGroup).Wait(0x14000146590)\n\tsync/waitgroup.go:118 +0x74\ngithub.com/evanw/esbuild/internal/bundler.ScanBundle(_, {_, _, _, _, _, _}, {_, _}, _, ...)\n\tgithub.com/evanw/esbuild/internal/bundler/bundler.go:1369 +0x6c4\ngithub.com/evanw/esbuild/pkg/api.rebuildImpl({0x14000200420, {0x1400020e498, 0x1, 0x1}, {0x0, 0x0, 0x0}, {0x0, 0x1, 0x2, ...}, ...}, ...)\n\tgithub.com/evanw/esbuild/pkg/api/api_impl.go:1479 +0x1f8\ngithub.com/evanw/esbuild/pkg/api.(*internalContext).rebuild(_)\n\tgithub.com/evanw/esbuild/pkg/api/api_impl.go:998 +0x2cc\ngithub.com/evanw/esbuild/pkg/api.(*internalContext).Rebuild(0x1400027c508?)\n\tgithub.com/evanw/esbuild/pkg/api/api_impl.go:1059 +0x3c\nmain.(*serviceType).handleIncomingPacket.func5()\n\tgithub.com/evanw/esbuild/cmd/esbuild/service.go:293 +0xa0\ncreated by main.(*serviceType).handleIncomingPacket in goroutine 1\n\tgithub.com/evanw/esbuild/cmd/esbuild/service.go:290 +0x12b0\n\ngoroutine 14 [chan send, 8 minutes]:\ngithub.com/evanw/esbuild/internal/bundler.ScanBundle.func2()\n\tgithub.com/evanw/esbuild/internal/bundler/bundler.go:1320 +0x23c\ncreated by github.com/evanw/esbuild/internal/bundler.ScanBundle in goroutine 19\n\tgithub.com/evanw/esbuild/internal/bundler/bundler.go:1318 +0x6bc\n\ngoroutine 1096 [chan receive, 8 minutes]:\nmain.(*serviceType).sendRequest(0x140000ea2d0, {0x102b81d60, 0x14006b15e60})\n\tgithub.com/evanw/esbuild/cmd/esbuild/service.go:192 +0x138\nmain.(*serviceType).convertPlugins.func2.4({{0x1400b552140, 0x91}, {0x102a473ef, 0x4}, {0x0, 0x0}, {0x0, 0x0}, 0x0})\n\tgithub.com/evanw/esbuild/cmd/esbuild/service.go:1069 +0x634\ngithub.com/evanw/esbuild/pkg/api.(*pluginImpl).onLoad.func1({{0x0, 0x0}, {{0x1400b552140, 0x91}, {0x102a473ef, 0x4}, {0x0, 0x0}, {{0x0, 0x0}}, ...}})\n\tgithub.com/evanw/esbuild/pkg/api/api_impl.go:1992 +0x130\ngithub.com/evanw/esbuild/internal/bundler.runOnLoadPlugins({0x1400016b8c0?, 0x140021d1f88?, 0x10262e1bc?}, {0x102c0a1c0, 0x14001192ae0}, 0x14001590fc0, {0x14001c2c380, 0x14000c88858, 0x14000c88870, 0x14001192ac0, ...}, ...)\n\tgithub.com/evanw/esbuild/internal/bundler/bundler.go:1072 +0x9cc\ngithub.com/evanw/esbuild/internal/bundler.parseFile({{0x102c0a1c0, 0x14001192ae0}, {0x14001c2c380, 0x14000c88858, 0x14000c88870, 0x14001192ac0, 0x6, 0x14000e7ca80}, 0x14001f40d88, 0x14001590fc0, ...})\n\tgithub.com/evanw/esbuild/internal/bundler/bundler.go:162 +0x1f0\ncreated by github.com/evanw/esbuild/internal/bundler.(*scanner).maybeParseFile in goroutine 443\n\tgithub.com/evanw/esbuild/internal/bundler/bundler.go:1512 +0xa0c\n\ngoroutine \n\n```\n\nNot really sure what else to report. Guessing it's the number of modules that causes this. Works great with Tailwind 3.x.\n\nLooking at what the migration tool did was change our libs from this:\n\n```\n@config \"./tailwind-component.config.js\";\n@tailwind components;\n@tailwind utilities;\n```\n\nto this:\n\n```\n@import 'tailwindcss/utilities' layer(utilities);\n@config \"./tailwind-component.config.js\";\n```\n\nAnd our app css from this:\n\n```\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n```\n\nto this:\n\n```\n@import 'tailwindcss';\n\n/* You can add global styles to this file, and also import other style files */\n\n/*\n  The default border color has changed to `currentColor` in Tailwind CSS v4,\n  so we've added these compatibility styles to make sure everything still\n  looks the same as it did with Tailwind CSS v3.\n\n  If we ever want to remove these styles, we need to add an explicit border\n  color utility to any element that depends on these defaults.\n*/\n@layer base {\n  *,\n  ::after,\n  ::before,\n  ::backdrop,\n  ::file-selector-button {\n    border-color: var(--color-gray-200, currentColor);\n  }\n}\n\n```\n\nReverting back to v3 for now.","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15785","RelatedDescription":"Open issue \"Out of memory after migrating from 3 > 4\" (#15785)"},{"Id":"2808407177","IsPullRequest":false,"CreatedAt":"2025-01-24T03:23:45","Actor":"xt0rted","Number":"15779","RawContent":null,"Title":"Variant doesn't expand when inside a media query","State":"open","Body":"**What version of Tailwind CSS are you using?**\n\nv4.0.0\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nAstro 5.1.9\n@tailwindcss/vite 4.0.0\n\n**What version of Node.js are you using?**\n\nv23.4.0\n\n**What browser are you using?**\n\nChrome\n\n**What operating system are you using?**\n\nWindows\n\n**Reproduction URL**\n\nhttps://play.tailwindcss.com/11WjRHqAY2?file=css\n\n**Describe your issue**\n\n`@variant dark` will expand if it wraps `@media`, but not if it's inside it.\n\nI'd expect this\n\n```css\n@media (prefers-reduced-motion: reduce) {\n  @variant dark {\n    a {\n      color: red;\n    }\n  }\n}\n```\n\nto become this\n\n```css\n@media (prefers-reduced-motion: reduce) {\n  &:where(.dark, .dark *) {\n    a {\n      color: red;\n    }\n  }\n}\n```\n\nbut `@variant dark` remains in the output css.\n","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15779","RelatedDescription":"Open issue \"Variant doesn't expand when inside a media query\" (#15779)"},{"Id":"2808401312","IsPullRequest":false,"CreatedAt":"2025-01-24T03:17:27","Actor":"Clover-You","Number":"15778","RawContent":null,"Title":"[v4] Cannot apply unknown utility class: xxx","State":"open","Body":"Hello！\n\nAfter upgrading from v3 to v4（via CLI）, I encountered some error: `Cannot apply unknown utility class: text-card-foreground`.\n\nThis never happened in v3.\n\nAfter some trial and error, I found that it seems necessary to import the main CSS file in my CSS.\n\n<img width=\"728\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/884df5d1-33e6-4f40-89a7-c7512dfdc9f8\" />\n\n<img width=\"670\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/e6678e79-9c42-4d25-b7bc-3d41c30d0e49\" />\n\nIs this the expected behavior? This will cause a large number of component styles to have issues.\n\nOr, is there a trick for automatic import?","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15778","RelatedDescription":"Open issue \"[v4] Cannot apply unknown utility class: xxx\" (#15778)"},{"Id":"2807963842","IsPullRequest":false,"CreatedAt":"2025-01-23T21:34:27","Actor":"YonatanPerkel","Number":"15773","RawContent":null,"Title":"Default button style missing pointer cursor property","State":"open","Body":"**What version of Tailwind CSS are you using?**\n\nv4.0.0\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nVite\n\n**What version of Node.js are you using?**\n\nv20.17.0\n\n**What browser are you using?**\n\nN/A\n\n**What operating system are you using?**\n\nN/A\n\n**Reproduction URL**\n\nhttps://play.tailwindcss.com/WC5jexkinA\n\n**Describe your issue**\n\nThe [`preflight.css`](https://github.com/tailwindlabs/tailwindcss/blob/next/packages/tailwindcss/preflight.css) file is missing `pointer: cursor` property, but the [latest 3.4.17 preflight.css file](https://github.com/tailwindlabs/tailwindcss/blob/4f9f603e12b51cc53b8a09c7739b8f88c8eb87eb/src/css/preflight.css#L343) does include this property.  \nThis change isn't mentioned in the [v4 upgrade guide](https://tailwindcss.com/docs/upgrade-guide).","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15773","RelatedDescription":"Open issue \"Default button style missing pointer cursor property\" (#15773)"},{"Id":"2807951096","IsPullRequest":false,"CreatedAt":"2025-01-23T21:28:29","Actor":"rentalhost","Number":"15772","RawContent":null,"Title":"The `not-` variant does not work as expected with named groups (`group/{name}`)","State":"open","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\n\n**What version of Tailwind CSS are you using?**\n\nv4.0.0\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nTailwind Play (https://play.tailwindcss.com/)\n\n**What version of Node.js are you using?**\n\n-\n\n**What browser are you using?**\n\nChrome 131\n\n**What operating system are you using?**\n\nWindows 11\n\n**Reproduction URL**\n\nhttps://play.tailwindcss.com/DKPgTfOLF0\n\n**Describe your issue**\n\n```\n<!-- Named group (does NOT work) -->  \n<div class=\"group/test bg-red-50 p-8\">  \n  <div class=\"not-group/test-hover:text-red-500\">Text (should be red when group is NOT hovered)</div>  \n</div>  \n\n<!-- Unnamed group (works correctly) -->  \n<div class=\"group bg-green-50 p-8\">  \n  <div class=\"not-group-hover:text-green-500\">Text (green when group is NOT hovered)</div>  \n</div>  \n```\n\nCurrent Behavior:\n\n* The `not-group/test-hover:text-red-500` class does not apply styles when the named group (`group/test`) is not hovered.\n* The `not-group-hover:text-green-500` class works as intended for the unnamed group.\n\nExpected Behavior:\n\nBoth named and unnamed groups should support the `not-` variant (e.g., `not-group/{name}-hover` and `not-group-hover`) to apply styles when the parent group is not in the specified state.\n\n\n","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15772","RelatedDescription":"Open issue \"The `not-` variant does not work as expected with named groups (`group/{name}`)\" (#15772)"},{"Id":"2807866319","IsPullRequest":false,"CreatedAt":"2025-01-23T20:43:41","Actor":"kimdanielarthur-cowlabs","Number":"15770","RawContent":null,"Title":"Default configuration gives slow deploy times with nextjs on vercel after migration from v3 to v4","State":"open","Body":"**What version of Tailwind CSS are you using?**\n\nv4.0.0\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\ntailwind/postcss 4.0.0, Next.js 15.1.6\n\n**Describe your issue**\n\nAfter upgrading to v4 tailwind my deploy times on vercel suddently went up. \n\nEnabling debug for postcss showed most time scanning for candidates. \n\n[50198.83ms] [@tailwindcss/postcss] src/app/globals.css\n[    0.08ms]   ↳ Quick bail check\n[   35.61ms]   ↳ Setup compiler\n[    0.41ms]     ↳ PostCSS AST -> Tailwind CSS AST\n[   35.17ms]     ↳ Create compiler\n[    0.07ms]   ↳ Register full rebuild paths\n[    0.07ms]   ↳ Setup scanner\n[45929.34ms]   ↳ Scan for candidates\n[ 3204.82ms]   ↳ Register dependency messages\n[  950.40ms]   ↳ Build utilities\n[   56.36ms]   ↳ Optimization\n[    1.34ms]     ↳ AST -> CSS\n[   24.61ms]     ↳ Lightning CSS\n[   30.34ms]     ↳ CSS -> PostCSS AST\n[   20.56ms]   ↳ Update PostCSS AST\n\nSo i needed to specific the base path for the files needed to scan through the source directive i globals.css which has changed from how it was in tailwind.config \n`@import \"tailwindcss\" source(\"../\");`\n\nwhich naturally reduced time scanning for candidates\n\n[178.70ms] [@tailwindcss/postcss] src/app/globals.css\n[  0.07ms]   ↳ Quick bail check\n[ 82.51ms]   ↳ Setup compiler\n[  0.42ms]     ↳ PostCSS AST -> Tailwind CSS AST\n[ 82.05ms]     ↳ Create compiler\n[  0.08ms]   ↳ Register full rebuild paths\n[  0.07ms]   ↳ Setup scanner\n[ 25.86ms]   ↳ Scan for candidates\n[  6.53ms]   ↳ Register dependency messages\n[ 22.73ms]   ↳ Build utilities\n[ 24.60ms]   ↳ Optimization\n[  1.23ms]     ↳ AST -> CSS\n[  7.78ms]     ↳ Lightning CSS\n[ 15.53ms]     ↳ CSS -> PostCSS AST\n[ 15.70ms]   ↳ Update PostCSS AST\n\nI wonder if this somehow can be handled by the conversion of the tailwind config on upgrade better, as since there is no logging by default during the nextjs build step there were few hints to culprit for sudden slow deployments on vercel.","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15770","RelatedDescription":"Open issue \"Default configuration gives slow deploy times with nextjs on vercel after migration from v3 to v4\" (#15770)"},{"Id":"2807525953","IsPullRequest":false,"CreatedAt":"2025-01-23T18:04:14","Actor":"Cufoon","Number":"15759","RawContent":null,"Title":"[v4] @tailwindcss/vite can not work with vite at all.","State":"closed","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\n\n**What version of Tailwind CSS are you using?**\n\nv4.0.0\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\n  \"devDependencies\": {\n    \"@eslint/config-inspector\": \"^1.0.0\",\n    \"@eslint/js\": \"^9.18.0\",\n    \"@stylistic/eslint-plugin\": \"^2.13.0\",\n    \"@tailwindcss/vite\": \"^4.0.0\",\n    \"@types/node\": \"^22.10.9\",\n    \"@types/react\": \"^19.0.8\",\n    \"@types/react-dom\": \"^19.0.3\",\n    \"@vitejs/plugin-react-swc\": \"^3.7.2\",\n    \"eslint\": \"^9.18.0\",\n    \"eslint-plugin-react-hooks\": \"^5.1.0\",\n    \"eslint-plugin-react-refresh\": \"^0.4.18\",\n    \"globals\": \"^15.14.0\",\n    \"tailwindcss\": \"^4.0.0\",\n    \"typescript\": \"~5.7.3\",\n    \"typescript-eslint\": \"^8.21.0\",\n    \"vite\": \"^6.0.11\"\n  }\n\n**What version of Node.js are you using?**\n\nv22.13.0\n\n**What browser are you using?**\n\nChrome\n\n**What operating system are you using?**\n\nWindows\n\n**Reproduction URL**\n\n\n\n**Describe your issue**\n\nThe type is totally wrong!\n\n![Image](https://github.com/user-attachments/assets/5c726b84-d639-465f-9094-04f81a690459)","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15759","RelatedDescription":"Closed issue \"[v4] @tailwindcss/vite can not work with vite at all.\" (#15759)"},{"Id":"2807453062","IsPullRequest":false,"CreatedAt":"2025-01-23T17:24:05","Actor":"Cherry","Number":"15758","RawContent":null,"Title":"[v4] npx @tailwindcss/upgrade@next fails on Windows","State":"closed","Body":"**What version of Tailwind CSS are you using?**\n\nv4.0.0\n\n**What version of Node.js are you using?**\n\nv22.13.0\n\n**What browser are you using?**\n\nN/A\n\n**What operating system are you using?**\n\nWindows\n\n**Describe your issue**\n\nOn Windows 11, run: `npx @tailwindcss/upgrade@next`. Observe erroring with:\n```\n≈ tailwindcss v4.0.0\n\n│ Searching for CSS files in the current directory and its subdirectories…\n\n│ ↳ Linked `.\\tailwind.config.js` to `.\\assets\\css\\tailwind.css`\n\n│ Migrating JavaScript configuration files…\n\n│ ↳ Could not load the configuration file: Can't resolve '././E:\\project\\dir\\tailwind.config.js' in\n│   'C:\\Users\\james\\AppData\\Local\\npm-cache\\_npx\\0044b4041b3b52e1\\node_modules\\@tailwindcss\\upgrade\\dist'\n```","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15758","RelatedDescription":"Closed issue \"[v4] npx @tailwindcss/upgrade@next fails on Windows\" (#15758)"},{"Id":"2806632383","IsPullRequest":false,"CreatedAt":"2025-01-23T17:18:33","Actor":"DanielOberlechner","Number":"15735","RawContent":null,"Title":"[v4] It looks like you're trying to use `tailwindcss` directly as a PostCSS plugin.","State":"closed","Body":"**What version of Tailwind CSS are you using?**\n\n4.0.0\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\n\"@tailwindcss/postcss\": \"^4.0.0\", Angular 19.1.3\n\n**What version of Node.js are you using?**\n\n22.11.0\n\n**What browser are you using?**\n\nChrome newest version\n\n**What operating system are you using?**\n\nmacOS M3 Pro\n\n**Describe your issue**\nToday I try to upgrade to Tailwind v4, but without success.\n\nI didn't use postcss, I just have Tailwind in my package.json, my tailwind.config.js and the @import tailwind in my main scss file.\n\nIf I upgrade the package to 4.0.0, I have the following error:\nError: It looks like you're trying to use `tailwindcss` directly as a PostCSS plugin. \nThe PostCSS plugin has moved to a separate package, \nso to continue using Tailwind CSS with PostCSS \nyou'll need to install `@tailwindcss/postcss` and update your PostCSS configuration.\n\nI try to install @tailwind/postcss and create a PostCSS config file like this\n`export default {\n    plugins: {\n        \"@tailwindcss/postcss\": {}\n  }\n}`\n\nHas anyone any idea how to fix this problem?\nOn stackoverflow there is a similar question on this topic but the person is using the tailwind directive to import it.\nI've solved that but I still get the same error.\n\nStackoverflow:\nhttps://stackoverflow.com/questions/79380519/how-to-upgrade-tailwindcss","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15735","RelatedDescription":"Closed issue \"[v4] It looks like you're trying to use `tailwindcss` directly as a PostCSS plugin.\" (#15735)"},{"Id":"2807399703","IsPullRequest":false,"CreatedAt":"2025-01-23T16:41:35","Actor":"akphi","Number":"15754","RawContent":null,"Title":"[v4] generated CSS variables clash with existing variables","State":"open","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\n\n**What version of Tailwind CSS are you using?**\n\nv4.0.0\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nCLI\n\n**What version of Node.js are you using?**\n\nv21.7.3\n\n**What browser are you using?**\n\nChrome\n\n**What operating system are you using?**\n\nmacOS Sonoma 14.6\n\n**Reproduction URL**\n\nhttps://play.tailwindcss.com/qbun7ly6QS?file=css\n\n**Describe your issue**\n\nIn our project, we have already defined our own color palette using CSS variables like `--color-gray-200`, `--color-red-100` etc. like below\n\n/https://github.com/finos/legend-studio/blob/f6028bc13825bf2006d6439c659417b269c272d2/packages/legend-art/style/base/_variables.scss#L18-L131\n\nNow in v4, the auto-generated CSS classes from Tailwind will clash with those and cause us a headache to migrate over. I hope having a feature to enable adding a prefix to the namespace of Tailwind-generated CSS variables like `--tw-color-red-100` (when `prefix='tw'`) would be super helpful and allow a smoother transition for people.\n\nI started a discussion thread on this https://github.com/tailwindlabs/tailwindcss/discussions/15711 but realized from the responses that this could be a more common scenario for projects upgrading to v4 than I realized, so I want to flag this as a bug.\n\nThank you so much for this great library!","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15754","RelatedDescription":"Open issue \"[v4] generated CSS variables clash with existing variables\" (#15754)"},{"Id":"2807356928","IsPullRequest":true,"CreatedAt":"2025-01-23T16:24:29","Actor":"rtritto","Number":"15751","RawContent":null,"Title":"chore: move tailwindcss from dependencies to peer dependencies","State":"open","Body":"","Url":"https://github.com/tailwindlabs/tailwindcss/pull/15751","RelatedDescription":"Open PR \"chore: move tailwindcss from dependencies to peer dependencies\" (#15751)"},{"Id":"2807348745","IsPullRequest":false,"CreatedAt":"2025-01-23T16:20:45","Actor":"doits","Number":"15750","RawContent":null,"Title":"[v4] cli --watch seems to watch unneeded directories","State":"open","Body":"**What version of Tailwind CSS are you using?**\n\nv4.0.0\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\n`@twailwindcss/cli`\n\n**What version of Node.js are you using?**\n\nv20.18.1\n\n**What browser are you using?**\n\nN/A\n\n**What operating system are you using?**\n\nUbuntu 20.04\n\n**Reproduction URL**\n\nN/A\n\n**Describe your issue**\n\nI have the following directory structure:\n\n```\nscss/tailwind.css\n\nanother.php\nindex.php\n\nfiles/models/A_LOT_OF_DIRECTORIES # <-- 1000+ dirs\n```\n\nMy `scss/tailwind.css` looks like this:\n\n```css\n@layer theme, base, components, utilities;\n\n@import \"tailwindcss/theme.css\" layer(theme);\n@import \"tailwindcss/utilities.css\" layer(utilities) source(none);\n\n@source \"../*.php\";\n```\n\nReason: I only want tailwindcss to scan the php files in the root directory, nothing more, especially nothing in subdirectories.\n\nCompiling works:\n\n```bash\nnpx @tailwindcss/cli -i scss/tailwind.css -o c/tailwind.css -m\n≈ tailwindcss v4.0.0\n\nDone in 165ms\n```\n\nBut when I add `--watch`:\n\n```bash\nnpx @tailwindcss/cli -i scss/tailwind.css -o c/tailwind.css -m --watch\n≈ tailwindcss v4.0.0\n\nDone in 9s\n```\n\nNotice how long it takes.\n\nAnd sometimes I get this error:\n\n```\nnode:internal/process/promises:391\n    triggerUncaughtException(err, true /* fromPromise */);\n    ^\n\n[Error: inotify_add_watch on '/path/to/project/root/files/models/offerpdf/755411' failed: No space left on device]\n```\n\nWhat is it doing in `files/models/offerpdf`? It looks like it wants to watch this directory, but why? It isn't added to `@source` at all.\n\nWhen I only source a subdirectory (`@source \"../some_dir/*.php\";`) the problem goes away.\n\nIs there something broken with setting up the watchers since v4? I had no problems with v3 with the same configuration (through a `tailwind.config.js` though, but same/similar pattern only watching `*.php` in the root dir.).","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15750","RelatedDescription":"Open issue \"[v4] cli --watch seems to watch unneeded directories\" (#15750)"},{"Id":"2806877637","IsPullRequest":false,"CreatedAt":"2025-01-23T13:12:56","Actor":"Eirmas","Number":"15740","RawContent":null,"Title":"[v4] Angular conditional class not recognized by tailwind","State":"open","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\n\n**What version of Tailwind CSS are you using?**\n\nv4.0.0\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nAngular v19.1\n\n**What version of Node.js are you using?**\n\nv23.5.0\n\n**What browser are you using?**\n\nChrome\n\n**What operating system are you using?**\n\nWindows\n\n**Reproduction URL**\n\nI made a small repository showcasing the bug: https://github.com/Eirmas/tailwind-4-bug\n\n**Describe your issue**\n\nAngular allows for adding conditional classes with the following syntax:\n```html\n<div [class.pt-4]=\"bool\"></div>\n```\n\nIt seems that Tailwind doesn't see the `pt-4` class being used here, and therefore doesn't add it to the stylesheet.","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15740","RelatedDescription":"Open issue \"[v4] Angular conditional class not recognized by tailwind\" (#15740)"},{"Id":"2806768682","IsPullRequest":true,"CreatedAt":"2025-01-23T12:22:50","Actor":"RobinMalfait","Number":"15738","RawContent":null,"Title":"Ensure CSS variable shorthand uses valid CSS variables","State":"open","Body":"This PR fixes an issue where we didn't always correctly validated invalid CSS variables when using the CSS variable shorthand syntax.\n\nThis PR fixes that by ensuring we start with `--`. We can't validate that the variable exists at runtime, but we can validate if it looks like a valid CSS variable.\n\nWe can go a step further by validating if the CSS variable is valid syntax (e.g.: all characters are valid), but we can introduce this if this is causing actual issues in projects.\n\n```\np-(a-b)\n```\n\nUsed to compile to:\n```css\n.p-\\(a-b\\) {\n  padding: var(a-b);\n}\n```\n\nBut not anymore.\n","Url":"https://github.com/tailwindlabs/tailwindcss/pull/15738","RelatedDescription":"Open PR \"Ensure CSS variable shorthand uses valid CSS variables\" (#15738)"},{"Id":"2806613124","IsPullRequest":false,"CreatedAt":"2025-01-23T11:09:20","Actor":"ostrerov","Number":"15733","RawContent":null,"Title":"Laravel Illuminate\\Container\\EntryNotFoundException global error after upgrading to v4","State":"open","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\n\n**What version of Tailwind CSS are you using?**\n\nFor example: v4.0.0\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nFor example: vite 6\n\n**What version of Node.js are you using?**\n\nFor example: v22.12.0\n\n**What browser are you using?**\n\nFor example: Safari\n\n**What operating system are you using?**\n\nFor example: macOS\n\n**Describe your issue**\n\nI use a TALL stack (TailwindCSS + AlpineJS + Laravel + Livewire). After updating TailwindCSS to version 4, I get the error `Illuminate\\Container\\EntryNotFoundException` - `global`. I used the upgrade instruction through the command `npx @tailwindcss/upgrade@next`. By default, there is a PostCSS plugin, I changed to Vite - the error remained. I don't understand what's going on. Please help","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15733","RelatedDescription":"Open issue \"Laravel Illuminate\\Container\\EntryNotFoundException global error after upgrading to v4\" (#15733)"},{"Id":"2806561776","IsPullRequest":false,"CreatedAt":"2025-01-23T10:47:03","Actor":"silenius","Number":"15731","RawContent":null,"Title":"[v4] FreeBSD: Cannot find module @tailwindcss/oxide-freebsd-x64/tailwindcss-oxide.freebsd-x64.node","State":"open","Body":"**What version of Tailwind CSS are you using?**\n\n4.0.0\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nvue3\nvite/6.0.11 freebsd-x64 node-v20.12.2\n\n**What version of Node.js are you using?**\n\n20.12.2\n\n**What browser are you using?**\n\nFirefox\n\n**What operating system are you using?**\n\nFreeBSD\n\n**Describe your issue**\n\n```\n~/code/projects/amnesia_admin/ npx vite --host 127.0.0.1 --port 3000 --base /bbpf/admin/\nfailed to load config from /usr/home/jcigar/code/projects/amnesia_admin/vite.config.mjs\nerror when starting dev server:\nError: Cannot find module '/usr/home/jcigar/code/projects/amnesia_admin/node_modules/@tailwindcss/oxide-freebsd-x64/tailwindcss-oxide.freebsd-x64.node'. Please verify that the package.json has a valid \"main\" entry\n    at tryPackage (node:internal/modules/cjs/loader:443:19)\n    at Module._findPath (node:internal/modules/cjs/loader:714:18)\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1129:27)\n    at Module._load (node:internal/modules/cjs/loader:984:27)\n    at Module.require (node:internal/modules/cjs/loader:1231:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (/usr/home/jcigar/code/projects/amnesia_admin/node_modules/@tailwindcss/oxide/index.js:160:25)\n    at Module._compile (node:internal/modules/cjs/loader:1369:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1427:10)\n    at Module.load (node:internal/modules/cjs/loader:1206:32)\n\n```\nThis is with:\n```javascript\n~/code/projects/amnesia_admin/ cat tailwind.config.mjs \nimport { fontFamily } from './src/fonts'\n\nmodule.exports = {\n  content: [\n    \"./index.html\",\n    \"./src/**/*.{vue,js,ts,jsx,tsx}\",\n  ],\n  theme: {\n    fontFamily: fontFamily,\n    extend: {},\n  },\n  plugins: [\n    require('@tailwindcss/forms'),\n    require('@tailwindcss/typography'),\n  ],\n  safelist: [\n        {\n            pattern : /font-/,\n            variants: ['hover', 'sm', 'md', 'lg', 'xl', '2xl']\n        },\n        /*\n    {\n      pattern: /(font|h|w|px|py|pt|pb|pl|pr|mx|my|mt|mb|ml|mr|text|bg|outline)-/,\n      variants: ['hover', 'sm', 'md', 'lg', 'xl', '2xl']\n    }\n        */\n  ]\n}\n```\n\nThanks!\n\n","Url":"https://github.com/tailwindlabs/tailwindcss/issues/15731","RelatedDescription":"Open issue \"[v4] FreeBSD: Cannot find module @tailwindcss/oxide-freebsd-x64/tailwindcss-oxide.freebsd-x64.node\" (#15731)"}],"ResultType":"GitHubIssue"}},"RunOn":"2025-01-25T03:30:23.4773789Z","RunDurationInMilliseconds":364}