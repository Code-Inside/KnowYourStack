{"Data":{"TailwindCss-Issues":{"Issues":[{"Id":"3071840941","IsPullRequest":false,"CreatedAt":"2025-05-18T14:52:23","Actor":"marcospgp","Number":"18079","RawContent":null,"Title":"sizing utilities using --spacing variables instead of --container","State":"closed","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\n\n**What version of Tailwind CSS are you using?**\n\n`\"^4.1.7\",`\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nbun 1.2.13+64ed68c9e\n\n**What version of Node.js are you using?**\n\nbun 1.2.13+64ed68c9e\n\n**What browser are you using?**\n\nChrome\n\n**What operating system are you using?**\n\nwindows\n\n**Reproduction URL**\n\nn/a\n\n**Describe your issue**\n\nusing utilities like `size-xl` or `max-w-md` should rely on sizing variables with the `--container` prefix as per docs (such as `--container-xl`), but they instead use `--spacing` variables\n\n![Image](https://github.com/user-attachments/assets/063f8312-aa7b-4766-9dd4-0d491d318ccb)","Url":"https://github.com/tailwindlabs/tailwindcss/issues/18079","RelatedDescription":"Closed issue \"sizing utilities using --spacing variables instead of --container\" (#18079)"},{"Id":"3071036349","IsPullRequest":false,"CreatedAt":"2025-05-17T20:10:57","Actor":"hookenz","Number":"18076","RawContent":null,"Title":"AVX error on older CPUs","State":"open","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\n\n**What version of Tailwind CSS are you using?**\n\nFor example: v4.1.7\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nhttps://github.com/hookenz/gotailwind\n\n**What version of Node.js are you using?**\n\nN/A\n\n**What browser are you using?**\n\nN/A\n\n**What operating system are you using?**\n\nMac Amd64\n\n**Reproduction URL**\n\nRequires old hardware\n\n**Describe your issue**\n\nI'm the author of gotailwind.  A go wrapper around tailwindcss which makes it possible to run tailwindcss in go projects with `go tool gotailwind`.  \nSee: https://github.com/hookenz/gotailwind\n\nI have a friend who ran it on his Mac and got this output.\n\n```\ngo tool gotailwind\n\nwarn: CPU lacks AVX support, strange crashes may occur.  \nReinstall Bun or use *-baseline build: https://github.com/oven-sh/bun/releases/download/bun-v1.2.13/bun-darlin-x64-baseline.zip\n\n...\n```\n\nA bit of googling and it seems it would might produce this warning on a CPU lacking AVX2 support actually?  not certain.","Url":"https://github.com/tailwindlabs/tailwindcss/issues/18076","RelatedDescription":"Open issue \"AVX error on older CPUs\" (#18076)"},{"Id":"3068569156","IsPullRequest":false,"CreatedAt":"2025-05-17T12:24:07","Actor":"ppo","Number":"18055","RawContent":null,"Title":"Astro site failing after upgrading Tailwind v3 to v4 – Tailwind not loaded/initialized?","State":"closed","Body":"- Tailwind CSS: v4.1.7\n- Node: v22.15.0\n- OS: macOS 15.4.1\n- **dependencies:**\n    - astro 5.7.13\n    - @tailwindcss/vite 4.1.7\n- **devDependencies:**\n    - @tailwindcss/postcss 4.1.7\n    - @tailwindcss/typography 0.5.16\n\n**Describe your issue**\n\nI had an Astro site (v5.0.9) that was working fine using Tailwind v3.4.16 (and @astrojs/tailwind v5.1.3), with this in `tailwind.config.mjs`: \n```js\n  theme: {\n    extend: {\n      colors: {\n        background: '#fafafa',\n        text: '#333',\n        primary: '#1e88e5',\n        accent: '#7cb342',\n      },\n```\n\nI upgraded the project with `pnpm up --latest` and modifying the code according to [Astro's Upgrade from Tailwind 3](https://docs.astro.build/en/guides/styling/#upgrade-from-tailwind-3). Basically:\nIn `astro.config.mjs`:\n```js\nimport tailwind from '@tailwindcss/vite';\nexport default defineConfig({\n…\n  vite: {\n    plugins: [tailwind()],\n  },\n…\n```\n\nIn `global.css`:\n```css\n@import \"tailwindcss\";\n```\n\nAstro shows this error `Cannot apply unknown utility class: XXX` where XXX was things like `text-text`, `text-primary`, etc. I removed all these one after the other and then had that error with `px-4`, so it's deeper than just my theme configuration.  \nI reverted these changes and tried your upgrade tool but it's crashing for apparently the same reason…\n\n```shell\nnpx @tailwindcss/upgrade\n≈ tailwindcss v4.1.7\n\n│ Searching for CSS files in the current directory and its subdirectories…\n\n│ Migrating stylesheets…\n\n│ ↳ Cannot apply unknown utility class: bg-background in `./src/styles/global.css`\n\n│ ↳ Migrated stylesheet: `./src/styles/global.css`\n\n│ Updating dependencies…\n\n│ ↳ Updated package: `tailwindcss`\n\n│ ↳ Updated package: `@tailwindcss/postcss`\n\n│ ↳ Updated package: `@tailwindcss/vite`\n\n│ Migrating templates…\n\nError: Cannot apply unknown utility class: bg-background\n    at onInvalidCandidate (file:///Users/xxx/.npm/_npx/234afcd4ab2f5775/node_modules/tailwindcss/dist/chunk-U7LQKMN6.mjs:18:410)\n    at de (file:///Users/xxx/.npm/_npx/234afcd4ab2f5775/node_modules/tailwindcss/dist/chunk-U7LQKMN6.mjs:13:29803)\n    at file:///Users/xxx/.npm/_npx/234afcd4ab2f5775/node_modules/tailwindcss/dist/chunk-U7LQKMN6.mjs:18:373\n    at D (file:///Users/xxx/.npm/_npx/234afcd4ab2f5775/node_modules/tailwindcss/dist/chunk-U7LQKMN6.mjs:3:1655)\n    at Oe (file:///Users/xxx/.npm/_npx/234afcd4ab2f5775/node_modules/tailwindcss/dist/chunk-U7LQKMN6.mjs:18:172)\n    at Qr (file:///Users/xxx/.npm/_npx/234afcd4ab2f5775/node_modules/tailwindcss/dist/chunk-U7LQKMN6.mjs:35:828)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async pn (file:///Users/xxx/.npm/_npx/234afcd4ab2f5775/node_modules/tailwindcss/dist/chunk-U7LQKMN6.mjs:35:1123)\n    at async Ca (file:///Users/xxx/.npm/_npx/234afcd4ab2f5775/node_modules/@tailwindcss/node/dist/index.mjs:10:3358)\n    at async xs (file:///Users/xxx/.npm/_npx/234afcd4ab2f5775/node_modules/@tailwindcss/upgrade/dist/index.mjs:249:12967)\n```","Url":"https://github.com/tailwindlabs/tailwindcss/issues/18055","RelatedDescription":"Closed issue \"Astro site failing after upgrading Tailwind v3 to v4 – Tailwind not loaded/initialized?\" (#18055)"},{"Id":"3070576704","IsPullRequest":false,"CreatedAt":"2025-05-17T09:48:14","Actor":"PhotonQuantum","Number":"18072","RawContent":null,"Title":"Custom font doesn't work with css var","State":"closed","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\n\n**What version of Tailwind CSS are you using?**\n\nFor example: v4.1.7\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nN.A\n\n**What version of Node.js are you using?**\n\nv22.14.0\n\n**What browser are you using?**\n\nFirefox\n\n**What operating system are you using?**\n\nmacOS\n\n**Reproduction URL**\n\nhttps://play.tailwindcss.com/Wqb57TyO7w\n\n**Describe your issue**\n\nAs you can see in the example, only `--font-mono` is correctly set as the provided CSS variable, while `--default-mono-font-family` is not.\n","Url":"https://github.com/tailwindlabs/tailwindcss/issues/18072","RelatedDescription":"Closed issue \"Custom font doesn't work with css var\" (#18072)"},{"Id":"3070557574","IsPullRequest":false,"CreatedAt":"2025-05-17T08:24:37","Actor":"PhotonQuantum","Number":"18071","RawContent":null,"Title":"Markdown class directive syntax not supported","State":"open","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\n\n**What version of Tailwind CSS are you using?**\n\nv4.1.7\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nN/A\n\n**What version of Node.js are you using?**\n\nv22.14.0\n\n**What browser are you using?**\n\nN/A\n\n**What operating system are you using?**\n\nmacOS\n\n**Reproduction URL**\n\nhttps://github.com/PhotonQuantum/tailwind-mdx-repro\n\n```shell\npnpx @tailwindcss/cli -i global.css -o output.css\n```\n\n**Describe your issue**\n\nClass names in [markdown generic directives](https://talk.commonmark.org/t/generic-directives-plugins-syntax/444) (e.g. `:span[Some Text]{.text-gray-500}`) are not extracted. This proposal is adopted by plugins like https://github.com/remarkjs/remark-directive.\n","Url":"https://github.com/tailwindlabs/tailwindcss/issues/18071","RelatedDescription":"Open issue \"Markdown class directive syntax not supported\" (#18071)"},{"Id":"3070244175","IsPullRequest":true,"CreatedAt":"2025-05-17T03:17:37","Actor":"Aurailus","Number":"18070","RawContent":null,"Title":"Allow `@custom-variant` to redefine built-in variants with proper `order`.","State":"open","Body":"## Summary\r\n\r\nAdds an \"override\" property to the object bag passed to `Variants.static` which forces a variant to get a new `order` even if it has already been defined. This property is set in `index.ts:399` for the `@custom-variant` rule to allow custom variants to redefine existing variants like `active:` and have them be properly ordered relative to other custom variants, a.l.a tailwind v3. See #18067 for the motivating regression.\r\n\r\n## Test plan\r\n\r\nTested using the playground directory. This is a very insignificant (~17 LOC) change which I don't expect to cause many new issues. I can add more robust testing if necessary, just let me know.","Url":"https://github.com/tailwindlabs/tailwindcss/pull/18070","RelatedDescription":"Open PR \"Allow `@custom-variant` to redefine built-in variants with proper `order`.\" (#18070)"},{"Id":"3070040350","IsPullRequest":true,"CreatedAt":"2025-05-16T23:16:51","Actor":"RobinMalfait","Number":"18068","RawContent":null,"Title":"Improve performance of upgrade tool","State":"open","Body":"This PR improves the performance of the upgrade tool due to a regression introduced by https://github.com/tailwindlabs/tailwindcss/pull/18057\n\nEssentially, we had to make sure that we are not in `<style>…</style>` tags because we don't want to migrate declarations in there such as `flex-shrink: 0;`\n\nThe issue with this approach is that we checked _before_ the candidate if a `<style` cold be found and if we found an `</style>` tag after the candidate.\n\nWe would basically do this check for every candidate that matches.\n\nRunning this on our Tailwind UI codebase, this resulted in a bit of a slowdown:\n\n```diff\n- Before: ~13s\n+  After: ~5m 39s\n```\n\n... quite the difference.\n\nThis is because we have a snapshot file that contains ~650k lines of code. Looking for `<style>` and `</style>` tags in a file that large is expensive, especially if we do it a lot.\n\nI ran some numbers and that file contains ~1.8 million candidates.\n\nAnyway, this PR fixes that by doing a few things:\n\n1. We will compute the `<style>` and `</style>` tag positions only once per file and cache it. This allows us to re-use this work for every candidate that needs it.\n2. We track the positions, which means that we can simply check if a candidate's location is within any of 2 start and end tags. If so, we skip it.\n\nRunning the numbers now gets us to:\n\n```diff\n- Before: ~5m 39s\n+  After: ~9s\n```\n\nMuch better!\n","Url":"https://github.com/tailwindlabs/tailwindcss/pull/18068","RelatedDescription":"Open PR \"Improve performance of upgrade tool\" (#18068)"},{"Id":"3069959429","IsPullRequest":false,"CreatedAt":"2025-05-16T21:59:33","Actor":"Aurailus","Number":"18067","RawContent":null,"Title":"[V4] Regression in ability to order custom variants with built-in ones?","State":"open","Body":"**What version of Tailwind CSS are you using?**\n\nv4.1.7\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nWebpack 5.96.1 + PostCSS 8.4.48\n\n**What version of Node.js are you using?**\n\nv20.18.0\n\n**What browser are you using?**\n\nChrome\n\n**What operating system are you using?**\n\nArch Linux\n\n**Reproduction URL**\n\nhttps://play.tailwindcss.com/UBrKdpd6MD?file=css\n\n**Describe your issue**\n\nIn Tailwind V3, it was possible to re-declare built-in variants (e.g. active:) so that they take priority over custom variants that should have lower precedence. In Tailwind V4, this doesn't seem to be possible, which severely messes with the ability to make custom \"shorthand\" variants for focus and hover states (hocus:) without losing the ability to also have active: or disabled: or any of the builtin variants take precedence. I posted about this in this [discussion](https://github.com/tailwindlabs/tailwindcss/discussions/17860) but I didn't get any response. Is there a way to work around this in V4, or is this just a regression?","Url":"https://github.com/tailwindlabs/tailwindcss/issues/18067","RelatedDescription":"Open issue \"[V4] Regression in ability to order custom variants with built-in ones?\" (#18067)"},{"Id":"3069777041","IsPullRequest":true,"CreatedAt":"2025-05-16T19:48:48","Actor":"RobinMalfait","Number":"18065","RawContent":null,"Title":"Improve `@tailwindcss/upgrade` and `pnpm` workspaces support","State":"open","Body":"This PR fixes an issue where an error such as:\r\n\r\n<img width=\"1702\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4e6f75c7-3182-4497-939e-96cff08c55ae\" />\r\n\r\nWill be thrown during the upgrade process. This can happen when you are using `pnpm` and your CSS file includes a `@import \"tailwindcss\";`. In this scenario, `tailwindcss` will be loaded from a shared `.pnpm` folder outside of the current working directory.\r\n\r\nIn this case, we are also not interested in migrating _that_ file, but we also don't want the upgrade process to just crash.\r\n\r\nI didn't see an option to ignore errors like this, so wrapped it in a try/catch instead.\r\n\r\nIt also fixes another issue where if you are using a pnpm workspace and run the upgrade tool from the root, then it throws you an error that you cannot add dependencies to the workspace root unless `-w` or `--workspace-root` flags are passed.\r\n\r\nFor this, we disable the check entirely using the `--ignore-workspace-root-check` flag. If we always used the `--workspace-root` flag, then the dependencies would always be added to the root, regardless of where you are running the script from which is not what we want. \r\n\r\n## Test plan\r\n\r\nBefore:\r\n\r\n<img width=\"1816\" alt=\"image\" src=\"https://github.com/user-attachments/assets/78246876-3eb6-4539-a557-d3d366f1b3a3\" />\r\n\r\nAfter:\r\n\r\n<img width=\"1816\" alt=\"image\" src=\"https://github.com/user-attachments/assets/a65e4421-d7c5-4d83-b35d-934708543e25\" />\r\n\r\nBefore:\r\n \r\n<img width=\"1816\" alt=\"image\" src=\"https://github.com/user-attachments/assets/53772661-2c4a-4212-84d9-a556a0ad320f\" />\r\n\r\nAfter:\r\n\r\n<img width=\"1816\" alt=\"image\" src=\"https://github.com/user-attachments/assets/5bfaf20e-34b8-44fd-9b59-e72d36738879\" />\r\n","Url":"https://github.com/tailwindlabs/tailwindcss/pull/18065","RelatedDescription":"Open PR \"Improve `@tailwindcss/upgrade` and `pnpm` workspaces support\" (#18065)"},{"Id":"3069455002","IsPullRequest":false,"CreatedAt":"2025-05-16T16:45:10","Actor":"spiess-demos","Number":"18062","RawContent":null,"Title":"@source glob wildcard ** does not discover files with same child folder name as parent folder","State":"closed","Body":"**What version of Tailwind CSS are you using?**\n\nv4.1.7\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nDoes not matter, occurs with Webpack/postcss-loader as well as Vite.\n\n**What version of Node.js are you using?**\n\nv20.19.1\n\n**What browser are you using?**\n\nChrome 134.0.6998.165\n\n**What operating system are you using?**\n\nDebian GNU/Linux trixie/sid Kernel 6.12.12-amd64\n\n**Reproduction URL**\n\nhttps://stackblitz.com/edit/vitejs-vite-xzdvwn3v?file=src%2Fstyle.css\nThe stackblitz seems to work in a recent Google Chrome, however Firefox throsw lots of errors (not related to my things, i suppose).\n\n**Describe your issue**\n\nIn a rather large monorepo, we have recently migrated to Tailwind 4 and came across an issue with how `@source` resolves certain globs. We disable auto detection with `source(none)`, to speed things up, and then add certain folders to discover markup using grep syntax. However if a folder happens to contain a folder with the same name, the `**` wildcard cannot be used to target the source files.\n\nThe style.css file:\n\n```\n@import 'tailwindcss' source(none);\n\n/*\n  This does not work - .bg-black-500 can not be found in the final css file.\n  Issue seems to occur when the ** glob wildcard is used in a situation \n  where a child folder is named the same as a parent folder within the glob string.\n*/\n@source 'addon/path/addon/**/*.html';\n\n/*\n  This works - .bg-green-500 can be found in the final css file.\n  Issue seems to occur only with similar folder names.\n*/\n@source 'addon/path/otherAddon/**/*.html';\n\n/* \n  This works - .bg-cyan-500 can be found in the final css file.\n  Specifying a path without the ** wildcard seems to work even with\n  child folders with the same name as a parant folder.\n*/\n@source 'addon/path/addon/component/*.html';\n```\n\nFolder structure:\n```\nsrc\n  /addon\n    /path\n      /addon\n        /component\n        /otherComponent\n      /otherAddon\n        /component\n```\n\nWith the above `@source` configuration, markup in addon should be discovered as well as in otherAddon. However this is not the case, content in addon (which repeats the name of the outermost addon folder) is only discovered if no `**` wildcard is used to target it.","Url":"https://github.com/tailwindlabs/tailwindcss/issues/18062","RelatedDescription":"Closed issue \"@source glob wildcard ** does not discover files with same child folder name as parent folder\" (#18062)"},{"Id":"3069143791","IsPullRequest":false,"CreatedAt":"2025-05-16T14:37:37","Actor":"AiSirachcha21","Number":"18060","RawContent":null,"Title":"`--sizing-*` is not allowed to be used when generating functional utilities","State":"closed","Body":"**What version of Tailwind CSS are you using?**\n\nv4.1.7\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nNo build tool, using distributed CSS file directly.\n\n**What version of Node.js are you using?**\n\nv22.12.0\n\n**What browser are you using?**\n\nFirefox 138.0.3\n\n**What operating system are you using?**\n\nWindows\n\n**Reproduction URL**\nhttps://play.tailwindcss.com/fAp6k8fj6E?file=css\n\n**Describe your issue**\nI am attempting to create a utility similar to `size-{--spacing-*}` (ex: `size-4`, `size-8` etc.) but with `min-width` and `min-height` named `min-size-xx` (xx being the value)\n \nI have created multiple functional utilities with v4.1.7 before but for some reason the `--spacing-*` utility is not allowed to be added into the `--value()` function.\n\nIt works when I use `--text-*`, `--leading-*` etc etc.\n\nWhen attempting to use this and build it via the `tailwindcss` script it errors out saying\n\n```bash\nError: Cannot apply unknown utility class: min-size-4\n```\n\nThe script I'm executing via `yarn` is\n\n```bash\ntailwindcss -i ./path/to/file.css -o ./path/to/file.dist.css\n```\n","Url":"https://github.com/tailwindlabs/tailwindcss/issues/18060","RelatedDescription":"Closed issue \"`--sizing-*` is not allowed to be used when generating functional utilities\" (#18060)"},{"Id":"3068907869","IsPullRequest":true,"CreatedAt":"2025-05-16T12:43:55","Actor":"RobinMalfait","Number":"18059","RawContent":null,"Title":"Improve error messages when `@apply` fails","State":"open","Body":"This PR improves error messages when `@apply` fails. Right now it gives you a generic error message that you cannot apply a certain utility.\r\n\r\n```css\r\n.foo {\r\n  @apply bg-red-500;\r\n}\r\n```\r\n\r\nWould result in:\r\n```\r\nCannot apply unknown utility class: bg-red-500\r\n```\r\n\r\nHowever, there are some situations where we can give you more context about what's happening.\r\n\r\n### Missing `@import \"tailwindcss\"` or `@reference`\r\n\r\nIf you are in a Vue file for example, and you have the following code:\r\n```vue\r\n<template>\r\n  <div class=\"foo\"></div>\r\n</template>\r\n\r\n<style>\r\n.foo {\r\n  @apply bg-red-500;\r\n}\r\n</style>\r\n```\r\n\r\nThen this will now result in:\r\n```\r\nCannot apply unknown utility class: `bg-red-500`.\r\nIt looks like you are missing a `@reference \"app.css\"` or `@import \"tailwindcss\";`\r\n```\r\n\r\nWe do this by checking if we found a `@tailwind utilities` or `@reference`. If not, we throw this more specific error.\r\n\r\n### Explicitly excluded classes via `@source not inline('…')`\r\n\r\nOr via the legacy `blocklist` from a JS config.\r\n\r\nIf you then have the following file:\r\n```css\r\n@import \"tailwindcss\";\r\n\r\n@source not inline('bg-white');\r\n\r\n.foo {\r\n  @apply bg-white;\r\n}\r\n```\r\n\r\nThen this will now result in:\r\n```\r\nCannot apply `bg-white`, it seems like the utility was explicitly excluded and cannot be applied.\r\n\r\nMore info: https://tailwindcss.com/docs/detecting-classes-in-source-files#explicitly-excluding-classes\r\n```\r\n\r\nWe do this by checking if the class was marked as invalid.\r\n\r\n### Applying unprefixed class in prefix mode\r\n\r\nIf you have the prefix option configured, but you are applying a non-prefixed class, then we will show the following error:\r\n\r\nGiven this input:\r\n```css\r\n@import \"tailwindcss\" prefix(tw);\r\n\r\n.foo {\r\n  @apply underline;\r\n}\r\n```\r\n\r\n\r\nThe following error is thrown:\r\n```\r\nCannot apply unprefixed utility class: `underline`, did you mean `tw:underline`?\r\n```\r\n\r\n## Test plan\r\n\r\n1. Everything behaves the same, but the error messages give more details.\r\n2. Updated tests with new error messages\r\n3. Added new unit tests to verify the various scenarios\r\n4. Added a Vue specific integration test with a `<style>…</style>` block using `@apply`","Url":"https://github.com/tailwindlabs/tailwindcss/pull/18059","RelatedDescription":"Open PR \"Improve error messages when `@apply` fails\" (#18059)"},{"Id":"3068860979","IsPullRequest":false,"CreatedAt":"2025-05-16T12:22:51","Actor":"andreww2012","Number":"18058","RawContent":null,"Title":"`@apply` directive not transformed inside sass/scss code","State":"open","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\n\n**What version of Tailwind CSS are you using?**\n\nv4.1.7\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nvite v6.3.5\n\n**What version of Node.js are you using?**\n\nNot relevant\n\n**What browser are you using?**\n\nNot relevant\n\n**What operating system are you using?**\n\nNot relevant\n\n**Reproduction URL**\n\nhttps://stackblitz.com/edit/vitejs-vite-rsanjkjj\n\n**Describe your issue**\n\nIf you set a custom tailwind prefix like `@import 'tailwindcss' prefix(tw)`, `@apply` directives at least inside Vue's `<style>` blocks will be left as-is (unprocessed) if `lang=\"scss\"` is used.","Url":"https://github.com/tailwindlabs/tailwindcss/issues/18058","RelatedDescription":"Open issue \"`@apply` directive not transformed inside sass/scss code\" (#18058)"},{"Id":"3068617299","IsPullRequest":true,"CreatedAt":"2025-05-16T10:53:35","Actor":"RobinMalfait","Number":"18057","RawContent":null,"Title":"Do not migrate declarations in `<style>` blocks","State":"closed","Body":"This PR improves the upgrade tool by making sure that we don't migrate CSS declarations in `<style>…</style>` blocks.\n\nWe do this by making sure that:\n\n1. We detect a declaration, the current heuristic is that the candidate is:\n   - Preceded by whitespace\n   - Followed by a colon and whitespace\n\n   ```html\n   <style>\n   .foo {\n       flex-shrink: 0;\n      ^           ^^\n   }\n   </style>\n   ```\n\n2. We are in a `<style>…</style>` block\n\n   ```html\n   <style>\n   ^^^^^^\n   .foo {\n       flex-shrink: 0;\n   }\n   </style>\n   ^^^^^^^^\n   ```\n\nThe reason we have these 2 checks is because just relying on the first heuristic alone, also means that we will not be migrating keys in JS objects, because they typically follow the same structure:\n\n```js\nlet classes = {\n flex: 0,\n^    ^^\n}\n```\n\nAnother important thing to note is that we can't just ignore anything in between `<style>…</style>` blocks, because you could still be using `@apply` that we _do_ want to migrate.\n\nLast but not least, the first heuristics is not perfect either. If you are writing minified CSS then this will likely fail if there is no whitespace around the candidate.\n\nBut my current assumption is that nobody should be writing minified CSS, and minified CSS will very likely be generated and gitignored. In either situation, replacements in minified CSS will not be any worse than it is today.\n\nI'm open to suggestions for better heuristics.\n\n## Test plan\n\n1. Added an integration test that verifies that we do migrate `@apply` and don't migrate the `flex-shrink: 0;` declaration.\n\n\nFixes: #17975\n\n","Url":"https://github.com/tailwindlabs/tailwindcss/pull/18057","RelatedDescription":"Closed or merged PR \"Do not migrate declarations in `<style>` blocks\" (#18057)"},{"Id":"3068601158","IsPullRequest":true,"CreatedAt":"2025-05-16T10:21:37","Actor":"philipp-spiess","Number":"18056","RawContent":null,"Title":"Proposal: Allow overwriting static utilities that have a namespace","State":"open","Body":"This PR attempts to move static utilities that are overwriteable by a theme value to be a fallback rather than a conflicting implementation. The idea is to allow a theme value to take presedence over that static utility _and cause it not to generate_.\r\n\r\nFor example, when overwriting the `--radius-full` variant, it should ensure that the default `rounded-full` no longer emits the `calc(infinity * 1px)` declaration:\r\n\r\n```ts\r\nexpect(\r\n  await compileCss(\r\n    css`\r\n      @theme {\r\n        --radius-full: 99999px;\r\n      }\r\n      @tailwind utilities;\r\n    `,\r\n    ['rounded-full'],\r\n  ),\r\n).toMatchInlineSnapshot(`\r\n  \":root, :host {\r\n    --radius-full: 99999px;\r\n  }\r\n\r\n  .rounded-full {\r\n    border-radius: var(--radius-full);\r\n  }\"\r\n`)\r\n```\r\n\r\nThis allows anyone who wants `--radius-full` to be a CSS variable to simply define it in their theme:\r\n\r\n```css\r\n@theme {\r\n  /* Make `--radius-full` a CSS variable without the utility generating two CSS classes */\r\n  --radius-full: calc(infinity * 1px);\r\n}\r\n```\r\n\r\nThe idea is to extend this pattern across all functional utilities that also have static utilities that can collide with the namespace. This gives users more control over what they want as CSS variables when the defaults don't work for them, allowing them to resolve #16639 and #15115 in user space.","Url":"https://github.com/tailwindlabs/tailwindcss/pull/18056","RelatedDescription":"Open PR \"Proposal: Allow overwriting static utilities that have a namespace\" (#18056)"},{"Id":"3068454237","IsPullRequest":false,"CreatedAt":"2025-05-16T09:22:21","Actor":"alexkiro","Number":"18053","RawContent":null,"Title":"Upgrade to v4 doesn't work: Cannot apply unknown utility class: bg-opacity-50","State":"closed","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\n\n**What version of Tailwind CSS are you using?**\n\nv3.4.10 -> v4.1.7\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\n- postcss 8.5.3\n- vite 6.3.5\n\n**What version of Node.js are you using?**\n\nv22.11.0\n\n**What browser are you using?**\n\nN/A\n\n**What operating system are you using?**\n\nLinux\n\n**Describe your issue**\n\nProject cannot be migrated \n\n```\n$ npx @tailwindcss/upgrade --force\n\n≈ tailwindcss v4.1.7\n\n│ Searching for CSS files in the current directory and its subdirectories… \n\n│ ↳ Linked `./tailwind.config.js` to `./src/styles/main.css` \n\n│ Migrating JavaScript configuration files… \n\n│ ↳ The configuration file at `./tailwind.config.js` could not be automatically migrated to the new CSS configuration format, so your CSS has been updated to load your existing \n│   configuration file. \n\n│ Migrating stylesheets… \n\n│ ↳ Migrated stylesheet: `./src/styles/main.css` \n\n│ Updating dependencies… \n\n│ ↳ Updated package: `tailwindcss` \n\n│ Migrating templates… \n\nError: Cannot apply unknown utility class: bg-opacity-50\n    at onInvalidCandidate (file:///home/kiro/.npm/_npx/234afcd4ab2f5775/node_modules/tailwindcss/dist/chunk-U7LQKMN6.mjs:18:410)\n    at de (file:///home/kiro/.npm/_npx/234afcd4ab2f5775/node_modules/tailwindcss/dist/chunk-U7LQKMN6.mjs:13:29803)\n    at file:///home/kiro/.npm/_npx/234afcd4ab2f5775/node_modules/tailwindcss/dist/chunk-U7LQKMN6.mjs:18:373\n    at D (file:///home/kiro/.npm/_npx/234afcd4ab2f5775/node_modules/tailwindcss/dist/chunk-U7LQKMN6.mjs:3:1655)\n    at Oe (file:///home/kiro/.npm/_npx/234afcd4ab2f5775/node_modules/tailwindcss/dist/chunk-U7LQKMN6.mjs:18:172)\n    at Qr (file:///home/kiro/.npm/_npx/234afcd4ab2f5775/node_modules/tailwindcss/dist/chunk-U7LQKMN6.mjs:35:828)\n    at async pn (file:///home/kiro/.npm/_npx/234afcd4ab2f5775/node_modules/tailwindcss/dist/chunk-U7LQKMN6.mjs:35:1123)\n    at async Ca (file:///home/kiro/.npm/_npx/234afcd4ab2f5775/node_modules/@tailwindcss/node/dist/index.mjs:10:3358)\n    at async xs (file:///home/kiro/.npm/_npx/234afcd4ab2f5775/node_modules/@tailwindcss/upgrade/dist/index.mjs:249:12967)\n```\n","Url":"https://github.com/tailwindlabs/tailwindcss/issues/18053","RelatedDescription":"Closed issue \"Upgrade to v4 doesn't work: Cannot apply unknown utility class: bg-opacity-50\" (#18053)"},{"Id":"3068091055","IsPullRequest":false,"CreatedAt":"2025-05-16T06:54:48","Actor":"skttl","Number":"18050","RawContent":null,"Title":"`in-open` doesn't work in nested scenarios","State":"closed","Body":"**What version of Tailwind CSS are you using?**\n\n4.1.7\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nTailwind Play\n\n**What version of Node.js are you using?**\n\nwhatever Tailwind Play does\n\n**What browser are you using?**\n\nChrome\n\n**What operating system are you using?**\n\nWindows\n\n**Reproduction URL**\n\nhttps://play.tailwindcss.com/Z9z8fdBjse\n\n**Describe your issue**\n\nWhen nesting details elements, the `is-open` variant is not useful, as it matches with the outer details element. See the play link, where I have some text that displays whether or not the details element is open. When opening the outer one, the inner displays as open too.\n","Url":"https://github.com/tailwindlabs/tailwindcss/issues/18050","RelatedDescription":"Closed issue \"`in-open` doesn't work in nested scenarios\" (#18050)"},{"Id":"3067064029","IsPullRequest":false,"CreatedAt":"2025-05-15T18:22:04","Actor":"KonstantinVlasov","Number":"18047","RawContent":null,"Title":"Responsive modifiers for components not working in tailwind 4","State":"closed","Body":"**What version of Tailwind CSS are you using?**\nv4.1.7\n\n**Describe your issue**\nHi! Thank you for your big work with tailwind 4.\n\nWe have a problem with responsive modifiers for our components using tailwind 4.\nExample usage: `<div class=\"button is-small sm:is-big\">example</div>`\n\nWith tailwind 3 it's very easy to implement:\n\n```\n@layer components {\n    .button {\n        @apply h-10;\n        &.is-small { @apply h-8; }\n        &.is-big { @apply h-12; }\n    }\n}\n```\n\nHow we can achive this using tailwind 4? `@utility` don't working as expected\n","Url":"https://github.com/tailwindlabs/tailwindcss/issues/18047","RelatedDescription":"Closed issue \"Responsive modifiers for components not working in tailwind 4\" (#18047)"},{"Id":"3066733380","IsPullRequest":true,"CreatedAt":"2025-05-15T16:12:52","Actor":"depfu[bot]","Number":"18046","RawContent":null,"Title":"Update all of nextjs 15.3.1 → 15.3.2 (patch)","State":"closed","Body":"\n\n\n\n\nHere is everything you need to know about this update. Please take a good look at what changed and the test results before merging this pull request.\n\n### What changed?\n\n\n\n\n#### ✳️ eslint-config-next (15.3.1 → 15.3.2)\n\n\n\n\n\nSorry, we couldn't find anything useful about this release.\n\n\n\n#### ✳️ next (15.3.1 → 15.3.2) · [Repo](https://github.com/vercel/next.js)\n\n\n\n<details>\n<summary>Release Notes</summary>\n<h4><a href=\"https://github.com/vercel/next.js/releases/tag/v15.3.2\">15.3.2</a></h4>\n\n<blockquote><div class=\"markdown-alert markdown-alert-note\" dir=\"auto\">\n<p class=\"markdown-alert-title\" dir=\"auto\"><svg class=\"octicon octicon-info mr-2\" viewbox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z\"></path></svg>Note</p>\n<p dir=\"auto\">This release is backporting bug fixes. It does <strong>not</strong> include all pending features/changes on canary.</p>\n</div>\n<h3 dir=\"auto\">Core Changes</h3>\n<ul dir=\"auto\">\n<li>backport: fix(turbopack): Store persistence of wrapped task on RawVc::LocalOutput (<a href=\"https://bounce.depfu.com/github.com/vercel/next.js/pull/78488\">#78488</a>) (<a href=\"https://bounce.depfu.com/github.com/vercel/next.js/pull/78883\">#78883</a>)</li>\n<li>@next/mdx: Use stable turbopack config options (<a href=\"https://bounce.depfu.com/github.com/vercel/next.js/pull/78880\">#78880</a>)</li>\n<li>Fix react-compiler: Fix detection of interest (<a href=\"https://bounce.depfu.com/github.com/vercel/next.js/pull/78879\">#78879</a>)</li>\n<li>Fix turbopack: Backport sourcemap bugfix (<a href=\"https://bounce.depfu.com/github.com/vercel/next.js/pull/78881\">#78881</a>)</li>\n<li>[next-server] preserve rsc query for rsc redirects (<a href=\"https://bounce.depfu.com/github.com/vercel/next.js/pull/78876\">#78876</a>)</li>\n<li>Update middleware public/static matching (<a href=\"https://bounce.depfu.com/github.com/vercel/next.js/pull/78875\">#78875</a>)</li>\n</ul>\n<h3 dir=\"auto\">Credits</h3>\n<p dir=\"auto\">Huge thanks to <a href=\"https://bounce.depfu.com/github.com/ijjk\">@ijjk</a>, <a href=\"https://bounce.depfu.com/github.com/huozhi\">@huozhi</a>, <a href=\"https://bounce.depfu.com/github.com/kdy1\">@kdy1</a>, <a href=\"https://bounce.depfu.com/github.com/wbinnssmith\">@wbinnssmith</a>, and <a href=\"https://bounce.depfu.com/github.com/bgw\">@bgw</a> for helping!</p></blockquote>\n<p><em>Does any of this look wrong? <a href=\"https://depfu.com/packages/npm/next/feedback\">Please let us know.</a></em></p>\n</details>\n\n<details>\n<summary>Commits</summary>\n<p><a href=\"https://github.com/vercel/next.js/compare/fa536cf2c94475cecb7585680c5d96e35e00ba7b...d9ec4a4b573994c492a25497fdca4364e5fd5ee8\">See the full diff on Github</a>. The new version differs by 7 commits:</p>\n<ul>\n<li><a href=\"https://github.com/vercel/next.js/commit/d9ec4a4b573994c492a25497fdca4364e5fd5ee8\"><code>v15.3.2</code></a></li>\n<li><a href=\"https://github.com/vercel/next.js/commit/3def5ff92b2d2b1d428c0a6ca7d390fa6c00f9d3\"><code>backport: fix(turbopack): Store persistence of wrapped task on RawVc::LocalOutput (#78488) (#78883)</code></a></li>\n<li><a href=\"https://github.com/vercel/next.js/commit/d0b2f8a8b875c36ab77b92aeffb78012a295d38f\"><code>@next/mdx: Use stable turbopack config options (#78880)</code></a></li>\n<li><a href=\"https://github.com/vercel/next.js/commit/04176decbefde629e2490751b984bdc48c19b96f\"><code>fix(react-compiler): Fix detection of interest (#78879)</code></a></li>\n<li><a href=\"https://github.com/vercel/next.js/commit/b40778b3d0936ec0de74cbff66848ddd20d30dce\"><code>fix(turbopack): Backport sourcemap bugfix (#78881)</code></a></li>\n<li><a href=\"https://github.com/vercel/next.js/commit/20f31203ce1e478a605a45bfcc1ea3ee3994878a\"><code>[next-server] preserve rsc query for rsc redirects (#78876)</code></a></li>\n<li><a href=\"https://github.com/vercel/next.js/commit/b464d1855eaa37bfcbf1988d575809650d5e3f7f\"><code>Update middleware public/static matching (#78875)</code></a></li>\n</ul>\n</details>\n\n\n\n\n\n\n\n\n\n\n\n\n---\n![Depfu Status](https://depfu.com/badges/edd6acd35d74c8d41cbb540c30442adf/stats.svg)\n\n[Depfu](https://depfu.com) will automatically keep this PR conflict-free, as long as you don't add any commits to this branch yourself. You can also trigger a rebase manually by commenting with `@depfu rebase`.\n\n<details><summary>All Depfu comment commands</summary>\n<blockquote><dl>\n<dt>@​depfu rebase</dt><dd>Rebases against your default branch and redoes this update</dd>\n<dt>@​depfu recreate</dt><dd>Recreates this PR, overwriting any edits that you've made to it</dd>\n<dt>@​depfu merge</dt><dd>Merges this PR once your tests are passing and conflicts are resolved</dd>\n<dt>@​depfu cancel merge</dt><dd>Cancels automatic merging of this PR</dd>\n<dt>@​depfu close</dt><dd>Closes this PR and deletes the branch</dd>\n<dt>@​depfu reopen</dt><dd>Restores the branch and reopens this PR (if it's closed)</dd>\n<dt>@​depfu pause</dt><dd>Ignores all future updates for this dependency and closes this PR</dd>\n<dt>@​depfu pause [minor|major]</dt><dd>Ignores all future minor/major updates for this dependency and closes this PR</dd>\n<dt>@​depfu resume</dt><dd>Future versions of this dependency will create PRs again (leaves this PR as is)</dd>\n</dl></blockquote>\n</details>\n\n","Url":"https://github.com/tailwindlabs/tailwindcss/pull/18046","RelatedDescription":"Closed or merged PR \"Update all of nextjs 15.3.1 → 15.3.2 (patch)\" (#18046)"},{"Id":"3066258274","IsPullRequest":false,"CreatedAt":"2025-05-15T14:02:11","Actor":"marcospgp","Number":"18042","RawContent":null,"Title":"max width uses spacing variables instead of container","State":"closed","Body":"`    \"tailwindcss\": \"^4.1.6\",`\n\njust ran into the issue described in this discussion thread: https://github.com/tailwindlabs/tailwindcss/discussions/17777\n\nit seems that when I define custom `spacing` variables in my theme, these get used with max width instead of the container ones, which is not in accordance with the docs","Url":"https://github.com/tailwindlabs/tailwindcss/issues/18042","RelatedDescription":"Closed issue \"max width uses spacing variables instead of container\" (#18042)"},{"Id":"3066160747","IsPullRequest":true,"CreatedAt":"2025-05-15T13:31:18","Actor":"philipp-spiess","Number":"18040","RawContent":null,"Title":"Prepare v4.1.7 release","State":"closed","Body":"","Url":"https://github.com/tailwindlabs/tailwindcss/pull/18040","RelatedDescription":"Closed or merged PR \"Prepare v4.1.7 release\" (#18040)"},{"Id":"3066020546","IsPullRequest":true,"CreatedAt":"2025-05-15T12:50:04","Actor":"RobinMalfait","Number":"18038","RawContent":null,"Title":"Fix missing extracted classes containing `.` in Clojure","State":"closed","Body":"This PR fixes an issue in the Clojure pre-processor where candidates including `.` characters were not extracted correctly.\r\n\r\nThe solution here is to only replace the `.` with a ` ` when the `.` is not surrounded by numbers. This means that:\r\n\r\n\r\n```\r\n:.foo.bar\r\n```\r\nBecomes\r\n```\r\n: foo bar\r\n```\r\n\r\nBut\r\n```\r\n:.gap-1.5.flex\r\n```\r\n\r\nBecomes\r\n```\r\n: gap-1.5 flex\r\n```\r\n\r\nThis way the `gap-1.5` is correctly extracted.\r\n\r\n## Test plan\r\n\r\n1. Added a test for this case\r\n2. Tested this in the extractor tool as well. Notice how the `gap-1.5` is correctly extracted here.\r\n\r\n<img width=\"1247\" alt=\"image\" src=\"https://github.com/user-attachments/assets/f5dd2600-5c5e-4ad8-88af-4e5be44340f5\" />\r\n\r\n\r\nFixes: #17760\r\n","Url":"https://github.com/tailwindlabs/tailwindcss/pull/18038","RelatedDescription":"Closed or merged PR \"Fix missing extracted classes containing `.` in Clojure\" (#18038)"},{"Id":"3065698037","IsPullRequest":false,"CreatedAt":"2025-05-15T11:38:44","Actor":"mahmut1992","Number":"18036","RawContent":null,"Title":"[v3.4.x] Unexpected full page reload on button click with json-server + Vite setup","State":"closed","Body":"### What version of Tailwind CSS are you using?\nv3.4.x (latest as of May 2025)\n\n### What build tool (or framework) are you using?\nVite + React + TypeScript + json-server\n\n### What happened?\n\nWhen using Tailwind CSS latest version with a development setup that includes `json-server`, all buttons (even with `type=\"button\"`) cause a full page reload unexpectedly. After testing, I realized it is related to the content watching behavior.\n\n### Suggested fix:\n\nDowngrading Tailwind to `v3.3.5` resolved the issue completely.\n\nI believe the issue might be related to the `content` field missing `.ts` and `.tsx` file patterns in the default config. When not explicitly set, Tailwind may be scanning too much, causing performance issues or conflicts.\n\n### Reproduction steps:\n\n1. Set up a React + Vite project with Tailwind (latest) and json-server\n2. Add a simple button\n3. Observe unexpected page reload on click\n4. Downgrade Tailwind to v3.3.5 => Problem gone\n\n### Repo (optional but very helpful):\n[tailwind-json-server-bug-demo](https://github.com/mahmut1992/tailwind-json-server-bug-demo/tree/main)\n\nThanks in advance!\n","Url":"https://github.com/tailwindlabs/tailwindcss/issues/18036","RelatedDescription":"Closed issue \"[v3.4.x] Unexpected full page reload on button click with json-server + Vite setup\" (#18036)"},{"Id":"3063721512","IsPullRequest":true,"CreatedAt":"2025-05-15T11:17:39","Actor":"RobinMalfait","Number":"18025","RawContent":null,"Title":"Make candidate template migrations faster","State":"closed","Body":"This PR makes the migrations for templates much faster. To make this work, I also had to move things around a bit (so you might want to check this PR commit by commit). I also solved an issue by restructuring the code.\r\n\r\n### Performance\r\n\r\nFor starters, we barely applied any caching when migrating candidates from α to β. The problem with this is that in big projects the same candidates will appear _everywhere_, so caching is going to be useful here.\r\n\r\nOne of the reasons why we didn't do any caching is that some migrations were checking if a migration is actually safe to do. To do this, we were checking the `location` (the location of the candidate in the template). Since this location is unique for each template, caching was not possible.\r\n\r\nSo the first order of business was to hoist the `isSafeMigration` check up as the very first thing we do in the migration.\r\n\r\nIf we do this first, then the only remaining code relies on the `DesignSystem`, `UserConfig` and `rawCandidate`. \r\n\r\nIn a project, the `DesignSystem` and `UserConfig` will be the same during the migration, only the `rawCandidate` will be different which means that we can move all this logic in a good old `DefaultMap` and cache the heck out of it. \r\n\r\nRunning the numbers on our Tailwind Plus repo, this results in:\r\n```\r\n    Total seen candidates: 2 211 844\r\nTotal migrated candidates: 7 775 \r\n               Cache hits: 1 575 700\r\n```\r\n\r\nThat's a lot of work we _don't_ have to do. Looking at the timings, the template migration step goes from ~45s to ~10s because of this.\r\n\r\nAnother big benefit of this is that this makes migrations _actually_ safe. Before we were checking if a migration was safe to do in specific migrations. But other migrations were still printing the candidate which could still result in an unsafe migration.\r\n\r\nFor example when migrating the `blur` and the `shadow` classes, the `isSafeMigration` was used. But if the input was `!flex` then the safety check wasn't even checked in this specific migration.\r\n\r\n### Safe migrations\r\n\r\nAlso made some changes to the `isSafeMigration` logic itself. We used to start by checking the location, but thinking about the problem again, the actual big problem we were running into is classes that are short like `blur`, and `shadow` because they could be used in other contexts than a Tailwind CSS class.\r\n\r\nInverting this logic means that more specific Tailwind CSS classes will very likely _not_ cause any issues at all. \r\n\r\nFor example:\r\n- If you have variants: `hover:focus:flex`\r\n- If you have arbitrary properties: `[color:red]`\r\n- If you have arbitrary values: `bg-[red]`\r\n- If you have a modifier: `bg-red-500/50`\r\n- If you have a `-` in the name: `bg-red-500`\r\n\r\nEven better if we can't parse a candidate at all, we can skip the migrations all together.\r\n\r\nThis brings us to the issue in #17974, one of the issues was already solved by just hoisting the `isSafeMigration`. But to make the issue was completely solved I also made sure that in Vue attributes like `:active=\"…\"` are also considered unsafe (note: `:class` is allowed).\r\n\r\nLast but not least, in case of the `!duration` that got replaced with `duration!` was solved by verifying that the candidate actually produces valid CSS. We can compute the signature for this class.\r\n\r\nThe reason this wasn't thrown away earlier is because we can correctly parse `duration` but `duration` on its own doesn't exist, `duration-<number>` does exist as a functional utility which is why it parsed in the first place.\r\n\r\nFixes: #17974\r\n\r\n## Test plan\r\n\r\n1. Ran the tool on our Tailwind UI Templates repo to compare the new output with the \"old\" behavior and there were no differences in output.\r\n2. Ran the tool on our Tailwind Plus repo, and the template migration step went from ~45s to ~10s.\r\n3. Added additional tests to verify the issues in #17974 are fixed.\r\n\r\n\r\n[ci-all] let's run this on all CI platforms...","Url":"https://github.com/tailwindlabs/tailwindcss/pull/18025","RelatedDescription":"Closed or merged PR \"Make candidate template migrations faster\" (#18025)"},{"Id":"3065851880","IsPullRequest":true,"CreatedAt":"2025-05-15T11:16:03","Actor":"philipp-spiess","Number":"18037","RawContent":null,"Title":"Upgrade lightningcss to `1.30.1`","State":"closed","Body":"Changelog: https://github.com/parcel-bundler/lightningcss/releases/tag/v1.30.1","Url":"https://github.com/tailwindlabs/tailwindcss/pull/18037","RelatedDescription":"Closed or merged PR \"Upgrade lightningcss to `1.30.1`\" (#18037)"},{"Id":"3063228667","IsPullRequest":true,"CreatedAt":"2025-05-15T11:00:00","Actor":"philipp-spiess","Number":"18020","RawContent":null,"Title":"Ignore custom variants with `:merge(…)` selectors","State":"closed","Body":"Closes #15617\r\n\r\n## Summary\r\n\r\nThis PR ignores `addVariant(…)` legacy JS plugin calls for variants that are using the [`:merge(…)` selector](https://v3.tailwindcss.com/docs/plugins#parent-and-sibling-states) for parent and sibling states. We can ignore these now because in v4, `group-*` and `peer-*` variants _compound automatically_ and you don't have to define them anymore.\r\n\r\n## Test plan\r\n\r\nAdded a unit test to ensure that the `optional` variant example from the v3 docs work as expected.","Url":"https://github.com/tailwindlabs/tailwindcss/pull/18020","RelatedDescription":"Closed or merged PR \"Ignore custom variants with `:merge(…)` selectors\" (#18020)"},{"Id":"3064617714","IsPullRequest":false,"CreatedAt":"2025-05-15T09:29:50","Actor":"mmm8955405","Number":"18026","RawContent":null,"Title":"V4 version, CDN plugin not available","State":"closed","Body":"v3:\n <script src=\"https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp\"></script>","Url":"https://github.com/tailwindlabs/tailwindcss/issues/18026","RelatedDescription":"Closed issue \"V4 version, CDN plugin not available\" (#18026)"},{"Id":"3065541000","IsPullRequest":false,"CreatedAt":"2025-05-15T09:27:52","Actor":"functasti","Number":"18032","RawContent":null,"Title":"Space sensitivity in inline variable declarations","State":"closed","Body":"**What version of Tailwind CSS are you using?**\n\nv4.1.6\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nVite 6.2.0\n\n**What version of Node.js are you using?**\n\nv22.13.1\n\n**What browser are you using?**\n\nChrome 136\n\n**What operating system are you using?**\n\nUbuntu Linux\n\n**Describe your issue**\n\nI’ve hit this a few times now..  there’s an inconsistency in how Tailwind handles CSS variable declarations inline versus in `@theme`. If there’s a space between the property name and value inline, it doesn’t work, but in `@theme`, it’s fine either way. It’s been pretty confusing.\n\nFor example, in the following code:\n\n```html\n<div class=\"[--gap:40px] flex flex-col gap-[--gap]\">\n  <div class=\"size-5 bg-red-500\"></div>\n  <div class=\"size-5 bg-green-500\"></div>\n</div>\n```\n\nThe above works as expected. However, introducing a space in the declaration, like so:\n\n```html\n<div class=\"[--gap: 40px] flex flex-col gap-[--gap]\">\n```\n\ncauses the variable to no longer be recognized.\n\nThis behavior is inconsistent with `@theme` declarations, where both of the following work identically:\n\n```css\n@theme {\n  --gap:40px;\n}\n\n@theme {\n  --gap: 40px;\n}\n```\n\nIt would be helpful if the space between the property name and value in the inline context is made insignificant to align with the standard CSS variable syntax and avoid potential confusion.","Url":"https://github.com/tailwindlabs/tailwindcss/issues/18032","RelatedDescription":"Closed issue \"Space sensitivity in inline variable declarations\" (#18032)"},{"Id":"3064941413","IsPullRequest":false,"CreatedAt":"2025-05-15T07:08:00","Actor":"djlguzman","Number":"18028","RawContent":null,"Title":"nested list marker: specificity is not followed properly","State":"closed","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\n\n**What version of Tailwind CSS are you using?**\n\nv4.1.6\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\nTailwind Playground\n\n**What version of Node.js are you using?**\n\nTailwind Playground\n\n**What browser are you using?**\n\nGoogle Chrome\n\n**What operating system are you using?**\n\nmacOS\n\n**Reproduction URL**\n\n[https://play.tailwindcss.com/zfRYhU376t](https://play.tailwindcss.com/zfRYhU376t)\n\n**Describe your issue**\n\n2nd li tag is using its parent li marker class instead of its own marker class name. I believe with how specificity works it should be using its own `marker:text-base` rather than parent's `marker:text-lg` class?","Url":"https://github.com/tailwindlabs/tailwindcss/issues/18028","RelatedDescription":"Closed issue \"nested list marker: specificity is not followed properly\" (#18028)"},{"Id":"3063604951","IsPullRequest":false,"CreatedAt":"2025-05-14T16:05:11","Actor":"AbdullahAhmadAAK","Number":"18023","RawContent":null,"Title":"line-clamp-3 not being applied on conditional rendering","State":"closed","Body":"\n**What version of Tailwind CSS are you using?**\n\n    \"tailwindcss\": \"^3.4.1\",\n  \"tailwind-merge\": \"^2.6.0\",\n    \"tailwind-scrollbar-hide\": \"^2.0.0\",\n    \"tailwindcss-animate\": \"^1.0.7\",\n\n**What build tool (or framework if it abstracts the build tool) are you using?**\n\n    \"next\": \"^15.2.4\",\n\n**What version of Node.js are you using?**\n\n    \"@types/node\": \"^20\",\n\n**What browser are you using?**\n\nChrome Version 136.0.7103.93\n\n**What operating system are you using?**\n\nWindows 10\n\n**Reproduction URL**\n\n[see the issue here](https://play.tailwindcss.com/rUJC1Ypdgf?size=322x773)\n\n![Image](https://github.com/user-attachments/assets/9d7e3c32-3826-4b20-9e34-679763084891)\n\n**Describe your issue**\n\nI am trying to have this clamped at 3 lines, but it's not working. The tailwind class definition does show up in inspect element mode, so it is not an issue of tailwind classes being purged. I am using a recent version of tailwind which already has the line clamp plugin being used by default.\n\n```\n <div className=\"flex flex-col gap-3 py-3 px-4 text-[#24272D] border-b-[1px] border-custom-neutral-100\">\n                <div className=\"flex items-center gap-1\">\n                    <span className=\"flex-1 title-2\">{drawingName}</span>\n                    <Button variant={'minimal'} size={'minimal'} onClick={() => setShow(true)}>\n                        <Pencil width={16} height={16} className=\"text-[#24272D]\" />\n                    </Button>\n                </div>\n                <p className=\"body-3 line-clamp-3\">{drawingDescription}</p>\n            </div>\n```\n\nMy editor page's page.tsx file has this, where the snippet above can be found within **PixelArtEditorClientComponent**:\n\n```\nreturn (\n    // The main container takes up the full viewport width and height\n    <main className=\"flex w-[100vw] h-[100vh]\">\n\n      {userData.userIdentifier.length === 0 ? (\n        <AnonUserView displayText=\"User unauthenticated. Please sign in.\" />\n      ) : (\n        <ReadOnlyRoom>\n          {/* Client-side component that renders the pixel art editor */}\n          <PixelArtEditorClientComponent />\n        </ReadOnlyRoom>\n      )}\n\n    </main >\n  );\n```","Url":"https://github.com/tailwindlabs/tailwindcss/issues/18023","RelatedDescription":"Closed issue \"line-clamp-3 not being applied on conditional rendering\" (#18023)"}],"ResultType":"GitHubIssue"}},"RunOn":"2025-05-19T03:30:21.1052982Z","RunDurationInMilliseconds":518}