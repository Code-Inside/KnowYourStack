{"Data":{"TailwindCss-Issues":{"Issues":[{"Id":"1571626099","IsPullRequest":false,"CreatedAt":"2023-02-05T21:46:02","Actor":"arcanis","Number":"10497","RawContent":null,"Title":"The `content` config is relative to the cwd, not the config location","State":"open","Body":"**What version of Tailwind CSS are you using?**\r\n\r\n3.2.4\r\n\r\n**What build tool (or framework if it abstracts the build tool) are you using?**\r\n\r\npostcss (as a JS API; I don't use the CLI)\r\n\r\n**What version of Node.js are you using?**\r\n\r\nn/a\r\n\r\n**What browser are you using?**\r\n\r\nn/a\r\n\r\n**What operating system are you using?**\r\n\r\nn/a\r\n\r\n**Describe your issue**\r\n\r\nTake the following code; as you can see, Tailwind fails to see that the files referenced in `tailwind.config.js` exist:\r\nhttps://runkit.com/arcanis/63e022537347590008b0d296\r\n\r\nIt works if I use `process.chdir` to move inside the `website` folder, or if I use `__dirname` instead of `./`:\r\nhttps://runkit.com/arcanis/63e023088424060008aa8a47\r\n\r\nWhile those are reasonable options, resolving paths relative to the configuration file that declares them (rather than unstable process cwd) is a fairly common pattern, so the current behaviour is a little unexpected, at least when the Tailwind function is provided an explicit configuration path (of course, when passing an object, using the cwd is acceptable).\r\n","Url":"https://github.com/tailwindlabs/tailwindcss/issues/10497","RelatedDescription":"Open issue \"The `content` config is relative to the cwd, not the config location\" (#10497)"},{"Id":"1571570642","IsPullRequest":false,"CreatedAt":"2023-02-05T18:58:28","Actor":"deebov","Number":"10494","RawContent":null,"Title":"CSS injection order changed between 3.1.8 and 3.2.0 ","State":"open","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\r\n\r\n**What version of Tailwind CSS are you using?**\r\n\r\nv3.1.8 and v3.2.0\r\n\r\n**What build tool (or framework if it abstracts the build tool) are you using?**\r\n\r\npostcss-cli 10.1.0\r\n\r\n**What version of Node.js are you using?**\r\n\r\nv14.19.3\r\n\r\n**What browser are you using?**\r\n\r\nChrome\r\n\r\n**What operating system are you using?**\r\n\r\nmacOS\r\n\r\n**Reproduction URL**\r\n\r\nv3.1.8\r\nhttps://codesandbox.io/s/clever-jasper-t1t6q7\r\n\r\nv3.2.0\r\nhttps://codesandbox.io/s/kind-noether-zxdppk\r\n\r\nHow to run:\r\n\r\n1. Fork the sandboxes\r\n2. Create a new terminal\r\n3. Run `yarn watch`\r\n4. There will be a toast notification with a button to open it in the browser pane, click that button\r\n\r\n**Describe your issue**\r\n\r\nBetween v3.1.8 and v3.2.0 there was a breaking change in the CSS injection order. If you check out the [v3.1.8 sandbox](https://codesandbox.io/s/clever-jasper-t1t6q7), you can see that the last element inside `prose` keeps its `md:my-12` in big screens. But in the [v3.2.0 sandbox](https://codesandbox.io/s/kind-noether-zxdppk) the `md:my-12` gets overridden by `@tailwindcss/typography`'s styles. `@tailwindcss/typography`'s styles do not change between the versions. It's just the order in which they're injected changes (not 100% sure but I assume so).","Url":"https://github.com/tailwindlabs/tailwindcss/issues/10494","RelatedDescription":"Open issue \"CSS injection order changed between 3.1.8 and 3.2.0 \" (#10494)"},{"Id":"1570697052","IsPullRequest":false,"CreatedAt":"2023-02-04T11:14:35","Actor":"brandonmcconnell","Number":"10486","RawContent":null,"Title":"Arbitrary color (typed) does not allow `rgb()` wrapping `var()`","State":"closed","Body":"**What version of Tailwind CSS are you using?**\r\n\r\nv3.2.4\r\n\r\n**What build tool (or framework if it abstracts the build tool) are you using?**\r\n\r\npostcss-cli v8.4.19\r\n\r\n**What version of Node.js are you using?**\r\n\r\nv18.12.1\r\n\r\n**What browser are you using?**\r\n\r\nChrome v109\r\n\r\n**What operating system are you using?**\r\n\r\nmacOS Ventura\r\n\r\n**Reproduction URL**\r\n\r\nhttps://play.tailwindcss.com/lJXZzh5f8f\r\n\r\n**Describe your issue**\r\n\r\nArbitrary color properties do not work when they use an `rgb()` function that wraps a `var()`.\r\n\r\nFor example:\r\n\r\n* This works: `[border-color:rgb(var(--red)/100%)]`\r\n* This doesn't: `border-[color:rgb(var(--red)/100%))]`","Url":"https://github.com/tailwindlabs/tailwindcss/issues/10486","RelatedDescription":"Closed issue \"Arbitrary color (typed) does not allow `rgb()` wrapping `var()`\" (#10486)"},{"Id":"1570728302","IsPullRequest":false,"CreatedAt":"2023-02-04T03:06:09","Actor":"thecrypticace","Number":"10488","RawContent":null,"Title":"tailwindcss CLI --watch flag does not work","State":"open","Body":"### Discussed in https://github.com/tailwindlabs/tailwindcss/discussions/10485\r\n\r\ntl;dr: `/Users/name/folder (with-parens)/my-project` doesn't do file watching in the CLI because of the parens in the path. This is most likely a missing escape wrapping the base path when resolving the globs to pass to chokidar.","Url":"https://github.com/tailwindlabs/tailwindcss/issues/10488","RelatedDescription":"Open issue \"tailwindcss CLI --watch flag does not work\" (#10488)"},{"Id":"1570580971","IsPullRequest":false,"CreatedAt":"2023-02-04T01:19:58","Actor":"jakemauer","Number":"10484","RawContent":null,"Title":"tailwindcss CLI --watch flag does not work","State":"closed","Body":"**What version of Tailwind CSS are you using?**\r\n\r\nv3.2.4 (The issue occurs both with the CLI installed via NPM and downloaded as a standalone MacOS binary.)\r\n\r\n**What build tool (or framework if it abstracts the build tool) are you using?**\r\n\r\nNo build tools used.\r\n\r\n**What version of Node.js are you using?**\r\n\r\n16.15.1\r\n\r\n**What browser are you using?**\r\n\r\nChromium 109.0.5414.119\r\n\r\n**What operating system are you using?**\r\n\r\nMacOS Ventura 13.2 on Intel 64-bit\r\n\r\n**Reproduction URL**\r\n\r\nhttps://github.com/jakemauer/tailwind-bug-reproduction\r\n\r\n**Describe your issue**\r\n\r\nI've been trying to use the tailwind CLI `--watch` flag to work on a simple single-file HTML page. However I have to restart the tailwindcss command every time I add a new tailwind classname to my HTML file as the CLI doesn't seem to be watching or responding to changes to the file. I constructed a sample repo based on the installation instructions and watching for changes even in that simplified setup doesn't work. For example, adding the class 'columns-2' to the body tag does not trigger a recompilation of the CSS until I close and re-run the taildwindcss command.\r\n\r\nThe command I'm using is: `npx tailwindcss -i ./src/input.css -o ./dist/output.css --watch` and I am running it from the root of the project I've linked above. \r\n\r\nI've tried using both the NPM-installed Tailwind binary and the MacOS binary from the releases page but neither seems to watch for changes properly. \r\n\r\nThank you, I appreciate your work and time in taking a look at this.","Url":"https://github.com/tailwindlabs/tailwindcss/issues/10484","RelatedDescription":"Closed issue \"tailwindcss CLI --watch flag does not work\" (#10484)"},{"Id":"1570403885","IsPullRequest":false,"CreatedAt":"2023-02-03T21:00:54","Actor":"wjgvm","Number":"10482","RawContent":null,"Title":"vitejs not copile or purge tailwindcss in dynamics components vue","State":"closed","Body":"The Vitejs config + tailwindcss.config.js a pesar que la configuracion recomendada por la p√°gina tailwindcss y vitejs, para laravel vue y postcss autoprefixer, este no procesa componentes vuejs con clases din√°micas.\r\n\r\nresulta que en la instalaci√≥n en limpio de laravel, este genera la configuraci√≥n autom√°tica\r\n\r\nDespite the configuration recommended by the tailwindcss and vitejs page, for laravel vue and postcss autoprefixer, it does not process vuejs components with dynamic classes.\r\n\r\nIt turns out that in the clean installation of Laravel, it generates the automatic configuration\r\n\r\n\r\n**vite.config.js** :\r\n\r\n```\r\nexport default defineConfig({\r\n    plugins: [\r\n        laravel({\r\n            input: 'resources/js/app.js',\r\n            refresh: true,\r\n        }),\r\n        vue({\r\n            template: {\r\n                transformAssetUrls: {\r\n                    base: null,\r\n                    includeAbsolute: false,\r\n                },\r\n            },\r\n        })\r\n    ],\r\n});\r\n```\r\n\r\n**What version of Tailwind CSS are you using?**\r\n\r\n\"tailwindcss\": \"^3.2.4\",\r\n\r\n**What build tool (or framework if it abstracts the build tool) are you using?**\r\n\r\n\"@vitejs/plugin-vue\": \"^4.0.0\",\r\n\r\n\"php\": \"^8.0.2\",\r\nLaravel Version ............................................................................. 9.50.2\r\n PHP Version .................................................................................. 8.1.6\r\n Composer Version ............................................................................. 2.5.1\r\n\r\n**What version of Node.js are you using?**\r\n\r\n node --version   v18.13.0\r\n\r\n**What browser are you using?**\r\n\r\nopera gx\r\n\r\n**What operating system are you using?**\r\n\r\nWindows 11\r\n\r\nuse manual instalation:\r\nhttps://github.com/laravel/vite-plugin/blob/main/UPGRADE.md#migrating-from-laravel-mix-to-vite\r\n\r\nand the following modifications:\r\ny las modificaciones seguientes:\r\n\r\n**vite.config.js**\r\n\r\n```\r\nexport default defineConfig({\r\n    plugins: [\r\n        laravel([\r\n            'resources/css/app.css',\r\n            'resources/js/app.js'\r\n        ],{\r\n            refresh: true,\r\n        }),\r\n        vue({\r\n            template: {\r\n                transformAssetUrls: {\r\n                    base: null,\r\n                    includeAbsolute: false,\r\n                },\r\n            },\r\n        })\r\n    ],\r\n    resolve: {\r\n        alias: {\r\n            '@': '/resources/js',\r\n        },\r\n    },\r\n});\r\n```\r\n\r\n**app.blade.php**\r\n\r\n```\r\n<!DOCTYPE html>\r\n<html lang=\"{{ str_replace('_', '-', app()->getLocale()) }}\">\r\n    <head>\r\n        <meta charset=\"utf-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n\r\n        <title inertia>{{ config('app.name', 'Laravel') }}</title>\r\n\r\n        <!-- Fonts -->\r\n        <link rel=\"stylesheet\" href=\"https://fonts.bunny.net/css2?family=Nunito:wght@400;600;700&display=swap\">\r\n\r\n        <!-- Scripts -->\r\n        @routes\r\n        @vite(['resources/js/app.js', \"resources/js/Pages/{$page['component']}.vue\"])\r\n        @vite(['resources/css/app.css', 'resources/js/app.js'])\r\n        @inertiaHead\r\n    </head>\r\n    <body class=\"font-sans antialiased\">\r\n        @inertia\r\n    </body>\r\n</html>\r\n\r\n```\r\n\r\n\r\n\r\n**Describe your issue**\r\n```\r\nlet extbox = ref(['red', 'indigo', 'purple', 'blue', 'yellow', 'orange'])\r\n\r\n<ul class=\"flex flex-row flex-wrap text-sm max-w-xs \">\r\n  <li :class=\"`hover:bg-${color}-800 hover:text-white bg-${color}-100`\" class=\" w-14 h-14 m-1  border-gray-400 relative flex items-center justify-center border-2 cursor-pointer rounded-md\" v-for=\"color, index in extbox\" :key=\"index\">\r\n    {{ color }}\r\n  </li>\r\n</ul>\r\n```\r\n\r\nit perfectly builds the Tailwind elements but doesn't render the css inside the build in the public folder. I need help on this issue\r\nin short it does not generate the dynamically created elements\r\n\r\nse crea perfectamente los elementos de Tailwind pero no renderiza el CSS dentro de la compilaci√≥n en la carpeta p√∫blica. requiero apoyo en este tema\r\nen resumidas no genera los elementos din√°micamente creados \r\n\r\n","Url":"https://github.com/tailwindlabs/tailwindcss/issues/10482","RelatedDescription":"Closed issue \"vitejs not copile or purge tailwindcss in dynamics components vue\" (#10482)"},{"Id":"1563902967","IsPullRequest":false,"CreatedAt":"2023-02-03T16:24:37","Actor":"nizhib","Number":"10450","RawContent":null,"Title":"Types declaration issues when using js instead of ts","State":"closed","Body":"**What version of Tailwind CSS are you using?**\r\n\r\nv3.2.4\r\n\r\n**What version of Node.js are you using?**\r\n\r\nv18.13.0\r\n\r\n**What operating system are you using?**\r\n\r\nWindows 11\r\n\r\n**Reproduction URL**\r\n\r\n[nizhib/tailwindcss-types-issue](https://github.com/nizhib/tailwindcss-types-issue)\r\n\r\n**Describe your issue**\r\n\r\nI have JS and TS scripts that produce the same output:\r\n```text\r\n[Function: tailwindcss] { postcss: true }\r\n{ postcssPlugin: 'tailwindcss', plugins: [ [Function (anonymous)] ] }\r\n```\r\n\r\n```js\r\nconst createPlugin = require(\"tailwindcss\");\r\n\r\n/** @type {import('postcss').AcceptedPlugin} */\r\nconst plugin = createPlugin;\r\n\r\nconsole.log(plugin);\r\nconsole.log(plugin());\r\n```\r\n\r\n```ts\r\nimport createPlugin from \"tailwindcss\";\r\nimport type { AcceptedPlugin } from \"postcss\";\r\n\r\nconst plugin: AcceptedPlugin = createPlugin;\r\n\r\nconsole.log(plugin);\r\nconsole.log(plugin());\r\n```\r\n\r\nAlthough ESLint thinks that the former should not work:\r\n```text\r\nType 'typeof import(\".../tailwindcss/types/index\")' is not assignable to type 'AcceptedPlugin'\r\n```\r\n\r\nUsing `const createPlugin = require(\"tailwindcss\").default;` mutes ESLint but breaks the code itself:\r\n```text\r\nundefined\r\n<...>\\src\\index.cjs:7\r\nconsole.log(plugin());\r\n            ^\r\nTypeError: plugin is not a function\r\n```\r\n\r\nThe origin of the issue is my attempt to make `postcss.config.cjs` code verbose:\r\n\r\n```js\r\nconst autoprefixer = require(\"autoprefixer\");\r\nconst tailwindcss = require(\"tailwindcss\");\r\n\r\n/** @type {{plugins?: import('postcss').AcceptedPlugin[] | string }} */\r\nconst config = {\r\n  plugins: [tailwindcss, autoprefixer],\r\n};\r\n\r\nmodule.exports = config;\r\n```","Url":"https://github.com/tailwindlabs/tailwindcss/issues/10450","RelatedDescription":"Closed issue \"Types declaration issues when using js instead of ts\" (#10450)"},{"Id":"1569720993","IsPullRequest":true,"CreatedAt":"2023-02-03T16:06:18","Actor":"loqimean","Number":"10481","RawContent":null,"Title":"Add word-break: break-word with break-word","State":"closed","Body":"<!--\r\n\r\nüëã Hey, thanks for your interest in contributing to Tailwind!\r\n\r\n**Please ask first before starting work on any significant new features.**\r\n\r\nIt's never a fun experience to have your pull request declined after investing a lot of time and effort into a new feature. To avoid this from happening, we request that contributors create an issue to first discuss any significant new features. This includes things like adding new utilities, creating new at-rules, or adding new component examples to the documentation.\r\n\r\nhttps://github.com/tailwindcss/tailwindcss/blob/master/.github/CONTRIBUTING.md\r\n\r\n-->\r\n\r\nAdd new CSS style, because `break-words` isn't working properly (not break words to new line as I need)\r\n\r\n<img width=\"1392\" alt=\"Screenshot 2023-02-03 at 13 51 50\" src=\"https://user-images.githubusercontent.com/49816584/216596903-99afff29-8f25-4c83-95fb-bf65d699059b.png\">\r\nShould be \"–ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö\" together, like next:\r\n<img width=\"1311\" alt=\"Screenshot 2023-02-03 at 13 55 56\" src=\"https://user-images.githubusercontent.com/49816584/216597694-9d9c3813-2c67-4cd0-b4dd-22d56253b73b.png\">\r\n","Url":"https://github.com/tailwindlabs/tailwindcss/pull/10481","RelatedDescription":"Closed or merged PR \"Add word-break: break-word with break-word\" (#10481)"},{"Id":"1568402731","IsPullRequest":true,"CreatedAt":"2023-02-02T16:55:19","Actor":"MichaelAllenWarner","Number":"10470","RawContent":null,"Title":"Add `caption-top` and `caption-bottom` utilities","State":"open","Body":"Adds `caption-top` and `caption-bottom` utilities for the [`caption-side`](https://developer.mozilla.org/en-US/docs/Web/CSS/caption-side) CSS property, which is used to position captions in tables. The property also accepts logical values, but I did not include them here.\r\n\r\nNote that this property can be used on anything with `display: table-caption` that's a child of something with `display: table`. This is often useful in `figure`/`figcaption` contexts because these `display` values prevent the `figcaption` from exceeding the width of its siblings: https://play.tailwindcss.com/2pk9sH50FD","Url":"https://github.com/tailwindlabs/tailwindcss/pull/10470","RelatedDescription":"Open PR \"Add `caption-top` and `caption-bottom` utilities\" (#10470)"},{"Id":"1568320938","IsPullRequest":true,"CreatedAt":"2023-02-02T16:12:29","Actor":"MichaelAllenWarner","Number":"10469","RawContent":null,"Title":"Add `leading-0` utility","State":"closed","Body":"Adds a `leading-0` utility for `line-height: 0`.\r\n\r\nThere's already a `leading-none` utility for `line-height: 1`, but sometimes you really _do_ want zero line-height (and I do mean [you](https://github.com/tailwindlabs/tailwindcss/blob/master/src/css/preflight.css#L124-L130)!).","Url":"https://github.com/tailwindlabs/tailwindcss/pull/10469","RelatedDescription":"Closed or merged PR \"Add `leading-0` utility\" (#10469)"},{"Id":"1568283187","IsPullRequest":false,"CreatedAt":"2023-02-02T15:53:57","Actor":"mrcaidev","Number":"10468","RawContent":null,"Title":"Unused classes from plugin accidentally get bundled","State":"closed","Body":"**What version of Tailwind CSS are you using?**\r\n\r\nv3.2.4\r\n\r\n**What build tool (or framework if it abstracts the build tool) are you using?**\r\n\r\nVite v4.0.4, Vanilla HTML/CSS\r\n\r\n**What version of Node.js are you using?**\r\n\r\nv19.5.0\r\n\r\n**What browser are you using?**\r\n\r\nMicrosoft Edge\r\n\r\n**What operating system are you using?**\r\n\r\nWindows 11\r\n\r\n**Reproduction URL**\r\n\r\nhttps://github.com/mrcaidev/tailwind-plugin-mre\r\n\r\n**Describe your issue**\r\n\r\nComing from #10460.\r\n\r\nWhen registering classes with nested dark mode styles in a plugin, the dark mode style is always bundled in the generated CSS, even if never used.\r\n\r\n```js\r\nconst plugin = require(\"tailwindcss/plugin\");\r\n\r\nmodule.exports = {\r\n  // ...\r\n  darkMode: \"class\", // The bug only exists when this is set to \"class\".\r\n  plugins: [\r\n    plugin(({ addComponents }) => {\r\n      addComponents({\r\n        \".bg-custom\": {\r\n          backgroundColor: \"#f9fafb\",\r\n          \".dark &\": {\r\n            backgroundColor: \"#111827\", // This is always bundled, even if never used.\r\n          },\r\n        },\r\n      });\r\n    }),\r\n  ],\r\n};\r\n```\r\n\r\nThis bug gets extremely tricky, when you register hundreds of classes in the plugin that all specifies `.dark &`. The output CSS bloated from 5KB to ~30KB, filled with unused classes.","Url":"https://github.com/tailwindlabs/tailwindcss/issues/10468","RelatedDescription":"Closed issue \"Unused classes from plugin accidentally get bundled\" (#10468)"},{"Id":"1568168902","IsPullRequest":true,"CreatedAt":"2023-02-02T14:52:42","Actor":"MichaelAllenWarner","Number":"10467","RawContent":null,"Title":"Add `max-h-none` utility","State":"closed","Body":"Adds a `max-h-none` utility.\r\n\r\nAs with the existing `max-w-none` utility, the typical use-case would be to responsively \"undo\" a value, like `class=\"max-h-20 sm:max-h-none\"` (`none` being the initial value for both the `max-width` and `max-height` CSS properties).","Url":"https://github.com/tailwindlabs/tailwindcss/pull/10467","RelatedDescription":"Closed or merged PR \"Add `max-h-none` utility\" (#10467)"},{"Id":"1567446896","IsPullRequest":false,"CreatedAt":"2023-02-02T10:58:19","Actor":"joeldbirch","Number":"10464","RawContent":null,"Title":"Forward-slash in arbitrary aspect-ratio @media variants causes failure","State":"closed","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\r\n\r\n**What version of Tailwind CSS are you using?**\r\n\r\nversion 3.2.4\r\n\r\n**What build tool (or framework if it abstracts the build tool) are you using?**\r\n\r\n[Tailwind Playground](https://play.tailwindcss.com/)\r\n\r\n**What version of Node.js are you using?**\r\n\r\nNone specifically. Happens in Tailwind Playground.\r\n\r\n**What browser are you using?**\r\n\r\nChrome\r\n\r\n**What operating system are you using?**\r\n\r\nmacOS\r\n\r\n**Reproduction URL**\r\n\r\nhttps://play.tailwindcss.com/h6OFx6F8ab\r\n\r\n**Describe your issue**\r\n\r\nHello. Due to the nature of my work, I use the little-known aspect-ratio media queries more than any other type. For example:\r\n\r\n```\r\n@media(min-aspect-ratio: 2/1) {\r\n   .thing {\r\n      background-color: blue;\r\n   }\r\n}\r\n```\r\n\r\nThe [Tailwind docs indicate ](https://tailwindcss.com/docs/hover-focus-and-other-states#using-arbitrary-variants)that this can be done using arbitrary variants, like this:\r\n\r\n```\r\n<div class=\"[@media(min-aspect-ratio:2/1)]:bg-blue-400\" />\r\n```\r\n\r\nHowever, it seems that the forward slash prevents Tailwind from generating the CSS. I have confirmed that it's the forward slash by using [the Playground](https://play.tailwindcss.com/h6OFx6F8ab).\r\n\r\nThese variants can be predefined in the config using the `raw` property within `screens`, but not being able to generate them on-the-fly seems like a bug to me.\r\n\r\nThanks in advance!\r\n","Url":"https://github.com/tailwindlabs/tailwindcss/issues/10464","RelatedDescription":"Closed issue \"Forward-slash in arbitrary aspect-ratio @media variants causes failure\" (#10464)"},{"Id":"1560400770","IsPullRequest":true,"CreatedAt":"2023-01-31T19:36:39","Actor":"thecrypticace","Number":"10429","RawContent":null,"Title":"Parse alpha value from rgba/hsla colors when using variables","State":"closed","Body":"When given colors like: `rgba(var(--color), 0.1)` or `hsla(var(--color), 0.1)` we were not parsing the alpha value from them properly. This could result in outputting utilities like the following:\r\n\r\n```css\r\n.text-primary\\/50 {\r\n    color: rgba(var(--color) 0.1 0.5);\r\n}\r\n```\r\n\r\nWhich has 1) the wrong syntax; and 2) too many values because the alpha value wasn't replaced.\r\n\r\nThis PR fixes addresses this issue and outputs this instead:\r\n```css\r\n.text-primary\\/50 {\r\n    color: rgba(var(--color), 0.5);\r\n}\r\n```","Url":"https://github.com/tailwindlabs/tailwindcss/pull/10429","RelatedDescription":"Closed or merged PR \"Parse alpha value from rgba/hsla colors when using variables\" (#10429)"},{"Id":"1564132609","IsPullRequest":true,"CreatedAt":"2023-01-31T16:43:37","Actor":"depfu[bot]","Number":"10453","RawContent":null,"Title":"Upgrade all of jest: 28.1.3 ‚Üí 29.4.1 (major)","State":"closed","Body":"\n\n\n\n\nHere is everything you need to know about this upgrade. Please take a good look at what changed and the test results before merging this pull request.\n\n### What changed?\n\n#### ‚ú≥Ô∏è esbuild (0.17.3 ‚Üí 0.17.5) ¬∑ [Repo](https://github.com/evanw/esbuild) ¬∑ [Changelog](https://github.com/evanw/esbuild/blob/main/CHANGELOG.md)\n\n\n<details>\n<summary>Release Notes</summary>\n<h4><a href=\"https://github.com/evanw/esbuild/releases/tag/v0.17.5\">0.17.5</a></h4>\n\n<blockquote><ul dir=\"auto\">\n<li>\n<p dir=\"auto\">Parse <code class=\"notranslate\">const</code> type parameters from TypeScript 5.0</p>\n<p dir=\"auto\">The TypeScript 5.0 beta announcement adds <a href=\"https://devblogs.microsoft.com/typescript/announcing-typescript-5-0-beta/#const-type-parameters\"><code class=\"notranslate\">const</code> type parameters</a> to the language. You can now add the <code class=\"notranslate\">const</code> modifier on a type parameter of a function, method, or class like this:</p>\n<div class=\"highlight highlight-source-ts\" dir=\"auto\"><pre class=\"notranslate\"><span class=\"pl-k\">type</span> <span class=\"pl-smi\">HasNames</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">{</span> <span class=\"pl-c1\">names</span>: <span class=\"pl-k\">readonly</span> <span class=\"pl-smi\">string</span><span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-en\">getNamesExactly</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">&lt;</span><span class=\"pl-smi\">const</span> <span class=\"pl-smi\">T</span> <span class=\"pl-k\">extends</span> <span class=\"pl-smi\">HasNames</span><span class=\"pl-c1\">&gt;</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arg</span>: <span class=\"pl-smi\">T</span><span class=\"pl-kos\">)</span>: <span class=\"pl-smi\">T</span><span class=\"pl-kos\">[</span><span class=\"pl-s\">\"names\"</span><span class=\"pl-kos\">]</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-s1\">arg</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">names</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-s1\">names</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">getNamesExactly</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span> <span class=\"pl-c1\">names</span>: <span class=\"pl-kos\">[</span><span class=\"pl-s\">\"Alice\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"Bob\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"Eve\"</span><span class=\"pl-kos\">]</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<p dir=\"auto\">The type of <code class=\"notranslate\">names</code> in the above example is <code class=\"notranslate\">readonly [\"Alice\", \"Bob\", \"Eve\"]</code>. Marking the type parameter as <code class=\"notranslate\">const</code> behaves as if you had written <code class=\"notranslate\">as const</code> at every use instead. The above code is equivalent to the following TypeScript, which was the only option before TypeScript 5.0:</p>\n<div class=\"highlight highlight-source-ts\" dir=\"auto\"><pre class=\"notranslate\"><span class=\"pl-k\">type</span> <span class=\"pl-smi\">HasNames</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">{</span> <span class=\"pl-c1\">names</span>: <span class=\"pl-k\">readonly</span> <span class=\"pl-smi\">string</span><span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-en\">getNamesExactly</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">&lt;</span><span class=\"pl-smi\">T</span> <span class=\"pl-k\">extends</span> <span class=\"pl-smi\">HasNames</span><span class=\"pl-c1\">&gt;</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arg</span>: <span class=\"pl-smi\">T</span><span class=\"pl-kos\">)</span>: <span class=\"pl-smi\">T</span><span class=\"pl-kos\">[</span><span class=\"pl-s\">\"names\"</span><span class=\"pl-kos\">]</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-s1\">arg</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">names</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-s1\">names</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">getNamesExactly</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span> <span class=\"pl-c1\">names</span>: <span class=\"pl-kos\">[</span><span class=\"pl-s\">\"Alice\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"Bob\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"Eve\"</span><span class=\"pl-kos\">]</span> <span class=\"pl-kos\">}</span> <span class=\"pl-k\">as</span> <span class=\"pl-smi\">const</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<p dir=\"auto\">You can read <a href=\"https://devblogs.microsoft.com/typescript/announcing-typescript-5-0-beta/#const-type-parameters\">the announcement</a> for more information.</p>\n</li>\n<li>\n<p dir=\"auto\">Make parsing generic <code class=\"notranslate\">async</code> arrow functions more strict in <code class=\"notranslate\">.tsx</code> files</p>\n<p dir=\"auto\">Previously esbuild's TypeScript parser incorrectly accepted the following code as valid:</p>\n<div class=\"highlight highlight-source-tsx\" dir=\"auto\"><pre class=\"notranslate\"><span class=\"pl-k\">let</span> <span class=\"pl-en\">fn</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">async</span> <span class=\"pl-c1\">&lt;</span><span class=\"pl-smi\">T</span><span class=\"pl-c1\">&gt;</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span></pre></div>\n<p dir=\"auto\">The official TypeScript parser rejects this code because it thinks it's the identifier <code class=\"notranslate\">async</code> followed by a JSX element starting with <code class=\"notranslate\">&lt;T&gt;</code>. So with this release, esbuild will now reject this syntax in <code class=\"notranslate\">.tsx</code> files too. You'll now have to add a comma after the type parameter to get generic arrow functions like this to parse in <code class=\"notranslate\">.tsx</code> files:</p>\n<div class=\"highlight highlight-source-tsx\" dir=\"auto\"><pre class=\"notranslate\"><span class=\"pl-k\">let</span> <span class=\"pl-en\">fn</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">async</span> <span class=\"pl-c1\">&lt;</span><span class=\"pl-smi\">T</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">&gt;</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span></pre></div>\n</li>\n<li>\n<p dir=\"auto\">Allow the <code class=\"notranslate\">in</code> and <code class=\"notranslate\">out</code> type parameter modifiers on class expressions</p>\n<p dir=\"auto\">TypeScript 4.7 added the <code class=\"notranslate\">in</code> and <code class=\"notranslate\">out</code> modifiers on the type parameters of classes, interfaces, and type aliases. However, while TypeScript supported them on both class expressions and class statements, previously esbuild only supported them on class statements due to an oversight. This release now allows these modifiers on class expressions too:</p>\n<div class=\"highlight highlight-source-ts\" dir=\"auto\"><pre class=\"notranslate\"><span class=\"pl-k\">declare</span> <span class=\"pl-k\">let</span> <span class=\"pl-smi\">Foo</span>: <span class=\"pl-smi\">any</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-smi\">Foo</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">class</span> <span class=\"pl-c1\">&lt;</span><span class=\"pl-smi\">in</span> <span class=\"pl-smi\">T</span><span class=\"pl-c1\">&gt;</span> <span class=\"pl-kos\">{</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-smi\">Foo</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">class</span> <span class=\"pl-c1\">&lt;</span><span class=\"pl-smi\">out</span> <span class=\"pl-smi\">T</span><span class=\"pl-c1\">&gt;</span> <span class=\"pl-kos\">{</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span></pre></div>\n</li>\n<li>\n<p dir=\"auto\">Update <code class=\"notranslate\">enum</code> constant folding for TypeScript 5.0</p>\n<p dir=\"auto\">TypeScript 5.0 contains an <a href=\"https://bounce.depfu.com/github.com/microsoft/TypeScript/pull/50528\">updated definition of what it considers a constant expression</a>:</p>\n<blockquote>\n<p dir=\"auto\">An expression is considered a <em>constant expression</em> if it is</p>\n<ul dir=\"auto\">\n<li>a number or string literal,</li>\n<li>a unary <code class=\"notranslate\">+</code>, <code class=\"notranslate\">-</code>, or <code class=\"notranslate\">~</code> applied to a numeric constant expression,</li>\n<li>a binary <code class=\"notranslate\">+</code>, <code class=\"notranslate\">-</code>, <code class=\"notranslate\">*</code>, <code class=\"notranslate\">/</code>, <code class=\"notranslate\">%</code>, <code class=\"notranslate\">**</code>, <code class=\"notranslate\">&lt;&lt;</code>, <code class=\"notranslate\">&gt;&gt;</code>, <code class=\"notranslate\">&gt;&gt;&gt;</code>, <code class=\"notranslate\">|</code>, <code class=\"notranslate\">&amp;</code>, <code class=\"notranslate\">^</code> applied to two numeric constant expressions,</li>\n<li>a binary <code class=\"notranslate\">+</code> applied to two constant expressions whereof at least one is a string,</li>\n<li>a template expression where each substitution expression is a constant expression,</li>\n<li>a parenthesized constant expression,</li>\n<li>a dotted name (e.g. <code class=\"notranslate\">x.y.z</code>) that references a <code class=\"notranslate\">const</code> variable with a constant expression initializer and no type annotation,</li>\n<li>a dotted name that references an enum member with an enum literal type, or</li>\n<li>a dotted name indexed by a string literal (e.g. <code class=\"notranslate\">x.y[\"z\"]</code>) that references an enum member with an enum literal type.</li>\n</ul>\n</blockquote>\n<p dir=\"auto\">This impacts esbuild's implementation of TypeScript's <code class=\"notranslate\">const enum</code> feature. With this release, esbuild will now attempt to follow these new rules. For example, you can now initialize an <code class=\"notranslate\">enum</code> member with a template literal expression that contains a numeric constant:</p>\n<div class=\"highlight highlight-source-ts\" dir=\"auto\"><pre class=\"notranslate\"><span class=\"pl-c\">// Original input</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-k\">enum</span> <span class=\"pl-smi\">Example</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-c1\">COUNT</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">100</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-c1\">ERROR</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s\">`Expected <span class=\"pl-s1\"><span class=\"pl-kos\">${</span><span class=\"pl-smi\">COUNT</span><span class=\"pl-kos\">}</span></span> items`</span><span class=\"pl-kos\">,</span>\n<span class=\"pl-kos\">}</span>\n<span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span>\n  <span class=\"pl-smi\">Example</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">COUNT</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-smi\">Example</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">ERROR</span><span class=\"pl-kos\">,</span>\n<span class=\"pl-kos\">)</span>\n\n<span class=\"pl-c\">// Old output (with --tree-shaking=true)</span>\n<span class=\"pl-k\">var</span> <span class=\"pl-smi\">Example</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c\">/* <span class=\"pl-k\">@__PURE__</span> */</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-smi\">Example2</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-smi\">Example2</span><span class=\"pl-kos\">[</span><span class=\"pl-smi\">Example2</span><span class=\"pl-kos\">[</span><span class=\"pl-s\">\"COUNT\"</span><span class=\"pl-kos\">]</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">100</span><span class=\"pl-kos\">]</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s\">\"COUNT\"</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-smi\">Example2</span><span class=\"pl-kos\">[</span><span class=\"pl-smi\">Example2</span><span class=\"pl-kos\">[</span><span class=\"pl-s\">\"ERROR\"</span><span class=\"pl-kos\">]</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s\">`Expected <span class=\"pl-s1\"><span class=\"pl-kos\">${</span><span class=\"pl-c1\">100</span> <span class=\"pl-c\">/* COUNT */</span><span class=\"pl-kos\">}</span></span> items`</span><span class=\"pl-kos\">]</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s\">\"ERROR\"</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Example2</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">(</span><span class=\"pl-smi\">Example</span> <span class=\"pl-c1\">||</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span>\n  <span class=\"pl-c1\">100</span> <span class=\"pl-c\">/* COUNT */</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-smi\">Example</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">ERROR</span>\n<span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n\n<span class=\"pl-c\">// New output (with --tree-shaking=true)</span>\n<span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span>\n  <span class=\"pl-c1\">100</span> <span class=\"pl-c\">/* COUNT */</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-s\">\"Expected 100 items\"</span> <span class=\"pl-c\">/* ERROR */</span>\n<span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<p dir=\"auto\">These rules are not followed exactly due to esbuild's limitations. The rule about dotted references to <code class=\"notranslate\">const</code> variables is not followed both because esbuild's enum processing is done in an isolated module setting and because doing so would potentially require esbuild to use a type system, which it doesn't have. For example:</p>\n<div class=\"highlight highlight-source-ts\" dir=\"auto\"><pre class=\"notranslate\"><span class=\"pl-c\">// The TypeScript compiler inlines this but esbuild doesn't:</span>\n<span class=\"pl-k\">declare</span> <span class=\"pl-k\">const</span> <span class=\"pl-s1\">x</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s\">'foo'</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-k\">enum</span> <span class=\"pl-smi\">Foo</span> <span class=\"pl-kos\">{</span> <span class=\"pl-c1\">X</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">x</span> <span class=\"pl-kos\">}</span>\n<span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-smi\">Foo</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">X</span><span class=\"pl-kos\">)</span></pre></div>\n<p dir=\"auto\">Also, the rule that requires converting numbers to a string currently only followed for 32-bit signed integers and non-finite numbers. This is done to avoid accidentally introducing a bug if esbuild's number-to-string operation doesn't exactly match the behavior of a real JavaScript VM. Currently esbuild's number-to-string constant folding is conservative for safety.</p>\n</li>\n<li>\n<p dir=\"auto\">Forbid definite assignment assertion operators on class methods</p>\n<p dir=\"auto\">In TypeScript, class methods can use the <code class=\"notranslate\">?</code> optional property operator but not the <code class=\"notranslate\">!</code> definite assignment assertion operator (while class fields can use both):</p>\n<div class=\"highlight highlight-source-ts\" dir=\"auto\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-smi\">Foo</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-c\">// These are valid TypeScript</span>\n  <span class=\"pl-c1\">a</span>?\n  <span class=\"pl-c1\">b</span><span class=\"pl-c1\">!</span>\n  <span class=\"pl-en\">x</span>?<span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span>\n\n  <span class=\"pl-c\">// This is invalid TypeScript</span>\n  <span class=\"pl-en\">y</span><span class=\"pl-c1\">!</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span>\n<span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">Previously esbuild incorrectly allowed the definite assignment assertion operator with class methods. This will no longer be allowed starting with this release.</p>\n</li>\n</ul></blockquote>\n<h4><a href=\"https://github.com/evanw/esbuild/releases/tag/v0.17.4\">0.17.4</a></h4>\n\n<blockquote><ul dir=\"auto\">\n<li>\n<p dir=\"auto\">Implement HTTP <code class=\"notranslate\">HEAD</code> requests in serve mode (<a href=\"https://bounce.depfu.com/github.com/evanw/esbuild/issues/2851\">#2851</a>)</p>\n<p dir=\"auto\">Previously esbuild's serve mode only responded to HTTP <code class=\"notranslate\">GET</code> requests. With this release, esbuild's serve mode will also respond to HTTP <code class=\"notranslate\">HEAD</code> requests, which are just like HTTP <code class=\"notranslate\">GET</code> requests except that the body of the response is omitted.</p>\n</li>\n<li>\n<p dir=\"auto\">Permit top-level await in dead code branches (<a href=\"https://bounce.depfu.com/github.com/evanw/esbuild/issues/2853\">#2853</a>)</p>\n<p dir=\"auto\">Adding top-level await to a file has a few consequences with esbuild:</p>\n<ol dir=\"auto\">\n<li>It causes esbuild to assume that the input module format is ESM, since top-level await is only syntactically valid in ESM. That prevents you from using <code class=\"notranslate\">module</code> and <code class=\"notranslate\">exports</code> for exports and also enables strict mode, which disables certain syntax and changes how function hoisting works (among other things).</li>\n<li>This will cause esbuild to fail the build if either top-level await isn't supported by your language target (e.g. it's not supported in ES2021) or if top-level await isn't supported by the chosen output format (e.g. it's not supported with CommonJS).</li>\n<li>Doing this will prevent you from using <code class=\"notranslate\">require()</code> on this file or on any file that imports this file (even indirectly), since the <code class=\"notranslate\">require()</code> function doesn't return a promise and so can't represent top-level await.</li>\n</ol>\n<p dir=\"auto\">This release relaxes these rules slightly: rules 2 and 3 will now no longer apply when esbuild has identified the code branch as dead code, such as when it's behind an <code class=\"notranslate\">if (false)</code> check. This should make it possible to use esbuild to convert code into different output formats that only uses top-level await conditionally. This release does not relax rule 1. Top-level await will still cause esbuild to unconditionally consider the input module format to be ESM, even when the top-level <code class=\"notranslate\">await</code> is in a dead code branch. This is necessary because whether the input format is ESM or not affects the whole file, not just the dead code branch.</p>\n</li>\n<li>\n<p dir=\"auto\">Fix entry points where the entire file name is the extension (<a href=\"https://bounce.depfu.com/github.com/evanw/esbuild/issues/2861\">#2861</a>)</p>\n<p dir=\"auto\">Previously if you passed esbuild an entry point where the file extension is the entire file name, esbuild would use the parent directory name to derive the name of the output file. For example, if you passed esbuild a file <code class=\"notranslate\">./src/.ts</code> then the output name would be <code class=\"notranslate\">src.js</code>. This bug happened because esbuild first strips the file extension to get <code class=\"notranslate\">./src/</code> and then joins the path with the working directory to get the absolute path (e.g. <code class=\"notranslate\">join(\"/working/dir\", \"./src/\")</code> gives <code class=\"notranslate\">/working/dir/src</code>). However, the join operation also canonicalizes the path which strips the trailing <code class=\"notranslate\">/</code>. Later esbuild uses the \"base name\" operation to extract the name of the output file. Since there is no trailing <code class=\"notranslate\">/</code>, esbuild returns <code class=\"notranslate\">\"src\"</code> as the base name instead of <code class=\"notranslate\">\"\"</code>, which causes esbuild to incorrectly include the directory name in the output file name. This release fixes this bug by deferring the stripping of the file extension until after all path manipulations have been completed. So now the file <code class=\"notranslate\">./src/.ts</code> will generate an output file named <code class=\"notranslate\">.js</code>.</p>\n</li>\n<li>\n<p dir=\"auto\">Support replacing property access expressions with inject</p>\n<p dir=\"auto\">At a high level, this change means the <code class=\"notranslate\">inject</code> feature can now replace all of the same kinds of names as the <code class=\"notranslate\">define</code> feature. So <code class=\"notranslate\">inject</code> is basically now a more powerful version of <code class=\"notranslate\">define</code>, instead of previously only being able to do some of the things that <code class=\"notranslate\">define</code> could do.</p>\n<p dir=\"auto\">Soem background is necessary to understand this change if you aren't already familiar with the <code class=\"notranslate\">inject</code> feature. The <code class=\"notranslate\">inject</code> feature lets you replace references to global variable with a shim. It works like this:</p>\n<ol dir=\"auto\">\n<li>Put the shim in its own file</li>\n<li>Export the shim as the name of the global variable you intend to replace</li>\n<li>Pass the file to esbuild using the <code class=\"notranslate\">inject</code> feature</li>\n</ol>\n<p dir=\"auto\">For example, if you inject the following file using <code class=\"notranslate\">--inject:./injected.js</code>:</p>\n<div class=\"highlight highlight-source-js\" dir=\"auto\"><pre class=\"notranslate\"><span class=\"pl-c\">// injected.js</span>\n<span class=\"pl-k\">let</span> <span class=\"pl-s1\">processShim</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">{</span> <span class=\"pl-en\">cwd</span>: <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-s\">'/'</span> <span class=\"pl-kos\">}</span>\n<span class=\"pl-k\">export</span> <span class=\"pl-kos\">{</span> <span class=\"pl-s1\">processShim</span> <span class=\"pl-k\">as</span> <span class=\"pl-s1\">process</span> <span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">Then esbuild will replace all references to <code class=\"notranslate\">process</code> with the <code class=\"notranslate\">processShim</code> variable, which will cause <code class=\"notranslate\">process.cwd()</code> to return <code class=\"notranslate\">'/'</code>. This feature is sort of abusing the ESM export alias syntax to specify the mapping of global variables to shims. But esbuild works this way because using this syntax for that purpose is convenient and terse.</p>\n<p dir=\"auto\">However, if you wanted to replace a property access expression, the process was more complicated and not as nice. You would have to:</p>\n<ol dir=\"auto\">\n<li>Put the shim in its own file</li>\n<li>Export the shim as some random name</li>\n<li>Pass the file to esbuild using the <code class=\"notranslate\">inject</code> feature</li>\n<li>Use esbuild's <code class=\"notranslate\">define</code> feature to map the property access expression to the random name you made in step 2</li>\n</ol>\n<p dir=\"auto\">For example, if you inject the following file using <code class=\"notranslate\">--inject:./injected2.js --define:process.cwd=someRandomName</code>:</p>\n<div class=\"highlight highlight-source-js\" dir=\"auto\"><pre class=\"notranslate\"><span class=\"pl-c\">// injected2.js</span>\n<span class=\"pl-k\">let</span> <span class=\"pl-en\">cwdShim</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-s\">'/'</span>\n<span class=\"pl-k\">export</span> <span class=\"pl-kos\">{</span> <span class=\"pl-en\">cwdShim</span> <span class=\"pl-k\">as</span> <span class=\"pl-s1\">someRandomName</span> <span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">Then esbuild will replace all references to <code class=\"notranslate\">process.cwd</code> with the <code class=\"notranslate\">cwdShim</code> variable, which will also cause <code class=\"notranslate\">process.cwd()</code> to return <code class=\"notranslate\">'/'</code> (but which this time will not mess with other references to <code class=\"notranslate\">process</code>, which might be desirable).</p>\n<p dir=\"auto\">With this release, using the inject feature to replace a property access expression is now as simple as using it to replace an identifier. You can now use JavaScript's <a href=\"https://bounce.depfu.com/github.com/tc39/ecma262/pull/2154\">\"arbitrary module¬†namespace identifier¬†names\"</a> feature to specify the property access expression directly using a string literal. For example, if you inject the following file using <code class=\"notranslate\">--inject:./injected3.js</code>:</p>\n<div class=\"highlight highlight-source-js\" dir=\"auto\"><pre class=\"notranslate\"><span class=\"pl-c\">// injected3.js</span>\n<span class=\"pl-k\">let</span> <span class=\"pl-en\">cwdShim</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-s\">'/'</span>\n<span class=\"pl-k\">export</span> <span class=\"pl-kos\">{</span> <span class=\"pl-en\">cwdShim</span> <span class=\"pl-k\">as</span> <span class=\"pl-s\">'process.cwd'</span> <span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">Then esbuild will now replace all references to <code class=\"notranslate\">process.cwd</code> with the <code class=\"notranslate\">cwdShim</code> variable, which will also cause <code class=\"notranslate\">process.cwd()</code> to return <code class=\"notranslate\">'/'</code> (but which will also not mess with other references to <code class=\"notranslate\">process</code>).</p>\n<p dir=\"auto\">In addition to inserting a shim for a global variable that doesn't exist, another use case is replacing references to static methods on global objects with cached versions to both minify them better and to make access to them potentially faster. For example:</p>\n<div class=\"highlight highlight-source-js\" dir=\"auto\"><pre class=\"notranslate\"><span class=\"pl-c\">// Injected file</span>\n<span class=\"pl-k\">let</span> <span class=\"pl-s1\">cachedMin</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">min</span>\n<span class=\"pl-k\">let</span> <span class=\"pl-s1\">cachedMax</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">max</span>\n<span class=\"pl-k\">export</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-s1\">cachedMin</span> <span class=\"pl-k\">as</span> <span class=\"pl-s\">'Math.min'</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-s1\">cachedMax</span> <span class=\"pl-s1\">as</span> <span class=\"pl-s\">'Math.max'</span><span class=\"pl-kos\">,</span>\n<span class=\"pl-kos\">}</span>\n\n<span class=\"pl-c\">// Original input</span>\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">clampRGB</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">r</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">g</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">b</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-k\">return</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-c1\">r</span>: <span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">max</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">,</span> <span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">min</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">r</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-c1\">g</span>: <span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">max</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">,</span> <span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">min</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">g</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-c1\">b</span>: <span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">max</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">,</span> <span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">min</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">b</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-kos\">}</span>\n<span class=\"pl-kos\">}</span>\n\n<span class=\"pl-c\">// Old output (with --minify)</span>\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">clampRGB</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">a</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">t</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">m</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">{</span><span class=\"pl-k\">return</span><span class=\"pl-kos\">{</span><span class=\"pl-c1\">r</span>:<span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">max</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">,</span><span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">min</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">a</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">g</span>:<span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">max</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">,</span><span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">min</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">t</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">b</span>:<span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">max</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">,</span><span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">min</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">m</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">}</span>\n\n<span class=\"pl-c\">// New output (with --minify)</span>\n<span class=\"pl-k\">var</span> <span class=\"pl-s1\">a</span><span class=\"pl-c1\">=</span><span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">min</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">t</span><span class=\"pl-c1\">=</span><span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">max</span><span class=\"pl-kos\">;</span><span class=\"pl-k\">function</span> <span class=\"pl-en\">clampRGB</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">h</span><span class=\"pl-kos\">,</span><span class=\"pl-v\">M</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">m</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">{</span><span class=\"pl-k\">return</span><span class=\"pl-kos\">{</span><span class=\"pl-c1\">r</span>:<span class=\"pl-s1\">t</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">a</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">h</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">g</span>:<span class=\"pl-s1\">t</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">a</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span><span class=\"pl-v\">M</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">b</span>:<span class=\"pl-s1\">t</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">a</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">m</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">}</span></pre></div>\n</li>\n</ul></blockquote>\n<p><em>Does any of this look wrong? <a href=\"https://depfu.com/packages/npm/esbuild/feedback\">Please let us know.</a></em></p>\n</details>\n\n<details>\n<summary>Commits</summary>\n<p><a href=\"https://github.com/evanw/esbuild/compare/acc5becf4d4e81473761091fc340efe16325da4a...a8b660d85a0a57087a0f188857519f194f52b84c\">See the full diff on Github</a>. The new version differs by 16 commits:</p>\n<ul>\n<li><a href=\"https://github.com/evanw/esbuild/commit/a8b660d85a0a57087a0f188857519f194f52b84c\"><code>publish 0.17.5 to npm</code></a></li>\n<li><a href=\"https://github.com/evanw/esbuild/commit/0c3642e7cd373ec902656e24c3a2c97fe15f4e44\"><code>fix constant folding bug with nested operands</code></a></li>\n<li><a href=\"https://github.com/evanw/esbuild/commit/be94d3787f54a74ab6094b9e9fdebad482fef546\"><code>update `enum` constant folding for TypeScript 5.0</code></a></li>\n<li><a href=\"https://github.com/evanw/esbuild/commit/73523d9d0c814d70c5697352e4d632f50e558124\"><code>parse `const` type parameters from TypeScript 5.0</code></a></li>\n<li><a href=\"https://github.com/evanw/esbuild/commit/3ada8f020b5cea9d2862c99bfd3644b13b7910e9\"><code>test coverage for `async &lt;A, B&gt;` in typescript</code></a></li>\n<li><a href=\"https://github.com/evanw/esbuild/commit/8824778ae14d1a9301751d5384d6d9bd6477f1f7\"><code>tsx: reject generic arrow functions without a `,`</code></a></li>\n<li><a href=\"https://github.com/evanw/esbuild/commit/1291b59286cb1ba3130bb8744993e230fe55bb64\"><code>forbid definite assignment assertions on methods</code></a></li>\n<li><a href=\"https://github.com/evanw/esbuild/commit/71b3ef96cd2d355c0377eba5f0e62941ef0536c2\"><code>allow `in` and `out` with class expression params</code></a></li>\n<li><a href=\"https://github.com/evanw/esbuild/commit/3c83a84d01e22664923b543998b5c03c0c5d8654\"><code>publish 0.17.4 to npm</code></a></li>\n<li><a href=\"https://github.com/evanw/esbuild/commit/22522328c95203faea1e3fd0ea3a0bd7c285306b\"><code>support replacing dot identifier names with inject</code></a></li>\n<li><a href=\"https://github.com/evanw/esbuild/commit/1f992671cddfe749e5b222e690f7c059b505af79\"><code>add test for inject + define</code></a></li>\n<li><a href=\"https://github.com/evanw/esbuild/commit/6c25c9eddf5ffa39757a2a678f505827580656b4\"><code>fix #2861: bug with extension-only entry points</code></a></li>\n<li><a href=\"https://github.com/evanw/esbuild/commit/5fe21253ee75fb4c5ea395a0877b2a5ab51c3575\"><code>fix #2853: permit top-level await in dead code</code></a></li>\n<li><a href=\"https://github.com/evanw/esbuild/commit/f48391a1ca8fcfe6659d3ce84fbe5496b2965672\"><code>fix #2851: implement HTTP `HEAD` requests</code></a></li>\n<li><a href=\"https://github.com/evanw/esbuild/commit/7c0526e49ba87a0721c87e9c4d241cf730138996\"><code>js tests: convert fetch header to named argument</code></a></li>\n<li><a href=\"https://github.com/evanw/esbuild/commit/31fb4527134d2fac55d97a48af8f7b0e8ffc3f00\"><code>optimizer: mark some `new Date` expressions pure</code></a></li>\n</ul>\n</details>\n\n\n\n\n\n\n---\n![Depfu Status](https://depfu.com/badges/edd6acd35d74c8d41cbb540c30442adf/stats.svg)\n\n[Depfu](https://depfu.com) will automatically keep this PR conflict-free, as long as you don't add any commits to this branch yourself. You can also trigger a rebase manually by commenting with `@depfu rebase`.\n\n<details><summary>All Depfu comment commands</summary>\n<blockquote><dl>\n<dt>@‚Äãdepfu rebase</dt><dd>Rebases against your default branch and redoes this update</dd>\n<dt>@‚Äãdepfu recreate</dt><dd>Recreates this PR, overwriting any edits that you've made to it</dd>\n<dt>@‚Äãdepfu merge</dt><dd>Merges this PR once your tests are passing and conflicts are resolved</dd>\n<dt>@‚Äãdepfu close</dt><dd>Closes this PR and deletes the branch</dd>\n<dt>@‚Äãdepfu reopen</dt><dd>Restores the branch and reopens this PR (if it's closed)</dd>\n<dt>@‚Äãdepfu pause</dt><dd>Ignores all future updates for this dependency and closes this PR</dd>\n<dt>@‚Äãdepfu pause [minor|major]</dt><dd>Ignores all future minor/major updates for this dependency and closes this PR</dd>\n<dt>@‚Äãdepfu resume</dt><dd>Future versions of this dependency will create PRs again (leaves this PR as is)</dd>\n</dl></blockquote>\n</details>\n\n","Url":"https://github.com/tailwindlabs/tailwindcss/pull/10453","RelatedDescription":"Closed or merged PR \"Upgrade all of jest: 28.1.3 ‚Üí 29.4.1 (major)\" (#10453)"},{"Id":"1564240040","IsPullRequest":true,"CreatedAt":"2023-01-31T14:37:49","Actor":"RobinMalfait","Number":"10454","RawContent":null,"Title":"Improve CSS output in tests to better reflect reality","State":"closed","Body":"This PR improves the expected CSS output in our tests. We are now using lightning css which produces\r\na more optimized CSS output. \r\n\r\nRight now the tests are setup in a way that both the generated css and expected css are run through `lightningcss` to make sure that the output is concistent for the `stable` and `oxide` engines. But this also means that the expected output _could_ be larger (aka not optimized) and still matches (after it runs through lightningcss).\r\n\r\nBy replacing this with the more optimal output we achieve a few things:\r\n\r\n1. This better reflects reality since we will be using `lightningcss`.\r\n2. This gets rid of unnecessary css.\r\n3. Removed code!\r\n\r\nLightning CSS makes use of the browserslist, currently for our tests we told it to use `Chrome v106`. This is also the reason why certain things are squashed now:\r\n\r\nBefore:\r\n```css\r\n*,\r\n::before,\r\n::after {\r\n  --tw-border-spacing-x: 0;\r\n  --tw-border-spacing-y: 0;\r\n  --tw-translate-x: 0;\r\n  --tw-translate-y: 0;\r\n  --tw-rotate: 0;\r\n  --tw-skew-x: 0;\r\n  --tw-skew-y: 0;\r\n  --tw-scale-x: 1;\r\n  --tw-scale-y: 1;\r\n  --tw-pan-x: ;\r\n  --tw-pan-y: ;\r\n  --tw-pinch-zoom: ;\r\n  --tw-scroll-snap-strictness: proximity;\r\n  --tw-ordinal: ;\r\n  --tw-slashed-zero: ;\r\n  --tw-numeric-figure: ;\r\n  --tw-numeric-spacing: ;\r\n  --tw-numeric-fraction: ;\r\n  --tw-ring-inset: ;\r\n  --tw-ring-offset-width: 0px;\r\n  --tw-ring-offset-color: #fff;\r\n  --tw-ring-color: ${defaultRingColor};\r\n  --tw-ring-offset-shadow: 0 0 #0000;\r\n  --tw-ring-shadow: 0 0 #0000;\r\n  --tw-shadow: 0 0 #0000;\r\n  --tw-shadow-colored: 0 0 #0000;\r\n  --tw-blur: ;\r\n  --tw-brightness: ;\r\n  --tw-contrast: ;\r\n  --tw-grayscale: ;\r\n  --tw-hue-rotate: ;\r\n  --tw-invert: ;\r\n  --tw-saturate: ;\r\n  --tw-sepia: ;\r\n  --tw-drop-shadow: ;\r\n  --tw-backdrop-blur: ;\r\n  --tw-backdrop-brightness: ;\r\n  --tw-backdrop-contrast: ;\r\n  --tw-backdrop-grayscale: ;\r\n  --tw-backdrop-hue-rotate: ;\r\n  --tw-backdrop-invert: ;\r\n  --tw-backdrop-opacity: ;\r\n  --tw-backdrop-saturate: ;\r\n  --tw-backdrop-sepia: ;\r\n}\r\n::backdrop {\r\n  --tw-border-spacing-x: 0;\r\n  --tw-border-spacing-y: 0;\r\n  --tw-translate-x: 0;\r\n  --tw-translate-y: 0;\r\n  --tw-rotate: 0;\r\n  --tw-skew-x: 0;\r\n  --tw-skew-y: 0;\r\n  --tw-scale-x: 1;\r\n  --tw-scale-y: 1;\r\n  --tw-pan-x: ;\r\n  --tw-pan-y: ;\r\n  --tw-pinch-zoom: ;\r\n  --tw-scroll-snap-strictness: proximity;\r\n  --tw-ordinal: ;\r\n  --tw-slashed-zero: ;\r\n  --tw-numeric-figure: ;\r\n  --tw-numeric-spacing: ;\r\n  --tw-numeric-fraction: ;\r\n  --tw-ring-inset: ;\r\n  --tw-ring-offset-width: 0px;\r\n  --tw-ring-offset-color: #fff;\r\n  --tw-ring-color: ${defaultRingColor};\r\n  --tw-ring-offset-shadow: 0 0 #0000;\r\n  --tw-ring-shadow: 0 0 #0000;\r\n  --tw-shadow: 0 0 #0000;\r\n  --tw-shadow-colored: 0 0 #0000;\r\n  --tw-blur: ;\r\n  --tw-brightness: ;\r\n  --tw-contrast: ;\r\n  --tw-grayscale: ;\r\n  --tw-hue-rotate: ;\r\n  --tw-invert: ;\r\n  --tw-saturate: ;\r\n  --tw-sepia: ;\r\n  --tw-drop-shadow: ;\r\n  --tw-backdrop-blur: ;\r\n  --tw-backdrop-brightness: ;\r\n  --tw-backdrop-contrast: ;\r\n  --tw-backdrop-grayscale: ;\r\n  --tw-backdrop-hue-rotate: ;\r\n  --tw-backdrop-invert: ;\r\n  --tw-backdrop-opacity: ;\r\n  --tw-backdrop-saturate: ;\r\n  --tw-backdrop-sepia: ;\r\n}\r\n```\r\n\r\nAfter:\r\n```css\r\n*,\r\n:before,\r\n:after,\r\n::backdrop {\r\n  --tw-border-spacing-x: 0;\r\n  --tw-border-spacing-y: 0;\r\n  --tw-translate-x: 0;\r\n  --tw-translate-y: 0;\r\n  --tw-rotate: 0;\r\n  --tw-skew-x: 0;\r\n  --tw-skew-y: 0;\r\n  --tw-scale-x: 1;\r\n  --tw-scale-y: 1;\r\n  --tw-pan-x: ;\r\n  --tw-pan-y: ;\r\n  --tw-pinch-zoom: ;\r\n  --tw-scroll-snap-strictness: proximity;\r\n  --tw-ordinal: ;\r\n  --tw-slashed-zero: ;\r\n  --tw-numeric-figure: ;\r\n  --tw-numeric-spacing: ;\r\n  --tw-numeric-fraction: ;\r\n  --tw-ring-inset: ;\r\n  --tw-ring-offset-width: 0px;\r\n  --tw-ring-offset-color: #fff;\r\n  --tw-ring-color: ${defaultRingColor};\r\n  --tw-ring-offset-shadow: 0 0 #0000;\r\n  --tw-ring-shadow: 0 0 #0000;\r\n  --tw-shadow: 0 0 #0000;\r\n  --tw-shadow-colored: 0 0 #0000;\r\n  --tw-blur: ;\r\n  --tw-brightness: ;\r\n  --tw-contrast: ;\r\n  --tw-grayscale: ;\r\n  --tw-hue-rotate: ;\r\n  --tw-invert: ;\r\n  --tw-saturate: ;\r\n  --tw-sepia: ;\r\n  --tw-drop-shadow: ;\r\n  --tw-backdrop-blur: ;\r\n  --tw-backdrop-brightness: ;\r\n  --tw-backdrop-contrast: ;\r\n  --tw-backdrop-grayscale: ;\r\n  --tw-backdrop-hue-rotate: ;\r\n  --tw-backdrop-invert: ;\r\n  --tw-backdrop-opacity: ;\r\n  --tw-backdrop-saturate: ;\r\n  --tw-backdrop-sepia: ;\r\n}\r\n```\r\n\r\nAlso important to note that this PR doesn't touch actual implementation. Just test output, that way we can know for sure that we didn't break anything because we didn't update code + tests üëç \r\n\r\n<!--\r\n\r\nüëã Hey, thanks for your interest in contributing to Tailwind!\r\n\r\n**Please ask first before starting work on any significant new features.**\r\n\r\nIt's never a fun experience to have your pull request declined after investing a lot of time and effort into a new feature. To avoid this from happening, we request that contributors create an issue to first discuss any significant new features. This includes things like adding new utilities, creating new at-rules, or adding new component examples to the documentation.\r\n\r\nhttps://github.com/tailwindcss/tailwindcss/blob/master/.github/CONTRIBUTING.md\r\n\r\n-->\r\n","Url":"https://github.com/tailwindlabs/tailwindcss/pull/10454","RelatedDescription":"Closed or merged PR \"Improve CSS output in tests to better reflect reality\" (#10454)"},{"Id":"1561934152","IsPullRequest":false,"CreatedAt":"2023-01-30T14:05:12","Actor":"vnvyvu","Number":"10443","RawContent":null,"Title":"Error \"[postcss] Cannot read properties of undefined (reading '5')\" when use \"peer\"","State":"closed","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\r\n\r\n**What version of Tailwind CSS are you using?**\r\n\r\n\"tailwindcss\": \"^3.2.4\"\r\n\r\n**What build tool (or framework if it abstracts the build tool) are you using?**\r\n\r\n\"vite\": \"^4.0.4\"\r\n\r\n**What version of Node.js are you using?**\r\n\r\nv16.14.2\r\n\r\n**What browser are you using?**\r\n\r\nEdge\r\n\r\n**What operating system are you using?**\r\n\r\nLinux\r\n\r\n**Reproduction URL**\r\n\r\nhttps://stackblitz.com/edit/vite-react-tailwind-gdzk4p?file=src/Dropdown.jsx\r\n\r\n![image](https://user-images.githubusercontent.com/22812601/215420956-9ff02b70-6301-43de-bef2-d8b2b4235723.png)\r\n\r\nIdk, sorry if this error isn't with Tailwind","Url":"https://github.com/tailwindlabs/tailwindcss/issues/10443","RelatedDescription":"Closed issue \"Error \"[postcss] Cannot read properties of undefined (reading '5')\" when use \"peer\"\" (#10443)"},{"Id":"1561337415","IsPullRequest":false,"CreatedAt":"2023-01-29T15:39:22","Actor":"deebov","Number":"10440","RawContent":null,"Title":"Using CSS variables inside `boxShadow`","State":"closed","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\r\n\r\n**What version of Tailwind CSS are you using?**\r\n\r\nv3.2.4\r\n\r\n**What build tool (or framework if it abstracts the build tool) are you using?**\r\n\r\nStorybook & Vite\r\n\r\n**What version of Node.js are you using?**\r\n\r\nv18\r\n\r\n**What browser are you using?**\r\n\r\nChrome\r\n\r\n**What operating system are you using?**\r\n\r\nmacOS\r\n\r\n**Reproduction URL**\r\n\r\nhttps://play.tailwindcss.com/DTilHkGjFa\r\n\r\n**Describe your issue**\r\n\r\nWe use CSS variables for colors. And we have shadows that depend on the theme color. I noticed that referencing theme colors from inside a theme definition does not handle `<alpha-value>` value formatting. For reference, please check the [Play link](https://play.tailwindcss.com/DTilHkGjFa). As you can see there, the shadow does not have a properly formatted color value.","Url":"https://github.com/tailwindlabs/tailwindcss/issues/10440","RelatedDescription":"Closed issue \"Using CSS variables inside `boxShadow`\" (#10440)"},{"Id":"1560218302","IsPullRequest":true,"CreatedAt":"2023-01-27T18:57:03","Actor":"MichaelAllenWarner","Number":"10427","RawContent":null,"Title":"Some minor fixes to the variants tests","State":"closed","Body":"Just a few small fixes to the variants tests:\r\n\r\n- Add a test for `peer-open:` (there was already one for `group-open:`).\r\n- Correct typo in `xl:dark:disabledshadow-md` test (missing semicolon) and create corresponding CSS.\r\n- Move the `backdrop:` test from the pseudo-classes area to the pseudo-elements area.","Url":"https://github.com/tailwindlabs/tailwindcss/pull/10427","RelatedDescription":"Closed or merged PR \"Some minor fixes to the variants tests\" (#10427)"},{"Id":"1559567987","IsPullRequest":false,"CreatedAt":"2023-01-27T11:14:05","Actor":"hakobpogh","Number":"10424","RawContent":null,"Title":"Tailwind creates classes based on variable names in my typescript codes","State":"closed","Body":"**What version of Tailwind CSS are you using?**\r\nv3.2.4\r\n\r\n**What build tool (or framework if it abstracts the build tool) are you using?**\r\nNX, with a React application, where I use it as an extension.\r\n\r\n* nx: 15.3.0\r\n\r\n**What version of Node.js are you using?**\r\nv16.17.0\r\n\r\n**What browser are you using?**\r\nChrome and Arc\r\n\r\n**What operating system are you using?**\r\nmacOS\r\n\r\n**Reproduction URL**\r\nI'll try creating one.\r\n\r\n**Describe your issue**\r\nI believe you can reproduce it in a different way to. But what I see is when you have a variable named `visible`, or `container` then it just leaves the visible, and container class. But these are just typescript variables and they shouldn't be counted for.\r\n\r\nThese c lasses are left because of typescript variables with the same name:\r\n```\r\n.visible {\r\n    visibility: visible\r\n}\r\n.\\!visible {\r\n    visibility: visible !important\r\n}\r\n.absolute {\r\n    position: absolute\r\n}\r\n.transform {\r\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))\r\n}\r\n.rounded {\r\n    border-radius: 0.25rem\r\n}\r\n.filter {\r\n    filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)\r\n}\r\n```\r\n\r\nI believe it should only show for the expressions in jsx scope and not look for variable or function names. Or maybe we can have some flag to ignore standard classes in the result. Because I mostly use module files.","Url":"https://github.com/tailwindlabs/tailwindcss/issues/10424","RelatedDescription":"Closed issue \"Tailwind creates classes based on variable names in my typescript codes\" (#10424)"},{"Id":"1558005842","IsPullRequest":false,"CreatedAt":"2023-01-26T11:49:00","Actor":"dskvr","Number":"10418","RawContent":null,"Title":"extend not working with PostCSS and Webpack ","State":"closed","Body":"**What version of Tailwind CSS are you using?**\r\n\r\nLatest\r\n\r\n**What build tool (or framework if it abstracts the build tool) are you using?**\r\n\r\n`postcss-apply:0.12.0`\r\n`webpack:5.75.0` \r\n\r\n**What version of Node.js are you using?**\r\n\r\nlatest (19)\r\n\r\n**What browser are you using?**\r\n\r\nAll\r\n\r\n**What operating system are you using?**\r\n\r\nAll\r\n\r\n**Reproduction URL**\r\n\r\nCannot because tailwind play does not provide the capability to reproduce the problem \r\n\r\n**Describe your issue**\r\n\r\n#2721 Should not have been closed, this issue can be reproduced.\r\n\r\nUsing postcss with webpack, the `extend` options **are completely ignored**. When `postcss.config.js` is deleted and (removed from webpack config ofc), everything works as expected. \r\n\r\nI have attempted:\r\n1. PurgeCSS for PostCSS - made things worse actually\r\n2. Rummaged through PostCSS docs to try and figure out what is going on. \r\n\r\nThere is no documentation on this case that I can find, there are no caveats listed [here](https://tailwindcss.com/docs/customizing-spacing), and it is a pretty common case to want to use postcss, who doesn't want to use `@apply`? \r\n\r\n**Hack:**\r\nFor anyone that needs all values between 1-32 for margin-top and/or height and has already wasted enough time: \r\nhttps://gist.github.com/dskvr/e4d34bc5c7e96fd34f62d947aa3939b7","Url":"https://github.com/tailwindlabs/tailwindcss/issues/10418","RelatedDescription":"Closed issue \"extend not working with PostCSS and Webpack \" (#10418)"},{"Id":"1557192310","IsPullRequest":true,"CreatedAt":"2023-01-25T20:03:12","Actor":"depfu[bot]","Number":"10416","RawContent":null,"Title":"Update esbuild: 0.17.3 ‚Üí 0.17.4 (minor)","State":"closed","Body":"\n\n\n\n\nHere is everything you need to know about this update. Please take a good look at what changed and the test results before merging this pull request.\n\n### What changed?\n\n#### ‚ú≥Ô∏è esbuild (0.17.3 ‚Üí 0.17.4) ¬∑ [Repo](https://github.com/evanw/esbuild) ¬∑ [Changelog](https://github.com/evanw/esbuild/blob/main/CHANGELOG.md)\n\n\n<details>\n<summary>Release Notes</summary>\n<h4><a href=\"https://github.com/evanw/esbuild/releases/tag/v0.17.4\">0.17.4</a></h4>\n\n<blockquote><ul dir=\"auto\">\n<li>\n<p dir=\"auto\">Implement HTTP <code class=\"notranslate\">HEAD</code> requests in serve mode (<a href=\"https://bounce.depfu.com/github.com/evanw/esbuild/issues/2851\">#2851</a>)</p>\n<p dir=\"auto\">Previously esbuild's serve mode only responded to HTTP <code class=\"notranslate\">GET</code> requests. With this release, esbuild's serve mode will also respond to HTTP <code class=\"notranslate\">HEAD</code> requests, which are just like HTTP <code class=\"notranslate\">GET</code> requests except that the body of the response is omitted.</p>\n</li>\n<li>\n<p dir=\"auto\">Permit top-level await in dead code branches (<a href=\"https://bounce.depfu.com/github.com/evanw/esbuild/issues/2853\">#2853</a>)</p>\n<p dir=\"auto\">Adding top-level await to a file has a few consequences with esbuild:</p>\n<ol dir=\"auto\">\n<li>It causes esbuild to assume that the input module format is ESM, since top-level await is only syntactically valid in ESM. That prevents you from using <code class=\"notranslate\">module</code> and <code class=\"notranslate\">exports</code> for exports and also enables strict mode, which disables certain syntax and changes how function hoisting works (among other things).</li>\n<li>This will cause esbuild to fail the build if either top-level await isn't supported by your language target (e.g. it's not supported in ES2021) or if top-level await isn't supported by the chosen output format (e.g. it's not supported with CommonJS).</li>\n<li>Doing this will prevent you from using <code class=\"notranslate\">require()</code> on this file or on any file that imports this file (even indirectly), since the <code class=\"notranslate\">require()</code> function doesn't return a promise and so can't represent top-level await.</li>\n</ol>\n<p dir=\"auto\">This release relaxes these rules slightly: rules 2 and 3 will now no longer apply when esbuild has identified the code branch as dead code, such as when it's behind an <code class=\"notranslate\">if (false)</code> check. This should make it possible to use esbuild to convert code into different output formats that only uses top-level await conditionally. This release does not relax rule 1. Top-level await will still cause esbuild to unconditionally consider the input module format to be ESM, even when the top-level <code class=\"notranslate\">await</code> is in a dead code branch. This is necessary because whether the input format is ESM or not affects the whole file, not just the dead code branch.</p>\n</li>\n<li>\n<p dir=\"auto\">Fix entry points where the entire file name is the extension (<a href=\"https://bounce.depfu.com/github.com/evanw/esbuild/issues/2861\">#2861</a>)</p>\n<p dir=\"auto\">Previously if you passed esbuild an entry point where the file extension is the entire file name, esbuild would use the parent directory name to derive the name of the output file. For example, if you passed esbuild a file <code class=\"notranslate\">./src/.ts</code> then the output name would be <code class=\"notranslate\">src.js</code>. This bug happened because esbuild first strips the file extension to get <code class=\"notranslate\">./src/</code> and then joins the path with the working directory to get the absolute path (e.g. <code class=\"notranslate\">join(\"/working/dir\", \"./src/\")</code> gives <code class=\"notranslate\">/working/dir/src</code>). However, the join operation also canonicalizes the path which strips the trailing <code class=\"notranslate\">/</code>. Later esbuild uses the \"base name\" operation to extract the name of the output file. Since there is no trailing <code class=\"notranslate\">/</code>, esbuild returns <code class=\"notranslate\">\"src\"</code> as the base name instead of <code class=\"notranslate\">\"\"</code>, which causes esbuild to incorrectly include the directory name in the output file name. This release fixes this bug by deferring the stripping of the file extension until after all path manipulations have been completed. So now the file <code class=\"notranslate\">./src/.ts</code> will generate an output file named <code class=\"notranslate\">.js</code>.</p>\n</li>\n<li>\n<p dir=\"auto\">Support replacing property access expressions with inject</p>\n<p dir=\"auto\">At a high level, this change means the <code class=\"notranslate\">inject</code> feature can now replace all of the same kinds of names as the <code class=\"notranslate\">define</code> feature. So <code class=\"notranslate\">inject</code> is basically now a more powerful version of <code class=\"notranslate\">define</code>, instead of previously only being able to do some of the things that <code class=\"notranslate\">define</code> could do.</p>\n<p dir=\"auto\">Soem background is necessary to understand this change if you aren't already familiar with the <code class=\"notranslate\">inject</code> feature. The <code class=\"notranslate\">inject</code> feature lets you replace references to global variable with a shim. It works like this:</p>\n<ol dir=\"auto\">\n<li>Put the shim in its own file</li>\n<li>Export the shim as the name of the global variable you intend to replace</li>\n<li>Pass the file to esbuild using the <code class=\"notranslate\">inject</code> feature</li>\n</ol>\n<p dir=\"auto\">For example, if you inject the following file using <code class=\"notranslate\">--inject:./injected.js</code>:</p>\n<div class=\"highlight highlight-source-js\" dir=\"auto\"><pre class=\"notranslate\"><span class=\"pl-c\">// injected.js</span>\n<span class=\"pl-k\">let</span> <span class=\"pl-s1\">processShim</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">{</span> <span class=\"pl-en\">cwd</span>: <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-s\">'/'</span> <span class=\"pl-kos\">}</span>\n<span class=\"pl-k\">export</span> <span class=\"pl-kos\">{</span> <span class=\"pl-s1\">processShim</span> <span class=\"pl-k\">as</span> <span class=\"pl-s1\">process</span> <span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">Then esbuild will replace all references to <code class=\"notranslate\">process</code> with the <code class=\"notranslate\">processShim</code> variable, which will cause <code class=\"notranslate\">process.cwd()</code> to return <code class=\"notranslate\">'/'</code>. This feature is sort of abusing the ESM export alias syntax to specify the mapping of global variables to shims. But esbuild works this way because using this syntax for that purpose is convenient and terse.</p>\n<p dir=\"auto\">However, if you wanted to replace a property access expression, the process was more complicated and not as nice. You would have to:</p>\n<ol dir=\"auto\">\n<li>Put the shim in its own file</li>\n<li>Export the shim as some random name</li>\n<li>Pass the file to esbuild using the <code class=\"notranslate\">inject</code> feature</li>\n<li>Use esbuild's <code class=\"notranslate\">define</code> feature to map the property access expression to the random name you made in step 2</li>\n</ol>\n<p dir=\"auto\">For example, if you inject the following file using <code class=\"notranslate\">--inject:./injected2.js --define:process.cwd=someRandomName</code>:</p>\n<div class=\"highlight highlight-source-js\" dir=\"auto\"><pre class=\"notranslate\"><span class=\"pl-c\">// injected2.js</span>\n<span class=\"pl-k\">let</span> <span class=\"pl-en\">cwdShim</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-s\">'/'</span>\n<span class=\"pl-k\">export</span> <span class=\"pl-kos\">{</span> <span class=\"pl-en\">cwdShim</span> <span class=\"pl-k\">as</span> <span class=\"pl-s1\">someRandomName</span> <span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">Then esbuild will replace all references to <code class=\"notranslate\">process.cwd</code> with the <code class=\"notranslate\">cwdShim</code> variable, which will also cause <code class=\"notranslate\">process.cwd()</code> to return <code class=\"notranslate\">'/'</code> (but which this time will not mess with other references to <code class=\"notranslate\">process</code>, which might be desirable).</p>\n<p dir=\"auto\">With this release, using the inject feature to replace a property access expression is now as simple as using it to replace an identifier. You can now use JavaScript's <a href=\"https://bounce.depfu.com/github.com/tc39/ecma262/pull/2154\">\"arbitrary module¬†namespace identifier¬†names\"</a> feature to specify the property access expression directly using a string literal. For example, if you inject the following file using <code class=\"notranslate\">--inject:./injected3.js</code>:</p>\n<div class=\"highlight highlight-source-js\" dir=\"auto\"><pre class=\"notranslate\"><span class=\"pl-c\">// injected3.js</span>\n<span class=\"pl-k\">let</span> <span class=\"pl-en\">cwdShim</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-s\">'/'</span>\n<span class=\"pl-k\">export</span> <span class=\"pl-kos\">{</span> <span class=\"pl-en\">cwdShim</span> <span class=\"pl-k\">as</span> <span class=\"pl-s\">'process.cwd'</span> <span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">Then esbuild will now replace all references to <code class=\"notranslate\">process.cwd</code> with the <code class=\"notranslate\">cwdShim</code> variable, which will also cause <code class=\"notranslate\">process.cwd()</code> to return <code class=\"notranslate\">'/'</code> (but which will also not mess with other references to <code class=\"notranslate\">process</code>).</p>\n<p dir=\"auto\">In addition to inserting a shim for a global variable that doesn't exist, another use case is replacing references to static methods on global objects with cached versions to both minify them better and to make access to them potentially faster. For example:</p>\n<div class=\"highlight highlight-source-js\" dir=\"auto\"><pre class=\"notranslate\"><span class=\"pl-c\">// Injected file</span>\n<span class=\"pl-k\">let</span> <span class=\"pl-s1\">cachedMin</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">min</span>\n<span class=\"pl-k\">let</span> <span class=\"pl-s1\">cachedMax</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">max</span>\n<span class=\"pl-k\">export</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-s1\">cachedMin</span> <span class=\"pl-k\">as</span> <span class=\"pl-s\">'Math.min'</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-s1\">cachedMax</span> <span class=\"pl-s1\">as</span> <span class=\"pl-s\">'Math.max'</span><span class=\"pl-kos\">,</span>\n<span class=\"pl-kos\">}</span>\n\n<span class=\"pl-c\">// Original input</span>\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">clampRGB</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">r</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">g</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">b</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-k\">return</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-c1\">r</span>: <span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">max</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">,</span> <span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">min</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">r</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-c1\">g</span>: <span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">max</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">,</span> <span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">min</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">g</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-c1\">b</span>: <span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">max</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">,</span> <span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">min</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">b</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-kos\">}</span>\n<span class=\"pl-kos\">}</span>\n\n<span class=\"pl-c\">// Old output (with --minify)</span>\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">clampRGB</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">a</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">t</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">m</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">{</span><span class=\"pl-k\">return</span><span class=\"pl-kos\">{</span><span class=\"pl-c1\">r</span>:<span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">max</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">,</span><span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">min</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">a</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">g</span>:<span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">max</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">,</span><span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">min</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">t</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">b</span>:<span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">max</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">,</span><span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">min</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">m</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">}</span>\n\n<span class=\"pl-c\">// New output (with --minify)</span>\n<span class=\"pl-k\">var</span> <span class=\"pl-s1\">a</span><span class=\"pl-c1\">=</span><span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">min</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">t</span><span class=\"pl-c1\">=</span><span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">max</span><span class=\"pl-kos\">;</span><span class=\"pl-k\">function</span> <span class=\"pl-en\">clampRGB</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">h</span><span class=\"pl-kos\">,</span><span class=\"pl-v\">M</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">m</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">{</span><span class=\"pl-k\">return</span><span class=\"pl-kos\">{</span><span class=\"pl-c1\">r</span>:<span class=\"pl-s1\">t</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">a</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">h</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">g</span>:<span class=\"pl-s1\">t</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">a</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span><span class=\"pl-v\">M</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">b</span>:<span class=\"pl-s1\">t</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">a</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">m</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">}</span></pre></div>\n</li>\n</ul></blockquote>\n<p><em>Does any of this look wrong? <a href=\"https://depfu.com/packages/npm/esbuild/feedback\">Please let us know.</a></em></p>\n</details>\n\n<details>\n<summary>Commits</summary>\n<p><a href=\"https://github.com/evanw/esbuild/compare/acc5becf4d4e81473761091fc340efe16325da4a...3c83a84d01e22664923b543998b5c03c0c5d8654\">See the full diff on Github</a>. The new version differs by 8 commits:</p>\n<ul>\n<li><a href=\"https://github.com/evanw/esbuild/commit/3c83a84d01e22664923b543998b5c03c0c5d8654\"><code>publish 0.17.4 to npm</code></a></li>\n<li><a href=\"https://github.com/evanw/esbuild/commit/22522328c95203faea1e3fd0ea3a0bd7c285306b\"><code>support replacing dot identifier names with inject</code></a></li>\n<li><a href=\"https://github.com/evanw/esbuild/commit/1f992671cddfe749e5b222e690f7c059b505af79\"><code>add test for inject + define</code></a></li>\n<li><a href=\"https://github.com/evanw/esbuild/commit/6c25c9eddf5ffa39757a2a678f505827580656b4\"><code>fix #2861: bug with extension-only entry points</code></a></li>\n<li><a href=\"https://github.com/evanw/esbuild/commit/5fe21253ee75fb4c5ea395a0877b2a5ab51c3575\"><code>fix #2853: permit top-level await in dead code</code></a></li>\n<li><a href=\"https://github.com/evanw/esbuild/commit/f48391a1ca8fcfe6659d3ce84fbe5496b2965672\"><code>fix #2851: implement HTTP `HEAD` requests</code></a></li>\n<li><a href=\"https://github.com/evanw/esbuild/commit/7c0526e49ba87a0721c87e9c4d241cf730138996\"><code>js tests: convert fetch header to named argument</code></a></li>\n<li><a href=\"https://github.com/evanw/esbuild/commit/31fb4527134d2fac55d97a48af8f7b0e8ffc3f00\"><code>optimizer: mark some `new Date` expressions pure</code></a></li>\n</ul>\n</details>\n\n\n\n\n\n\n---\n![Depfu Status](https://depfu.com/badges/edd6acd35d74c8d41cbb540c30442adf/stats.svg)\n\n[Depfu](https://depfu.com) will automatically keep this PR conflict-free, as long as you don't add any commits to this branch yourself. You can also trigger a rebase manually by commenting with `@depfu rebase`.\n\n<details><summary>All Depfu comment commands</summary>\n<blockquote><dl>\n<dt>@‚Äãdepfu rebase</dt><dd>Rebases against your default branch and redoes this update</dd>\n<dt>@‚Äãdepfu recreate</dt><dd>Recreates this PR, overwriting any edits that you've made to it</dd>\n<dt>@‚Äãdepfu merge</dt><dd>Merges this PR once your tests are passing and conflicts are resolved</dd>\n<dt>@‚Äãdepfu close</dt><dd>Closes this PR and deletes the branch</dd>\n<dt>@‚Äãdepfu reopen</dt><dd>Restores the branch and reopens this PR (if it's closed)</dd>\n<dt>@‚Äãdepfu pause</dt><dd>Ignores all future updates for this dependency and closes this PR</dd>\n<dt>@‚Äãdepfu pause [minor|major]</dt><dd>Ignores all future minor/major updates for this dependency and closes this PR</dd>\n<dt>@‚Äãdepfu resume</dt><dd>Future versions of this dependency will create PRs again (leaves this PR as is)</dd>\n</dl></blockquote>\n</details>\n\n","Url":"https://github.com/tailwindlabs/tailwindcss/pull/10416","RelatedDescription":"Closed or merged PR \"Update esbuild: 0.17.3 ‚Üí 0.17.4 (minor)\" (#10416)"},{"Id":"1557116885","IsPullRequest":false,"CreatedAt":"2023-01-25T19:18:13","Actor":"ilpet","Number":"10415","RawContent":null,"Title":"Read-only state is always applied on input[type=\"file\"]","State":"closed","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\r\n\r\n**What version of Tailwind CSS are you using?**\r\n\r\nFor example: v3.2.4\r\n\r\n**What build tool (or framework if it abstracts the build tool) are you using?**\r\n\r\nFor example: Vite 4\r\n\r\n**What version of Node.js are you using?**\r\n\r\nFor example: v18.12.1\r\n\r\n**What browser are you using?**\r\n\r\nFor example: Chrome, Opera\r\n\r\n**What operating system are you using?**\r\n\r\nFor example: macOS\r\n\r\n**Reproduction URL**\r\n\r\n[https://play.tailwindcss.com/S2BIIJILCW](https://play.tailwindcss.com/S2BIIJILCW)\r\n\r\n**Describe your issue**\r\n\r\nRead-only state is always applied on input[type=\"file\"], even if it is not read-only.","Url":"https://github.com/tailwindlabs/tailwindcss/issues/10415","RelatedDescription":"Closed issue \"Read-only state is always applied on input[type=\"file\"]\" (#10415)"},{"Id":"1557113738","IsPullRequest":true,"CreatedAt":"2023-01-25T18:45:43","Actor":"depfu[bot]","Number":"10414","RawContent":null,"Title":"Update parcel: 2.8.2 ‚Üí 2.8.3 (patch)","State":"closed","Body":"\n\n\n\n\nHere is everything you need to know about this update. Please take a good look at what changed and the test results before merging this pull request.\n\n### What changed?\n\n#### ‚ú≥Ô∏è parcel (2.8.2 ‚Üí 2.8.3) ¬∑ [Repo](https://github.com/parcel-bundler/parcel) ¬∑ [Changelog](https://github.com/parcel-bundler/parcel/blob/v2/CHANGELOG.md)\n\n\n<details>\n<summary>Release Notes</summary>\n<h4><a href=\"https://github.com/parcel-bundler/parcel/releases/tag/v2.8.3\">2.8.3</a></h4>\n\n<blockquote><ul dir=\"auto\">\n<li>Core\n<ul dir=\"auto\">\n<li>filter out title execArgv to workers ‚Äì <a href=\"https://bounce.depfu.com/github.com/parcel-bundler/parcel/pull/8719\">Details</a>\n</li>\n</ul>\n</li>\n<li>Bundler\n<ul dir=\"auto\">\n<li>Fix CSS order when merging type change bundles ‚Äì <a href=\"https://bounce.depfu.com/github.com/parcel-bundler/parcel/pull/8766\">Details</a>\n</li>\n<li>Fix assertion error when mixing CSS modules and non-modules ‚Äì <a href=\"https://bounce.depfu.com/github.com/parcel-bundler/parcel/pull/8762\">Details</a>\n</li>\n<li>Fix set diff ‚Äì <a href=\"https://bounce.depfu.com/github.com/parcel-bundler/parcel/pull/8699\">Details</a>\n</li>\n<li>Recursively check reachability when removing asset graphs from bundles in deduplication ‚Äì <a href=\"https://bounce.depfu.com/github.com/parcel-bundler/parcel/pull/6004\">Details</a>\n</li>\n</ul>\n</li>\n<li>JavaScript\n<ul dir=\"auto\">\n<li>Don't retarget dependencies if a symbol is imported multiple times with different local names ‚Äì <a href=\"https://bounce.depfu.com/github.com/parcel-bundler/parcel/pull/8738\">Details</a>\n</li>\n<li>Fix assigning to <code class=\"notranslate\">this</code> in CommonJS ‚Äì <a href=\"https://bounce.depfu.com/github.com/parcel-bundler/parcel/pull/8737\">Details</a>\n</li>\n<li>Bump SWC to fix dead branch removal bug ‚Äì <a href=\"https://bounce.depfu.com/github.com/parcel-bundler/parcel/pull/8742\">Details</a>\n</li>\n<li>Bump swc to fix sourcemaps with Windows line endings ‚Äì <a href=\"https://bounce.depfu.com/github.com/parcel-bundler/parcel/pull/8756\">Details</a>\n</li>\n<li>Add test cases for ESM initialization problems ‚Äì <a href=\"https://bounce.depfu.com/github.com/parcel-bundler/parcel/pull/7350\">Details</a>\n</li>\n</ul>\n</li>\n<li>TypeScript\n<ul dir=\"auto\">\n<li>Fix TSC sourcemaps metadata ‚Äì <a href=\"https://bounce.depfu.com/github.com/parcel-bundler/parcel/pull/8734\">Details</a>\n</li>\n</ul>\n</li>\n<li>HTML\n<ul dir=\"auto\">\n<li>Fix <code class=\"notranslate\">srcset</code> parsing ‚Äì <a href=\"https://bounce.depfu.com/github.com/parcel-bundler/parcel/pull/8671\">Details</a>\n</li>\n</ul>\n</li>\n<li>Dev server\n<ul dir=\"auto\">\n<li>Apply HMR updates in topological order ‚Äì <a href=\"https://bounce.depfu.com/github.com/parcel-bundler/parcel/pull/8752\">Details</a>\n</li>\n<li>Fixed the hmr connection with host 0.0.0.0 ‚Äì <a href=\"https://bounce.depfu.com/github.com/parcel-bundler/parcel/pull/7357\">Details</a>\n</li>\n</ul>\n</li>\n</ul></blockquote>\n<p><em>Does any of this look wrong? <a href=\"https://depfu.com/packages/npm/parcel/feedback\">Please let us know.</a></em></p>\n</details>\n\n<details>\n<summary>Commits</summary>\n<p><a href=\"https://github.com/parcel-bundler/parcel/compare/3437f64e4c6f57d911614c480b742e229149f200...349a6caf40ec8abb6a49fcae0765f8f8deb2073d\">See the full diff on Github</a>. The new version differs by 23 commits:</p>\n<ul>\n<li><a href=\"https://github.com/parcel-bundler/parcel/commit/349a6caf40ec8abb6a49fcae0765f8f8deb2073d\"><code>v2.8.3</code></a></li>\n<li><a href=\"https://github.com/parcel-bundler/parcel/commit/a86c53c525df036d4be9dddbd280b7386da790bf\"><code>Changelog for v2.8.3</code></a></li>\n<li><a href=\"https://github.com/parcel-bundler/parcel/commit/7023c08b7e99a9b8fd3c04995e4ef7ca92dee5c1\"><code>Address bug by updating an asset reference and merge conditions (#8762)</code></a></li>\n<li><a href=\"https://github.com/parcel-bundler/parcel/commit/ddae31a917c9482d461871958335e34c755cf8ce\"><code>Fix CSS order when merging type change bundles (#8766)</code></a></li>\n<li><a href=\"https://github.com/parcel-bundler/parcel/commit/2172672d175f4667c5d63afc16a90e52cf255c69\"><code>fixing failing build for contributors on Linux using Node 18 (#8763)</code></a></li>\n<li><a href=\"https://github.com/parcel-bundler/parcel/commit/723e8443757cfb12a1a3af8180f0d923e666e1aa\"><code>Extension: Importers View and separate LSP protocol package (#8747)</code></a></li>\n<li><a href=\"https://github.com/parcel-bundler/parcel/commit/e2deeece46a844860e184d5e5131816eb36a22f7\"><code>Bump swc to fix sourcemaps with Windows line endings (#8756)</code></a></li>\n<li><a href=\"https://github.com/parcel-bundler/parcel/commit/fdae6c0620ab008096bb72efada4d5effeb97979\"><code>Apply HMR updates in topological order (#8752)</code></a></li>\n<li><a href=\"https://github.com/parcel-bundler/parcel/commit/e21af59573b555ef0ba4109b423a4db1c1a3b389\"><code>Make extension packaging work (#8730)</code></a></li>\n<li><a href=\"https://github.com/parcel-bundler/parcel/commit/c97cf389ece965420d878464e15bca53cb1864a7\"><code>Typed api.storeResult (#8732)</code></a></li>\n<li><a href=\"https://github.com/parcel-bundler/parcel/commit/3456eafb13d88844af50a9e2a8c1b45a9a959c26\"><code>Refactor LSP to use vscode-jsonrpc (#8728)</code></a></li>\n<li><a href=\"https://github.com/parcel-bundler/parcel/commit/e5d649a3555271b8b1619dbcf16316052513f652\"><code>Bump swc (#8742)</code></a></li>\n<li><a href=\"https://github.com/parcel-bundler/parcel/commit/b82f592e40caa29875fd951b4dc3c609a6812ef7\"><code>Recursively check reachability when removing asset graphs from bundles in deduplication (#6004)</code></a></li>\n<li><a href=\"https://github.com/parcel-bundler/parcel/commit/ea61ad9dc295133eeb50cce3e1665f4dfc08b632\"><code>Fix tsc sourcemaps metadata (#8734)</code></a></li>\n<li><a href=\"https://github.com/parcel-bundler/parcel/commit/737fada87feda35169a47d94b093bbd3c609585b\"><code>Assigning to `this` in CommonJS (#8737)</code></a></li>\n<li><a href=\"https://github.com/parcel-bundler/parcel/commit/eba8dd6cbbd5f70980a48b7d970d868c096658c8\"><code>Don&#39;t retarget dependencies if a symbol is imported multiple times with different local names (#8738)</code></a></li>\n<li><a href=\"https://github.com/parcel-bundler/parcel/commit/90a886fb2a1cc15fd6092dcbfae338f6419d694b\"><code>Add a note about using flow in CONTRIBUTING.md (#8731)</code></a></li>\n<li><a href=\"https://github.com/parcel-bundler/parcel/commit/50f8cc2979f0efafce30305ffd3c08a88a26ccf3\"><code>filter out title execArgv to workers (#8719)</code></a></li>\n<li><a href=\"https://github.com/parcel-bundler/parcel/commit/10a56a7832c400025f23b6df6fcce3099a4d6302\"><code>Document more of the BundleGraph class (#8711)</code></a></li>\n<li><a href=\"https://github.com/parcel-bundler/parcel/commit/67106fa547cb47dba246b338382befbb5fa69022\"><code>Fixed the hmr connection with host 0.0.0.0 (#7357)</code></a></li>\n<li><a href=\"https://github.com/parcel-bundler/parcel/commit/aa9425bcea1d99d5f7b51835f18f8bfaa616d57e\"><code>Add test cases for ESM initialization problems (#7350)</code></a></li>\n<li><a href=\"https://github.com/parcel-bundler/parcel/commit/eed1e2ca5f4bde73975b01f78464af6a75258257\"><code>fix srcset parsing (#8671)</code></a></li>\n<li><a href=\"https://github.com/parcel-bundler/parcel/commit/da6cbb3633d2c0e9fedb8e2af560c82504d05ddc\"><code>fix set diff and loop twice (#8699)</code></a></li>\n</ul>\n</details>\n\n\n\n\n\n\n---\n![Depfu Status](https://depfu.com/badges/edd6acd35d74c8d41cbb540c30442adf/stats.svg)\n\n[Depfu](https://depfu.com) will automatically keep this PR conflict-free, as long as you don't add any commits to this branch yourself. You can also trigger a rebase manually by commenting with `@depfu rebase`.\n\n<details><summary>All Depfu comment commands</summary>\n<blockquote><dl>\n<dt>@‚Äãdepfu rebase</dt><dd>Rebases against your default branch and redoes this update</dd>\n<dt>@‚Äãdepfu recreate</dt><dd>Recreates this PR, overwriting any edits that you've made to it</dd>\n<dt>@‚Äãdepfu merge</dt><dd>Merges this PR once your tests are passing and conflicts are resolved</dd>\n<dt>@‚Äãdepfu close</dt><dd>Closes this PR and deletes the branch</dd>\n<dt>@‚Äãdepfu reopen</dt><dd>Restores the branch and reopens this PR (if it's closed)</dd>\n<dt>@‚Äãdepfu pause</dt><dd>Ignores all future updates for this dependency and closes this PR</dd>\n<dt>@‚Äãdepfu pause [minor|major]</dt><dd>Ignores all future minor/major updates for this dependency and closes this PR</dd>\n<dt>@‚Äãdepfu resume</dt><dd>Future versions of this dependency will create PRs again (leaves this PR as is)</dd>\n</dl></blockquote>\n</details>\n\n","Url":"https://github.com/tailwindlabs/tailwindcss/pull/10414","RelatedDescription":"Closed or merged PR \"Update parcel: 2.8.2 ‚Üí 2.8.3 (patch)\" (#10414)"},{"Id":"1556514130","IsPullRequest":false,"CreatedAt":"2023-01-25T11:55:25","Actor":"nguyenthinhkha","Number":"10412","RawContent":null,"Title":"tailwindcss breakpoints not working with Nextjs 13 - app directory","State":"closed","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\r\n\r\n**What version of Tailwind CSS are you using?**\r\n\r\ntailwindcss v3.2.4\r\n\r\n**What build tool (or framework if it abstracts the build tool) are you using?**\r\n\r\nNextjs v13.1.5 - app directory\r\n\r\n**What version of Node.js are you using?**\r\n\r\nNode v18.12.1\r\n\r\n**What browser are you using?**\r\n\r\nChrome\r\n\r\n**What operating system are you using?**\r\n\r\nmacOS\r\n\r\n**Reproduction URL**\r\n\r\n- New next js project with experimental app directory\r\n- Set up tailwindcss\r\n- In app/page.tsx\r\n```\r\nexport default async function HomePage() {\r\n  return (\r\n    <div>\r\n      <h1 className=\"text-3xl font-bold underline\">Homepage</h1>\r\n      <div className=\"md:hidden\">Hello small factor</div>\r\n    </div>\r\n  );\r\n}\r\n```\r\n\r\n**Describe your issue**\r\n\r\nText \"Hello small factor\" not show even screen size <768px","Url":"https://github.com/tailwindlabs/tailwindcss/issues/10412","RelatedDescription":"Closed issue \"tailwindcss breakpoints not working with Nextjs 13 - app directory\" (#10412)"},{"Id":"1555768896","IsPullRequest":false,"CreatedAt":"2023-01-24T22:36:23","Actor":"Laaouatni","Number":"10409","RawContent":null,"Title":"npm run build SvelteKit don't push also tailwindcss in the ./package/ of a component library (npm package)","State":"closed","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\r\n\r\n**What version of Tailwind CSS are you using?**\r\n\r\nFor example: latest\r\n\r\n**What build tool (or framework if it abstracts the build tool) are you using?**\r\n\r\nSvelteKit\r\n\r\n**What version of Node.js are you using?**\r\n\r\nI don't use node\r\n\r\n**What browser are you using?**\r\n**What operating system are you using?**\r\n\r\n```Shell\r\nSystem:\r\n    OS: Windows 10 10.0.22621\r\n    CPU: (8) x64 11th Gen Intel(R) Core(TM) i5-1135G7 @ 2.40GHz\r\n    Memory: 1.04 GB / 7.65 GB\r\n  Binaries:\r\n    Node: 16.14.0 - C:\\Program Files\\nodejs\\node.EXE\r\n    npm: 9.3.1 - C:\\Program Files\\nodejs\\npm.CMD    \r\n  Browsers:\r\n    Edge: Spartan (44.22621.1105.0), Chromium (109.0.1518.55)\r\n    Internet Explorer: 11.0.22621.1\r\n  npmPackages:\r\n    @sveltejs/adapter-auto: ^1.0.0 => 1.0.2\r\n    @sveltejs/kit: ^1.0.0 => 1.2.6\r\n    @sveltejs/package: ^1.0.0 => 1.0.2\r\n    svelte: ^3.54.0 => 3.55.1\r\n    vite: ^4.0.0 => 4.0.4\r\n```\r\n\r\n\r\n### Describe the bug\r\n\r\nbasically, I was creating a simple library with sveltekit and using tailwindcss. the problem is when I do \"npm run build\" it creates the files correctly but when i do npm install of the same file. the component don't have any CSS applied to it.\r\n\r\n### Reproduction\r\n\r\nmy npm package: https://www.npmjs.com/package/mathview-svelte\r\nmy GitHub repo:   https://github.com/Laaouatni/MathViewSvelte\r\n\r\nexample of the error: https://svelte.dev/repl/39421699a03f4717a74e6665f7055eff?version=3.55.1\r\n\r\nwhat should output:\r\n![image](https://user-images.githubusercontent.com/87947051/214435105-17b3e031-084c-4d18-a68c-bb2b70378ba5.png)\r\n\r\nwhat is wrong:\r\n\r\n![image](https://user-images.githubusercontent.com/87947051/214435186-ac9a827f-8f8e-455e-a5a0-b58399bdd4ac.png)\r\n\r\n\r\n\r\nanother info is that tailwind works fine in dev mode \"npm run dev\", but when build don't work fine.\r\n\r\nhow make also the css being exported with the component library?\r\n\r\n\r\n\r\n### System Info\r\n\r\n```Shell\r\nSystem:\r\n    OS: Windows 10 10.0.22621\r\n    CPU: (8) x64 11th Gen Intel(R) Core(TM) i5-1135G7 @ 2.40GHz\r\n    Memory: 1.04 GB / 7.65 GB\r\n  Binaries:\r\n    Node: 16.14.0 - C:\\Program Files\\nodejs\\node.EXE\r\n    npm: 9.3.1 - C:\\Program Files\\nodejs\\npm.CMD    \r\n  Browsers:\r\n    Edge: Spartan (44.22621.1105.0), Chromium (109.0.1518.55)\r\n    Internet Explorer: 11.0.22621.1\r\n  npmPackages:\r\n    @sveltejs/adapter-auto: ^1.0.0 => 1.0.2\r\n    @sveltejs/kit: ^1.0.0 => 1.2.6\r\n    @sveltejs/package: ^1.0.0 => 1.0.2\r\n    svelte: ^3.54.0 => 3.55.1\r\n    vite: ^4.0.0 => 4.0.4\r\n```\r\n\r\n\r\n### Severity\r\n\r\nannoyance\r\n\r\n### Additional Information\r\n\r\n_No response_","Url":"https://github.com/tailwindlabs/tailwindcss/issues/10409","RelatedDescription":"Closed issue \"npm run build SvelteKit don't push also tailwindcss in the ./package/ of a component library (npm package)\" (#10409)"},{"Id":"1554012669","IsPullRequest":false,"CreatedAt":"2023-01-24T14:46:09","Actor":"brandonmcconnell","Number":"10404","RawContent":null,"Title":"Error when adding number values to `flexGrow` utilities in Tailwind config","State":"closed","Body":"**What version of Tailwind CSS are you using?**\r\n\r\nv3.2.4\r\n\r\n**What build tool (or framework if it abstracts the build tool) are you using?**\r\n\r\nTailwind Play (but it's an issue with Tailwind's types, not Play specifically AFAICT)\r\n\r\n**What version of Node.js are you using?**\r\n\r\nN/A\r\n\r\n**What browser are you using?**\r\n\r\nChrome\r\n\r\n**What operating system are you using?**\r\n\r\nmacOS\r\n\r\n**Reproduction URL**\r\n\r\nhttps://play.tailwindcss.com/irO8b9PPm1?file=config\r\n\r\n**Describe your issue**\r\n\r\nThe Tailwind Play alerts an error when adding a numeric value to either `theme.flexGrow` or `theme.extend.flexGrow`, though it's exactly what the documentation recommends here: https://tailwindcss.com/docs/flex-grow#customizing-your-theme\r\n\r\nThis is likely the case for other properties as well. The right solution might be to add a new type to `interface ThemeConfig` (`types/config.d.ts`) to support key-numeric-value pairs like this. Something like‚Ä¶\r\n\r\n```ts\r\ntype KeyValuePair<K extends keyof any = string, V = string> = Record<K, V>\r\ntype KeyValuePairNumeric<K extends keyof any = string, V = number> = Record<K, V>\r\n```","Url":"https://github.com/tailwindlabs/tailwindcss/issues/10404","RelatedDescription":"Closed issue \"Error when adding number values to `flexGrow` utilities in Tailwind config\" (#10404)"},{"Id":"1553594093","IsPullRequest":false,"CreatedAt":"2023-01-23T19:07:46","Actor":"jjagielka","Number":"10401","RawContent":null,"Title":"New color syntax with alpha","State":"closed","Body":"<!-- Please provide all of the information requested below. We're a small team and without all of this information it's not possible for us to help and your bug report will be closed. -->\r\n\r\n**What version of Tailwind CSS are you using?**\r\n\r\nv3.2.4\r\n\r\n**What build tool (or framework if it abstracts the build tool) are you using?**\r\n\r\nN/A\r\n\r\n**What version of Node.js are you using?**\r\n\r\nN/A\r\n\r\n**What browser are you using?**\r\n\r\nFirefox\r\n\r\n**What operating system are you using?**\r\n\r\nLinux\r\n\r\n**Reproduction URL**\r\n\r\nhttps://play.tailwindcss.com/NdQDxdS7f3\r\n\r\n**Note:** Tailwind Play does not recognize the `bg-{color}-{number}/{alpha}` syntax.\r\n\r\n**Describe your issue**\r\n\r\nI love the new  `bg-{color}-{number}/{alpha}` syntax, but it does not work for `current` and therefore prevents to do a generic solutions.\r\n\r\n```html\r\n<div class=\"flex bg-blue-500\">\r\n    <div>\r\n        <div class=\"w-56 h-16 bg-red-400\" />\r\n        <div class=\"w-56 h-16 bg-red-400/50\" />\r\n        <div class=\"w-56 h-16 bg-red-400/20\" />\r\n    </div>\r\n    <div>\r\n        <div class=\"w-56 h-16 bg-current\" />\r\n        <div class=\"w-56 h-16 bg-current/50\" />\r\n        <div class=\"w-56 h-16 bg-current/20\" />\r\n    </div>\r\n</div>\r\n```","Url":"https://github.com/tailwindlabs/tailwindcss/issues/10401","RelatedDescription":"Closed issue \"New color syntax with alpha\" (#10401)"},{"Id":"1553606063","IsPullRequest":false,"CreatedAt":"2023-01-23T19:03:15","Actor":"sibbng","Number":"10402","RawContent":null,"Title":"can't use arbitrary group selectors with group labels that contains `$` character","State":"open","Body":"**Reproduction URL**\r\n\r\nhttps://play.tailwindcss.com/3uWb41wv5q\r\n\r\n**Describe your issue**\r\n\r\nHi, I was testing the changes in #10276 and it seems that the first group in the following code does not generate the related classes:\r\n\r\n```html\r\n<!-- doesn't work -->\r\n<div class=\"group/${id} foo\">\r\n  <div class=\"group-[.foo]/${id}:bg-gray-300\">group-[.foo]/${id}:bg-gray-300</div>\r\n</div>\r\n\r\n<!-- works -->\r\n<div class=\"group/{id} foo\">\r\n  <div class=\"group-[.foo]/{id}:bg-gray-300\">group-[.foo]/{id}:bg-gray-300</div>\r\n</div>\r\n```\r\n\r\nTo be honest, I'm surprised to see Tailwind support this kind of use case. I would expect to see a convention like; *\"Only alphanumeric group labels supported.\"*. Since the use case mentioned in the original issue [misunderstood the way how Tailwind works](https://github.com/tailwindlabs/tailwindcss/issues/10266#issuecomment-1374513943), I would expect this issue to be fixed by just fixing the compiler error rather than generating a *\"false positive\"*(?) I guess.\r\n\r\nAlso, it seems #10276 trying to __balance brackets__. In my opinion, balanced shouldn't be a must. For example, the following code is should be totally valid and generate corresponding classes if special characters are allowed in group labels, but it doesn't.\r\n\r\n```html\r\n<div class=\"group/{id foo\">\r\n  <div class=\"group-[.foo]/{id:bg-gray-300\">group-[.foo]/{id:bg-gray-300</div>\r\n  <!--                        ^ second bracket is removed -->\r\n</div>\r\n```\r\n\r\n\r\n","Url":"https://github.com/tailwindlabs/tailwindcss/issues/10402","RelatedDescription":"Open issue \"can't use arbitrary group selectors with group labels that contains `$` character\" (#10402)"},{"Id":"1553369531","IsPullRequest":true,"CreatedAt":"2023-01-23T18:37:42","Actor":"thecrypticace","Number":"10400","RawContent":null,"Title":"Handle group/peer variants with quoted strings","State":"closed","Body":"Fixes #10353\r\n\r\nThis fixes two issues:\r\n1. We were splitting on `/` in a quoted string in group/peer variants\r\n2. We were splitting not-a-space but should've consumed spaces inside quoted string in group/peer variants.","Url":"https://github.com/tailwindlabs/tailwindcss/pull/10400","RelatedDescription":"Closed or merged PR \"Handle group/peer variants with quoted strings\" (#10400)"}],"ResultType":"GitHubIssue"}},"RunOn":"2023-02-06T03:30:26.6476897Z","RunDurationInMilliseconds":595}