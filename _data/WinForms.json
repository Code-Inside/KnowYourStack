{"Data":{"GitHub":{"Issues":[{"Id":"2474610959","IsPullRequest":true,"CreatedAt":"2024-08-20T02:54:43","Actor":"LeafShi1","Number":"11926","RawContent":null,"Title":"Update the TextFormatFlags of the HelpTextLabel","State":"open","Body":"<!-- Please read CONTRIBUTING.md before submitting a pull request -->\r\n\r\nFixes #11925\r\n\r\n\r\n## Proposed changes\r\n\r\n- Add  `TextFormatFlags.PreserveGraphicsClipping | TextFormatFlags.PreserveGraphicsTranslateTransform` to TextFormatFlags of the class `HelpTextLabel`\r\n\r\n<!-- We are in TELL-MODE the following section must be completed -->\r\n\r\n## Customer Impact\r\n\r\n-  None\r\n\r\n## Regression? \r\n\r\n-  No\r\n\r\n## Risk\r\n\r\n- Minimal\r\n\r\n<!-- end TELL-MODE -->\r\n\r\n\r\n## Screenshots <!-- Remove this section if PR does not change UI -->\r\n\r\n### Before\r\nThe DemoConsole app under the Winforms repo will stop running when opening the smattag of the DataGridView and click the dropdown button of the \"Choose Data Source\"\r\n\r\n![HelpTextLabel](https://github.com/user-attachments/assets/854d3e50-6301-4c0b-af75-55a239bd1ace)\r\n\r\n### After\r\nThe DemoConsole app can be debug normally\r\n![AfterChanges](https://github.com/user-attachments/assets/eb92e944-5d6c-42d5-ac58-c37417a6ae84)\r\n\r\n## Test methodology <!-- How did you ensure quality? -->\r\n\r\n- Manually\r\n\r\n## Test environment(s) <!-- Remove any that don't apply -->\r\n\r\n- .net 9.0.0-rc.1.24413.14\r\n\r\n\r\n<!-- Mention language, UI scaling, or anything else that might be relevant -->\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/winforms/pull/11926)","Url":"https://github.com/dotnet/winforms/pull/11926","RelatedDescription":"Open PR \"Update the TextFormatFlags of the HelpTextLabel\" (#11926)"},{"Id":"2474569491","IsPullRequest":false,"CreatedAt":"2024-08-20T02:05:36","Actor":"LeafShi1","Number":"11925","RawContent":null,"Title":"The HelpTextLable cannot be painted in Debug mode","State":"open","Body":"### .NET version\r\n\r\nfeature/10.0 branch of Winforms repo\r\n\r\n### Did it work in .NET Framework?\r\n\r\nNot tested/verified\r\n\r\n### Did it work in any of the earlier releases of .NET Core or .NET 5+?\r\n\r\nYes\r\n\r\n### Issue description\r\n\r\nThe DemoConsole app under the Winforms repo will stop running when opening the smattag of the DataGridView and click the dropdown button of the \"Choose Data Source\"\r\n\r\n### Steps to reproduce\r\n\r\n1. Debug the DemoConsole App\r\n2. Select the DataGridView\r\n3. Open the smarttag\r\n4. Click the dropdown button of the \"Choose Data Source\"\r\n\r\n![HelpTextLabel](https://github.com/user-attachments/assets/854d3e50-6301-4c0b-af75-55a239bd1ace)","Url":"https://github.com/dotnet/winforms/issues/11925","RelatedDescription":"Open issue \"The HelpTextLable cannot be painted in Debug mode\" (#11925)"},{"Id":"2474510876","IsPullRequest":true,"CreatedAt":"2024-08-20T00:53:59","Actor":"KlausLoeffelmann","Number":"11924","RawContent":null,"Title":"Backport 9RC1 Dark Mode fix","State":"open","Body":"Backport the Dark Mode Fix into .NET 9RC1.\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/winforms/pull/11924)","Url":"https://github.com/dotnet/winforms/pull/11924","RelatedDescription":"Open PR \"Backport 9RC1 Dark Mode fix\" (#11924)"},{"Id":"2474386198","IsPullRequest":true,"CreatedAt":"2024-08-19T23:55:26","Actor":"dotnet-maestro[bot]","Number":"11921","RawContent":null,"Title":"[release/9.0-rc1] Update dependencies from dotnet/runtime","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:fb1ad0c9-17b7-443b-0ffe-08dcbc30275f)\r\n## From https://github.com/dotnet/runtime\r\n- **Subscription**: fb1ad0c9-17b7-443b-0ffe-08dcbc30275f\r\n- **Build**: 20240819.7\r\n- **Date Produced**: August 19, 2024 10:20:20 PM UTC\r\n- **Commit**: 2a9d9bc6274412cec94d561c999d060df0e53457\r\n- **Branch**: refs/heads/release/9.0-rc1\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Internal.Runtime.WindowsDesktop.Transport**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **Microsoft.NET.Sdk.IL**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **Microsoft.NETCore.App.Ref**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **Microsoft.NETCore.ILAsm**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **Microsoft.NETCore.ILDAsm**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **Microsoft.NETCore.Platforms**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **Microsoft.Win32.Registry.AccessControl**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **Microsoft.Win32.SystemEvents**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **runtime.win-x64.Microsoft.NETCore.ILAsm**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **runtime.win-x86.Microsoft.NETCore.ILAsm**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.CodeDom**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.ComponentModel.Composition**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.ComponentModel.Composition.Registration**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.Configuration.ConfigurationManager**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.Data.Odbc**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.Data.OleDb**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.Diagnostics.EventLog**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.Diagnostics.PerformanceCounter**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.DirectoryServices**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.DirectoryServices.AccountManagement**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.DirectoryServices.Protocols**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.Formats.Nrbf**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.IO.Hashing**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.IO.Packaging**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.IO.Ports**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.Management**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.Reflection.Context**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.Reflection.MetadataLoadContext**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.Resources.Extensions**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.Runtime.Caching**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.Runtime.Serialization.Formatters**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.Security.Cryptography.Pkcs**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.Security.Cryptography.ProtectedData**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.Security.Cryptography.Xml**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.Security.Permissions**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.ServiceModel.Syndication**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.ServiceProcess.ServiceController**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.Speech**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.Text.Encoding.CodePages**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.Text.Encodings.Web**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.Text.Json**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.Threading.AccessControl**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **System.Windows.Extensions**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.9.0**: [from 9.0.0-rc.1.24418.3 to 9.0.0-rc.1.24419.7][1]\r\n\r\n[1]: https://github.com/dotnet/runtime/compare/01607d3819...2a9d9bc627\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:fb1ad0c9-17b7-443b-0ffe-08dcbc30275f)\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/winforms/pull/11921)","Url":"https://github.com/dotnet/winforms/pull/11921","RelatedDescription":"Closed or merged PR \"[release/9.0-rc1] Update dependencies from dotnet/runtime\" (#11921)"},{"Id":"2474424808","IsPullRequest":true,"CreatedAt":"2024-08-19T23:25:46","Actor":"KlausLoeffelmann","Number":"11923","RawContent":null,"Title":"Backport 9RC1 SecAnalyzer (11904)","State":"open","Body":"Backport the MissingSerializationConfiguration Analyzer Fix into .NET 9RC1.\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/winforms/pull/11923)","Url":"https://github.com/dotnet/winforms/pull/11923","RelatedDescription":"Open PR \"Backport 9RC1 SecAnalyzer (11904)\" (#11923)"},{"Id":"2474422487","IsPullRequest":true,"CreatedAt":"2024-08-19T23:23:03","Actor":"KlausLoeffelmann","Number":"11922","RawContent":null,"Title":"Backport 9Rel SecAnalyzer (11904)","State":"open","Body":"Backport the MissingSerializationConfiguration Analyzer Fix into .NET 9Rel.\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/winforms/pull/11922)","Url":"https://github.com/dotnet/winforms/pull/11922","RelatedDescription":"Open PR \"Backport 9Rel SecAnalyzer (11904)\" (#11922)"},{"Id":"2471689429","IsPullRequest":false,"CreatedAt":"2024-08-19T23:12:26","Actor":"rickbrew","Number":"11909","RawContent":null,"Title":"MenuStrip highlight \"sticks\" after menu item is activated, also affects keyboard focus","State":"closed","Body":"### .NET version\r\n\r\n.NET 9.0.0-preview.7.24405.7 x64\r\n\r\n### Did it work in .NET Framework?\r\n\r\nYes\r\n\r\n### Did it work in any of the earlier releases of .NET Core or .NET 5+?\r\n\r\nThis worked fine in .NET Framework 2.0 all the way up through .NET 8. This is a new regression in .NET 9.\r\n\r\n### Issue description\r\n\r\nWhen using `MenuStrip`, the highlight for a top-level menu item is \"sticking\" after the menu is closed, either by canceling out of the menu (e.g. Esc or click) or when activating a menu item.\r\n\r\nThis may also be doing some weird things with focus -- I found this after migrating Paint.NET to use .NET 9, and I'm also seeing that keystrokes which should go to the main canvas area are being ignored, as if the `MenuStrip` still has focus. I can provide access to the PDN source GitHub repo for a MSFT employee if they'd like an extended repro (minimal repro is attached below) and/or to do extended testing to make sure it's fix. This is pre-approved/arranged via @richlander\r\n\r\nI also noticed that using a keyboard shortcut for a menu item will cause the containing top-level menu to be highlighted. For example, in my current Paint.NET v5.1 + .NET 9 build, if I press Ctrl+Z for Edit->Undo, the Edit menu will be highlighted and also steal focus.\r\n\r\nWorth noting is that this is a ship blocker for me. I can't release my next big update with this bug (I mean, I'd have to revert to .NET 8). I am planning to release my v5.1 update sometime in November or December, after .NET 9 \"RTM\" is released.\r\n\r\n### Steps to reproduce\r\n\r\nI have a minimal repro to illustrate this.\r\n\r\n[WinFormsApp1.zip](https://github.com/user-attachments/files/16646621/WinFormsApp1.zip)\r\n\r\n1. Start up the app and you'll see the main window\r\n![image](https://github.com/user-attachments/assets/8aa23a5b-9b73-4958-a9e4-4800435dc5a3)\r\n\r\n2. Open the File menu by clicking on it, or pressing Alt+F\r\n![image](https://github.com/user-attachments/assets/28f836b5-1518-4de2-a92a-820037917bbf)\r\n\r\n3. Activate the \"New\" menu item by clicking on it, or pressing N, or pressing Enter (since it's already selected)\r\n![image](https://github.com/user-attachments/assets/87ec4023-dd29-4cb6-bbb5-e6c8b60fabe0)\r\n\r\n4. Notice that the File menu is still highlighted while the modal dialog is open. It should not be highlighted at this point.\r\n5. Click OK to dismiss the dialog\r\n6. Notice that the File menu is still highlighted. It should not be highlighted at this point.\r\n![image](https://github.com/user-attachments/assets/16a869e9-c915-4bf1-b81d-ef38d2f3a8aa)\r\n\r\nYou can retarget the app to use .NET 8 by editing the .csproj, and it will not behave like this. The File menu is not rendered with its highlight at steps 4 and 6.","Url":"https://github.com/dotnet/winforms/issues/11909","RelatedDescription":"Closed issue \"MenuStrip highlight \"sticks\" after menu item is activated, also affects keyboard focus\" (#11909)"},{"Id":"2474363077","IsPullRequest":true,"CreatedAt":"2024-08-19T23:12:25","Actor":"KlausLoeffelmann","Number":"11920","RawContent":null,"Title":"Revert #11520 to fix a MenuItem issue.","State":"closed","Body":"Reverting this fixes #11909.\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/winforms/pull/11920)","Url":"https://github.com/dotnet/winforms/pull/11920","RelatedDescription":"Closed or merged PR \"Revert #11520 to fix a MenuItem issue.\" (#11920)"},{"Id":"2473753082","IsPullRequest":true,"CreatedAt":"2024-08-19T23:10:50","Actor":"github-actions[bot]","Number":"11919","RawContent":null,"Title":"[release/9.0] [RC2] Add clipping and transforms from Graphics to DC when repainting watermark in SplitterPanelDesigner","State":"closed","Body":"Backport of #11876 to release/9.0\r\n\r\n/cc @ricardobossan\r\n\r\nIssue [https://github.com/dotnet/winforms/issues/11790](https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fdotnet%2Fwinforms%2Fissues%2F11790&data=05%7C02%7CTatiana.Solyanik%40microsoft.com%7C99d92612794c4ff8b24e08dcc076e01e%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C638596864019425773%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C0%7C%7C%7C&sdata=%2BrTBtNBVkdo%2BNfRU%2BuRql%2BEzPRcm%2FkvjDG%2FdTDMZ79s%3D&reserved=0) \r\n\r\n## Customer Impact\r\n•\tCustomers are requesting WinForms to enable ReportDesigner and IDE-like scenarios with ControlDesigners. We shipped this designer in .NET 5 with a rendering issue, which was previously missed due to limited testing.\r\n•\tThe issue surfaces in HDPI scenarios where the splitter panel label is misplaced.\r\n•\tThe issue was found internally in a test application.\r\n•\tNo workarounds are available.\r\n\r\n## Regression\r\n•\t no\r\n\r\n## Testing\r\n•\tAdded this ControlDesigner to the test application\r\n\r\n## Risk\r\n•\tLow – this fix is already present in the out-of-process winforms designer\r\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/winforms/pull/11919)","Url":"https://github.com/dotnet/winforms/pull/11919","RelatedDescription":"Closed or merged PR \"[release/9.0] [RC2] Add clipping and transforms from Graphics to DC when repainting watermark in SplitterPanelDesigner\" (#11919)"},{"Id":"2472139000","IsPullRequest":false,"CreatedAt":"2024-08-19T22:02:33","Actor":"KlausLoeffelmann","Number":"11910","RawContent":null,"Title":"[DarkMode] Dark Mode breaks Visual Basic App Framework enabled classic VisualStyles","State":"closed","Body":"### .NET version\n\nVisual Styles cannot be enabled any longer in .NET 9.\n\n### Did it work in .NET Framework?\n\nYes\n\n### Did it work in any of the earlier releases of .NET Core or .NET 5+?\n\nYes, in all of them.\n\n### Issue description\n\nBy default, (classic) Visual Styles are enabled in the Visual Basic Application Framework. This is also reflected by the Application Framework Project System Property Pages. Enabling or Disabling Visual Styles has no impact for Visual Basic Application Framework Apps.\n\n### Steps to reproduce\n\n* Create a new .NET 9 VB App Framework WinForms App.\n* Alternatively, load an existing VB App.\n* Make sure in the Project Property Pages, that Visual Styles are activated.\n* Confirm, in Application.MyApp that the settings from the UI got applied and the correct code got code-generated.\n* Run the App.\n","Url":"https://github.com/dotnet/winforms/issues/11910","RelatedDescription":"Closed issue \"[DarkMode] Dark Mode breaks Visual Basic App Framework enabled classic VisualStyles\" (#11910)"},{"Id":"2469869187","IsPullRequest":false,"CreatedAt":"2024-08-19T22:02:33","Actor":"John-Qiao","Number":"11897","RawContent":null,"Title":"Form's FormBorderColor property value always is Black although has changed it to another color value","State":"closed","Body":"### .NET version\n\n.NET SDK 9.0.100-rc.1.24415.1 + build private dll form winforms repo release/9.0 branch\n\n### Did it work in .NET Framework?\n\nNo\n\n### Did it work in any of the earlier releases of .NET Core or .NET 5+?\n\nNo, this is a new feature Dark Mode: https://github.com/dotnet/winforms/pull/11857\n\n### Issue description\n\nForm's FormBorderColor property value always is Black although has changed it to another color value.\r\n\r\n**Actual result:**\r\nThe value is 'Black' in textbox control.\r\n![FormBorderColor](https://github.com/user-attachments/assets/0277bd16-43f9-4456-af26-7ecfd1d7dedf)\r\n\r\n**Expected result:**\r\nThe value should be 'Green' in textbox control.\r\n\r\n**More info:**\r\nThis issue occurs in FormCaptionBackColor and FormCaptionTextColor properties too.\r\n\n\n### Steps to reproduce\n\n1. Launch the [FormBorderColor-TestApp.zip](https://github.com/user-attachments/files/16635417/FormBorderColor-TestApp.zip) project in VS and run it.\r\n2. Observe the value in textbox control.","Url":"https://github.com/dotnet/winforms/issues/11897","RelatedDescription":"Closed issue \"Form's FormBorderColor property value always is Black although has changed it to another color value\" (#11897)"},{"Id":"2469849961","IsPullRequest":false,"CreatedAt":"2024-08-19T22:02:33","Actor":"John-Qiao","Number":"11895","RawContent":null,"Title":"Form's FormCornerPreference property value cannot back to Default when change it from a non-Default value","State":"closed","Body":"### .NET version\r\n\r\n.NET SDK 9.0.100-rc.1.24415.1 + build private dll form winforms repo release/9.0 branch\r\n\r\n### Did it work in .NET Framework?\r\n\r\nNo\r\n\r\n### Did it work in any of the earlier releases of .NET Core or .NET 5+?\r\n\r\nNo, this is a new feature Dark Mode: https://github.com/dotnet/winforms/pull/11857\r\n\r\n### Issue description\r\n\r\nForm's FormCornerPreference property value cannot back to Default when change it from a non-Default value.\r\n\r\n**Actual result:**\r\nThe value is 'Round' in textbox control.\r\n![FormCornerPreference](https://github.com/user-attachments/assets/e1450adc-fa0a-44dd-a33f-50c46930f481)\r\n\r\n**Expected result:**\r\nThe value should be 'Default' in textbox control.\r\n\r\n### Steps to reproduce\r\n\r\n1. Launch the [FormCornerPreference-TestApp.zip](https://github.com/user-attachments/files/16635324/FormCornerPreference-TestApp.zip) project in VS and run it.\r\n2. Observe the value in textbox control.","Url":"https://github.com/dotnet/winforms/issues/11895","RelatedDescription":"Closed issue \"Form's FormCornerPreference property value cannot back to Default when change it from a non-Default value\" (#11895)"},{"Id":"2469877505","IsPullRequest":false,"CreatedAt":"2024-08-19T22:02:32","Actor":"Nora-Zhou01","Number":"11898","RawContent":null,"Title":"The FormCaptionTextColorChanged event property of the Form does not work","State":"closed","Body":"### .NET version\r\n\r\n.NET SDK 9.0.100-rc.1.24415.1 + build private dll form winforms repo release/9.0 branch\r\n\r\n### Did it work in .NET Framework?\r\n\r\nNo\r\n\r\n### Did it work in any of the earlier releases of .NET Core or .NET 5+?\r\n\r\nNo, this is a new feature Dark Mode: https://github.com/dotnet/winforms/pull/11857\r\n\r\n### Issue description\r\n\r\nForm's FormCaptionTextColorChanged event property doesn't work, can't display text color correctly.\r\n**Actual result:**\r\n![11898](https://github.com/user-attachments/assets/588329d5-fb55-4d73-bcb5-859e93c119c7)\r\n\r\n**Expected result:**\r\nThe FormCaptionTextColorChanged event of the Form should display the text color correctly.\r\n\r\n### Steps to reproduce\r\n\r\n1. Launch the[FormCaptionTextColorChanged-TestApp.zip](https://github.com/user-attachments/files/16656774/FormCaptionTextColorChanged-TestApp.zip) project in VS and run it.\r\n2. Observe the value in textbox control.","Url":"https://github.com/dotnet/winforms/issues/11898","RelatedDescription":"Closed issue \"The FormCaptionTextColorChanged event property of the Form does not work\" (#11898)"},{"Id":"2471276612","IsPullRequest":true,"CreatedAt":"2024-08-19T22:02:31","Actor":"KlausLoeffelmann","Number":"11907","RawContent":null,"Title":"Dark mode/Visual Styles (VB Only) fix","State":"closed","Body":"* Fixes issue where in Visual Basic the \"classic\" Visual Styles are no longer get set. (This is a breaking change, since in VB the classic Visual Styles are no longer set, even if they are enabled in the VS App Framework Property Pages.) \r\nNOTE: This has nothing to do with the originally considered `VisualStylesMode` Experimental feature in the dark mode context.\r\n\r\n* Fixes issue where instead of the `FormCaptionTextColorChanged` event the `FormCaptionBackColorChanged` event is raised (This is not a breaking change, since these are completely new events.)\r\n\r\nFixes #11898.\r\nFixes #11897.\r\nFixes #11895.\r\nFixes #11910.\r\n\r\n\r\n","Url":"https://github.com/dotnet/winforms/pull/11907","RelatedDescription":"Closed or merged PR \"Dark mode/Visual Styles (VB Only) fix\" (#11907)"},{"Id":"2471496324","IsPullRequest":true,"CreatedAt":"2024-08-19T17:19:57","Actor":"dotnet-maestro[bot]","Number":"11908","RawContent":null,"Title":"[main] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:b9a1a4bb-2302-4987-3b3d-08d8b8050dda)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: b9a1a4bb-2302-4987-3b3d-08d8b8050dda\r\n- **Build**: 20240816.2\r\n- **Date Produced**: August 16, 2024 10:55:26 PM UTC\r\n- **Commit**: 8fe02bab989df1265eee225df2c28af6dbdccc83\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Arcade.Sdk**: [from 9.0.0-beta.24414.3 to 9.0.0-beta.24416.2][1]\r\n  - **Microsoft.DotNet.CMake.Sdk**: [from 9.0.0-beta.24414.3 to 9.0.0-beta.24416.2][1]\r\n  - **Microsoft.DotNet.GenFacades**: [from 9.0.0-beta.24414.3 to 9.0.0-beta.24416.2][1]\r\n  - **Microsoft.DotNet.Helix.Sdk**: [from 9.0.0-beta.24414.3 to 9.0.0-beta.24416.2][1]\r\n  - **Microsoft.DotNet.RemoteExecutor**: [from 9.0.0-beta.24414.3 to 9.0.0-beta.24416.2][1]\r\n  - **Microsoft.DotNet.XUnitExtensions**: [from 9.0.0-beta.24414.3 to 9.0.0-beta.24416.2][1]\r\n\r\n[1]: https://github.com/dotnet/arcade/compare/4d15f8d1f2...8fe02bab98\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:b9a1a4bb-2302-4987-3b3d-08d8b8050dda)\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/winforms/pull/11908)","Url":"https://github.com/dotnet/winforms/pull/11908","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/arcade\" (#11908)"},{"Id":"2473574316","IsPullRequest":false,"CreatedAt":"2024-08-19T14:59:12","Actor":"GuildOfCalamity","Number":"11918","RawContent":null,"Title":"WinformsControlTest fails to build due to RepositoryUrl error","State":"open","Body":"### .NET version\n\n9.0.0-beta.24414.3\n\n### Did it work in .NET Framework?\n\nNot tested/verified\n\n### Did it work in any of the earlier releases of .NET Core or .NET 5+?\n\nunknown\n\n### Issue description\n\n![image](https://github.com/user-attachments/assets/79260651-7ef9-480e-a9d7-c05e61c68d82)\r\n\n\n### Steps to reproduce\n\nclone the main branch and try to build the solution","Url":"https://github.com/dotnet/winforms/issues/11918","RelatedDescription":"Open issue \"WinformsControlTest fails to build due to RepositoryUrl error\" (#11918)"},{"Id":"2473274224","IsPullRequest":false,"CreatedAt":"2024-08-19T12:45:27","Actor":"ulfemsoy","Number":"11917","RawContent":null,"Title":"Issues in User32.GetWindowText() - Length cannot be less than zero.","State":"open","Body":"### .NET version\r\n\r\n.NET 6\r\n\r\n### Did it work in .NET Framework?\r\n\r\nNot tested/verified\r\n\r\n### Did it work in any of the earlier releases of .NET Core or .NET 5+?\r\n\r\nDon't know\r\n\r\n### Issue description\r\n\r\nReference: https://github.com/dotnet/winforms/blob/e0a1361874fce56f7a4fac2ec527e155e7c76128/src/Common/src/Interop/User32/Interop.GetWindowText.cs#L26-L53\r\n\r\nProblem:\r\nWhen a ToolStripControlHost is being disposed (see stack trace below),  GetWindowText seems to return a negative number of characters. This is probably because the Window handle is invalid.\r\n\r\nThis causes \"System.ArgumentOutOfRangeException: Length cannot be less than zero. (Parameter 'length')\" for line 47, i.e.\r\nwindowTitle = new string(pWindowTitle, 0, actualTextLength);\r\n\r\nPlease add a check to see if the actualTextLength > 0.\r\nAlso, please check if hWnd is Zero.\r\n\r\n\r\n\r\n---------\r\n\r\nStack Trace:\r\n\r\nystem.ArgumentOutOfRangeException: Length cannot be less than zero. (Parameter 'length')\r\n   at System.String.Ctor(Char* ptr, Int32 startIndex, Int32 length)\r\n   at Interop.User32.GetWindowText(IntPtr hWnd)\r\n   at System.Windows.Forms.Control.get_WindowText()\r\n   at System.Windows.Forms.Control.set_CacheTextInternal(Boolean value)\r\n   at System.Windows.Forms.Control.GetPreferredSize(Size proposedSize)\r\n   at System.Windows.Forms.ToolStripControlHost.GetPreferredSize(Size constrainingSize)\r\n   at System.Windows.Forms.ToolStripComboBox.GetPreferredSize(Size constrainingSize)\r\n   at System.Windows.Forms.ToolStrip.GetPreferredSizeHorizontal(IArrangedElement container, Size proposedConstraints)\r\n   at System.Windows.Forms.StatusStrip.GetPreferredSizeCore(Size proposedSize)\r\n   at System.Windows.Forms.Control.GetPreferredSize(Size proposedSize)\r\n   at System.Windows.Forms.Layout.DefaultLayout.GetVerticalDockedSize(IArrangedElement element, Size remainingSize, Boolean measureOnly)\r\n   at System.Windows.Forms.Layout.DefaultLayout.LayoutDockedControls(IArrangedElement container, Boolean measureOnly)\r\n   at System.Windows.Forms.Layout.DefaultLayout.TryCalculatePreferredSize(IArrangedElement container, Boolean measureOnly, Size& preferredSize)\r\n   at System.Windows.Forms.Layout.DefaultLayout.LayoutCore(IArrangedElement container, LayoutEventArgs args)\r\n   at System.Windows.Forms.Control.OnLayout(LayoutEventArgs levent)\r\n   at System.Windows.Forms.Form.OnLayout(LayoutEventArgs levent)\r\n   at System.Windows.Forms.Control.PerformLayout(LayoutEventArgs args)\r\n   at System.Windows.Forms.Control.OnResize(EventArgs e)\r\n   at System.Windows.Forms.Form.OnResize(EventArgs e)\r\n   at Ebp.Ui.Forms.MdiForm.OnResize(EventArgs e)\r\n   at System.Windows.Forms.Control.OnSizeChanged(EventArgs e)\r\n   at System.Windows.Forms.Control.UpdateBounds(Int32 x, Int32 y, Int32 width, Int32 height, Int32 clientWidth, Int32 clientHeight)\r\n   at System.Windows.Forms.Control.UpdateBounds()\r\n   at System.Windows.Forms.Control.WndProc(Message& m)\r\n   at System.Windows.Forms.ScrollableControl.WndProc(Message& m)\r\n   at System.Windows.Forms.Form.WndProc(Message& m)\r\n   at Ebp.Ui.Forms.MdiForm.WndProc(Message& m)\r\n\r\n### Steps to reproduce\r\n\r\nThe issue seldom happens. ","Url":"https://github.com/dotnet/winforms/issues/11917","RelatedDescription":"Open issue \"Issues in User32.GetWindowText() - Length cannot be less than zero.\" (#11917)"},{"Id":"2473197115","IsPullRequest":true,"CreatedAt":"2024-08-19T12:06:22","Actor":"dotnet-maestro[bot]","Number":"11916","RawContent":null,"Title":"[release/9.0] Update dependencies from dotnet/runtime","State":"open","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:417b4c89-9f23-476a-5003-08dcbc3022d8)\r\n## From https://github.com/dotnet/runtime\r\n- **Subscription**: 417b4c89-9f23-476a-5003-08dcbc3022d8\r\n- **Build**: 20240819.2\r\n- **Date Produced**: August 19, 2024 11:27:25 AM UTC\r\n- **Commit**: 418c3b9e2753715fa017ace6b3f1f5ec4d4d6aae\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Internal.Runtime.WindowsDesktop.Transport**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **Microsoft.NET.Sdk.IL**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **Microsoft.NETCore.App.Ref**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **Microsoft.NETCore.ILAsm**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **Microsoft.NETCore.ILDAsm**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **Microsoft.NETCore.Platforms**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **Microsoft.Win32.Registry.AccessControl**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **Microsoft.Win32.SystemEvents**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **runtime.win-x64.Microsoft.NETCore.ILAsm**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **runtime.win-x86.Microsoft.NETCore.ILAsm**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.CodeDom**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.ComponentModel.Composition**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.ComponentModel.Composition.Registration**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.Configuration.ConfigurationManager**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.Data.Odbc**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.Data.OleDb**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.Diagnostics.EventLog**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.Diagnostics.PerformanceCounter**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.DirectoryServices**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.DirectoryServices.AccountManagement**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.DirectoryServices.Protocols**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.Formats.Nrbf**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.IO.Hashing**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.IO.Packaging**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.IO.Ports**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.Management**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.Reflection.Context**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.Reflection.MetadataLoadContext**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.Resources.Extensions**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.Runtime.Caching**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.Runtime.Serialization.Formatters**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.Security.Cryptography.Pkcs**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.Security.Cryptography.ProtectedData**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.Security.Cryptography.Xml**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.Security.Permissions**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.ServiceModel.Syndication**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.ServiceProcess.ServiceController**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.Speech**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.Text.Encoding.CodePages**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.Text.Encodings.Web**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.Text.Json**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.Threading.AccessControl**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **System.Windows.Extensions**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.9.0**: [from 9.0.0-rc.1.24414.5 to 9.0.0-rc.1.24419.2][1]\r\n\r\n[1]: https://github.com/dotnet/runtime/compare/0fbd81404d...418c3b9e27\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:417b4c89-9f23-476a-5003-08dcbc3022d8)\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/winforms/pull/11916)","Url":"https://github.com/dotnet/winforms/pull/11916","RelatedDescription":"Open PR \"[release/9.0] Update dependencies from dotnet/runtime\" (#11916)"},{"Id":"2472867919","IsPullRequest":false,"CreatedAt":"2024-08-19T09:15:28","Actor":"Zheng-Li01","Number":"11915","RawContent":null,"Title":"[Dark Mode] Focused TrackBar in dark mode lacks contrast, needs more visual guidance.","State":"open","Body":"### .NET version\n\n9.0.0-rc.1.24414.1 + build private dll form winforms repo main branch\n\n### Did it work in .NET Framework?\n\nNo\n\n### Did it work in any of the earlier releases of .NET Core or .NET 5+?\n\nThis is a new feature Dark Mode: https://github.com/dotnet/winforms/pull/11857\n\n### Issue description\n\nThe cursor of TrackBar controls should have the visible color when using mouse hover on it \r\n![GetImage (1)](https://github.com/user-attachments/assets/efa5875b-d40b-4899-85fa-6b852b54f256)\n\n### Steps to reproduce\n\n1. Create a WinForms .NET Core application with TrackBar control.\r\n2. Enable DarkMode by Application.SetColorMode(SystemColorMode.Dark) in Program.cs file.\r\n3. Run the application.\r\n4. Using mouse hover on it ","Url":"https://github.com/dotnet/winforms/issues/11915","RelatedDescription":"Open issue \"[Dark Mode] Focused TrackBar in dark mode lacks contrast, needs more visual guidance.\" (#11915)"},{"Id":"2472857648","IsPullRequest":false,"CreatedAt":"2024-08-19T09:10:21","Actor":"Zheng-Li01","Number":"11914","RawContent":null,"Title":"[Dark Mode] Improve visual contrast of the ProgressBar control in dark mode.","State":"open","Body":"### .NET version\n\n9.0.0-rc.1.24414.1 + build private dll form winforms repo main branch\n\n### Did it work in .NET Framework?\n\nNo\n\n### Did it work in any of the earlier releases of .NET Core or .NET 5+?\n\nThis is a new feature Dark Mode: https://github.com/dotnet/winforms/pull/11857\n\n### Issue description\n\nThe rest of part for ProgressBar control is invisible on DarkMode\r\n![GetImage](https://github.com/user-attachments/assets/96a04ac8-654f-4d32-9602-153a95c20edd)\r\n\n\n### Steps to reproduce\n\n1. Create a WinForms .NET Core application with ProgressBar control.\r\n2. Enable DarkMode by Application.SetColorMode(SystemColorMode.Dark) in Program.cs file.\r\n3. Set the Value as \"78\"\r\n4. Run the application.","Url":"https://github.com/dotnet/winforms/issues/11914","RelatedDescription":"Open issue \"[Dark Mode] Improve visual contrast of the ProgressBar control in dark mode.\" (#11914)"},{"Id":"2472315544","IsPullRequest":false,"CreatedAt":"2024-08-19T05:57:57","Actor":"MandiMan","Number":"11913","RawContent":null,"Title":"The DataGridView control cannot be deleted successfully under TabControl and TableLayoutPanel tab","State":"closed","Body":"### .NET version\n\n.NET 9.0 main branch of WinForms repo\n\n### Did it work in .NET Framework?\n\nNot tested/verified\n\n### Did it work in any of the earlier releases of .NET Core or .NET 5+?\n\nNo, this issue also repro in release/9.0 branch of WinForms repo\n\n### Issue description\n\n**Actual result in [[DemoConsole](https://github.com/dotnet/winforms/tree/main/src/System.Windows.Forms/tests/IntegrationTests/DesignSurface/DemoConsole)] test app:**\r\nAfter clicking the Delete button, the DataGridView control property becomes empty, but it is not successfully deleted from the form, and when click the DataGridView again, it cannot be selected\r\n![image](https://github.com/user-attachments/assets/0e4e42fd-ba21-4fdf-962c-7c61c3a00f54)\r\n\r\nhttps://github.com/user-attachments/assets/6baa80c2-3dc8-40e7-8047-fd956eaedac6\r\n\r\n**Expected result:**\r\nThe DataGridView control can be deleted successfully under TabControl and TableLayoutPanel tab\r\n\n\n### Steps to reproduce\n\nTest sample: [DemoConsole](https://github.com/dotnet/winforms/tree/main/src/System.Windows.Forms/tests/IntegrationTests/DesignSurface/DemoConsole) bases on main branch in Winforms repo","Url":"https://github.com/dotnet/winforms/issues/11913","RelatedDescription":"Closed issue \"The DataGridView control cannot be deleted successfully under TabControl and TableLayoutPanel tab\" (#11913)"},{"Id":"2472284776","IsPullRequest":true,"CreatedAt":"2024-08-19T01:44:36","Actor":"Epica3055","Number":"11912","RawContent":null,"Title":"fix issue #11862 The DemoConsole application in the Winforms repo sto…","State":"open","Body":"\r\nFixes #11862 \r\n\r\n\r\n## Proposed changes\r\n\r\n- \r\n- When it comes to using reflection to involve `EventHandler`, somehow `new EventHandler` must not be omitted.\r\n- \r\n\r\n\r\n<!--\r\n## Customer Impact\r\n\r\n- \r\n- \r\n\r\n## Regression? \r\n\r\n- Yes / No\r\n\r\n## Risk\r\n\r\n-->\r\n## Screenshots \r\n### Before\r\n\r\n![Screenshot 2024-08-13 025510](https://github.com/user-attachments/assets/41563b5c-cd41-41fe-9aeb-6fa1a81e82c5)\r\n\r\n### After\r\n\r\n\r\n![winform_issue_11862](https://github.com/user-attachments/assets/14a524c1-117d-438d-b312-720c7ebab860)\r\n\r\n\r\n## Test methodology \r\n\r\n- \r\n- manually \r\n- \r\n<!--\r\n## Accessibility testing  \r\n\r\n## Test environment(s) \r\n  -->\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/winforms/pull/11912)","Url":"https://github.com/dotnet/winforms/pull/11912","RelatedDescription":"Open PR \"fix issue #11862 The DemoConsole application in the Winforms repo sto…\" (#11912)"},{"Id":"2472235943","IsPullRequest":true,"CreatedAt":"2024-08-19T01:21:02","Actor":"dotnet-maestro[bot]","Number":"11911","RawContent":null,"Title":"[release/9.0-rc1] Update dependencies from dotnet/runtime","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:fb1ad0c9-17b7-443b-0ffe-08dcbc30275f)\r\n## From https://github.com/dotnet/runtime\r\n- **Subscription**: fb1ad0c9-17b7-443b-0ffe-08dcbc30275f\r\n- **Build**: 20240818.3\r\n- **Date Produced**: August 19, 2024 12:15:09 AM UTC\r\n- **Commit**: 01607d3819c40b5123c89c7c3a6a2c9ab4796f91\r\n- **Branch**: refs/heads/release/9.0-rc1\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Internal.Runtime.WindowsDesktop.Transport**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **Microsoft.NET.Sdk.IL**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **Microsoft.NETCore.App.Ref**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **Microsoft.NETCore.ILAsm**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **Microsoft.NETCore.ILDAsm**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **Microsoft.NETCore.Platforms**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **Microsoft.Win32.Registry.AccessControl**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **Microsoft.Win32.SystemEvents**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **runtime.win-x64.Microsoft.NETCore.ILAsm**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **runtime.win-x86.Microsoft.NETCore.ILAsm**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.CodeDom**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.ComponentModel.Composition**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.ComponentModel.Composition.Registration**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.Configuration.ConfigurationManager**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.Data.Odbc**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.Data.OleDb**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.Diagnostics.EventLog**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.Diagnostics.PerformanceCounter**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.DirectoryServices**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.DirectoryServices.AccountManagement**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.DirectoryServices.Protocols**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.Formats.Nrbf**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.IO.Hashing**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.IO.Packaging**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.IO.Ports**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.Management**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.Reflection.Context**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.Reflection.MetadataLoadContext**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.Resources.Extensions**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.Runtime.Caching**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.Runtime.Serialization.Formatters**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.Security.Cryptography.Pkcs**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.Security.Cryptography.ProtectedData**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.Security.Cryptography.Xml**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.Security.Permissions**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.ServiceModel.Syndication**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.ServiceProcess.ServiceController**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.Speech**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.Text.Encoding.CodePages**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.Text.Encodings.Web**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.Text.Json**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.Threading.AccessControl**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **System.Windows.Extensions**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.9.0**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24418.3][1]\r\n\r\n[1]: https://github.com/dotnet/runtime/compare/605ff6f648...01607d3819\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:fb1ad0c9-17b7-443b-0ffe-08dcbc30275f)\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/winforms/pull/11911)","Url":"https://github.com/dotnet/winforms/pull/11911","RelatedDescription":"Closed or merged PR \"[release/9.0-rc1] Update dependencies from dotnet/runtime\" (#11911)"},{"Id":"2469959045","IsPullRequest":false,"CreatedAt":"2024-08-17T19:53:36","Actor":"Liv-Goh","Number":"11900","RawContent":null,"Title":"ComboBox with DropDownList style does not reflect the configured BackColor and ForeColor","State":"closed","Body":"### .NET version\n\n.NET 9.0\n\n### Did it work in .NET Framework?\n\nNo\n\n### Did it work in any of the earlier releases of .NET Core or .NET 5+?\n\nNo, still repro in .NET 4.8.1, it is not a regression issue\n\n### Issue description\n\nWhen change the BackColor and ForeColor of the DropDownList style combobox, the color only reflect on the dropdown items of the comboBox. The color of the comboBox does not follow the color configuration and remain the default color.\r\n\r\n**Current Behavior (DropDownList)**\r\n![comboBoxDropDownListCurrent](https://github.com/user-attachments/assets/a14e4130-6cbc-43f7-9f57-40a24b51f56f)\r\n\r\n**Expected Behavior (DropDown)**\r\n![comboBoxDropDownListExpected](https://github.com/user-attachments/assets/84f10bfd-f452-4df3-b5fe-2837b4026940)\r\n\n\n### Steps to reproduce\n\n1. Create a WinForms Project\r\n2. Add a comboBox to the form\r\n3. Add sample item to the comboBox\r\n4. Set the DropDownStyle property to DropDownList\r\n5. Set the BackColor and ForeColor properties to any random color\r\n6. Build and run the project","Url":"https://github.com/dotnet/winforms/issues/11900","RelatedDescription":"Closed issue \"ComboBox with DropDownList style does not reflect the configured BackColor and ForeColor\" (#11900)"},{"Id":"2470799058","IsPullRequest":true,"CreatedAt":"2024-08-17T01:12:30","Actor":"KlausLoeffelmann","Number":"11904","RawContent":null,"Title":"Fix DesignerSerializationVisibility code fixes both for VB and C#","State":"closed","Body":"We found some additional cases, where the new code fixes which inserts the `DesignerSerializationVisibility` Attribute, do not act as expected, when they need to add `using` or `Imports` statements.\r\n\r\n* When no usings existed before, a cast failed both for VB and for C#, so the Imports/Using did not get added.\r\n* The formatting/simplifying of the properties whose `DesignerSerializationVisibility` attribute got added, was overzealous and did more than it was supposed to. It's really limited now to the sheer adding of the attribute.\r\n\r\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/winforms/pull/11904)","Url":"https://github.com/dotnet/winforms/pull/11904","RelatedDescription":"Closed or merged PR \"Fix DesignerSerializationVisibility code fixes both for VB and C#\" (#11904)"},{"Id":"2470766686","IsPullRequest":true,"CreatedAt":"2024-08-16T18:39:24","Actor":"lonitra","Number":"11903","RawContent":null,"Title":"Update list-of-diagnostics.md","State":"closed","Body":"\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/winforms/pull/11903)","Url":"https://github.com/dotnet/winforms/pull/11903","RelatedDescription":"Closed or merged PR \"Update list-of-diagnostics.md\" (#11903)"},{"Id":"2470167455","IsPullRequest":true,"CreatedAt":"2024-08-16T16:59:17","Actor":"dotnet-maestro[bot]","Number":"11902","RawContent":null,"Title":"[release/9.0] Update dependencies from dotnet/runtime","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:417b4c89-9f23-476a-5003-08dcbc3022d8)\r\n## From https://github.com/dotnet/runtime\r\n- **Subscription**: 417b4c89-9f23-476a-5003-08dcbc3022d8\r\n- **Build**: 20240814.5\r\n- **Date Produced**: August 14, 2024 8:54:05 PM UTC\r\n- **Commit**: 0fbd81404d1f211572387498474063bc6f407f0f\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Internal.Runtime.WindowsDesktop.Transport**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **Microsoft.NET.Sdk.IL**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **Microsoft.NETCore.App.Ref**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **Microsoft.NETCore.ILAsm**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **Microsoft.NETCore.ILDAsm**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **Microsoft.NETCore.Platforms**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **Microsoft.Win32.Registry.AccessControl**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **Microsoft.Win32.SystemEvents**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **runtime.win-x64.Microsoft.NETCore.ILAsm**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **runtime.win-x86.Microsoft.NETCore.ILAsm**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.CodeDom**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.ComponentModel.Composition**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.ComponentModel.Composition.Registration**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.Configuration.ConfigurationManager**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.Data.Odbc**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.Data.OleDb**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.Diagnostics.EventLog**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.Diagnostics.PerformanceCounter**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.DirectoryServices**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.DirectoryServices.AccountManagement**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.DirectoryServices.Protocols**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.Formats.Nrbf**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.IO.Hashing**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.IO.Packaging**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.IO.Ports**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.Management**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.Reflection.Context**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.Reflection.MetadataLoadContext**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.Resources.Extensions**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.Runtime.Caching**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.Runtime.Serialization.Formatters**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.Security.Cryptography.Pkcs**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.Security.Cryptography.ProtectedData**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.Security.Cryptography.Xml**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.Security.Permissions**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.ServiceModel.Syndication**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.ServiceProcess.ServiceController**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.Speech**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.Text.Encoding.CodePages**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.Text.Encodings.Web**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.Text.Json**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.Threading.AccessControl**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **System.Windows.Extensions**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.9.0**: [from 9.0.0-rc.1.24413.14 to 9.0.0-rc.1.24414.5][1]\r\n\r\n[1]: https://github.com/dotnet/runtime/compare/605ff6f648...0fbd81404d\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:417b4c89-9f23-476a-5003-08dcbc3022d8)\r\n\r\n\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/winforms/pull/11902)","Url":"https://github.com/dotnet/winforms/pull/11902","RelatedDescription":"Closed or merged PR \"[release/9.0] Update dependencies from dotnet/runtime\" (#11902)"},{"Id":"2469972927","IsPullRequest":false,"CreatedAt":"2024-08-16T10:23:33","Actor":"Syareel-Sukeri","Number":"11901","RawContent":null,"Title":"[Dark Mode] StatusStrip and ToolStrip have incorrect color when RenderMode is set to \"System\"","State":"open","Body":"### .NET version\n\n.NET SDK 9.0.100-rc.1.24415.1 + build private dll form winforms repo release/9.0 branch\n\n### Did it work in .NET Framework?\n\nNo\n\n### Did it work in any of the earlier releases of .NET Core or .NET 5+?\n\nThis is a new feature Dark Mode: https://github.com/dotnet/winforms/pull/11857\n\n### Issue description\n\nToolStrip and StatusStrip BackColor is not changed to dark when RenderMode: System.\r\n![image](https://github.com/user-attachments/assets/b9915acd-6962-45eb-858d-f447851c373c)\r\n\n\n### Steps to reproduce\n\n1. Create a WinForms .NET Core application with StatusStrip/ToolStrip control.\r\n2. Enable DarkMode by Application.SetColorMode(SystemColorMode.Dark) in Program.cs file.\r\n3. Set RenderMode to \"System\".\r\n4. Run the application.","Url":"https://github.com/dotnet/winforms/issues/11901","RelatedDescription":"Open issue \"[Dark Mode] StatusStrip and ToolStrip have incorrect color when RenderMode is set to \"System\"\" (#11901)"},{"Id":"2469894638","IsPullRequest":true,"CreatedAt":"2024-08-16T09:36:11","Actor":"LeafShi1","Number":"11899","RawContent":null,"Title":"DarkMode tests, add tests for property \"ForeColor\" of the DateTimePicker.cs","State":"open","Body":"<!-- Please read CONTRIBUTING.md before submitting a pull request -->\r\n\r\nRelated #10453\r\n\r\n\r\n## Proposed changes\r\n\r\n- Add tests for property \"ForeColor\" of the DateTimePicker.cs\r\n- This test for test the new DarkMode in  DateTimePicker\n ###### Microsoft Reviewers: [Open in CodeFlow](https://microsoft.github.io/open-pr/?codeflow=https://github.com/dotnet/winforms/pull/11899)","Url":"https://github.com/dotnet/winforms/pull/11899","RelatedDescription":"Open PR \"DarkMode tests, add tests for property \"ForeColor\" of the DateTimePicker.cs\" (#11899)"},{"Id":"2469854551","IsPullRequest":false,"CreatedAt":"2024-08-16T09:12:16","Actor":"Philip-Wang01","Number":"11896","RawContent":null,"Title":"[Dark Mode] Control pops up dialogs and MessageBox window are not in Dark mode when DarkMode enabled ","State":"open","Body":"### .NET version\n\n.NET SDK 9.0.100-rc.1.24415.1 + build private dll form winforms repo release/9.0 branch\n\n### Did it work in .NET Framework?\n\nNo\n\n### Did it work in any of the earlier releases of .NET Core or .NET 5+?\n\nThis is a new feature Dark Mode: https://github.com/dotnet/winforms/pull/11857\n\n### Issue description\n\nControl pops up dialogs and MessageBox window are not in Dark mode when DarkMode enabled \r\n\r\nColorDialog:\r\n![image](https://github.com/user-attachments/assets/77b90bc5-4c9f-4504-af0b-1c1398382339)\r\n\r\nFontDialog: \r\n![image](https://github.com/user-attachments/assets/5f92cbdf-3578-456c-bc4f-17f2572cd8a0)\r\n\r\nMessageBox: \r\n![image](https://github.com/user-attachments/assets/dd1aef30-095e-461e-a592-71984a00aeb7)\n\n### Steps to reproduce\n\n1. Create a WinForms .NET Core application.\r\n2. Enable DarkMode by `Application.SetColorMode(SystemColorMode.Dark)` in program.cs file.\r\n3. Add three button controls to the form designer.\r\n4. Add click events to open FontDialog, ColorDialog and MessageBox for each of the three buttons.\r\n5. Run the application.\r\n6. Click each of the three buttons and observe the color of the new dialog.\r\n","Url":"https://github.com/dotnet/winforms/issues/11896","RelatedDescription":"Open issue \"[Dark Mode] Control pops up dialogs and MessageBox window are not in Dark mode when DarkMode enabled \" (#11896)"}],"ResultType":"GitHubIssue"}},"RunOn":"2024-08-20T03:30:27.6675737Z","RunDurationInMilliseconds":442}