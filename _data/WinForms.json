{"Data":{"GitHub":{"Issues":[{"Id":"1855956822","IsPullRequest":true,"CreatedAt":"2023-08-18T02:42:59","Actor":"SimonZhao888","Number":"9749","RawContent":null,"Title":"Port BindingSourceDesigner, BindingNavigatorDesigner to runtime","State":"open","Body":"<!-- Please read CONTRIBUTING.md before submitting a pull request -->\r\n\r\nRelated to https://github.com/dotnet/winforms/issues/4908\r\n\r\n\r\n## Proposed changes\r\n\r\n- Port BindingSourceDesigner, BindingNavigatorDesigner to runtime.\r\n\r\n<!-- We are in TELL-MODE the following section must be completed -->\r\n\r\n## Customer Impact\r\n\r\n- BindingSourceDesigner can be designed in runtime\r\n\r\n## Regression? \r\n\r\n- No\r\n\r\n## Risk\r\n\r\n- Minimal\r\n\r\n<!-- end TELL-MODE -->\r\n\r\n\r\n## Screenshots <!-- Remove this section if PR does not change UI -->\r\n\r\n### Before\r\n\r\n![image](https://github.com/dotnet/winforms/assets/133954995/c3e654c3-6a79-4a46-a0ef-16607278dcaa)\r\n\r\n### After\r\nBindingSourceDesigner can be designed in runtime.\r\n![image](https://github.com/dotnet/winforms/assets/133954995/b3b259eb-54a5-4167-9d6b-d82134fa341f)\r\n\r\n\r\n## Test methodology <!-- How did you ensure quality? -->\r\n\r\n- Manually (add BindingSourceDesigner to DemoConsole test app)\r\n\r\n## Accessibility testing  <!-- Remove this section if PR does not change UI -->\r\n\r\n<!--\r\n     Microsoft prioritizes making our products accessible. \r\n     WinForms has a key role in allowing developers to create accessible apps. \r\n     \r\n     When submitting a change which impacts UI in any way, including adding new UI or\r\n     modifying existing controls the developer needs to run the Accessibility Insights\r\n     tool (https://accessibilityinsights.io/) and verify that there are no changes or\r\n     regressions. \r\n     \r\n     The developer should run the Fast Pass over the impacted control(s) and provide\r\n     a snapshot of the passing results along with before/after snapshots of the UI.\r\n     More info: (https://accessibilityinsights.io/docs/en/web/getstarted/fastpass)\r\n  -->\r\n\r\n\r\n \r\n\r\n## Test environment(s) <!-- Remove any that don't apply -->\r\n\r\n- .Net 8.0.100-rc.1.23377.5\r\n\r\n\r\n<!-- Mention language, UI scaling, or anything else that might be relevant -->\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/winforms/pull/9749)","Url":"https://github.com/dotnet/winforms/pull/9749","RelatedDescription":"Open PR \"Port BindingSourceDesigner, BindingNavigatorDesigner to runtime\" (#9749)"},{"Id":"1855840178","IsPullRequest":true,"CreatedAt":"2023-08-17T23:35:47","Actor":"JeremyKuhne","Number":"9748","RawContent":null,"Title":"Fix resource namespace for BinaryEditor (#9746)","State":"open","Body":"The BinaryEditor dialog resources were not in the right namespace which was preventing the modal editor from launching successfully.\r\n\r\n### Port of #9746 to main, do not squash\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/winforms/pull/9748)","Url":"https://github.com/dotnet/winforms/pull/9748","RelatedDescription":"Open PR \"Fix resource namespace for BinaryEditor (#9746)\" (#9748)"},{"Id":"1855742581","IsPullRequest":true,"CreatedAt":"2023-08-17T23:32:14","Actor":"JeremyKuhne","Number":"9746","RawContent":null,"Title":"Fix resource namespace for BinaryEditor","State":"closed","Body":"The BinaryEditor dialog resources were not in the right namespace which was preventing the modal editor from launching successfully.\r\n\r\nFixes #7356\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/winforms/pull/9746)","Url":"https://github.com/dotnet/winforms/pull/9746","RelatedDescription":"Closed or merged PR \"Fix resource namespace for BinaryEditor\" (#9746)"},{"Id":"1855745142","IsPullRequest":true,"CreatedAt":"2023-08-17T21:40:24","Actor":"lonitra","Number":"9747","RawContent":null,"Title":"Ensure Form Doesn't Prevent Shutdown (#9745)","State":"open","Body":"Porting #9745 to release/8.0\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/winforms/pull/9747)","Url":"https://github.com/dotnet/winforms/pull/9747","RelatedDescription":"Open PR \"Ensure Form Doesn't Prevent Shutdown (#9745)\" (#9747)"},{"Id":"1855705184","IsPullRequest":true,"CreatedAt":"2023-08-17T21:36:44","Actor":"lonitra","Number":"9745","RawContent":null,"Title":"Ensure Form Doesn't Prevent Shutdown","State":"closed","Body":"Fixes #9210 \r\n\r\nIn #7561 the result for `WM_QUERYENDSESSION` was accidentally flipped causing the return for `WM_QUERYENDSESSION` to be `false`, which would prevent shutdown/log off. This change fixes this and also adds a test that ensures that `Form` will return `true` for a `WM_QUERYENDSESSION` message.\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/winforms/pull/9745)","Url":"https://github.com/dotnet/winforms/pull/9745","RelatedDescription":"Closed or merged PR \"Ensure Form Doesn't Prevent Shutdown\" (#9745)"},{"Id":"1853561995","IsPullRequest":true,"CreatedAt":"2023-08-17T20:42:49","Actor":"JeremyKuhne","Number":"9737","RawContent":null,"Title":"Fix IRawElementProviderSimple.GetPropertyValue (#9732)","State":"closed","Body":"Our interop handle structs (such as HWND) cannot be marshalled directly and will fail \"silently\" on callbacks (they will throw but the marshaller will convert that to an HRESULT that we won't see unless first-chance exceptions are on when we're debugging).\r\n\r\n### This change should be merged, not squashed- it ports #9732\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/winforms/pull/9737)","Url":"https://github.com/dotnet/winforms/pull/9737","RelatedDescription":"Closed or merged PR \"Fix IRawElementProviderSimple.GetPropertyValue (#9732)\" (#9737)"},{"Id":"1855559474","IsPullRequest":true,"CreatedAt":"2023-08-17T19:11:47","Actor":"weltkante","Number":"9744","RawContent":null,"Title":"add missing UseDefaultXunitCulture attributes","State":"open","Body":"<!-- Please read CONTRIBUTING.md before submitting a pull request -->\r\n\r\nContributes to #2734\r\n\r\n## Proposed changes\r\n\r\n- add missing UseDefaultXunitCulture attributes\r\n\r\n<!-- We are in TELL-MODE the following section must be completed -->\r\n\r\n## Customer Impact\r\n\r\n- none, only affects unit tests on developer machines\r\n\r\n## Regression? \r\n\r\n- no\r\n\r\n## Risk\r\n\r\n- minimal, should only affect developers running tests locally\r\n\r\n<!-- end TELL-MODE -->\r\n\r\n### Before\r\n\r\n- tests failing when running on german machine.\r\n\r\n### After\r\n\r\n- less tests failing when running on german machine.\r\n\r\n## Test methodology <!-- How did you ensure quality? -->\r\n\r\n- run tests in Visual Studio on a german machine.\r\n\r\n## Test environment(s) <!-- Remove any that don't apply -->\r\n\r\n- german machine (de-de culture)\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/winforms/pull/9744)","Url":"https://github.com/dotnet/winforms/pull/9744","RelatedDescription":"Open PR \"add missing UseDefaultXunitCulture attributes\" (#9744)"},{"Id":"1855490362","IsPullRequest":true,"CreatedAt":"2023-08-17T18:18:20","Actor":"dotnet-maestro[bot]","Number":"9743","RawContent":null,"Title":"[release/8.0] Update dependencies from dotnet/runtime","State":"open","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:5f9d099d-0d05-4b82-cc41-08db9e4039c1)\r\n## From https://github.com/dotnet/runtime\r\n- **Subscription**: 5f9d099d-0d05-4b82-cc41-08db9e4039c1\r\n- **Build**: 20230817.12\r\n- **Date Produced**: August 18, 2023 12:24:11 AM UTC\r\n- **Commit**: 3ab4246e5a3913786dd846da5cbbfa96435a3243\r\n- **Branch**: refs/heads/release/8.0\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Internal.Runtime.WindowsDesktop.Transport**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **Microsoft.NET.Sdk.IL**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **Microsoft.NETCore.App.Ref**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **Microsoft.NETCore.ILAsm**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **Microsoft.NETCore.ILDAsm**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **Microsoft.NETCore.Platforms**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **Microsoft.Win32.Registry.AccessControl**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **Microsoft.Win32.SystemEvents**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **runtime.win-x64.Microsoft.NETCore.ILAsm**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **runtime.win-x86.Microsoft.NETCore.ILAsm**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.CodeDom**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.ComponentModel.Composition**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.ComponentModel.Composition.Registration**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.Configuration.ConfigurationManager**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.Data.Odbc**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.Data.OleDb**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.Diagnostics.EventLog**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.Diagnostics.PerformanceCounter**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.DirectoryServices**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.DirectoryServices.AccountManagement**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.DirectoryServices.Protocols**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.IO.Packaging**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.IO.Ports**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.Management**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.Reflection.Context**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.Reflection.MetadataLoadContext**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.Resources.Extensions**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.Runtime.Caching**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.Security.Cryptography.Pkcs**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.Security.Cryptography.ProtectedData**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.Security.Cryptography.Xml**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.Security.Permissions**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.ServiceModel.Syndication**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.ServiceProcess.ServiceController**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.Speech**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.Text.Encoding.CodePages**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.Text.Encodings.Web**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.Text.Json**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.Threading.AccessControl**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **System.Windows.Extensions**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.8.0**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.2.23417.12][3]\r\n\r\n[3]: https://github.com/dotnet/runtime/compare/8986374ea7...3ab4246e5a\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:5f9d099d-0d05-4b82-cc41-08db9e4039c1)\r\n\r\n\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/winforms/pull/9743)\r\n\r\n","Url":"https://github.com/dotnet/winforms/pull/9743","RelatedDescription":"Open PR \"[release/8.0] Update dependencies from dotnet/runtime\" (#9743)"},{"Id":"1855460938","IsPullRequest":false,"CreatedAt":"2023-08-17T17:56:59","Actor":"JeremyKuhne","Number":"9742","RawContent":null,"Title":"System.Drawing.Common xml docs limited after .NET 6.0","State":"open","Body":"              @JeremyKuhne\r\n\r\nYes, the absence of a README is _certainly unfortunate_, but there is a much more significant issue - the lack of documentation (hints in Visual Studio) for most elements from `System.Drawing.Common`:\r\n\r\n![image](https://github.com/dotnet/winforms/assets/17767561/a7fd743a-0df9-4c32-a861-eed9738e2ff3)\r\n\r\nI quickly checked the NuGet packages and found that starting from Net6, the XML file has been significantly slimmed down:\r\n![image](https://github.com/dotnet/winforms/assets/17767561/cf8b85cb-3f5b-46b2-bd0f-70ac62f0192f)\r\n\r\nThe line from the V.S. screenshot above (`\"T:System.Drawing.Drawing2D.GraphicsPath\"`) is only present in version 4.70: \r\n![image](https://github.com/dotnet/winforms/assets/17767561/03e0635f-4665-4292-bec4-e11a43beb552)\r\n\r\n_Originally posted by @kirsan31 in https://github.com/dotnet/winforms/issues/9729#issuecomment-1681843321_\r\n            ","Url":"https://github.com/dotnet/winforms/issues/9742","RelatedDescription":"Open issue \"System.Drawing.Common xml docs limited after .NET 6.0\" (#9742)"},{"Id":"1854863320","IsPullRequest":true,"CreatedAt":"2023-08-17T12:26:36","Actor":"dotnet-maestro[bot]","Number":"9741","RawContent":null,"Title":"[main] Update dependencies from dotnet/runtime","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:d9f5b309-084f-43b5-02de-08d8b80548e4)\r\n## From https://github.com/dotnet/runtime\r\n- **Subscription**: d9f5b309-084f-43b5-02de-08d8b80548e4\r\n- **Build**: 20230816.31\r\n- **Date Produced**: August 17, 2023 8:46:05 AM UTC\r\n- **Commit**: ce54acdc1c2e820f06d6f813d6b6ed6ce0a1b64d\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Internal.Runtime.WindowsDesktop.Transport**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **Microsoft.NET.Sdk.IL**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **Microsoft.NETCore.App.Ref**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **Microsoft.NETCore.ILAsm**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **Microsoft.NETCore.ILDAsm**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **Microsoft.NETCore.Platforms**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **Microsoft.Win32.Registry.AccessControl**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **Microsoft.Win32.SystemEvents**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **runtime.win-x64.Microsoft.NETCore.ILAsm**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **runtime.win-x86.Microsoft.NETCore.ILAsm**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.CodeDom**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.ComponentModel.Composition**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.ComponentModel.Composition.Registration**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.Configuration.ConfigurationManager**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.Data.Odbc**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.Data.OleDb**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.Diagnostics.EventLog**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.Diagnostics.PerformanceCounter**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.DirectoryServices**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.DirectoryServices.AccountManagement**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.DirectoryServices.Protocols**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.IO.Packaging**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.IO.Ports**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.Management**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.Reflection.Context**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.Reflection.MetadataLoadContext**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.Resources.Extensions**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.Runtime.Caching**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.Security.Cryptography.Pkcs**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.Security.Cryptography.ProtectedData**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.Security.Cryptography.Xml**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.Security.Permissions**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.ServiceModel.Syndication**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.ServiceProcess.ServiceController**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.Speech**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.Text.Encoding.CodePages**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.Text.Encodings.Web**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.Text.Json**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.Threading.AccessControl**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **System.Windows.Extensions**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.8.0**: [from 8.0.0-rc.1.23416.1 to 8.0.0-rc.1.23416.31][1]\r\n\r\n[1]: https://github.com/dotnet/runtime/compare/a39262bd2d...ce54acdc1c\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:d9f5b309-084f-43b5-02de-08d8b80548e4)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/winforms/pull/9741)","Url":"https://github.com/dotnet/winforms/pull/9741","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/runtime\" (#9741)"},{"Id":"1854164021","IsPullRequest":false,"CreatedAt":"2023-08-17T03:02:19","Actor":"MelonWang1","Number":"9740","RawContent":null,"Title":"Winforms designer moves anchored control","State":"open","Body":"### .NET version\n\n.NET 8.0.100-rc.1.23415.19\n\n### Did it work in .NET Framework?\n\nYes\n\n### Did it work in any of the earlier releases of .NET Core or .NET 5+?\n\nYes, this issue cannot repro in .NET7.0 & .NET 6.0.\r\n\r\nhttps://github.com/dotnet/winforms/assets/94418985/f2cb9dc0-b311-4640-933c-a204eb936646\r\n\r\n\n\n### Issue description\n\n**Current Behavior:**\r\nThe button's been moved.\r\nAfter step5:\r\n![design](https://github.com/dotnet/winforms/assets/94418985/927cca43-91d8-45be-9dfc-19dedad86988)\r\n\r\nAfter step6:\r\n![moved design](https://github.com/dotnet/winforms/assets/94418985/fbcf067c-c90e-4468-8027-4519bde76d9c)\r\n\r\n\r\nBut in runtime, the button is not moved.\r\n![moved run](https://github.com/dotnet/winforms/assets/94418985/b293678c-8ce6-46eb-9e09-dd23bfc44817)\r\n\r\n\r\nhttps://github.com/dotnet/winforms/assets/94418985/9858de36-6082-48d6-a586-1d62fc831b4e\r\n\r\n\r\n \r\n**Expected Behavior:**\r\nThe button shouldn't be moved.\r\n\r\nhttps://github.com/dotnet/winforms/assets/94418985/02cb3533-bcd2-43aa-8846-e72e3345d59d\r\n\r\n\n\n### Steps to reproduce\n\n1. Create a Winforms .NET Core 8.0 application\r\n2. Add a panel to form designer\r\n3. Change the panel's Dock property to Bottom\r\n4. Add a button to the panel\r\n5. Change the button's anchor property from top & left to bottom & right\r\n6. Close and reopen form designer\r\n7. Observe the location of the button control\r\n\r\n**More Info:**\r\n1. This issue also reproes in other container controls and common controls.\r\n2. The initial ticket link is here: https://devdiv.visualstudio.com/DevDiv/_workitems/edit/1866799","Url":"https://github.com/dotnet/winforms/issues/9740","RelatedDescription":"Open issue \"Winforms designer moves anchored control\" (#9740)"},{"Id":"1853892541","IsPullRequest":true,"CreatedAt":"2023-08-16T20:54:18","Actor":"dotnet-bot","Number":"9739","RawContent":null,"Title":"Localized file check-in by OneLocBuild Task: Build definition ID 164: Build ID 2246704","State":"open","Body":"This is the pull request automatically created by the OneLocBuild task in the build process to check-in localized files generated based upon translation source files (.lcl files) handed-back from the downstream localization pipeline. If there are issues in translations, visit https://aka.ms/icxLocBug and log bugs for fixes. The OneLocBuild wiki is https://aka.ms/onelocbuild and the localization process in general is documented at https://aka.ms/AllAboutLoc.\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/winforms/pull/9739)","Url":"https://github.com/dotnet/winforms/pull/9739","RelatedDescription":"Open PR \"Localized file check-in by OneLocBuild Task: Build definition ID 164: Build ID 2246704\" (#9739)"},{"Id":"1853669946","IsPullRequest":true,"CreatedAt":"2023-08-16T20:05:57","Actor":"Tanya-Solyanik","Number":"9738","RawContent":null,"Title":"Merge feature/9.0 into main","State":"closed","Body":"**This should be merged as a merge-commit!**\r\n\r\n```\r\ngit fetch\r\ngit checkout main\r\nbuild\r\ngit checkout -b merge-feature-into-main\r\ngit commit -a -m \"Add new localization strings that were generated by the build into the templates package\"\r\ngit merge upstream/feature/9.0 \r\n```\r\n\r\nSource code conflicts were auto-merged. But PublicAPIs required manual merging:\r\n```\r\nAuto-merging src/System.Windows.Forms/src/PublicAPI.Shipped.txt\r\nCONFLICT (content): Merge conflict in src/System.Windows.Forms/src/PublicAPI.Shipped.txt\r\nAuto-merging src/System.Windows.Forms/src/PublicAPI.Unshipped.txt\r\nCONFLICT (content): Merge conflict in src/System.Windows.Forms/src/PublicAPI.Unshipped.txt\r\nAuto-merging src/System.Windows.Forms/src/System/Windows/Forms/ListViewItem.ListViewSubItemCollection.cs\r\nAuto-merging src/System.Windows.Forms/src/System/Windows/Forms/ToolStripPanelRow.ToolStripPanelRowControlCollection.cs\r\nAuto-merging src/System.Windows.Forms/src/System/Windows/Forms/TreeNodeCollection.cs\r\n```\r\nI took published APIs from main and the new unpublished APIs from the feature branch. The unpublished APIs came from\r\nhttps://github.com/dotnet/winforms/pull/9620\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/winforms/pull/9738)","Url":"https://github.com/dotnet/winforms/pull/9738","RelatedDescription":"Closed or merged PR \"Merge feature/9.0 into main\" (#9738)"},{"Id":"1852332788","IsPullRequest":true,"CreatedAt":"2023-08-16T17:35:26","Actor":"Tanya-Solyanik","Number":"9731","RawContent":null,"Title":"Merge from feature/9.0 into main","State":"closed","Body":"null\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/winforms/pull/9731)","Url":"https://github.com/dotnet/winforms/pull/9731","RelatedDescription":"Closed or merged PR \"Merge from feature/9.0 into main\" (#9731)"},{"Id":"1853344992","IsPullRequest":true,"CreatedAt":"2023-08-16T14:42:32","Actor":"dotnet-maestro[bot]","Number":"9736","RawContent":null,"Title":"[release/8.0-rc1] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:59798a3c-80a1-44da-8556-08db9cf9a85c)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 59798a3c-80a1-44da-8556-08db9cf9a85c\r\n- **Build**: 20230815.4\r\n- **Date Produced**: August 16, 2023 12:28:07 AM UTC\r\n- **Commit**: 46ff142f43e887d5f9a4d87ef39d72166f61db8d\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Arcade.Sdk**: [from 8.0.0-beta.23411.1 to 8.0.0-beta.23415.4][1]\r\n  - **Microsoft.DotNet.CMake.Sdk**: [from 8.0.0-beta.23411.1 to 8.0.0-beta.23415.4][1]\r\n  - **Microsoft.DotNet.GenFacades**: [from 8.0.0-beta.23411.1 to 8.0.0-beta.23415.4][1]\r\n  - **Microsoft.DotNet.Helix.Sdk**: [from 8.0.0-beta.23411.1 to 8.0.0-beta.23415.4][1]\r\n  - **Microsoft.DotNet.RemoteExecutor**: [from 8.0.0-beta.23411.1 to 8.0.0-beta.23415.4][1]\r\n  - **Microsoft.DotNet.XUnitExtensions**: [from 8.0.0-beta.23411.1 to 8.0.0-beta.23415.4][1]\r\n\r\n[1]: https://github.com/dotnet/arcade/compare/9b2af35a67...46ff142f43\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:59798a3c-80a1-44da-8556-08db9cf9a85c)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/winforms/pull/9736)","Url":"https://github.com/dotnet/winforms/pull/9736","RelatedDescription":"Closed or merged PR \"[release/8.0-rc1] Update dependencies from dotnet/arcade\" (#9736)"},{"Id":"1853095899","IsPullRequest":true,"CreatedAt":"2023-08-16T12:27:05","Actor":"dotnet-maestro[bot]","Number":"9735","RawContent":null,"Title":"[main] Update dependencies from dotnet/runtime","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:d9f5b309-084f-43b5-02de-08d8b80548e4)\r\n## From https://github.com/dotnet/runtime\r\n- **Subscription**: d9f5b309-084f-43b5-02de-08d8b80548e4\r\n- **Build**: 20230816.1\r\n- **Date Produced**: August 16, 2023 11:04:09 AM UTC\r\n- **Commit**: a39262bd2d8543e5e6636978d54a084669e1a8e5\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Internal.Runtime.WindowsDesktop.Transport**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **Microsoft.NET.Sdk.IL**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **Microsoft.NETCore.App.Ref**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **Microsoft.NETCore.ILAsm**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **Microsoft.NETCore.ILDAsm**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **Microsoft.NETCore.Platforms**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **Microsoft.Win32.Registry.AccessControl**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **Microsoft.Win32.SystemEvents**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **runtime.win-x64.Microsoft.NETCore.ILAsm**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **runtime.win-x86.Microsoft.NETCore.ILAsm**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.CodeDom**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.ComponentModel.Composition**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.ComponentModel.Composition.Registration**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.Configuration.ConfigurationManager**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.Data.Odbc**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.Data.OleDb**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.Diagnostics.EventLog**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.Diagnostics.PerformanceCounter**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.DirectoryServices**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.DirectoryServices.AccountManagement**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.DirectoryServices.Protocols**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.IO.Packaging**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.IO.Ports**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.Management**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.Reflection.Context**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.Reflection.MetadataLoadContext**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.Resources.Extensions**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.Runtime.Caching**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.Security.Cryptography.Pkcs**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.Security.Cryptography.ProtectedData**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.Security.Cryptography.Xml**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.Security.Permissions**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.ServiceModel.Syndication**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.ServiceProcess.ServiceController**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.Speech**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.Text.Encoding.CodePages**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.Text.Encodings.Web**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.Text.Json**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.Threading.AccessControl**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **System.Windows.Extensions**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.8.0**: [from 8.0.0-rc.1.23415.2 to 8.0.0-rc.1.23416.1][1]\r\n\r\n[1]: https://github.com/dotnet/runtime/compare/1eb702ce1e...a39262bd2d\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:d9f5b309-084f-43b5-02de-08d8b80548e4)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/winforms/pull/9735)","Url":"https://github.com/dotnet/winforms/pull/9735","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/runtime\" (#9735)"},{"Id":"1853094808","IsPullRequest":true,"CreatedAt":"2023-08-16T12:26:20","Actor":"dotnet-maestro[bot]","Number":"9734","RawContent":null,"Title":"[main] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:b9a1a4bb-2302-4987-3b3d-08d8b8050dda)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: b9a1a4bb-2302-4987-3b3d-08d8b8050dda\r\n- **Build**: 20230815.4\r\n- **Date Produced**: August 16, 2023 12:28:07 AM UTC\r\n- **Commit**: 46ff142f43e887d5f9a4d87ef39d72166f61db8d\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Arcade.Sdk**: [from 8.0.0-beta.23414.5 to 8.0.0-beta.23415.4][1]\r\n  - **Microsoft.DotNet.CMake.Sdk**: [from 8.0.0-beta.23414.5 to 8.0.0-beta.23415.4][1]\r\n  - **Microsoft.DotNet.GenFacades**: [from 8.0.0-beta.23414.5 to 8.0.0-beta.23415.4][1]\r\n  - **Microsoft.DotNet.Helix.Sdk**: [from 8.0.0-beta.23414.5 to 8.0.0-beta.23415.4][1]\r\n  - **Microsoft.DotNet.RemoteExecutor**: [from 8.0.0-beta.23414.5 to 8.0.0-beta.23415.4][1]\r\n  - **Microsoft.DotNet.XUnitExtensions**: [from 8.0.0-beta.23414.5 to 8.0.0-beta.23415.4][1]\r\n\r\n[1]: https://github.com/dotnet/arcade/compare/d3b8861e20...46ff142f43\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:b9a1a4bb-2302-4987-3b3d-08d8b8050dda)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/winforms/pull/9734)","Url":"https://github.com/dotnet/winforms/pull/9734","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/arcade\" (#9734)"},{"Id":"1852739364","IsPullRequest":true,"CreatedAt":"2023-08-16T08:13:55","Actor":"SimonZhao888","Number":"9733","RawContent":null,"Title":"Update codes to make sure the Narrator won't announce the text int te…","State":"open","Body":"<!-- Please read CONTRIBUTING.md before submitting a pull request -->\r\n\r\nFixes #7852\r\n\r\n\r\n## Proposed changes\r\n\r\n- Implemented HasKeyboardFocusPropertyId for TextBoxBaseAccessibleObject.\r\n- Modify the trigger condition for Text_TextSelectionChangedEventId/Text_TextChangedEventId of TextBox and MaskedTextBox.\r\n- Update the Text property in the TextBoxBaseUiaTextProvider to ensure that passwords are not displayed in plaintext in Insights.\r\n<!-- We are in TELL-MODE the following section must be completed -->\r\n\r\n## Customer Impact\r\n\r\n- When enable UseSystemPasswordChar or PasswordChar properties in TextBox/MaskedTextBox, Narrator won't announce the text.\r\n- Passwords are not displayed as plaintext in Insights.\r\n\r\n## Regression? \r\n\r\n- No\r\n\r\n## Risk\r\n\r\n- Low\r\n\r\n<!-- end TELL-MODE -->\r\n\r\n\r\n## Screenshots <!-- Remove this section if PR does not change UI -->\r\n\r\n### Before\r\n\r\n<!-- TODO -->\r\nWhen typing text in TextBox/MaskedTextBox with UseSystemPasswordChar or PasswordChar, Narrator announce text to \"Hidden\", but when focus on TextBox/MaskedTextBox or specific text, it will announce as specific text.\r\n![image](https://github.com/dotnet/winforms/assets/133954995/704b82a7-d6d2-4e65-b639-163177d5ba16)\r\n\r\n### After\r\n\r\n<!-- TODO -->\r\nWhen enable UseSystemPasswordChar or PasswordChar properties in TextBox/MaskedTextBox, Narrator won't announce the text, and passwords are not displayed as plaintext in Insights.\r\n![TextBox](https://github.com/dotnet/winforms/assets/133954995/44e45bd5-ec76-4c20-a683-e94bedbf760b)\r\n\r\n## Test methodology <!-- How did you ensure quality? -->\r\n\r\n- Manual\r\n\r\n## Accessibility testing  <!-- Remove this section if PR does not change UI -->\r\n\r\n<!--\r\n     Microsoft prioritizes making our products accessible. \r\n     WinForms has a key role in allowing developers to create accessible apps. \r\n     \r\n     When submitting a change which impacts UI in any way, including adding new UI or\r\n     modifying existing controls the developer needs to run the Accessibility Insights\r\n     tool (https://accessibilityinsights.io/) and verify that there are no changes or\r\n     regressions. \r\n     \r\n     The developer should run the Fast Pass over the impacted control(s) and provide\r\n     a snapshot of the passing results along with before/after snapshots of the UI.\r\n     More info: (https://accessibilityinsights.io/docs/en/web/getstarted/fastpass)\r\n  -->\r\n\r\n\r\n \r\n\r\n## Test environment(s) <!-- Remove any that don't apply -->\r\n\r\n-  8.0.0-rc.1.23381.3\r\n- Windows 11 22H2\r\n\r\n\r\n<!-- Mention language, UI scaling, or anything else that might be relevant -->\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/winforms/pull/9733)","Url":"https://github.com/dotnet/winforms/pull/9733","RelatedDescription":"Open PR \"Update codes to make sure the Narrator won't announce the text int te…\" (#9733)"},{"Id":"1852389942","IsPullRequest":true,"CreatedAt":"2023-08-16T04:45:58","Actor":"JeremyKuhne","Number":"9732","RawContent":null,"Title":"Fix IRawElementProviderSimple.GetPropertyValue","State":"closed","Body":"Our interop handle structs (such as HWND) cannot be marshalled directly and will fail \"silently\" on callbacks (they will throw but the marshaller will convert that to an HRESULT that we won't see unless first-chance exceptions are on when we're debugging).\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/winforms/pull/9732)","Url":"https://github.com/dotnet/winforms/pull/9732","RelatedDescription":"Closed or merged PR \"Fix IRawElementProviderSimple.GetPropertyValue\" (#9732)"},{"Id":"1851245498","IsPullRequest":true,"CreatedAt":"2023-08-16T02:54:24","Actor":"LeafShi1","Number":"9723","RawContent":null,"Title":"Merge main to feature 9.0 - 2023/8/15","State":"closed","Body":"Merge main into feature/9.0 branch manually following the steps:\r\n\r\n1. `git pull origin feature/9.0`\r\n2. `git checkout main`\t\r\n3. `git merge feature/9.0`\t Resolve conflicts on 2 files (winforms/src/System.Windows.Forms/src/PublicAPI.Shipped.txt, winforms/src/System.Windows.Forms/src/PublicAPI.Unshipped.txt) by manual\r\n\r\n1. `git commit`\r\n2. `git push -u origin main`","Url":"https://github.com/dotnet/winforms/pull/9723","RelatedDescription":"Closed or merged PR \"Merge main to feature 9.0 - 2023/8/15\" (#9723)"},{"Id":"1852133993","IsPullRequest":false,"CreatedAt":"2023-08-15T21:12:16","Actor":"Tanya-Solyanik","Number":"9730","RawContent":null,"Title":"Notification: Main is now a .NET 9.0 alpha branch","State":"open","Body":"Main branch is a .NET 9.0 alpha branch.\r\nrelease/8.0-rc1 branch is a .NET 8.0 RC1 branch (ASK mode, M2 and tactics approval)\r\nrelease/8.0 branch is a .NET 8.0 RC2 branch (ASK mode, M2 approval)\r\nRelease branches will not flow into main automatically, All .NET 8.0 fixes should be merged into both branches. ","Url":"https://github.com/dotnet/winforms/issues/9730","RelatedDescription":"Open issue \"Notification: Main is now a .NET 9.0 alpha branch\" (#9730)"},{"Id":"1851886299","IsPullRequest":false,"CreatedAt":"2023-08-15T17:52:59","Actor":"lyndaidaii","Number":"9729","RawContent":null,"Title":"[Documentation]System.Drawing.Common is missing NuGet package README file","State":"open","Body":"### Description\n\n\r\n\r\nWe noticed that your NuGet package is missing a README file and are reaching out to ask you do add a README file to your NuGet package.\r\n\r\nThe README file is an essential part of your package as it provides important information to users and helps them understand what the package is and what it does quickly. Also, README is the first things for users when they view your package on NuGet.org and soon Visual Studio/Visual Studio Code, it is crucial for package authors to write and include high-quality READMEs for their packages.\r\n\r\nTo help you get started, we suggest the following steps to include a README in your packages listed below:\r\n \r\n•\tIf you are new to NuGet README, learn more about [how to add a README to your NuGet Package](https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fdevblogs.microsoft.com%2Fnuget%2Fadd-a-readme-to-your-nuget-package%2F&data=05%7C01%7CLynn.Dai%40microsoft.com%7C104a7d575aa945c929e408db97e8d3cf%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C638270798485909796%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=0OcAUfiee90eoUxIVEc0FLIh4juGuque56O3lBBdElw%3D&reserved=0).\r\n•\tFollow the [README template](https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fraw.githubusercontent.com%2Flyndaidaii%2FNuGetReadMeTemplate%2Fmain%2FREADME.md&data=05%7C01%7CLynn.Dai%40microsoft.com%7C104a7d575aa945c929e408db97e8d3cf%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C638270798485909796%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=XNUA17w6bfKoax%2FSIEAMRQMY%2Fk1E4wEwFzvSDK6M6BA%3D&reserved=0) and [blog post](https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fdevblogs.microsoft.com%2Fnuget%2Fwrite-a-high-quality-readme-for-nuget-packages%2F&data=05%7C01%7CLynn.Dai%40microsoft.com%7C104a7d575aa945c929e408db97e8d3cf%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C638270798485909796%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=VT0JizwK%2B2mk5qz97r5W2NDNS9eRIplqEg%2BOsNab39Q%3D&reserved=0) for  best practices.\r\n•\tCheck out a great [example](https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fdotnet%2Fruntime%2Fpull%2F90102&data=05%7C01%7CLynn.Dai%40microsoft.com%7C104a7d575aa945c929e408db97e8d3cf%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C638270798485909796%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=UbbSUPhoulewaR9S%2BspYeBS8tCYrTKBQKSPjYSxfGCI%3D&reserved=0) README for System.Text.Json that can be used for .NET libraries.\r\n•\tReach out to us for review or help.\r\nIf you have any questions or need assistance in creating your README, please don't hesitate to reach out.\r\n\r\n### Page / URL\r\nhttps://www.nuget.org/packages/System.Drawing.Common/8.0.0-preview.7.23375.5\r\n\n\n### Reproduction Steps\n\ngo to https://www.nuget.org/packages/System.Drawing.Common/8.0.0-preview.7.23375.5, is missing readme file. \r\n\n\n### Expected behavior\n\nDisplay readme file on NuGet.org\n\n### Actual behavior\n\nRight now it is missing README file, it only displays project description instead of readme.\n\n### Regression?\n\n_No response_\n\n### Known Workarounds\n\n_No response_\n\n### Impact\n\n_No response_\n\n### Configuration\n\n_No response_\n\n### Other information\n\n_No response_","Url":"https://github.com/dotnet/winforms/issues/9729","RelatedDescription":"Open issue \"[Documentation]System.Drawing.Common is missing NuGet package README file\" (#9729)"},{"Id":"1851429256","IsPullRequest":true,"CreatedAt":"2023-08-15T17:49:55","Actor":"halgab","Number":"9728","RawContent":null,"Title":"Use throw helpers for ArgumentOutOfRangeException: manual cases","State":"closed","Body":"This is the first follow-up to #9713. These are all the cases not caught by CA1512 but are legitimate uses of the new `ArgumentOutOfRangeException` throw helpers, because the error message is not overridden.\r\n\r\n## Proposed changes\r\n\r\n- Use ArgumentOutOfRangeException throw helpers\r\n\r\n## Risk\r\n\r\n- low, but higher than the pure fixer modifications. I still used the IDE as much as possible (e.g. to break if clauses into 2) so that CA1512 could apply\r\n\r\n## Test methodology\r\n\r\n- CI\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/winforms/pull/9728)","Url":"https://github.com/dotnet/winforms/pull/9728","RelatedDescription":"Closed or merged PR \"Use throw helpers for ArgumentOutOfRangeException: manual cases\" (#9728)"},{"Id":"1850835620","IsPullRequest":true,"CreatedAt":"2023-08-15T16:15:42","Actor":"LeafShi1","Number":"9720","RawContent":null,"Title":".NET 9.0 template changes.","State":"closed","Body":"Template changes for 9.0 TFM. These were supposed to be done along with branding.\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/winforms/pull/9720)","Url":"https://github.com/dotnet/winforms/pull/9720","RelatedDescription":"Closed or merged PR \".NET 9.0 template changes.\" (#9720)"},{"Id":"1851412597","IsPullRequest":false,"CreatedAt":"2023-08-15T13:05:15","Actor":"andrekoehler","Number":"9727","RawContent":null,"Title":"Simplest Form not garbage collected when it contains an ElementHost control","State":"open","Body":"### .NET version\r\n\r\n7.0\r\n\r\n### Did it work in .NET Framework?\r\n\r\nNo\r\n\r\n### Did it work in any of the earlier releases of .NET Core or .NET 5+?\r\n\r\n_No response_\r\n\r\n### Issue description\r\n\r\nAfter a Form that contains a single ElementHost control is closed, it will never be garbage collected.\r\n\r\n### Steps to reproduce\r\n\r\n[WinFormsApp1.zip](https://github.com/dotnet/winforms/files/12344147/WinFormsApp1.zip)\r\n\r\nMinimal reproduction:\r\n1. Create new WinForms app (Reproduces with net48 and net70)\r\n2. Create new Form (\"Form2\") and add 1 GB byte array to it to easier observe the memory leak\r\n3. Add ElementHost control to Form2.\r\n4. Add button to Form1 to show Form2\r\n5. Compile and launch App\r\n6. Press button to open Form2\r\n7. Close Form2\r\n8. Wait a few seconds\r\n9. Observe that memory usage in Visual Studio debugger stays at 1 GB\r\n\r\nI added the following code to Form1 to force garbage collection every second:\r\n```\r\nvar timer = new System.Windows.Forms.Timer();\r\ntimer.Tick += (object? sender, EventArgs e) => GC.Collect();\r\ntimer.Interval = 1000;\r\ntimer.Start();\r\n```\r\nThis alone does not fix the issue.\r\n\r\n<img width=\"291\" alt=\"leak\" src=\"https://github.com/dotnet/winforms/assets/22099714/be2ad0cb-8e72-456d-a1ff-4da870122480\">\r\n\r\nI even took a memory snapshot which proves, that Form2 is not garbage collected, because element host is still referenced by InputManager:\r\n![grafik](https://github.com/dotnet/winforms/assets/22099714/0cbc5cb9-38ab-4d4a-9909-e9ec2d2a2cd1)\r\n\r\nIn JetBrains dotMemory it looks like this:\r\n![grafik](https://github.com/dotnet/winforms/assets/22099714/5b512a8f-6370-4694-9602-9fca5feb90a2)\r\n\r\nI found a simple workaround: If I manually dispose the ElementHost control in the FormClosing event handler, then the Form will be garbage collected after a few seconds:\r\n<img width=\"289\" alt=\"manual_dispose\" src=\"https://github.com/dotnet/winforms/assets/22099714/f20f80b8-e0e0-4579-97ca-a4c17c57ba71\">\r\n\r\nBut I believe it should not be necessary to manually dispose any class that derives from System.Windows.Forms.Control even though it implements IDisposable because I was under the impression that nobody does that for other controls like Button or TextBox and the Windows Forms Designer does not generate code for that.\r\n\r\nUPDATE:\r\nI found out, that a control disposes of all its children during its own Dispose method: https://referencesource.microsoft.com/#System.Windows.Forms/winforms/Managed/System/WinForms/Control.cs,6038\r\n\r\nIn my attached project, Form2.Dispose is only called (by the finalizer) if I do not add ElementHost to Form2.\r\nIf ElementHost is added to Form2 then the finalizer for Form2 never runs, so Form2.Dispose is never called, so ElementHost.Dispose is not called either.","Url":"https://github.com/dotnet/winforms/issues/9727","RelatedDescription":"Open issue \"Simplest Form not garbage collected when it contains an ElementHost control\" (#9727)"},{"Id":"1851321374","IsPullRequest":true,"CreatedAt":"2023-08-15T12:26:53","Actor":"dotnet-maestro[bot]","Number":"9725","RawContent":null,"Title":"[main] Update dependencies from dotnet/runtime","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:d9f5b309-084f-43b5-02de-08d8b80548e4)\r\n## From https://github.com/dotnet/runtime\r\n- **Subscription**: d9f5b309-084f-43b5-02de-08d8b80548e4\r\n- **Build**: 20230815.2\r\n- **Date Produced**: August 15, 2023 11:35:30 AM UTC\r\n- **Commit**: 1eb702ce1efe3581488a37704cee47603a291069\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Internal.Runtime.WindowsDesktop.Transport**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **Microsoft.NET.Sdk.IL**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **Microsoft.NETCore.App.Ref**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **Microsoft.NETCore.App.Runtime.win-x64**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **Microsoft.NETCore.ILAsm**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **Microsoft.NETCore.ILDAsm**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **Microsoft.NETCore.Platforms**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **Microsoft.Win32.Registry.AccessControl**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **Microsoft.Win32.SystemEvents**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **runtime.win-x64.Microsoft.NETCore.ILAsm**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **runtime.win-x86.Microsoft.NETCore.ILAsm**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.CodeDom**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.ComponentModel.Composition**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.ComponentModel.Composition.Registration**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.Configuration.ConfigurationManager**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.Data.Odbc**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.Data.OleDb**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.Diagnostics.EventLog**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.Diagnostics.PerformanceCounter**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.DirectoryServices**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.DirectoryServices.AccountManagement**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.DirectoryServices.Protocols**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.IO.Packaging**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.IO.Ports**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.Management**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.Reflection.Context**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.Reflection.MetadataLoadContext**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.Resources.Extensions**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.Runtime.Caching**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.Security.Cryptography.Pkcs**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.Security.Cryptography.ProtectedData**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.Security.Cryptography.Xml**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.Security.Permissions**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.ServiceModel.Syndication**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.ServiceProcess.ServiceController**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.Speech**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.Text.Encoding.CodePages**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.Text.Encodings.Web**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.Text.Json**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.Threading.AccessControl**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **System.Windows.Extensions**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n  - **VS.Redist.Common.NetCore.SharedFramework.x64.8.0**: [from 8.0.0-rc.1.23414.1 to 8.0.0-rc.1.23415.2][1]\r\n\r\n[1]: https://github.com/dotnet/runtime/compare/8986374ea7...1eb702ce1e\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:d9f5b309-084f-43b5-02de-08d8b80548e4)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/winforms/pull/9725)","Url":"https://github.com/dotnet/winforms/pull/9725","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/runtime\" (#9725)"},{"Id":"1851320586","IsPullRequest":true,"CreatedAt":"2023-08-15T12:26:10","Actor":"dotnet-maestro[bot]","Number":"9724","RawContent":null,"Title":"[main] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:b9a1a4bb-2302-4987-3b3d-08d8b8050dda)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: b9a1a4bb-2302-4987-3b3d-08d8b8050dda\r\n- **Build**: 20230814.5\r\n- **Date Produced**: August 14, 2023 5:52:21 PM UTC\r\n- **Commit**: d3b8861e20aaf0179034c6076d156e2442b26f9b\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Arcade.Sdk**: [from 8.0.0-beta.23411.1 to 8.0.0-beta.23414.5][1]\r\n  - **Microsoft.DotNet.CMake.Sdk**: [from 8.0.0-beta.23411.1 to 8.0.0-beta.23414.5][1]\r\n  - **Microsoft.DotNet.GenFacades**: [from 8.0.0-beta.23411.1 to 8.0.0-beta.23414.5][1]\r\n  - **Microsoft.DotNet.Helix.Sdk**: [from 8.0.0-beta.23411.1 to 8.0.0-beta.23414.5][1]\r\n  - **Microsoft.DotNet.RemoteExecutor**: [from 8.0.0-beta.23411.1 to 8.0.0-beta.23414.5][1]\r\n  - **Microsoft.DotNet.XUnitExtensions**: [from 8.0.0-beta.23411.1 to 8.0.0-beta.23414.5][1]\r\n\r\n[1]: https://github.com/dotnet/arcade/compare/9b2af35a67...d3b8861e20\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:b9a1a4bb-2302-4987-3b3d-08d8b8050dda)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/winforms/pull/9724)","Url":"https://github.com/dotnet/winforms/pull/9724","RelatedDescription":"Closed or merged PR \"[main] Update dependencies from dotnet/arcade\" (#9724)"},{"Id":"1851328670","IsPullRequest":false,"CreatedAt":"2023-08-15T12:07:10","Actor":"halgab","Number":"9726","RawContent":null,"Title":"Review replacing ArgumentOutOfRangeException with custom error messages with default ones using its throw helpers ","State":"open","Body":"In dotnet/runtime#79460, a choice was made to replace several `throw new ArgumentOutOfRangeException` with custom error messages with `ArgumentOutOfRangeException.ThrowIf` methods that use a standard message. As a follow up to #9713, we could do the same in the winforms repo","Url":"https://github.com/dotnet/winforms/issues/9726","RelatedDescription":"Open issue \"Review replacing ArgumentOutOfRangeException with custom error messages with default ones using its throw helpers \" (#9726)"},{"Id":"1851152508","IsPullRequest":true,"CreatedAt":"2023-08-15T11:02:04","Actor":"LeafShi1","Number":"9722","RawContent":null,"Title":"Merge main into feature/9.0 branch - 8/15/2023","State":"closed","Body":"Merge main into feature/9.0 branch\n\n###### Microsoft Reviewers: [Open in CodeFlow](https://portal.fabricbot.ms/api/codeflow?pullrequest=https://github.com/dotnet/winforms/pull/9722)","Url":"https://github.com/dotnet/winforms/pull/9722","RelatedDescription":"Closed or merged PR \"Merge main into feature/9.0 branch - 8/15/2023\" (#9722)"},{"Id":"1850888062","IsPullRequest":false,"CreatedAt":"2023-08-15T04:26:15","Actor":"mgaffigan","Number":"9721","RawContent":null,"Title":"Hang during exit if `WM_SETTINGCHANGE` is received","State":"open","Body":"### .NET version\n\n7.0.9-servicing.23321.6+dd121ee97234c7490f6111cf0c7bfa9235923f81\n\n### Did it work in .NET Framework?\n\nYes\n\n### Did it work in any of the earlier releases of .NET Core or .NET 5+?\n\nDue to the race condition nature of the issue, it is unclear whether the issue exists at a lower frequency or does not exist on prior versions.  I was unable to reproduce the issue in .Net 4.7.2 or net5.  The issue occurs reliably with .net 7.\n\n### Issue description\n\nWhen a `WM_SETTINGCHANGE` message is received after the main form of an application has started closing, the application hangs.  The use case where this happens reliably is when the window is an [App Bar](https://learn.microsoft.com/en-us/windows/win32/shell/application-desktop-toolbars), as it will always generate a desktop change when the window closes.\r\n\r\nApparent timeline of events:\r\n\r\n1. On main thread, in closing the only Form, a change to the desktop layout is triggered (specifically due to removing an AppBar with `SHAppBarMessage(ABM_REMOVE, ...)`)\r\n2. The main thread begins shutting down (disposing controls, form, etc...)\r\n3. The \".NET System Events\" thread receives `WM_SETTINGCHANGE` and Invokes to the main thread\r\n4. Since the main thread has not shutdown, the [test at `WindowsFormsSynchronizationContext.Send:82`](https://source.dot.net/#System.Windows.Forms/System/Windows/Forms/WindowsFormsSynchronizationContext.cs,82) succeeds\r\n5. The \".Net System Events\" thread enters a `WaitHandle`\r\n6. The main thread, having had its main form closed, exits the message loop and `Main` returns\r\n7. Hang\r\n\r\nCall stacks at hang:\r\n\r\nMain Thread (no .Net stack, only native)\r\n\r\n    win32u.dll!NtUserMsgWaitForMultipleObjectsEx()\r\n    combase.dll!CCliModalLoop::BlockFn(void * * ahEvent, unsigned long cEvents, unsigned long * lpdwSignaled) Line 2108\r\n    combase.dll!ClassicSTAThreadWaitForHandles(unsigned long dwFlags, unsigned long dwTimeout, unsigned long cHandles, void * * pHandles, unsigned long * pdwIndex) Line 54\r\n    combase.dll!CoWaitForMultipleHandles(unsigned long dwFlags, unsigned long dwTimeout, unsigned long cHandles, void * * pHandles, unsigned long * lpdwindex) Line 126\r\n    [Inline Frame] hostpolicy.dll!coreclr_t::shutdown(int *) Line 152\r\n    hostpolicy.dll!run_app_for_context(const hostpolicy_context_t & context, int argc, const wchar_t * * argv) Line 264\r\n    ...snip...\r\n\r\n.NET System Events thread\r\n\r\n\tSystem.Private.CoreLib.dll!System.Threading.WaitHandle.WaitOneNoCheck(int millisecondsTimeout) Line 139\r\n\t\tat /_/src/libraries/System.Private.CoreLib/src/System/Threading/WaitHandle.cs(139)\r\n\tSystem.Windows.Forms.dll!System.Windows.Forms.Control.WaitForWaitHandle(System.Threading.WaitHandle waitHandle) Line 3967\r\n\t\tat /_/src/System.Windows.Forms/src/System/Windows/Forms/Control.cs(3967)\r\n\tSystem.Windows.Forms.dll!System.Windows.Forms.Control.MarshaledInvoke(System.Windows.Forms.Control caller, System.Delegate method, object[] args, bool synchronous) Line 7141\r\n\t\tat /_/src/System.Windows.Forms/src/System/Windows/Forms/Control.cs(7141)\r\n\tSystem.Windows.Forms.dll!System.Windows.Forms.Control.Invoke(System.Delegate method, object[] args) Line 6587\r\n\t\tat /_/src/System.Windows.Forms/src/System/Windows/Forms/Control.cs(6587)\r\n\tSystem.Windows.Forms.dll!System.Windows.Forms.WindowsFormsSynchronizationContext.Send(System.Threading.SendOrPostCallback d, object state) Line 88\r\n\t\tat /_/src/System.Windows.Forms/src/System/Windows/Forms/WindowsFormsSynchronizationContext.cs(88)\r\n\tMicrosoft.Win32.SystemEvents.dll!Microsoft.Win32.SystemEvents.SystemEventInvokeInfo.Invoke(bool checkFinalization, object[] args) Line 35\r\n\t\tat Microsoft.Win32\\SystemEvents.cs(35)\r\n\tMicrosoft.Win32.SystemEvents.dll!Microsoft.Win32.SystemEvents.RaiseEvent(bool checkFinalization, object key, object[] args) Line 850\r\n\t\tat Microsoft.Win32\\SystemEvents.cs(850)\r\n\t\tlocals:\r\n\t\t\tarray[0] \r\n\t\t\t\t._delegate = System.Windows.Forms.VisualStyles.VisualStyleRenderer.OnUserPreferenceChanging\r\n\t\t\t\t._syncCtx = System.Windows.Forms.WindowsFormsSynchronizationContext\r\n\tMicrosoft.Win32.SystemEvents.dll!Microsoft.Win32.SystemEvents.WindowProc(nint hWnd, int msg, nint wParam, nint lParam) Line 961\r\n\t\tat Microsoft.Win32\\SystemEvents.cs(961)\r\n\t\tlocals:\r\n\t\t\tmsg = 8218\r\n\t\t\twParam = 0x2f\r\n\t\t\tlParam = 0\r\n\t[Native to Managed Transition]\r\n\t[Managed to Native Transition]\r\n\tMicrosoft.Win32.SystemEvents.dll!Interop.User32.DispatchMessageW.____PInvoke|210_0(Interop.User32.MSG* msg)\r\n\tMicrosoft.Win32.SystemEvents.dll!Microsoft.Win32.SystemEvents.WindowThreadProc() Line 1038\r\n\t\tat Microsoft.Win32\\SystemEvents.cs(1038)\r\n\r\nNotes:\r\n\r\n- There are no controls being created on background threads ([Debugging Windows Forms Application Hangs During SystemEvents.UserPreferenceChanged](https://learn.microsoft.com/en-us/archive/blogs/dsui_team/debugging-windows-forms-application-hangs-during-systemevents-userpreferencechanged) does not apply)\r\n- At least one control is required on the form (to cause `SystemEvents.UserPreferenceChanging` to be created via `VisualStyleRenderer..cctor`)\n\n### Steps to reproduce\n\nClone either the [appbar sample](https://github.com/mgaffigan/AppBarHangRepro/blob/master/Form1.cs) or the [minimal `SendMessageTimeout` sample](https://github.com/mgaffigan/AppBarHangRepro/blob/minimal/Form1.cs).  Run the application and close the window which opens.  After waiting a few seconds, pause the debugger to observe that the main thread has exited .Net user code and is hung waiting for ???, and that .NET System Events is hung on an invoke to the now destroyed main thread.\r\n\r\nThe minimal sample can be prepared from an empty winforms project by adding an `OnHandleDestroyed` override to `Form1`:\r\n\r\n        [DllImport(\"USER32.dll\", ExactSpelling = true, EntryPoint = \"SendMessageTimeoutW\", SetLastError = true)]\r\n        internal static extern nint SendMessageTimeout(nint hWnd, uint Msg, nint wParam, nint lParam, uint fuFlags, uint uTimeout, IntPtr lpdwResult);\r\n\r\n        protected override void OnHandleDestroyed(EventArgs e)\r\n        {\r\n            base.OnHandleDestroyed(e);\r\n\r\n            // Simulate bad luck in timing or an appbar exiting\r\n            var lp = Marshal.StringToHGlobalUni(\"TapsEnabled\");\r\n            SendMessageTimeout(0x0000FFFF /* HWND_BROADCAST */, 26 /* WM_SETTINGCHANGE */, 0, lp, 0, 1000, (IntPtr)0);\r\n        }\r\n\r\nAlternatively, examine the [dump file of the hung appbar sample](https://github.com/mgaffigan/AppBarHangRepro/blob/master/WinFormsSystemEventsHangRepro.dmp.zip).","Url":"https://github.com/dotnet/winforms/issues/9721","RelatedDescription":"Open issue \"Hang during exit if `WM_SETTINGCHANGE` is received\" (#9721)"}],"ResultType":"GitHubIssue"}},"RunOn":"2023-08-18T03:30:29.7899904Z","RunDurationInMilliseconds":485}