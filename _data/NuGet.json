{"Data":{"Blog":{"FeedItems":[{"Title":"Requiring two-factor authentication on NuGet.org","PublishedOn":"2022-02-22T18:27:56+00:00","CommentsCount":0,"FacebookCount":0,"Summary":"Summary\nOver the past few years, we have continually invested in strengthening the supply-chain security for .NET packages. To strengthen the ecosystem further, NuGet.org will begin requiring...","Href":"https://devblogs.microsoft.com/nuget/requiring-two-factor-authentication-on-nuget-org/","RawContent":null},{"Title":"Introducing Compatible Packages on NuGet.org","PublishedOn":"2022-02-15T21:20:44+00:00","CommentsCount":3,"FacebookCount":0,"Summary":"As part of our ongoing commitment to improve the NuGet ecosystem, today we are excited to introduce a couple new features on NuGet.org to help you determine if a package is compatible with the target...","Href":"https://devblogs.microsoft.com/nuget/introducing-compatible-frameworks-on-nuget-org/","RawContent":null},{"Title":"Announcing NuGet 6.0 ‚Äì Source Mapping, Package Vulnerabilities, Faster Solution Load, Oh My!","PublishedOn":"2021-11-08T18:59:15+00:00","CommentsCount":6,"FacebookCount":0,"Summary":"NuGet 6.0 &#8211; Source Mapping, Package Vulnerabilities, Faster Solution Load, Oh My!\nNuGet 6.0 is included in Visual Studio 2022 and .NET 6.0 out of the box. You can also download NuGet 6.0 for...","Href":"https://devblogs.microsoft.com/nuget/announcing-nuget-6/","RawContent":null},{"Title":"Introducing the New NuGet.org Package Details Page","PublishedOn":"2021-09-23T21:39:03+00:00","CommentsCount":1,"FacebookCount":0,"Summary":"Today, we are excited to announce a massive makeover for the package details page on NuGet.org. We built NuGet.org to help .NET developers find packages that will accelerate their projects, and this...","Href":"https://devblogs.microsoft.com/nuget/introducing-the-new-nuget-org-package-details-page/","RawContent":null},{"Title":"Introducing Package Source Mapping","PublishedOn":"2021-09-15T22:30:44+00:00","CommentsCount":4,"FacebookCount":0,"Summary":"We&#8217;re happy to announce the first preview release of Package Source Mapping with Visual Studio 2022 preview 4! Package Source Mapping gives you fine-grained control of where your packages come...","Href":"https://devblogs.microsoft.com/nuget/introducing-package-source-mapping/","RawContent":null},{"Title":"IntelliCode Package Suggestions for NuGet in Visual Studio","PublishedOn":"2021-06-02T18:00:09+00:00","CommentsCount":1,"FacebookCount":0,"Summary":"Building on Visual Studio‚Äôs robust IntelliCode experience for .NET, we‚Äôre excited to introduce NuGet IntelliCode Package Suggestions in Visual Studio 16.10! IntelliCode Package Suggestions use your...","Href":"https://devblogs.microsoft.com/nuget/intellicode-package-suggestions-for-nuget-in-visual-studio/","RawContent":null},{"Title":"Add a README to Your NuGet Package","PublishedOn":"2021-05-06T19:00:22+00:00","CommentsCount":6,"FacebookCount":0,"Summary":"In March, we published a blog on the State of the NuGet Ecosystem, where we discussed insights gained from the hundreds of customers we&#8217;ve heard from over the last six months. One of the top...","Href":"https://devblogs.microsoft.com/nuget/add-a-readme-to-your-nuget-package/","RawContent":null},{"Title":".NET 5 NuGet Restore Failures on Linux distributions using NSS or ca-certificates","PublishedOn":"2021-04-06T16:03:22+00:00","CommentsCount":0,"FacebookCount":0,"Summary":"We will be releasing updated builds of NuGet this week to accommodate NuGet restore failures on Linux distributions. The failures are observed when updated versions of the NSS or ca-certificates...","Href":"https://devblogs.microsoft.com/nuget/net-5-nuget-restore-failures-on-linux-distributions-using-nss-or-ca-certificates/","RawContent":null},{"Title":"Performance and Polish with NuGet 5.9","PublishedOn":"2021-03-17T19:59:59+00:00","CommentsCount":9,"FacebookCount":0,"Summary":"Getting started with NuGet 5.9\nNuGet 5.9 is included in Visual Studio 16.9¬†and .NET 5.0 out of the box. You can also download NuGet 5.9 for Windows, macOS, and Linux as a standalone executable.\nNuGet...","Href":"https://devblogs.microsoft.com/nuget/performance-and-polish-with-nuget-5-9/","RawContent":null},{"Title":"How to Scan NuGet Packages for Security Vulnerabilities","PublishedOn":"2021-03-02T22:15:46+00:00","CommentsCount":27,"FacebookCount":0,"Summary":"Open Source is everywhere. It is in many proprietary codebases and community projects. For organizations and individuals, the question today is not whether you are or are not using open-source code,...","Href":"https://devblogs.microsoft.com/nuget/how-to-scan-nuget-packages-for-security-vulnerabilities/","RawContent":null}],"ResultType":"Feed"},"Gallery":{"Events":[{"Id":"20809362153","Type":"IssuesEvent","CreatedAt":"2022-03-17T23:33:20","Actor":"joelverhagen","Repository":"NuGet/NuGetGallery","Organization":"NuGet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/NuGet/NuGetGallery/issues/9019","RelatedDescription":"Closed issue \"[NuGet.org Bug]: Job feature flag refreshers are not stopped in a `finally` block\" (#9019) at NuGet/NuGetGallery","RelatedBody":"### Impact\n\nIt bothers me. A fix would be nice\n\n### Describe the bug\n\nJob feature flag refreshers are not stopped in a `finally` block.\r\n\r\nExample: https://github.com/NuGet/NuGet.Jobs/blob/14d1ab2f5761a2cfab77ce1b9d8d8cf94dc87ed4/src/NuGet.Services.AzureSearch/AzureSearchJob.cs#L37\r\n\r\nThis causes job loop failures (exceptions) to skip this stop step and that background task to continue on forever (until the process is ended). Because we dispose the DI container per job loop (as of https://github.com/NuGet/NuGet.Jobs/pull/1013), this causes these \"leaked\" tasks to log more and more exceptions. The exception message looks like this:\r\n\r\n```\r\nInstances cannot be resolved and nested lifetimes cannot be created from this LifetimeScope as it has already been disposed.\r\n```\r\n\r\n\r\n\r\n\n\n### Repro Steps\n\nIntermittent, e.g. due to a networking issue causing Catalog2AzureSearch to fail.\n\n### Expected Behavior\n\nThe feature flag refresher should be started and stopped per job loop, no matter if the job loop succeeds or fails.\n\n### Screenshots\n\n_No response_\n\n### Additional Context and logs\n\n_No response_"},{"Id":"20808597083","Type":"IssuesEvent","CreatedAt":"2022-03-17T22:20:02","Actor":"advay26","Repository":"NuGet/NuGetGallery","Organization":"NuGet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/NuGet/NuGetGallery/issues/9061","RelatedDescription":"Opened issue \"[NuGet.org Bug]: A11y_NuGet Service_Dapper_Release Notes_ScreenReader: On tab navigation to the link under 'Release Notes' tab, NVDA announces the link as the https reference\" (#9061) at NuGet/NuGetGallery","RelatedBody":"### Impact\n\nIt's more difficult to complete my work\n\n### Describe the bug\n\n**Source:** https://devdiv.visualstudio.com/DevDiv/_workitems/edit/1468978\r\n\r\n**Actual:**\r\nOn tab navigation to the link under 'Release Notes' tab, NVDA announces the link as the https reference\r\nSimilar issue is also observed in JAWS\r\nSimilar issue is observed in through out the application.\r\n\r\n**Expected:**\r\nThe name of the link should be descriptive it should have a name that tell its destination point\r\n\r\n**User Impact:**\r\nScreen readers users will face difficulty if link is not announced descriptively.\n\n### Repro Steps\n\n1. Launch the application URL: [https://www.nuget.org/packages/Dapper/](https://nam06.safelinks.protection.outlook.com/?url=https:%2f%2fwww.nuget.org%2f&data=04%7c01%7cv-prajadhav%40microsoft.com%7cf2a4ca1fba7e473d451608d9a59e03f4%7c72f988bf86f141af91ab2d7cd011db47%7c1%7c0%7c637722920825871875%7cUnknown%7cTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7c1000&sdata=OWWbKuc497S8l6rMh9v0D4GOq3rSkwlcss0RW8CyFkk%3D&reserved=0)\r\n2. \"Dapper\" page will get open.\r\n3. Tab to 'Release Notes' tab controls and press enter to select it.\r\n4. Run the NVDA\r\n5. Check that screen reader is announcing the link inside 'Release Notes' tab.\n\n### Expected Behavior\n\nThe name of the link should be descriptive it should have a name that tell its destination point\n\n### Screenshots\n\n_No response_\n\n### Additional Context and logs\n\n_No response_"},{"Id":"20798007035","Type":"IssuesEvent","CreatedAt":"2022-03-17T11:11:20","Actor":"TiltonJH","Repository":"NuGet/NuGetGallery","Organization":"NuGet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/NuGet/NuGetGallery/issues/9054","RelatedDescription":"Closed issue \"[Self-hosted Bug]: NuGet.Server can not receive microsoft.xmlserializer.generator.6.0.0.nupkg\" (#9054) at NuGet/NuGetGallery","RelatedBody":"### Impact\n\nI'm unable to use this version\n\n### Describe the bug\n\nHi,\r\n\r\nwe internally use a [NuGet.Server 3.4.1](https://github.com/NuGet/NuGet.Server) for our own as well as all third party nugets.\r\n\r\nWe can not push or otherwise publish `microsoft.xmlserializer.generator.6.0.0.nupkg` downloaded from [nuget.org](https://www.nuget.org/packages/Microsoft.XmlSerializer.Generator/) to our NuGet.Server.\r\n\r\nOn pushing we get a `System.Net.Http.HttpRequestException: Response status code does not indicate success: 406 (Not Acceptable).` error message.\r\n\r\nIf I put in the directory of the NuGet.Server I get `Part URI cannot start with two forward slashes.`.\r\n\r\nSo I took a look inside to figure out from where this might come from and found the `[Content_Types].xml` contains this line `<Override PartName=\"//prefercliruntime\" ContentType=\"application/octet\" />`. Removing one of the `/` at the beginning of `PartName` fixed my publish problem.\r\n\r\nHowever now the package signature doesn't match anymore.\r\n\r\nSo my first question is: Who is to blame? Is NuGet.Server faulty or not tolerant enough? Or is nuget.org not strict enough?\r\nWhich leads to the second question: Is the package actually faulty? I mean, clearly something is odd here.\r\n\r\nBTW: The 5.0.0 package does not have that issue. It only uses one `/`.\r\n\r\nSee also [microsoft.xmlserializer.generator.6.0.0.nupkg fails to upload to nuget.server ¬∑ Issue #66584 ¬∑ dotnet/runtime (github.com)](https://github.com/dotnet/runtime/issues/66584)\n\n### Repro Steps\n\nTry pushing `microsoft.xmlserializer.generator.6.0.0.nupkg` downloaded from [nuget.org](https://www.nuget.org/packages/Microsoft.XmlSerializer.Generator/) to a NuGet.Server.\n\n### Expected Behavior\n\nThe push succeeds.\n\n### Screenshots\n\n_No response_\n\n### Additional Context and logs\n\n_No response_"},{"Id":"20785028833","Type":"PullRequestEvent","CreatedAt":"2022-03-16T18:07:44","Actor":"dannyjdev","Repository":"NuGet/NuGetGallery","Organization":"NuGet","RawContent":null,"RelatedAction":"merged","RelatedUrl":"https://github.com/NuGet/NuGetGallery/pull/9058","RelatedDescription":"Merged pull request \"[Ally Bug] Installation command copy button reads as table.\" (#9058) at NuGet/NuGetGallery","RelatedBody":"### Changes\r\n- Removed `display: table, table-row, table-cell` from css for installation command styles.\r\n  - Since the installation commands had table layouts, NVDA was announcing this button as part of a table, which was not correct.\r\n- Removed unecessary `div` element from `DisplayPackage.cshtml`\r\n\r\n### Addresses\r\nhttps://github.com/nuget/engineering/issues/4315"},{"Id":"20780878664","Type":"IssuesEvent","CreatedAt":"2022-03-16T14:40:51","Actor":"donet5","Repository":"NuGet/NuGetGallery","Organization":"NuGet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/NuGet/NuGetGallery/issues/9057","RelatedDescription":"Closed issue \"[Feature]:  Query sorting problem\" (#9057) at NuGet/NuGetGallery","RelatedBody":"### Related Problem\n\nSuch as\r\nhttps://www.nuget.org/packages?q=sqlsugar  \r\n\r\nHopefully, that's what the search will bring up\r\nSqlSugar\r\nSqlSugarCore\r\n\r\nBut SQLSugarcore won't be on the first page at all\r\n\n\n### The Elevator Pitch\n\nSuch as\r\nhttps://www.nuget.org/packages?q=sqlsugar  \r\n\r\nHopefully, that's what the search will bring up\r\nSqlSugar\r\nSqlSugarCore\r\n\r\nBut SQLSugarcore won't be on the first page at all\r\n\n\n### Additional Context and Details\n\nSuch as\r\nhttps://www.nuget.org/packages?q=sqlsugar  \r\n\r\nHopefully, that's what the search will bring up\r\nSqlSugar\r\nSqlSugarCore\r\n\r\nBut SQLSugarcore won't be on the first page at all\r\n"},{"Id":"20772183213","Type":"IssuesEvent","CreatedAt":"2022-03-16T06:37:17","Actor":"jsakamoto","Repository":"NuGet/NuGetGallery","Organization":"NuGet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/NuGet/NuGetGallery/issues/9060","RelatedDescription":"Opened issue \"[NuGet.org Bug]: HTML comments `<!-- -->` in a preformatted area of a README markdown text are disappeared\" (#9060) at NuGet/NuGetGallery","RelatedBody":"### Impact\n\nIt bothers me. A fix would be nice\n\n### Describe the bug\n\nHTML comments `<!-- -->` in a preformatted area of a README markdown text are disappeared.\r\n\r\nSome of my  \"README\" markdown texts include sample HTML codes with the comments to explain what the sample code will do, like this.  \r\n(The screenshot below was taken on my GitHub repository https://github.com/jsakamoto/BlazorWasmPreRendering.Build#hosting-environment .)\r\n\r\n![image](https://user-images.githubusercontent.com/95908/158529041-3b2a98b3-56f0-4668-a8ef-face036471e1.png)\r\n\r\nHowever, even though the same README text, **only the HTML comments are disappeared on nuget.org even though the other HTML tags are still kept.**  \r\n(The screenshot below was taken on nuget.org https://www.nuget.org/packages/BlazorWasmPreRendering.Build/ .)\r\n\r\n![image](https://user-images.githubusercontent.com/95908/158529079-77e86c58-3c48-42d0-aea3-1f9b75afe649.png)\r\n\r\nThat sample HTML code in a README on nuget.org became no longer makes sense as a sample code due to be invisible the explaining comments.\n\n### Repro Steps\n\n1. Write a \"Readme\" on the package editor form on the nuget.org like this:\r\n\r\n        ```html\r\n        <!-- This is comment -->\r\n        <div>Hello</div>\r\n        ```\r\n\r\n2. Click the \"Preview\" button. Then, the preview screen renders only the `<div>Hello</div>` tag.\r\n\r\n        <div>Hello</div>\n\n### Expected Behavior\n\nI expected the HTML comment also to be rendered in the preview screen like this, because the comment is written in the preformatted area.\r\n\r\n    <!-- This is comment -->\r\n    <div>Hello</div>\r\n\n\n### Screenshots\n\n### Editing\r\n\r\n![image](https://user-images.githubusercontent.com/95908/158528731-e77980e7-7e17-4d88-9186-4d30b755454c.png)\r\n\r\n### Previewing\r\n\r\n![image](https://user-images.githubusercontent.com/95908/158528749-30f5ebb1-0b99-4de6-809d-21d1bcff2738.png)\r\n\n\n### Additional Context and logs\n\n_No response_"},{"Id":"20768629242","Type":"PullRequestEvent","CreatedAt":"2022-03-16T00:22:10","Actor":"advay26","Repository":"NuGet/NuGetGallery","Organization":"NuGet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/NuGet/NuGetGallery/pull/9059","RelatedDescription":"Opened pull request \"[A11y] Adjusted homepage circuit board label sizes to accommodate text spacing\" (#9059) at NuGet/NuGetGallery","RelatedBody":"Addresses https://github.com/nuget/nugetgallery/issues/8988\r\n\r\n**Problem:**\r\n \r\nOn the Home page, when text spacing is applied, the 'package versions' and 'unique packages' text overflows outside its container.\r\n\r\n*NOTE:* I was told to use [codepen.io](https://codepen.io/stevef/pen/YLMqbo/) to apply text spacing, but it can also be achieved by adding this to the stylesheet:\r\n\r\n```\r\n* {\r\n line-height: 1.5 !important;\r\n letter-spacing: 0.12em !important;\r\n word-spacing: 0.16em !important;\r\n}\r\n\r\np{\r\n margin-bottom: 2em !important;\r\n}\r\n```\r\n\r\nRegular home page:\r\n![image](https://user-images.githubusercontent.com/82980589/158491365-c429a6fe-c839-4d63-9fa5-68fb3d1d2306.png)\r\n\r\nAfter applying text spacing:\r\n![image](https://user-images.githubusercontent.com/82980589/158492807-f1b9ac54-2ebe-43cb-938f-664063c72e53.png)\r\n\r\n**Fix:**\r\n\r\nTo fix this, I made the label containers wider to accommodate the expanded text. The resulting UI changes seem minor to look at, but I'm happy to get additional feedback on that.\r\n\r\n**After the changes,**\r\n\r\nRegular home page:\r\n![image](https://user-images.githubusercontent.com/82980589/158492514-77ebd7a9-c9ee-45a8-b6fe-96474326b4b9.png)\r\n\r\nAfter applying text spacing:\r\n![image](https://user-images.githubusercontent.com/82980589/158492829-ee5709a3-ac17-4fbf-8d50-c2d4cf02d241.png)\r\n"},{"Id":"20767150344","Type":"PullRequestEvent","CreatedAt":"2022-03-15T22:00:14","Actor":"dannyjdev","Repository":"NuGet/NuGetGallery","Organization":"NuGet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/NuGet/NuGetGallery/pull/9058","RelatedDescription":"Opened pull request \"[Ally Bug] Installation command copy button reads as table.\" (#9058) at NuGet/NuGetGallery","RelatedBody":"### Changes\r\n- Removed `display: table, table-row, table-cell` from css for installation command styles.\r\n  - Since the installation commands had table layouts, NVDA was announcing this button as part of a table, which was not correct.\r\n- Removed unecessary `div` element from `DisplayPackage.cshtml`\r\n\r\n### Addresses\r\nhttps://github.com/nuget/engineering/issues/4315"}],"ResultType":"GitHubEvent"},"Home":{"Events":[{"Id":"20810599662","Type":"IssuesEvent","CreatedAt":"2022-03-18T01:53:09","Actor":"greengumby","Repository":"NuGet/Home","Organization":"NuGet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/NuGet/Home/issues/11673","RelatedDescription":"Closed issue \"[Bug]: \" (#11673) at NuGet/Home","RelatedBody":"### NuGet Product Used\n\nNuGet.exe\n\n### Product Version\n\nNuGet Version: 6.0.0.280\n\n### Worked before?\n\n_No response_\n\n### Impact\n\nI'm unable to use this version\n\n### Repro Steps & Context\n\nRunning the following;\r\n\r\nnuget pack .\\project.csproj -IncludeReferencedProjects -Verbosity detailed\r\n\r\ncauses the following error\r\n\r\n    nuget : Could not load file or assembly 'System.Memory, Version=4.0.1.1, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51' or one of its \r\n    dependencies. The system cannot find the file specified.\r\n    At line:1 char:1\r\n    + nuget pack .\\project.csproj -IncludeReferencedProjects ...\r\n    + ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n        + CategoryInfo          : NotSpecified: (Could not load ...file specified.:String) [], RemoteException\r\n        + FullyQualifiedErrorId : NativeCommandError\r\n     \r\n    System.IO.FileNotFoundException: Could not load file or assembly 'System.Memory, Version=4.0.1.1, Culture=neutral, \r\n    PublicKeyToken=cc7b13ffcd2ddd51' or one of its dependencies. The system cannot find the file specified.\r\n    File name: 'System.Memory, Version=4.0.1.1, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51'\r\n       at Microsoft.CodeAnalysis.Collections.SegmentedArray.Copy[T](SegmentedArray`1 sourceArray, SegmentedArray`1 destinationArray, Int32 \r\n    length)\r\n\r\n\r\nI have reviewed all referenced projects and transitive dependencies and the only version of System.Memory being pulled into the output is 4.6.2\r\n\r\nIs there a chance something has caused this going from nuget 5.8 to 6.0?\n\n### Verbose Logs\n\n_No response_"},{"Id":"20809045359","Type":"IssuesEvent","CreatedAt":"2022-03-17T23:00:27","Actor":"erdembayar","Repository":"NuGet/Home","Organization":"NuGet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/NuGet/Home/issues/11672","RelatedDescription":"Closed issue \"Re-enable F# tests\" (#11672) at NuGet/Home","RelatedBody":"Re-enable F# tests skipped due to https://github.com/dotnet/fsharp/issues/12835"},{"Id":"20806985775","Type":"IssuesEvent","CreatedAt":"2022-03-17T20:19:59","Actor":"erdembayar","Repository":"NuGet/Home","Organization":"NuGet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/NuGet/Home/issues/11223","RelatedDescription":"Closed issue \"E2E tests that assert web.config binding redirects need to be fixed\" (#11223) at NuGet/Home","RelatedBody":"While testing E2E tests on new infrastrcture, the tests that validate binding redirects in ASP.NET project web.config files are not working. Due to time constraints, these tests are being skipped for now, but need to be fixed."},{"Id":"20806727169","Type":"IssuesEvent","CreatedAt":"2022-03-17T20:02:42","Actor":"jmecosta","Repository":"NuGet/Home","Organization":"NuGet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/NuGet/Home/issues/11674","RelatedDescription":"Closed issue \"[Bug]: asp.net core in IIS \" (#11674) at NuGet/Home","RelatedBody":"### NuGet Product Used\n\nNuGet SDK\n\n### Product Version\n\n6.1.0\n\n### Worked before?\n\n_No response_\n\n### Impact\n\nI'm unable to use this version\n\n### Repro Steps & Context\n\ncreate a asp.net core app and run on IIS\r\n```\r\n      <aspNetCore processPath=\"%LAUNCHER_PATH%\" arguments=\"%LAUNCHER_ARGS%\" stdoutLogEnabled=\"true\" stdoutLogFile=\".\\logs\\stdout\" hostingModel=\"inprocess\">\r\n        <environmentVariables>\r\n          <environmentVariable name=\"COMPLUS_ForceENC\" value=\"1\" />\r\n          <environmentVariable name=\"ASPNETCORE_ENVIRONMENT\" value=\"Production\" />\r\n        </environmentVariables>\r\n      </aspNetCore>\r\n```\r\n\r\non a IHostedServive, use:\r\n```\r\nILogger logger = NullLogger.Instance;\r\n            CancellationToken cancellationToken = CancellationToken.None;\r\n            SourceCacheContext cache = new SourceCacheContext();\r\n            SourceRepository repository = Repository.Factory.GetCoreV3(feedUrl);\r\n            FindPackageByIdResource resource = await repository.GetResourceAsync<FindPackageByIdResource>();\r\n```\r\n\r\nThis will throw the following exception:\r\n\r\n```\r\nApplication: w3wp.exe\r\nCoreCLR Version: 5.0.1422.5710\r\n.NET Version: 5.0.14\r\nDescription: The process was terminated due to an unhandled exception.\r\nException Info: NuGet.Protocol.Core.Types.FatalProtocolException: Unable to load the service index for source http://ts-nuget.teklaad.tekla.com/nuget/ts-nuget/v3/index.json.\r\n ---> System.UnauthorizedAccessException: Access to the path 'C:\\Windows\\system32\\config\\systemprofile' is denied.\r\n   at System.IO.FileSystem.CreateDirectory(String fullPath, Byte[] securityDescriptor)\r\n   at System.IO.Directory.CreateDirectory(String path)\r\n   at NuGet.Configuration.Settings.LoadUserSpecificSettings(String root, String configFileName, Boolean useTestingGlobalPath, SettingsLoadingContext settingsLoadingContext)+MoveNext()\r\n   at System.Collections.Generic.List`1.InsertRange(Int32 index, IEnumerable`1 collection)\r\n   at NuGet.Configuration.Settings.LoadSettingsForSpecificConfigs(String root, String configFileName, List`1 validSettingFiles, IMachineWideSettings machineWideSettings, Boolean loadUserWideSettings, Boolean useTestingGlobalPath, SettingsLoadingContext settingsLoadingContext)\r\n   at NuGet.Configuration.Settings.LoadSettings(String root, String configFileName, IMachineWideSettings machineWideSettings, Boolean loadUserWideSettings, Boolean useTestingGlobalPath, SettingsLoadingContext settingsLoadingContext)\r\n   at NuGet.Configuration.Settings.LoadDefaultSettings(String root, String configFileName, IMachineWideSettings machineWideSettings, SettingsLoadingContext settingsLoadingContext)\r\n   at NuGet.Configuration.Settings.LoadDefaultSettings(String root, String configFileName, IMachineWideSettings machineWideSettings)\r\n   at NuGet.Configuration.ProxyCache.FromDefaultSettings()\r\n   at NuGet.Configuration.ProxyCache.<>c.<.cctor>b__18_0()\r\n   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)\r\n--- End of stack trace from previous location ---\r\n   at System.Lazy`1.CreateValue()\r\n   at NuGet.Configuration.ProxyCache.get_Instance()\r\n   at NuGet.Protocol.HttpHandlerResourceV3Provider.CreateResource(PackageSource packageSource)\r\n   at NuGet.Protocol.HttpHandlerResourceV3Provider.TryCreate(SourceRepository source, CancellationToken token)\r\n   at NuGet.Protocol.Core.Types.SourceRepository.GetResourceAsync[T](CancellationToken token)\r\n   at NuGet.Protocol.Core.Types.SourceRepository.GetResourceAsync[T]()\r\n   at NuGet.Protocol.HttpSource.CreateHttpClientAsync()\r\n   at NuGet.Protocol.HttpSource.EnsureHttpClientAsync()\r\n   at NuGet.Protocol.HttpSource.GetThrottledResponse(Func`1 requestFactory, TimeSpan requestTimeout, TimeSpan downloadTimeout, Int32 maxTries, Boolean isRetry, Boolean isLastAttempt, Guid sessionId, ILogger log, CancellationToken cancellationToken)\r\n   at NuGet.Protocol.HttpSource.<>c__DisplayClass15_0`1.<<GetAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at NuGet.Common.ConcurrencyUtilities.ExecuteWithFileLockedAsync[T](String filePath, Func`2 action, CancellationToken token)\r\n   at NuGet.Common.ConcurrencyUtilities.ExecuteWithFileLockedAsync[T](String filePath, Func`2 action, CancellationToken token)\r\n   at NuGet.Protocol.HttpSource.GetAsync[T](HttpSourceCachedRequest request, Func`2 processAsync, ILogger log, CancellationToken token)\r\n   at NuGet.Protocol.ServiceIndexResourceV3Provider.GetServiceIndexResourceV3(SourceRepository source, DateTime utcNow, ILogger log, CancellationToken token)\r\n   --- End of inner exception stack trace ---\r\n   at NuGet.Protocol.ServiceIndexResourceV3Provider.GetServiceIndexResourceV3(SourceRepository source, DateTime utcNow, ILogger log, CancellationToken token)\r\n   at NuGet.Protocol.ServiceIndexResourceV3Provider.TryCreate(SourceRepository source, CancellationToken token)\r\n   at NuGet.Protocol.Core.Types.SourceRepository.GetResourceAsync[T](CancellationToken token)\r\n   at NuGet.Protocol.Core.Types.SourceRepository.GetResourceAsync[T]()\r\n   at NuGet.Protocol.HttpFileSystemBasedFindPackageByIdResourceProvider.TryCreate(SourceRepository sourceRepository, CancellationToken token)\r\n   at NuGet.Protocol.Core.Types.SourceRepository.GetResourceAsync[T](CancellationToken token)\r\n   at NuGet.Protocol.Core.Types.SourceRepository.GetResourceAsync[T]()\r\n   at TeklaQualityHub.Services.TsPackageService.getLatestVersionFromFeedByPackage(String packageName, String feedUrl) in D:\\prod\\BatTools\\teklaqualityhub\\TeklaQualityHub\\Services\\TsPackageService.cs:line 207\r\n   at TeklaQualityHub.Services.TsPackageService.UpdateVersion(TsPackage package, String urlFeed) in D:\\prod\\BatTools\\teklaqualityhub\\TeklaQualityHub\\Services\\TsPackageService.cs:line 190\r\n   at TeklaQualityHub.Services.TsPackageService.SetLatestVersionsFromFeed(IConfiguration configuration) in D:\\prod\\BatTools\\teklaqualityhub\\TeklaQualityHub\\Services\\TsPackageService.cs:line 172\r\n   at TeklaQualityHub.Services.TsPackageService.DoWork(Object state) in D:\\prod\\BatTools\\teklaqualityhub\\TeklaQualityHub\\Services\\TsPackageService.cs:line 117\r\n   at System.Threading.Tasks.Task.<>c.<ThrowAsync>b__140_1(Object state)\r\n   at System.Threading.QueueUserWorkItemCallback.Execute()\r\n   at System.Threading.ThreadPoolWorkQueue.Dispatch()\r\n```\r\n\r\nChanging the permissions of C:\\Windows\\system32\\config\\systemprofile for IIS_USRS makes the exception go away but the application no longer works as it worked earlier so this is not an option\r\n\r\nIve changed NUGET_PACKAGES to c:\\Temp\\packages without success. \r\n\r\nHow to configure the cache so it goes to write location for the IIS_USR user\r\n\r\nthanks in advance\r\n\n\n### Verbose Logs\n\n_No response_"},{"Id":"20805647468","Type":"IssuesEvent","CreatedAt":"2022-03-17T18:53:31","Actor":"nkolev92","Repository":"NuGet/Home","Organization":"NuGet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/NuGet/Home/issues/11670","RelatedDescription":"Closed issue \"[Bug]: The NuGet restore phase is brittle and is subject to race conditions resulting sometimes in corrupted package directories\" (#11670) at NuGet/Home","RelatedBody":"### NuGet Product Used\n\nMSBuild.exe\n\n### Product Version\n\n16.11.0.36601\n\n### Worked before?\n\n_No response_\n\n### Impact\n\nIt's more difficult to complete my work\n\n### Repro Steps & Context\n\nIt happens on our Azure DevOps Server 2020 (on-prem) when running different builds concurrently.\r\nThe problem is that we cannot reliably reproduce it. But it happens once every week roughly. \r\nWe send the build telemetry to Azure AppInsights, which makes it easy to query the history. For example, consider the following query (today is 2022-03-11):\r\n```\r\nAllTasks\r\n| where taskStartTime > todatetime('2022-02-22T16:22:19.0831834Z')\r\n    and taskResult == 'failed' and error contains \"NuGet.targets\" and not(error contains \"required nuspec file\")\r\n    and tostring(taskCustomDimensions.taskType) == 'Task'\r\n    and buildDef != 'azure-pipelines-sq-wfm-ci-cs' // this is an experimental build\r\n| project buildDef, taskName, buildNumber, taskAgentComputerName, taskStartTime, taskRunDuration, error = substring(error, strlen('C:\\\\Program Files (x86)\\\\Microsoft Visual Studio\\\\2019\\\\BuildTools\\\\Common7\\\\IDE\\\\CommonExtensions\\\\Microsoft\\\\NuGet\\\\NuGet.targets(131,5): Error : '))\r\n| order by taskStartTime\r\n```\r\nThis query produces the following result:\r\n<html>\r\n<body>\r\n\r\nbuildDef | taskName | buildNumber | taskAgentComputerName | taskStartTime | taskRunDuration | error\r\n-- | -- | -- | -- | -- | -- | --\r\nxyz-master-PR | Build DataSvc | 63.0.0.06910-5403-498 | TDC5DFC1BLD08 | 2022-03-10T16:05:54.9066667Z | 00:00:23 | The process cannot access the file 'C:\\Users\\G5TFSBuild\\.nuget\\packages\\xyz.payroll.engine.dataprovider\\63.0.0.75\\.nupkg.metadata' because it is being used by another process. Process 'msbuild.exe' exited with code '1'.\r\nxyz-PR-AzureTest-08 | Build DataSvc | 63.0.0.06816-2419-983 | AZG1PR1BLD01 | 2022-03-09T21:30:33.2833333Z | 00:00:18 | The process cannot access the file 'C:\\Users\\g5tfsbuild\\.nuget\\packages\\xyz.payroll.datadomain\\1.1.0.24\\xyz.Payroll.DataDomain.nuspec' because it is being used by another process. Process 'msbuild.exe' exited with code '1'.\r\nxyz-PR-AzureTest-08 | Build DataSvc | 63.0.0.06816-2426-984 | AZG1PR1BLD01 | 2022-03-09T21:30:33.2633333Z | 00:00:18 | Could not find file 'C:\\Users\\g5tfsbuild\\.nuget\\packages\\xyz.payroll.engine.taxengine\\63.0.0.72\\ca1ntxq3.v2a'. Process 'msbuild.exe' exited with code '1'.\r\nxyz-master-SQ | Build Main | 63.0.0.05909-fulljs | TDC5DFC1BLD29 | 2022-02-28T15:40:29.7333333Z | 00:00:12 | Failed to retrieve information about 'UpdateProjectMetadata' from remote source 'https://nuget.devexpress.com/bla-bla-bla/api/FindPackagesById()?id='UpdateProjectMetadata'&semVerLevel=2.0.0'.   Response status code does not indicate success: 502 (Bad Gateway). Process 'msbuild.exe' exited with code '1'.\r\nxyz-hf62-PR | Build DataSvc | 62.0.0.05415-0234-722 | TOR4DFC1BLD01 | 2022-02-23T21:38:49.1066667Z | 00:00:35 | Could not find file 'C:\\Users\\G5TFSBuild\\.nuget\\packages\\xyz.payroll.engine.payrollengine\\62.0.0.434\\rtkd102g.o4h'. Process 'msbuild.exe' exited with code '1'.\r\nxyz-hf62-PR | Build DataSvc | 62.0.0.05415-1141-723 | TOR4DFC1BLD01 | 2022-02-23T21:38:49.1033333Z | 00:00:35 | Could not find file 'C:\\Users\\G5TFSBuild\\.nuget\\packages\\xyz.payroll.engine.payrollengine\\62.0.0.434\\uqjswqpj.ybn'. Process 'msbuild.exe' exited with code '1'.\r\nxyz-PR-AzureTest-09 | Build DataSvc | 62.0.0.05312-0819-940 | AZG5DFC1BLD09 | 2022-02-22T18:27:49.1533333Z | 00:00:29 | Access to the path is denied. Process 'msbuild.exe' exited with code '1'.\r\nxyz-PR-AzureTest-09 | Build DataSvc | 62.0.0.05312-0809-939 | AZG5DFC1BLD09 | 2022-02-22T18:27:49.14Z | 00:00:29 | The process cannot access the file 'nrfpkqkz.rq1' because it is being used by another process. Process 'msbuild.exe' exited with code '1'.\r\nxyz-r62-PR | Build DataSvc | 62.0.0.05311-5243-705 | TDC5DFC1BLD19 | 2022-02-22T16:59:38.3166667Z | 00:00:14 | Failed to retrieve information about 'GenerateBindingRedirects' from remote source 'http://tfs:8080/tfs/DefaultCollection/_packaging/48f434f6-c697-4ae9-93e4-9024b238ed36/nuget/v3/flat2/generatebindingredirects/index.json'.   Response status code does not indicate success: 503 (Service Unavailable). Process 'msbuild.exe' exited with code '1'.\r\nGC_r61 | Build Deployer | 61.0.0.05310 | TDC5DFC1BLD21 | 2022-02-22T16:59:28.77Z | 00:00:31 | Failed to retrieve information about 'GenerateBindingRedirects' from remote source 'http://tfs:8080/tfs/DefaultCollection/_packaging/48f434f6-c697-4ae9-93e4-9024b238ed36/nuget/v3/flat2/generatebindingredirects/index.json'.   Response status code does not indicate success: 503 (Service Unavailable). Process 'msbuild.exe' exited with code '1'.\r\n\r\n</body>\r\n</html>\r\n\r\nThere are 2 kinds of errors:\r\n\r\n1. A momentary (or not) network issue\r\n   There are 3 incidents. Clearly not nuget's fault. However, when building multiple solutions (which comprise the single enterprise application) it could fail the build after 30 minutes - not fail fast. It is possible to restructure the build to first restore all the packages and then run the build. This way it would fail fast. On the other hand, I wonder if nuget can be told to retry with timeouts in order to survive what could be a short network blackout.\r\n1. IO related failures\r\n   This one is more serious because it seems there is some kind of a race condition when multiple builds running on the same machine try to restore the same packages.\r\n\r\nThe IO issue is very problematic because it can result in a corrupt NuGet package directory with a missing nuspec file. This is a poisonous error - it would not heal itself. The only resolution is to delete the respective NuGet package folder to force its restoration. I specifically excluded this kind of errors from the report, but we had 22 instances of it in the same period of time and they are the worst, because of the manual intervention necessary to fix them.\r\n\r\nI tried to reproduce the issue by forcing concurrent restorations with `msbuild /t:restore`, but I am unable to reproduce it reliably. Done about a thousand attempts and only one IO failure occurred - **C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\Common7\\IDE\\CommonExtensions\\Microsoft\\NuGet\\NuGet.targets(131,5): error : The process cannot access the file because it is being used by another process.** And it is a weird one - no file path is given.\r\n\r\nI would like to know how to troubleshoot these issues? Do we have tools to affect the retries/timeouts for the intermittent network issues? Do we have tools for IO errors? Are there any logs we can turn on to facilitate the IO troubleshooting? The msbuild binary log does not seem very relevant here.\n\n### Verbose Logs\n\n_No response_"},{"Id":"20805584324","Type":"IssuesEvent","CreatedAt":"2022-03-17T18:49:38","Actor":"nkolev92","Repository":"NuGet/Home","Organization":"NuGet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/NuGet/Home/issues/11642","RelatedDescription":"Closed issue \"[Bug]: Locked mode restore does not work as soon as there is another project in the same solution\" (#11642) at NuGet/Home","RelatedBody":"### NuGet Product Used\r\n\r\ndotnet.exe\r\n\r\n### Product Version\r\n\r\ndotnet 6.0.200\r\n\r\n### Worked before?\r\n\r\n_No response_\r\n\r\n### Impact\r\n\r\nI'm unable to use this version\r\n\r\n### Repro Steps & Context\r\n\r\n1. Extract example project \r\n[HelloWorldOfPackageLockFiles_buggy.zip](https://github.com/NuGet/Home/files/8178845/HelloWorldOfPackageLockFiles_buggy.zip)\r\n\r\n2. Run `dotnet restore --locked-mode` inside the example project\r\n3. Get error \r\n```\r\nC:\\Users\\stw\\work\\HelloWorldOfPackageLockFiles_buggy\\Tests\\Tests.csproj : error NU1004: Das Projekt verweist auf \"hellow\r\norldofpackagelockfiles\", deren Abh√§ngigkeiten ge√§ndert wurden.Die Paketsperrdatei stimmt nicht mit den Projektabh√§ngigke\r\niten √ºberein, daher kann die Wiederherstellung nicht im gesperrten Modus ausgef√ºhrt werden. Deaktivieren Sie die MSBuild\r\n-Eigenschaft \"RestoreLockedMode\", oder √ºbergeben Sie eine explizite Option \"--force-evaluate\", um die Sperrdatei zu aktu\r\nalisieren. [C:\\Users\\stw\\work\\HelloWorldOfPackageLockFiles_buggy\\HelloWorldOfPackageLockFiles.sln]\r\n```\r\n4. Retry with `dotnet restore --locked-mode --force-evaluate`. Works but no  `packages.lock.json` is generated so nothing to commit. If i check the repo out again the same error happens\r\n\r\n\r\nLog of `dotnet restore --locked-mode --verbosity diag` in\r\n[diag.log](https://github.com/NuGet/Home/files/8178837/diag.log)\r\n\r\n\r\n\r\n\r\n### Verbose Logs\r\n\r\n```shell\r\nSee repro steps, its in the attachments there\r\n```\r\n"}],"ResultType":"GitHubEvent"},"Announcements":{"Events":[{"Id":"20398585964","Type":"IssuesEvent","CreatedAt":"2022-02-22T18:32:01","Actor":"clairernovotny","Repository":"NuGet/Announcements","Organization":"NuGet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/NuGet/Announcements/issues/61","RelatedDescription":"Opened issue \"Requiring two-factor authentication on NuGet.org\" (#61) at NuGet/Announcements","RelatedBody":"We announced plans to require tFA on all accounts on NuGet.org. Details in the [blog post](https://devblogs.microsoft.com/nuget/requiring-two-factor-authentication-on-nuget-org/)."}],"ResultType":"GitHubEvent"},"Twitter":{"ResultType":"TwitterTimeline","Tweets":[{"Id":"1496195887860797445","CreatedAt":"2022-02-22T18:51:12+00:00","UserScreenname":"nuget","Text":"Continuing our commitment to security, https://t.co/F9kiKfvqkS will require two-factor authentication starting on M‚Ä¶ https://t.co/U5EIVMPYXI","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":59,"FavoriteCount":21,"RawContent":null},{"Id":"1493700008000073731","CreatedAt":"2022-02-15T21:33:28+00:00","UserScreenname":"nuget","Text":"üì¶Introducing Compatible Packages üì¶\n\nüñº New Frameworks Tab\nüòé Target Framework Badges\nüß© Computed Compatibility Table\nüõ†‚Ä¶ https://t.co/qDUkqayBjC","Source":"<a href=\"https://mobile.twitter.com\" rel=\"nofollow\">Twitter Web App</a>","RetweetCount":171,"FavoriteCount":43,"RawContent":null},{"Id":"1488563020074737670","CreatedAt":"2022-02-01T17:20:54+00:00","UserScreenname":"nuget","Text":"NuGet is celebrating 20 years of @dotnet with over 290,000 unique packages and 160 billion downloads to date! Tune‚Ä¶ https://t.co/kCkBuvp3OW","Source":"<a href=\"https://mobile.twitter.com\" rel=\"nofollow\">Twitter Web App</a>","RetweetCount":25,"FavoriteCount":12,"RawContent":null},{"Id":"1470426335705239557","CreatedAt":"2021-12-13T16:12:12+00:00","UserScreenname":"nuget","Text":"Hey friends, üëã\n\nWe just published another proposal to bring machine readable json output for dotnet list package co‚Ä¶ https://t.co/iffXek2eSz","Source":"<a href=\"https://mobile.twitter.com\" rel=\"nofollow\">Twitter Web App</a>","RetweetCount":9,"FavoriteCount":7,"RawContent":null},{"Id":"1458922810328371207","CreatedAt":"2021-11-11T22:21:18+00:00","UserScreenname":"nuget","Text":"Hi friends üëã\n\nHelp us deliver an amazing target framework filtering package search experience by reviewing our prop‚Ä¶ https://t.co/AYWrsHhZcZ","Source":"<a href=\"https://mobile.twitter.com\" rel=\"nofollow\">Twitter Web App</a>","RetweetCount":13,"FavoriteCount":5,"RawContent":null},{"Id":"1457785562614493192","CreatedAt":"2021-11-08T19:02:17+00:00","UserScreenname":"nuget","Text":"üö¢ Announcing #NuGet 6.0! \n \nüìç Source mapping\n6Ô∏è‚É£ .NET 6 Support\nüîí Package Vulnerabilities\nüßë‚Äçüî¨ Retry &amp; Backoff Behav‚Ä¶ https://t.co/qIK6tRSw87","Source":"<a href=\"https://mobile.twitter.com\" rel=\"nofollow\">Twitter Web App</a>","RetweetCount":165,"FavoriteCount":61,"RawContent":null},{"Id":"1448351779423457281","CreatedAt":"2021-10-13T18:15:47+00:00","UserScreenname":"nuget","Text":"Help us understand your package push workflow! https://t.co/7zALBMJ0xH","Source":"<a href=\"https://mobile.twitter.com\" rel=\"nofollow\">Twitter Web App</a>","RetweetCount":2,"FavoriteCount":1,"RawContent":null},{"Id":"1438283829102456833","CreatedAt":"2021-09-15T23:29:21+00:00","UserScreenname":"nuget","Text":"üôåNew feature announcementüôå\n\nMap packages to target sources using Package Source Mapping üó∫Ô∏è\n\nSecuring your package s‚Ä¶ https://t.co/UCSO5dcMpz","Source":"<a href=\"https://mobile.twitter.com\" rel=\"nofollow\">Twitter Web App</a>","RetweetCount":69,"FavoriteCount":30,"RawContent":null},{"Id":"1417880494994198529","CreatedAt":"2021-07-21T16:13:47+00:00","UserScreenname":"nuget","Text":"https://t.co/F9kiKfdOWi will be migrating towards a new multi-CDN infrastructure. Some changes for older TLS cipher‚Ä¶ https://t.co/aLVVZEHJd3","Source":"<a href=\"https://mobile.twitter.com\" rel=\"nofollow\">Twitter Web App</a>","RetweetCount":13,"FavoriteCount":6,"RawContent":null}]}},"RunOn":"2022-03-18T03:30:23.5260518Z","RunDurationInMilliseconds":1353}